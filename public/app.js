(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
// Generated by LiveScript 1.3.1
var ref$, log, delay, id, EditorCM, World2D, World3D, Evaluator, world, evaluator, editor, doubleHelix2d, doubleHelix3d;
ref$ = require('./helpers'), log = ref$.log, delay = ref$.delay;
id = require('prelude-ls').id;
EditorCM = require('./editor').EditorCM;
World2D = require('./world-2d').World2D;
World3D = require('./world-3d').World3D;
Evaluator = require('./evaluator').Evaluator;
world = new World3D;
evaluator = new Evaluator('livescript');
editor = new EditorCM({
  mode: 'livescript'
});
doubleHelix2d = "count = 50\nsize = canvas.height/count\nwidth = canvas.width/3\nspeed = 0.002\n\n@frame = (time) ->\n  for i in [0 to count]\n    amp = Math.sin(time*speed + i * Math.PI / 24)\n    pos = canvas.width/2 + width/2 * amp\n    col = Math.sin(time*speed + i * Math.PI / 24 + Math.PI/2)\n    ctx.fill-style = \"rgb(#{128 + Math.floor(col/2 * 255)}, 0, 0)\"\n    ctx.fill-rect pos, size * i, size, size * 4\n\n    amp = -Math.sin(time*speed + i * Math.PI / 24)\n    col = -Math.sin(time*speed + i * Math.PI / 24 + Math.PI/2)\n    pos = canvas.width/2 + width/2 * amp\n    ctx.fill-style = \"rgb(0, 0, #{128 + Math.floor(col/2 * 255)})\"\n    ctx.fill-rect pos, size * i, size, size * 4";
doubleHelix3d = "geom = new THREE.BoxGeometry 1, 1, 1\nred  = new THREE.MeshBasicMaterial color: 0xdd0000\nblue = new THREE.MeshBasicMaterial color: 0x0000dd\nlight = new THREE.PointLight 0xffffff, 1, 100\nlight.position.set 0, 0, 30\nscene.add light\ncamera.position.z = 35\n\ncount = 50\nspeed = 0.002\nr     = 5\n\n@cubes = for i in [0 to count]\n  scene.add red-cube   = new THREE.Mesh geom, red\n  scene.add blue-cube  = new THREE.Mesh geom, blue\n  red-cube.position.y  = -count/2 + i\n  blue-cube.position.y = -count/2 + i\n  [ red-cube, blue-cube ]\n\n@frame = (time) ->\n  for [ red, blue ], i in @cubes\n    red.position.z = -Math.sin(time*speed + i * Math.PI / 24) * r\n    red.position.x = -Math.cos(time*speed + i * Math.PI / 24) * r\n    blue.position.z = Math.sin(time*speed + i * Math.PI / 24) * r\n    blue.position.x = Math.cos(time*speed + i * Math.PI / 24) * r";
ref$ = evaluator.globals;
ref$.log = log;
ref$.canvas = world.canvas;
ref$.ctx = world.ctx;
ref$ = evaluator.globals;
ref$.THREE = THREE;
ref$.scene = world.scene;
ref$.camera = world.camera;
editor.install(document.body);
editor.load(doubleHelix3d);
editor.onExecute(bind$(evaluator, 'eval'));
world.install(document.body);
delay(300, function(){
  editor.executeAll();
  return world.start(function(){
    return evaluator.scope.frame.apply(evaluator.scope, arguments);
  });
});
function bind$(obj, key, target){
  return function(){ return (target || obj)[key].apply(obj, arguments) };
}
},{"./editor":39,"./evaluator":40,"./helpers":41,"./world-2d":42,"./world-3d":43,"prelude-ls":7}],2:[function(require,module,exports){
// Generated by LiveScript 1.2.0
var apply, curry, flip, fix, over;
apply = curry$(function(f, list){
  return f.apply(null, list);
});
curry = function(f){
  return curry$(f);
};
flip = curry$(function(f, x, y){
  return f(y, x);
});
fix = function(f){
  return function(g){
    return function(){
      return f(g(g)).apply(null, arguments);
    };
  }(function(g){
    return function(){
      return f(g(g)).apply(null, arguments);
    };
  });
};
over = curry$(function(f, g, x, y){
  return f(g(x), g(y));
});
module.exports = {
  curry: curry,
  flip: flip,
  fix: fix,
  apply: apply,
  over: over
};
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
},{}],3:[function(require,module,exports){
// Generated by LiveScript 1.2.0
var each, map, compact, filter, reject, partition, find, head, first, tail, last, initial, empty, reverse, unique, uniqueBy, fold, foldl, fold1, foldl1, foldr, foldr1, unfoldr, concat, concatMap, flatten, difference, intersection, union, countBy, groupBy, andList, orList, any, all, sort, sortWith, sortBy, sum, product, mean, average, maximum, minimum, maximumBy, minimumBy, scan, scanl, scan1, scanl1, scanr, scanr1, slice, take, drop, splitAt, takeWhile, dropWhile, span, breakList, zip, zipWith, zipAll, zipAllWith, at, elemIndex, elemIndices, findIndex, findIndices, toString$ = {}.toString, slice$ = [].slice;
each = curry$(function(f, xs){
  var i$, len$, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    f(x);
  }
  return xs;
});
map = curry$(function(f, xs){
  var i$, len$, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    results$.push(f(x));
  }
  return results$;
});
compact = function(xs){
  var i$, len$, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (x) {
      results$.push(x);
    }
  }
  return results$;
};
filter = curry$(function(f, xs){
  var i$, len$, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (f(x)) {
      results$.push(x);
    }
  }
  return results$;
});
reject = curry$(function(f, xs){
  var i$, len$, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (!f(x)) {
      results$.push(x);
    }
  }
  return results$;
});
partition = curry$(function(f, xs){
  var passed, failed, i$, len$, x;
  passed = [];
  failed = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    (f(x) ? passed : failed).push(x);
  }
  return [passed, failed];
});
find = curry$(function(f, xs){
  var i$, len$, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (f(x)) {
      return x;
    }
  }
});
head = first = function(xs){
  return xs[0];
};
tail = function(xs){
  if (!xs.length) {
    return;
  }
  return xs.slice(1);
};
last = function(xs){
  return xs[xs.length - 1];
};
initial = function(xs){
  if (!xs.length) {
    return;
  }
  return xs.slice(0, -1);
};
empty = function(xs){
  return !xs.length;
};
reverse = function(xs){
  return xs.concat().reverse();
};
unique = function(xs){
  var result, i$, len$, x;
  result = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (!in$(x, result)) {
      result.push(x);
    }
  }
  return result;
};
uniqueBy = curry$(function(f, xs){
  var seen, i$, len$, x, val, results$ = [];
  seen = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    val = f(x);
    if (in$(val, seen)) {
      continue;
    }
    seen.push(val);
    results$.push(x);
  }
  return results$;
});
fold = foldl = curry$(function(f, memo, xs){
  var i$, len$, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    memo = f(memo, x);
  }
  return memo;
});
fold1 = foldl1 = curry$(function(f, xs){
  return fold(f, xs[0], xs.slice(1));
});
foldr = curry$(function(f, memo, xs){
  var i$, x;
  for (i$ = xs.length - 1; i$ >= 0; --i$) {
    x = xs[i$];
    memo = f(x, memo);
  }
  return memo;
});
foldr1 = curry$(function(f, xs){
  return foldr(f, xs[xs.length - 1], xs.slice(0, -1));
});
unfoldr = curry$(function(f, b){
  var result, x, that;
  result = [];
  x = b;
  while ((that = f(x)) != null) {
    result.push(that[0]);
    x = that[1];
  }
  return result;
});
concat = function(xss){
  return [].concat.apply([], xss);
};
concatMap = curry$(function(f, xs){
  var x;
  return [].concat.apply([], (function(){
    var i$, ref$, len$, results$ = [];
    for (i$ = 0, len$ = (ref$ = xs).length; i$ < len$; ++i$) {
      x = ref$[i$];
      results$.push(f(x));
    }
    return results$;
  }()));
});
flatten = function(xs){
  var x;
  return [].concat.apply([], (function(){
    var i$, ref$, len$, results$ = [];
    for (i$ = 0, len$ = (ref$ = xs).length; i$ < len$; ++i$) {
      x = ref$[i$];
      if (toString$.call(x).slice(8, -1) === 'Array') {
        results$.push(flatten(x));
      } else {
        results$.push(x);
      }
    }
    return results$;
  }()));
};
difference = function(xs){
  var yss, results, i$, len$, x, j$, len1$, ys;
  yss = slice$.call(arguments, 1);
  results = [];
  outer: for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    for (j$ = 0, len1$ = yss.length; j$ < len1$; ++j$) {
      ys = yss[j$];
      if (in$(x, ys)) {
        continue outer;
      }
    }
    results.push(x);
  }
  return results;
};
intersection = function(xs){
  var yss, results, i$, len$, x, j$, len1$, ys;
  yss = slice$.call(arguments, 1);
  results = [];
  outer: for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    for (j$ = 0, len1$ = yss.length; j$ < len1$; ++j$) {
      ys = yss[j$];
      if (!in$(x, ys)) {
        continue outer;
      }
    }
    results.push(x);
  }
  return results;
};
union = function(){
  var xss, results, i$, len$, xs, j$, len1$, x;
  xss = slice$.call(arguments);
  results = [];
  for (i$ = 0, len$ = xss.length; i$ < len$; ++i$) {
    xs = xss[i$];
    for (j$ = 0, len1$ = xs.length; j$ < len1$; ++j$) {
      x = xs[j$];
      if (!in$(x, results)) {
        results.push(x);
      }
    }
  }
  return results;
};
countBy = curry$(function(f, xs){
  var results, i$, len$, x, key;
  results = {};
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    key = f(x);
    if (key in results) {
      results[key] += 1;
    } else {
      results[key] = 1;
    }
  }
  return results;
});
groupBy = curry$(function(f, xs){
  var results, i$, len$, x, key;
  results = {};
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    key = f(x);
    if (key in results) {
      results[key].push(x);
    } else {
      results[key] = [x];
    }
  }
  return results;
});
andList = function(xs){
  var i$, len$, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (!x) {
      return false;
    }
  }
  return true;
};
orList = function(xs){
  var i$, len$, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (x) {
      return true;
    }
  }
  return false;
};
any = curry$(function(f, xs){
  var i$, len$, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (f(x)) {
      return true;
    }
  }
  return false;
});
all = curry$(function(f, xs){
  var i$, len$, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (!f(x)) {
      return false;
    }
  }
  return true;
});
sort = function(xs){
  return xs.concat().sort(function(x, y){
    if (x > y) {
      return 1;
    } else if (x < y) {
      return -1;
    } else {
      return 0;
    }
  });
};
sortWith = curry$(function(f, xs){
  return xs.concat().sort(f);
});
sortBy = curry$(function(f, xs){
  return xs.concat().sort(function(x, y){
    if (f(x) > f(y)) {
      return 1;
    } else if (f(x) < f(y)) {
      return -1;
    } else {
      return 0;
    }
  });
});
sum = function(xs){
  var result, i$, len$, x;
  result = 0;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    result += x;
  }
  return result;
};
product = function(xs){
  var result, i$, len$, x;
  result = 1;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    result *= x;
  }
  return result;
};
mean = average = function(xs){
  var sum, i$, len$, x;
  sum = 0;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    sum += x;
  }
  return sum / xs.length;
};
maximum = function(xs){
  var max, i$, ref$, len$, x;
  max = xs[0];
  for (i$ = 0, len$ = (ref$ = xs.slice(1)).length; i$ < len$; ++i$) {
    x = ref$[i$];
    if (x > max) {
      max = x;
    }
  }
  return max;
};
minimum = function(xs){
  var min, i$, ref$, len$, x;
  min = xs[0];
  for (i$ = 0, len$ = (ref$ = xs.slice(1)).length; i$ < len$; ++i$) {
    x = ref$[i$];
    if (x < min) {
      min = x;
    }
  }
  return min;
};
maximumBy = curry$(function(f, xs){
  var max, i$, ref$, len$, x;
  max = xs[0];
  for (i$ = 0, len$ = (ref$ = xs.slice(1)).length; i$ < len$; ++i$) {
    x = ref$[i$];
    if (f(x) > f(max)) {
      max = x;
    }
  }
  return max;
});
minimumBy = curry$(function(f, xs){
  var min, i$, ref$, len$, x;
  min = xs[0];
  for (i$ = 0, len$ = (ref$ = xs.slice(1)).length; i$ < len$; ++i$) {
    x = ref$[i$];
    if (f(x) < f(min)) {
      min = x;
    }
  }
  return min;
});
scan = scanl = curry$(function(f, memo, xs){
  var last, x;
  last = memo;
  return [memo].concat((function(){
    var i$, ref$, len$, results$ = [];
    for (i$ = 0, len$ = (ref$ = xs).length; i$ < len$; ++i$) {
      x = ref$[i$];
      results$.push(last = f(last, x));
    }
    return results$;
  }()));
});
scan1 = scanl1 = curry$(function(f, xs){
  if (!xs.length) {
    return;
  }
  return scan(f, xs[0], xs.slice(1));
});
scanr = curry$(function(f, memo, xs){
  xs = xs.concat().reverse();
  return scan(f, memo, xs).reverse();
});
scanr1 = curry$(function(f, xs){
  if (!xs.length) {
    return;
  }
  xs = xs.concat().reverse();
  return scan(f, xs[0], xs.slice(1)).reverse();
});
slice = curry$(function(x, y, xs){
  return xs.slice(x, y);
});
take = curry$(function(n, xs){
  if (n <= 0) {
    return xs.slice(0, 0);
  } else {
    return xs.slice(0, n);
  }
});
drop = curry$(function(n, xs){
  if (n <= 0) {
    return xs;
  } else {
    return xs.slice(n);
  }
});
splitAt = curry$(function(n, xs){
  return [take(n, xs), drop(n, xs)];
});
takeWhile = curry$(function(p, xs){
  var len, i;
  len = xs.length;
  if (!len) {
    return xs;
  }
  i = 0;
  while (i < len && p(xs[i])) {
    i += 1;
  }
  return xs.slice(0, i);
});
dropWhile = curry$(function(p, xs){
  var len, i;
  len = xs.length;
  if (!len) {
    return xs;
  }
  i = 0;
  while (i < len && p(xs[i])) {
    i += 1;
  }
  return xs.slice(i);
});
span = curry$(function(p, xs){
  return [takeWhile(p, xs), dropWhile(p, xs)];
});
breakList = curry$(function(p, xs){
  return span(function(){
    return not$(p.apply(this, arguments));
  }, xs);
});
zip = curry$(function(xs, ys){
  var result, len, i$, len$, i, x;
  result = [];
  len = ys.length;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (i === len) {
      break;
    }
    result.push([x, ys[i]]);
  }
  return result;
});
zipWith = curry$(function(f, xs, ys){
  var result, len, i$, len$, i, x;
  result = [];
  len = ys.length;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (i === len) {
      break;
    }
    result.push(f(x, ys[i]));
  }
  return result;
});
zipAll = function(){
  var xss, minLength, i$, len$, xs, ref$, i, lresult$, j$, results$ = [];
  xss = slice$.call(arguments);
  minLength = 9e9;
  for (i$ = 0, len$ = xss.length; i$ < len$; ++i$) {
    xs = xss[i$];
    minLength <= (ref$ = xs.length) || (minLength = ref$);
  }
  for (i$ = 0; i$ < minLength; ++i$) {
    i = i$;
    lresult$ = [];
    for (j$ = 0, len$ = xss.length; j$ < len$; ++j$) {
      xs = xss[j$];
      lresult$.push(xs[i]);
    }
    results$.push(lresult$);
  }
  return results$;
};
zipAllWith = function(f){
  var xss, minLength, i$, len$, xs, ref$, i, results$ = [];
  xss = slice$.call(arguments, 1);
  minLength = 9e9;
  for (i$ = 0, len$ = xss.length; i$ < len$; ++i$) {
    xs = xss[i$];
    minLength <= (ref$ = xs.length) || (minLength = ref$);
  }
  for (i$ = 0; i$ < minLength; ++i$) {
    i = i$;
    results$.push(f.apply(null, (fn$())));
  }
  return results$;
  function fn$(){
    var i$, ref$, len$, results$ = [];
    for (i$ = 0, len$ = (ref$ = xss).length; i$ < len$; ++i$) {
      xs = ref$[i$];
      results$.push(xs[i]);
    }
    return results$;
  }
};
at = curry$(function(n, xs){
  if (n < 0) {
    return xs[xs.length + n];
  } else {
    return xs[n];
  }
});
elemIndex = curry$(function(el, xs){
  var i$, len$, i, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (x === el) {
      return i;
    }
  }
});
elemIndices = curry$(function(el, xs){
  var i$, len$, i, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (x === el) {
      results$.push(i);
    }
  }
  return results$;
});
findIndex = curry$(function(f, xs){
  var i$, len$, i, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (f(x)) {
      return i;
    }
  }
});
findIndices = curry$(function(f, xs){
  var i$, len$, i, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (f(x)) {
      results$.push(i);
    }
  }
  return results$;
});
module.exports = {
  each: each,
  map: map,
  filter: filter,
  compact: compact,
  reject: reject,
  partition: partition,
  find: find,
  head: head,
  first: first,
  tail: tail,
  last: last,
  initial: initial,
  empty: empty,
  reverse: reverse,
  difference: difference,
  intersection: intersection,
  union: union,
  countBy: countBy,
  groupBy: groupBy,
  fold: fold,
  fold1: fold1,
  foldl: foldl,
  foldl1: foldl1,
  foldr: foldr,
  foldr1: foldr1,
  unfoldr: unfoldr,
  andList: andList,
  orList: orList,
  any: any,
  all: all,
  unique: unique,
  uniqueBy: uniqueBy,
  sort: sort,
  sortWith: sortWith,
  sortBy: sortBy,
  sum: sum,
  product: product,
  mean: mean,
  average: average,
  concat: concat,
  concatMap: concatMap,
  flatten: flatten,
  maximum: maximum,
  minimum: minimum,
  maximumBy: maximumBy,
  minimumBy: minimumBy,
  scan: scan,
  scan1: scan1,
  scanl: scanl,
  scanl1: scanl1,
  scanr: scanr,
  scanr1: scanr1,
  slice: slice,
  take: take,
  drop: drop,
  splitAt: splitAt,
  takeWhile: takeWhile,
  dropWhile: dropWhile,
  span: span,
  breakList: breakList,
  zip: zip,
  zipWith: zipWith,
  zipAll: zipAll,
  zipAllWith: zipAllWith,
  at: at,
  elemIndex: elemIndex,
  elemIndices: elemIndices,
  findIndex: findIndex,
  findIndices: findIndices
};
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
function in$(x, xs){
  var i = -1, l = xs.length >>> 0;
  while (++i < l) if (x === xs[i]) return true;
  return false;
}
function not$(x){ return !x; }
},{}],4:[function(require,module,exports){
// Generated by LiveScript 1.2.0
var max, min, negate, abs, signum, quot, rem, div, mod, recip, pi, tau, exp, sqrt, ln, pow, sin, tan, cos, asin, acos, atan, atan2, truncate, round, ceiling, floor, isItNaN, even, odd, gcd, lcm;
max = curry$(function(x$, y$){
  return x$ > y$ ? x$ : y$;
});
min = curry$(function(x$, y$){
  return x$ < y$ ? x$ : y$;
});
negate = function(x){
  return -x;
};
abs = Math.abs;
signum = function(x){
  if (x < 0) {
    return -1;
  } else if (x > 0) {
    return 1;
  } else {
    return 0;
  }
};
quot = curry$(function(x, y){
  return ~~(x / y);
});
rem = curry$(function(x$, y$){
  return x$ % y$;
});
div = curry$(function(x, y){
  return Math.floor(x / y);
});
mod = curry$(function(x$, y$){
  var ref$;
  return ((x$) % (ref$ = y$) + ref$) % ref$;
});
recip = (function(it){
  return 1 / it;
});
pi = Math.PI;
tau = pi * 2;
exp = Math.exp;
sqrt = Math.sqrt;
ln = Math.log;
pow = curry$(function(x$, y$){
  return Math.pow(x$, y$);
});
sin = Math.sin;
tan = Math.tan;
cos = Math.cos;
asin = Math.asin;
acos = Math.acos;
atan = Math.atan;
atan2 = curry$(function(x, y){
  return Math.atan2(x, y);
});
truncate = function(x){
  return ~~x;
};
round = Math.round;
ceiling = Math.ceil;
floor = Math.floor;
isItNaN = function(x){
  return x !== x;
};
even = function(x){
  return x % 2 === 0;
};
odd = function(x){
  return x % 2 !== 0;
};
gcd = curry$(function(x, y){
  var z;
  x = Math.abs(x);
  y = Math.abs(y);
  while (y !== 0) {
    z = x % y;
    x = y;
    y = z;
  }
  return x;
});
lcm = curry$(function(x, y){
  return Math.abs(Math.floor(x / gcd(x, y) * y));
});
module.exports = {
  max: max,
  min: min,
  negate: negate,
  abs: abs,
  signum: signum,
  quot: quot,
  rem: rem,
  div: div,
  mod: mod,
  recip: recip,
  pi: pi,
  tau: tau,
  exp: exp,
  sqrt: sqrt,
  ln: ln,
  pow: pow,
  sin: sin,
  tan: tan,
  cos: cos,
  acos: acos,
  asin: asin,
  atan: atan,
  atan2: atan2,
  truncate: truncate,
  round: round,
  ceiling: ceiling,
  floor: floor,
  isItNaN: isItNaN,
  even: even,
  odd: odd,
  gcd: gcd,
  lcm: lcm
};
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
},{}],5:[function(require,module,exports){
// Generated by LiveScript 1.2.0
var values, keys, pairsToObj, objToPairs, listsToObj, objToLists, empty, each, map, compact, filter, reject, partition, find;
values = function(object){
  var i$, x, results$ = [];
  for (i$ in object) {
    x = object[i$];
    results$.push(x);
  }
  return results$;
};
keys = function(object){
  var x, results$ = [];
  for (x in object) {
    results$.push(x);
  }
  return results$;
};
pairsToObj = function(object){
  var i$, len$, x, results$ = {};
  for (i$ = 0, len$ = object.length; i$ < len$; ++i$) {
    x = object[i$];
    results$[x[0]] = x[1];
  }
  return results$;
};
objToPairs = function(object){
  var key, value, results$ = [];
  for (key in object) {
    value = object[key];
    results$.push([key, value]);
  }
  return results$;
};
listsToObj = curry$(function(keys, values){
  var i$, len$, i, key, results$ = {};
  for (i$ = 0, len$ = keys.length; i$ < len$; ++i$) {
    i = i$;
    key = keys[i$];
    results$[key] = values[i];
  }
  return results$;
});
objToLists = function(object){
  var keys, values, key, value;
  keys = [];
  values = [];
  for (key in object) {
    value = object[key];
    keys.push(key);
    values.push(value);
  }
  return [keys, values];
};
empty = function(object){
  var x;
  for (x in object) {
    return false;
  }
  return true;
};
each = curry$(function(f, object){
  var i$, x;
  for (i$ in object) {
    x = object[i$];
    f(x);
  }
  return object;
});
map = curry$(function(f, object){
  var k, x, results$ = {};
  for (k in object) {
    x = object[k];
    results$[k] = f(x);
  }
  return results$;
});
compact = function(object){
  var k, x, results$ = {};
  for (k in object) {
    x = object[k];
if (x) {
      results$[k] = x;
    }
  }
  return results$;
};
filter = curry$(function(f, object){
  var k, x, results$ = {};
  for (k in object) {
    x = object[k];
if (f(x)) {
      results$[k] = x;
    }
  }
  return results$;
});
reject = curry$(function(f, object){
  var k, x, results$ = {};
  for (k in object) {
    x = object[k];
if (!f(x)) {
      results$[k] = x;
    }
  }
  return results$;
});
partition = curry$(function(f, object){
  var passed, failed, k, x;
  passed = {};
  failed = {};
  for (k in object) {
    x = object[k];
    (f(x) ? passed : failed)[k] = x;
  }
  return [passed, failed];
});
find = curry$(function(f, object){
  var i$, x;
  for (i$ in object) {
    x = object[i$];
    if (f(x)) {
      return x;
    }
  }
});
module.exports = {
  values: values,
  keys: keys,
  pairsToObj: pairsToObj,
  objToPairs: objToPairs,
  listsToObj: listsToObj,
  objToLists: objToLists,
  empty: empty,
  each: each,
  map: map,
  filter: filter,
  compact: compact,
  reject: reject,
  partition: partition,
  find: find
};
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
},{}],6:[function(require,module,exports){
// Generated by LiveScript 1.2.0
var split, join, lines, unlines, words, unwords, chars, unchars, reverse, repeat, capitalize, camelize, dasherize;
split = curry$(function(sep, str){
  return str.split(sep);
});
join = curry$(function(sep, xs){
  return xs.join(sep);
});
lines = function(str){
  if (!str.length) {
    return [];
  }
  return str.split('\n');
};
unlines = function(it){
  return it.join('\n');
};
words = function(str){
  if (!str.length) {
    return [];
  }
  return str.split(/[ ]+/);
};
unwords = function(it){
  return it.join(' ');
};
chars = function(it){
  return it.split('');
};
unchars = function(it){
  return it.join('');
};
reverse = function(str){
  return str.split('').reverse().join('');
};
repeat = curry$(function(n, str){
  var result, i$;
  result = '';
  for (i$ = 0; i$ < n; ++i$) {
    result += str;
  }
  return result;
});
capitalize = function(str){
  return str.charAt(0).toUpperCase() + str.slice(1);
};
camelize = function(it){
  return it.replace(/[-_]+(.)?/g, function(arg$, c){
    return (c != null ? c : '').toUpperCase();
  });
};
dasherize = function(str){
  return str.replace(/([^-A-Z])([A-Z]+)/g, function(arg$, lower, upper){
    return lower + "-" + (upper.length > 1
      ? upper
      : upper.toLowerCase());
  }).replace(/^([A-Z]+)/, function(arg$, upper){
    if (upper.length > 1) {
      return upper + "-";
    } else {
      return upper.toLowerCase();
    }
  });
};
module.exports = {
  split: split,
  join: join,
  lines: lines,
  unlines: unlines,
  words: words,
  unwords: unwords,
  chars: chars,
  unchars: unchars,
  reverse: reverse,
  repeat: repeat,
  capitalize: capitalize,
  camelize: camelize,
  dasherize: dasherize
};
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
},{}],7:[function(require,module,exports){
// Generated by LiveScript 1.2.0
var Func, List, Obj, Str, Num, id, isType, replicate, prelude, toString$ = {}.toString;
Func = require('./Func.js');
List = require('./List.js');
Obj = require('./Obj.js');
Str = require('./Str.js');
Num = require('./Num.js');
id = function(x){
  return x;
};
isType = curry$(function(type, x){
  return toString$.call(x).slice(8, -1) === type;
});
replicate = curry$(function(n, x){
  var i$, results$ = [];
  for (i$ = 0; i$ < n; ++i$) {
    results$.push(x);
  }
  return results$;
});
Str.empty = List.empty;
Str.slice = List.slice;
Str.take = List.take;
Str.drop = List.drop;
Str.splitAt = List.splitAt;
Str.takeWhile = List.takeWhile;
Str.dropWhile = List.dropWhile;
Str.span = List.span;
Str.breakStr = List.breakList;
prelude = {
  Func: Func,
  List: List,
  Obj: Obj,
  Str: Str,
  Num: Num,
  id: id,
  isType: isType,
  replicate: replicate
};
prelude.each = List.each;
prelude.map = List.map;
prelude.filter = List.filter;
prelude.compact = List.compact;
prelude.reject = List.reject;
prelude.partition = List.partition;
prelude.find = List.find;
prelude.head = List.head;
prelude.first = List.first;
prelude.tail = List.tail;
prelude.last = List.last;
prelude.initial = List.initial;
prelude.empty = List.empty;
prelude.reverse = List.reverse;
prelude.difference = List.difference;
prelude.intersection = List.intersection;
prelude.union = List.union;
prelude.countBy = List.countBy;
prelude.groupBy = List.groupBy;
prelude.fold = List.fold;
prelude.foldl = List.foldl;
prelude.fold1 = List.fold1;
prelude.foldl1 = List.foldl1;
prelude.foldr = List.foldr;
prelude.foldr1 = List.foldr1;
prelude.unfoldr = List.unfoldr;
prelude.andList = List.andList;
prelude.orList = List.orList;
prelude.any = List.any;
prelude.all = List.all;
prelude.unique = List.unique;
prelude.uniqueBy = List.uniqueBy;
prelude.sort = List.sort;
prelude.sortWith = List.sortWith;
prelude.sortBy = List.sortBy;
prelude.sum = List.sum;
prelude.product = List.product;
prelude.mean = List.mean;
prelude.average = List.average;
prelude.concat = List.concat;
prelude.concatMap = List.concatMap;
prelude.flatten = List.flatten;
prelude.maximum = List.maximum;
prelude.minimum = List.minimum;
prelude.maximumBy = List.maximumBy;
prelude.minimumBy = List.minimumBy;
prelude.scan = List.scan;
prelude.scanl = List.scanl;
prelude.scan1 = List.scan1;
prelude.scanl1 = List.scanl1;
prelude.scanr = List.scanr;
prelude.scanr1 = List.scanr1;
prelude.slice = List.slice;
prelude.take = List.take;
prelude.drop = List.drop;
prelude.splitAt = List.splitAt;
prelude.takeWhile = List.takeWhile;
prelude.dropWhile = List.dropWhile;
prelude.span = List.span;
prelude.breakList = List.breakList;
prelude.zip = List.zip;
prelude.zipWith = List.zipWith;
prelude.zipAll = List.zipAll;
prelude.zipAllWith = List.zipAllWith;
prelude.at = List.at;
prelude.elemIndex = List.elemIndex;
prelude.elemIndices = List.elemIndices;
prelude.findIndex = List.findIndex;
prelude.findIndices = List.findIndices;
prelude.apply = Func.apply;
prelude.curry = Func.curry;
prelude.flip = Func.flip;
prelude.fix = Func.fix;
prelude.over = Func.over;
prelude.split = Str.split;
prelude.join = Str.join;
prelude.lines = Str.lines;
prelude.unlines = Str.unlines;
prelude.words = Str.words;
prelude.unwords = Str.unwords;
prelude.chars = Str.chars;
prelude.unchars = Str.unchars;
prelude.repeat = Str.repeat;
prelude.capitalize = Str.capitalize;
prelude.camelize = Str.camelize;
prelude.dasherize = Str.dasherize;
prelude.values = Obj.values;
prelude.keys = Obj.keys;
prelude.pairsToObj = Obj.pairsToObj;
prelude.objToPairs = Obj.objToPairs;
prelude.listsToObj = Obj.listsToObj;
prelude.objToLists = Obj.objToLists;
prelude.max = Num.max;
prelude.min = Num.min;
prelude.negate = Num.negate;
prelude.abs = Num.abs;
prelude.signum = Num.signum;
prelude.quot = Num.quot;
prelude.rem = Num.rem;
prelude.div = Num.div;
prelude.mod = Num.mod;
prelude.recip = Num.recip;
prelude.pi = Num.pi;
prelude.tau = Num.tau;
prelude.exp = Num.exp;
prelude.sqrt = Num.sqrt;
prelude.ln = Num.ln;
prelude.pow = Num.pow;
prelude.sin = Num.sin;
prelude.tan = Num.tan;
prelude.cos = Num.cos;
prelude.acos = Num.acos;
prelude.asin = Num.asin;
prelude.atan = Num.atan;
prelude.atan2 = Num.atan2;
prelude.truncate = Num.truncate;
prelude.round = Num.round;
prelude.ceiling = Num.ceiling;
prelude.floor = Num.floor;
prelude.isItNaN = Num.isItNaN;
prelude.even = Num.even;
prelude.odd = Num.odd;
prelude.gcd = Num.gcd;
prelude.lcm = Num.lcm;
prelude.VERSION = '1.1.1';
module.exports = prelude;
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
},{"./Func.js":2,"./List.js":3,"./Num.js":4,"./Obj.js":5,"./Str.js":6}],8:[function(require,module,exports){
// Generated by LiveScript 1.3.1
var fold, ref$, nameFromPath, stripString, Node, Negatable, Block, Atom, Literal, Var, Key, Index, Slice, Chain, Call, List, Obj, Prop, Arr, Unary, Binary, Assign, Import, In, Existence, Fun, Class, Super, Parens, Splat, Jump, Throw, Return, While, For, Try, Switch, Case, If, Label, Cascade, JS, Require, Util, Vars, DECLS, UTILS, LEVEL_TOP, LEVEL_PAREN, LEVEL_LIST, LEVEL_COND, LEVEL_OP, LEVEL_CALL, PREC, TAB, ID, SIMPLENUM, slice$ = [].slice, toString$ = {}.toString;
fold = require('prelude-ls').fold;
ref$ = require('./util'), nameFromPath = ref$.nameFromPath, stripString = ref$.stripString;
(Node = function(){
  throw Error('unimplemented');
}).prototype = {
  compile: function(options, level){
    var o, node, code, that, i$, len$, tmp;
    o = import$({}, options);
    if (level != null) {
      o.level = level;
    }
    node = this.unfoldSoak(o) || this;
    if (o.level && node.isStatement()) {
      return node.compileClosure(o);
    }
    code = (node.tab = o.indent, node).compileNode(o);
    if (that = node.temps) {
      for (i$ = 0, len$ = that.length; i$ < len$; ++i$) {
        tmp = that[i$];
        o.scope.free(tmp);
      }
    }
    return code;
  },
  compileClosure: function(o){
    var that, fun, call, hasArgs, hasThis;
    if (that = this.getJump()) {
      that.carp('inconvertible statement');
    }
    fun = Fun([], Block(this));
    call = Call();
    this.traverseChildren(function(it){
      switch (it.value) {
      case 'this':
        hasThis = true;
        break;
      case 'arguments':
        hasArgs = it.value = 'args$';
      }
    });
    if (hasThis) {
      call.args.push(Literal('this'));
      call.method = '.call';
    }
    if (hasArgs) {
      call.args.push(Literal('arguments'));
      fun.params.push(Var('args$'));
    }
    return Parens(Chain((fun.wrapper = true, fun['void'] = this['void'], fun), [call]), true).compile(o);
  },
  compileBlock: function(o, node){
    var that;
    if (that = node != null ? node.compile(o, LEVEL_TOP) : void 8) {
      return "{\n" + that + "\n" + this.tab + "}";
    } else {
      return '{}';
    }
  },
  cache: function(o, once, level){
    var ref$, sub, ref;
    if (!this.isComplex()) {
      return [ref$ = level != null ? this.compile(o, level) : this, ref$];
    }
    sub = Assign(ref = Var(o.scope.temporary()), this);
    if (level != null) {
      sub = sub.compile(o, level);
      if (once) {
        o.scope.free(ref.value);
      }
      return [sub, ref.value];
    }
    if (once) {
      return [sub, (ref.temp = true, ref)];
    } else {
      return [sub, ref, [ref.value]];
    }
  },
  compileLoopReference: function(o, name, ret){
    var ref$, asn, tmp;
    if (this instanceof Var && o.scope.check(this.value) || this instanceof Unary && ((ref$ = this.op) === '+' || ref$ === '-') && (-1 / 0 < (ref$ = +this.it.value) && ref$ < 1 / 0) || this instanceof Literal && !this.isComplex()) {
      return [ref$ = this.compile(o), ref$];
    }
    asn = Assign(Var(tmp = o.scope.temporary(name)), this);
    ret || (asn['void'] = true);
    return [tmp, asn.compile(o, ret ? LEVEL_CALL : LEVEL_PAREN)];
  },
  eachChild: function(fn){
    var i$, ref$, len$, name, child, j$, len1$, i, node, that;
    for (i$ = 0, len$ = (ref$ = this.children).length; i$ < len$; ++i$) {
      name = ref$[i$];
      if (child = this[name]) {
        if ('length' in child) {
          for (j$ = 0, len1$ = child.length; j$ < len1$; ++j$) {
            i = j$;
            node = child[j$];
            if (that = fn(node, name, i)) {
              return that;
            }
          }
        } else {
          if ((that = fn(child, name)) != null) {
            return that;
          }
        }
      }
    }
  },
  traverseChildren: function(fn, xscope){
    var this$ = this;
    return this.eachChild(function(node, name, index){
      var ref$;
      return (ref$ = fn(node, this$, name, index)) != null
        ? ref$
        : node.traverseChildren(fn, xscope);
    });
  },
  anaphorize: function(){
    var base, name, ref$;
    this.children = this.aTargets;
    if (this.eachChild(hasThat)) {
      if ((base = this)[name = this.aSource] instanceof Existence) {
        base = base[name];
        name = 'it';
      }
      if (base[name].value !== 'that') {
        base[name] = Assign(Var('that'), base[name]);
      }
    }
    function hasThat(it){
      var that;
      return it.value === 'that' || ((that = it.aSource)
        ? (that = it[that]) ? hasThat(that) : void 8
        : it.eachChild(hasThat));
    }
    delete this.children;
    return ref$ = this[this.aSource], ref$.cond = true, ref$;
  },
  carp: function(msg, type){
    type == null && (type = SyntaxError);
    throw type(msg + " on line " + (this.line || this.traverseChildren(function(it){
      return it.line;
    })));
  },
  delegate: function(names, fn){
    var i$, len$;
    for (i$ = 0, len$ = names.length; i$ < len$; ++i$) {
      (fn$.call(this, names[i$]));
    }
    function fn$(name){
      this[name] = function(it){
        return fn.call(this, name, it);
      };
    }
  },
  children: [],
  terminator: ';',
  isComplex: YES,
  isStatement: NO,
  isAssignable: NO,
  isCallable: NO,
  isEmpty: NO,
  isArray: NO,
  isString: NO,
  isRegex: NO,
  isMatcher: function(){
    return this.isString() || this.isRegex();
  },
  assigns: NO,
  ripName: VOID,
  unfoldSoak: VOID,
  unfoldAssign: VOID,
  unparen: THIS,
  unwrap: THIS,
  maybeKey: THIS,
  expandSlice: THIS,
  varName: String,
  getAccessors: VOID,
  getCall: VOID,
  getDefault: VOID,
  getJump: VOID,
  invert: function(){
    return Unary('!', this, true);
  },
  invertCheck: function(it){
    if (it.inverted) {
      return this.invert();
    } else {
      return this;
    }
  },
  addElse: function($else){
    this['else'] = $else;
    return this;
  },
  makeReturn: function(ref, obj){
    var items, kv, i, v;
    if (obj) {
      items = this instanceof Arr
        ? (this.items[0] == null || this.items[1] == null && this.carp('must specify both key and value for object comprehension'), this.items)
        : (kv = 'keyValue$', (function(){
          var i$, ref$, len$, results$ = [];
          for (i$ = 0, len$ = (ref$ = [Assign(Var(kv), this), Var(kv)]).length; i$ < len$; ++i$) {
            i = i$;
            v = ref$[i$];
            results$.push(Chain(v).add(Index(Literal(i))));
          }
          return results$;
        }.call(this)));
      return Assign(Chain(Var(ref)).add(Index(items[0], '.', true)), items[1]);
    } else if (ref) {
      return Call.make(JS(ref + '.push'), [this]);
    } else {
      return Return(this);
    }
  },
  show: String,
  toString: function(idt){
    var tree, that;
    idt || (idt = '');
    tree = '\n' + idt + this.constructor.displayName;
    if (that = this.show()) {
      tree += ' ' + that;
    }
    this.eachChild(function(it){
      tree += it.toString(idt + TAB);
    });
    return tree;
  },
  stringify: function(space){
    return JSON.stringify(this, null, space);
  },
  toJSON: function(){
    return import$({
      type: this.constructor.displayName
    }, this);
  }
};
exports.parse = function(json){
  return exports.fromJSON(JSON.parse(json));
};
exports.fromJSON = (function(){
  function fromJSON(it){
    var that, node, key, val, i$, len$, v, results$ = [];
    if (!(it && typeof it === 'object')) {
      return it;
    }
    if (that = it.type) {
      node = clone$(exports[that].prototype);
      for (key in it) {
        val = it[key];
        node[key] = fromJSON(val);
      }
      return node;
    }
    if (it.length != null) {
      for (i$ = 0, len$ = it.length; i$ < len$; ++i$) {
        v = it[i$];
        results$.push(fromJSON(v));
      }
      return results$;
    } else {
      return it;
    }
  }
  return fromJSON;
}());
Negatable = {
  show: function(){
    return this.negated && '!';
  },
  invert: function(){
    this.negated = !this.negated;
    return this;
  }
};
exports.Block = Block = (function(superclass){
  var prototype = extend$((import$(Block, superclass).displayName = 'Block', Block), superclass).prototype, constructor = Block;
  function Block(body){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    body || (body = []);
    if ('length' in body) {
      this$.lines = body;
    } else {
      this$.lines = [];
      this$.add(body);
    }
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['lines'];
  prototype.toJSON = function(){
    delete this.back;
    return superclass.prototype.toJSON.call(this);
  };
  prototype.add = function(it){
    var that, ref$;
    it = it.unparen();
    switch (false) {
    case !(that = this.back):
      that.add(it);
      break;
    case !(that = it.lines):
      (ref$ = this.lines).push.apply(ref$, that);
      break;
    default:
      this.lines.push(it);
      if (that = (ref$ = it.back, delete it.back, ref$)) {
        this.back = that;
      }
    }
    return this;
  };
  prototype.prepend = function(){
    var ref$;
    (ref$ = this.lines).splice.apply(ref$, [this.neck(), 0].concat(slice$.call(arguments)));
    return this;
  };
  prototype.pipe = function(target, type){
    var args;
    args = type === '|>' ? this.lines.pop() : target;
    if (toString$.call(args).slice(8, -1) !== 'Array') {
      args = [args];
    }
    switch (type) {
    case '|>':
      this.lines.push(Call.make(target, args, {
        pipe: true
      }));
      break;
    case '<|':
      this.lines.push(Call.make(this.lines.pop(), args));
    }
    return this;
  };
  prototype.unwrap = function(){
    if (this.lines.length === 1) {
      return this.lines[0];
    } else {
      return this;
    }
  };
  prototype.chomp = function(){
    var lines, i, that;
    lines = this.lines;
    i = lines.length;
    while (that = lines[--i]) {
      if (!that.comment) {
        break;
      }
    }
    lines.length = i + 1;
    return this;
  };
  prototype.neck = function(){
    var pos, i$, ref$, len$, x;
    pos = 0;
    for (i$ = 0, len$ = (ref$ = this.lines).length; i$ < len$; ++i$) {
      x = ref$[i$];
      if (!(x.comment || x instanceof Literal)) {
        break;
      }
      ++pos;
    }
    return pos;
  };
  prototype.isComplex = function(){
    var ref$;
    return this.lines.length > 1 || ((ref$ = this.lines[0]) != null ? ref$.isComplex() : void 8);
  };
  prototype.delegate(['isCallable', 'isArray', 'isString', 'isRegex'], function(it){
    var ref$, ref1$;
    return (ref$ = (ref1$ = this.lines)[ref1$.length - 1]) != null ? ref$[it]() : void 8;
  });
  prototype.getJump = function(it){
    var i$, ref$, len$, node, that;
    for (i$ = 0, len$ = (ref$ = this.lines).length; i$ < len$; ++i$) {
      node = ref$[i$];
      if (that = node.getJump(it)) {
        return that;
      }
    }
  };
  prototype.makeReturn = function(){
    var that, ref$, key$, ref1$;
    this.chomp();
    if (that = (ref1$ = ref$ = this.lines)[key$ = ref1$.length - 1] != null ? ref$[key$] = (ref$ = ref$[key$]).makeReturn.apply(ref$, arguments) : void 8) {
      if (that instanceof Return && !that.it) {
        --this.lines.length;
      }
    }
    return this;
  };
  prototype.compile = function(o, level){
    var tab, codes, res$, i$, ref$, len$, node, code;
    level == null && (level = o.level);
    if (level) {
      return this.compileExpressions(o, level);
    }
    o.block = this;
    tab = o.indent;
    res$ = [];
    for (i$ = 0, len$ = (ref$ = this.lines).length; i$ < len$; ++i$) {
      node = ref$[i$];
      node = node.unfoldSoak(o) || node;
      if (!(code = (node.front = true, node).compile(o, level))) {
        continue;
      }
      node.isStatement() || (code += node.terminator);
      res$.push(tab + code);
    }
    codes = res$;
    return codes.join('\n');
  };
  prototype.compileRoot = function(options){
    var o, saveTo, ref$, bare, prefix, ref1$, code;
    o = (import$({
      level: LEVEL_TOP,
      scope: this.scope = Scope.root = new Scope
    }, options));
    if (saveTo = (ref$ = o.saveScope, delete o.saveScope, ref$)) {
      o.scope = saveTo.savedScope || (saveTo.savedScope = o.scope);
    }
    delete o.filename;
    o.indent = (bare = (ref$ = o.bare, delete o.bare, ref$)) ? '' : TAB;
    if (/^\s*(?:[/#]|javascript:)/.test((ref$ = this.lines[0]) != null ? ref$.code : void 8)) {
      prefix = this.lines.shift().code + '\n';
    }
    if ((ref1$ = o.eval, delete o.eval, ref1$) && this.chomp().lines.length) {
      if (bare) {
        this.lines.push(Parens(this.lines.pop()));
      } else {
        this.makeReturn();
      }
    }
    code = this.compileWithDeclarations(o);
    bare || (code = "(function(){\n" + code + "\n}).call(this);\n");
    return [prefix] + code;
  };
  prototype.compileWithDeclarations = function(o){
    var pre, i, rest, post, that;
    o.level = LEVEL_TOP;
    pre = '';
    if (i = this.neck()) {
      rest = this.lines.splice(i, 9e9);
      pre = this.compile(o);
      this.lines = rest;
    }
    if (!(post = this.compile(o))) {
      return pre;
    }
    return (pre && pre + "\n") + ((that = this.scope) ? that.emit(post, o.indent) : post);
  };
  prototype.compileExpressions = function(o, level){
    var lines, i, that, code, last, i$, len$, node;
    lines = this.chomp().lines;
    i = -1;
    while (that = lines[++i]) {
      if (that.comment) {
        lines.splice(i--, 1);
      }
    }
    if (!lines.length) {
      lines.push(Literal('void'));
    }
    lines[0].front = this.front;
    lines[lines.length - 1]['void'] = this['void'];
    if (!lines[1]) {
      return lines[0].compile(o, level);
    }
    code = '';
    last = lines.pop();
    for (i$ = 0, len$ = lines.length; i$ < len$; ++i$) {
      node = lines[i$];
      code += (node['void'] = true, node).compile(o, LEVEL_PAREN) + ', ';
    }
    code += last.compile(o, LEVEL_PAREN);
    if (level < LEVEL_LIST) {
      return code;
    } else {
      return "(" + code + ")";
    }
  };
  return Block;
}(Node));
Atom = (function(superclass){
  var prototype = extend$((import$(Atom, superclass).displayName = 'Atom', Atom), superclass).prototype, constructor = Atom;
  prototype.show = function(){
    return this.value;
  };
  prototype.isComplex = NO;
  function Atom(){
    Atom.superclass.apply(this, arguments);
  }
  return Atom;
}(Node));
exports.Literal = Literal = (function(superclass){
  var prototype = extend$((import$(Literal, superclass).displayName = 'Literal', Literal), superclass).prototype, constructor = Literal;
  function Literal(value){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.value = value;
    if (value.js) {
      return JS(value + "", true);
    }
    if (value === 'super') {
      return new Super;
    }
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.isEmpty = function(){
    var ref$;
    return (ref$ = this.value) === 'void' || ref$ === 'null';
  };
  prototype.isCallable = function(){
    var ref$;
    return (ref$ = this.value) === 'this' || ref$ === 'eval' || ref$ === '..';
  };
  prototype.isString = function(){
    return 0 <= '\'"'.indexOf((this.value + "").charAt());
  };
  prototype.isRegex = function(){
    return (this.value + "").charAt() === '/';
  };
  prototype.isComplex = function(){
    return this.isRegex() || this.value === 'debugger';
  };
  prototype.isWhat = function(){
    switch (false) {
    case !this.isEmpty():
      return 'empty';
    case !this.isCallable():
      return 'callable';
    case !this.isString():
      return 'string';
    case !this.isRegex():
      return 'regex';
    case !this.isComplex():
      return 'complex';
    }
  };
  prototype.varName = function(){
    if (/^\w+$/.test(this.value)) {
      return '$' + this.value;
    } else {
      return '';
    }
  };
  prototype.makeReturn = function(it){
    if (!it && this.value === 'debugger') {
      return this;
    } else {
      return superclass.prototype.makeReturn.apply(this, arguments);
    }
  };
  prototype.compile = function(o, level){
    var val, ref$;
    level == null && (level = o.level);
    switch (val = this.value + "") {
    case 'this':
      return ((ref$ = o.scope.fun) != null ? ref$.bound : void 8) || val;
    case 'void':
      if (!level) {
        return '';
      }
      val += ' 8';
      // fallthrough
    case 'null':
      if (level === LEVEL_CALL) {
        this.carp('invalid use of ' + this.value);
      }
      break;
    case 'on':
    case 'yes':
      val = 'true';
      break;
    case 'off':
    case 'no':
      val = 'false';
      break;
    case '*':
      this.carp('stray star');
      break;
    case '..':
      if (!(val = o.ref)) {
        this.carp('stray reference');
      }
      this.cascadee || (val.erred = true);
      break;
    case 'debugger':
      if (level) {
        return "(function(){ debugger; }())";
      }
    }
    return val;
  };
  return Literal;
}(Atom));
exports.Var = Var = (function(superclass){
  var prototype = extend$((import$(Var, superclass).displayName = 'Var', Var), superclass).prototype, constructor = Var;
  function Var(value){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.value = value;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.isAssignable = prototype.isCallable = YES;
  prototype.assigns = function(it){
    return it === this.value;
  };
  prototype.maybeKey = function(){
    var ref$;
    return ref$ = Key(this.value), ref$.line = this.line, ref$;
  };
  prototype.varName = prototype.show;
  prototype.compile = function(o){
    if (this.temp) {
      return o.scope.free(this.value);
    } else {
      return this.value;
    }
  };
  return Var;
}(Atom));
exports.Key = Key = (function(superclass){
  var prototype = extend$((import$(Key, superclass).displayName = 'Key', Key), superclass).prototype, constructor = Key;
  function Key(name, reserved){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.reserved = reserved || name.reserved;
    this$.name = '' + name;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.isComplex = NO;
  prototype.assigns = function(it){
    return it === this.name;
  };
  prototype.varName = function(){
    var name;
    name = this.name;
    if (this.reserved || (name === 'arguments' || name === 'eval')) {
      return "$" + name;
    } else {
      return name;
    }
  };
  prototype.compile = prototype.show = function(){
    if (this.reserved) {
      return "'" + this.name + "'";
    } else {
      return this.name;
    }
  };
  return Key;
}(Node));
exports.Index = Index = (function(superclass){
  var prototype = extend$((import$(Index, superclass).displayName = 'Index', Index), superclass).prototype, constructor = Index;
  function Index(key, symbol, init){
    var k, this$ = this instanceof ctor$ ? this : new ctor$;
    symbol || (symbol = '.');
    if (init && key instanceof Arr) {
      switch (key.items.length) {
      case 1:
        if (!((k = key.items[0]) instanceof Splat)) {
          key = Parens(k);
        }
      }
    }
    switch (symbol) {
    case '[]':
      this$.vivify = Arr;
      break;
    case '{}':
      this$.vivify = Obj;
      break;
    default:
      if ('=' === symbol.slice(-1)) {
        this$.assign = symbol.slice(1);
      }
    }
    this$.key = key;
    this$.symbol = symbol;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['key'];
  prototype.show = function(){
    return [this.soak ? '?' : void 8] + this.symbol;
  };
  prototype.isComplex = function(){
    return this.key.isComplex();
  };
  prototype.varName = function(){
    var ref$;
    return ((ref$ = this.key) instanceof Key || ref$ instanceof Literal) && this.key.varName();
  };
  prototype.compile = function(o){
    var code;
    code = this.key.compile(o, LEVEL_PAREN);
    if (this.key instanceof Key && '\'' !== code.charAt(0)) {
      return "." + code;
    } else {
      return "[" + code + "]";
    }
  };
  return Index;
}(Node));
exports.Slice = Slice = (function(superclass){
  var prototype = extend$((import$(Slice, superclass).displayName = 'Slice', Slice), superclass).prototype, constructor = Slice;
  function Slice(arg$){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.type = arg$.type, this$.target = arg$.target, this$.from = arg$.from, this$.to = arg$.to;
    this$.from == null && (this$.from = Literal(0));
    if (this$.to && this$.type === 'to') {
      this$.to = Binary('+', this$.to, Literal('1'));
    }
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['target', 'from', 'to'];
  prototype.show = function(){
    return this.type;
  };
  prototype.compileNode = function(o){
    var args;
    if (this.to && this.type === 'to') {
      this.to = Binary('||', this.to, Literal('9e9'));
    }
    args = [this.target, this.from];
    if (this.to) {
      args.push(this.to);
    }
    return Chain(Var(util('slice'))).add(Index(Key('call'), '.', true)).add(Call(args)).compile(o);
  };
  return Slice;
}(Node));
exports.Chain = Chain = (function(superclass){
  var prototype = extend$((import$(Chain, superclass).displayName = 'Chain', Chain), superclass).prototype, constructor = Chain;
  function Chain(head, tails){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    if (!tails && head instanceof Chain) {
      return head;
    }
    this$.head = head;
    this$.tails = tails || [];
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['head', 'tails'];
  prototype.add = function(it){
    var last, ref$, index, ref1$, bi, that, ref2$, logics, call, f;
    if (this.tails.length) {
      last = (ref$ = this.tails)[ref$.length - 1];
      if (last instanceof Call && ((ref$ = last.partialized) != null ? ref$.length : void 8) === 1 && it.args.length === 1) {
        index = last.partialized[0].head.value;
        delete last.partialized;
        last.args[index] = it.args[0];
        return this;
      }
    }
    if (this.head instanceof Existence) {
      ref1$ = Chain(this.head.it), this.head = ref1$.head, this.tails = ref1$.tails;
      it.soak = true;
    }
    this.tails.push(it);
    bi = this.head instanceof Parens && this.head.it instanceof Binary && !this.head.it.partial
      ? this.head.it
      : this.head instanceof Binary && !this.head.partial ? this.head : void 8;
    if (this.head instanceof Super) {
      if (!this.head.called && it instanceof Call && !it.method) {
        it.method = '.call';
        it.args.unshift(Literal('this'));
        this.head.called = true;
      } else if (!this.tails[1] && ((ref1$ = it.key) != null ? ref1$.name : void 8) === 'prototype') {
        this.head.sproto = true;
      }
    } else if (that = (ref2$ = it.vivify, delete it.vivify, ref2$)) {
      this.head = Assign(Chain(this.head, this.tails.splice(0, 9e9)), that(), '=', '||');
    } else if (it instanceof Call && this.tails.length === 1 && bi && in$(bi.op, logics = ['&&', '||', 'xor'])) {
      call = it;
      f = function(x, key){
        var y;
        y = x[key];
        if (y instanceof Binary && in$(y.op, logics)) {
          f(y, 'first');
          return f(y, 'second');
        } else {
          return x[key] = Chain(y).autoCompare(call.args);
        }
      };
      f(bi, 'first');
      f(bi, 'second');
      return bi;
    }
    return this;
  };
  prototype.autoCompare = function(target){
    var test;
    test = this.head;
    switch (false) {
    case !(test instanceof Literal):
      return Binary('===', test, target[0]);
    case !(test instanceof Unary && test.it instanceof Literal):
      return Binary('===', test, target[0]);
    case !(test instanceof Arr || test instanceof Obj):
      return Binary('====', test, target[0]);
    case !(test instanceof Var && test.value === '_'):
      return Literal('true');
    default:
      return this.add(Call(target)) || [];
    }
  };
  prototype.flipIt = function(){
    this.flip = true;
    return this;
  };
  prototype.unwrap = function(){
    if (this.tails.length) {
      return this;
    } else {
      return this.head;
    }
  };
  prototype.delegate(['getJump', 'assigns', 'isStatement', 'isString'], function(it, arg){
    return !this.tails.length && this.head[it](arg);
  });
  prototype.isComplex = function(){
    return this.tails.length || this.head.isComplex();
  };
  prototype.isCallable = function(){
    var that, ref$;
    if (that = (ref$ = this.tails)[ref$.length - 1]) {
      return !((ref$ = that.key) != null && ref$.items);
    } else {
      return this.head.isCallable();
    }
  };
  prototype.isArray = function(){
    var that, ref$;
    if (that = (ref$ = this.tails)[ref$.length - 1]) {
      return that.key instanceof Arr;
    } else {
      return this.head.isArray();
    }
  };
  prototype.isRegex = function(){
    return this.head.value === 'RegExp' && !this.tails[1] && this.tails[0] instanceof Call;
  };
  prototype.isAssignable = function(){
    var tail, ref$, i$, len$;
    if (!(tail = (ref$ = this.tails)[ref$.length - 1])) {
      return this.head.isAssignable();
    }
    if (!(tail instanceof Index) || tail.key instanceof List || tail.symbol === '.~') {
      return false;
    }
    for (i$ = 0, len$ = (ref$ = this.tails).length; i$ < len$; ++i$) {
      tail = ref$[i$];
      if (tail.assign) {
        return false;
      }
    }
    return true;
  };
  prototype.isSimpleAccess = function(){
    return this.tails.length === 1 && !this.head.isComplex() && !this.tails[0].isComplex();
  };
  prototype.makeReturn = function(){
    var ref$;
    if (this.tails.length) {
      return superclass.prototype.makeReturn.apply(this, arguments);
    } else {
      return (ref$ = this.head).makeReturn.apply(ref$, arguments);
    }
  };
  prototype.getCall = function(){
    var tail, ref$;
    return (tail = (ref$ = this.tails)[ref$.length - 1]) instanceof Call && tail;
  };
  prototype.varName = function(){
    var ref$, ref1$;
    return (ref$ = (ref1$ = this.tails)[ref1$.length - 1]) != null ? ref$.varName() : void 8;
  };
  prototype.cacheReference = function(o){
    var name, ref$, base, ref, bref, nref;
    name = (ref$ = this.tails)[ref$.length - 1];
    if (!this.isAssignable()) {
      return this.unwrap().cache(o, true);
    }
    if (this.tails.length < 2 && !this.head.isComplex() && !(name != null && name.isComplex())) {
      return [this, this];
    }
    base = Chain(this.head, this.tails.slice(0, -1));
    if (base.isComplex()) {
      ref = o.scope.temporary();
      base = Chain(Assign(Var(ref), base));
      bref = (ref$ = Var(ref), ref$.temp = true, ref$);
    }
    if (!name) {
      return [base, bref];
    }
    if (name.isComplex()) {
      ref = o.scope.temporary('key');
      name = Index(Assign(Var(ref), name.key));
      nref = Index((ref$ = Var(ref), ref$.temp = true, ref$));
    }
    return [base.add(name), Chain(bref || base.head, [nref || name])];
  };
  prototype.compileNode = function(o){
    var head, tails, that, i$, len$, t, hasPartial, pre, rest, broken, partial, post, context, idt, func, base, news, ref$;
    if (this.flip) {
      util('flip');
      util('curry');
    }
    head = this.head, tails = this.tails;
    head.front = this.front;
    head.newed = this.newed;
    if (!tails.length) {
      return head.compile(o);
    }
    if (that = this.unfoldAssign(o)) {
      return that.compile(o);
    }
    for (i$ = 0, len$ = tails.length; i$ < len$; ++i$) {
      t = tails[i$];
      if (t.partialized) {
        hasPartial = true;
        break;
      }
    }
    if (hasPartial) {
      util('slice');
      pre = [];
      rest = [];
      for (i$ = 0, len$ = tails.length; i$ < len$; ++i$) {
        t = tails[i$];
        broken = broken || t.partialized != null;
        if (broken) {
          rest.push(t);
        } else {
          pre.push(t);
        }
      }
      if (rest != null) {
        partial = rest[0], post = slice$.call(rest, 1);
      }
      this.tails = pre;
      context = pre.length
        ? Chain(head, slice$.call(pre, 0, -1))
        : Literal('this');
      return Chain(Chain(Var(util('partialize'))).add(Index(Key('apply'))).add(Call([context, Arr([this, Arr(partial.args), Arr(partial.partialized)])])), post).compile(o);
    }
    if (tails[0] instanceof Call && !head.isCallable()) {
      this.carp('invalid callee');
    }
    this.expandSlice(o);
    this.expandBind(o);
    this.expandSplat(o);
    this.expandStar(o);
    if (this.splattedNewArgs) {
      idt = o.indent + TAB;
      func = Chain(this.head, tails.slice(0, -1));
      return "(function(func, args, ctor) {\n" + idt + "ctor.prototype = func.prototype;\n" + idt + "var child = new ctor, result = func.apply(child, args), t;\n" + idt + "return (t = typeof result)  == \"object\" || t == \"function\" ? result || child : child;\n" + TAB + "})(" + func.compile(o) + ", " + this.splattedNewArgs + ", function(){})";
    }
    if (!this.tails.length) {
      return this.head.compile(o);
    }
    base = this.head.compile(o, LEVEL_CALL);
    news = rest = '';
    for (i$ = 0, len$ = (ref$ = this.tails).length; i$ < len$; ++i$) {
      t = ref$[i$];
      if (t['new']) {
        news += 'new ';
      }
      rest += t.compile(o);
    }
    if ('.' === rest.charAt(0) && SIMPLENUM.test(base)) {
      base += ' ';
    }
    return news + base + rest;
  };
  prototype.unfoldSoak = function(o){
    var that, ref$, i$, len$, i, node, ref1$, bust, test;
    if (that = this.head.unfoldSoak(o)) {
      (ref$ = that.then.tails).push.apply(ref$, this.tails);
      return that;
    }
    for (i$ = 0, len$ = (ref$ = this.tails).length; i$ < len$; ++i$) {
      i = i$;
      node = ref$[i$];
      if (ref1$ = node.soak, delete node.soak, ref1$) {
        bust = Chain(this.head, this.tails.splice(0, i));
        if (node.assign && !bust.isAssignable()) {
          node.carp('invalid accessign');
        }
        if (i && (node.assign || node instanceof Call)) {
          ref1$ = bust.cacheReference(o), test = ref1$[0], bust = ref1$[1];
          if (bust instanceof Chain) {
            (ref1$ = this.tails).unshift.apply(ref1$, bust.tails);
            bust = bust.head;
          }
          this.head = bust;
        } else {
          ref1$ = bust.unwrap().cache(o), test = ref1$[0], this.head = ref1$[1];
        }
        test = node instanceof Call
          ? JS("typeof " + test.compile(o, LEVEL_OP) + " == 'function'")
          : Existence(test);
        return ref1$ = If(test, this), ref1$.soak = true, ref1$.cond = this.cond, ref1$['void'] = this['void'], ref1$;
      }
    }
  };
  prototype.unfoldAssign = function(o){
    var that, ref$, i$, len$, i, index, op, left, lefts, rites, j$, len1$, node, ref1$;
    if (that = this.head.unfoldAssign(o)) {
      (ref$ = that.right.tails).push.apply(ref$, this.tails);
      return that;
    }
    for (i$ = 0, len$ = (ref$ = this.tails).length; i$ < len$; ++i$) {
      i = i$;
      index = ref$[i$];
      if (op = index.assign) {
        index.assign = '';
        left = Chain(this.head, this.tails.splice(0, i)).expandSlice(o).unwrap();
        if (left instanceof Arr) {
          lefts = left.items;
          rites = (this.head = Arr()).items;
          for (j$ = 0, len1$ = lefts.length; j$ < len1$; ++j$) {
            i = j$;
            node = lefts[j$];
            ref1$ = Chain(node).cacheReference(o), rites[i] = ref1$[0], lefts[i] = ref1$[1];
          }
        } else {
          ref1$ = Chain(left).cacheReference(o), left = ref1$[0], this.head = ref1$[1];
        }
        if (op === '=') {
          op = ':=';
        }
        return ref1$ = Assign(left, this, op), ref1$.access = true, ref1$;
      }
    }
  };
  prototype.expandSplat = function(o){
    var tails, i, call, args, ctx, ref$;
    tails = this.tails;
    i = -1;
    while (call = tails[++i]) {
      if (!(args = call.args)) {
        continue;
      }
      ctx = call.method === '.call' && (args = args.concat()).shift();
      if (!(args = Splat.compileArray(o, args, true))) {
        continue;
      }
      if (call['new']) {
        this.splattedNewArgs = args;
      } else {
        if (!ctx && tails[i - 1] instanceof Index) {
          ref$ = Chain(this.head, tails.splice(0, i - 1)).cache(o, true), this.head = ref$[0], ctx = ref$[1];
          i = 0;
        }
        call.method = '.apply';
        call.args = [ctx || Literal('null'), JS(args)];
      }
    }
  };
  prototype.expandBind = function(o){
    var tails, i, that, obj, key, call;
    tails = this.tails;
    i = -1;
    while (that = tails[++i]) {
      if (that.symbol !== '.~') {
        continue;
      }
      that.symbol = '';
      obj = Chain(this.head, tails.splice(0, i)).unwrap();
      key = tails.shift().key;
      call = Call.make(Util('bind'), [obj, (key.reserved = true, key)]);
      this.head = this.newed ? Parens(call, true) : call;
      i = -1;
    }
  };
  prototype.expandStar = function(o){
    var tails, i, that, stars, ref$, sub, ref, temps, value, i$, len$, star;
    tails = this.tails;
    i = -1;
    while (that = tails[++i]) {
      if (that.args || that.stars || that.key instanceof Key) {
        continue;
      }
      stars = that.stars = [];
      that.eachChild(seek);
      if (!stars.length) {
        continue;
      }
      ref$ = Chain(this.head, tails.splice(0, i)).unwrap().cache(o), sub = ref$[0], ref = ref$[1], temps = ref$[2];
      value = Chain(ref, [Index(Key('length'))]).compile(o);
      for (i$ = 0, len$ = stars.length; i$ < len$; ++i$) {
        star = stars[i$];
        star.value = value;
        star.isAssignable = YES;
      }
      this.head = JS(sub.compile(o, LEVEL_CALL) + tails.shift().compile(o));
      if (temps) {
        o.scope.free(temps[0]);
      }
      i = -1;
    }
    function seek(it){
      if (it.value === '*') {
        stars.push(it);
      } else if (!(it instanceof Index)) {
        it.eachChild(seek);
      }
    }
  };
  prototype.expandSlice = function(o, assign){
    var tails, i, tail, ref$, x;
    tails = this.tails;
    i = -1;
    while (tail = tails[++i]) {
      if ((ref$ = tail.key) != null && ref$.items) {
        if (tails[i + 1] instanceof Call) {
          tail.carp('calling a slice');
        }
        x = tails.splice(0, i + 1);
        x = x.pop().key.toSlice(o, Chain(this.head, x).unwrap(), tail.symbol, assign);
        this.head = (x.front = this.front, x);
        i = -1;
      }
    }
    return this;
  };
  return Chain;
}(Node));
exports.Call = Call = (function(superclass){
  var prototype = extend$((import$(Call, superclass).displayName = 'Call', Call), superclass).prototype, constructor = Call;
  function Call(args){
    var splat, i$, len$, i, a, ref$, this$ = this instanceof ctor$ ? this : new ctor$;
    args || (args = []);
    if (args.length === 1 && (splat = args[0]) instanceof Splat) {
      if (splat.filler) {
        this$.method = '.call';
        args[0] = Literal('this');
        args[1] = Splat(Literal('arguments'));
      } else if (splat.it instanceof Arr) {
        args = splat.it.items;
      }
    } else {
      for (i$ = 0, len$ = args.length; i$ < len$; ++i$) {
        i = i$;
        a = args[i$];
        if (a.value === '_') {
          args[i] = Chain(Literal('void'));
          args[i].placeholder = true;
          ((ref$ = this$.partialized) != null
            ? ref$
            : this$.partialized = []).push(Chain(Literal(i)));
        }
      }
    }
    this$.args = args;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['args'];
  prototype.show = function(){
    return [this['new']] + [this.method] + [this.soak ? '?' : void 8];
  };
  prototype.compile = function(o){
    var code, i$, ref$, len$, i, a;
    code = (this.method || '') + '(' + (this.pipe ? "\n" + o.indent : '');
    for (i$ = 0, len$ = (ref$ = this.args).length; i$ < len$; ++i$) {
      i = i$;
      a = ref$[i$];
      code += (i ? ', ' : '') + a.compile(o, LEVEL_LIST);
    }
    return code + ')';
  };
  Call.make = function(callee, args, opts){
    var call;
    call = Call(args);
    if (opts) {
      import$(call, opts);
    }
    return Chain(callee).add(call);
  };
  Call.block = function(fun, args, method){
    var ref$, ref1$;
    return ref$ = Parens(Chain(fun, [(ref1$ = Call(args), ref1$.method = method, ref1$)]), true), ref$.calling = true, ref$;
  };
  Call.back = function(params, node, bound, curried){
    var fun, ref$, args, index, i$, len$, a;
    fun = Fun(params, void 8, bound, curried);
    if (fun.hushed = node.op === '!') {
      node = node.it;
    }
    if (node instanceof Label) {
      fun.name = node.label;
      fun.labeled = true;
      node = node.it;
    }
    if (!fun.hushed && (fun.hushed = node.op === '!')) {
      node = node.it;
    }
    if ((ref$ = node.getCall()) != null) {
      ref$.partialized = null;
    }
    args = (node.getCall() || (node = Chain(node).add(Call())).getCall()).args;
    index = 0;
    for (i$ = 0, len$ = args.length; i$ < len$; ++i$) {
      a = args[i$];
      if (a.placeholder) {
        break;
      }
      ++index;
    }
    return node.back = (args[index] = fun).body, node;
  };
  Call['let'] = function(args, body){
    var params, res$, i$, len$, i, a, that, gotThis;
    res$ = [];
    for (i$ = 0, len$ = args.length; i$ < len$; ++i$) {
      i = i$;
      a = args[i$];
      if (that = a.op === '=' && !a.logic && a.right) {
        args[i] = that;
        if (i === 0 && (gotThis = a.left.value === 'this')) {
          continue;
        }
        res$.push(a.left);
      } else {
        res$.push(Var(a.varName() || a.carp('invalid "let" argument')));
      }
    }
    params = res$;
    gotThis || args.unshift(Literal('this'));
    return this.block(Fun(params, body), args, '.call');
  };
  return Call;
}(Node));
List = (function(superclass){
  var prototype = extend$((import$(List, superclass).displayName = 'List', List), superclass).prototype, constructor = List;
  prototype.children = ['items'];
  prototype.show = function(){
    return this.name;
  };
  prototype.named = function(name){
    this.name = name;
    return this;
  };
  prototype.isEmpty = function(){
    return !this.items.length;
  };
  prototype.assigns = function(it){
    var i$, ref$, len$, node;
    for (i$ = 0, len$ = (ref$ = this.items).length; i$ < len$; ++i$) {
      node = ref$[i$];
      if (node.assigns(it)) {
        return true;
      }
    }
  };
  List.compile = function(o, items, deepEq){
    var indent, level, code, i, that, target;
    switch (items.length) {
    case 0:
      return '';
    case 1:
      return items[0].compile(o, LEVEL_LIST);
    }
    indent = o.indent, level = o.level;
    o.indent = indent + TAB;
    o.level = LEVEL_LIST;
    code = items[i = 0].compile(o);
    while (that = items[++i]) {
      code += ', ';
      target = that;
      if (deepEq) {
        if (target instanceof Var && target.value === '_') {
          target = Obj([Prop(Key('__placeholder__'), Literal(true))]);
        } else if (target instanceof Obj || target instanceof Arr) {
          target.deepEq = true;
        }
      }
      code += target.compile(o);
    }
    if (~code.indexOf('\n')) {
      code = "\n" + o.indent + code + "\n" + indent;
    }
    o.indent = indent;
    o.level = level;
    return code;
  };
  function List(){
    List.superclass.apply(this, arguments);
  }
  return List;
}(Node));
exports.Obj = Obj = (function(superclass){
  var prototype = extend$((import$(Obj, superclass).displayName = 'Obj', Obj), superclass).prototype, constructor = Obj;
  function Obj(items){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.items = items || [];
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.asObj = THIS;
  prototype.toSlice = function(o, base, symbol, assign){
    var items, ref$, ref, temps, i$, len$, i, node, name, chain, logic, key, val;
    items = this.items;
    if (items.length > 1) {
      ref$ = base.cache(o), base = ref$[0], ref = ref$[1], temps = ref$[2];
    } else {
      ref = base;
    }
    for (i$ = 0, len$ = items.length; i$ < len$; ++i$) {
      i = i$;
      node = items[i$];
      if (node.comment) {
        continue;
      }
      if (node instanceof Prop || node instanceof Splat) {
        node[name = (ref$ = node.children)[ref$.length - 1]] = chain = Chain(base, [Index(node[name].maybeKey())]);
      } else {
        if (logic = node.getDefault()) {
          node = node.first;
        }
        if (node instanceof Parens) {
          ref$ = node.cache(o, true), key = ref$[0], node = ref$[1];
          if (assign) {
            ref$ = [node, key], key = ref$[0], node = ref$[1];
          }
          key = Parens(key);
        } else {
          key = node;
        }
        val = chain = Chain(base, [Index(node.maybeKey(), symbol)]);
        if (logic) {
          val = (logic.first = val, logic);
        }
        items[i] = Prop(key, val);
      }
      base = ref;
    }
    chain || this.carp('empty slice');
    if (temps) {
      (chain.head = Var(temps[0])).temp = true;
    }
    return this;
  };
  prototype.compileNode = function(o){
    var items, code, idt, dic, i$, len$, i, node, logic, rest, ref$, multi, key, val;
    items = this.items;
    if (!items.length) {
      return this.front ? '({})' : '{}';
    }
    code = '';
    idt = '\n' + (o.indent += TAB);
    dic = {};
    for (i$ = 0, len$ = items.length; i$ < len$; ++i$) {
      i = i$;
      node = items[i$];
      if (node.comment) {
        code += idt + node.compile(o);
        continue;
      }
      if (logic = node.getDefault()) {
        node = node.first;
      }
      if (node instanceof Splat || (node.key || node) instanceof Parens) {
        rest = items.slice(i);
        break;
      }
      if (logic) {
        if (node instanceof Prop) {
          node.val = (logic.first = node.val, logic);
        } else {
          node = Prop(node, (logic.first = node, logic));
        }
      }
      if (this.deepEq && node instanceof Prop) {
        if (node.val instanceof Var && node.val.value === '_') {
          node.val = Obj([Prop(Key('__placeholder__'), Literal(true))]);
        } else if ((ref$ = node.val) instanceof Obj || ref$ instanceof Arr) {
          node.val.deepEq = true;
        }
      }
      if (multi) {
        code += ',';
      } else {
        multi = true;
      }
      code += idt + (node instanceof Prop
        ? (key = node.key, val = node.val, node.accessor
          ? node.compileAccessor(o, key = key.compile(o))
          : (val.ripName(key), (key = key.compile(o)) + ": " + val.compile(o, LEVEL_LIST)))
        : (key = node.compile(o)) + ": " + key);
      ID.test(key) || (key = Function("return " + key)());
      if (!(dic[key + "."] ^= 1)) {
        node.carp("duplicate property \"" + key + "\"");
      }
    }
    code = "{" + (code && code + '\n' + this.tab) + "}";
    rest && (code = Import(JS(code), Obj(rest)).compile((o.indent = this.tab, o)));
    if (this.front && '{' === code.charAt()) {
      return "(" + code + ")";
    } else {
      return code;
    }
  };
  return Obj;
}(List));
exports.Prop = Prop = (function(superclass){
  var prototype = extend$((import$(Prop, superclass).displayName = 'Prop', Prop), superclass).prototype, constructor = Prop;
  function Prop(key, val){
    var that, i$, len$, fun, this$ = this instanceof ctor$ ? this : new ctor$;
    this$.key = key;
    this$.val = val;
    if (key.value === '...') {
      return Splat(this$.val);
    }
    if (that = val.getAccessors()) {
      this$.val = that;
      for (i$ = 0, len$ = that.length; i$ < len$; ++i$) {
        fun = that[i$];
        fun.x = (fun.hushed = fun.params.length) ? 's' : 'g';
      }
      this$['accessor'] = 'accessor';
    }
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['key', 'val'];
  prototype.show = function(){
    return this.accessor;
  };
  prototype.assigns = function(it){
    var ref$;
    return typeof (ref$ = this.val).assigns == 'function' ? ref$.assigns(it) : void 8;
  };
  prototype.compileAccessor = function(o, key){
    var funs, fun;
    funs = this.val;
    if (funs[1] && funs[0].params.length + funs[1].params.length !== 1) {
      funs[0].carp('invalid accessor parameter');
    }
    return (function(){
      var i$, ref$, len$, results$ = [];
      for (i$ = 0, len$ = (ref$ = funs).length; i$ < len$; ++i$) {
        fun = ref$[i$];
        fun.accessor = true;
        results$.push(fun.x + "et " + key + fun.compile(o, LEVEL_LIST).slice(8));
      }
      return results$;
    }()).join(',\n' + o.indent);
  };
  prototype.compileDescriptor = function(o){
    var obj, i$, ref$, len$, fun;
    obj = Obj();
    for (i$ = 0, len$ = (ref$ = this.val).length; i$ < len$; ++i$) {
      fun = ref$[i$];
      obj.items.push(Prop(Key(fun.x + 'et'), fun));
    }
    obj.items.push(Prop(Key('configurable'), Literal(true)));
    obj.items.push(Prop(Key('enumerable'), Literal(true)));
    return obj.compile(o);
  };
  return Prop;
}(Node));
exports.Arr = Arr = (function(superclass){
  var prototype = extend$((import$(Arr, superclass).displayName = 'Arr', Arr), superclass).prototype, constructor = Arr;
  function Arr(items){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.items = items || [];
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.isArray = YES;
  prototype.asObj = function(){
    var i, item;
    return Obj((function(){
      var i$, ref$, len$, results$ = [];
      for (i$ = 0, len$ = (ref$ = this.items).length; i$ < len$; ++i$) {
        i = i$;
        item = ref$[i$];
        results$.push(Prop(Literal(i), item));
      }
      return results$;
    }.call(this)));
  };
  prototype.toSlice = function(o, base, symbol){
    var items, ref$, ref, i$, len$, i, item, splat, chain;
    items = this.items;
    if (items.length > 1) {
      ref$ = base.cache(o), base = ref$[0], ref = ref$[1];
    } else {
      ref = base;
    }
    for (i$ = 0, len$ = items.length; i$ < len$; ++i$) {
      i = i$;
      item = items[i$];
      if (splat = item instanceof Splat) {
        item = item.it;
      }
      if (item.isEmpty()) {
        continue;
      }
      chain = Chain(base, [Index(item, symbol)]);
      items[i] = splat ? Splat(chain) : chain;
      base = ref;
    }
    chain || this.carp('empty slice');
    return this;
  };
  prototype.compile = function(o){
    var items, code;
    items = this.items;
    if (!items.length) {
      return '[]';
    }
    if (code = Splat.compileArray(o, items)) {
      return this.newed ? "(" + code + ")" : code;
    }
    return "[" + List.compile(o, items, this.deepEq) + "]";
  };
  Arr.maybe = function(nodes){
    if (nodes.length === 1 && !(nodes[0] instanceof Splat)) {
      return nodes[0];
    }
    return constructor(nodes);
  };
  Arr.wrap = function(it){
    return constructor([Splat((it.isArray = YES, it))]);
  };
  return Arr;
}(List));
exports.Unary = Unary = (function(superclass){
  var prototype = extend$((import$(Unary, superclass).displayName = 'Unary', Unary), superclass).prototype, constructor = Unary;
  function Unary(op, it, flag){
    var that, i$, ref$, len$, node, this$ = this instanceof ctor$ ? this : new ctor$;
    if (it != null) {
      if (that = !flag && it.unaries) {
        that.push(op);
        return it;
      }
      switch (op) {
      case '!':
        if (flag) {
          break;
        }
        if (it instanceof Fun && !it.hushed) {
          return it.hushed = true, it;
        }
        return it.invert();
      case '++':
      case '--':
        if (flag) {
          this$.post = true;
        }
        break;
      case 'new':
        if (it instanceof Existence && !it.negated) {
          it = Chain(it).add(Call());
        }
        it.newed = true;
        for (i$ = 0, len$ = (ref$ = it.tails || '').length; i$ < len$; ++i$) {
          node = ref$[i$];
          if (node instanceof Call && !node['new']) {
            if (node.method === '.call') {
              node.args.shift();
            }
            node['new'] = 'new';
            node.method = '';
            return it;
          }
        }
        break;
      case '~':
        if (it instanceof Fun && it.statement && !it.bound) {
          return it.bound = 'this$', it;
        }
      }
    }
    this$.op = op;
    this$.it = it;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['it'];
  prototype.show = function(){
    return [this.post ? '@' : void 8] + this.op;
  };
  prototype.isCallable = function(){
    var ref$;
    return ((ref$ = this.op) === 'do' || ref$ === 'new' || ref$ === 'delete') || this.it == null;
  };
  prototype.isArray = function(){
    return this.it instanceof Arr && this.it.items.length || this.it instanceof Chain && this.it.isArray();
  };
  prototype.isString = function(){
    var ref$;
    return (ref$ = this.op) === 'typeof' || ref$ === 'classof';
  };
  prototype.invert = function(){
    var ref$;
    if (this.op === '!' && ((ref$ = this.it.op) === '!' || ref$ === '<' || ref$ === '>' || ref$ === '<=' || ref$ === '>=' || ref$ === 'of' || ref$ === 'instanceof')) {
      return this.it;
    }
    return constructor('!', this, true);
  };
  prototype.unfoldSoak = function(o){
    var ref$;
    return ((ref$ = this.op) === '++' || ref$ === '--' || ref$ === 'delete') && this.it != null && If.unfoldSoak(o, this, 'it');
  };
  prototype.getAccessors = function(){
    var items;
    if (this.op !== '~') {
      return;
    }
    if (this.it instanceof Fun) {
      return [this.it];
    }
    if (this.it instanceof Arr) {
      items = this.it.items;
      if (!items[2] && items[0] instanceof Fun && items[1] instanceof Fun) {
        return items;
      }
    }
  };
  function crement(it){
    return {
      '++': 'in',
      '--': 'de'
    }[it] + 'crement';
  }
  prototype.compileNode = function(o){
    var that, op, it, x, code;
    if (this.it == null) {
      return this.compileAsFunc(o);
    }
    if (that = this.compileSpread(o)) {
      return that;
    }
    op = this.op, it = this.it;
    switch (op) {
    case '!':
      it.cond = true;
      break;
    case 'new':
      it.isCallable() || it.carp('invalid constructor');
      break;
    case 'do':
      if (o.level === LEVEL_TOP && it instanceof Fun && it.isStatement()) {
        return it.compile(o) + " " + Unary('do', Var(it.name)).compile(o);
      }
      x = Parens(it instanceof Existence && !it.negated
        ? Chain(it).add(Call())
        : Call.make(it));
      return (x.front = this.front, x.newed = this.newed, x).compile(o);
    case 'delete':
      if (it instanceof Var || !it.isAssignable()) {
        this.carp('invalid delete');
      }
      if (o.level && !this['void']) {
        return this.compilePluck(o);
      }
      break;
    case '++':
    case '--':
      it.isAssignable() || this.carp('invalid ' + crement(op));
      if (that = it instanceof Var && o.scope.checkReadOnly(it.value)) {
        this.carp(crement(op) + " of " + that + " \"" + it.value + "\"", ReferenceError);
      }
      if (this.post) {
        it.front = this.front;
      }
      break;
    case '^^':
      return util('clone') + "(" + it.compile(o, LEVEL_LIST) + ")";
    case 'jsdelete':
      return "delete " + it.compile(o, LEVEL_LIST);
    case 'classof':
      return util('toString') + ".call(" + it.compile(o, LEVEL_LIST) + ").slice(8, -1)";
    }
    code = it.compile(o, LEVEL_OP + PREC.unary);
    if (this.post) {
      code += op;
    } else {
      if (op === 'yieldfrom') {
        op = 'yield* ';
      }
      if ((op === 'new' || op === 'typeof' || op === 'delete' || op === 'yield') || (op === '+' || op === '-') && op === code.charAt()) {
        op += ' ';
      }
      code = op + code;
    }
    if (o.level < LEVEL_CALL) {
      return code;
    } else {
      return "(" + code + ")";
    }
  };
  prototype.compileSpread = function(o){
    var it, ops, them, i$, len$, i, node, sp, j$, op, lat, ref$;
    it = this.it;
    ops = [this];
    for (; it instanceof constructor; it = it.it) {
      ops.push(it);
    }
    if (!((it = it.expandSlice(o).unwrap()) instanceof Arr && (them = it.items).length)) {
      return '';
    }
    for (i$ = 0, len$ = them.length; i$ < len$; ++i$) {
      i = i$;
      node = them[i$];
      if (sp = node instanceof Splat) {
        node = node.it;
      }
      for (j$ = ops.length - 1; j$ >= 0; --j$) {
        op = ops[j$];
        node = constructor(op.op, node, op.post);
      }
      them[i] = sp ? lat = Splat(node) : node;
    }
    if (!lat && (this['void'] || !o.level)) {
      it = (ref$ = Block(them), ref$.front = this.front, ref$['void'] = true, ref$);
    }
    return it.compile(o, LEVEL_PAREN);
  };
  prototype.compilePluck = function(o){
    var ref$, get, del, code, ref;
    ref$ = Chain(this.it).cacheReference(o), get = ref$[0], del = ref$[1];
    code = (ref = o.scope.temporary()) + " = " + get.compile(o, LEVEL_LIST) + ", delete " + del.compile(o, LEVEL_LIST) + ", " + o.scope.free(ref);
    if (o.level < LEVEL_LIST) {
      return code;
    } else {
      return "(" + code + ")";
    }
  };
  prototype.compileAsFunc = function(o){
    if (this.op === '!') {
      return util('not');
    } else {
      return "(" + Fun([], Block(Unary(this.op, Chain(Var('it'))))).compile(o) + ")";
    }
  };
  return Unary;
}(Node));
exports.Binary = Binary = (function(superclass){
  var COMPARER, INVERSIONS, prototype = extend$((import$(Binary, superclass).displayName = 'Binary', Binary), superclass).prototype, constructor = Binary;
  function Binary(op, first, second, destructuring){
    var logic, that, ref$, this$ = this instanceof ctor$ ? this : new ctor$;
    if (destructuring) {
      logic = op.logic;
      if (toString$.call(destructuring).slice(8, -1) === 'String') {
        logic = destructuring;
      }
      op = (function(){
        switch (false) {
        case !(that = logic):
          return that;
        case op !== '=':
          return '?';
        default:
          return '=';
        }
      }());
    }
    this$.partial = first == null || second == null;
    if (!this$.partial) {
      if ('=' === op.charAt(op.length - 1) && ((ref$ = op.charAt(op.length - 2)) !== '=' && ref$ !== '<' && ref$ !== '>' && ref$ !== '!')) {
        return Assign(first.unwrap(), second, op);
      }
      switch (op) {
      case 'in':
        return new In(first, second);
      case 'with':
        return new Import(Unary('^^', first), second, false);
      case '<<<':
      case '<<<<':
        return Import(first, second, op === '<<<<');
      case '<|':
        return Block(first).pipe(second, op);
      case '|>':
        return Block(second).pipe(first, '<|');
      case '.':
      case '.~':
        return Chain(first).add(Index(second, op));
      }
    }
    this$.op = op;
    this$.first = first;
    this$.second = second;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['first', 'second'];
  prototype.show = function(){
    return this.op;
  };
  prototype.isCallable = function(){
    var ref$;
    return this.partial || ((ref$ = this.op) === '&&' || ref$ === '||' || ref$ === '?' || ref$ === '<<' || ref$ === '>>') && this.first.isCallable() && this.second.isCallable();
  };
  prototype.isArray = function(){
    switch (this.op) {
    case '*':
      return this.first.isArray();
    case '/':
      return this.second.isMatcher();
    }
  };
  prototype.isString = function(){
    switch (this.op) {
    case '+':
    case '*':
      return this.first.isString() || this.second.isString();
    case '-':
      return this.second.isMatcher();
    }
  };
  COMPARER = /^(?:[!=]=|[<>])=?$/;
  INVERSIONS = {
    '===': '!==',
    '!==': '===',
    '==': '!=',
    '!=': '=='
  };
  prototype.invert = function(){
    var that;
    if (that = !COMPARER.test(this.second.op) && INVERSIONS[this.op]) {
      this.op = that;
      this.wasInverted = true;
      return this;
    }
    return Unary('!', Parens(this), true);
  };
  prototype.invertIt = function(){
    this.inverted = true;
    return this;
  };
  prototype.getDefault = function(){
    switch (this.op) {
    case '?':
    case '||':
    case '&&':
      return this;
    }
  };
  prototype.xorChildren = function(test){
    var ref$, ref1$, first;
    if (!(!(ref$ = first = test(this.first)) !== !(ref1$ = test(this.second)) && (ref$ || ref1$))) {
      return false;
    }
    return first
      ? [this.first, this.second]
      : [this.second, this.first];
  };
  prototype.compileNode = function(o){
    var top, rite, items, that, ref$, code, level;
    if (this.partial) {
      return this.compilePartial(o);
    }
    switch (this.op) {
    case '?':
      return this.compileExistence(o);
    case '*':
      if (this.second.isString()) {
        return this.compileJoin(o);
      }
      if (this.first.isString() || this.first.isArray()) {
        return this.compileRepeat(o);
      }
      break;
    case '-':
      if (this.second.isMatcher()) {
        return this.compileRemove(o);
      }
      break;
    case '/':
      if (this.second.isMatcher()) {
        return this.compileSplit(o);
      }
      break;
    case '**':
    case '^':
      return this.compilePow(o);
    case '<?':
    case '>?':
      return this.compileMinMax(o);
    case '<<':
    case '>>':
      return this.compileCompose(o);
    case '++':
      return this.compileConcat(o);
    case '%%':
      return this.compileMod(o);
    case 'xor':
      return this.compileXor(o);
    case '&&':
    case '||':
      if (top = this['void'] || !o.level) {
        this.second['void'] = true;
      }
      if (top || this.cond) {
        this.first.cond = true;
        this.second.cond = true;
      }
      break;
    case 'instanceof':
      rite = this.second.expandSlice(o).unwrap(), items = rite.items;
      if (rite instanceof Arr) {
        if (items[1]) {
          return this.compileAnyInstanceOf(o, items);
        }
        this.second = items[0] || rite;
      }
      this.second.isCallable() || this.second.carp('invalid instanceof operand');
      break;
    case '====':
    case '!===':
      this.op = this.op.slice(0, 3);
      // fallthrough
    case '<==':
    case '>==':
    case '<<=':
    case '>>=':
      return this.compileDeepEq(o);
    default:
      if (COMPARER.test(this.op)) {
        if (that = ((ref$ = this.op) === '===' || ref$ === '!==') && this.xorChildren(function(it){
          return it.isRegex();
        })) {
          return this.compileRegexEquals(o, that);
        }
        if (this.op === '===' && (this.first instanceof Literal && this.second instanceof Literal) && this.first.isWhat() !== this.second.isWhat()) {
          if (typeof console != 'undefined' && console !== null) {
            console.warn("WARNING: strict comparison of two different types will always be false: " + this.first.value + " == " + this.second.value);
          }
        }
      }
      if (COMPARER.test(this.op) && COMPARER.test(this.second.op)) {
        return this.compileChain(o);
      }
    }
    this.first.front = this.front;
    code = this.first.compile(o, level = LEVEL_OP + PREC[this.op]) + " " + this.mapOp(this.op) + " " + this.second.compile(o, level);
    if (o.level <= level) {
      return code;
    } else {
      return "(" + code + ")";
    }
  };
  prototype.mapOp = function(op){
    var that;
    switch (false) {
    case !(that = op.match(/\.([&\|\^]|<<|>>>?)\./)):
      return that[1];
    case op !== 'of':
      return 'in';
    default:
      return op;
    }
  };
  prototype.compileChain = function(o){
    var code, level, ref$, sub;
    code = this.first.compile(o, level = LEVEL_OP + PREC[this.op]);
    ref$ = this.second.first.cache(o, true), sub = ref$[0], this.second.first = ref$[1];
    code += " " + this.op + " " + sub.compile(o, level) + " && " + this.second.compile(o, LEVEL_OP);
    if (o.level <= LEVEL_OP) {
      return code;
    } else {
      return "(" + code + ")";
    }
  };
  prototype.compileExistence = function(o){
    var x;
    if (this['void'] || !o.level) {
      x = Binary('&&', Existence(this.first, true), this.second);
      return (x['void'] = true, x).compileNode(o);
    }
    x = this.first.cache(o, true);
    return If(Existence(x[0]), x[1]).addElse(this.second).compileExpression(o);
  };
  prototype.compileAnyInstanceOf = function(o, items){
    var ref$, sub, ref, test, i$, len$, item;
    ref$ = this.first.cache(o), sub = ref$[0], ref = ref$[1], this.temps = ref$[2];
    test = Binary('instanceof', sub, items.shift());
    for (i$ = 0, len$ = items.length; i$ < len$; ++i$) {
      item = items[i$];
      test = Binary('||', test, Binary('instanceof', ref, item));
    }
    return Parens(test).compile(o);
  };
  prototype.compileMinMax = function(o){
    var lefts, rites, x;
    lefts = this.first.cache(o, true);
    rites = this.second.cache(o, true);
    x = Binary(this.op.charAt(), lefts[0], rites[0]);
    return If(x, lefts[1]).addElse(rites[1]).compileExpression(o);
  };
  prototype.compileMethod = function(o, klass, method, arg){
    var args;
    args = [this.second].concat(arg || []);
    if (this.first["is" + klass]()) {
      return Chain(this.first, [Index(Key(method)), Call(args)]).compile(o);
    } else {
      args.unshift(this.first);
      return Call.make(JS(util(method) + '.call'), args).compile(o);
    }
  };
  prototype.compileJoin = function(it){
    return this.compileMethod(it, 'Array', 'join');
  };
  prototype.compileRemove = function(it){
    return this.compileMethod(it, 'String', 'replace', JS("''"));
  };
  prototype.compileSplit = function(it){
    return this.compileMethod(it, 'String', 'split');
  };
  prototype.compileRepeat = function(o){
    var x, n, items, arr, that, refs, i$, len$, i, item, ref$, q;
    x = this.first, n = this.second;
    items = (x = x.expandSlice(o).unwrap()).items;
    arr = x.isArray() && 'Array';
    if (that = items && Splat.compileArray(o, items)) {
      x = JS(that);
      items = null;
    }
    if (arr && !items || !(n instanceof Literal && n.value < 0x20)) {
      return Call.make(Util('repeat' + (arr || 'String')), [x, n]).compile(o);
    }
    n = +n.value;
    if (1 <= n && n < 2) {
      return x.compile(o);
    }
    if (items) {
      if (n < 1) {
        return Block(items).add(JS('[]')).compile(o);
      }
      refs = [];
      for (i$ = 0, len$ = items.length; i$ < len$; ++i$) {
        i = i$;
        item = items[i$];
        ref$ = item.cache(o, 1), items[i] = ref$[0], refs[refs.length] = ref$[1];
      }
      items.push((ref$ = JS(), ref$.compile = function(){
        return (repeatString$(", " + List.compile(o, refs), n - 1)).slice(2);
      }, ref$));
      return x.compile(o);
    } else if (x instanceof Literal) {
      return (q = (x = x.compile(o)).charAt()) + repeatString$(x.slice(1, -1) + "", n) + q;
    } else {
      if (n < 1) {
        return Block(x.it).add(JS("''")).compile(o);
      }
      x = (refs = x.cache(o, 1, LEVEL_OP))[0] + repeatString$(" + " + refs[1], n - 1);
      if (o.level < LEVEL_OP + PREC['+']) {
        return x;
      } else {
        return "(" + x + ")";
      }
    }
  };
  prototype.compilePow = function(o){
    return Call.make(JS('Math.pow'), [this.first, this.second]).compile(o);
  };
  prototype.compileConcat = function(o){
    var f;
    f = function(x){
      switch (false) {
      case !(x instanceof Binary && x.op === '++'):
        return f(x.first).concat(f(x.second));
      default:
        return [x];
      }
    };
    return Chain(this.first).add(Index(Key('concat'), '.', true)).add(Call(f(this.second))).compile(o);
  };
  prototype.compileCompose = function(o){
    var op, functions, x;
    op = this.op;
    functions = [this.first];
    x = this.second;
    while (x instanceof Binary && x.op === op) {
      functions.push(x.first);
      x = x.second;
    }
    functions.push(x);
    if (op === '<<') {
      functions.reverse();
    }
    return Chain(Var(util('compose'))).add(Call(functions)).compile(o);
  };
  prototype.compileMod = function(o){
    var ref, code;
    ref = o.scope.temporary();
    code = "(((" + this.first.compile(o) + ") % (" + ref + " = " + this.second.compile(o) + ") + " + ref + ") % " + ref + ")";
    o.scope.free(ref);
    return code;
  };
  prototype.compilePartial = function(o){
    var vit, x, y;
    vit = Var('it');
    switch (false) {
    case !(this.first == null && this.second == null):
      x = Var('x$');
      y = Var('y$');
      return Fun([x, y], Block(Binary(this.op, x, y).invertCheck(this)), false, true).compile(o);
    case this.first == null:
      return "(" + Fun([vit], Block(Binary(this.op, this.first, vit).invertCheck(this))).compile(o) + ")";
    default:
      return "(" + Fun([vit], Block(Binary(this.op, vit, this.second).invertCheck(this))).compile(o) + ")";
    }
  };
  prototype.compileRegexEquals = function(o, arg$){
    var regex, target, method;
    regex = arg$[0], target = arg$[1];
    if (this.op === '===') {
      method = this.wasInverted ? 'test' : 'exec';
      return Chain(regex).add(Index(Key(method))).add(Call([target])).compile(o);
    } else {
      return Unary('!', Chain(regex).add(Index(Key('test'))).add(Call([target]))).compile(o);
    }
  };
  prototype.compileDeepEq = function(o){
    var ref$, negate, i$, len$, x, r;
    if ((ref$ = this.op) === '>==' || ref$ === '>>=') {
      ref$ = [this.second, this.first], this.first = ref$[0], this.second = ref$[1];
      this.op = this.op === '>==' ? '<==' : '<<=';
    }
    if (this.op === '!==') {
      this.op = '===';
      negate = true;
    }
    for (i$ = 0, len$ = (ref$ = [this.first, this.second]).length; i$ < len$; ++i$) {
      x = ref$[i$];
      if (x instanceof Obj || x instanceof Arr) {
        x.deepEq = true;
      }
    }
    r = Chain(Var(util('deepEq'))).add(Call([this.first, this.second, Literal("'" + this.op + "'")]));
    return (negate ? Unary('!', r) : r).compile(o);
  };
  prototype.compileXor = function(o){
    var left, right;
    left = Chain(this.first).cacheReference(o);
    right = Chain(this.second).cacheReference(o);
    return Binary('&&', Binary('!==', Unary('!', left[0]), Unary('!', right[0])), Parens(Binary('||', left[1], right[1]))).compile(o);
  };
  return Binary;
}(Node));
exports.Assign = Assign = (function(superclass){
  var prototype = extend$((import$(Assign, superclass).displayName = 'Assign', Assign), superclass).prototype, constructor = Assign;
  function Assign(left, rite, op, logic, defParam){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.left = left;
    this$.op = op || '=';
    this$.logic = logic || this$.op.logic;
    this$.defParam = defParam;
    this$.op += '';
    this$[rite instanceof Node ? 'right' : 'unaries'] = rite;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['left', 'right'];
  prototype.show = function(){
    return [void 8].concat(this.unaries).reverse().join(' ') + [this.logic] + this.op;
  };
  prototype.assigns = function(it){
    return this.left.assigns(it);
  };
  prototype.delegate(['isCallable', 'isRegex'], function(it){
    var ref$;
    return ((ref$ = this.op) === '=' || ref$ === ':=') && this.right[it]();
  });
  prototype.isArray = function(){
    switch (this.op) {
    case '=':
    case ':=':
      return this.right.isArray();
    case '/=':
      return this.right.isMatcher();
    }
  };
  prototype.isString = function(){
    switch (this.op) {
    case '=':
    case ':=':
    case '+=':
    case '*=':
      return this.right.isString();
    case '-=':
      return this.right.isMatcher();
    }
  };
  prototype.unfoldSoak = function(o){
    var that, ref$, ref1$, rite, temps;
    if (this.left instanceof Existence) {
      if (that = (ref1$ = (ref$ = this.left = this.left.it).name, delete ref$.name, ref1$)) {
        rite = this.right;
        rite = Assign(this.right = Var(that), rite);
      } else {
        ref$ = this.right.cache(o), rite = ref$[0], this.right = ref$[1], temps = ref$[2];
      }
      return ref$ = If(Existence(rite), this), ref$.temps = temps, ref$.cond = this.cond, ref$['void'] = this['void'], ref$;
    }
    return If.unfoldSoak(o, this, 'left');
  };
  prototype.unfoldAssign = function(){
    return this.access && this;
  };
  prototype.compileNode = function(o){
    var left, ref$, i$, len$, op, right, reft, sign, name, lvar, that, protoSplit, dotSplit, code, empty, res;
    if (this.left instanceof Slice && this.op === '=') {
      return this.compileSplice(o);
    }
    left = this.left.expandSlice(o, true).unwrap();
    if (!this.right) {
      left.isAssignable() || left.carp('invalid unary assign');
      ref$ = Chain(left).cacheReference(o), left = ref$[0], this.right = ref$[1];
      for (i$ = 0, len$ = (ref$ = this.unaries).length; i$ < len$; ++i$) {
        op = ref$[i$];
        this.right = Unary(op, this.right);
      }
    }
    if (left.isEmpty()) {
      return (ref$ = Parens(this.right), ref$.front = this.front, ref$.newed = this.newed, ref$).compile(o);
    }
    if (left.getDefault()) {
      this.right = Binary(left.op, this.right, left.second);
      left = left.first;
    }
    if (left.items) {
      return this.compileDestructuring(o, left);
    }
    left.isAssignable() || left.carp('invalid assign');
    if (this.logic) {
      return this.compileConditional(o, left);
    }
    op = this.op, right = this.right;
    if (op === '<?=' || op === '>?=') {
      return this.compileMinMax(o, left, right);
    }
    if ((op === '**=' || op === '^=' || op === '%%=' || op === '++=' || op === '|>=') || op === '*=' && right.isString() || (op === '-=' || op === '/=') && right.isMatcher()) {
      ref$ = Chain(left).cacheReference(o), left = ref$[0], reft = ref$[1];
      right = Binary(op.slice(0, -1), reft, right);
      op = ':=';
    }
    if (op === '.&.=' || op === '.|.=' || op === '.^.=' || op === '.<<.=' || op === '.>>.=' || op === '.>>>.=') {
      op = op.slice(1, -2) + '=';
    }
    (right = right.unparen()).ripName(left = left.unwrap());
    sign = op.replace(':', '');
    name = (left.front = true, left).compile(o, LEVEL_LIST);
    if (lvar = left instanceof Var) {
      if (op === '=') {
        o.scope.declare(name, left, this['const'] || !this.defParam && o['const'] && '$' !== name.slice(-1));
      } else if (that = o.scope.checkReadOnly(name)) {
        left.carp("assignment to " + that + " \"" + name + "\"", ReferenceError);
      }
    }
    if (left instanceof Chain && right instanceof Fun) {
      protoSplit = name.split('.prototype.');
      dotSplit = name.split('.');
      if (protoSplit.length > 1) {
        right.inClass = protoSplit[0];
      } else if (dotSplit.length > 1) {
        right.inClassStatic = slice$.call(dotSplit, 0, -1).join('');
      }
    }
    code = !o.level && right instanceof While && !right['else'] && (lvar || left instanceof Chain && left.isSimpleAccess())
      ? (empty = right.objComp ? '{}' : '[]', (res = o.scope.temporary('res')) + " = " + empty + ";\n" + this.tab + right.makeReturn(res).compile(o) + "\n" + this.tab + name + " " + sign + " " + o.scope.free(res))
      : (name + " " + sign + " ") + right.compile(o, LEVEL_LIST);
    if (o.level > LEVEL_LIST) {
      code = "(" + code + ")";
    }
    return code;
  };
  prototype.compileConditional = function(o, left){
    var lefts, morph;
    if (left instanceof Var && in$(this.logic, ['?']) && this.op === '=') {
      o.scope.declare(left.value, left);
    }
    lefts = Chain(left).cacheReference(o);
    o.level += LEVEL_OP < o.level;
    morph = Binary(this.logic, lefts[0], (this.logic = false, this.left = lefts[1], this));
    return (morph['void'] = this['void'], morph).compileNode(o);
  };
  prototype.compileMinMax = function(o, left, right){
    var lefts, rites, test, put, ref$;
    lefts = Chain(left).cacheReference(o);
    rites = right.cache(o, true);
    test = Binary(this.op.replace('?', ''), lefts[0], rites[0]);
    put = Assign(lefts[1], rites[1], ':=');
    if (this['void'] || !o.level) {
      return Parens(Binary('||', test, put)).compile(o);
    }
    ref$ = test.first.cache(o, true), test.first = ref$[0], left = ref$[1];
    return If(test, left).addElse(put).compileExpression(o);
  };
  prototype.compileDestructuring = function(o, left){
    var items, len, ret, rite, that, cache, rref, list, code;
    items = left.items, len = items.length;
    ret = o.level && !this['void'];
    rite = this.right.compile(o, len === 1 ? LEVEL_CALL : LEVEL_LIST);
    if (that = left.name) {
      cache = that + " = " + rite;
      o.scope.declare(rite = that, left);
    } else if ((ret || len > 1) && (!ID.test(rite) || left.assigns(rite))) {
      cache = (rref = o.scope.temporary()) + " = " + rite;
      rite = rref;
    }
    list = this["rend" + left.constructor.displayName](o, items, rite);
    if (rref) {
      o.scope.free(rref);
    }
    if (cache) {
      list.unshift(cache);
    }
    if (ret || !list.length) {
      list.push(rite);
    }
    code = list.join(', ');
    if (list.length < 2 || o.level < LEVEL_LIST) {
      return code;
    } else {
      return "(" + code + ")";
    }
  };
  prototype.compileSplice = function(o){
    var ref$, fromExpNode, fromExp, rightNode, right, toExp;
    ref$ = Chain(this.left.from).cacheReference(o), fromExpNode = ref$[0], fromExp = ref$[1];
    ref$ = Chain(this.right).cacheReference(o), rightNode = ref$[0], right = ref$[1];
    toExp = Binary('-', this.left.to, fromExp);
    return Block([Chain(Var(util('splice'))).add(Index(Key('apply'), '.', true)).add(Call([this.left.target, Chain(Arr([fromExpNode, toExp])).add(Index(Key('concat'), '.', true)).add(Call([rightNode]))])), right]).compile(o, LEVEL_LIST);
  };
  prototype.rendArr = function(o, nodes, rite){
    var i$, len$, i, node, skip, len, val, ivar, start, inc, rcache, ref$, results$ = [];
    for (i$ = 0, len$ = nodes.length; i$ < len$; ++i$) {
      i = i$;
      node = nodes[i$];
      if (node.isEmpty()) {
        continue;
      }
      if (node instanceof Splat) {
        len && node.carp('multiple splat in an assignment');
        skip = (node = node.it).isEmpty();
        if (i + 1 === (len = nodes.length)) {
          if (skip) {
            break;
          }
          val = Arr.wrap(JS(util('slice') + '.call(' + rite + (i ? ", " + i + ")" : ')')));
        } else {
          val = ivar = rite + ".length - " + (len - i - 1);
          if (skip && i + 2 === len) {
            continue;
          }
          start = i + 1;
          this.temps = [ivar = o.scope.temporary('i')];
          val = skip
            ? (node = Var(ivar), Var(val))
            : Arr.wrap(JS(i + " < (" + ivar + " = " + val + ")\ ? " + util('slice') + ".call(" + rite + ", " + i + ", " + ivar + ")\ : (" + ivar + " = " + i + ", [])"));
        }
      } else {
        (inc = ivar) && start < i && (inc += " + " + (i - start));
        val = Chain(rcache || (rcache = Literal(rite)), [Index(JS(inc || i))]);
      }
      if (node instanceof Assign) {
        node = Binary(node.op, node.left, node.right, node.logic || true);
      }
      results$.push((ref$ = clone$(this), ref$.left = node, ref$.right = val, ref$['void'] = true, ref$).compile(o, LEVEL_PAREN));
    }
    return results$;
  };
  prototype.rendObj = function(o, nodes, rite){
    var i$, len$, node, splat, logic, ref$, key, val, rcache, results$ = [];
    for (i$ = 0, len$ = nodes.length; i$ < len$; ++i$) {
      node = nodes[i$];
      if (splat = node instanceof Splat) {
        node = node.it;
      }
      if (logic = node.getDefault()) {
        node = node.first;
      }
      if (node instanceof Parens) {
        ref$ = Chain(node.it).cacheReference(o), node = ref$[0], key = ref$[1];
      } else if (node instanceof Prop) {
        node = (key = node.key, node).val;
      } else {
        key = node;
      }
      if (node instanceof Key) {
        node = Var(node.name);
      }
      if (logic) {
        node = (logic.first = node, logic);
      }
      val = Chain(rcache || (rcache = Var(rite)), [Index(key.maybeKey())]);
      if (splat) {
        val = Import(Obj(), val);
      }
      results$.push((ref$ = clone$(this), ref$.left = node, ref$.right = val, ref$['void'] = true, ref$).compile(o, LEVEL_PAREN));
    }
    return results$;
  };
  return Assign;
}(Node));
exports.Import = Import = (function(superclass){
  var prototype = extend$((import$(Import, superclass).displayName = 'Import', Import), superclass).prototype, constructor = Import;
  function Import(left, right, all){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.left = left;
    this$.right = right;
    this$.all = all && 'All';
    if (!all && left instanceof Obj && right.items) {
      return Obj(left.items.concat(right.asObj().items));
    }
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['left', 'right'];
  prototype.show = function(){
    return this.all;
  };
  prototype.delegate(['isCallable', 'isArray'], function(it){
    return this.left[it]();
  });
  prototype.unfoldSoak = function(o){
    var left, value, ref$, temps;
    left = this.left;
    if (left instanceof Existence && !left.negated) {
      if ((left = left.it) instanceof Var) {
        value = (this.left = left).value;
        if (!o.scope.check(value, true)) {
          left = JS("typeof " + value + " != 'undefined' && " + value);
        }
      } else {
        ref$ = left.cache(o), left = ref$[0], this.left = ref$[1], temps = ref$[2];
      }
      return ref$ = If(left, this), ref$.temps = temps, ref$.soak = true, ref$.cond = this.cond, ref$['void'] = this['void'], ref$;
    }
    return If.unfoldSoak(o, this, 'left') || (this['void'] || !o.level) && If.unfoldSoak(o, this, 'right');
  };
  prototype.compileNode = function(o){
    var right;
    right = this.right;
    if (!this.all) {
      if (right instanceof Chain) {
        right = right.unfoldSoak(o) || right.unfoldAssign(o) || right.expandSlice(o).unwrap();
      }
      if (right instanceof List) {
        return this.compileAssign(o, right.asObj().items);
      }
    }
    return Call.make(Util("import" + (this.all || '')), [this.left, right]).compileNode(o);
  };
  prototype.compileAssign = function(o, items){
    var top, reft, ref$, left, delim, space, code, i$, len$, i, node, com, logic, dyna, key, val;
    if (!items.length) {
      return this.left.compile(o);
    }
    top = !o.level;
    if (items.length < 2 && (top || this['void'] || items[0] instanceof Splat)) {
      reft = this.left;
      if (reft.isComplex()) {
        reft = Parens(reft);
      }
    } else {
      ref$ = this.left.cache(o), left = ref$[0], reft = ref$[1], this.temps = ref$[2];
    }
    ref$ = top
      ? [';', '\n' + this.tab]
      : [',', ' '], delim = ref$[0], space = ref$[1];
    delim += space;
    code = this.temps ? left.compile(o, LEVEL_PAREN) + delim : '';
    for (i$ = 0, len$ = items.length; i$ < len$; ++i$) {
      i = i$;
      node = items[i$];
      i && (code += com ? space : delim);
      if (com = node.comment) {
        code += node.compile(o);
        continue;
      }
      if (node instanceof Splat) {
        code += Import(reft, node.it).compile(o);
        continue;
      }
      if (logic = node.getDefault()) {
        node = node.first;
      }
      if (dyna = node instanceof Parens) {
        ref$ = node.it.cache(o, true), key = ref$[0], val = ref$[1];
      } else if (node instanceof Prop) {
        key = node.key, val = node.val;
        if (node.accessor) {
          if (key instanceof Key) {
            key = JS("'" + key.name + "'");
          }
          code += "Object.defineProperty(" + reft.compile(o, LEVEL_LIST) + ", " + key.compile(o, LEVEL_LIST) + ", " + node.compileDescriptor(o) + ")";
          continue;
        }
      } else {
        key = val = node;
      }
      dyna || (key = key.maybeKey());
      logic && (val = (logic.first = val, logic));
      code += Assign(Chain(reft, [Index(key)]), val).compile(o, LEVEL_PAREN);
    }
    if (top) {
      return code;
    }
    this['void'] || node instanceof Splat || (code += (com ? ' ' : ', ') + reft.compile(o, LEVEL_PAREN));
    if (o.level < LEVEL_LIST) {
      return code;
    } else {
      return "(" + code + ")";
    }
  };
  return Import;
}(Node));
exports.In = In = (function(superclass){
  var prototype = extend$((import$(In, superclass).displayName = 'In', In), superclass).prototype, constructor = In;
  importAll$(prototype, arguments[1]);
  function In(item, array){
    this.item = item;
    this.array = array;
  }
  prototype.children = ['item', 'array'];
  prototype.compileNode = function(o){
    var array, items, code, ref$, sub, ref, cmp, cnj, i$, len$, i, test;
    items = (array = this.array.expandSlice(o).unwrap()).items;
    if (!(array instanceof Arr) || items.length < 2) {
      return (this.negated ? '!' : '') + "" + util('in') + "(" + this.item.compile(o, LEVEL_LIST) + ", " + array.compile(o, LEVEL_LIST) + ")";
    }
    code = '';
    ref$ = this.item.cache(o, false, LEVEL_PAREN), sub = ref$[0], ref = ref$[1];
    ref$ = this.negated
      ? [' !== ', ' && ']
      : [' === ', ' || '], cmp = ref$[0], cnj = ref$[1];
    for (i$ = 0, len$ = items.length; i$ < len$; ++i$) {
      i = i$;
      test = items[i$];
      code && (code += cnj);
      if (test instanceof Splat) {
        code += (ref$ = new In(Var(ref), test.it), ref$.negated = this.negated, ref$).compile(o, LEVEL_TOP);
        if (!(i || sub === ref)) {
          code = "(" + sub + ", " + code + ")";
        }
      } else {
        code += (i || sub === ref
          ? ref
          : "(" + sub + ")") + cmp + test.compile(o, LEVEL_OP + PREC['==']);
      }
    }
    sub === ref || o.scope.free(ref);
    if (o.level < LEVEL_OP + PREC['||']) {
      return code;
    } else {
      return "(" + code + ")";
    }
  };
  return In;
}(Node, Negatable));
exports.Existence = Existence = (function(superclass){
  var prototype = extend$((import$(Existence, superclass).displayName = 'Existence', Existence), superclass).prototype, constructor = Existence;
  importAll$(prototype, arguments[1]);
  function Existence(it, negated){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.it = it;
    this$.negated = negated;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['it'];
  prototype.compileNode = function(o){
    var node, ref$, code, op, eq;
    node = (ref$ = this.it.unwrap(), ref$.front = this.front, ref$);
    code = node.compile(o, LEVEL_OP + PREC['==']);
    if (node instanceof Var && !o.scope.check(code, true)) {
      ref$ = this.negated
        ? ['||', '=']
        : ['&&', '!'], op = ref$[0], eq = ref$[1];
      code = "typeof " + code + " " + eq + "= 'undefined' " + op + " " + code + " " + eq + "== null";
    } else {
      code += " " + (op = this.negated ? '==' : '!=') + " null";
    }
    if (o.level < LEVEL_OP + PREC[op]) {
      return code;
    } else {
      return "(" + code + ")";
    }
  };
  return Existence;
}(Node, Negatable));
exports.Fun = Fun = (function(superclass){
  var prototype = extend$((import$(Fun, superclass).displayName = 'Fun', Fun), superclass).prototype, constructor = Fun;
  function Fun(params, body, bound, curried, hushed, generator){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.params = params || [];
    this$.body = body || Block();
    this$.bound = bound && 'this$';
    this$.curried = curried || false;
    this$.hushed = hushed != null ? hushed : false;
    this$.generator = generator != null ? generator : false;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['params', 'body'];
  prototype.show = function(){
    var that;
    return [this.name] + [(that = this.bound) ? "~" + that : void 8];
  };
  prototype.named = function(it){
    return this.name = it, this.statement = true, this;
  };
  prototype.isCallable = YES;
  prototype.isStatement = function(){
    return !!this.statement;
  };
  prototype.traverseChildren = function(arg$, xscope){
    if (xscope) {
      return superclass.prototype.traverseChildren.apply(this, arguments);
    }
  };
  prototype.makeReturn = function(){
    if (this.statement) {
      return this.returns = true, this;
    } else {
      return superclass.prototype.makeReturn.apply(this, arguments);
    }
  };
  prototype.ripName = function(it){
    this.name || (this.name = it.varName());
  };
  prototype.compileNode = function(o){
    var pscope, sscope, scope, that, inLoop, ref$, body, name, tab, code, curryCodeCheck, this$ = this;
    pscope = o.scope;
    sscope = pscope.shared || pscope;
    scope = o.scope = this.body.scope = new Scope(this.wrapper ? pscope : sscope, this.wrapper && sscope);
    scope.fun = this;
    if (that = this.proto) {
      scope.assign('prototype', that.compile(o) + ".prototype");
    }
    if (that = this.cname) {
      scope.assign('constructor', that);
    }
    if (inLoop = (ref$ = o.loop, delete o.loop, ref$)) {
      o.indent = this.tab = '';
    }
    o.indent += TAB;
    body = this.body, name = this.name, tab = this.tab;
    code = 'function';
    if (this.generator) {
      this.ctor && this.carp("a constructor can't be a generator");
      this.hushed && this.carp("a generator is hushed by default");
      code += '*';
    }
    if (this.bound === 'this$') {
      if (this.ctor) {
        scope.assign('this$', 'this instanceof ctor$ ? this : new ctor$');
        body.lines.push(Return(Literal('this$')));
      } else if (that = (ref$ = sscope.fun) != null ? ref$.bound : void 8) {
        this.bound = that;
      } else {
        sscope.assign('this$', 'this');
      }
    }
    if (this.statement) {
      name || this.carp('nameless function declaration');
      pscope === o.block.scope || this.carp('misplaced function declaration');
      this.accessor && this.carp('named accessor');
      pscope.add(name, 'function', this);
    }
    if (this.statement || name && this.labeled) {
      code += ' ' + scope.add(name, 'function', this);
    }
    this.hushed || this.ctor || this.newed || this.generator || body.makeReturn();
    code += "(" + this.compileParams(o, scope) + "){";
    if (that = body.compileWithDeclarations(o)) {
      code += "\n" + that + "\n" + tab;
    }
    code += '}';
    curryCodeCheck = function(){
      if (this$.curried && this$.hasSplats) {
        this$.carp('cannot curry a function with a variable number of arguments');
      }
      if (this$.curried && this$.params.length > 1 && !this$.classBound) {
        return (util('curry') + "") + (this$.bound
          ? "((" + code + "), true)"
          : "(" + code + ")");
      } else {
        return code;
      }
    };
    if (inLoop) {
      return pscope.assign(pscope.temporary('fn'), curryCodeCheck());
    }
    if (this.returns) {
      code += "\n" + tab + "return " + name + ";";
    } else if (this.bound && this.ctor) {
      code += ' function ctor$(){} ctor$.prototype = prototype;';
    }
    code = curryCodeCheck();
    if (this.front && !this.statement) {
      return "(" + code + ")";
    } else {
      return code;
    }
  };
  prototype.compileParams = function(o, scope){
    var params, length, body, i$, p, len$, i, splace, rest, that, names, assigns, dic, vr, df, unaries, hasUnary, v, ref$, ref1$;
    params = this.params, length = params.length, body = this.body;
    for (i$ = params.length - 1; i$ >= 0; --i$) {
      p = params[i$];
      if (!(p.isEmpty() || p.filler)) {
        break;
      }
      --params.length;
    }
    for (i$ = 0, len$ = params.length; i$ < len$; ++i$) {
      i = i$;
      p = params[i$];
      if (p instanceof Splat) {
        this.hasSplats = true;
        splace = i;
      } else if (p.op === '=') {
        params[i] = Binary(p.logic || '?', p.left, p.right);
      }
    }
    if (splace != null) {
      rest = params.splice(splace, 9e9);
    } else if (this.accessor) {
      if (that = params[1]) {
        that.carp('excess accessor parameter');
      }
    } else if (!(length || this.wrapper)) {
      if (body.traverseChildren(function(it){
        return it.value === 'it' || null;
      })) {
        params[0] = Var('it');
      }
    }
    names = [];
    assigns = [];
    if (params.length) {
      dic = {};
      for (i$ = 0, len$ = params.length; i$ < len$; ++i$) {
        p = params[i$];
        vr = p;
        if (df = vr.getDefault()) {
          vr = vr.first;
        }
        if (vr.isEmpty()) {
          vr = Var(scope.temporary('arg'));
        } else if (vr.value === '..') {
          vr = Var(o.ref = scope.temporary());
        } else if (!(vr instanceof Var)) {
          unaries = [];
          while (vr instanceof Unary) {
            hasUnary = true;
            unaries.push(vr);
            vr = vr.it;
          }
          v = Var((ref1$ = (ref$ = vr.it || vr).name, delete ref$.name, ref1$) || vr.varName() || scope.temporary('arg'));
          assigns.push(Assign(vr, (fn$())));
          vr = v;
        } else if (df) {
          assigns.push(Assign(vr, p.second, '=', p.op, true));
        }
        names.push(scope.add(vr.value, 'arg', p));
      }
    }
    if (rest) {
      while (splace--) {
        rest.unshift(Arr());
      }
      assigns.push(Assign(Arr(rest), Literal('arguments')));
    }
    if (assigns.length) {
      (ref$ = this.body).prepend.apply(ref$, assigns);
    }
    return names.join(', ');
    function fn$(){
      switch (false) {
      case !df:
        return Binary(p.op, v, p.second);
      case !hasUnary:
        return fold(function(x, y){
          y.it = x;
          return y;
        }, v, unaries.reverse());
      default:
        return v;
      }
    }
  };
  return Fun;
}(Node));
exports.Class = Class = (function(superclass){
  var prototype = extend$((import$(Class, superclass).displayName = 'Class', Class), superclass).prototype, constructor = Class;
  function Class(arg$){
    var body;
    this.title = arg$.title, this.sup = arg$.sup, this.mixins = arg$.mixins, body = arg$.body;
    this.fun = Fun([], body);
  }
  prototype.children = ['title', 'sup', 'mixins', 'fun'];
  prototype.isCallable = YES;
  prototype.ripName = function(it){
    this.name = it.varName();
  };
  prototype.compile = function(o, level){
    var fun, body, lines, title, boundFuncs, curriedBoundFuncs, decl, name, proto, ctorName, ctor, ctorPlace, importProtoObj, i$, len$, i, node, f, vname, args, that, imports, ref$, res$, clas;
    fun = this.fun, body = fun.body, lines = body.lines, title = this.title;
    boundFuncs = [];
    curriedBoundFuncs = [];
    decl = title != null ? title.varName() : void 8;
    name = decl || this.name;
    if (ID.test(name || '')) {
      fun.cname = name;
    } else {
      name = 'constructor';
    }
    proto = Var('prototype');
    ctorName = 'constructor$$';
    importProtoObj = function(node, i){
      var j, prop, key, i$, ref$, len$, v;
      j = 0;
      for (; j < node.items.length; j++) {
        prop = node.items[j];
        key = prop.key;
        if ((key instanceof Key && key.name === ctorName) || (key instanceof Literal && key.value === "'" + ctorName + "'")) {
          if (ctor) {
            node.carp('redundant constructor');
          }
          ctor = prop.val;
          node.items.splice(j--, 1);
          ctorPlace = i;
        }
        if (!(prop.val instanceof Fun || prop.accessor)) {
          continue;
        }
        if (key.isComplex()) {
          key = Var(o.scope.temporary('key'));
          prop.key = Assign(key, prop.key);
        }
        if (prop.val.bound) {
          if (prop.val.curried) {
            curriedBoundFuncs.push(prop.key);
          } else {
            boundFuncs.push(prop.key);
          }
          prop.val.bound = false;
          prop.val.classBound = true;
        }
        for (i$ = 0, len$ = (ref$ = [].concat(prop.val)).length; i$ < len$; ++i$) {
          v = ref$[i$];
          v.meth = key;
        }
      }
      if (node.items.length) {
        return Import(proto, node);
      } else {
        return Literal('void');
      }
    };
    for (i$ = 0, len$ = lines.length; i$ < len$; ++i$) {
      i = i$;
      node = lines[i$];
      if (node instanceof Obj) {
        lines[i] = importProtoObj(node, i);
      } else if (node instanceof Fun && !node.statement) {
        ctor && node.carp('redundant constructor');
        ctor = node;
      } else if (node instanceof Assign && node.left instanceof Chain && node.left.head.value === 'this' && node.right instanceof Fun) {
        node.right.stat = node.left.tails[0].key;
      } else {
        node.traverseChildren(fn$);
      }
    }
    ctor || (ctor = lines[lines.length] = this.sup
      ? Fun([], Block(Chain(new Super).add(Call([Splat(Literal('arguments'))]))))
      : Fun());
    if (!(ctor instanceof Fun)) {
      lines.splice(ctorPlace + 1, 0, Assign(Var(ctorName), ctor));
      lines.unshift(ctor = Fun([], Block(Return(Chain(Var(ctorName)).add(Call([Splat('arguments', true)]))))));
    }
    ctor.name = name;
    ctor.ctor = true;
    ctor.statement = true;
    for (i$ = 0, len$ = boundFuncs.length; i$ < len$; ++i$) {
      f = boundFuncs[i$];
      ctor.body.lines.unshift(Assign(Chain(Literal('this')).add(Index(f)), Chain(Var(util('bind'))).add(Call([Literal('this'), Literal("'" + f.name + "'"), Var('prototype')]))));
    }
    for (i$ = 0, len$ = curriedBoundFuncs.length; i$ < len$; ++i$) {
      f = curriedBoundFuncs[i$];
      ctor.body.lines.unshift(Assign(Chain(Literal('this')).add(Index(Key("_" + f.name))), Chain(Var(util('curry'))).add(Call([Chain(Var('prototype')).add(Index(f)), Var('true')]))), Assign(Chain(Literal('this')).add(Index(f)), Chain(Var(util('bind'))).add(Call([Literal('this'), Literal("'_" + f.name + "'")]))));
    }
    lines.push(vname = fun.proto = Var(fun.bound = name));
    args = [];
    if (that = this.sup) {
      args.push(that);
      imports = Chain(Import(Literal('this'), Var('superclass')));
      fun.proto = Util.Extends(fun.cname ? Block([Assign(imports.add(Index(Key('displayName'))), Literal("'" + name + "'")), Literal(name)]) : imports, (ref$ = fun.params)[ref$.length] = Var('superclass'));
    }
    if (that = this.mixins) {
      res$ = [];
      for (i$ = 0, len$ = that.length; i$ < len$; ++i$) {
        args[args.length] = that[i$];
        res$.push(Import(proto, JS("arguments[" + (args.length - 1) + "]"), true));
      }
      imports = res$;
      body.prepend.apply(body, imports);
    }
    if (fun.cname && !this.sup) {
      body.prepend(Literal(name + ".displayName = '" + name + "'"));
    }
    clas = Parens(Call.make(fun, args), true);
    if (decl && title.isComplex()) {
      clas = Assign(vname, clas);
    }
    if (title) {
      clas = Assign(title, clas);
    }
    return clas.compile(o, level);
    function fn$(it){
      var i$, ref$, len$, k, child;
      if (it instanceof Block) {
        for (i$ = 0, len$ = (ref$ = it.lines).length; i$ < len$; ++i$) {
          k = i$;
          child = ref$[i$];
          if (child instanceof Obj) {
            it.lines[k] = importProtoObj(child, i);
          }
        }
      }
    }
  };
  return Class;
}(Node));
exports.Super = Super = (function(superclass){
  var prototype = extend$((import$(Super, superclass).displayName = 'Super', Super), superclass).prototype, constructor = Super;
  function Super(){}
  prototype.isCallable = YES;
  prototype.compile = function(o){
    var scope, that, result, ref$;
    scope = o.scope;
    if (!this.sproto) {
      for (; that = !scope.get('superclass') && scope.fun; scope = scope.parent) {
        result = that;
        if (that = result.meth) {
          return 'superclass.prototype' + Index(that).compile(o);
        }
        if (that = result.stat) {
          return 'superclass' + Index(that).compile(o);
        }
        if (that = scope.fun.inClass) {
          return that + ".superclass.prototype." + scope.fun.name;
        } else if (that = scope.fun.inClassStatic) {
          return that + ".superclass." + scope.fun.name;
        }
      }
      if (that = (ref$ = o.scope.fun) != null ? ref$.name : void 8) {
        return that + ".superclass";
      }
    }
    return 'superclass';
  };
  return Super;
}(Node));
exports.Parens = Parens = (function(superclass){
  var prototype = extend$((import$(Parens, superclass).displayName = 'Parens', Parens), superclass).prototype, constructor = Parens;
  function Parens(it, keep, string){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.it = it;
    this$.keep = keep;
    this$.string = string;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['it'];
  prototype.show = function(){
    return this.string && '""';
  };
  prototype.delegate(['isComplex', 'isCallable', 'isArray', 'isRegex'], function(it){
    return this.it[it]();
  });
  prototype.isString = function(){
    return this.string || this.it.isString();
  };
  prototype.unparen = function(){
    if (this.keep) {
      return this;
    } else {
      return this.it.unparen();
    }
  };
  prototype.compile = function(o, level){
    var it;
    level == null && (level = o.level);
    it = this.it;
    it.cond || (it.cond = this.cond), it['void'] || (it['void'] = this['void']);
    if (this.calling && (!level || this['void'])) {
      it.head.hushed = true;
    }
    if (!(this.keep || this.newed || level >= LEVEL_OP + PREC[it.op])) {
      return (it.front = this.front, it).compile(o, level || LEVEL_PAREN);
    }
    if (it.isStatement()) {
      return it.compileClosure(o);
    } else {
      return "(" + it.compile(o, LEVEL_PAREN) + ")";
    }
  };
  return Parens;
}(Node));
exports.Splat = Splat = (function(superclass){
  var ref$, prototype = extend$((import$(Splat, superclass).displayName = 'Splat', Splat), superclass).prototype, constructor = Splat;
  function Splat(it, filler){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.it = it;
    this$.filler = filler;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  ref$ = Parens.prototype, prototype.children = ref$.children, prototype.isComplex = ref$.isComplex;
  prototype.isAssignable = YES;
  prototype.assigns = function(it){
    return this.it.assigns(it);
  };
  prototype.compile = function(){
    return this.carp('invalid splat');
  };
  Splat.compileArray = function(o, list, apply){
    var index, i$, len$, node, args, atoms, ref$;
    expand(list);
    index = 0;
    for (i$ = 0, len$ = list.length; i$ < len$; ++i$) {
      node = list[i$];
      if (node instanceof Splat) {
        break;
      }
      ++index;
    }
    if (index >= list.length) {
      return '';
    }
    if (!list[1]) {
      return (apply ? Object : ensureArray)(list[0].it).compile(o, LEVEL_LIST);
    }
    args = [];
    atoms = [];
    for (i$ = 0, len$ = (ref$ = list.splice(index, 9e9)).length; i$ < len$; ++i$) {
      node = ref$[i$];
      if (node instanceof Splat) {
        if (atoms.length) {
          args.push(Arr(atoms.splice(0, 9e9)));
        }
        args.push(ensureArray(node.it));
      } else {
        atoms.push(node);
      }
    }
    if (atoms.length) {
      args.push(Arr(atoms));
    }
    return (index
      ? Arr(list)
      : args.shift()).compile(o, LEVEL_CALL) + (".concat(" + List.compile(o, args) + ")");
  };
  function expand(nodes){
    var index, node, it;
    index = -1;
    while (node = nodes[++index]) {
      if (node instanceof Splat) {
        it = node.it;
        if (it.isEmpty()) {
          nodes.splice(index--, 1);
        } else if (it instanceof Arr) {
          nodes.splice.apply(nodes, [index, 1].concat(slice$.call(expand(it.items))));
          index += it.items.length - 1;
        }
      }
    }
    return nodes;
  }
  function ensureArray(node){
    if (node.isArray()) {
      return node;
    }
    return Call.make(JS(util('slice') + '.call'), [node]);
  }
  return Splat;
}(Node));
exports.Jump = Jump = (function(superclass){
  var prototype = extend$((import$(Jump, superclass).displayName = 'Jump', Jump), superclass).prototype, constructor = Jump;
  function Jump(verb, label){
    this.verb = verb;
    this.label = label;
  }
  prototype.show = function(){
    var that;
    return (this.verb || '') + ((that = this.label) ? ' ' + that : '');
  };
  prototype.isStatement = YES;
  prototype.makeReturn = THIS;
  prototype.getJump = function(ctx){
    var that, ref$;
    ctx || (ctx = {});
    if (!ctx[this.verb]) {
      return this;
    }
    if (that = this.label) {
      return !in$(that, (ref$ = ctx.labels) != null
        ? ref$
        : ctx.labels = []) && this;
    }
  };
  prototype.compileNode = function(o){
    var that, ref$;
    if (that = this.label) {
      in$(that, (ref$ = o.labels) != null
        ? ref$
        : o.labels = []) || this.carp("unknown label \"" + that + "\"");
    } else {
      o[this.verb] || this.carp("stray " + this.verb);
    }
    return this.show() + ';';
  };
  Jump.extended = function(sub){
    sub.prototype.children = ['it'];
    this[sub.displayName.toLowerCase()] = sub;
  };
  return Jump;
}(Node));
exports.Throw = Throw = (function(superclass){
  var prototype = extend$((import$(Throw, superclass).displayName = 'Throw', Throw), superclass).prototype, constructor = Throw;
  function Throw(it){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.it = it;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.getJump = VOID;
  prototype.compileNode = function(o){
    var ref$;
    return "throw " + (((ref$ = this.it) != null ? ref$.compile(o, LEVEL_PAREN) : void 8) || 'null') + ";";
  };
  return Throw;
}(Jump));
exports.Return = Return = (function(superclass){
  var prototype = extend$((import$(Return, superclass).displayName = 'Return', Return), superclass).prototype, constructor = Return;
  function Return(it){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    if (it && it.value !== 'void') {
      this$.it = it;
    }
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.getJump = THIS;
  prototype.compileNode = function(o){
    var that;
    return "return" + ((that = this.it) ? ' ' + that.compile(o, LEVEL_PAREN) : '') + ";";
  };
  return Return;
}(Jump));
exports.While = While = (function(superclass){
  var prototype = extend$((import$(While, superclass).displayName = 'While', While), superclass).prototype, constructor = While;
  function While(test, un, mode){
    this.un = un;
    mode && (mode instanceof Node
      ? this.update = mode
      : this.post = true);
    if (this.post || test.value !== '' + !un) {
      this.test = test;
    }
  }
  prototype.children = ['test', 'body', 'update', 'else'];
  prototype.aSource = 'test';
  prototype.aTargets = ['body', 'update'];
  prototype.show = function(){
    return [this.un ? '!' : void 8, this.post ? 'do' : void 8].join('');
  };
  prototype.isStatement = prototype.isArray = YES;
  prototype.makeComprehension = function(toAdd, loops){
    this.isComprehension = true;
    while (loops.length) {
      toAdd = loops.pop().addBody(Block(toAdd));
      if (!toAdd.isComprehension) {
        toAdd.inComprehension = true;
      }
    }
    return this.addBody(Block(toAdd));
  };
  prototype.getJump = function(ctx){
    var i$, ref$, ref1$, len$, node;
    ctx || (ctx = {});
    ctx['continue'] = true;
    ctx['break'] = true;
    for (i$ = 0, len$ = (ref$ = ((ref1$ = this.body) != null ? ref1$.lines : void 8) || []).length; i$ < len$; ++i$) {
      node = ref$[i$];
      if (node.getJump(ctx)) {
        return node;
      }
    }
  };
  prototype.addBody = function(body){
    var top;
    this.body = body;
    if (this.guard) {
      this.body = Block(If(this.guard, this.body));
    }
    top = this.body.lines[0];
    if ((top != null ? top.verb : void 8) === 'continue' && !top.label) {
      this.body.lines.length = 0;
    }
    return this;
  };
  prototype.addGuard = function(guard){
    this.guard = guard;
    return this;
  };
  prototype.addObjComp = function(objComp){
    this.objComp = objComp != null ? objComp : true;
    return this;
  };
  prototype.makeReturn = function(it){
    var last, ref$, ref1$, ref2$;
    if (this.hasReturned) {
      return this;
    }
    if (it) {
      if (this.objComp) {
        this.body = Block(this.body.makeReturn(it, true));
        if (this.guard) {
          this.body = If(this.guard, this.body);
        }
      } else {
        if (!(this.body || this.index)) {
          this.addBody(Block(Var(this.index = 'ridx$')));
        }
        last = (ref$ = this.body.lines) != null ? ref$[ref$.length - 1] : void 8;
        if ((this.isComprehension || this.inComprehension) && !(last != null && last.isComprehension)) {
          (ref1$ = this.body).makeReturn.apply(ref1$, arguments);
          if ((ref1$ = this['else']) != null) {
            ref1$.makeReturn.apply(ref1$, arguments);
          }
          this.hasReturned = true;
        } else {
          this.resVar = it;
          if ((ref2$ = this['else']) != null) {
            ref2$.makeReturn.apply(ref2$, arguments);
          }
        }
      }
    } else {
      this.getJump() || (this.returns = true);
    }
    return this;
  };
  prototype.compileNode = function(o){
    var test, ref$, head, that;
    o.loop = true;
    this.test && (this.un
      ? this.test = this.test.invert()
      : this.anaphorize());
    if (this.post) {
      return 'do {' + this.compileBody((o.indent += TAB, o));
    }
    test = ((ref$ = this.test) != null ? ref$.compile(o, LEVEL_PAREN) : void 8) || '';
    if (!(this.update || this['else'])) {
      head = test ? "while (" + test : 'for (;;';
    } else {
      head = 'for (';
      if (this['else']) {
        head += (this.yet = o.scope.temporary('yet')) + " = true";
      }
      head += ";" + (test && ' ' + test) + ";";
      if (that = this.update) {
        head += ' ' + that.compile(o, LEVEL_PAREN);
      }
    }
    return head + ') {' + this.compileBody((o.indent += TAB, o));
  };
  prototype.compileBody = function(o){
    var lines, yet, tab, code, ret, mid, empty, resultName, last, hasLoop, res, temp, key$, ref$, that;
    o['break'] = o['continue'] = true;
    lines = this.body.lines, yet = this.yet, tab = this.tab;
    code = ret = mid = '';
    empty = this.objComp ? '{}' : '[]';
    resultName = this.objComp ? 'resultObj$' : 'results$';
    last = lines != null ? lines[lines.length - 1] : void 8;
    if (!((this.isComprehension || this.inComprehension) && !(last != null && last.isComprehension))) {
      if (last != null) {
        last.traverseChildren(function(it){
          var ref$;
          if (it instanceof Block && (ref$ = it.lines)[ref$.length - 1] instanceof While) {
            hasLoop = true;
          }
        });
      }
      if (this.returns && !this.resVar) {
        this.resVar = res = o.scope.assign(resultName, empty);
      }
      if (this.resVar && (last instanceof While || hasLoop)) {
        temp = o.scope.temporary('lresult');
        lines.unshift(Assign(Var(temp), lines[lines.length - 1].objComp
          ? Obj()
          : Arr(), '='));
        if (lines[key$ = lines.length - 1] != null) {
          lines[key$] = lines[key$].makeReturn(temp);
        }
        mid += TAB + "" + Chain(Var(this.resVar)).add(Index(Key('push'), '.', true)).add(Call([Chain(Var(temp))])).compile(o) + ";\n" + this.tab;
      } else {
        this.hasReturned = true;
        if (this.resVar) {
          this.body.makeReturn(this.resVar);
        }
      }
    }
    if (this.returns) {
      if (this.objComp) {
        this.body = Block(this.body.makeReturn(resultName, true));
      }
      if (this.guard && this.objComp) {
        this.body = If(this.guard, this.body);
      }
      if ((!last instanceof While && !this.hasReturned) || this.isComprehension || this.inComprehension) {
        if (lines[key$ = lines.length - 1] != null) {
          lines[key$] = lines[key$].makeReturn(res = o.scope.assign(resultName, empty));
        }
      }
      ret += "\n" + this.tab + "return " + (res || empty) + ";";
      if ((ref$ = this['else']) != null) {
        ref$.makeReturn();
      }
    }
    yet && lines.unshift(JS(yet + " = false;"));
    if (that = this.body.compile(o, LEVEL_TOP)) {
      code += "\n" + that + "\n" + tab;
    }
    code += mid;
    code += '}';
    if (this.post) {
      code += " while (" + this.test.compile((o.tab = tab, o), LEVEL_PAREN) + ");";
    }
    if (yet) {
      code += " if (" + yet + ") " + this.compileBlock(o, Block(this['else']));
      o.scope.free(yet);
    }
    return code + ret;
  };
  return While;
}(Node));
exports.For = For = (function(superclass){
  var prototype = extend$((import$(For, superclass).displayName = 'For', For), superclass).prototype, constructor = For;
  function For(it){
    var i$, x$, ref$, len$;
    importAll$(this, it);
    if (this.item instanceof Var && !this.item.value) {
      this.item = null;
    }
    for (i$ = 0, len$ = (ref$ = this.kind || []).length; i$ < len$; ++i$) {
      x$ = ref$[i$];
      this[x$] = true;
    }
    if (this.own && !this.object) {
      this.carp('`for own` requires `of`');
    }
  }
  prototype.children = ['item', 'source', 'from', 'to', 'step', 'body'];
  prototype.aSource = null;
  prototype.show = function(){
    return (this.kind.concat(this.index)).join(' ');
  };
  prototype.addBody = function(body){
    var ref$, x$, that, this$ = this;
    if (this['let']) {
      if (ref$ = this.ref, delete this.ref, ref$) {
        this.item = Literal('..');
      }
      body = Block(Call['let']((x$ = [], (that = this.index) && x$.push(Assign(Var(that), Literal('index$$'))), (that = this.item) && x$.push(Assign(that, Literal('item$$'))), x$), body));
    }
    superclass.prototype.addBody.call(this, body);
    if (this.guard && this['let'] && (this.index || this.item)) {
      this.body.lines[0]['if'].traverseChildren(function(it){
        if (it instanceof Var) {
          if (this$.index && it.value === this$.index) {
            it.value = 'index$$';
          }
          if (this$.item && it.value === this$.item.value) {
            it.value = 'item$$';
          }
        }
      });
    }
    if (this['let']) {
      delete this.index;
      delete this.item;
    }
    return this;
  };
  prototype.compileNode = function(o){
    var temps, idx, ref$, pvar, step, tvar, tail, fvar, vars, eq, cond, svar, srcPart, lvar, head, that, body;
    o.loop = true;
    temps = this.temps = [];
    if (this.object && this.index) {
      o.scope.declare(idx = this.index);
    } else {
      temps.push(idx = o.scope.temporary('i'));
    }
    if (!this.body) {
      this.addBody(Block(Var(idx)));
    }
    if (!this.object) {
      ref$ = (this.step || Literal(1)).compileLoopReference(o, 'step'), pvar = ref$[0], step = ref$[1];
      pvar === step || temps.push(pvar);
    }
    if (this.from) {
      ref$ = this.to.compileLoopReference(o, 'to'), tvar = ref$[0], tail = ref$[1];
      fvar = this.from.compile(o, LEVEL_LIST);
      vars = idx + " = " + fvar;
      if (tail !== tvar) {
        vars += ", " + tail;
        temps.push(tvar);
      }
      if (!this.step && +fvar > +tvar) {
        pvar = step = -1;
      }
      eq = this.op === 'til' ? '' : '=';
      cond = +pvar
        ? idx + " " + '<>'.charAt(pvar < 0) + eq + " " + tvar
        : pvar + " < 0 ? " + idx + " >" + eq + " " + tvar + " : " + idx + " <" + eq + " " + tvar;
    } else {
      if (this.ref) {
        this.item = Var(o.scope.temporary('x'));
      }
      if (this.item || this.object && this.own || this['let']) {
        ref$ = this.source.compileLoopReference(o, 'ref', !this.object), svar = ref$[0], srcPart = ref$[1];
        svar === srcPart || temps.push(svar);
      } else {
        svar = srcPart = this.source.compile(o, LEVEL_PAREN);
      }
      if (!this.object) {
        if (0 > pvar && ~~pvar === +pvar) {
          vars = idx + " = " + srcPart + ".length - 1";
          cond = idx + " >= 0";
        } else {
          temps.push(lvar = o.scope.temporary('len'));
          vars = idx + " = 0, " + lvar + " = " + srcPart + ".length";
          cond = idx + " < " + lvar;
        }
      }
    }
    this['else'] && (this.yet = o.scope.temporary('yet'));
    head = 'for (';
    if (this.object) {
      head += idx + " in ";
    }
    if (that = this.yet) {
      head += that + " = true, ";
    }
    if (this.object) {
      head += srcPart;
    } else {
      step === pvar || (vars += ', ' + step);
      head += (vars + "; " + cond + "; ") + (1 == Math.abs(pvar)
        ? (pvar < 0 ? '--' : '++') + idx
        : idx + (pvar < 0
          ? ' -= ' + pvar.slice(1)
          : ' += ' + pvar));
    }
    this.own && (head += ") if (" + o.scope.assign('own$', '{}.hasOwnProperty') + ".call(" + svar + ", " + idx + ")");
    head += ') {';
    if (this['let']) {
      this.body.traverseChildren(function(it){
        switch (it.value) {
        case 'index$$':
          it.value = idx;
          break;
        case 'item$$':
          it.value = svar + "[" + idx + "]";
        }
      });
    }
    o.indent += TAB;
    if (this.index && !this.object) {
      head += '\n' + o.indent + Assign(Var(this.index), JS(idx)).compile(o, LEVEL_TOP) + ';';
    }
    if (this.item && !this.item.isEmpty()) {
      head += '\n' + o.indent + Assign(this.item, JS(svar + "[" + idx + "]")).compile(o, LEVEL_TOP) + ';';
    }
    if (this.ref) {
      o.ref = this.item.value;
    }
    body = this.compileBody(o);
    if ((this.item || (this.index && !this.object)) && '}' === body.charAt(0)) {
      head += '\n' + this.tab;
    }
    return head + body;
  };
  return For;
}(While));
exports.Try = Try = (function(superclass){
  var prototype = extend$((import$(Try, superclass).displayName = 'Try', Try), superclass).prototype, constructor = Try;
  function Try(attempt, thrown, recovery, ensure){
    var ref$;
    this.attempt = attempt;
    this.thrown = thrown;
    this.recovery = recovery;
    this.ensure = ensure;
    if ((ref$ = this.recovery) != null) {
      ref$.lines.unshift(Assign(this.thrown || Var('e'), Var('e$')));
    }
  }
  prototype.children = ['attempt', 'recovery', 'ensure'];
  prototype.show = function(){
    return this.thrown;
  };
  prototype.isStatement = YES;
  prototype.isCallable = function(){
    var ref$;
    return ((ref$ = this.recovery) != null ? ref$.isCallable() : void 8) && this.attempt.isCallable();
  };
  prototype.getJump = function(it){
    var ref$;
    return this.attempt.getJump(it) || ((ref$ = this.recovery) != null ? ref$.getJump(it) : void 8);
  };
  prototype.makeReturn = function(){
    var ref$;
    this.attempt = (ref$ = this.attempt).makeReturn.apply(ref$, arguments);
    if (this.recovery != null) {
      this.recovery = (ref$ = this.recovery).makeReturn.apply(ref$, arguments);
    }
    return this;
  };
  prototype.compileNode = function(o){
    var code, that;
    o.indent += TAB;
    code = 'try ' + this.compileBlock(o, this.attempt);
    if (that = this.recovery || !this.ensure && JS('')) {
      code += ' catch (e$) ' + this.compileBlock(o, that);
    }
    if (that = this.ensure) {
      code += ' finally ' + this.compileBlock(o, that);
    }
    return code;
  };
  return Try;
}(Node));
exports.Switch = Switch = (function(superclass){
  var prototype = extend$((import$(Switch, superclass).displayName = 'Switch', Switch), superclass).prototype, constructor = Switch;
  function Switch(type, topic, cases, $default){
    var last, ref$;
    this.type = type;
    this.topic = topic;
    this.cases = cases;
    this['default'] = $default;
    if (type === 'match') {
      if (topic) {
        this.target = Arr(topic);
      }
      this.topic = null;
    } else {
      if (topic) {
        if (topic.length > 1) {
          throw "can't have more than one topic in switch statement";
        }
        this.topic = this.topic[0];
      }
    }
    if (this.cases.length && (last = (ref$ = this.cases)[ref$.length - 1]).tests.length === 1 && last.tests[0] instanceof Var && last.tests[0].value === '_') {
      this.cases.pop();
      this['default'] = last.body;
    }
  }
  prototype.children = ['topic', 'cases', 'default'];
  prototype.aSource = 'topic';
  prototype.aTargets = ['cases', 'default'];
  prototype.show = function(){
    return this.type;
  };
  prototype.isStatement = YES;
  prototype.isCallable = function(){
    var i$, ref$, len$, c;
    for (i$ = 0, len$ = (ref$ = this.cases).length; i$ < len$; ++i$) {
      c = ref$[i$];
      if (!c.isCallable()) {
        return false;
      }
    }
    if (this['default']) {
      return this['default'].isCallable();
    } else {
      return true;
    }
  };
  prototype.getJump = function(ctx){
    var i$, ref$, len$, c, that;
    ctx || (ctx = {});
    ctx['break'] = true;
    for (i$ = 0, len$ = (ref$ = this.cases).length; i$ < len$; ++i$) {
      c = ref$[i$];
      if (that = c.body.getJump(ctx)) {
        return that;
      }
    }
    return (ref$ = this['default']) != null ? ref$.getJump(ctx) : void 8;
  };
  prototype.makeReturn = function(){
    var i$, ref$, len$, c;
    for (i$ = 0, len$ = (ref$ = this.cases).length; i$ < len$; ++i$) {
      c = ref$[i$];
      c.makeReturn.apply(c, arguments);
    }
    if ((ref$ = this['default']) != null) {
      ref$.makeReturn.apply(ref$, arguments);
    }
    return this;
  };
  prototype.compileNode = function(o){
    var tab, ref$, targetNode, target, topic, t, code, stop, i$, len$, i, c, that;
    tab = this.tab;
    if (this.target) {
      ref$ = Chain(this.target).cacheReference(o), targetNode = ref$[0], target = ref$[1];
    }
    topic = this.type === 'match'
      ? (t = target
        ? [targetNode]
        : [], Block(t.concat([Literal('false')])).compile(o, LEVEL_PAREN))
      : !!this.topic && this.anaphorize().compile(o, LEVEL_PAREN);
    code = "switch (" + topic + ") {\n";
    stop = this['default'] || this.cases.length - 1;
    o['break'] = true;
    for (i$ = 0, len$ = (ref$ = this.cases).length; i$ < len$; ++i$) {
      i = i$;
      c = ref$[i$];
      code += c.compileCase(o, tab, i === stop, this.type === 'match' || !topic, this.type, target);
    }
    if (this['default']) {
      o.indent = tab + TAB;
      if (that = this['default'].compile(o, LEVEL_TOP)) {
        code += tab + ("default:\n" + that + "\n");
      }
    }
    return code + tab + '}';
  };
  return Switch;
}(Node));
exports.Case = Case = (function(superclass){
  var prototype = extend$((import$(Case, superclass).displayName = 'Case', Case), superclass).prototype, constructor = Case;
  function Case(tests, body){
    this.tests = tests;
    this.body = body;
  }
  prototype.children = ['tests', 'body'];
  prototype.isCallable = function(){
    return this.body.isCallable();
  };
  prototype.makeReturn = function(){
    var ref$, ref1$;
    if (((ref$ = (ref1$ = this.body.lines)[ref1$.length - 1]) != null ? ref$.value : void 8) !== 'fallthrough') {
      (ref1$ = this.body).makeReturn.apply(ref1$, arguments);
    }
    return this;
  };
  prototype.compileCase = function(o, tab, nobr, bool, type, target){
    var tests, i$, ref$, len$, test, j$, ref1$, len1$, t, i, tar, binary, that, code, lines, last, ft;
    tests = [];
    for (i$ = 0, len$ = (ref$ = this.tests).length; i$ < len$; ++i$) {
      test = ref$[i$];
      test = test.expandSlice(o).unwrap();
      if (test instanceof Arr && type !== 'match') {
        for (j$ = 0, len1$ = (ref1$ = test.items).length; j$ < len1$; ++j$) {
          t = ref1$[j$];
          tests.push(t);
        }
      } else {
        tests.push(test);
      }
    }
    tests.length || tests.push(Literal('void'));
    if (type === 'match') {
      for (i$ = 0, len$ = tests.length; i$ < len$; ++i$) {
        i = i$;
        test = tests[i$];
        tar = Chain(target).add(Index(Literal(i), '.', true));
        tests[i] = Chain(test).autoCompare(target ? [tar] : null);
      }
    }
    if (bool) {
      binary = type === 'match' ? '&&' : '||';
      t = tests[0];
      i = 0;
      while (that = tests[++i]) {
        t = Binary(binary, t, that);
      }
      tests = [(this.t = t, this.aSource = 't', this.aTargets = ['body'], this).anaphorize().invert()];
    }
    code = '';
    for (i$ = 0, len$ = tests.length; i$ < len$; ++i$) {
      t = tests[i$];
      code += tab + ("case " + t.compile(o, LEVEL_PAREN) + ":\n");
    }
    lines = this.body.lines;
    last = lines[lines.length - 1];
    if (ft = (last != null ? last.value : void 8) === 'fallthrough') {
      lines[lines.length - 1] = JS('// fallthrough');
    }
    o.indent = tab += TAB;
    if (that = this.body.compile(o, LEVEL_TOP)) {
      code += that + '\n';
    }
    if (!(nobr || ft || last instanceof Jump)) {
      code += tab + 'break;\n';
    }
    return code;
  };
  return Case;
}(Node));
exports.If = If = (function(superclass){
  var prototype = extend$((import$(If, superclass).displayName = 'If', If), superclass).prototype, constructor = If;
  function If($if, then, un){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$['if'] = $if;
    this$.then = then;
    this$.un = un;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['if', 'then', 'else'];
  prototype.aSource = 'if';
  prototype.aTargets = ['then'];
  prototype.show = function(){
    return this.un && '!';
  };
  prototype.terminator = '';
  prototype.delegate(['isCallable', 'isArray', 'isString', 'isRegex'], function(it){
    var ref$;
    return ((ref$ = this['else']) != null ? ref$[it]() : void 8) && this.then[it]();
  });
  prototype.getJump = function(it){
    var ref$;
    return this.then.getJump(it) || ((ref$ = this['else']) != null ? ref$.getJump(it) : void 8);
  };
  prototype.makeReturn = function(){
    var ref$;
    this.then = (ref$ = this.then).makeReturn.apply(ref$, arguments);
    if (this['else'] != null) {
      this['else'] = (ref$ = this['else']).makeReturn.apply(ref$, arguments);
    }
    return this;
  };
  prototype.compileNode = function(o){
    if (this.un) {
      this['if'] = this['if'].invert();
    } else {
      this.soak || this.anaphorize();
    }
    if (o.level) {
      return this.compileExpression(o);
    } else {
      return this.compileStatement(o);
    }
  };
  prototype.compileStatement = function(o){
    var code, els;
    code = "if (" + this['if'].compile(o, LEVEL_PAREN) + ") ";
    o.indent += TAB;
    code += this.compileBlock(o, Block(this.then));
    if (!(els = this['else'])) {
      return code;
    }
    return code + ' else ' + (els instanceof constructor
      ? els.compile((o.indent = this.tab, o), LEVEL_TOP)
      : this.compileBlock(o, els));
  };
  prototype.compileExpression = function(o){
    var thn, els, code, pad;
    thn = this.then, els = this['else'] || Literal('void');
    this['void'] && (thn['void'] = els['void'] = true);
    if (!this['else'] && (this.cond || this['void'])) {
      return Parens(Binary('&&', this['if'], thn)).compile(o);
    }
    code = this['if'].compile(o, LEVEL_COND);
    pad = els.isComplex() ? '\n' + (o.indent += TAB) : ' ';
    code += pad + "? " + thn.compile(o, LEVEL_LIST) + "" + pad + ": " + els.compile(o, LEVEL_LIST);
    if (o.level < LEVEL_COND) {
      return code;
    } else {
      return "(" + code + ")";
    }
  };
  If.unfoldSoak = function(o, parent, name){
    var that;
    if (that = parent[name].unfoldSoak(o)) {
      parent[name] = that.then;
      return that.cond = parent.cond, that['void'] = parent['void'], that.then = Chain(parent), that;
    }
  };
  return If;
}(Node));
exports.Label = Label = (function(superclass){
  var ref$, prototype = extend$((import$(Label, superclass).displayName = 'Label', Label), superclass).prototype, constructor = Label;
  function Label(label, it){
    var fun;
    this.label = label || '_';
    this.it = it;
    if (fun = (it instanceof Fun || it instanceof Class) && it || it.calling && it.it.head) {
      fun.name || (fun.name = this.label, fun.labeled = true);
      return it;
    }
  }
  ref$ = Parens.prototype, prototype.children = ref$.children, prototype.isCallable = ref$.isCallable, prototype.isArray = ref$.isArray;
  prototype.show = function(){
    return this.label;
  };
  prototype.isStatement = YES;
  prototype.getJump = function(ctx){
    var ref$;
    ctx || (ctx = {});
    ((ref$ = ctx.labels) != null
      ? ref$
      : ctx.labels = []).push(this.label);
    return this.it.getJump((ctx['break'] = true, ctx));
  };
  prototype.makeReturn = function(){
    var ref$;
    this.it = (ref$ = this.it).makeReturn.apply(ref$, arguments);
    return this;
  };
  prototype.compileNode = function(o){
    var label, it, labels;
    label = this.label, it = this.it;
    labels = o.labels = slice$.call(o.labels || []);
    if (in$(label, labels)) {
      this.carp("duplicate label \"" + label + "\"");
    }
    labels.push(label);
    it.isStatement() || (it = Block(it));
    return (label + ": ") + (it instanceof Block
      ? (o.indent += TAB, this.compileBlock(o, it))
      : it.compile(o));
  };
  return Label;
}(Node));
exports.Cascade = Cascade = (function(superclass){
  var prototype = extend$((import$(Cascade, superclass).displayName = 'Cascade', Cascade), superclass).prototype, constructor = Cascade;
  function Cascade(input, output, prog1){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.input = input;
    this$.output = output;
    this$.prog1 = prog1;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.show = function(){
    return this.prog1;
  };
  prototype.children = ['input', 'output'];
  prototype.terminator = '';
  prototype.delegate(['isCallable', 'isArray', 'isString', 'isRegex'], function(it){
    return this[this.prog1 ? 'input' : 'output'][it]();
  });
  prototype.getJump = function(it){
    return this.output.getJump(it);
  };
  prototype.makeReturn = function(ret){
    this.ret = ret;
    return this;
  };
  prototype.compileNode = function(o){
    var level, input, output, prog1, ref, ref$, code, out;
    level = o.level;
    input = this.input, output = this.output, prog1 = this.prog1, ref = this.ref;
    if (prog1 && ('ret' in this || level && !this['void'])) {
      output.add((ref$ = Literal('..'), ref$.cascadee = true, ref$));
    }
    if ('ret' in this) {
      output = output.makeReturn(this.ret);
    }
    if (ref) {
      prog1 || (output = Assign(Var(ref), output));
    } else {
      ref = o.scope.temporary('x');
    }
    if (input instanceof Cascade) {
      input.ref = ref;
    } else {
      input && (input = Assign(Var(ref), input));
    }
    o.level && (o.level = LEVEL_PAREN);
    code = input.compile(o);
    out = Block(output).compile((o.ref = new String(ref), o));
    if (prog1 === 'cascade' && !o.ref.erred) {
      this.carp("unreferred cascadee");
    }
    if (!level) {
      return code + "" + input.terminator + "\n" + out;
    }
    code += ", " + out;
    if (level > LEVEL_PAREN) {
      return "(" + code + ")";
    } else {
      return code;
    }
  };
  return Cascade;
}(Node));
exports.JS = JS = (function(superclass){
  var prototype = extend$((import$(JS, superclass).displayName = 'JS', JS), superclass).prototype, constructor = JS;
  function JS(code, literal, comment){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.code = code;
    this$.literal = literal;
    this$.comment = comment;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.show = function(){
    if (this.comment) {
      return this.code;
    } else {
      return "`" + this.code + "`";
    }
  };
  prototype.terminator = '';
  prototype.isAssignable = prototype.isCallable = function(){
    return !this.comment;
  };
  prototype.compile = function(it){
    if (this.literal) {
      return entab(this.code, it.indent);
    } else {
      return this.code;
    }
  };
  return JS;
}(Node));
exports.Require = Require = (function(superclass){
  var prototype = extend$((import$(Require, superclass).displayName = 'Require', Require), superclass).prototype, constructor = Require;
  function Require(body){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.body = body;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['body'];
  prototype.compile = function(o){
    var getValue, processItem, item, this$ = this;
    getValue = function(item, throwError){
      switch (false) {
      case !(item instanceof Key):
        return item.name;
      case !(item instanceof Var):
        return item.value;
      case !(item instanceof Literal):
        return item.value;
      default:
        if (throwError) {
          return this$.carp('invalid require! argument');
        } else {
          return item;
        }
      }
    };
    processItem = function(item){
      var ref$, asg, value, asgValue, toAsg, main;
      ref$ = (function(){
        switch (false) {
        case !(item instanceof Prop):
          return [item.val, item.key];
        default:
          return [item, item];
        }
      }()), asg = ref$[0], value = ref$[1];
      asgValue = getValue(asg);
      toAsg = toString$.call(asgValue).slice(8, -1) === 'String' ? Var(nameFromPath(asgValue)) : asg;
      value = stripString(getValue(value, true));
      main = Chain(Var('require')).add(Call([Literal("'" + value + "'")]));
      return Assign(toAsg, main).compile(o);
    };
    if (this.body.items != null) {
      return (function(){
        var i$, ref$, len$, results$ = [];
        for (i$ = 0, len$ = (ref$ = this.body.items).length; i$ < len$; ++i$) {
          item = ref$[i$];
          results$.push(processItem(item));
        }
        return results$;
      }.call(this)).join(";\n" + o.indent);
    } else {
      return processItem(this.body);
    }
  };
  return Require;
}(Node));
exports.Util = Util = (function(superclass){
  var prototype = extend$((import$(Util, superclass).displayName = 'Util', Util), superclass).prototype, constructor = Util;
  function Util(verb){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.verb = verb;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.show = Jump.prototype.show;
  prototype.isCallable = YES;
  prototype.compile = function(){
    return util(this.verb);
  };
  Util.Extends = function(){
    return Call.make(Util('extend'), [arguments[0], arguments[1]]);
  };
  return Util;
}(Node));
exports.Vars = Vars = (function(superclass){
  var prototype = extend$((import$(Vars, superclass).displayName = 'Vars', Vars), superclass).prototype, constructor = Vars;
  function Vars(vars){
    var this$ = this instanceof ctor$ ? this : new ctor$;
    this$.vars = vars;
    return this$;
  } function ctor$(){} ctor$.prototype = prototype;
  prototype.children = ['vars'];
  prototype.makeReturn = THIS;
  prototype.compile = function(o, level){
    var i$, ref$, len$, v, value;
    for (i$ = 0, len$ = (ref$ = this.vars).length; i$ < len$; ++i$) {
      v = ref$[i$], value = v.value;
      if (!(v instanceof Var)) {
        v.carp('invalid variable declaration');
      }
      if (o.scope.check(value)) {
        v.carp("redeclaration of \"" + value + "\"");
      }
      o.scope.declare(value, v);
    }
    return Literal('void').compile(o, level);
  };
  return Vars;
}(Node));
exports.L = function(yylineno, node){
  return node.line = yylineno + 1, node;
};
exports.Decl = function(type, nodes, lno){
  if (!nodes[0]) {
    throw SyntaxError("empty " + type + " on line " + lno);
  }
  return DECLS[type](nodes);
};
DECLS = {
  'export': function(lines){
    var i, out, node, that, ref$;
    i = -1;
    out = Util('out');
    while (node = lines[++i]) {
      if (node instanceof Block) {
        lines.splice.apply(lines, [i--, 1].concat(slice$.call(node.lines)));
        continue;
      }
      if (that = node instanceof Fun && node.name) {
        lines.splice(i++, 0, Assign(Chain(out, [Index(Key(that))]), Var(that)));
        continue;
      }
      lines[i] = (that = node.varName() || node instanceof Assign && node.left.varName() || node instanceof Class && ((ref$ = node.title) != null ? ref$.varName() : void 8))
        ? Assign(Chain(out, [Index(Key(that))]), node)
        : Import(out, node);
    }
    return Block(lines);
  },
  'import': function(lines, all){
    var i$, len$, i, line;
    for (i$ = 0, len$ = lines.length; i$ < len$; ++i$) {
      i = i$;
      line = lines[i$];
      lines[i] = Import(Literal('this'), line, all);
    }
    return Block(lines);
  },
  importAll: function(it){
    return this['import'](it, true);
  },
  'const': function(lines){
    var i$, len$, node;
    for (i$ = 0, len$ = lines.length; i$ < len$; ++i$) {
      node = lines[i$];
      node.op === '=' || node.carp('invalid constant variable declaration');
      node['const'] = true;
    }
    return Block(lines);
  },
  'var': Vars
};
function Scope(parent, shared){
  this.parent = parent;
  this.shared = shared;
  this.variables = {};
}
ref$ = Scope.prototype;
ref$.READ_ONLY = {
  'const': 'constant',
  'function': 'function',
  undefined: 'undeclared'
};
ref$.add = function(name, type, node){
  var t, that;
  if (node && (t = this.variables[name + "."])) {
    if (that = this.READ_ONLY[t] || this.READ_ONLY[type]) {
      node.carp("redeclaration of " + that + " \"" + name + "\"");
    } else if (t === type && type === 'arg') {
      node.carp("duplicate parameter \"" + name + "\"");
    } else if (t === 'upvar') {
      node.carp("accidental shadow of \"" + name + "\"");
    }
    if (t === 'arg' || t === 'function') {
      return name;
    }
  }
  this.variables[name + "."] = type;
  return name;
};
ref$.get = function(name){
  return this.variables[name + "."];
};
ref$.declare = function(name, node, constant){
  var that, scope;
  if (that = this.shared) {
    if (this.check(name)) {
      return;
    }
    scope = that;
  } else {
    scope = this;
  }
  return scope.add(name, constant ? 'const' : 'var', node);
};
ref$.assign = function(name, value){
  return this.add(name, {
    value: value
  });
};
ref$.temporary = function(name){
  var ref$;
  name || (name = 'ref');
  while ((ref$ = this.variables[name + "$."]) !== 'reuse' && ref$ !== void 8) {
    name = name.length < 2 && name < 'z'
      ? String.fromCharCode(name.charCodeAt() + 1)
      : name.replace(/\d*$/, fn$);
  }
  return this.add(name + '$', 'var');
  function fn$(it){
    return ++it;
  }
};
ref$.free = function(name){
  return this.add(name, 'reuse');
};
ref$.check = function(name, above){
  var type, ref$;
  if ((type = this.variables[name + "."]) || !above) {
    return type;
  }
  return (ref$ = this.parent) != null ? ref$.check(name, above) : void 8;
};
ref$.checkReadOnly = function(name){
  var that, ref$, key$;
  if (that = this.READ_ONLY[this.check(name, true)]) {
    return that;
  }
  (ref$ = this.variables)[key$ = name + "."] || (ref$[key$] = 'upvar');
  return '';
};
ref$.emit = function(code, tab){
  var vrs, asn, fun, name, ref$, type, that, val;
  vrs = [];
  asn = [];
  fun = [];
  for (name in ref$ = this.variables) {
    type = ref$[name];
    name = name.slice(0, -1);
    if (type === 'var' || type === 'const' || type === 'reuse') {
      vrs.push(name);
    } else if (that = type.value) {
      if (~(val = entab(that, tab)).lastIndexOf('function(', 0)) {
        fun.push("function " + name + val.slice(8));
      } else {
        asn.push(name + " = " + val);
      }
    }
  }
  if (that = vrs.concat(asn).join(', ')) {
    code = tab + "var " + that + ";\n" + code;
  }
  if (that = fun.join("\n" + tab)) {
    return code + "\n" + tab + that;
  } else {
    return code;
  }
};
function YES(){
  return true;
}
function NO(){
  return false;
}
function THIS(){
  return this;
}
function VOID(){}
UTILS = {
  clone: 'function(it){\n  function fun(){} fun.prototype = it;\n  return new fun;\n}',
  extend: 'function(sub, sup){\n  function fun(){} fun.prototype = (sub.superclass = sup).prototype;\n  (sub.prototype = new fun).constructor = sub;\n  if (typeof sup.extended == \'function\') sup.extended(sub);\n  return sub;\n}',
  bind: 'function(obj, key, target){\n  return function(){ return (target || obj)[key].apply(obj, arguments) };\n}',
  'import': 'function(obj, src){\n  var own = {}.hasOwnProperty;\n  for (var key in src) if (own.call(src, key)) obj[key] = src[key];\n  return obj;\n}',
  importAll: 'function(obj, src){\n  for (var key in src) obj[key] = src[key];\n  return obj;\n}',
  repeatString: 'function(str, n){\n  for (var r = \'\'; n > 0; (n >>= 1) && (str += str)) if (n & 1) r += str;\n  return r;\n}',
  repeatArray: 'function(arr, n){\n  for (var r = []; n > 0; (n >>= 1) && (arr = arr.concat(arr)))\n    if (n & 1) r.push.apply(r, arr);\n  return r;\n}',
  'in': 'function(x, xs){\n  var i = -1, l = xs.length >>> 0;\n  while (++i < l) if (x === xs[i]) return true;\n  return false;\n}',
  out: 'typeof exports != \'undefined\' && exports || this',
  curry: 'function(f, bound){\n  var context,\n  _curry = function(args) {\n    return f.length > 1 ? function(){\n      var params = args ? args.concat() : [];\n      context = bound ? context || this : this;\n      return params.push.apply(params, arguments) <\n          f.length && arguments.length ?\n        _curry.call(context, params) : f.apply(context, params);\n    } : f;\n  };\n  return _curry();\n}',
  flip: 'function(f){\n  return curry$(function (x, y) { return f(y, x); });\n}',
  partialize: 'function(f, args, where){\n  var context = this;\n  return function(){\n    var params = slice$.call(arguments), i,\n        len = params.length, wlen = where.length,\n        ta = args ? args.concat() : [], tw = where ? where.concat() : [];\n    for(i = 0; i < len; ++i) { ta[tw[0]] = params[i]; tw.shift(); }\n    return len < wlen && len ?\n      partialize$.apply(context, [f, ta, tw]) : f.apply(context, ta);\n  };\n}',
  not: 'function(x){ return !x; }',
  compose: 'function() {\n  var functions = arguments;\n  return function() {\n    var i, result;\n    result = functions[0].apply(this, arguments);\n    for (i = 1; i < functions.length; ++i) {\n      result = functions[i](result);\n    }\n    return result;\n  };\n}',
  deepEq: 'function(x, y, type){\n  var toString = {}.toString, hasOwnProperty = {}.hasOwnProperty,\n      has = function (obj, key) { return hasOwnProperty.call(obj, key); };\n  var first = true;\n  return eq(x, y, []);\n  function eq(a, b, stack) {\n    var className, length, size, result, alength, blength, r, key, ref, sizeB;\n    if (a == null || b == null) { return a === b; }\n    if (a.__placeholder__ || b.__placeholder__) { return true; }\n    if (a === b) { return a !== 0 || 1 / a == 1 / b; }\n    className = toString.call(a);\n    if (toString.call(b) != className) { return false; }\n    switch (className) {\n      case \'[object String]\': return a == String(b);\n      case \'[object Number]\':\n        return a != +a ? b != +b : (a == 0 ? 1 / a == 1 / b : a == +b);\n      case \'[object Date]\':\n      case \'[object Boolean]\':\n        return +a == +b;\n      case \'[object RegExp]\':\n        return a.source == b.source &&\n               a.global == b.global &&\n               a.multiline == b.multiline &&\n               a.ignoreCase == b.ignoreCase;\n    }\n    if (typeof a != \'object\' || typeof b != \'object\') { return false; }\n    length = stack.length;\n    while (length--) { if (stack[length] == a) { return true; } }\n    stack.push(a);\n    size = 0;\n    result = true;\n    if (className == \'[object Array]\') {\n      alength = a.length;\n      blength = b.length;\n      if (first) {\n        switch (type) {\n        case \'===\': result = alength === blength; break;\n        case \'<==\': result = alength <= blength; break;\n        case \'<<=\': result = alength < blength; break;\n        }\n        size = alength;\n        first = false;\n      } else {\n        result = alength === blength;\n        size = alength;\n      }\n      if (result) {\n        while (size--) {\n          if (!(result = size in a == size in b && eq(a[size], b[size], stack))){ break; }\n        }\n      }\n    } else {\n      if (\'constructor\' in a != \'constructor\' in b || a.constructor != b.constructor) {\n        return false;\n      }\n      for (key in a) {\n        if (has(a, key)) {\n          size++;\n          if (!(result = has(b, key) && eq(a[key], b[key], stack))) { break; }\n        }\n      }\n      if (result) {\n        sizeB = 0;\n        for (key in b) {\n          if (has(b, key)) { ++sizeB; }\n        }\n        if (first) {\n          if (type === \'<<=\') {\n            result = size < sizeB;\n          } else if (type === \'<==\') {\n            result = size <= sizeB\n          } else {\n            result = size === sizeB;\n          }\n        } else {\n          first = false;\n          result = size === sizeB;\n        }\n      }\n    }\n    stack.pop();\n    return result;\n  }\n}',
  split: "''.split",
  replace: "''.replace",
  toString: '{}.toString',
  join: '[].join',
  slice: '[].slice',
  splice: '[].splice'
};
LEVEL_TOP = 0;
LEVEL_PAREN = 1;
LEVEL_LIST = 2;
LEVEL_COND = 3;
LEVEL_OP = 4;
LEVEL_CALL = 5;
(function(){
  this['&&'] = this['||'] = this['xor'] = 0.2;
  this['.&.'] = this['.^.'] = this['.|.'] = 0.3;
  this['=='] = this['!='] = this['~='] = this['!~='] = this['==='] = this['!=='] = 0.4;
  this['<'] = this['>'] = this['<='] = this['>='] = this.of = this['instanceof'] = 0.5;
  this['<<='] = this['>>='] = this['<=='] = this['>=='] = this['++'] = 0.5;
  this['.<<.'] = this['.>>.'] = this['.>>>.'] = 0.6;
  this['+'] = this['-'] = 0.7;
  this['*'] = this['/'] = this['%'] = 0.8;
}.call(PREC = {
  unary: 0.9
}));
TAB = '  ';
ID = /^(?!\d)[\w$\xAA-\uFFDC]+$/;
SIMPLENUM = /^\d+$/;
function util(it){
  return Scope.root.assign(it + '$', UTILS[it]);
}
function entab(code, tab){
  return code.replace(/\n/g, '\n' + tab);
}
function import$(obj, src){
  var own = {}.hasOwnProperty;
  for (var key in src) if (own.call(src, key)) obj[key] = src[key];
  return obj;
}
function clone$(it){
  function fun(){} fun.prototype = it;
  return new fun;
}
function extend$(sub, sup){
  function fun(){} fun.prototype = (sub.superclass = sup).prototype;
  (sub.prototype = new fun).constructor = sub;
  if (typeof sup.extended == 'function') sup.extended(sub);
  return sub;
}
function in$(x, xs){
  var i = -1, l = xs.length >>> 0;
  while (++i < l) if (x === xs[i]) return true;
  return false;
}
function repeatString$(str, n){
  for (var r = ''; n > 0; (n >>= 1) && (str += str)) if (n & 1) r += str;
  return r;
}
function importAll$(obj, src){
  for (var key in src) obj[key] = src[key];
  return obj;
}
},{"./util":13,"prelude-ls":19}],9:[function(require,module,exports){
// Generated by LiveScript 1.3.1
var lexer, parser, ast;
lexer = require('./lexer');
parser = require('./parser').parser;
ast = require('./ast');
parser.yy = ast;
parser.lexer = {
  lex: function(){
    var ref$, tag;
    ref$ = this.tokens[++this.pos] || [''], tag = ref$[0], this.yytext = ref$[1], this.yylineno = ref$[2];
    return tag;
  },
  setInput: function(it){
    this.pos = -1;
    return this.tokens = it;
  },
  upcomingInput: function(){
    return '';
  }
};
exports.VERSION = '1.3.1';
exports.compile = function(code, options){
  var output, e, that;
  options == null && (options = {});
  options.header == null && (options.header = true);
  try {
    output = parser.parse(lexer.lex(code)).compileRoot(options);
    if (options.header) {
      output = "// Generated by LiveScript " + exports.VERSION + "\n" + output;
    }
    return output;
  } catch (e$) {
    e = e$;
    if (that = options.filename) {
      e.message += "\nat " + that;
    }
    throw e;
  }
};
exports.ast = function(it){
  return parser.parse(typeof it === 'string' ? lexer.lex(it) : it);
};
exports.tokens = lexer.lex;
exports.lex = function(it){
  return lexer.lex(it, {
    raw: true
  });
};
exports.run = function(code, options){
  var ref$;
  return Function(exports.compile(code, (ref$ = {}, import$(ref$, options), ref$.bare = true, ref$)))();
};
exports.tokens.rewrite = lexer.rewrite;
importAll$(exports.ast, parser.yy);
if (require.extensions) {
  require('./node')(exports);
} else {
  exports.require = require;
}
function import$(obj, src){
  var own = {}.hasOwnProperty;
  for (var key in src) if (own.call(src, key)) obj[key] = src[key];
  return obj;
}
function importAll$(obj, src){
  for (var key in src) obj[key] = src[key];
  return obj;
}
},{"./ast":8,"./lexer":10,"./node":11,"./parser":12}],10:[function(require,module,exports){
// Generated by LiveScript 1.3.1
var string, TABS, unlines, enlines, enslash, reslash, camelize, character, KEYWORDS_SHARED, KEYWORDS_UNUSED, JS_KEYWORDS, LS_KEYWORDS, ID, SYMBOL, SPACE, MULTIDENT, SIMPLESTR, JSTOKEN, BSTOKEN, NUMBER, NUMBER_OMIT, REGEX, HEREGEX_OMIT, LASTDENT, INLINEDENT, NONASCII, OPENERS, CLOSERS, INVERSES, i, o, c, CHAIN, ARG, BLOCK_USERS, slice$ = [].slice;
exports.lex = function(code, options){
  return clone$(exports).tokenize(code || '', options || {});
};
exports.rewrite = function(it){
  var ref$;
  it || (it = this.tokens);
  firstPass(it);
  addImplicitIndentation(it);
  rewriteBlockless(it);
  addImplicitParentheses(it);
  addImplicitBraces(it);
  expandLiterals(it);
  if (((ref$ = it[0]) != null ? ref$[0] : void 8) === 'NEWLINE') {
    it.shift();
  }
  return it;
};
exports.tokenize = function(code, o){
  var i, c, that;
  this.inter || (code = code.replace(/[\r\u2028\u2029\uFEFF]/g, ''));
  code = '\n' + code;
  this.tokens = [this.last = ['NEWLINE', '\n', 0]];
  this.line = ~-o.line;
  this.dents = [];
  this.closes = [];
  this.parens = [];
  this.flags = [];
  i = 0;
  while (c = code.charAt(i)) {
    switch (c) {
    case ' ':
      i += this.doSpace(code, i);
      break;
    case '\n':
      i += this.doLine(code, i);
      break;
    case '\\':
      i += this.doBackslash(code, i);
      break;
    case '\'':
    case '"':
      i += this.doString(code, i, c);
      break;
    case "0":
    case "1":
    case "2":
    case "3":
    case "4":
    case "5":
    case "6":
    case "7":
    case "8":
    case "9":
      i += this.doNumber(code, i);
      break;
    case '/':
      switch (code.charAt(i + 1)) {
      case '*':
        i += this.doComment(code, i);
        break;
      case '/':
        i += this.doHeregex(code, i);
        break;
      default:
        i += this.doRegex(code, i) || this.doLiteral(code, i);
      }
      break;
    case '`':
      if ('`' === code.charAt(i + 1)) {
        i += this.doJS(code, i);
      } else {
        i += this.doLiteral(code, i);
      }
      break;
    default:
      i += this.doID(code, i) || this.doLiteral(code, i) || this.doSpace(code, i);
    }
  }
  this.dedent(this.dent);
  if (that = this.closes.pop()) {
    this.carp("missing `" + that + "`");
  }
  if (this.inter) {
    this.rest == null && this.carp('unterminated interpolation');
  } else {
    this.last.spaced = true;
    this.newline();
  }
  o.raw || this.rewrite();
  return this.tokens;
};
exports.dent = 0;
exports.identifiers = {};
exports.hasOwn = Object.prototype.hasOwnProperty;
exports.checkConsistency = function(camel, id){
  if (this.hasOwn.call(this.identifiers, camel) && this.identifiers[camel] !== id) {
    throw new ReferenceError("Inconsistent use of " + camel + " as " + id + " on line " + (-~this.line));
  } else {
    return this.identifiers[camel] = id;
  }
};
exports.doID = function(code, index){
  var regexMatch, input, id, e, last, ref$, tag, ref1$, that;
  input = (regexMatch = (ID.lastIndex = index, ID).exec(code))[0];
  if (!input) {
    return 0;
  }
  id = camelize(regexMatch[1]);
  if (/-/.test(regexMatch[1])) {
    this.checkConsistency(id, regexMatch[1]);
  }
  if (NONASCII.test(id)) {
    try {
      Function("var " + id);
    } catch (e$) {
      e = e$;
      this.carp("invalid identifier \"" + id + "\"");
    }
  }
  last = this.last;
  if (regexMatch[2] || last[0] === 'DOT' || this.adi()) {
    this.token('ID', in$(id, JS_KEYWORDS) ? (ref$ = Object(id), ref$.reserved = true, ref$) : id);
    if (regexMatch[2]) {
      this.token(':', ':');
    }
    return input.length;
  }
  switch (id) {
  case 'true':
  case 'false':
  case 'on':
  case 'off':
  case 'yes':
  case 'no':
  case 'null':
  case 'void':
  case 'arguments':
  case 'debugger':
    tag = 'LITERAL';
    break;
  case 'new':
  case 'do':
  case 'typeof':
  case 'delete':
    tag = 'UNARY';
    break;
  case 'yield':
    tag = 'YIELD';
    break;
  case 'return':
  case 'throw':
    tag = 'HURL';
    break;
  case 'break':
  case 'continue':
    tag = 'JUMP';
    break;
  case 'this':
  case 'eval':
  case 'super':
    return this.token('LITERAL', id, true).length;
  case 'for':
    id = [];
    this.fset('for', true);
    this.fset('to', false);
    break;
  case 'then':
    this.fset('for', false);
    this.fset('to', false);
    break;
  case 'catch':
  case 'function':
    id = '';
    break;
  case 'in':
  case 'of':
    if (this.fget('for')) {
      this.fset('for', false);
      if (id === 'in') {
        this.fset('by', true);
        id = '';
        if (last[0] === 'ID' && ((ref$ = (ref1$ = this.tokens)[ref1$.length - 2][0]) === ',' || ref$ === ']' || ref$ === '}')) {
          id = this.tokens.pop()[1];
          if ((ref$ = this.tokens)[ref$.length - 1][0] === ',') {
            this.tokens.pop();
          }
        }
      }
      break;
    }
    // fallthrough
  case 'instanceof':
    if (last[1] === '!') {
      id = this.tokens.pop()[1] + id;
    }
    tag = (ref$ = this.tokens)[ref$.length - 1][0] === '(' ? 'BIOPR' : 'RELATION';
    break;
  case 'not':
    if (last.alias && last[1] === '===') {
      return last[1] = '!==', 3;
    }
    tag = 'UNARY';
    id = '!';
    break;
  case 'and':
  case 'or':
  case 'xor':
  case 'is':
  case 'isnt':
    this.unline();
    tag = id === 'is' || id === 'isnt' ? 'COMPARE' : 'LOGIC';
    if (last[0] === '(') {
      tag = 'BIOP';
    }
    this.token(tag, (function(){
      switch (id) {
      case 'is':
        return '===';
      case 'isnt':
        return '!==';
      case 'or':
        return '||';
      case 'and':
        return '&&';
      case 'xor':
        return 'xor';
      }
    }()));
    this.last.alias = true;
    return id.length;
  case 'unless':
    tag = 'IF';
    break;
  case 'until':
    tag = 'WHILE';
    break;
  case 'import':
    if (last[0] === '(') {
      id = '<<<';
      tag = 'BIOP';
    } else {
      if (able(this.tokens)) {
        id = '<<<';
      } else {
        tag = 'DECL';
      }
    }
    break;
  case 'export':
  case 'const':
  case 'var':
    tag = 'DECL';
    break;
  case 'with':
    tag = (function(){
      switch (false) {
      case !able(this.tokens):
        return 'CLONEPORT';
      case last[0] !== '(':
        return 'BIOP';
      default:
        return 'WITH';
      }
    }.call(this));
    break;
  case 'when':
    this.fset('for', false);
    tag = 'CASE';
    // fallthrough
  case 'case':
    if (this.doCase()) {
      return input.length;
    }
    break;
  case 'match':
    tag = 'SWITCH';
    break;
  case 'loop':
    this.token('WHILE', id);
    this.token('LITERAL', 'true');
    return input.length;
  case 'let':
  case 'own':
    if (last[0] === 'FOR' && !in$(id, last[1])) {
      last[1].push(id);
      return 3;
    }
    // fallthrough
  default:
    if (in$(id, KEYWORDS_SHARED)) {
      break;
    }
    if (in$(id, KEYWORDS_UNUSED)) {
      this.carp("reserved word \"" + id + "\"");
    }
    if (!last[1] && ((ref$ = last[0]) === 'FUNCTION' || ref$ === 'GENERATOR' || ref$ === 'LABEL')) {
      last[1] = id;
      last.spaced = false;
      return input.length;
    }
    tag = 'ID';
    switch (id) {
    case 'otherwise':
      if ((ref$ = last[0]) === 'CASE' || ref$ === '|') {
        last[0] = 'DEFAULT';
        return id.length;
      }
      break;
    case 'all':
      if (that = last[1] === '<<<' && '<' || last[1] === 'import' && 'All') {
        last[1] += that;
        return 3;
      }
      break;
    case 'from':
      if (last[1] === 'yield') {
        last[1] += 'from';
        return 4;
      }
      this.forange() && (tag = 'FROM');
      break;
    case 'to':
    case 'til':
      this.forange() && this.tokens.push(['FROM', '', this.line], ['STRNUM', '0', this.line]);
      if (this.fget('from')) {
        this.fset('from', false);
        this.fset('by', true);
        tag = 'TO';
      } else if (!last.callable && last[0] === 'STRNUM' && (ref$ = this.tokens)[ref$.length - 2][0] === '[') {
        last[0] = 'RANGE';
        last.op = id;
        return id.length;
      } else if (in$(']', this.closes)) {
        this.token('TO', id);
        return id.length;
      }
      break;
    case 'by':
      if (last[0] === 'STRNUM' && (ref$ = this.tokens)[ref$.length - 2][0] === 'RANGE' && (ref$ = this.tokens)[ref$.length - 3][0] === '[') {
        tag = 'RANGE_BY';
      } else if (in$(']', this.closes)) {
        tag = 'BY';
      } else if (this.fget('by')) {
        tag = 'BY';
        this.fset('by', false);
      }
      break;
    case 'ever':
      if (last[0] === 'FOR') {
        this.fset('for', false);
        last[0] = 'WHILE';
        tag = 'LITERAL';
        id = 'true';
      }
    }
  }
  tag || (tag = regexMatch[1].toUpperCase());
  if ((tag === 'COMPARE' || tag === 'LOGIC' || tag === 'RELATION') && last[0] === '(') {
    tag = tag === 'RELATION' ? 'BIOPR' : 'BIOP';
  }
  if (tag === 'THEN' || tag === 'IF' || tag === 'WHILE') {
    this.fset('for', false);
    this.fset('by', false);
  }
  if (tag === 'RELATION' || tag === 'THEN' || tag === 'ELSE' || tag === 'CASE' || tag === 'DEFAULT' || tag === 'CATCH' || tag === 'FINALLY' || tag === 'IN' || tag === 'OF' || tag === 'FROM' || tag === 'TO' || tag === 'BY' || tag === 'EXTENDS' || tag === 'IMPLEMENTS' || tag === 'WHERE') {
    this.unline();
  }
  this.token(tag, id);
  return input.length;
};
exports.doNumber = function(code, lastIndex){
  var input, regexMatch, last, radix, num, rnum, bound, ref$;
  NUMBER.lastIndex = lastIndex;
  if (!(input = (regexMatch = NUMBER.exec(code))[0])) {
    return 0;
  }
  last = this.last;
  if (regexMatch[5] && (last[0] === 'DOT' || this.adi())) {
    this.token('STRNUM', regexMatch[4].replace(NUMBER_OMIT, ''));
    return regexMatch[4].length;
  }
  if (radix = regexMatch[1]) {
    num = parseInt(rnum = regexMatch[2].replace(NUMBER_OMIT, ''), radix);
    bound = false;
    if (radix > 36 || radix < 2) {
      if (/[0-9]/.exec(rnum)) {
        this.carp("invalid number base " + radix + " (with number " + rnum + "),base must be from 2 to 36");
      } else {
        bound = true;
      }
    }
    if (isNaN(num) || num === parseInt(rnum.slice(0, -1), radix)) {
      this.strnum(regexMatch[1]);
      this.token('DOT', '.~');
      this.token('ID', regexMatch[2]);
      return input.length;
    }
    num += '';
  } else {
    num = (regexMatch[3] || input).replace(NUMBER_OMIT, '');
    if (regexMatch[3] && num.charAt() === '0' && ((ref$ = num.charAt(1)) !== '' && ref$ !== '.')) {
      this.carp("deprecated octal literal " + regexMatch[4]);
    }
  }
  if (!last.spaced && last[0] === '+-') {
    last[0] = 'STRNUM';
    last[1] += num;
    return input.length;
  }
  this.strnum(num);
  return input.length;
};
exports.doString = function(code, index, q){
  var parts, str;
  if (q === code.charAt(index + 1)) {
    return q === code.charAt(index + 2)
      ? this.doHeredoc(code, index, q)
      : (this.strnum(q + q), 2);
  }
  if (q === '"') {
    parts = this.interpolate(code, index, q);
    this.addInterpolated(parts, unlines);
    return 1 + parts.size;
  }
  str = (SIMPLESTR.lastIndex = index, SIMPLESTR).exec(code)[0] || this.carp('unterminated string');
  this.strnum(unlines(this.string(q, str.slice(1, -1))));
  return this.countLines(str).length;
};
exports.doHeredoc = function(code, index, q){
  var end, raw, doc, parts, tabs, i$, len$, i, t;
  if (q === '\'') {
    ~(end = code.indexOf(q + q + q, index + 3)) || this.carp('unterminated heredoc');
    raw = code.slice(index + 3, end);
    doc = raw.replace(LASTDENT, '');
    this.strnum(enlines(this.string(q, lchomp(detab(doc, heretabs(doc))))));
    return this.countLines(raw).length + 6;
  }
  parts = this.interpolate(code, index, q + q + q);
  tabs = heretabs(code.slice(index + 3, index + parts.size).replace(LASTDENT, ''));
  for (i$ = 0, len$ = parts.length; i$ < len$; ++i$) {
    i = i$;
    t = parts[i$];
    if (t[0] === 'S') {
      if (i + 1 === parts.length) {
        t[1] = t[1].replace(LASTDENT, '');
      }
      t[1] = detab(t[1], tabs);
      if (i === 0) {
        t[1] = lchomp(t[1]);
      }
    }
  }
  this.addInterpolated(parts, enlines);
  return 3 + parts.size;
};
exports.doComment = function(code, index){
  var comment, end, ref$;
  comment = ~(end = code.indexOf('*/', index + 2))
    ? code.slice(index, end + 2)
    : code.slice(index) + '*/';
  if ((ref$ = this.last[0]) === 'NEWLINE' || ref$ === 'INDENT' || ref$ === 'THEN') {
    this.token('COMMENT', detab(comment, this.dent));
    this.token('NEWLINE', '\n');
  }
  return this.countLines(comment).length;
};
exports.doJS = function(code, lastIndex){
  var js, ref$;
  JSTOKEN.lastIndex = lastIndex;
  js = JSTOKEN.exec(code)[0] || this.carp('unterminated JS literal');
  this.token('LITERAL', (ref$ = Object(detab(js.slice(2, -2), this.dent)), ref$.js = true, ref$), true);
  return this.countLines(js).length;
};
exports.doRegex = function(code, index){
  var divisible, ref$, input, body, flag;
  if (divisible = able(this.tokens) || this.last[0] === 'CREMENT') {
    if (!this.last.spaced || ((ref$ = code.charAt(index + 1)) === ' ' || ref$ === '=')) {
      return 0;
    }
  }
  ref$ = (REGEX.lastIndex = index, REGEX).exec(code), input = ref$[0], body = ref$[1], flag = ref$[2];
  if (input) {
    this.regex(body, flag);
  } else if (!divisible && this.last[0] !== '(') {
    this.carp('unterminated regex');
  }
  return input.length;
};
exports.doHeregex = function(code, index){
  var tokens, last, parts, rest, flag, i$, i, t, dynaflag, len$, val, one;
  tokens = this.tokens, last = this.last;
  parts = this.interpolate(code, index, '//');
  rest = code.slice(index + 2 + parts.size);
  flag = this.validate(/^(?:[gimy]{1,4}|[?$]?)/.exec(rest)[0]);
  if (parts[1]) {
    if (flag === '$') {
      this.adi();
      this.token('(', '"');
    } else {
      tokens.push(['ID', 'RegExp', last[2]], ['CALL(', '', last[2]]);
      if (flag === '?') {
        for (i$ = parts.length - 1; i$ >= 0; --i$) {
          i = i$;
          t = parts[i$];
          if (t[0] === 'TOKENS') {
            dynaflag = parts.splice(i, 1)[0][1];
            break;
          }
        }
      }
    }
    for (i$ = 0, len$ = parts.length; i$ < len$; ++i$) {
      i = i$;
      t = parts[i$];
      if (t[0] === 'TOKENS') {
        tokens.push.apply(tokens, t[1]);
      } else {
        val = t[1].replace(HEREGEX_OMIT, '');
        if (one && !val) {
          continue;
        }
        one = tokens.push((t[0] = 'STRNUM', t[1] = this.string('\'', enslash(val)), t));
      }
      tokens.push(['+-', '+', tokens[tokens.length - 1][2]]);
    }
    --tokens.length;
    if (dynaflag || flag >= 'g') {
      this.token(',', ',');
      if (dynaflag) {
        tokens.push.apply(tokens, dynaflag);
      } else {
        this.token('STRNUM', "'" + flag + "'");
      }
    }
    this.token(flag === '$' ? ')' : ')CALL', '');
  } else {
    this.regex(reslash(parts[0][1].replace(HEREGEX_OMIT, '')), flag);
  }
  return 2 + parts.size + flag.length;
};
exports.doBackslash = function(code, lastIndex){
  var ref$, input, word;
  BSTOKEN.lastIndex = lastIndex;
  ref$ = BSTOKEN.exec(code), input = ref$[0], word = ref$[1];
  if (word) {
    this.strnum(this.string('\'', word));
  } else {
    this.countLines(input);
  }
  return input.length;
};
exports.doLine = function(code, index){
  var ref$, input, tabs, length, last, that, delta, tag, val;
  ref$ = (MULTIDENT.lastIndex = index, MULTIDENT).exec(code), input = ref$[0], tabs = ref$[1];
  length = this.countLines(input).length;
  last = this.last;
  last.eol = true;
  last.spaced = true;
  if (index + length >= code.length) {
    return length;
  }
  if (that = tabs && (this.emender || (this.emender = RegExp('[^' + tabs.charAt() + ']'))).exec(tabs)) {
    this.carp("contaminated indent " + escape(that));
  }
  if (0 > (delta = tabs.length - this.dent)) {
    this.dedent(-delta);
    this.newline();
  } else {
    tag = last[0], val = last[1];
    if (tag === 'ASSIGN' && ((ref$ = val + '') !== '=' && ref$ !== ':=' && ref$ !== '+=') || val === '++' && (ref$ = this.tokens)[ref$.length - 2].spaced || (tag === '+-' || tag === 'PIPE' || tag === 'BACKPIPE' || tag === 'DOT' || tag === 'LOGIC' || tag === 'MATH' || tag === 'COMPARE' || tag === 'RELATION' || tag === 'SHIFT' || tag === 'IN' || tag === 'OF' || tag === 'TO' || tag === 'BY' || tag === 'FROM' || tag === 'EXTENDS' || tag === 'IMPLEMENTS')) {
      return length;
    }
    if (delta) {
      this.indent(delta);
    } else {
      this.newline();
    }
  }
  this.fset('for', false);
  this.fset('by', false);
  return length;
};
exports.doSpace = function(code, lastIndex){
  var input;
  SPACE.lastIndex = lastIndex;
  if (input = SPACE.exec(code)[0]) {
    this.last.spaced = true;
  }
  return input.length;
};
exports.doCase = function(){
  var ref$, ref1$;
  this.seenFor = false;
  if (((ref$ = this.last[0]) === 'ASSIGN' || ref$ === '->' || ref$ === ':') || (this.last[0] === 'INDENT' && ((ref$ = (ref1$ = this.tokens)[ref1$.length - 2][0]) === 'ASSIGN' || ref$ === '->' || ref$ === ':'))) {
    this.token('SWITCH', 'switch');
    this.line++;
    return this.token('CASE', 'case');
  }
};
exports.doLiteral = function(code, index){
  var sym, tag, val, ref$, that;
  if (!(sym = (SYMBOL.lastIndex = index, SYMBOL).exec(code)[0])) {
    return 0;
  }
  switch (tag = val = sym) {
  case '|':
    tag = 'CASE';
    if (this.doCase()) {
      return sym.length;
    }
    break;
  case '|>':
    tag = 'PIPE';
    break;
  case '`':
    tag = 'BACKTICK';
    break;
  case '<<':
  case '>>':
    tag = 'COMPOSE';
    break;
  case '<|':
    tag = 'BACKPIPE';
    break;
  case '+':
  case '-':
    tag = '+-';
    break;
  case '&&':
  case '||':
    tag = 'LOGIC';
    break;
  case '.&.':
  case '.|.':
  case '.^.':
    tag = 'BITWISE';
    break;
  case '^^':
    tag = 'CLONE';
    break;
  case '**':
  case '^':
    tag = 'POWER';
    break;
  case '?':
    if (this.last[0] === '(') {
      this.token('PARAM(', '(');
      this.token(')PARAM', ')');
      this.token('->', '->');
      this.token('ID', 'it');
    } else {
      if (this.last.spaced) {
        tag = 'LOGIC';
      }
    }
    break;
  case '/':
  case '%':
  case '%%':
    tag = 'MATH';
    break;
  case '++':
  case '--':
    tag = 'CREMENT';
    break;
  case '<<<':
  case '<<<<':
    tag = 'IMPORT';
    break;
  case ';':
    tag = 'NEWLINE';
    this.fset('by', false);
    break;
  case '..':
    this.token('LITERAL', '..', true);
    return 2;
  case '.':
    if (this.last[1] === '?') {
      this.last[0] = '?';
    }
    tag = 'DOT';
    break;
  case ',':
    switch (this.last[0]) {
    case ',':
    case '[':
    case '(':
    case 'CALL(':
      this.token('LITERAL', 'void');
      break;
    case 'FOR':
    case 'OWN':
      this.token('ID', '');
    }
    break;
  case '!=':
  case '~=':
    if (!(able(this.tokens) || ((ref$ = this.last[0]) === '(' || ref$ === 'CREMENT'))) {
      this.tokens.push(val === '!='
        ? ['UNARY', '!', this.line]
        : ['UNARY', '~', this.line], ['ASSIGN', '=', this.line]);
      return 2;
    }
    // fallthrough
  case '!~=':
  case '==':
    val = (function(){
      switch (val) {
      case '~=':
        return '==';
      case '!~=':
        return '!=';
      case '==':
        return '===';
      case '!=':
        return '!==';
      }
    }());
    tag = 'COMPARE';
    break;
  case '===':
  case '!==':
    val += '=';
    // fallthrough
  case '<':
  case '>':
  case '<=':
  case '>=':
  case '<==':
  case '>==':
  case '>>=':
  case '<<=':
    tag = 'COMPARE';
    break;
  case '.<<.':
  case '.>>.':
  case '.>>>.':
  case '<?':
  case '>?':
    tag = 'SHIFT';
    break;
  case '(':
    if (!(((ref$ = this.last[0]) === 'FUNCTION' || ref$ === 'GENERATOR' || ref$ === 'LET') || this.able(true) || this.last[1] === '.@')) {
      this.token('(', '(');
      this.closes.push(')');
      this.parens.push(this.last);
      return 1;
    }
    tag = 'CALL(';
    this.closes.push(')CALL');
    break;
  case '[':
  case '{':
    this.adi();
    this.closes.push(']}'.charAt(val === '{'));
    break;
  case '}':
    if (this.inter && val !== (ref$ = this.closes)[ref$.length - 1]) {
      this.rest = code.slice(index + 1);
      return 9e9;
    }
    // fallthrough
  case ']':
  case ')':
    if (tag === ')' && ((ref$ = this.last[0]) === '+-' || ref$ === 'COMPARE' || ref$ === 'LOGIC' || ref$ === 'MATH' || ref$ === 'POWER' || ref$ === 'SHIFT' || ref$ === 'BITWISE' || ref$ === 'CONCAT' || ref$ === 'COMPOSE' || ref$ === 'RELATION' || ref$ === 'PIPE' || ref$ === 'BACKPIPE' || ref$ === 'IMPORT' || ref$ === 'CLONEPORT' || ref$ === 'ASSIGN')) {
      (ref$ = this.tokens)[ref$.length - 1][0] = (function(){
        switch (this.last[0]) {
        case 'RELATION':
          return 'BIOPR';
        case 'PIPE':
          this.parameters(false, -1);
          return 'BIOPP';
        default:
          return 'BIOP';
        }
      }.call(this));
    }
    if (')' === (tag = val = this.pair(val))) {
      this.lpar = this.parens.pop();
    }
    break;
  case '=':
  case ':':
    if (val === ':') {
      switch (this.last[0]) {
      case 'ID':
      case 'STRNUM':
      case ')':
        break;
      case '...':
        this.last[0] = 'STRNUM';
        break;
      default:
        tag = 'LABEL';
        val = '';
      }
      this.token(tag, val);
      return sym.length;
    }
    // fallthrough
  case ':=':
  case '+=':
  case '-=':
  case '*=':
  case '/=':
  case '%=':
  case '%%=':
  case '<?=':
  case '>?=':
  case '**=':
  case '^=':
  case '.&.=':
  case '.|.=':
  case '.^.=':
  case '.<<.=':
  case '.>>.=':
  case '.>>>.=':
  case '++=':
  case '|>=':
    if (this.last[1] === '.' || this.last[0] === '?' && this.adi()) {
      this.last[1] += val;
      return val.length;
    }
    if (this.last[0] === 'LOGIC') {
      (val = Object(val)).logic = this.tokens.pop()[1];
    } else if ((val === '+=' || val === '-=') && !able(this.tokens) && ((ref$ = this.last[0]) !== '+-' && ref$ !== 'UNARY' && ref$ !== 'LABEL')) {
      this.token('UNARY', val.charAt());
      val = '=';
    }
    tag = 'ASSIGN';
    break;
  case '::=':
    this.token('DOT', '.');
    this.token('ID', 'prototype');
    this.token('IMPORT', '<<');
    return sym.length;
  case '*':
    if (this.last[0] === 'FUNCTION') {
      this.last[0] = 'GENERATOR';
      return sym.length;
    }
    if (that = ((ref$ = this.last[0]) === 'NEWLINE' || ref$ === 'INDENT' || ref$ === 'THEN' || ref$ === '=>') && (INLINEDENT.lastIndex = index + 1, INLINEDENT).exec(code)[0].length) {
      this.tokens.push(['LITERAL', 'void', this.line], ['ASSIGN', '=', this.line]);
      this.indent(index + that - 1 - this.dent - code.lastIndexOf('\n', index - 1));
      return that;
    }
    tag = able(this.tokens) || this.last[0] === 'CREMENT' && able(this.tokens, this.tokens.length - 1) || this.last[0] === '(' ? 'MATH' : 'STRNUM';
    break;
  case '@':
    this.adi();
    if (this.last[0] === 'DOT' && this.last[1] === '.' && (ref$ = this.tokens)[ref$.length - 2][0] === 'ID' && (ref$ = this.tokens)[ref$.length - 2][1] === 'constructor') {
      this.tokens.pop();
      this.tokens.pop();
      this.token('LITERAL', 'this', true);
      this.adi();
      this.token('ID', 'constructor', true);
    } else {
      this.token('LITERAL', 'this', true);
    }
    return 1;
  case '@@':
    this.adi();
    this.token('ID', 'constructor', true);
    return 2;
  case '&':
    this.token('LITERAL', 'arguments');
    return 1;
  case '!':
    switch (false) {
    default:
      if (!this.last.spaced) {
        if (this.last[1] === 'require') {
          this.last[0] = 'REQUIRE';
          this.last[1] = 'require!';
        } else if (able(this.tokens, null, true)) {
          this.token('CALL(', '!');
          this.token(')CALL', ')');
        } else if (this.last[1] === 'typeof') {
          this.last[1] = 'classof';
        } else if (this.last[1] === 'delete') {
          this.last[1] = 'jsdelete';
        } else {
          break;
        }
        return 1;
      }
    }
    tag = 'UNARY';
    break;
  case '&':
    if (!able(this.tokens)) {
      tag = 'LITERAL';
    }
    break;
  case '|':
    tag = 'BITWISE';
    break;
  case '~':
    if (this.dotcat(val)) {
      return 1;
    }
    tag = 'UNARY';
    break;
  case '::':
    this.adi();
    val = 'prototype';
    tag = 'ID';
    break;
  case '=>':
    this.unline();
    this.fset('for', false);
    tag = 'THEN';
    break;
  default:
    if (/^!?(?:--?|~~?)>\*?$/.test(val)) {
      this.parameters(tag = '->');
    } else if (/^<(?:--?|~~?)$/.test(val)) {
      this.parameters(tag = '<-');
    } else {
      switch (val.charAt(0)) {
      case '(':
        this.token('CALL(', '(');
        tag = ')CALL';
        val = ')';
        break;
      case '<':
        if (val.length < 4) {
          this.carp('unterminated words');
        }
        this.token('WORDS', val.slice(2, -2), this.adi());
        return this.countLines(val).length;
      }
    }
  }
  if ((tag === '+-' || tag === 'COMPARE' || tag === 'LOGIC' || tag === 'MATH' || tag === 'POWER' || tag === 'SHIFT' || tag === 'BITWISE' || tag === 'CONCAT' || tag === 'COMPOSE' || tag === 'RELATION' || tag === 'PIPE' || tag === 'BACKPIPE' || tag === 'IMPORT') && this.last[0] === '(') {
    tag = tag === 'BACKPIPE' ? 'BIOPBP' : 'BIOP';
  }
  if (tag === ',' || tag === 'CASE' || tag === 'PIPE' || tag === 'BACKPIPE' || tag === 'DOT' || tag === 'LOGIC' || tag === 'COMPARE' || tag === 'MATH' || tag === 'POWER' || tag === 'IMPORT' || tag === 'SHIFT' || tag === 'BITWISE') {
    this.unline();
  }
  this.token(tag, val);
  return sym.length;
};
exports.token = function(tag, value, callable){
  this.tokens.push(this.last = [tag, value, this.line]);
  if (callable) {
    this.last.callable = true;
  }
  return value;
};
exports.indent = function(delta){
  this.dent += delta;
  this.dents.push(this.token('INDENT', delta));
  this.closes.push('DEDENT');
};
exports.dedent = function(debt){
  var dent;
  this.dent -= debt;
  while (debt > 0 && (dent = this.dents.pop())) {
    if (debt < dent && !this.inter) {
      this.carp("unmatched dedent (" + debt + " for " + dent + ")");
    }
    this.pair('DEDENT');
    debt -= typeof dent === 'number' ? this.token('DEDENT', dent) : dent;
  }
};
exports.newline = function(){
  var ref$;
  this.last[1] === '\n' || this.tokens.push(this.last = (ref$ = ['NEWLINE', '\n', this.line], ref$.spaced = true, ref$));
};
exports.unline = function(){
  var ref$;
  if (!this.tokens[1]) {
    return;
  }
  switch (this.last[0]) {
  case 'INDENT':
    (ref$ = this.dents)[ref$.length - 1] += '';
    // fallthrough
  case 'NEWLINE':
    this.tokens.length--;
  }
};
exports.parameters = function(arrow, offset){
  var i$, ref$, i, t, ref1$;
  if (this.last[0] === ')' && ')' === this.last[1]) {
    this.lpar[0] = 'PARAM(';
    this.last[0] = ')PARAM';
    return;
  }
  if (arrow === '->') {
    this.token('PARAM(', '');
  } else {
    for (i$ = (ref$ = this.tokens).length - 1; i$ >= 0; --i$) {
      i = i$;
      t = ref$[i$];
      if ((ref1$ = t[0]) === 'NEWLINE' || ref1$ === 'INDENT' || ref1$ === 'THEN' || ref1$ === '=>' || ref1$ === '(') {
        break;
      }
    }
    this.tokens.splice(i + 1, 0, ['PARAM(', '', t[2]]);
  }
  if (offset) {
    this.tokens.splice(this.tokens.length + offset, 0, [')PARAM', '', t[2]]);
  } else {
    this.token(')PARAM', '');
  }
};
exports.interpolate = function(str, idx, end){
  var parts, end0, pos, i, ch, c1, id, stringified, length, tag, e, delta, nested, clone, ref$;
  parts = [];
  end0 = end.charAt(0);
  pos = 0;
  i = -1;
  str = str.slice(idx + end.length);
  while (ch = str.charAt(++i)) {
    switch (ch) {
    case end0:
      if (end !== str.slice(i, i + end.length)) {
        continue;
      }
      parts.push(['S', this.countLines(str.slice(0, i)), this.line]);
      return parts.size = pos + i + end.length, parts;
    case '#':
      c1 = str.charAt(i + 1);
      id = in$(c1, ['@']) && c1 || (ID.lastIndex = i + 1, ID).exec(str)[1];
      if (!(id || c1 === '{')) {
        continue;
      }
      break;
    case '\\':
      ++i;
      // fallthrough
    default:
      continue;
    }
    if (i || nested && !stringified) {
      stringified = parts.push(['S', this.countLines(str.slice(0, i)), this.line]);
    }
    if (id) {
      length = id.length;
      if (id === '@') {
        id = 'this';
      }
      if (in$(id, ['this'])) {
        tag = 'LITERAL';
      } else {
        id = camelize(id);
        try {
          Function("'use strict'; var " + id);
        } catch (e$) {
          e = e$;
          this.carp("invalid variable interpolation \"" + id + "\"");
        }
        tag = 'ID';
      }
      str = str.slice(delta = i + 1 + length);
      parts.push(['TOKENS', nested = [[tag, id, this.line]]]);
    } else {
      clone = (ref$ = clone$(exports), ref$.inter = true, ref$.emender = this.emender, ref$);
      nested = clone.tokenize(str.slice(i + 2), {
        line: this.line,
        raw: true
      });
      delta = str.length - clone.rest.length;
      str = clone.rest, this.line = clone.line;
      while (((ref$ = nested[0]) != null ? ref$[0] : void 8) === 'NEWLINE') {
        nested.shift();
      }
      if (nested.length) {
        nested.unshift(['(', '(', nested[0][2]]);
        nested.push([')', ')', this.line]);
        parts.push(['TOKENS', nested]);
      }
    }
    pos += delta;
    i = -1;
  }
  this.carp("missing `" + end + "`");
};
exports.addInterpolated = function(parts, nlines){
  var tokens, last, ref$, left, right, joint, callable, i$, len$, i, t;
  if (!parts[1]) {
    return this.strnum(nlines(this.string('"', parts[0][1])));
  }
  tokens = this.tokens, last = this.last;
  ref$ = !last.spaced && last[1] === '%'
    ? (--tokens.length, this.last = last = tokens[tokens.length - 1], ['[', ']', [',', ',']])
    : ['(', ')', ['+-', '+']], left = ref$[0], right = ref$[1], joint = ref$[2];
  callable = this.adi();
  tokens.push([left, '"', last[2]]);
  for (i$ = 0, len$ = parts.length; i$ < len$; ++i$) {
    i = i$;
    t = parts[i$];
    if (t[0] === 'TOKENS') {
      tokens.push.apply(tokens, t[1]);
    } else {
      if (i > 1 && !t[1]) {
        continue;
      }
      tokens.push(['STRNUM', nlines(this.string('"', t[1])), t[2]]);
    }
    tokens.push(joint.concat(tokens[tokens.length - 1][2]));
  }
  --tokens.length;
  this.token(right, '', callable);
};
exports.strnum = function(it){
  this.token('STRNUM', it, this.adi() || this.last[0] === 'DOT');
};
exports.regex = function(body, flag){
  var e;
  try {
    RegExp(body);
  } catch (e$) {
    e = e$;
    this.carp(e.message);
  }
  if (flag === '$') {
    return this.strnum(this.string('\'', enslash(body)));
  }
  return this.token('LITERAL', "/" + (body || '(?:)') + "/" + this.validate(flag));
};
exports.adi = function(){
  if (this.last.spaced) {
    return;
  }
  if (!able(this.tokens)) {
    return;
  }
  return this.token('DOT', '.');
};
exports.dotcat = function(it){
  if (this.last[1] === '.' || this.adi()) {
    return this.last[1] += it;
  }
};
exports.pair = function(it){
  var wanted, ref$;
  if (!(it === (wanted = (ref$ = this.closes)[ref$.length - 1]) || ')CALL' === wanted && it === ')')) {
    if ('DEDENT' !== wanted) {
      this.carp("unmatched `" + it + "`");
    }
    this.dedent((ref$ = this.dents)[ref$.length - 1]);
    return this.pair(it);
  }
  this.unline();
  return this.closes.pop();
};
exports.able = function(call){
  return !this.last.spaced && able(this.tokens, null, call);
};
exports.countLines = function(it){
  var pos;
  while (pos = 1 + it.indexOf('\n', pos)) {
    ++this.line;
  }
  return it;
};
exports.forange = function(){
  var ref$, ref1$, ref2$;
  if (((ref$ = (ref1$ = this.tokens)[ref1$.length - 2 - ((ref2$ = this.last[0]) === 'NEWLINE' || ref2$ === 'INDENT')]) != null ? ref$[0] : void 8) === 'FOR' || this.last[0] === 'FOR') {
    this.fset('for', false);
    this.fset('from', true);
    return true;
  } else {
    return false;
  }
};
exports.validate = function(flag){
  var that;
  if (that = flag && /(.).*\1/.exec(flag)) {
    this.carp("duplicate regex flag `" + that[1] + "`");
  }
  return flag;
};
exports.fget = function(key){
  var ref$;
  return (ref$ = this.flags[this.closes.length]) != null ? ref$[key] : void 8;
};
exports.fset = function(key, val){
  var ref$, key$;
  ((ref$ = this.flags)[key$ = this.closes.length] || (ref$[key$] = {}))[key] = val;
};
exports.carp = function(it){
  carp(it, this.line);
};
exports.string = function(q, body){
  return string(q, body, this.line);
};
function carp(msg, lno){
  throw SyntaxError(msg + " on line " + (-~lno));
}
function able(tokens, i, call){
  var token, tag;
  i == null && (i = tokens.length);
  tag = (token = tokens[i - 1])[0];
  return (tag === 'ID' || tag === ']' || tag === '?') || (call
    ? token.callable || (tag === ')' || tag === ')CALL' || tag === 'BIOPBP') && token[1]
    : tag === '}' || tag === ')' || tag === ')CALL' || tag === 'STRNUM' || tag === 'LITERAL' || tag === 'WORDS');
}
string = (function(re){
  return function(q, body, lno){
    body = body.replace(re, function(it, oct, xu, rest){
      if (it === q || it === '\\') {
        return '\\' + it;
      }
      if (oct) {
        return '\\x' + (0x100 + parseInt(oct, 8)).toString(16).slice(1);
      }
      if (xu) {
        carp('malformed character escape sequence', lno);
      }
      if (!rest || q === rest) {
        return it;
      } else {
        return rest;
      }
    });
    return q + body + q;
  };
}.call(this, /['"]|\\(?:([0-3]?[0-7]{2}|[1-7]|0(?=[89]))|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|([xu])|[\\0bfnrtv]|[^\n\S]|([\w\W]))?/g));
function heretabs(doc){
  var dent, that, ref$;
  dent = 0 / 0;
  while (that = TABS.exec(doc)) {
    dent <= (ref$ = that[0].length - 1) || (dent = ref$);
  }
  return dent;
}
TABS = /\n(?!$)[^\n\S]*/mg;
function detab(str, len){
  if (len) {
    return str.replace(detab[len] || (detab[len] = RegExp('\\n[^\\n\\S]{1,' + len + '}', 'g')), '\n');
  } else {
    return str;
  }
}
unlines = function(it){
  return it.replace(/\n[^\n\S]*/g, '');
};
enlines = function(it){
  return it.replace(/\n/g, '\\n');
};
enslash = function(it){
  return it.replace(/\\/g, '\\\\');
};
reslash = function(it){
  return it.replace(/(\\.)|\//g, function(){
    return arguments[1] || '\\/';
  });
};
camelize = function(it){
  return it.replace(/-[a-z]/ig, function(it){
    return it.charAt(1).toUpperCase();
  });
};
function lchomp(it){
  return it.slice(1 + it.lastIndexOf('\n', 0));
}
function decode(val, lno){
  if (!isNaN(val)) {
    return [+val];
  }
  val = val.length > 8
    ? 'ng'
    : Function('return ' + val)();
  val.length === 1 || carp('bad string in range', lno);
  return [val.charCodeAt(), true];
}
function uxxxx(it){
  return '"\\u' + ('000' + it.toString(16)).slice(-4) + '"';
}
character = typeof JSON == 'undefined' || JSON === null
  ? uxxxx
  : function(it){
    switch (it) {
    case 0x2028:
    case 0x2029:
      return uxxxx(it);
    default:
      return JSON.stringify(String.fromCharCode(it));
    }
  };
function firstPass(tokens){
  var prev, i, token, tag, val, line, next, ts, parens, i$, j;
  prev = ['NEWLINE', '\n', 0];
  i = 0;
  while (token = tokens[++i]) {
    tag = token[0], val = token[1], line = token[2];
    switch (false) {
    case !(tag === 'ASSIGN' && in$(prev[1], LS_KEYWORDS) && tokens[i - 2][0] !== 'DOT'):
      carp("cannot assign to reserved word \"" + prev[1] + "\"", line);
      break;
    case !(tag === 'DOT' && prev[0] === ']' && tokens[i - 2][0] === '[' && tokens[i - 3][0] === 'DOT'):
      tokens.splice(i - 2, 3);
      tokens[i - 3][1] = '[]';
      break;
    case !(tag === 'DOT' && prev[0] === '}' && tokens[i - 2][0] === '{' && tokens[i - 3][0] === 'DOT'):
      tokens.splice(i - 2, 3);
      tokens[i - 3][1] = '{}';
      break;
    case !(val === '.' && token.spaced && prev.spaced):
      tokens[i] = ['COMPOSE', '<<', line];
      break;
    case val !== '++':
      if (!(next = tokens[i + 1])) {
        break;
      }
      ts = ['ID', 'LITERAL', 'STRNUM'];
      if (prev.spaced && token.spaced || !(prev.spaced || token.spaced) && in$(prev[0], ts) && in$(next[0], ts)) {
        tokens[i][0] = 'CONCAT';
      }
      if (prev[0] === '(' && next[0] === ')' || prev[0] === '(' && token.spaced || next[0] === ')' && prev.spaced) {
        tokens[i][0] = 'BIOP';
      }
      break;
    case tag !== 'DOT':
      next = tokens[i + 1];
      if (prev[0] === '(' && next[0] === ')') {
        tokens[i][0] = 'BIOP';
      } else if (prev[0] === '(') {
        tokens.splice(i, 0, ['PARAM(', '(', line], [')PARAM', ')', line], ['->', '->', line], ['ID', 'it', line]);
      } else if (next[0] === ')') {
        tokens.splice(i + 1, 0, ['[', '[', line], ['ID', 'it', line], [']', ']', line]);
        parens = 1;
        LOOP: for (i$ = i + 1; i$ >= 0; --i$) {
          j = i$;
          switch (tokens[j][0]) {
          case ')':
            ++parens;
            break;
          case '(':
            if (--parens === 0) {
              tokens.splice(j + 1, 0, ['PARAM(', '(', line], ['ID', 'it', line], [')PARAM', ')', line], ['->', '->', line]);
              break LOOP;
            }
          }
        }
      }
    }
    prev = token;
    continue;
  }
}
function rewriteBlockless(tokens){
  var i$, len$, i, token, tag;
  for (i$ = 0, len$ = tokens.length; i$ < len$; ++i$) {
    i = i$;
    token = tokens[i$], tag = token[0];
    if (tag === 'IF' || tag === 'CLASS' || tag === 'CATCH') {
      detectEnd(tokens, i + 1, ok, go);
    }
  }
  function ok(it){
    var ref$;
    return (ref$ = it[0]) === 'NEWLINE' || ref$ === 'INDENT';
  }
  function go(it, i){
    var lno;
    if (tag === 'IF') {
      if (it[0] !== 'INDENT' || !it[1] && !it.then || in$(tokens[i - 1][0], BLOCK_USERS)) {
        token[0] = 'POST_IF';
      }
    } else if (it[0] !== 'INDENT') {
      tokens.splice(i, 0, ['INDENT', 0, lno = tokens[i - 1][2]], ['DEDENT', 0, lno]);
    }
  }
}
function addImplicitIndentation(tokens){
  var i, token, tag, next, indent, dedent, ref$, ref1$, idx;
  i = 0;
  while (token = tokens[++i]) {
    tag = token[0];
    if (tag !== '->' && tag !== 'THEN' && tag !== 'ELSE' && tag !== 'DEFAULT' && tag !== 'TRY' && tag !== 'FINALLY' && tag !== 'DECL') {
      continue;
    }
    switch (next = tokens[i + 1][0]) {
    case 'IF':
      if (tag === 'ELSE') {
        continue;
      }
      break;
    case 'INDENT':
    case 'THEN':
      if (tag === 'THEN') {
        tokens.splice(i--, 1);
      }
      continue;
    }
    indent = ['INDENT', 0, token[2]];
    dedent = ['DEDENT', 0];
    if (tag === 'THEN') {
      (tokens[i] = indent).then = true;
    } else {
      tokens.splice(++i, 0, indent);
    }
    switch (false) {
    case tag !== 'DECL':
      break;
    case next !== 'DOT' && next !== '?' && next !== ',' && next !== 'PIPE' && next !== 'BACKPIPE':
      --i;
      // fallthrough
    case !((next === 'ID' || next === 'STRNUM' || next === 'LITERAL') && ',' === ((ref$ = tokens[i + 2]) != null ? ref$[0] : void 8)):
      go(0, i += 2);
      ++i;
      continue;
    case !((next === '(' || next === '[' || next === '{') && ',' === ((ref1$ = tokens[idx = 1 + indexOfPair(tokens, i + 1)]) != null ? ref1$[0] : void 8)):
      go(0, idx);
      ++i;
      continue;
    }
    detectEnd(tokens, i + 1, ok, go);
  }
  function ok(token, i){
    var t0, t;
    t0 = token[0];
    t = tag;
    if (tag === t0 || tag === 'THEN' && t0 === 'SWITCH') {
      tag = '';
    }
    switch (t0) {
    case 'NEWLINE':
      return token[1] !== ';';
    case 'DOT':
    case '?':
    case ',':
    case 'PIPE':
    case 'BACKPIPE':
      return tokens[i - 1].eol;
    case 'ELSE':
      return t === 'THEN';
    case 'CATCH':
      return t === 'TRY';
    case 'FINALLY':
      return t === 'TRY' || t === 'CATCH' || t === 'THEN';
    case 'CASE':
    case 'DEFAULT':
      return t === 'CASE' || t === 'THEN';
    }
  }
  function go(arg$, i){
    var prev;
    prev = tokens[i - 1];
    tokens.splice(prev[0] === ',' ? i - 1 : i, 0, (dedent[2] = prev[2], dedent));
  }
}
function addImplicitParentheses(tokens){
  var i, brackets, token, endi, ref$, tpair, tag, prev, ref1$, skipBlock, seenSwitch;
  i = 0;
  brackets = [];
  while (token = tokens[++i]) {
    if (token[1] === 'do' && tokens[i + 1][0] === 'INDENT') {
      endi = indexOfPair(tokens, i + 1);
      if (tokens[endi + 1][0] === 'NEWLINE' && ((ref$ = tokens[endi + 2]) != null ? ref$[0] : void 8) === 'WHILE') {
        token[0] = 'DO';
        tokens[endi + 2].done = true;
        tokens.splice(endi + 1, 1);
      } else {
        (token = tokens[1 + i])[0] = '(';
        (tpair = tokens[endi])[0] = ')';
        token.doblock = true;
        tokens.splice(i, 1);
      }
    }
    tag = token[0];
    prev = tokens[i - 1];
    tag === '[' && brackets.push(prev[0] === 'DOT');
    if (prev[0] === ']') {
      if (brackets.pop()) {
        prev.index = true;
      } else {
        continue;
      }
    }
    if (!(((ref1$ = prev[0]) === 'FUNCTION' || ref1$ === 'GENERATOR' || ref1$ === 'LET' || ref1$ === 'WHERE') || prev.spaced && able(tokens, i, true))) {
      continue;
    }
    if (token.doblock) {
      token[0] = 'CALL(';
      tpair[0] = ')CALL';
      continue;
    }
    if (!exp(token)) {
      continue;
    }
    if (tag === 'CREMENT') {
      if (token.spaced || !in$((ref1$ = tokens[i + 1]) != null ? ref1$[0] : void 8, CHAIN)) {
        continue;
      }
    }
    skipBlock = seenSwitch = false;
    tokens.splice(i++, 0, ['CALL(', '', token[2]]);
    detectEnd(tokens, i, ok, go);
  }
  function exp(token){
    var tag;
    tag = token[0];
    return in$(tag, ARG) || !token.spaced && (tag === '+-' || tag === 'CLONE');
  }
  function ok(token, i){
    var tag, ref$, pre;
    tag = token[0];
    if (tag === 'POST_IF' || tag === 'PIPE' || tag === 'BACKPIPE') {
      return true;
    }
    if (!skipBlock) {
      if (token.alias && ((ref$ = token[1]) === '&&' || ref$ === '||' || ref$ === 'xor') || (tag === 'TO' || tag === 'BY' || tag === 'IMPLEMENTS')) {
        return true;
      }
    }
    pre = tokens[i - 1];
    switch (tag) {
    case 'NEWLINE':
      return pre[0] !== ',';
    case 'DOT':
    case '?':
      return !skipBlock && (pre.spaced || pre[0] === 'DEDENT');
    case 'SWITCH':
      seenSwitch = true;
      // fallthrough
    case 'IF':
    case 'CLASS':
    case 'FUNCTION':
    case 'GENERATOR':
    case 'LET':
    case 'WITH':
    case 'CATCH':
      skipBlock = true;
      break;
    case 'CASE':
      if (seenSwitch) {
        skipBlock = true;
      } else {
        return true;
      }
      break;
    case 'INDENT':
      if (skipBlock) {
        return skipBlock = false;
      }
      return !in$(pre[0], BLOCK_USERS);
    case 'WHILE':
      if (token.done) {
        return false;
      }
      // fallthrough
    case 'FOR':
      skipBlock = true;
      return able(tokens, i) || pre[0] === 'CREMENT' || pre[0] === '...' && pre.spaced;
    }
    return false;
  }
  function go(token, i){
    tokens.splice(i, 0, [')CALL', '', tokens[i - 1][2]]);
  }
}
function addImplicitBraces(tokens){
  var stack, i, token, tag, start, paren, index, pre, ref$, inline, ref1$;
  stack = [];
  i = 0;
  while (token = tokens[++i]) {
    if (':' !== (tag = token[0])) {
      switch (false) {
      case !in$(tag, CLOSERS):
        start = stack.pop();
        break;
      case !in$(tag, OPENERS):
        if (tag === 'INDENT' && tokens[i - 1][0] === '{') {
          tag = '{';
        }
        stack.push([tag, i]);
      }
      continue;
    }
    paren = tokens[i - 1][0] === ')';
    index = paren
      ? start[1]
      : i - 1;
    pre = tokens[index - 1];
    if (!(((ref$ = pre[0]) === ':' || ref$ === 'ASSIGN' || ref$ === 'IMPORT') || ((ref$ = stack[stack.length - 1]) != null ? ref$[0] : void 8) !== '{')) {
      continue;
    }
    stack.push(['{']);
    inline = !pre.doblock && ((ref1$ = pre[0]) !== 'NEWLINE' && ref1$ !== 'INDENT');
    while (((ref1$ = tokens[index - 2]) != null ? ref1$[0] : void 8) === 'COMMENT') {
      index -= 2;
    }
    tokens.splice(index, 0, ['{', '{', tokens[index][2]]);
    detectEnd(tokens, ++i + 1, ok, go);
  }
  function ok(token, i){
    var tag, t1, ref$, ref1$;
    switch (tag = token[0]) {
    case ',':
      break;
    case 'NEWLINE':
      if (inline) {
        return true;
      }
      break;
    case 'DEDENT':
      return true;
    case 'POST_IF':
    case 'FOR':
    case 'WHILE':
      return inline;
    default:
      return false;
    }
    t1 = (ref$ = tokens[i + 1]) != null ? ref$[0] : void 8;
    return t1 !== (tag === ',' ? 'NEWLINE' : 'COMMENT') && ':' !== ((ref1$ = tokens[t1 === '('
      ? 1 + indexOfPair(tokens, i + 1)
      : i + 2]) != null ? ref1$[0] : void 8);
  }
  function go(token, i){
    tokens.splice(i, 0, ['}', '', token[2]]);
  }
}
function expandLiterals(tokens){
  var i, fromNum, token, sig, ref$, ref1$, lno, ref2$, ref3$, ref4$, char, toNum, tochar, byNum, byp, ref5$, ts, enc, add, i$, n, ref6$, ref7$, len$, word, that;
  i = 0;
  while (token = tokens[++i]) {
    switch (token[0]) {
    case 'STRNUM':
      if (~'-+'.indexOf(sig = token[1].charAt(0))) {
        token[1] = token[1].slice(1);
        tokens.splice(i++, 0, ['+-', sig, token[2]]);
      }
      if (token.callable) {
        continue;
      }
      break;
    case 'TO':
    case 'TIL':
      if (!(tokens[i - 1][0] === '[' && ((tokens[i + 2][0] === ']' && (((ref$ = tokens[i + 1][1].charAt(0)) === '\'' || ref$ === '"') || +tokens[i + 1][1] >= 0)) || (tokens[i + 2][0] === 'BY' && ((ref$ = tokens[i + 3]) != null ? ref$[0] : void 8) === 'STRNUM' && ((ref1$ = tokens[i + 4]) != null ? ref1$[0] : void 8) === ']')))) {
        continue;
      }
      if (tokens[i + 2][0] === 'BY') {
        tokens[i + 2][0] = 'RANGE_BY';
      }
      token.op = token[1];
      fromNum = 0;
      // fallthrough
    case 'RANGE':
      lno = token[2];
      if (fromNum != null || (tokens[i - 1][0] === '[' && tokens[i + 1][0] === 'STRNUM' && ((tokens[i + 2][0] === ']' && (((ref2$ = tokens[i + 1][1].charAt(0)) === '\'' || ref2$ === '"') || +tokens[i + 1][1] >= 0)) || (tokens[i + 2][0] === 'RANGE_BY' && ((ref2$ = tokens[i + 3]) != null ? ref2$[0] : void 8) === 'STRNUM' && ((ref3$ = tokens[i + 4]) != null ? ref3$[0] : void 8) === ']')))) {
        if (fromNum == null) {
          ref4$ = decode(token[1], lno), fromNum = ref4$[0], char = ref4$[1];
        }
        ref4$ = decode(tokens[i + 1][1], lno), toNum = ref4$[0], tochar = ref4$[1];
        if (toNum == null || char ^ tochar) {
          carp('bad "to" in range', lno);
        }
        byNum = 1;
        if (byp = ((ref4$ = tokens[i + 2]) != null ? ref4$[0] : void 8) === 'RANGE_BY') {
          if (!(byNum = +((ref5$ = tokens[i + 3]) != null ? ref5$[1] : void 8))) {
            carp('bad "by" in range', tokens[i + 2][2]);
          }
        } else if (fromNum > toNum) {
          byNum = -1;
        }
        ts = [];
        enc = char ? character : String;
        add = fn$;
        if (token.op === 'to') {
          for (i$ = fromNum; byNum < 0 ? i$ >= toNum : i$ <= toNum; i$ += byNum) {
            n = i$;
            add();
          }
        } else {
          for (i$ = fromNum; byNum < 0 ? i$ > toNum : i$ < toNum; i$ += byNum) {
            n = i$;
            add();
          }
        }
        ts.pop() || carp('empty range', lno);
        tokens.splice.apply(tokens, [i, 2 + 2 * byp].concat(slice$.call(ts)));
        i += ts.length - 1;
      } else {
        token[0] = 'STRNUM';
        if (((ref6$ = tokens[i + 2]) != null ? ref6$[0] : void 8) === 'RANGE_BY') {
          tokens.splice(i + 2, 1, ['BY', 'by', lno]);
        }
        tokens.splice(i + 1, 0, ['TO', token.op, lno]);
      }
      fromNum = null;
      break;
    case 'WORDS':
      ts = [['[', '[', lno = token[2]]];
      for (i$ = 0, len$ = (ref7$ = token[1].match(/\S+/g) || '').length; i$ < len$; ++i$) {
        word = ref7$[i$];
        ts.push(['STRNUM', string('\'', word, lno), lno], [',', ',', lno]);
      }
      tokens.splice.apply(tokens, [i, 1].concat(slice$.call(ts), [[']', ']', lno]]));
      i += ts.length;
      break;
    case 'INDENT':
      if (that = tokens[i - 1]) {
        if (that[1] === 'new') {
          tokens.splice(i++, 0, ['PARAM(', '', token[2]], [')PARAM', '', token[2]], ['->', '', token[2]]);
        } else if ((ref7$ = that[0]) === 'FUNCTION' || ref7$ === 'GENERATOR' || ref7$ === 'LET') {
          tokens.splice(i, 0, ['CALL(', '', token[2]], [')CALL', '', token[2]]);
          i += 2;
        }
      }
      continue;
    case 'LITERAL':
    case '}':
      break;
    case ')':
    case ')CALL':
      if (token[1]) {
        continue;
      }
      break;
    case ']':
      if (token.index) {
        continue;
      }
      break;
    case 'CREMENT':
      if (!able(tokens, i)) {
        continue;
      }
      break;
    case 'BIOP':
      if (!token.spaced && ((ref7$ = token[1]) === '+' || ref7$ === '-') && tokens[i + 1][0] !== ')') {
        tokens[i][0] = '+-';
      }
      continue;
    default:
      continue;
    }
    if (token.spaced && in$(tokens[i + 1][0], ARG)) {
      tokens.splice(++i, 0, [',', ',', token[2]]);
    }
  }
  function fn$(){
    if (0x10000 < ts.push(['STRNUM', enc(n), lno], [',', ',', lno])) {
      carp('range limit exceeded', lno);
    }
  }
}
function detectEnd(tokens, i, ok, go){
  var levels, token, tag;
  levels = 0;
  for (; token = tokens[i]; ++i) {
    if (!levels && ok(token, i)) {
      return go(token, i);
    }
    tag = token[0];
    if (0 > (levels += in$(tag, OPENERS) || -in$(tag, CLOSERS))) {
      return go(token, i);
    }
  }
}
function indexOfPair(tokens, i){
  var level, end, start, that;
  level = 1;
  end = INVERSES[start = tokens[i][0]];
  while (that = tokens[++i]) {
    switch (that[0]) {
    case start:
      ++level;
      break;
    case end:
      if (!--level) {
        return i;
      }
    }
  }
  return -1;
}
KEYWORDS_SHARED = ['true', 'false', 'null', 'this', 'void', 'super', 'return', 'throw', 'break', 'continue', 'if', 'else', 'for', 'while', 'switch', 'case', 'default', 'try', 'catch', 'finally', 'function', 'class', 'extends', 'implements', 'new', 'do', 'delete', 'typeof', 'in', 'instanceof', 'let', 'with', 'var', 'const', 'import', 'export', 'debugger', 'yield'];
KEYWORDS_UNUSED = ['enum', 'interface', 'package', 'private', 'protected', 'public', 'static'];
JS_KEYWORDS = KEYWORDS_SHARED.concat(KEYWORDS_UNUSED);
LS_KEYWORDS = ['xor', 'match', 'where'];
ID = /((?!\s)[a-z_$\xAA-\uFFDC](?:(?!\s)[\w$\xAA-\uFFDC]|-[a-z])*)([^\n\S]*:(?![:=]))?|/ig;
SYMBOL = /[-\/^]=|[%+:*]{1,2}=|\|>=|\.(?:[&\|\^]|<<|>>>?)\.=?|\.{1,3}|\^\^|<(?:--?|~~?)|!?(?:--?|~~?)>\*?|([-+&|:])\1|%%|&|\([^\n\S]*\)|[!=]==?|!?\~=|@@?|<\[(?:[\s\S]*?\]>)?|<<<<?|<\||[<>]==|<<=|>>=|<<|>>|[<>]\??=?|\|>|\||=>|\*\*|\^|`|[^\s#]?/g;
SPACE = /[^\n\S]*(?:#.*)?/g;
MULTIDENT = /(?:\s*#.*)*(?:\n([^\n\S]*))*/g;
SIMPLESTR = /'[^\\']*(?:\\[\s\S][^\\']*)*'|/g;
JSTOKEN = /``[^\\`]*(?:\\[\s\S][^\\`]*)*``|/g;
BSTOKEN = RegExp('\\\\(?:(\\S[^\\s,;)}\\]]*)|(?:' + SPACE.source + '\\n?)*)', 'g');
NUMBER = /0x[\dA-Fa-f][\dA-Fa-f_]*|(\d*)~([\dA-Za-z]\w*)|((\d[\d_]*)(\.\d[\d_]*)?(?:e[+-]?\d[\d_]*)?)[$\w]*|/g;
NUMBER_OMIT = /_+/g;
REGEX = /\/([^[\/\n\\]*(?:(?:\\.|\[[^\]\n\\]*(?:\\.[^\]\n\\]*)*\])[^[\/\n\\]*)*)\/([gimy]{1,4}|\$?)|/g;
HEREGEX_OMIT = /\s+(?:#.*)?/g;
LASTDENT = /\n[^\n\S]*$/;
INLINEDENT = /[^\n\S]*[^#\s]?/g;
NONASCII = /[\x80-\uFFFF]/;
OPENERS = ['(', '[', '{', 'CALL(', 'PARAM(', 'INDENT'];
CLOSERS = [')', ']', '}', ')CALL', ')PARAM', 'DEDENT'];
INVERSES = import$((function(){
  var i$, ref$, len$, resultObj$ = {};
  for (i$ = 0, len$ = (ref$ = OPENERS).length; i$ < len$; ++i$) {
    i = i$;
    o = ref$[i$];
    resultObj$[o] = CLOSERS[i];
  }
  return resultObj$;
}()), (function(){
  var i$, ref$, len$, resultObj$ = {};
  for (i$ = 0, len$ = (ref$ = CLOSERS).length; i$ < len$; ++i$) {
    i = i$;
    c = ref$[i$];
    resultObj$[c] = OPENERS[i];
  }
  return resultObj$;
}()));
CHAIN = ['(', '{', '[', 'ID', 'STRNUM', 'LITERAL', 'LET', 'WITH', 'WORDS'];
ARG = CHAIN.concat(['...', 'UNARY', 'CREMENT', 'PARAM(', 'FUNCTION', 'GENERATOR', 'IF', 'SWITCH', 'TRY', 'CLASS', 'RANGE', 'LABEL', 'DECL', 'DO', 'BIOPBP']);
BLOCK_USERS = [',', ':', '->', 'ELSE', 'ASSIGN', 'IMPORT', 'UNARY', 'DEFAULT', 'TRY', 'FINALLY', 'HURL', 'DECL', 'DO', 'LET', 'FUNCTION', 'GENERATOR'];
function clone$(it){
  function fun(){} fun.prototype = it;
  return new fun;
}
function in$(x, xs){
  var i = -1, l = xs.length >>> 0;
  while (++i < l) if (x === xs[i]) return true;
  return false;
}
function import$(obj, src){
  var own = {}.hasOwnProperty;
  for (var key in src) if (own.call(src, key)) obj[key] = src[key];
  return obj;
}
},{}],11:[function(require,module,exports){
(function (process){
// Generated by LiveScript 1.3.1
var split$ = ''.split;
module.exports = function(LiveScript){
  var fs, path;
  fs = require('fs');
  path = require('path');
  LiveScript.run = function(code, options, js){
    var filename, main, dirname, ref$, e;
    if (options != null) {
      filename = options.filename;
    }
    main = require.main;
    if (filename) {
      dirname = path.dirname(fs.realpathSync(filename = process.argv[1] = path.resolve(filename)));
    } else {
      dirname = filename = '.';
    }
    main.paths = main.constructor._nodeModulePaths(dirname);
    main.filename = filename;
    js || (code = LiveScript.compile(code, (ref$ = {}, import$(ref$, options), ref$.bare = true, ref$)));
    try {
      return main._compile(code, filename);
    } catch (e$) {
      e = e$;
      throw hackTrace(e, code, filename);
    }
  };
  importAll$(LiveScript, require('events').EventEmitter.prototype);
  require.extensions['.ls'] = function(module, filename){
    var js, e;
    js = LiveScript.compile(fs.readFileSync(filename, 'utf8'), {
      filename: filename,
      bare: true
    });
    try {
      return module._compile(js, filename);
    } catch (e$) {
      e = e$;
      throw hackTrace(e, js, filename);
    }
  };
};
function hackTrace(error, js, filename){
  var stack, traces, i$, len$, i, trace, index, lno, end, length, lines, j$, ref$, n;
  if (error != null) {
    stack = error.stack;
  }
  if (!stack) {
    return error;
  }
  traces = split$.call(stack, '\n');
  if (!(traces.length > 1)) {
    return error;
  }
  for (i$ = 0, len$ = traces.length; i$ < len$; ++i$) {
    i = i$;
    trace = traces[i$];
    if (0 > (index = trace.indexOf("(" + filename + ":"))) {
      continue;
    }
    lno = (/:(\d+):/.exec(trace.slice(index + filename.length)) || '')[1];
    if (!(lno = +lno)) {
      continue;
    }
    length = ('' + (end = lno + 4)).length;
    lines || (lines = split$.call(js, '\n'));
    for (j$ = 1 > (ref$ = lno - 4) ? 1 : ref$; j$ <= end; ++j$) {
      n = j$;
      traces[i] += "\n" + ('    ' + n).slice(-length) + "" + '|+'.charAt(n === lno) + " " + [lines[n - 1]];
    }
  }
  return error.stack = traces.join('\n'), error;
}
function import$(obj, src){
  var own = {}.hasOwnProperty;
  for (var key in src) if (own.call(src, key)) obj[key] = src[key];
  return obj;
}
function importAll$(obj, src){
  for (var key in src) obj[key] = src[key];
  return obj;
}
}).call(this,require('_process'))
},{"_process":23,"events":21,"fs":20,"path":22}],12:[function(require,module,exports){
exports.parser = {trace: function trace() { },
yy: {},
symbols_: {"error":2,"Chain":3,"ID":4,"Parenthetical":5,"List":6,"STRNUM":7,"LITERAL":8,"DOT":9,"Key":10,"CALL(":11,"ArgList":12,"OptComma":13,")CALL":14,"?":15,"LET":16,"Block":17,"[":18,"Expression":19,"LoopHeads":20,"]":21,"DEDENT":22,"{":23,"}":24,"(":25,"BIOP":26,")":27,"BIOPR":28,"BIOPBP":29,"BIOPP":30,"PARAM(":31,")PARAM":32,"UNARY":33,"CREMENT":34,"BACKTICK":35,"TO":36,"BY":37,"WITH":38,"FOR":39,"Properties":40,"LABEL":41,"KeyBase":42,"Arg":43,",":44,"NEWLINE":45,"INDENT":46,"...":47,"Lines":48,"Line":49,"<-":50,"COMMENT":51,"REQUIRE":52,"CLONEPORT":53,"ASSIGN":54,"IMPORT":55,"+-":56,"CLONE":57,"YIELD":58,"COMPARE":59,"LOGIC":60,"MATH":61,"POWER":62,"SHIFT":63,"BITWISE":64,"CONCAT":65,"COMPOSE":66,"RELATION":67,"PIPE":68,"BACKPIPE":69,"!?":70,"->":71,"FUNCTION":72,"GENERATOR":73,"IF":74,"Else":75,"POST_IF":76,"LoopHead":77,"DO":78,"WHILE":79,"CASE":80,"HURL":81,"JUMP":82,"SWITCH":83,"Exprs":84,"Cases":85,"DEFAULT":86,"ELSE":87,"TRY":88,"CATCH":89,"FINALLY":90,"CLASS":91,"OptExtends":92,"OptImplements":93,"EXTENDS":94,"DECL":95,"KeyValue":96,"Property":97,":":98,"Body":99,"IN":100,"OF":101,"FROM":102,"IMPLEMENTS":103,"Root":104,"$accept":0,"$end":1},
terminals_: {2:"error",4:"ID",7:"STRNUM",8:"LITERAL",9:"DOT",11:"CALL(",14:")CALL",15:"?",16:"LET",18:"[",21:"]",22:"DEDENT",23:"{",24:"}",25:"(",26:"BIOP",27:")",28:"BIOPR",29:"BIOPBP",30:"BIOPP",31:"PARAM(",32:")PARAM",33:"UNARY",34:"CREMENT",35:"BACKTICK",36:"TO",37:"BY",38:"WITH",39:"FOR",41:"LABEL",44:",",45:"NEWLINE",46:"INDENT",47:"...",50:"<-",51:"COMMENT",52:"REQUIRE",53:"CLONEPORT",54:"ASSIGN",55:"IMPORT",56:"+-",57:"CLONE",58:"YIELD",59:"COMPARE",60:"LOGIC",61:"MATH",62:"POWER",63:"SHIFT",64:"BITWISE",65:"CONCAT",66:"COMPOSE",67:"RELATION",68:"PIPE",69:"BACKPIPE",70:"!?",71:"->",72:"FUNCTION",73:"GENERATOR",74:"IF",76:"POST_IF",78:"DO",79:"WHILE",80:"CASE",81:"HURL",82:"JUMP",83:"SWITCH",86:"DEFAULT",87:"ELSE",88:"TRY",89:"CATCH",90:"FINALLY",91:"CLASS",94:"EXTENDS",95:"DECL",98:":",100:"IN",101:"OF",102:"FROM",103:"IMPLEMENTS"},
productions_: [0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,3],[3,3],[3,5],[3,2],[3,6],[3,4],[3,5],[3,7],[3,3],[3,4],[3,4],[3,3],[3,4],[3,4],[3,3],[3,7],[3,3],[3,7],[3,3],[3,3],[3,5],[3,6],[3,6],[3,5],[3,7],[3,4],[3,6],[3,7],[3,6],[3,6],[3,5],[3,3],[3,3],[6,4],[6,4],[6,5],[6,5],[10,1],[10,1],[42,1],[42,1],[12,0],[12,1],[12,3],[12,4],[12,6],[43,1],[43,2],[43,1],[13,0],[13,1],[48,0],[48,1],[48,3],[48,2],[49,1],[49,2],[49,6],[49,1],[49,1],[49,2],[17,3],[19,3],[19,3],[19,5],[19,1],[19,3],[19,6],[19,3],[19,6],[19,2],[19,2],[19,3],[19,3],[19,3],[19,2],[19,2],[19,2],[19,2],[19,5],[19,3],[19,3],[19,3],[19,3],[19,3],[19,3],[19,3],[19,3],[19,3],[19,3],[19,3],[19,3],[19,2],[19,6],[19,6],[19,6],[19,4],[19,3],[19,3],[19,4],[19,6],[19,2],[19,5],[19,1],[19,1],[19,2],[19,3],[19,5],[19,5],[19,2],[19,4],[19,4],[19,2],[19,2],[19,4],[19,6],[19,5],[19,7],[19,4],[19,5],[19,4],[19,3],[19,2],[19,2],[19,5],[84,1],[84,3],[96,1],[96,1],[96,3],[96,3],[96,5],[96,5],[97,3],[97,6],[97,1],[97,3],[97,3],[97,2],[97,2],[97,2],[97,1],[40,0],[40,1],[40,3],[40,4],[40,4],[5,3],[99,1],[99,1],[99,3],[75,0],[75,2],[75,5],[77,4],[77,6],[77,6],[77,8],[77,2],[77,4],[77,4],[77,6],[77,4],[77,6],[77,6],[77,8],[77,6],[77,5],[77,8],[77,7],[77,8],[77,10],[77,10],[77,2],[77,4],[77,4],[77,6],[20,1],[20,2],[20,3],[20,3],[85,3],[85,4],[92,2],[92,0],[93,2],[93,0],[104,1]],
performAction: function anonymous(yytext,yyleng,yylineno,yy,yystate,$$
/**/) {

var $0 = $$.length - 1;
switch (yystate) {
case 1:this.$ = yy.Chain(yy.L(yylineno, yy.Var($$[$0])));
break;
case 2:
case 3:this.$ = yy.Chain($$[$0]);
break;
case 4:
case 5:this.$ = yy.Chain(yy.L(yylineno, yy.Literal($$[$0])));
break;
case 6:
case 7:this.$ = $$[$0-2].add(yy.Index($$[$0], $$[$0-1], true));
break;
case 8:this.$ = $$[$0-4].add(yy.Call($$[$0-2]));
break;
case 9:this.$ = yy.Chain(yy.Existence($$[$0-1].unwrap()));
break;
case 10:this.$ = yy.Chain(yy.Call['let']($$[$0-3], $$[$0]));
break;
case 11:this.$ = yy.Chain($$[$0-1][0].makeComprehension($$[$0-2], $$[$0-1].slice(1)));
break;
case 12:this.$ = yy.Chain($$[$0-2][0].makeComprehension($$[$0-3], $$[$0-2].slice(1)));
break;
case 13:this.$ = yy.Chain($$[$0-1][0].addObjComp().makeComprehension(yy.L(yylineno, yy.Arr($$[$0-4])), $$[$0-1].slice(1)));
break;
case 14:this.$ = yy.Chain(yy.Binary($$[$0-1]));
break;
case 15:this.$ = yy.Chain(yy.Binary($$[$0-2], void 8, $$[$0-1]));
break;
case 16:this.$ = yy.Chain(yy.Binary($$[$0-1], $$[$0-2]));
break;
case 17:this.$ = yy.Chain('!' === $$[$0-1].charAt(0)
        ? yy.Binary($$[$0-1].slice(1)).invertIt()
        : yy.Binary($$[$0-1]));
break;
case 18:this.$ = yy.Chain('!' === $$[$0-2].charAt(0)
        ? yy.Binary($$[$0-2].slice(1), void 8, $$[$0-1]).invertIt()
        : yy.Binary($$[$0-2], void 8, $$[$0-1]));
break;
case 19:this.$ = yy.Chain('!' === $$[$0-1].charAt(0)
        ? yy.Binary($$[$0-1].slice(1), $$[$0-2]).invertIt()
        : yy.Binary($$[$0-1], $$[$0-2]));
break;
case 20:this.$ = yy.Chain(yy.Binary($$[$0-1]));
break;
case 21:this.$ = yy.Chain(yy.Binary($$[$0-5], void 8, $$[$0-3]));
break;
case 22:this.$ = yy.Chain(yy.Binary($$[$0-1]));
break;
case 23:this.$ = yy.Chain(yy.Binary($$[$0-1], $$[$0-4]));
break;
case 24:
case 25:this.$ = yy.Chain(yy.Unary($$[$0-1]));
break;
case 26:this.$ = yy.Chain($$[$0-2]);
break;
case 27:this.$ = yy.Chain($$[$0-2].add(yy.Call([$$[$0-4]])));
break;
case 28:this.$ = yy.Chain(yy.Chain(yy.Var('flip$')).add(yy.Call([$$[$0-3]]))).flipIt().add(yy.Call([$$[$0-1]]));
break;
case 29:this.$ = yy.Chain(new yy.For({
        from: $$[$0-3],
        op: $$[$0-2],
        to: $$[$0-1],
        inComprehension: true
      }));
break;
case 30:this.$ = yy.Chain(new yy.For({
        from: $$[$0-5],
        op: $$[$0-4],
        to: $$[$0-3],
        step: $$[$0-1],
        inComprehension: true
      }));
break;
case 31:this.$ = yy.Chain(new yy.For({
        from: yy.Chain(yy.Literal(0)),
        op: $$[$0-2],
        to: $$[$0-1],
        inComprehension: true
      }));
break;
case 32:this.$ = yy.Chain(new yy.For({
        from: yy.Chain(yy.Literal(0)),
        op: $$[$0-4],
        to: $$[$0-3],
        step: $$[$0-1],
        inComprehension: true
      }));
break;
case 33:this.$ = yy.Chain(yy.Slice({
        type: $$[$0-2],
        target: $$[$0-6],
        from: $$[$0-3],
        to: $$[$0-1]
      }));
break;
case 34:this.$ = yy.Chain(yy.Slice({
        type: $$[$0-1],
        target: $$[$0-5],
        from: $$[$0-2]
      }));
break;
case 35:this.$ = yy.Chain(yy.Slice({
        type: $$[$0-2],
        target: $$[$0-5],
        to: $$[$0-1]
      }));
break;
case 36:this.$ = yy.Chain(yy.Slice({
        type: $$[$0-1],
        target: $$[$0-4]
      }));
break;
case 37:this.$ = yy.Chain(yy.Cascade($$[$0-1], $$[$0], 'with'));
break;
case 38:this.$ = yy.Chain(new yy.For({
        kind: $$[$0-2],
        source: $$[$0-1],
        body: $$[$0],
        ref: true
      }).addBody($$[$0]));
break;
case 39:this.$ = yy.L(yylineno, yy.Arr($$[$0-2]));
break;
case 40:this.$ = yy.L(yylineno, yy.Obj($$[$0-2]));
break;
case 41:this.$ = yy.L(yylineno, yy.Arr($$[$0-3])).named($$[$0]);
break;
case 42:this.$ = yy.L(yylineno, yy.Obj($$[$0-3])).named($$[$0]);
break;
case 45:this.$ = yy.L(yylineno, yy.Key($$[$0]));
break;
case 46:this.$ = yy.L(yylineno, yy.Literal($$[$0]));
break;
case 47:this.$ = [];
break;
case 48:this.$ = [$$[$0]];
break;
case 49:this.$ = $$[$0-2].concat($$[$0]);
break;
case 50:this.$ = $$[$0-3].concat($$[$0]);
break;
case 51:this.$ = $$[$0-5].concat($$[$0-2]);
break;
case 53:this.$ = yy.Splat($$[$0]);
break;
case 54:this.$ = yy.Splat(yy.L(yylineno, yy.Arr()), true);
break;
case 57:this.$ = yy.L(yylineno, yy.Block());
break;
case 58:this.$ = yy.Block($$[$0]);
break;
case 59:this.$ = $$[$0-2].add($$[$0]);
break;
case 62:this.$ = yy.Cascade($$[$0-1], $$[$0], 'cascade');
break;
case 63:this.$ = yy.Call.back($$[$0-4], $$[$0], $$[$0-1].charAt(1) === '~', $$[$0-1].length === 3);
break;
case 64:this.$ = yy.L(yylineno, yy.JS($$[$0], true, true));
break;
case 65:this.$ = yy.L(yylineno, yy.Throw(yy.JS("Error('unimplemented')")));
break;
case 66:this.$ = yy.Require($$[$0].unwrap());
break;
case 67:this.$ = $$[$0-1];
break;
case 68:this.$ = yy.Import(yy.Unary('^^', $$[$0-2], {
        prec: 'yy.UNARY'
      }), $$[$0], false);
break;
case 69:this.$ = yy.Import(yy.Unary('^^', $$[$0-2], {
        prec: 'yy.UNARY'
      }), $$[$0].unwrap(), false);
break;
case 70:this.$ = $$[$0-2].add(yy.Call([$$[$0-4], $$[$0]]));
break;
case 71:this.$ = $$[$0].unwrap();
break;
case 72:this.$ = yy.Assign($$[$0-2].unwrap(), $$[$0], $$[$0-1]);
break;
case 73:this.$ = yy.Assign($$[$0-5].unwrap(), yy.Arr.maybe($$[$0-2]), $$[$0-4]);
break;
case 74:this.$ = yy.Import($$[$0-2], $$[$0], $$[$0-1] === '<<<<');
break;
case 75:this.$ = yy.Import($$[$0-5], yy.Arr.maybe($$[$0-2]), $$[$0-4] === '<<<<');
break;
case 76:this.$ = yy.Unary($$[$0-1], $$[$0].unwrap());
break;
case 77:this.$ = yy.Unary($$[$0], $$[$0-1].unwrap(), true);
break;
case 78:
case 79:
case 80:this.$ = yy.Assign($$[$0].unwrap(), [$$[$0-2]], $$[$0-1]);
break;
case 81:
case 82:
case 83:
case 84:this.$ = yy.Unary($$[$0-1], $$[$0]);
break;
case 85:this.$ = yy.Unary($$[$0-4], yy.Arr.maybe($$[$0-2]));
break;
case 86:
case 87:
case 88:
case 89:
case 90:
case 91:
case 92:
case 93:
case 94:this.$ = yy.Binary($$[$0-1], $$[$0-2], $$[$0]);
break;
case 95:this.$ = '!' === $$[$0-1].charAt(0)
        ? yy.Binary($$[$0-1].slice(1), $$[$0-2], $$[$0]).invert()
        : yy.Binary($$[$0-1], $$[$0-2], $$[$0]);
break;
case 96:this.$ = yy.Block($$[$0-2]).pipe($$[$0], $$[$0-1]);
break;
case 97:this.$ = yy.Block($$[$0-2]).pipe([$$[$0]], $$[$0-1]);
break;
case 98:this.$ = yy.Existence($$[$0-1].unwrap(), true);
break;
case 99:this.$ = yy.L(yylineno, yy.Fun($$[$0-4], $$[$0], /~/.test($$[$0-1]), /--|~~/.test($$[$0-1]), /!/.test($$[$0-1]), /\*/.test($$[$0-1])));
break;
case 100:this.$ = yy.L(yylineno, yy.Fun($$[$0-3], $$[$0]).named($$[$0-5]));
break;
case 101:this.$ = yy.L(yylineno, yy.Fun($$[$0-3], $$[$0], false, false, false, true).named($$[$0-5]));
break;
case 102:this.$ = yy.If($$[$0-2], $$[$0-1], $$[$0-3] === 'unless').addElse($$[$0]);
break;
case 103:this.$ = yy.If($$[$0], $$[$0-2], $$[$0-1] === 'unless');
break;
case 104:this.$ = $$[$0-2].addBody($$[$0-1]).addElse($$[$0]);
break;
case 105:this.$ = new yy.While($$[$0], $$[$0-1] === 'until', true).addBody($$[$0-2]);
break;
case 106:this.$ = new yy.While($$[$0-2], $$[$0-3] === 'until', true).addGuard($$[$0]).addBody($$[$0-4]);
break;
case 107:this.$ = yy.Jump[$$[$0-1]]($$[$0]);
break;
case 108:this.$ = yy.Jump[$$[$0-4]](yy.Arr.maybe($$[$0-2]));
break;
case 109:this.$ = yy.L(yylineno, yy.Jump[$$[$0]]());
break;
case 110:this.$ = yy.L(yylineno, new yy.Jump($$[$0]));
break;
case 111:this.$ = yy.L(yylineno, new yy.Jump($$[$0-1], $$[$0]));
break;
case 112:this.$ = new yy.Switch($$[$0-2], $$[$0-1], $$[$0]);
break;
case 113:
case 114:this.$ = new yy.Switch($$[$0-4], $$[$0-3], $$[$0-2], $$[$0]);
break;
case 115:this.$ = new yy.Switch($$[$0-1], null, $$[$0]);
break;
case 116:
case 117:this.$ = new yy.Switch($$[$0-3], null, $$[$0-2], $$[$0]);
break;
case 118:this.$ = new yy.Switch($$[$0-1], null, [], $$[$0]);
break;
case 119:this.$ = new yy.Try($$[$0]);
break;
case 120:this.$ = new yy.Try($$[$0-2], void 8, $$[$0]);
break;
case 121:this.$ = new yy.Try($$[$0-4], void 8, $$[$0-2], $$[$0]);
break;
case 122:this.$ = new yy.Try($$[$0-3], $$[$0-1], $$[$0]);
break;
case 123:this.$ = new yy.Try($$[$0-5], $$[$0-3], $$[$0-2], $$[$0]);
break;
case 124:this.$ = new yy.Try($$[$0-2], void 8, void 8, $$[$0]);
break;
case 125:this.$ = new yy.Class({
        title: $$[$0-3].unwrap(),
        sup: $$[$0-2],
        mixins: $$[$0-1],
        body: $$[$0]
      });
break;
case 126:this.$ = new yy.Class({
        sup: $$[$0-2],
        mixins: $$[$0-1],
        body: $$[$0]
      });
break;
case 127:this.$ = yy.Util.Extends($$[$0-2].unwrap(), $$[$0]);
break;
case 128:
case 129:this.$ = new yy.Label($$[$0-1], $$[$0]);
break;
case 130:this.$ = yy.Decl($$[$0-4], $$[$0-2], yylineno + 1);
break;
case 131:this.$ = [$$[$0]];
break;
case 132:this.$ = $$[$0-2].concat($$[$0]);
break;
case 134:this.$ = yy.Prop(yy.L(yylineno, yy.Key($$[$0], $$[$0] !== 'arguments' && $$[$0] !== 'eval')), yy.L(yylineno, yy.Literal($$[$0])));
break;
case 135:this.$ = yy.Prop($$[$0], yy.Chain($$[$0-2], [yy.Index($$[$0], $$[$0-1])]));
break;
case 136:this.$ = yy.Prop($$[$0], yy.Chain(yy.L(yylineno, yy.Literal($$[$0-2])), [yy.Index($$[$0], $$[$0-1])]));
break;
case 137:this.$ = yy.Prop(yy.L(yylineno, yy.Key($$[$0])), yy.L(yylineno, yy.Obj($$[$0-3]).named($$[$0])));
break;
case 138:this.$ = yy.Prop(yy.L(yylineno, yy.Key($$[$0])), yy.L(yylineno, yy.Arr($$[$0-3]).named($$[$0])));
break;
case 139:this.$ = yy.Prop($$[$0-2], $$[$0]);
break;
case 140:this.$ = yy.Prop($$[$0-5], yy.Arr.maybe($$[$0-2]));
break;
case 142:this.$ = yy.Binary($$[$0-1], $$[$0-2], $$[$0]);
break;
case 143:this.$ = yy.Binary($$[$0-1], $$[$0-2], $$[$0], true);
break;
case 144:this.$ = yy.Prop($$[$0].maybeKey(), yy.L(yylineno, yy.Literal($$[$0-1] === '+')));
break;
case 145:this.$ = yy.Prop(yy.L(yylineno, yy.Key($$[$0], true)), yy.L(yylineno, yy.Literal($$[$0-1] === '+')));
break;
case 146:this.$ = yy.Splat($$[$0]);
break;
case 147:this.$ = yy.L(yylineno, yy.JS($$[$0], true, true));
break;
case 148:this.$ = [];
break;
case 149:this.$ = [$$[$0]];
break;
case 150:this.$ = $$[$0-2].concat($$[$0]);
break;
case 151:this.$ = $$[$0-3].concat($$[$0]);
break;
case 152:this.$ = $$[$0-2];
break;
case 153:this.$ = yy.Parens($$[$0-1].chomp().unwrap(), false, $$[$0-2] === '"');
break;
case 156:this.$ = $$[$0-2].add($$[$0]);
break;
case 157:this.$ = null;
break;
case 158:this.$ = $$[$0];
break;
case 159:this.$ = yy.If($$[$0-2], $$[$0-1], $$[$0-3] === 'unless').addElse($$[$0]);
break;
case 160:this.$ = new yy.For({
        kind: $$[$0-3],
        item: $$[$0-2].unwrap(),
        index: $$[$0-1],
        source: $$[$0]
      });
break;
case 161:this.$ = new yy.For({
        kind: $$[$0-5],
        item: $$[$0-4].unwrap(),
        index: $$[$0-3],
        source: $$[$0-2],
        guard: $$[$0]
      });
break;
case 162:this.$ = new yy.For({
        kind: $$[$0-5],
        item: $$[$0-4].unwrap(),
        index: $$[$0-3],
        source: $$[$0-2],
        step: $$[$0]
      });
break;
case 163:this.$ = new yy.For({
        kind: $$[$0-7],
        item: $$[$0-6].unwrap(),
        index: $$[$0-5],
        source: $$[$0-4],
        step: $$[$0-2],
        guard: $$[$0]
      });
break;
case 164:this.$ = new yy.For({
        kind: $$[$0-1],
        source: $$[$0],
        ref: true
      });
break;
case 165:this.$ = new yy.For({
        kind: $$[$0-3],
        source: $$[$0-2],
        ref: true,
        guard: $$[$0]
      });
break;
case 166:this.$ = new yy.For({
        kind: $$[$0-3],
        source: $$[$0-2],
        ref: true,
        step: $$[$0]
      });
break;
case 167:this.$ = new yy.For({
        kind: $$[$0-5],
        source: $$[$0-4],
        ref: true,
        step: $$[$0-2],
        guard: $$[$0]
      });
break;
case 168:this.$ = new yy.For({
        object: true,
        kind: $$[$0-3],
        index: $$[$0-2],
        source: $$[$0]
      });
break;
case 169:this.$ = new yy.For({
        object: true,
        kind: $$[$0-5],
        index: $$[$0-4],
        source: $$[$0-2],
        guard: $$[$0]
      });
break;
case 170:this.$ = new yy.For({
        object: true,
        kind: $$[$0-5],
        index: $$[$0-4],
        item: $$[$0-2].unwrap(),
        source: $$[$0]
      });
break;
case 171:this.$ = new yy.For({
        object: true,
        kind: $$[$0-7],
        index: $$[$0-6],
        item: $$[$0-4].unwrap(),
        source: $$[$0-2],
        guard: $$[$0]
      });
break;
case 172:this.$ = new yy.For({
        kind: $$[$0-5],
        index: $$[$0-4],
        from: $$[$0-2],
        op: $$[$0-1],
        to: $$[$0]
      });
break;
case 173:this.$ = new yy.For({
        kind: $$[$0-4],
        from: $$[$0-2],
        op: $$[$0-1],
        to: $$[$0]
      });
break;
case 174:this.$ = new yy.For({
        kind: $$[$0-7],
        index: $$[$0-6],
        from: $$[$0-4],
        op: $$[$0-3],
        to: $$[$0-2],
        guard: $$[$0]
      });
break;
case 175:this.$ = new yy.For({
        kind: $$[$0-6],
        from: $$[$0-4],
        op: $$[$0-3],
        to: $$[$0-2],
        guard: $$[$0]
      });
break;
case 176:this.$ = new yy.For({
        kind: $$[$0-7],
        index: $$[$0-6],
        from: $$[$0-4],
        op: $$[$0-3],
        to: $$[$0-2],
        step: $$[$0]
      });
break;
case 177:this.$ = new yy.For({
        kind: $$[$0-9],
        index: $$[$0-8],
        from: $$[$0-6],
        op: $$[$0-5],
        to: $$[$0-4],
        step: $$[$0-2],
        guard: $$[$0]
      });
break;
case 178:this.$ = new yy.For({
        kind: $$[$0-9],
        index: $$[$0-8],
        from: $$[$0-6],
        op: $$[$0-5],
        to: $$[$0-4],
        guard: $$[$0-2],
        step: $$[$0]
      });
break;
case 179:this.$ = new yy.While($$[$0], $$[$0-1] === 'until');
break;
case 180:this.$ = new yy.While($$[$0-2], $$[$0-3] === 'until').addGuard($$[$0]);
break;
case 181:this.$ = new yy.While($$[$0-2], $$[$0-3] === 'until', $$[$0]);
break;
case 182:this.$ = new yy.While($$[$0-4], $$[$0-5] === 'until', $$[$0-2]).addGuard($$[$0]);
break;
case 183:this.$ = [$$[$0]];
break;
case 184:this.$ = $$[$0-1].concat($$[$0]);
break;
case 185:
case 186:this.$ = $$[$0-2].concat($$[$0]);
break;
case 187:this.$ = [new yy.Case($$[$0-1], $$[$0])];
break;
case 188:this.$ = $$[$0-3].concat(new yy.Case($$[$0-1], $$[$0]));
break;
case 189:this.$ = $$[$0];
break;
case 190:this.$ = null;
break;
case 191:this.$ = $$[$0];
break;
case 192:this.$ = null;
break;
case 193:return this.$
}
},
table: [{1:[2,57],3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],17:4,18:[1,36],19:7,23:[1,37],25:[1,38],31:[1,8],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],45:[2,57],46:[1,6],47:[1,10],48:3,49:5,51:[1,9],52:[1,11],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29],99:2,104:1},{1:[3]},{1:[2,193]},{1:[2,154],27:[2,154],45:[1,42]},{1:[2,155],27:[2,155],45:[1,43]},{1:[2,58],22:[2,58],27:[2,58],45:[2,58]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:7,22:[2,57],23:[1,37],25:[1,38],31:[1,8],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],45:[2,57],47:[1,10],48:44,49:5,51:[1,9],52:[1,11],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,61],17:45,22:[2,61],27:[2,61],35:[1,46],45:[2,61],46:[1,6],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:61,16:[1,35],18:[1,36],19:63,23:[1,37],25:[1,38],31:[1,65],32:[2,47],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,64],22:[2,64],27:[2,64],45:[2,64]},{1:[2,65],22:[2,65],27:[2,65],45:[2,65]},{3:66,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],23:[1,37],25:[1,38],38:[1,39],39:[1,67]},{1:[2,71],9:[1,73],11:[1,74],14:[2,71],15:[1,75],21:[2,71],22:[2,71],24:[2,71],26:[2,71],27:[2,71],28:[2,71],32:[2,71],34:[1,70],35:[2,71],36:[2,71],37:[2,71],39:[2,71],44:[2,71],45:[2,71],46:[2,71],53:[1,68],54:[1,69],55:[2,71],56:[2,71],59:[2,71],60:[2,71],61:[2,71],62:[2,71],63:[2,71],64:[2,71],65:[2,71],66:[2,71],67:[2,71],68:[2,71],69:[2,71],70:[1,71],76:[2,71],79:[2,71],80:[2,71],94:[1,72],103:[2,71]},{3:76,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],23:[1,37],25:[1,38],38:[1,39],39:[1,67]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:78,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],46:[1,79],54:[1,77],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:81,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],54:[1,80],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:83,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],54:[1,82],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:84,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{11:[1,85]},{11:[1,86]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:87,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{17:88,46:[1,6]},{17:89,46:[1,6]},{1:[2,109],3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],14:[2,109],16:[1,35],18:[1,36],19:90,21:[2,109],22:[2,109],23:[1,37],24:[2,109],25:[1,38],26:[2,109],27:[2,109],28:[2,109],31:[1,65],32:[2,109],33:[1,14],34:[1,13],35:[2,109],36:[2,109],37:[2,109],38:[1,39],39:[1,40],41:[1,28],44:[2,109],45:[2,109],46:[1,91],55:[2,109],56:[1,15],57:[1,16],58:[1,17],59:[2,109],60:[2,109],61:[2,109],62:[2,109],63:[2,109],64:[2,109],65:[2,109],66:[2,109],67:[2,109],68:[2,109],69:[2,109],72:[1,18],73:[1,19],74:[1,20],76:[2,109],77:21,78:[1,22],79:[1,41],80:[2,109],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29],103:[2,109]},{1:[2,110],4:[1,92],14:[2,110],21:[2,110],22:[2,110],24:[2,110],26:[2,110],27:[2,110],28:[2,110],32:[2,110],35:[2,110],36:[2,110],37:[2,110],39:[2,110],44:[2,110],45:[2,110],46:[2,110],55:[2,110],56:[2,110],59:[2,110],60:[2,110],61:[2,110],62:[2,110],63:[2,110],64:[2,110],65:[2,110],66:[2,110],67:[2,110],68:[2,110],69:[2,110],76:[2,110],79:[2,110],80:[2,110],103:[2,110]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],17:95,18:[1,36],19:96,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],46:[1,6],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],80:[1,97],81:[1,23],82:[1,24],83:[1,25],84:93,85:94,88:[1,26],91:[1,27],95:[1,29]},{17:98,46:[1,6]},{3:99,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],23:[1,37],25:[1,38],38:[1,39],39:[1,67],46:[2,190],92:100,94:[1,101],103:[2,190]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],17:103,18:[1,36],19:102,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],46:[1,6],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{46:[1,104]},{1:[2,1],9:[2,1],11:[2,1],14:[2,1],15:[2,1],21:[2,1],22:[2,1],24:[2,1],26:[2,1],27:[2,1],28:[2,1],32:[2,1],34:[2,1],35:[2,1],36:[2,1],37:[2,1],39:[2,1],44:[2,1],45:[2,1],46:[2,1],53:[2,1],54:[2,1],55:[2,1],56:[2,1],59:[2,1],60:[2,1],61:[2,1],62:[2,1],63:[2,1],64:[2,1],65:[2,1],66:[2,1],67:[2,1],68:[2,1],69:[2,1],70:[2,1],76:[2,1],79:[2,1],80:[2,1],94:[2,1],101:[2,1],103:[2,1]},{1:[2,2],9:[2,2],11:[2,2],14:[2,2],15:[2,2],21:[2,2],22:[2,2],24:[2,2],26:[2,2],27:[2,2],28:[2,2],32:[2,2],34:[2,2],35:[2,2],36:[2,2],37:[2,2],39:[2,2],44:[2,2],45:[2,2],46:[2,2],53:[2,2],54:[2,2],55:[2,2],56:[2,2],59:[2,2],60:[2,2],61:[2,2],62:[2,2],63:[2,2],64:[2,2],65:[2,2],66:[2,2],67:[2,2],68:[2,2],69:[2,2],70:[2,2],76:[2,2],79:[2,2],80:[2,2],94:[2,2],100:[2,2],101:[2,2],103:[2,2]},{1:[2,3],9:[2,3],11:[2,3],14:[2,3],15:[2,3],21:[2,3],22:[2,3],24:[2,3],26:[2,3],27:[2,3],28:[2,3],32:[2,3],34:[2,3],35:[2,3],36:[2,3],37:[2,3],39:[2,3],44:[2,3],45:[2,3],46:[2,3],53:[2,3],54:[2,3],55:[2,3],56:[2,3],59:[2,3],60:[2,3],61:[2,3],62:[2,3],63:[2,3],64:[2,3],65:[2,3],66:[2,3],67:[2,3],68:[2,3],69:[2,3],70:[2,3],76:[2,3],79:[2,3],80:[2,3],94:[2,3],100:[2,3],101:[2,3],103:[2,3]},{1:[2,4],9:[2,4],11:[2,4],14:[2,4],15:[2,4],21:[2,4],22:[2,4],24:[2,4],26:[2,4],27:[2,4],28:[2,4],32:[2,4],34:[2,4],35:[2,4],36:[2,4],37:[2,4],39:[2,4],44:[2,4],45:[2,4],46:[2,4],53:[2,4],54:[2,4],55:[2,4],56:[2,4],59:[2,4],60:[2,4],61:[2,4],62:[2,4],63:[2,4],64:[2,4],65:[2,4],66:[2,4],67:[2,4],68:[2,4],69:[2,4],70:[2,4],76:[2,4],79:[2,4],80:[2,4],94:[2,4],100:[2,4],101:[2,4],103:[2,4]},{1:[2,5],9:[2,5],11:[2,5],14:[2,5],15:[2,5],21:[2,5],22:[2,5],24:[2,5],26:[2,5],27:[2,5],28:[2,5],32:[2,5],34:[2,5],35:[2,5],36:[2,5],37:[2,5],39:[2,5],44:[2,5],45:[2,5],46:[2,5],53:[2,5],54:[2,5],55:[2,5],56:[2,5],59:[2,5],60:[2,5],61:[2,5],62:[2,5],63:[2,5],64:[2,5],65:[2,5],66:[2,5],67:[2,5],68:[2,5],69:[2,5],70:[2,5],76:[2,5],79:[2,5],80:[2,5],94:[2,5],100:[2,5],101:[2,5],103:[2,5]},{11:[1,105]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:108,16:[1,35],18:[1,36],19:106,21:[2,47],23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],36:[1,107],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{4:[1,122],5:119,7:[1,123],8:[1,120],10:113,18:[1,109],23:[1,121],24:[2,148],25:[1,124],40:110,42:118,44:[2,148],45:[2,148],46:[1,112],47:[1,116],51:[1,117],56:[1,115],96:114,97:111},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],17:4,18:[1,36],19:126,23:[1,37],25:[1,38],26:[1,125],27:[2,57],28:[1,127],29:[1,128],30:[1,129],31:[1,130],33:[1,131],34:[1,132],35:[1,133],38:[1,39],39:[1,40],41:[1,28],45:[2,57],46:[1,6],47:[1,10],48:3,49:5,51:[1,9],52:[1,11],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29],99:134},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:135,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:137,4:[1,138],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:136,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29],102:[1,139]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:140,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,60],3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:7,22:[2,60],23:[1,37],25:[1,38],27:[2,60],31:[1,8],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],45:[2,60],47:[1,10],49:141,51:[1,9],52:[1,11],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,57],3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:7,23:[1,37],25:[1,38],27:[2,57],31:[1,8],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],45:[2,57],47:[1,10],48:142,49:5,51:[1,9],52:[1,11],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{22:[1,143],45:[1,42]},{1:[2,62],22:[2,62],27:[2,62],45:[2,62]},{3:144,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],23:[1,37],25:[1,38],38:[1,39],39:[1,67]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:145,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],46:[1,146],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:147,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:148,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:149,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:150,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:151,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:152,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:153,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:154,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:155,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:156,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:157,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:158,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:159,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{13:160,32:[2,55],44:[1,161],45:[2,55],46:[2,55]},{14:[2,48],21:[2,48],22:[2,48],32:[2,48],44:[2,48],45:[2,48],46:[2,48]},{14:[2,52],21:[2,52],22:[2,52],32:[2,52],35:[1,46],44:[2,52],45:[2,52],46:[2,52],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],14:[2,54],16:[1,35],18:[1,36],19:162,21:[2,54],22:[2,54],23:[1,37],25:[1,38],31:[1,65],32:[2,54],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],44:[2,54],45:[2,54],46:[2,54],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:163,16:[1,35],18:[1,36],19:63,23:[1,37],25:[1,38],31:[1,65],32:[2,47],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,66],9:[1,73],11:[1,74],15:[1,75],22:[2,66],27:[2,66],45:[2,66]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:164,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],17:166,18:[1,36],19:165,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],46:[1,6],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:167,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],46:[1,168],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,77],14:[2,77],21:[2,77],22:[2,77],24:[2,77],26:[2,77],27:[2,77],28:[2,77],32:[2,77],35:[2,77],36:[2,77],37:[2,77],39:[2,77],44:[2,77],45:[2,77],46:[2,77],55:[2,77],56:[2,77],59:[2,77],60:[2,77],61:[2,77],62:[2,77],63:[2,77],64:[2,77],65:[2,77],66:[2,77],67:[2,77],68:[2,77],69:[2,77],76:[2,77],79:[2,77],80:[2,77],103:[2,77]},{1:[2,98],14:[2,98],21:[2,98],22:[2,98],24:[2,98],26:[2,98],27:[2,98],28:[2,98],32:[2,98],35:[2,98],36:[2,98],37:[2,98],39:[2,98],44:[2,98],45:[2,98],46:[2,98],55:[2,98],56:[2,98],59:[2,98],60:[2,98],61:[2,98],62:[2,98],63:[2,98],64:[2,98],65:[2,98],66:[2,98],67:[2,98],68:[2,98],69:[2,98],76:[2,98],79:[2,98],80:[2,98],103:[2,98]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:169,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{4:[1,122],5:119,6:171,7:[1,123],10:170,18:[1,172],23:[1,173],25:[1,124],42:118},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:174,14:[2,47],16:[1,35],18:[1,36],19:63,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,9],9:[2,9],11:[2,9],14:[2,9],15:[2,9],21:[2,9],22:[2,9],24:[2,9],26:[2,9],27:[2,9],28:[2,9],32:[2,9],34:[2,9],35:[2,9],36:[2,9],37:[2,9],39:[2,9],44:[2,9],45:[2,9],46:[2,9],53:[2,9],54:[2,9],55:[2,9],56:[2,9],59:[2,9],60:[2,9],61:[2,9],62:[2,9],63:[2,9],64:[2,9],65:[2,9],66:[2,9],67:[2,9],68:[2,9],69:[2,9],70:[2,9],76:[2,9],79:[2,9],80:[2,9],94:[2,9],100:[2,9],101:[2,9],103:[2,9]},{1:[2,76],9:[1,73],11:[1,74],14:[2,76],15:[1,75],21:[2,76],22:[2,76],24:[2,76],26:[2,76],27:[2,76],28:[2,76],32:[2,76],35:[2,76],36:[2,76],37:[2,76],39:[2,76],44:[2,76],45:[2,76],46:[2,76],55:[2,76],56:[2,76],59:[2,76],60:[2,76],61:[2,76],62:[2,76],63:[2,76],64:[2,76],65:[2,76],66:[2,76],67:[2,76],68:[2,76],69:[2,76],76:[2,76],79:[2,76],80:[2,76],103:[2,76]},{3:175,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],23:[1,37],25:[1,38],38:[1,39],39:[1,67]},{1:[2,81],14:[2,81],21:[2,81],22:[2,81],24:[2,81],26:[2,81],27:[2,81],28:[2,81],32:[2,81],35:[1,46],36:[2,81],37:[2,81],39:[2,81],44:[2,81],45:[2,81],46:[2,81],55:[2,81],56:[2,81],59:[2,81],60:[2,81],61:[2,81],62:[1,52],63:[2,81],64:[2,81],65:[2,81],66:[1,56],67:[2,81],68:[2,81],69:[2,81],76:[2,81],79:[2,81],80:[2,81],103:[2,81]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:176,16:[1,35],18:[1,36],19:63,22:[2,47],23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:177,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],23:[1,37],25:[1,38],38:[1,39],39:[1,67]},{1:[2,83],14:[2,83],21:[2,83],22:[2,83],24:[2,83],26:[2,83],27:[2,83],28:[2,83],32:[2,83],35:[1,46],36:[2,83],37:[2,83],39:[2,83],44:[2,83],45:[2,83],46:[2,83],55:[2,83],56:[2,83],59:[2,83],60:[2,83],61:[2,83],62:[1,52],63:[2,83],64:[2,83],65:[2,83],66:[1,56],67:[2,83],68:[2,83],69:[2,83],76:[2,83],79:[2,83],80:[2,83],103:[2,83]},{3:178,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],23:[1,37],25:[1,38],38:[1,39],39:[1,67]},{1:[2,84],14:[2,84],21:[2,84],22:[2,84],24:[2,84],26:[2,84],27:[2,84],28:[2,84],32:[2,84],35:[1,46],36:[2,84],37:[2,84],39:[2,84],44:[2,84],45:[2,84],46:[2,84],55:[2,84],56:[2,84],59:[2,84],60:[2,84],61:[2,84],62:[1,52],63:[2,84],64:[2,84],65:[2,84],66:[1,56],67:[2,84],68:[2,84],69:[2,84],76:[2,84],79:[2,84],80:[2,84],103:[2,84]},{1:[2,82],14:[2,82],21:[2,82],22:[2,82],24:[2,82],26:[2,82],27:[2,82],28:[2,82],32:[2,82],35:[1,46],36:[2,82],37:[2,82],39:[2,82],44:[2,82],45:[2,82],46:[2,82],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[2,82],79:[2,82],80:[2,82],103:[2,82]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:179,14:[2,47],16:[1,35],18:[1,36],19:63,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:180,14:[2,47],16:[1,35],18:[1,36],19:63,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{17:181,35:[1,46],46:[1,6],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{1:[2,157],14:[2,157],21:[2,157],22:[2,157],24:[2,157],26:[2,157],27:[2,157],28:[2,157],32:[2,157],35:[2,157],36:[2,157],37:[2,157],39:[2,157],44:[2,157],45:[2,157],46:[2,157],55:[2,157],56:[2,157],59:[2,157],60:[2,157],61:[2,157],62:[2,157],63:[2,157],64:[2,157],65:[2,157],66:[2,157],67:[2,157],68:[2,157],69:[2,157],75:182,76:[2,157],79:[2,157],80:[2,157],87:[1,183],103:[2,157]},{79:[1,184]},{1:[2,107],14:[2,107],21:[2,107],22:[2,107],24:[2,107],26:[2,107],27:[2,107],28:[2,107],32:[2,107],35:[1,46],36:[2,107],37:[2,107],39:[2,107],44:[2,107],45:[2,107],46:[2,107],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[2,107],79:[2,107],80:[2,107],103:[2,107]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:185,16:[1,35],18:[1,36],19:63,22:[2,47],23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,111],14:[2,111],21:[2,111],22:[2,111],24:[2,111],26:[2,111],27:[2,111],28:[2,111],32:[2,111],35:[2,111],36:[2,111],37:[2,111],39:[2,111],44:[2,111],45:[2,111],46:[2,111],55:[2,111],56:[2,111],59:[2,111],60:[2,111],61:[2,111],62:[2,111],63:[2,111],64:[2,111],65:[2,111],66:[2,111],67:[2,111],68:[2,111],69:[2,111],76:[2,111],79:[2,111],80:[2,111],103:[2,111]},{44:[1,187],80:[1,97],85:186},{1:[2,115],14:[2,115],21:[2,115],22:[2,115],24:[2,115],26:[2,115],27:[2,115],28:[2,115],32:[2,115],35:[2,115],36:[2,115],37:[2,115],39:[2,115],44:[2,115],45:[2,115],46:[2,115],55:[2,115],56:[2,115],59:[2,115],60:[2,115],61:[2,115],62:[2,115],63:[2,115],64:[2,115],65:[2,115],66:[2,115],67:[2,115],68:[2,115],69:[2,115],76:[2,115],79:[2,115],80:[1,190],86:[1,188],87:[1,189],103:[2,115]},{1:[2,118],14:[2,118],21:[2,118],22:[2,118],24:[2,118],26:[2,118],27:[2,118],28:[2,118],32:[2,118],35:[2,118],36:[2,118],37:[2,118],39:[2,118],44:[2,118],45:[2,118],46:[2,118],55:[2,118],56:[2,118],59:[2,118],60:[2,118],61:[2,118],62:[2,118],63:[2,118],64:[2,118],65:[2,118],66:[2,118],67:[2,118],68:[2,118],69:[2,118],76:[2,118],79:[2,118],80:[2,118],103:[2,118]},{35:[1,46],44:[2,131],46:[2,131],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],80:[2,131]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:96,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],84:191,88:[1,26],91:[1,27],95:[1,29]},{1:[2,119],14:[2,119],21:[2,119],22:[2,119],24:[2,119],26:[2,119],27:[2,119],28:[2,119],32:[2,119],35:[2,119],36:[2,119],37:[2,119],39:[2,119],44:[2,119],45:[2,119],46:[2,119],55:[2,119],56:[2,119],59:[2,119],60:[2,119],61:[2,119],62:[2,119],63:[2,119],64:[2,119],65:[2,119],66:[2,119],67:[2,119],68:[2,119],69:[2,119],76:[2,119],79:[2,119],80:[2,119],89:[1,192],90:[1,193],103:[2,119]},{9:[1,73],11:[1,74],15:[1,75],46:[2,190],92:194,94:[1,101],103:[2,190]},{46:[2,192],93:195,103:[1,196]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:197,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,128],14:[2,128],21:[2,128],22:[2,128],24:[2,128],26:[2,128],27:[2,128],28:[2,128],32:[2,128],35:[1,46],36:[2,128],37:[2,128],39:[2,128],44:[2,128],45:[2,128],46:[2,128],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[2,128],69:[2,128],76:[2,128],79:[2,128],80:[2,128],103:[2,128]},{1:[2,129],14:[2,129],21:[2,129],22:[2,129],24:[2,129],26:[2,129],27:[2,129],28:[2,129],32:[2,129],35:[2,129],36:[2,129],37:[2,129],39:[2,129],44:[2,129],45:[2,129],46:[2,129],55:[2,129],56:[2,129],59:[2,129],60:[2,129],61:[2,129],62:[2,129],63:[2,129],64:[2,129],65:[2,129],66:[2,129],67:[2,129],68:[2,129],69:[2,129],76:[2,129],79:[2,129],80:[2,129],103:[2,129]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:198,16:[1,35],18:[1,36],19:63,22:[2,47],23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:199,14:[2,47],16:[1,35],18:[1,36],19:63,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{20:200,21:[2,52],35:[1,46],36:[1,201],39:[1,203],44:[2,52],45:[2,52],46:[2,52],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],77:202,79:[1,41]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:204,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{13:205,21:[2,55],44:[1,161],45:[2,55],46:[2,55]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:206,16:[1,35],18:[1,36],19:63,21:[2,47],23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{13:207,24:[2,55],44:[1,208],45:[2,55]},{22:[2,149],24:[2,149],44:[2,149],45:[2,149]},{4:[1,122],5:119,7:[1,123],8:[1,120],10:113,18:[1,210],22:[2,148],23:[1,121],25:[1,124],40:209,42:118,44:[2,148],45:[2,148],46:[1,112],47:[1,116],51:[1,117],56:[1,115],96:114,97:111},{9:[1,212],22:[2,133],24:[2,133],44:[2,133],45:[2,133],54:[2,133],60:[2,133],98:[1,211]},{22:[2,141],24:[2,141],44:[2,141],45:[2,141],54:[1,214],60:[1,213]},{4:[1,122],5:119,7:[1,123],8:[1,216],10:215,25:[1,124],42:118},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:217,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{22:[2,147],24:[2,147],44:[2,147],45:[2,147]},{1:[2,43],9:[2,43],11:[2,43],14:[2,43],15:[2,43],21:[2,43],22:[2,43],24:[2,43],26:[2,43],27:[2,43],28:[2,43],32:[2,43],34:[2,43],35:[2,43],36:[2,43],37:[2,43],39:[2,43],44:[2,43],45:[2,43],46:[2,43],53:[2,43],54:[2,43],55:[2,43],56:[2,43],59:[2,43],60:[2,43],61:[2,43],62:[2,43],63:[2,43],64:[2,43],65:[2,43],66:[2,43],67:[2,43],68:[2,43],69:[2,43],70:[2,43],76:[2,43],79:[2,43],80:[2,43],94:[2,43],98:[2,43],100:[2,43],101:[2,43],103:[2,43]},{1:[2,44],9:[2,44],11:[2,44],14:[2,44],15:[2,44],21:[2,44],22:[2,44],24:[2,44],26:[2,44],27:[2,44],28:[2,44],32:[2,44],34:[2,44],35:[2,44],36:[2,44],37:[2,44],39:[2,44],44:[2,44],45:[2,44],46:[2,44],53:[2,44],54:[2,44],55:[2,44],56:[2,44],59:[2,44],60:[2,44],61:[2,44],62:[2,44],63:[2,44],64:[2,44],65:[2,44],66:[2,44],67:[2,44],68:[2,44],69:[2,44],70:[2,44],76:[2,44],79:[2,44],80:[2,44],94:[2,44],98:[2,44],100:[2,44],101:[2,44],103:[2,44]},{9:[1,218],22:[2,134],24:[2,134],44:[2,134],45:[2,134],54:[2,134],60:[2,134]},{4:[1,122],5:119,7:[1,123],8:[1,120],10:113,18:[1,210],23:[1,121],24:[2,148],25:[1,124],40:219,42:118,44:[2,148],45:[2,148],46:[1,112],47:[1,116],51:[1,117],56:[1,115],96:114,97:111},{1:[2,45],9:[2,45],11:[2,45],14:[2,45],15:[2,45],21:[2,45],22:[2,45],24:[2,45],26:[2,45],27:[2,45],28:[2,45],32:[2,45],34:[2,45],35:[2,45],36:[2,45],37:[2,45],39:[2,45],44:[2,45],45:[2,45],46:[2,45],53:[2,45],54:[2,45],55:[2,45],56:[2,45],59:[2,45],60:[2,45],61:[2,45],62:[2,45],63:[2,45],64:[2,45],65:[2,45],66:[2,45],67:[2,45],68:[2,45],69:[2,45],70:[2,45],76:[2,45],79:[2,45],80:[2,45],94:[2,45],98:[2,45],100:[2,45],101:[2,45],103:[2,45]},{1:[2,46],9:[2,46],11:[2,46],14:[2,46],15:[2,46],21:[2,46],22:[2,46],24:[2,46],26:[2,46],27:[2,46],28:[2,46],32:[2,46],34:[2,46],35:[2,46],36:[2,46],37:[2,46],39:[2,46],44:[2,46],45:[2,46],46:[2,46],53:[2,46],54:[2,46],55:[2,46],56:[2,46],59:[2,46],60:[2,46],61:[2,46],62:[2,46],63:[2,46],64:[2,46],65:[2,46],66:[2,46],67:[2,46],68:[2,46],69:[2,46],70:[2,46],76:[2,46],79:[2,46],80:[2,46],94:[2,46],98:[2,46],100:[2,46],101:[2,46],103:[2,46]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],17:4,18:[1,36],19:7,23:[1,37],25:[1,38],27:[2,57],31:[1,8],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],45:[2,57],46:[1,6],47:[1,10],48:3,49:5,51:[1,9],52:[1,11],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29],99:134},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:221,23:[1,37],25:[1,38],27:[1,220],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{17:45,26:[1,222],27:[2,61],28:[1,223],35:[1,224],45:[2,61],46:[1,6],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:226,23:[1,37],25:[1,38],27:[1,225],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{11:[1,228],27:[1,227]},{27:[1,229]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:230,16:[1,35],18:[1,36],19:63,23:[1,37],25:[1,38],31:[1,65],32:[2,47],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:78,23:[1,37],25:[1,38],27:[1,231],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],46:[1,79],54:[1,77],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:76,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],23:[1,37],25:[1,38],27:[1,232],38:[1,39],39:[1,67]},{3:233,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],23:[1,37],25:[1,38],38:[1,39],39:[1,67]},{27:[1,234]},{17:235,35:[1,46],46:[1,6],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{17:236,35:[1,46],37:[1,238],46:[1,6],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],80:[1,237]},{9:[1,73],11:[1,74],15:[1,75],21:[2,71],22:[2,71],24:[2,71],34:[1,70],35:[2,71],37:[2,71],39:[2,71],45:[2,71],46:[2,71],53:[1,68],54:[1,69],55:[2,71],56:[2,71],59:[2,71],60:[2,71],61:[2,71],62:[2,71],63:[2,71],64:[2,71],65:[2,71],66:[2,71],67:[2,71],68:[2,71],69:[2,71],70:[1,71],76:[2,71],79:[2,71],80:[2,71],94:[1,72],100:[1,239]},{9:[2,1],11:[2,1],15:[2,1],21:[2,1],22:[2,1],24:[2,1],34:[2,1],35:[2,1],37:[2,1],39:[2,1],44:[1,241],45:[2,1],46:[2,1],53:[2,1],54:[2,1],55:[2,1],56:[2,1],59:[2,1],60:[2,1],61:[2,1],62:[2,1],63:[2,1],64:[2,1],65:[2,1],66:[2,1],67:[2,1],68:[2,1],69:[2,1],70:[2,1],76:[2,1],79:[2,1],80:[2,1],94:[2,1],100:[2,1],101:[1,240],102:[1,242]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:243,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{21:[2,179],22:[2,179],24:[2,179],35:[1,46],39:[2,179],44:[1,245],45:[2,179],46:[2,179],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,179],80:[1,244]},{1:[2,59],22:[2,59],27:[2,59],45:[2,59]},{1:[2,156],27:[2,156],45:[1,42]},{1:[2,67],9:[2,67],11:[2,67],14:[2,67],15:[2,67],21:[2,67],22:[2,67],24:[2,67],26:[2,67],27:[2,67],28:[2,67],32:[2,67],34:[2,67],35:[2,67],36:[2,67],37:[2,67],39:[2,67],44:[2,67],45:[2,67],46:[2,67],53:[2,67],54:[2,67],55:[2,67],56:[2,67],59:[2,67],60:[2,67],61:[2,67],62:[2,67],63:[2,67],64:[2,67],65:[2,67],66:[2,67],67:[2,67],68:[2,67],69:[2,67],70:[2,67],76:[2,67],79:[2,67],80:[2,67],86:[2,67],87:[2,67],89:[2,67],90:[2,67],94:[2,67],100:[2,67],101:[2,67],103:[2,67]},{9:[1,73],11:[1,74],15:[1,75],35:[1,246]},{1:[2,74],14:[2,74],21:[2,74],22:[2,74],24:[2,74],26:[2,74],27:[2,74],28:[2,74],32:[2,74],35:[1,46],36:[2,74],37:[2,74],39:[2,74],44:[2,74],45:[2,74],46:[2,74],55:[2,74],56:[1,48],59:[2,74],60:[2,74],61:[1,51],62:[1,52],63:[2,74],64:[2,74],65:[2,74],66:[1,56],67:[2,74],68:[2,74],69:[2,74],76:[2,74],79:[2,74],80:[2,74],103:[2,74]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:247,16:[1,35],18:[1,36],19:63,22:[2,47],23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,86],14:[2,86],21:[2,86],22:[2,86],24:[2,86],26:[2,86],27:[2,86],28:[2,86],32:[2,86],35:[1,46],36:[2,86],37:[2,86],39:[2,86],44:[2,86],45:[2,86],46:[2,86],55:[2,86],56:[2,86],59:[2,86],60:[2,86],61:[1,51],62:[1,52],63:[2,86],64:[2,86],65:[2,86],66:[1,56],67:[2,86],68:[2,86],69:[2,86],76:[2,86],79:[2,86],80:[2,86],103:[2,86]},{1:[2,87],14:[2,87],21:[2,87],22:[2,87],24:[2,87],26:[2,87],27:[2,87],28:[2,87],32:[2,87],35:[1,46],36:[2,87],37:[2,87],39:[2,87],44:[2,87],45:[2,87],46:[2,87],55:[1,47],56:[1,48],59:[1,49],60:[2,87],61:[1,51],62:[1,52],63:[1,53],64:[2,87],65:[1,55],66:[1,56],67:[1,57],68:[2,87],69:[2,87],76:[2,87],79:[2,87],80:[2,87],103:[2,87]},{1:[2,88],14:[2,88],21:[2,88],22:[2,88],24:[2,88],26:[2,88],27:[2,88],28:[2,88],32:[2,88],35:[1,46],36:[2,88],37:[2,88],39:[2,88],44:[2,88],45:[2,88],46:[2,88],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[2,88],69:[2,88],76:[2,88],79:[2,88],80:[2,88],103:[2,88]},{1:[2,89],14:[2,89],21:[2,89],22:[2,89],24:[2,89],26:[2,89],27:[2,89],28:[2,89],32:[2,89],35:[1,46],36:[2,89],37:[2,89],39:[2,89],44:[2,89],45:[2,89],46:[2,89],55:[2,89],56:[2,89],59:[2,89],60:[2,89],61:[2,89],62:[1,52],63:[2,89],64:[2,89],65:[2,89],66:[1,56],67:[2,89],68:[2,89],69:[2,89],76:[2,89],79:[2,89],80:[2,89],103:[2,89]},{1:[2,90],14:[2,90],21:[2,90],22:[2,90],24:[2,90],26:[2,90],27:[2,90],28:[2,90],32:[2,90],35:[1,46],36:[2,90],37:[2,90],39:[2,90],44:[2,90],45:[2,90],46:[2,90],55:[2,90],56:[2,90],59:[2,90],60:[2,90],61:[2,90],62:[1,52],63:[2,90],64:[2,90],65:[2,90],66:[1,56],67:[2,90],68:[2,90],69:[2,90],76:[2,90],79:[2,90],80:[2,90],103:[2,90]},{1:[2,91],14:[2,91],21:[2,91],22:[2,91],24:[2,91],26:[2,91],27:[2,91],28:[2,91],32:[2,91],35:[1,46],36:[2,91],37:[2,91],39:[2,91],44:[2,91],45:[2,91],46:[2,91],55:[2,91],56:[1,48],59:[2,91],60:[2,91],61:[1,51],62:[1,52],63:[2,91],64:[2,91],65:[2,91],66:[1,56],67:[2,91],68:[2,91],69:[2,91],76:[2,91],79:[2,91],80:[2,91],103:[2,91]},{1:[2,92],14:[2,92],21:[2,92],22:[2,92],24:[2,92],26:[2,92],27:[2,92],28:[2,92],32:[2,92],35:[1,46],36:[2,92],37:[2,92],39:[2,92],44:[2,92],45:[2,92],46:[2,92],55:[1,47],56:[1,48],59:[1,49],60:[2,92],61:[1,51],62:[1,52],63:[1,53],64:[2,92],65:[1,55],66:[1,56],67:[1,57],68:[2,92],69:[2,92],76:[2,92],79:[2,92],80:[2,92],103:[2,92]},{1:[2,93],14:[2,93],21:[2,93],22:[2,93],24:[2,93],26:[2,93],27:[2,93],28:[2,93],32:[2,93],35:[1,46],36:[2,93],37:[2,93],39:[2,93],44:[2,93],45:[2,93],46:[2,93],55:[1,47],56:[1,48],59:[2,93],60:[2,93],61:[1,51],62:[1,52],63:[1,53],64:[2,93],65:[1,55],66:[1,56],67:[2,93],68:[2,93],69:[2,93],76:[2,93],79:[2,93],80:[2,93],103:[2,93]},{1:[2,94],14:[2,94],21:[2,94],22:[2,94],24:[2,94],26:[2,94],27:[2,94],28:[2,94],32:[2,94],35:[1,46],36:[2,94],37:[2,94],39:[2,94],44:[2,94],45:[2,94],46:[2,94],55:[2,94],56:[2,94],59:[2,94],60:[2,94],61:[2,94],62:[2,94],63:[2,94],64:[2,94],65:[2,94],66:[1,56],67:[2,94],68:[2,94],69:[2,94],76:[2,94],79:[2,94],80:[2,94],103:[2,94]},{1:[2,95],14:[2,95],21:[2,95],22:[2,95],24:[2,95],26:[2,95],27:[2,95],28:[2,95],32:[2,95],35:[1,46],36:[2,95],37:[2,95],39:[2,95],44:[2,95],45:[2,95],46:[2,95],55:[1,47],56:[1,48],59:[2,95],60:[2,95],61:[1,51],62:[1,52],63:[1,53],64:[2,95],65:[1,55],66:[1,56],67:[2,95],68:[2,95],69:[2,95],76:[2,95],79:[2,95],80:[2,95],103:[2,95]},{1:[2,96],14:[2,96],21:[2,96],22:[2,96],24:[2,96],26:[2,96],27:[2,96],28:[2,96],32:[2,96],35:[1,46],36:[2,96],37:[2,96],39:[2,96],44:[2,96],45:[2,96],46:[2,96],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[2,96],69:[2,96],76:[2,96],79:[2,96],80:[2,96],103:[2,96]},{1:[2,97],14:[2,97],21:[2,97],22:[2,97],24:[2,97],26:[2,97],27:[2,97],28:[2,97],32:[2,97],35:[1,46],36:[2,97],37:[2,97],39:[2,97],44:[2,97],45:[2,97],46:[2,97],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[2,97],79:[2,97],80:[2,97],103:[2,97]},{1:[2,103],14:[2,103],21:[2,103],22:[2,103],24:[2,103],26:[2,103],27:[2,103],28:[2,103],32:[2,103],35:[1,46],36:[2,103],37:[2,103],39:[2,103],44:[2,103],45:[2,103],46:[2,103],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[2,103],79:[2,103],80:[2,103],103:[2,103]},{32:[1,248],45:[1,249],46:[1,250]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],14:[2,56],16:[1,35],18:[1,36],19:63,21:[2,56],22:[2,56],23:[1,37],25:[1,38],31:[1,65],32:[2,56],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:251,45:[2,56],46:[2,56],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{14:[2,53],21:[2,53],22:[2,53],32:[2,53],35:[1,46],44:[2,53],45:[2,53],46:[2,53],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{13:252,32:[2,55],44:[1,161],45:[2,55],46:[2,55]},{17:236,35:[1,46],46:[1,6],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{1:[2,68],14:[2,68],21:[2,68],22:[2,68],24:[2,68],26:[2,68],27:[2,68],28:[2,68],32:[2,68],35:[1,46],36:[2,68],37:[2,68],39:[2,68],44:[2,68],45:[2,68],46:[2,68],55:[2,68],56:[1,48],59:[2,68],60:[2,68],61:[1,51],62:[1,52],63:[2,68],64:[2,68],65:[2,68],66:[1,56],67:[2,68],68:[2,68],69:[2,68],76:[2,68],79:[2,68],80:[2,68],103:[2,68]},{1:[2,69],14:[2,69],21:[2,69],22:[2,69],24:[2,69],26:[2,69],27:[2,69],28:[2,69],32:[2,69],35:[2,69],36:[2,69],37:[2,69],39:[2,69],44:[2,69],45:[2,69],46:[2,69],55:[2,69],56:[2,69],59:[2,69],60:[2,69],61:[2,69],62:[2,69],63:[2,69],64:[2,69],65:[2,69],66:[2,69],67:[2,69],68:[2,69],69:[2,69],76:[2,69],79:[2,69],80:[2,69],103:[2,69]},{1:[2,72],14:[2,72],21:[2,72],22:[2,72],24:[2,72],26:[2,72],27:[2,72],28:[2,72],32:[2,72],35:[1,46],36:[2,72],37:[2,72],39:[2,72],44:[2,72],45:[2,72],46:[2,72],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[2,72],79:[2,72],80:[2,72],103:[2,72]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:253,16:[1,35],18:[1,36],19:63,22:[2,47],23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,127],14:[2,127],21:[2,127],22:[2,127],24:[2,127],26:[2,127],27:[2,127],28:[2,127],32:[2,127],35:[1,46],36:[2,127],37:[2,127],39:[2,127],44:[2,127],45:[2,127],46:[2,127],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[2,127],69:[2,127],76:[2,127],79:[2,127],80:[2,127],103:[2,127]},{1:[2,6],9:[2,6],11:[2,6],14:[2,6],15:[2,6],21:[2,6],22:[2,6],24:[2,6],26:[2,6],27:[2,6],28:[2,6],32:[2,6],34:[2,6],35:[2,6],36:[2,6],37:[2,6],39:[2,6],44:[2,6],45:[2,6],46:[2,6],53:[2,6],54:[2,6],55:[2,6],56:[2,6],59:[2,6],60:[2,6],61:[2,6],62:[2,6],63:[2,6],64:[2,6],65:[2,6],66:[2,6],67:[2,6],68:[2,6],69:[2,6],70:[2,6],76:[2,6],79:[2,6],80:[2,6],94:[2,6],100:[2,6],101:[2,6],103:[2,6]},{1:[2,7],9:[2,7],11:[2,7],14:[2,7],15:[2,7],21:[2,7],22:[2,7],24:[2,7],26:[2,7],27:[2,7],28:[2,7],32:[2,7],34:[2,7],35:[2,7],36:[2,7],37:[2,7],39:[2,7],44:[2,7],45:[2,7],46:[2,7],53:[2,7],54:[2,7],55:[2,7],56:[2,7],59:[2,7],60:[2,7],61:[2,7],62:[2,7],63:[2,7],64:[2,7],65:[2,7],66:[2,7],67:[2,7],68:[2,7],69:[2,7],70:[2,7],76:[2,7],79:[2,7],80:[2,7],94:[2,7],100:[2,7],101:[2,7],103:[2,7]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:108,16:[1,35],18:[1,36],19:254,21:[2,47],23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],36:[1,255],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{4:[1,122],5:119,7:[1,123],8:[1,120],10:113,18:[1,210],23:[1,121],24:[2,148],25:[1,124],40:110,42:118,44:[2,148],45:[2,148],46:[1,112],47:[1,116],51:[1,117],56:[1,115],96:114,97:111},{13:256,14:[2,55],44:[1,161],45:[2,55],46:[2,55]},{1:[2,78],9:[1,73],11:[1,74],14:[2,78],15:[1,75],21:[2,78],22:[2,78],24:[2,78],26:[2,78],27:[2,78],28:[2,78],32:[2,78],35:[2,78],36:[2,78],37:[2,78],39:[2,78],44:[2,78],45:[2,78],46:[2,78],55:[2,78],56:[2,78],59:[2,78],60:[2,78],61:[2,78],62:[2,78],63:[2,78],64:[2,78],65:[2,78],66:[2,78],67:[2,78],68:[2,78],69:[2,78],76:[2,78],79:[2,78],80:[2,78],103:[2,78]},{13:257,22:[2,55],44:[1,161],45:[2,55],46:[2,55]},{1:[2,79],9:[1,73],11:[1,74],14:[2,79],15:[1,75],21:[2,79],22:[2,79],24:[2,79],26:[2,79],27:[2,79],28:[2,79],32:[2,79],35:[2,79],36:[2,79],37:[2,79],39:[2,79],44:[2,79],45:[2,79],46:[2,79],55:[2,79],56:[2,79],59:[2,79],60:[2,79],61:[2,79],62:[2,79],63:[2,79],64:[2,79],65:[2,79],66:[2,79],67:[2,79],68:[2,79],69:[2,79],76:[2,79],79:[2,79],80:[2,79],103:[2,79]},{1:[2,80],9:[1,73],11:[1,74],14:[2,80],15:[1,75],21:[2,80],22:[2,80],24:[2,80],26:[2,80],27:[2,80],28:[2,80],32:[2,80],35:[2,80],36:[2,80],37:[2,80],39:[2,80],44:[2,80],45:[2,80],46:[2,80],55:[2,80],56:[2,80],59:[2,80],60:[2,80],61:[2,80],62:[2,80],63:[2,80],64:[2,80],65:[2,80],66:[2,80],67:[2,80],68:[2,80],69:[2,80],76:[2,80],79:[2,80],80:[2,80],103:[2,80]},{13:258,14:[2,55],44:[1,161],45:[2,55],46:[2,55]},{13:259,14:[2,55],44:[1,161],45:[2,55],46:[2,55]},{1:[2,157],14:[2,157],21:[2,157],22:[2,157],24:[2,157],26:[2,157],27:[2,157],28:[2,157],32:[2,157],35:[2,157],36:[2,157],37:[2,157],39:[2,157],44:[2,157],45:[2,157],46:[2,157],55:[2,157],56:[2,157],59:[2,157],60:[2,157],61:[2,157],62:[2,157],63:[2,157],64:[2,157],65:[2,157],66:[2,157],67:[2,157],68:[2,157],69:[2,157],75:260,76:[2,157],79:[2,157],80:[2,157],87:[1,183],103:[2,157]},{1:[2,104],14:[2,104],21:[2,104],22:[2,104],24:[2,104],26:[2,104],27:[2,104],28:[2,104],32:[2,104],35:[2,104],36:[2,104],37:[2,104],39:[2,104],44:[2,104],45:[2,104],46:[2,104],55:[2,104],56:[2,104],59:[2,104],60:[2,104],61:[2,104],62:[2,104],63:[2,104],64:[2,104],65:[2,104],66:[2,104],67:[2,104],68:[2,104],69:[2,104],76:[2,104],79:[2,104],80:[2,104],103:[2,104]},{17:261,46:[1,6],74:[1,262]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:263,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{13:264,22:[2,55],44:[1,161],45:[2,55],46:[2,55]},{1:[2,112],14:[2,112],21:[2,112],22:[2,112],24:[2,112],26:[2,112],27:[2,112],28:[2,112],32:[2,112],35:[2,112],36:[2,112],37:[2,112],39:[2,112],44:[2,112],45:[2,112],46:[2,112],55:[2,112],56:[2,112],59:[2,112],60:[2,112],61:[2,112],62:[2,112],63:[2,112],64:[2,112],65:[2,112],66:[2,112],67:[2,112],68:[2,112],69:[2,112],76:[2,112],79:[2,112],80:[1,190],86:[1,265],87:[1,266],103:[2,112]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:267,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{17:268,46:[1,6]},{17:269,46:[1,6]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:96,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],84:270,88:[1,26],91:[1,27],95:[1,29]},{17:271,44:[1,187],46:[1,6]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],17:272,18:[1,36],19:63,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:273,46:[1,6],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{17:274,46:[1,6]},{46:[2,192],93:275,103:[1,196]},{17:276,46:[1,6]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:96,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],84:277,88:[1,26],91:[1,27],95:[1,29]},{35:[1,46],46:[2,189],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],103:[2,189]},{13:278,22:[2,55],44:[1,161],45:[2,55],46:[2,55]},{13:279,14:[2,55],44:[1,161],45:[2,55],46:[2,55]},{21:[1,280],22:[1,281],39:[1,203],45:[1,283],46:[1,284],77:282,79:[1,41]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:285,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{21:[2,183],22:[2,183],24:[2,183],39:[2,183],45:[2,183],46:[2,183],79:[2,183]},{3:137,4:[1,138],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:286,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29],102:[1,139]},{21:[1,287],35:[1,46],37:[1,288],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{21:[1,289],45:[1,249],46:[1,250]},{13:290,21:[2,55],44:[1,161],45:[2,55],46:[2,55]},{24:[1,291],45:[1,292]},{4:[1,122],5:119,7:[1,123],8:[1,120],10:113,18:[1,210],22:[2,56],23:[1,121],24:[2,56],25:[1,124],42:118,45:[2,56],47:[1,116],51:[1,117],56:[1,115],96:114,97:293},{13:294,22:[2,55],44:[1,208],45:[2,55]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:295,16:[1,35],18:[1,36],19:63,21:[2,47],23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:296,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],46:[1,297],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{4:[1,122],7:[1,123],42:298},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:299,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:300,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{22:[2,144],24:[2,144],44:[2,144],45:[2,144]},{22:[2,145],24:[2,145],44:[2,145],45:[2,145]},{22:[2,146],24:[2,146],35:[1,46],44:[2,146],45:[2,146],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{4:[1,122],7:[1,123],42:301},{13:302,24:[2,55],44:[1,208],45:[2,55]},{1:[2,14],9:[2,14],11:[2,14],14:[2,14],15:[2,14],21:[2,14],22:[2,14],24:[2,14],26:[2,14],27:[2,14],28:[2,14],32:[2,14],34:[2,14],35:[2,14],36:[2,14],37:[2,14],39:[2,14],44:[2,14],45:[2,14],46:[2,14],53:[2,14],54:[2,14],55:[2,14],56:[2,14],59:[2,14],60:[2,14],61:[2,14],62:[2,14],63:[2,14],64:[2,14],65:[2,14],66:[2,14],67:[2,14],68:[2,14],69:[2,14],70:[2,14],76:[2,14],79:[2,14],80:[2,14],94:[2,14],100:[2,14],101:[2,14],103:[2,14]},{27:[1,303],35:[1,46],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{27:[1,304]},{27:[1,305]},{3:306,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],23:[1,37],25:[1,38],38:[1,39],39:[1,67]},{1:[2,17],9:[2,17],11:[2,17],14:[2,17],15:[2,17],21:[2,17],22:[2,17],24:[2,17],26:[2,17],27:[2,17],28:[2,17],32:[2,17],34:[2,17],35:[2,17],36:[2,17],37:[2,17],39:[2,17],44:[2,17],45:[2,17],46:[2,17],53:[2,17],54:[2,17],55:[2,17],56:[2,17],59:[2,17],60:[2,17],61:[2,17],62:[2,17],63:[2,17],64:[2,17],65:[2,17],66:[2,17],67:[2,17],68:[2,17],69:[2,17],70:[2,17],76:[2,17],79:[2,17],80:[2,17],94:[2,17],100:[2,17],101:[2,17],103:[2,17]},{27:[1,307],35:[1,46],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{1:[2,20],9:[2,20],11:[2,20],14:[2,20],15:[2,20],21:[2,20],22:[2,20],24:[2,20],26:[2,20],27:[2,20],28:[2,20],32:[2,20],34:[2,20],35:[2,20],36:[2,20],37:[2,20],39:[2,20],44:[2,20],45:[2,20],46:[2,20],53:[2,20],54:[2,20],55:[2,20],56:[2,20],59:[2,20],60:[2,20],61:[2,20],62:[2,20],63:[2,20],64:[2,20],65:[2,20],66:[2,20],67:[2,20],68:[2,20],69:[2,20],70:[2,20],76:[2,20],79:[2,20],80:[2,20],94:[2,20],100:[2,20],101:[2,20],103:[2,20]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:308,14:[2,47],16:[1,35],18:[1,36],19:63,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,22],9:[2,22],11:[2,22],14:[2,22],15:[2,22],21:[2,22],22:[2,22],24:[2,22],26:[2,22],27:[2,22],28:[2,22],32:[2,22],34:[2,22],35:[2,22],36:[2,22],37:[2,22],39:[2,22],44:[2,22],45:[2,22],46:[2,22],53:[2,22],54:[2,22],55:[2,22],56:[2,22],59:[2,22],60:[2,22],61:[2,22],62:[2,22],63:[2,22],64:[2,22],65:[2,22],66:[2,22],67:[2,22],68:[2,22],69:[2,22],70:[2,22],76:[2,22],79:[2,22],80:[2,22],94:[2,22],100:[2,22],101:[2,22],103:[2,22]},{13:309,32:[2,55],44:[1,161],45:[2,55],46:[2,55]},{1:[2,24],9:[2,24],11:[2,24],14:[2,24],15:[2,24],21:[2,24],22:[2,24],24:[2,24],26:[2,24],27:[2,24],28:[2,24],32:[2,24],34:[2,24],35:[2,24],36:[2,24],37:[2,24],39:[2,24],44:[2,24],45:[2,24],46:[2,24],53:[2,24],54:[2,24],55:[2,24],56:[2,24],59:[2,24],60:[2,24],61:[2,24],62:[2,24],63:[2,24],64:[2,24],65:[2,24],66:[2,24],67:[2,24],68:[2,24],69:[2,24],70:[2,24],76:[2,24],79:[2,24],80:[2,24],94:[2,24],100:[2,24],101:[2,24],103:[2,24]},{1:[2,25],9:[2,25],11:[2,25],14:[2,25],15:[2,25],21:[2,25],22:[2,25],24:[2,25],26:[2,25],27:[2,25],28:[2,25],32:[2,25],34:[2,25],35:[2,25],36:[2,25],37:[2,25],39:[2,25],44:[2,25],45:[2,25],46:[2,25],53:[2,25],54:[2,25],55:[2,25],56:[2,25],59:[2,25],60:[2,25],61:[2,25],62:[2,25],63:[2,25],64:[2,25],65:[2,25],66:[2,25],67:[2,25],68:[2,25],69:[2,25],70:[2,25],76:[2,25],79:[2,25],80:[2,25],94:[2,25],100:[2,25],101:[2,25],103:[2,25]},{9:[1,73],11:[1,74],15:[1,75],35:[1,310]},{1:[2,153],9:[2,153],11:[2,153],14:[2,153],15:[2,153],21:[2,153],22:[2,153],24:[2,153],26:[2,153],27:[2,153],28:[2,153],32:[2,153],34:[2,153],35:[2,153],36:[2,153],37:[2,153],39:[2,153],44:[2,153],45:[2,153],46:[2,153],53:[2,153],54:[2,153],55:[2,153],56:[2,153],59:[2,153],60:[2,153],61:[2,153],62:[2,153],63:[2,153],64:[2,153],65:[2,153],66:[2,153],67:[2,153],68:[2,153],69:[2,153],70:[2,153],76:[2,153],79:[2,153],80:[2,153],94:[2,153],98:[2,153],100:[2,153],101:[2,153],103:[2,153]},{1:[2,37],9:[2,37],11:[2,37],14:[2,37],15:[2,37],21:[2,37],22:[2,37],24:[2,37],26:[2,37],27:[2,37],28:[2,37],32:[2,37],34:[2,37],35:[2,37],36:[2,37],37:[2,37],39:[2,37],44:[2,37],45:[2,37],46:[2,37],53:[2,37],54:[2,37],55:[2,37],56:[2,37],59:[2,37],60:[2,37],61:[2,37],62:[2,37],63:[2,37],64:[2,37],65:[2,37],66:[2,37],67:[2,37],68:[2,37],69:[2,37],70:[2,37],76:[2,37],79:[2,37],80:[2,37],94:[2,37],100:[2,37],101:[2,37],103:[2,37]},{1:[2,38],9:[2,38],11:[2,38],14:[2,38],15:[2,38],21:[2,38],22:[2,38],24:[2,38],26:[2,38],27:[2,38],28:[2,38],32:[2,38],34:[2,38],35:[2,38],36:[2,38],37:[2,38],39:[2,38],44:[2,38],45:[2,38],46:[2,38],53:[2,38],54:[2,38],55:[2,38],56:[2,38],59:[2,38],60:[2,38],61:[2,38],62:[2,38],63:[2,38],64:[2,38],65:[2,38],66:[2,38],67:[2,38],68:[2,38],69:[2,38],70:[2,38],76:[2,38],79:[2,38],80:[2,38],94:[2,38],100:[2,38],101:[2,38],103:[2,38]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:311,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:312,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:313,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:314,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:315,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],23:[1,37],25:[1,38],38:[1,39],39:[1,67]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:316,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{35:[1,46],36:[1,317],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:318,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:319,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:320,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{13:321,22:[2,55],44:[1,161],45:[2,55],46:[2,55]},{50:[1,322],71:[1,323]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:63,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:324,47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:325,16:[1,35],18:[1,36],19:63,22:[2,47],23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{14:[2,49],21:[2,49],22:[2,49],32:[2,49],44:[2,49],45:[2,49],46:[2,49]},{32:[1,326],45:[1,249],46:[1,250]},{13:327,22:[2,55],44:[1,161],45:[2,55],46:[2,55]},{21:[2,52],35:[1,46],36:[1,328],44:[2,52],45:[2,52],46:[2,52],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:329,21:[1,330],23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{14:[1,331],45:[1,249],46:[1,250]},{22:[1,332],45:[1,249],46:[1,250]},{14:[1,333],45:[1,249],46:[1,250]},{14:[1,334],45:[1,249],46:[1,250]},{1:[2,102],14:[2,102],21:[2,102],22:[2,102],24:[2,102],26:[2,102],27:[2,102],28:[2,102],32:[2,102],35:[2,102],36:[2,102],37:[2,102],39:[2,102],44:[2,102],45:[2,102],46:[2,102],55:[2,102],56:[2,102],59:[2,102],60:[2,102],61:[2,102],62:[2,102],63:[2,102],64:[2,102],65:[2,102],66:[2,102],67:[2,102],68:[2,102],69:[2,102],76:[2,102],79:[2,102],80:[2,102],103:[2,102]},{1:[2,158],14:[2,158],21:[2,158],22:[2,158],24:[2,158],26:[2,158],27:[2,158],28:[2,158],32:[2,158],35:[2,158],36:[2,158],37:[2,158],39:[2,158],44:[2,158],45:[2,158],46:[2,158],55:[2,158],56:[2,158],59:[2,158],60:[2,158],61:[2,158],62:[2,158],63:[2,158],64:[2,158],65:[2,158],66:[2,158],67:[2,158],68:[2,158],69:[2,158],76:[2,158],79:[2,158],80:[2,158],103:[2,158]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:335,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,105],14:[2,105],21:[2,105],22:[2,105],24:[2,105],26:[2,105],27:[2,105],28:[2,105],32:[2,105],35:[1,46],36:[2,105],37:[2,105],39:[2,105],44:[2,105],45:[2,105],46:[2,105],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[2,105],69:[2,105],76:[2,105],79:[2,105],80:[1,336],103:[2,105]},{22:[1,337],45:[1,249],46:[1,250]},{17:338,46:[1,6]},{17:339,46:[1,6]},{35:[1,46],44:[2,132],46:[2,132],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],80:[2,132]},{1:[2,116],14:[2,116],21:[2,116],22:[2,116],24:[2,116],26:[2,116],27:[2,116],28:[2,116],32:[2,116],35:[2,116],36:[2,116],37:[2,116],39:[2,116],44:[2,116],45:[2,116],46:[2,116],55:[2,116],56:[2,116],59:[2,116],60:[2,116],61:[2,116],62:[2,116],63:[2,116],64:[2,116],65:[2,116],66:[2,116],67:[2,116],68:[2,116],69:[2,116],76:[2,116],79:[2,116],80:[2,116],103:[2,116]},{1:[2,117],14:[2,117],21:[2,117],22:[2,117],24:[2,117],26:[2,117],27:[2,117],28:[2,117],32:[2,117],35:[2,117],36:[2,117],37:[2,117],39:[2,117],44:[2,117],45:[2,117],46:[2,117],55:[2,117],56:[2,117],59:[2,117],60:[2,117],61:[2,117],62:[2,117],63:[2,117],64:[2,117],65:[2,117],66:[2,117],67:[2,117],68:[2,117],69:[2,117],76:[2,117],79:[2,117],80:[2,117],103:[2,117]},{17:340,44:[1,187],46:[1,6]},{1:[2,187],14:[2,187],21:[2,187],22:[2,187],24:[2,187],26:[2,187],27:[2,187],28:[2,187],32:[2,187],35:[2,187],36:[2,187],37:[2,187],39:[2,187],44:[2,187],45:[2,187],46:[2,187],55:[2,187],56:[2,187],59:[2,187],60:[2,187],61:[2,187],62:[2,187],63:[2,187],64:[2,187],65:[2,187],66:[2,187],67:[2,187],68:[2,187],69:[2,187],76:[2,187],79:[2,187],80:[2,187],86:[2,187],87:[2,187],103:[2,187]},{1:[2,120],14:[2,120],21:[2,120],22:[2,120],24:[2,120],26:[2,120],27:[2,120],28:[2,120],32:[2,120],35:[2,120],36:[2,120],37:[2,120],39:[2,120],44:[2,120],45:[2,120],46:[2,120],55:[2,120],56:[2,120],59:[2,120],60:[2,120],61:[2,120],62:[2,120],63:[2,120],64:[2,120],65:[2,120],66:[2,120],67:[2,120],68:[2,120],69:[2,120],76:[2,120],79:[2,120],80:[2,120],90:[1,341],103:[2,120]},{17:342,46:[1,6]},{1:[2,124],14:[2,124],21:[2,124],22:[2,124],24:[2,124],26:[2,124],27:[2,124],28:[2,124],32:[2,124],35:[2,124],36:[2,124],37:[2,124],39:[2,124],44:[2,124],45:[2,124],46:[2,124],55:[2,124],56:[2,124],59:[2,124],60:[2,124],61:[2,124],62:[2,124],63:[2,124],64:[2,124],65:[2,124],66:[2,124],67:[2,124],68:[2,124],69:[2,124],76:[2,124],79:[2,124],80:[2,124],103:[2,124]},{17:343,46:[1,6]},{1:[2,126],14:[2,126],21:[2,126],22:[2,126],24:[2,126],26:[2,126],27:[2,126],28:[2,126],32:[2,126],35:[2,126],36:[2,126],37:[2,126],39:[2,126],44:[2,126],45:[2,126],46:[2,126],55:[2,126],56:[2,126],59:[2,126],60:[2,126],61:[2,126],62:[2,126],63:[2,126],64:[2,126],65:[2,126],66:[2,126],67:[2,126],68:[2,126],69:[2,126],76:[2,126],79:[2,126],80:[2,126],103:[2,126]},{44:[1,187],46:[2,191]},{22:[1,344],45:[1,249],46:[1,250]},{14:[1,345],45:[1,249],46:[1,250]},{1:[2,11],9:[2,11],11:[2,11],14:[2,11],15:[2,11],21:[2,11],22:[2,11],24:[2,11],26:[2,11],27:[2,11],28:[2,11],32:[2,11],34:[2,11],35:[2,11],36:[2,11],37:[2,11],39:[2,11],44:[2,11],45:[2,11],46:[2,11],53:[2,11],54:[2,11],55:[2,11],56:[2,11],59:[2,11],60:[2,11],61:[2,11],62:[2,11],63:[2,11],64:[2,11],65:[2,11],66:[2,11],67:[2,11],68:[2,11],69:[2,11],70:[2,11],76:[2,11],79:[2,11],80:[2,11],94:[2,11],100:[2,11],101:[2,11],103:[2,11]},{21:[1,346]},{21:[2,184],22:[2,184],24:[2,184],39:[2,184],45:[2,184],46:[2,184],79:[2,184]},{39:[1,203],77:347,79:[1,41]},{39:[1,203],77:348,79:[1,41]},{21:[1,349],35:[1,46],37:[1,350],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{21:[2,164],22:[2,164],24:[2,164],35:[1,46],37:[1,238],39:[2,164],45:[2,164],46:[2,164],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,164],80:[1,237]},{1:[2,31],9:[2,31],11:[2,31],14:[2,31],15:[2,31],21:[2,31],22:[2,31],24:[2,31],26:[2,31],27:[2,31],28:[2,31],32:[2,31],34:[2,31],35:[2,31],36:[2,31],37:[2,31],39:[2,31],44:[2,31],45:[2,31],46:[2,31],53:[2,31],54:[2,31],55:[2,31],56:[2,31],59:[2,31],60:[2,31],61:[2,31],62:[2,31],63:[2,31],64:[2,31],65:[2,31],66:[2,31],67:[2,31],68:[2,31],69:[2,31],70:[2,31],76:[2,31],79:[2,31],80:[2,31],94:[2,31],100:[2,31],101:[2,31],103:[2,31]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:351,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,39],9:[2,39],11:[2,39],14:[2,39],15:[2,39],21:[2,39],22:[2,39],24:[2,39],26:[2,39],27:[2,39],28:[2,39],32:[2,39],34:[2,39],35:[2,39],36:[2,39],37:[2,39],39:[2,39],41:[1,352],44:[2,39],45:[2,39],46:[2,39],53:[2,39],54:[2,39],55:[2,39],56:[2,39],59:[2,39],60:[2,39],61:[2,39],62:[2,39],63:[2,39],64:[2,39],65:[2,39],66:[2,39],67:[2,39],68:[2,39],69:[2,39],70:[2,39],76:[2,39],79:[2,39],80:[2,39],94:[2,39],100:[2,39],101:[2,39],103:[2,39]},{21:[1,353],45:[1,249],46:[1,250]},{1:[2,40],9:[2,40],11:[2,40],14:[2,40],15:[2,40],21:[2,40],22:[2,40],24:[2,40],26:[2,40],27:[2,40],28:[2,40],32:[2,40],34:[2,40],35:[2,40],36:[2,40],37:[2,40],39:[2,40],41:[1,354],44:[2,40],45:[2,40],46:[2,40],53:[2,40],54:[2,40],55:[2,40],56:[2,40],59:[2,40],60:[2,40],61:[2,40],62:[2,40],63:[2,40],64:[2,40],65:[2,40],66:[2,40],67:[2,40],68:[2,40],69:[2,40],70:[2,40],76:[2,40],79:[2,40],80:[2,40],94:[2,40],100:[2,40],101:[2,40],103:[2,40]},{4:[1,122],5:119,7:[1,123],8:[1,120],10:113,18:[1,210],23:[1,121],25:[1,124],42:118,47:[1,116],51:[1,117],56:[1,115],96:114,97:355},{22:[2,150],24:[2,150],44:[2,150],45:[2,150]},{22:[1,356],45:[1,292]},{13:357,21:[2,55],44:[1,161],45:[2,55],46:[2,55]},{22:[2,139],24:[2,139],35:[1,46],44:[2,139],45:[2,139],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],12:358,16:[1,35],18:[1,36],19:63,22:[2,47],23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],43:62,44:[2,47],45:[2,47],46:[2,47],47:[1,64],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{22:[2,135],24:[2,135],44:[2,135],45:[2,135],54:[2,135],60:[2,135]},{22:[2,142],24:[2,142],35:[1,46],44:[2,142],45:[2,142],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{22:[2,143],24:[2,143],35:[1,46],44:[2,143],45:[2,143],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{22:[2,136],24:[2,136],44:[2,136],45:[2,136],54:[2,136],60:[2,136]},{24:[1,359],45:[1,292]},{1:[2,15],9:[2,15],11:[2,15],14:[2,15],15:[2,15],21:[2,15],22:[2,15],24:[2,15],26:[2,15],27:[2,15],28:[2,15],32:[2,15],34:[2,15],35:[2,15],36:[2,15],37:[2,15],39:[2,15],44:[2,15],45:[2,15],46:[2,15],53:[2,15],54:[2,15],55:[2,15],56:[2,15],59:[2,15],60:[2,15],61:[2,15],62:[2,15],63:[2,15],64:[2,15],65:[2,15],66:[2,15],67:[2,15],68:[2,15],69:[2,15],70:[2,15],76:[2,15],79:[2,15],80:[2,15],94:[2,15],100:[2,15],101:[2,15],103:[2,15]},{1:[2,16],9:[2,16],11:[2,16],14:[2,16],15:[2,16],21:[2,16],22:[2,16],24:[2,16],26:[2,16],27:[2,16],28:[2,16],32:[2,16],34:[2,16],35:[2,16],36:[2,16],37:[2,16],39:[2,16],44:[2,16],45:[2,16],46:[2,16],53:[2,16],54:[2,16],55:[2,16],56:[2,16],59:[2,16],60:[2,16],61:[2,16],62:[2,16],63:[2,16],64:[2,16],65:[2,16],66:[2,16],67:[2,16],68:[2,16],69:[2,16],70:[2,16],76:[2,16],79:[2,16],80:[2,16],94:[2,16],100:[2,16],101:[2,16],103:[2,16]},{1:[2,19],9:[2,19],11:[2,19],14:[2,19],15:[2,19],21:[2,19],22:[2,19],24:[2,19],26:[2,19],27:[2,19],28:[2,19],32:[2,19],34:[2,19],35:[2,19],36:[2,19],37:[2,19],39:[2,19],44:[2,19],45:[2,19],46:[2,19],53:[2,19],54:[2,19],55:[2,19],56:[2,19],59:[2,19],60:[2,19],61:[2,19],62:[2,19],63:[2,19],64:[2,19],65:[2,19],66:[2,19],67:[2,19],68:[2,19],69:[2,19],70:[2,19],76:[2,19],79:[2,19],80:[2,19],94:[2,19],100:[2,19],101:[2,19],103:[2,19]},{9:[1,73],11:[1,74],15:[1,75],35:[1,360]},{1:[2,18],9:[2,18],11:[2,18],14:[2,18],15:[2,18],21:[2,18],22:[2,18],24:[2,18],26:[2,18],27:[2,18],28:[2,18],32:[2,18],34:[2,18],35:[2,18],36:[2,18],37:[2,18],39:[2,18],44:[2,18],45:[2,18],46:[2,18],53:[2,18],54:[2,18],55:[2,18],56:[2,18],59:[2,18],60:[2,18],61:[2,18],62:[2,18],63:[2,18],64:[2,18],65:[2,18],66:[2,18],67:[2,18],68:[2,18],69:[2,18],70:[2,18],76:[2,18],79:[2,18],80:[2,18],94:[2,18],100:[2,18],101:[2,18],103:[2,18]},{13:361,14:[2,55],44:[1,161],45:[2,55],46:[2,55]},{32:[1,362],45:[1,249],46:[1,250]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:364,23:[1,37],25:[1,38],27:[1,363],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{21:[2,165],22:[2,165],24:[2,165],35:[1,46],39:[2,165],45:[2,165],46:[2,165],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,165]},{21:[2,166],22:[2,166],24:[2,166],35:[1,46],39:[2,166],45:[2,166],46:[2,166],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,166],80:[1,365]},{21:[2,160],22:[2,160],24:[2,160],35:[1,46],37:[1,367],39:[2,160],45:[2,160],46:[2,160],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,160],80:[1,366]},{21:[2,168],22:[2,168],24:[2,168],35:[1,46],39:[2,168],45:[2,168],46:[2,168],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,168],80:[1,368]},{9:[1,73],11:[1,74],15:[1,75],101:[1,369]},{35:[1,46],36:[1,370],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:371,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{21:[2,180],22:[2,180],24:[2,180],35:[1,46],39:[2,180],45:[2,180],46:[2,180],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,180]},{21:[2,181],22:[2,181],24:[2,181],35:[1,46],39:[2,181],45:[2,181],46:[2,181],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,181],80:[1,372]},{1:[2,70],14:[2,70],21:[2,70],22:[2,70],24:[2,70],26:[2,70],27:[2,70],28:[2,70],32:[2,70],35:[2,70],36:[2,70],37:[2,70],39:[2,70],44:[2,70],45:[2,70],46:[2,70],55:[2,70],56:[2,70],59:[2,70],60:[2,70],61:[2,70],62:[2,70],63:[2,70],64:[2,70],65:[2,70],66:[2,70],67:[2,70],68:[2,70],69:[2,70],76:[2,70],79:[2,70],80:[2,70],103:[2,70]},{22:[1,373],45:[1,249],46:[1,250]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:374,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{17:375,46:[1,6]},{14:[2,50],21:[2,50],22:[2,50],32:[2,50],44:[2,50],45:[2,50],46:[2,50]},{13:376,22:[2,55],44:[1,161],45:[2,55],46:[2,55]},{71:[1,323]},{22:[1,377],45:[1,249],46:[1,250]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:378,21:[1,379],23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{21:[1,380],35:[1,46],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{1:[2,36],9:[2,36],11:[2,36],14:[2,36],15:[2,36],21:[2,36],22:[2,36],24:[2,36],26:[2,36],27:[2,36],28:[2,36],32:[2,36],34:[2,36],35:[2,36],36:[2,36],37:[2,36],39:[2,36],44:[2,36],45:[2,36],46:[2,36],53:[2,36],54:[2,36],55:[2,36],56:[2,36],59:[2,36],60:[2,36],61:[2,36],62:[2,36],63:[2,36],64:[2,36],65:[2,36],66:[2,36],67:[2,36],68:[2,36],69:[2,36],70:[2,36],76:[2,36],79:[2,36],80:[2,36],94:[2,36],100:[2,36],101:[2,36],103:[2,36]},{1:[2,8],9:[2,8],11:[2,8],14:[2,8],15:[2,8],21:[2,8],22:[2,8],24:[2,8],26:[2,8],27:[2,8],28:[2,8],32:[2,8],34:[2,8],35:[2,8],36:[2,8],37:[2,8],39:[2,8],44:[2,8],45:[2,8],46:[2,8],53:[2,8],54:[2,8],55:[2,8],56:[2,8],59:[2,8],60:[2,8],61:[2,8],62:[2,8],63:[2,8],64:[2,8],65:[2,8],66:[2,8],67:[2,8],68:[2,8],69:[2,8],70:[2,8],76:[2,8],79:[2,8],80:[2,8],94:[2,8],100:[2,8],101:[2,8],103:[2,8]},{1:[2,85],14:[2,85],21:[2,85],22:[2,85],24:[2,85],26:[2,85],27:[2,85],28:[2,85],32:[2,85],35:[2,85],36:[2,85],37:[2,85],39:[2,85],44:[2,85],45:[2,85],46:[2,85],55:[2,85],56:[2,85],59:[2,85],60:[2,85],61:[2,85],62:[2,85],63:[2,85],64:[2,85],65:[2,85],66:[2,85],67:[2,85],68:[2,85],69:[2,85],76:[2,85],79:[2,85],80:[2,85],103:[2,85]},{17:381,46:[1,6]},{17:382,46:[1,6]},{17:383,35:[1,46],46:[1,6],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:384,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,108],14:[2,108],21:[2,108],22:[2,108],24:[2,108],26:[2,108],27:[2,108],28:[2,108],32:[2,108],35:[2,108],36:[2,108],37:[2,108],39:[2,108],44:[2,108],45:[2,108],46:[2,108],55:[2,108],56:[2,108],59:[2,108],60:[2,108],61:[2,108],62:[2,108],63:[2,108],64:[2,108],65:[2,108],66:[2,108],67:[2,108],68:[2,108],69:[2,108],76:[2,108],79:[2,108],80:[2,108],103:[2,108]},{1:[2,113],14:[2,113],21:[2,113],22:[2,113],24:[2,113],26:[2,113],27:[2,113],28:[2,113],32:[2,113],35:[2,113],36:[2,113],37:[2,113],39:[2,113],44:[2,113],45:[2,113],46:[2,113],55:[2,113],56:[2,113],59:[2,113],60:[2,113],61:[2,113],62:[2,113],63:[2,113],64:[2,113],65:[2,113],66:[2,113],67:[2,113],68:[2,113],69:[2,113],76:[2,113],79:[2,113],80:[2,113],103:[2,113]},{1:[2,114],14:[2,114],21:[2,114],22:[2,114],24:[2,114],26:[2,114],27:[2,114],28:[2,114],32:[2,114],35:[2,114],36:[2,114],37:[2,114],39:[2,114],44:[2,114],45:[2,114],46:[2,114],55:[2,114],56:[2,114],59:[2,114],60:[2,114],61:[2,114],62:[2,114],63:[2,114],64:[2,114],65:[2,114],66:[2,114],67:[2,114],68:[2,114],69:[2,114],76:[2,114],79:[2,114],80:[2,114],103:[2,114]},{1:[2,188],14:[2,188],21:[2,188],22:[2,188],24:[2,188],26:[2,188],27:[2,188],28:[2,188],32:[2,188],35:[2,188],36:[2,188],37:[2,188],39:[2,188],44:[2,188],45:[2,188],46:[2,188],55:[2,188],56:[2,188],59:[2,188],60:[2,188],61:[2,188],62:[2,188],63:[2,188],64:[2,188],65:[2,188],66:[2,188],67:[2,188],68:[2,188],69:[2,188],76:[2,188],79:[2,188],80:[2,188],86:[2,188],87:[2,188],103:[2,188]},{17:385,46:[1,6]},{1:[2,122],14:[2,122],21:[2,122],22:[2,122],24:[2,122],26:[2,122],27:[2,122],28:[2,122],32:[2,122],35:[2,122],36:[2,122],37:[2,122],39:[2,122],44:[2,122],45:[2,122],46:[2,122],55:[2,122],56:[2,122],59:[2,122],60:[2,122],61:[2,122],62:[2,122],63:[2,122],64:[2,122],65:[2,122],66:[2,122],67:[2,122],68:[2,122],69:[2,122],76:[2,122],79:[2,122],80:[2,122],90:[1,386],103:[2,122]},{1:[2,125],14:[2,125],21:[2,125],22:[2,125],24:[2,125],26:[2,125],27:[2,125],28:[2,125],32:[2,125],35:[2,125],36:[2,125],37:[2,125],39:[2,125],44:[2,125],45:[2,125],46:[2,125],55:[2,125],56:[2,125],59:[2,125],60:[2,125],61:[2,125],62:[2,125],63:[2,125],64:[2,125],65:[2,125],66:[2,125],67:[2,125],68:[2,125],69:[2,125],76:[2,125],79:[2,125],80:[2,125],103:[2,125]},{1:[2,130],14:[2,130],21:[2,130],22:[2,130],24:[2,130],26:[2,130],27:[2,130],28:[2,130],32:[2,130],35:[2,130],36:[2,130],37:[2,130],39:[2,130],44:[2,130],45:[2,130],46:[2,130],55:[2,130],56:[2,130],59:[2,130],60:[2,130],61:[2,130],62:[2,130],63:[2,130],64:[2,130],65:[2,130],66:[2,130],67:[2,130],68:[2,130],69:[2,130],76:[2,130],79:[2,130],80:[2,130],103:[2,130]},{17:387,46:[1,6]},{1:[2,12],9:[2,12],11:[2,12],14:[2,12],15:[2,12],21:[2,12],22:[2,12],24:[2,12],26:[2,12],27:[2,12],28:[2,12],32:[2,12],34:[2,12],35:[2,12],36:[2,12],37:[2,12],39:[2,12],44:[2,12],45:[2,12],46:[2,12],53:[2,12],54:[2,12],55:[2,12],56:[2,12],59:[2,12],60:[2,12],61:[2,12],62:[2,12],63:[2,12],64:[2,12],65:[2,12],66:[2,12],67:[2,12],68:[2,12],69:[2,12],70:[2,12],76:[2,12],79:[2,12],80:[2,12],94:[2,12],100:[2,12],101:[2,12],103:[2,12]},{21:[2,185],22:[2,185],24:[2,185],39:[2,185],45:[2,185],46:[2,185],79:[2,185]},{21:[2,186],22:[2,186],24:[2,186],39:[2,186],45:[2,186],46:[2,186],79:[2,186]},{1:[2,29],9:[2,29],11:[2,29],14:[2,29],15:[2,29],21:[2,29],22:[2,29],24:[2,29],26:[2,29],27:[2,29],28:[2,29],32:[2,29],34:[2,29],35:[2,29],36:[2,29],37:[2,29],39:[2,29],44:[2,29],45:[2,29],46:[2,29],53:[2,29],54:[2,29],55:[2,29],56:[2,29],59:[2,29],60:[2,29],61:[2,29],62:[2,29],63:[2,29],64:[2,29],65:[2,29],66:[2,29],67:[2,29],68:[2,29],69:[2,29],70:[2,29],76:[2,29],79:[2,29],80:[2,29],94:[2,29],100:[2,29],101:[2,29],103:[2,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:388,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{21:[1,389],35:[1,46],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{1:[2,41],9:[2,41],11:[2,41],14:[2,41],15:[2,41],21:[2,41],22:[2,41],24:[2,41],26:[2,41],27:[2,41],28:[2,41],32:[2,41],34:[2,41],35:[2,41],36:[2,41],37:[2,41],39:[2,41],44:[2,41],45:[2,41],46:[2,41],53:[2,41],54:[2,41],55:[2,41],56:[2,41],59:[2,41],60:[2,41],61:[2,41],62:[2,41],63:[2,41],64:[2,41],65:[2,41],66:[2,41],67:[2,41],68:[2,41],69:[2,41],70:[2,41],76:[2,41],79:[2,41],80:[2,41],94:[2,41],100:[2,41],101:[2,41],103:[2,41]},{20:390,39:[1,203],41:[1,391],77:202,79:[1,41]},{1:[2,42],9:[2,42],11:[2,42],14:[2,42],15:[2,42],21:[2,42],22:[2,42],24:[2,42],26:[2,42],27:[2,42],28:[2,42],32:[2,42],34:[2,42],35:[2,42],36:[2,42],37:[2,42],39:[2,42],44:[2,42],45:[2,42],46:[2,42],53:[2,42],54:[2,42],55:[2,42],56:[2,42],59:[2,42],60:[2,42],61:[2,42],62:[2,42],63:[2,42],64:[2,42],65:[2,42],66:[2,42],67:[2,42],68:[2,42],69:[2,42],70:[2,42],76:[2,42],79:[2,42],80:[2,42],94:[2,42],100:[2,42],101:[2,42],103:[2,42]},{22:[2,151],24:[2,151],44:[2,151],45:[2,151]},{22:[2,152],24:[2,152],44:[2,152],45:[2,152]},{21:[1,392],45:[1,249],46:[1,250]},{13:393,22:[2,55],44:[1,161],45:[2,55],46:[2,55]},{41:[1,394]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:320,23:[1,37],25:[1,38],27:[1,395],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{14:[1,396],45:[1,249],46:[1,250]},{30:[1,397],50:[1,322],71:[1,323]},{1:[2,26],9:[2,26],11:[2,26],14:[2,26],15:[2,26],21:[2,26],22:[2,26],24:[2,26],26:[2,26],27:[2,26],28:[2,26],32:[2,26],34:[2,26],35:[2,26],36:[2,26],37:[2,26],39:[2,26],44:[2,26],45:[2,26],46:[2,26],53:[2,26],54:[2,26],55:[2,26],56:[2,26],59:[2,26],60:[2,26],61:[2,26],62:[2,26],63:[2,26],64:[2,26],65:[2,26],66:[2,26],67:[2,26],68:[2,26],69:[2,26],70:[2,26],76:[2,26],79:[2,26],80:[2,26],94:[2,26],100:[2,26],101:[2,26],103:[2,26]},{27:[1,398],35:[1,46],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:399,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:400,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:401,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:402,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:403,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:404,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{21:[2,173],22:[2,173],24:[2,173],35:[1,46],39:[2,173],45:[2,173],46:[2,173],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,173],80:[1,405]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:406,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{1:[2,75],14:[2,75],21:[2,75],22:[2,75],24:[2,75],26:[2,75],27:[2,75],28:[2,75],32:[2,75],35:[2,75],36:[2,75],37:[2,75],39:[2,75],44:[2,75],45:[2,75],46:[2,75],55:[2,75],56:[2,75],59:[2,75],60:[2,75],61:[2,75],62:[2,75],63:[2,75],64:[2,75],65:[2,75],66:[2,75],67:[2,75],68:[2,75],69:[2,75],76:[2,75],79:[2,75],80:[2,75],103:[2,75]},{1:[2,63],22:[2,63],27:[2,63],35:[1,46],45:[2,63],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{1:[2,99],14:[2,99],21:[2,99],22:[2,99],24:[2,99],26:[2,99],27:[2,99],28:[2,99],32:[2,99],35:[2,99],36:[2,99],37:[2,99],39:[2,99],44:[2,99],45:[2,99],46:[2,99],55:[2,99],56:[2,99],59:[2,99],60:[2,99],61:[2,99],62:[2,99],63:[2,99],64:[2,99],65:[2,99],66:[2,99],67:[2,99],68:[2,99],69:[2,99],76:[2,99],79:[2,99],80:[2,99],103:[2,99]},{22:[1,407],45:[1,249],46:[1,250]},{1:[2,73],14:[2,73],21:[2,73],22:[2,73],24:[2,73],26:[2,73],27:[2,73],28:[2,73],32:[2,73],35:[2,73],36:[2,73],37:[2,73],39:[2,73],44:[2,73],45:[2,73],46:[2,73],55:[2,73],56:[2,73],59:[2,73],60:[2,73],61:[2,73],62:[2,73],63:[2,73],64:[2,73],65:[2,73],66:[2,73],67:[2,73],68:[2,73],69:[2,73],76:[2,73],79:[2,73],80:[2,73],103:[2,73]},{21:[1,408],35:[1,46],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{1:[2,34],9:[2,34],11:[2,34],14:[2,34],15:[2,34],21:[2,34],22:[2,34],24:[2,34],26:[2,34],27:[2,34],28:[2,34],32:[2,34],34:[2,34],35:[2,34],36:[2,34],37:[2,34],39:[2,34],44:[2,34],45:[2,34],46:[2,34],53:[2,34],54:[2,34],55:[2,34],56:[2,34],59:[2,34],60:[2,34],61:[2,34],62:[2,34],63:[2,34],64:[2,34],65:[2,34],66:[2,34],67:[2,34],68:[2,34],69:[2,34],70:[2,34],76:[2,34],79:[2,34],80:[2,34],94:[2,34],100:[2,34],101:[2,34],103:[2,34]},{1:[2,35],9:[2,35],11:[2,35],14:[2,35],15:[2,35],21:[2,35],22:[2,35],24:[2,35],26:[2,35],27:[2,35],28:[2,35],32:[2,35],34:[2,35],35:[2,35],36:[2,35],37:[2,35],39:[2,35],44:[2,35],45:[2,35],46:[2,35],53:[2,35],54:[2,35],55:[2,35],56:[2,35],59:[2,35],60:[2,35],61:[2,35],62:[2,35],63:[2,35],64:[2,35],65:[2,35],66:[2,35],67:[2,35],68:[2,35],69:[2,35],70:[2,35],76:[2,35],79:[2,35],80:[2,35],94:[2,35],100:[2,35],101:[2,35],103:[2,35]},{1:[2,100],14:[2,100],21:[2,100],22:[2,100],24:[2,100],26:[2,100],27:[2,100],28:[2,100],32:[2,100],35:[2,100],36:[2,100],37:[2,100],39:[2,100],44:[2,100],45:[2,100],46:[2,100],55:[2,100],56:[2,100],59:[2,100],60:[2,100],61:[2,100],62:[2,100],63:[2,100],64:[2,100],65:[2,100],66:[2,100],67:[2,100],68:[2,100],69:[2,100],76:[2,100],79:[2,100],80:[2,100],103:[2,100]},{1:[2,101],14:[2,101],21:[2,101],22:[2,101],24:[2,101],26:[2,101],27:[2,101],28:[2,101],32:[2,101],35:[2,101],36:[2,101],37:[2,101],39:[2,101],44:[2,101],45:[2,101],46:[2,101],55:[2,101],56:[2,101],59:[2,101],60:[2,101],61:[2,101],62:[2,101],63:[2,101],64:[2,101],65:[2,101],66:[2,101],67:[2,101],68:[2,101],69:[2,101],76:[2,101],79:[2,101],80:[2,101],103:[2,101]},{1:[2,157],14:[2,157],21:[2,157],22:[2,157],24:[2,157],26:[2,157],27:[2,157],28:[2,157],32:[2,157],35:[2,157],36:[2,157],37:[2,157],39:[2,157],44:[2,157],45:[2,157],46:[2,157],55:[2,157],56:[2,157],59:[2,157],60:[2,157],61:[2,157],62:[2,157],63:[2,157],64:[2,157],65:[2,157],66:[2,157],67:[2,157],68:[2,157],69:[2,157],75:409,76:[2,157],79:[2,157],80:[2,157],87:[1,183],103:[2,157]},{1:[2,106],14:[2,106],21:[2,106],22:[2,106],24:[2,106],26:[2,106],27:[2,106],28:[2,106],32:[2,106],35:[1,46],36:[2,106],37:[2,106],39:[2,106],44:[2,106],45:[2,106],46:[2,106],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[2,106],69:[2,106],76:[2,106],79:[2,106],80:[2,106],103:[2,106]},{1:[2,121],14:[2,121],21:[2,121],22:[2,121],24:[2,121],26:[2,121],27:[2,121],28:[2,121],32:[2,121],35:[2,121],36:[2,121],37:[2,121],39:[2,121],44:[2,121],45:[2,121],46:[2,121],55:[2,121],56:[2,121],59:[2,121],60:[2,121],61:[2,121],62:[2,121],63:[2,121],64:[2,121],65:[2,121],66:[2,121],67:[2,121],68:[2,121],69:[2,121],76:[2,121],79:[2,121],80:[2,121],103:[2,121]},{17:410,46:[1,6]},{1:[2,10],9:[2,10],11:[2,10],14:[2,10],15:[2,10],21:[2,10],22:[2,10],24:[2,10],26:[2,10],27:[2,10],28:[2,10],32:[2,10],34:[2,10],35:[2,10],36:[2,10],37:[2,10],39:[2,10],44:[2,10],45:[2,10],46:[2,10],53:[2,10],54:[2,10],55:[2,10],56:[2,10],59:[2,10],60:[2,10],61:[2,10],62:[2,10],63:[2,10],64:[2,10],65:[2,10],66:[2,10],67:[2,10],68:[2,10],69:[2,10],70:[2,10],76:[2,10],79:[2,10],80:[2,10],94:[2,10],100:[2,10],101:[2,10],103:[2,10]},{21:[1,411],35:[1,46],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60]},{1:[2,32],9:[2,32],11:[2,32],14:[2,32],15:[2,32],21:[2,32],22:[2,32],24:[2,32],26:[2,32],27:[2,32],28:[2,32],32:[2,32],34:[2,32],35:[2,32],36:[2,32],37:[2,32],39:[2,32],44:[2,32],45:[2,32],46:[2,32],53:[2,32],54:[2,32],55:[2,32],56:[2,32],59:[2,32],60:[2,32],61:[2,32],62:[2,32],63:[2,32],64:[2,32],65:[2,32],66:[2,32],67:[2,32],68:[2,32],69:[2,32],70:[2,32],76:[2,32],79:[2,32],80:[2,32],94:[2,32],100:[2,32],101:[2,32],103:[2,32]},{24:[1,412],39:[1,203],45:[1,283],46:[1,284],77:282,79:[1,41]},{22:[2,138],24:[2,138],44:[2,138],45:[2,138],54:[2,138],60:[2,138]},{41:[1,391]},{22:[1,413],45:[1,249],46:[1,250]},{22:[2,137],24:[2,137],44:[2,137],45:[2,137],54:[2,137],60:[2,137]},{1:[2,27],9:[2,27],11:[2,27],14:[2,27],15:[2,27],21:[2,27],22:[2,27],24:[2,27],26:[2,27],27:[2,27],28:[2,27],32:[2,27],34:[2,27],35:[2,27],36:[2,27],37:[2,27],39:[2,27],44:[2,27],45:[2,27],46:[2,27],53:[2,27],54:[2,27],55:[2,27],56:[2,27],59:[2,27],60:[2,27],61:[2,27],62:[2,27],63:[2,27],64:[2,27],65:[2,27],66:[2,27],67:[2,27],68:[2,27],69:[2,27],70:[2,27],76:[2,27],79:[2,27],80:[2,27],94:[2,27],100:[2,27],101:[2,27],103:[2,27]},{27:[1,414]},{27:[1,415]},{1:[2,28],9:[2,28],11:[2,28],14:[2,28],15:[2,28],21:[2,28],22:[2,28],24:[2,28],26:[2,28],27:[2,28],28:[2,28],32:[2,28],34:[2,28],35:[2,28],36:[2,28],37:[2,28],39:[2,28],44:[2,28],45:[2,28],46:[2,28],53:[2,28],54:[2,28],55:[2,28],56:[2,28],59:[2,28],60:[2,28],61:[2,28],62:[2,28],63:[2,28],64:[2,28],65:[2,28],66:[2,28],67:[2,28],68:[2,28],69:[2,28],70:[2,28],76:[2,28],79:[2,28],80:[2,28],94:[2,28],100:[2,28],101:[2,28],103:[2,28]},{21:[2,167],22:[2,167],24:[2,167],35:[1,46],39:[2,167],45:[2,167],46:[2,167],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,167]},{21:[2,161],22:[2,161],24:[2,161],35:[1,46],39:[2,161],45:[2,161],46:[2,161],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,161]},{21:[2,162],22:[2,162],24:[2,162],35:[1,46],39:[2,162],45:[2,162],46:[2,162],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,162],80:[1,416]},{21:[2,169],22:[2,169],24:[2,169],35:[1,46],39:[2,169],45:[2,169],46:[2,169],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,169]},{21:[2,170],22:[2,170],24:[2,170],35:[1,46],39:[2,170],45:[2,170],46:[2,170],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,170],80:[1,417]},{21:[2,172],22:[2,172],24:[2,172],35:[1,46],37:[1,419],39:[2,172],45:[2,172],46:[2,172],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,172],80:[1,418]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:420,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{21:[2,182],22:[2,182],24:[2,182],35:[1,46],39:[2,182],45:[2,182],46:[2,182],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,182]},{14:[2,51],21:[2,51],22:[2,51],32:[2,51],44:[2,51],45:[2,51],46:[2,51]},{1:[2,33],9:[2,33],11:[2,33],14:[2,33],15:[2,33],21:[2,33],22:[2,33],24:[2,33],26:[2,33],27:[2,33],28:[2,33],32:[2,33],34:[2,33],35:[2,33],36:[2,33],37:[2,33],39:[2,33],44:[2,33],45:[2,33],46:[2,33],53:[2,33],54:[2,33],55:[2,33],56:[2,33],59:[2,33],60:[2,33],61:[2,33],62:[2,33],63:[2,33],64:[2,33],65:[2,33],66:[2,33],67:[2,33],68:[2,33],69:[2,33],70:[2,33],76:[2,33],79:[2,33],80:[2,33],94:[2,33],100:[2,33],101:[2,33],103:[2,33]},{1:[2,159],14:[2,159],21:[2,159],22:[2,159],24:[2,159],26:[2,159],27:[2,159],28:[2,159],32:[2,159],35:[2,159],36:[2,159],37:[2,159],39:[2,159],44:[2,159],45:[2,159],46:[2,159],55:[2,159],56:[2,159],59:[2,159],60:[2,159],61:[2,159],62:[2,159],63:[2,159],64:[2,159],65:[2,159],66:[2,159],67:[2,159],68:[2,159],69:[2,159],76:[2,159],79:[2,159],80:[2,159],103:[2,159]},{1:[2,123],14:[2,123],21:[2,123],22:[2,123],24:[2,123],26:[2,123],27:[2,123],28:[2,123],32:[2,123],35:[2,123],36:[2,123],37:[2,123],39:[2,123],44:[2,123],45:[2,123],46:[2,123],55:[2,123],56:[2,123],59:[2,123],60:[2,123],61:[2,123],62:[2,123],63:[2,123],64:[2,123],65:[2,123],66:[2,123],67:[2,123],68:[2,123],69:[2,123],76:[2,123],79:[2,123],80:[2,123],103:[2,123]},{1:[2,30],9:[2,30],11:[2,30],14:[2,30],15:[2,30],21:[2,30],22:[2,30],24:[2,30],26:[2,30],27:[2,30],28:[2,30],32:[2,30],34:[2,30],35:[2,30],36:[2,30],37:[2,30],39:[2,30],44:[2,30],45:[2,30],46:[2,30],53:[2,30],54:[2,30],55:[2,30],56:[2,30],59:[2,30],60:[2,30],61:[2,30],62:[2,30],63:[2,30],64:[2,30],65:[2,30],66:[2,30],67:[2,30],68:[2,30],69:[2,30],70:[2,30],76:[2,30],79:[2,30],80:[2,30],94:[2,30],100:[2,30],101:[2,30],103:[2,30]},{1:[2,13],9:[2,13],11:[2,13],14:[2,13],15:[2,13],21:[2,13],22:[2,13],24:[2,13],26:[2,13],27:[2,13],28:[2,13],32:[2,13],34:[2,13],35:[2,13],36:[2,13],37:[2,13],39:[2,13],44:[2,13],45:[2,13],46:[2,13],53:[2,13],54:[2,13],55:[2,13],56:[2,13],59:[2,13],60:[2,13],61:[2,13],62:[2,13],63:[2,13],64:[2,13],65:[2,13],66:[2,13],67:[2,13],68:[2,13],69:[2,13],70:[2,13],76:[2,13],79:[2,13],80:[2,13],94:[2,13],100:[2,13],101:[2,13],103:[2,13]},{22:[2,140],24:[2,140],44:[2,140],45:[2,140]},{1:[2,21],9:[2,21],11:[2,21],14:[2,21],15:[2,21],21:[2,21],22:[2,21],24:[2,21],26:[2,21],27:[2,21],28:[2,21],32:[2,21],34:[2,21],35:[2,21],36:[2,21],37:[2,21],39:[2,21],44:[2,21],45:[2,21],46:[2,21],53:[2,21],54:[2,21],55:[2,21],56:[2,21],59:[2,21],60:[2,21],61:[2,21],62:[2,21],63:[2,21],64:[2,21],65:[2,21],66:[2,21],67:[2,21],68:[2,21],69:[2,21],70:[2,21],76:[2,21],79:[2,21],80:[2,21],94:[2,21],100:[2,21],101:[2,21],103:[2,21]},{1:[2,23],9:[2,23],11:[2,23],14:[2,23],15:[2,23],21:[2,23],22:[2,23],24:[2,23],26:[2,23],27:[2,23],28:[2,23],32:[2,23],34:[2,23],35:[2,23],36:[2,23],37:[2,23],39:[2,23],44:[2,23],45:[2,23],46:[2,23],53:[2,23],54:[2,23],55:[2,23],56:[2,23],59:[2,23],60:[2,23],61:[2,23],62:[2,23],63:[2,23],64:[2,23],65:[2,23],66:[2,23],67:[2,23],68:[2,23],69:[2,23],70:[2,23],76:[2,23],79:[2,23],80:[2,23],94:[2,23],100:[2,23],101:[2,23],103:[2,23]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:421,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:422,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:423,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:424,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{21:[2,175],22:[2,175],24:[2,175],35:[1,46],39:[2,175],45:[2,175],46:[2,175],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,175]},{21:[2,163],22:[2,163],24:[2,163],35:[1,46],39:[2,163],45:[2,163],46:[2,163],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,163]},{21:[2,171],22:[2,171],24:[2,171],35:[1,46],39:[2,171],45:[2,171],46:[2,171],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,171]},{21:[2,174],22:[2,174],24:[2,174],35:[1,46],37:[1,425],39:[2,174],45:[2,174],46:[2,174],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,174]},{21:[2,176],22:[2,176],24:[2,176],35:[1,46],39:[2,176],45:[2,176],46:[2,176],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,176],80:[1,426]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:427,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{3:12,4:[1,30],5:31,6:32,7:[1,33],8:[1,34],16:[1,35],18:[1,36],19:428,23:[1,37],25:[1,38],31:[1,65],33:[1,14],34:[1,13],38:[1,39],39:[1,40],41:[1,28],56:[1,15],57:[1,16],58:[1,17],72:[1,18],73:[1,19],74:[1,20],77:21,78:[1,22],79:[1,41],81:[1,23],82:[1,24],83:[1,25],88:[1,26],91:[1,27],95:[1,29]},{21:[2,178],22:[2,178],24:[2,178],35:[1,46],39:[2,178],45:[2,178],46:[2,178],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,178]},{21:[2,177],22:[2,177],24:[2,177],35:[1,46],39:[2,177],45:[2,177],46:[2,177],55:[1,47],56:[1,48],59:[1,49],60:[1,50],61:[1,51],62:[1,52],63:[1,53],64:[1,54],65:[1,55],66:[1,56],67:[1,57],68:[1,58],69:[1,59],76:[1,60],79:[2,177]}],
defaultActions: {2:[2,193]},
parseError: function parseError(str, hash) {
    throw new Error(str);
},
parse: function parse(input) {
    var self = this,
        stack = [0],
        vstack = [null], // semantic value stack
        table = this.table,
        yytext = '',
        yylineno = 0,
        yyleng = 0,
        recovering = 0,
        TERROR = 2,
        EOF = 1;

    //this.reductionCount = this.shiftCount = 0;

    this.lexer.setInput(input);
    this.lexer.yy = this.yy;
    this.yy.lexer = this.lexer;

    if (typeof this.yy.parseError === 'function')
        this.parseError = this.yy.parseError;

    function popStack (n) {
        stack.length = stack.length - 2*n;
        vstack.length = vstack.length - n;
    }

    function lex() {
        var token;
        token = self.lexer.lex() || 1; // $end = 1
        // if token isn't its numeric value, convert
        if (typeof token !== 'number') {
            token = self.symbols_[token] || token;
        }
        return token;
    };

    var symbol, preErrorSymbol, state, action, a, r, yyval={},p,len,newState, expected;
    while (true) {
        // retreive state number from top of stack
        state = stack[stack.length-1];

        // use default actions if available
        if (this.defaultActions[state]) {
            action = this.defaultActions[state];
        } else {
            if (symbol == null)
                symbol = lex();
            // read action for current state and first input
            action = table[state] && table[state][symbol];
        }

        // handle parse error
        if (typeof action === 'undefined' || !action.length || !action[0]) {

            if (!recovering) {
                // Report error
                expected = [];
                for (p in table[state]) if (this.terminals_[p] && p > 2) {
                    expected.push("'"+this.terminals_[p]+"'");
                }
                var errStr = '';
                if (this.lexer.showPosition) {
                    errStr = 'Parse error on line '+(yylineno+1)+":\n"+this.lexer.showPosition()+'\nExpecting '+expected.join(', ');
                } else {
                    errStr = 'Parse error on line '+(yylineno+1)+": Unexpected " +
                                  (symbol == 1 /*EOF*/ ? "end of input" :
                                              ("'"+(this.terminals_[symbol] || symbol)+"'"));
                }
                this.parseError(errStr,
                    {text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, expected: expected});
            }

            // just recovered from another error
            if (recovering == 3) {
                if (symbol == EOF) {
                    throw new Error(errStr || 'Parsing halted.');
                }

                // discard current lookahead and grab another
                yyleng = this.lexer.yyleng;
                yytext = this.lexer.yytext;
                yylineno = this.lexer.yylineno;
                symbol = lex();
            }

            // try to recover from error
            while (1) {
                // check for error recovery rule in this state
                if ((TERROR.toString()) in table[state]) {
                    break;
                }
                if (state == 0) {
                    throw new Error(errStr || 'Parsing halted.');
                }
                popStack(1);
                state = stack[stack.length-1];
            }
            
            preErrorSymbol = symbol; // save the lookahead token
            symbol = TERROR;         // insert generic error symbol as new lookahead
            state = stack[stack.length-1];
            action = table[state] && table[state][TERROR];
            recovering = 3; // allow 3 real symbols to be shifted before reporting a new error
        }

        // this shouldn't happen, unless resolve defaults are off
        if (action[0] instanceof Array && action.length > 1) {
            throw new Error('Parse Error: multiple actions possible at state: '+state+', token: '+symbol);
        }

        switch (action[0]) {

            case 1: // shift
                //this.shiftCount++;

                stack.push(symbol);
                vstack.push(this.lexer.yytext);
                stack.push(action[1]); // push state
                symbol = null;
                if (!preErrorSymbol) { // normal execution/no error
                    yyleng = this.lexer.yyleng;
                    yytext = this.lexer.yytext;
                    yylineno = this.lexer.yylineno;
                    if (recovering > 0)
                        recovering--;
                } else { // error just occurred, resume old lookahead f/ before error
                    symbol = preErrorSymbol;
                    preErrorSymbol = null;
                }
                break;

            case 2: // reduce
                //this.reductionCount++;

                len = this.productions_[action[1]][1];

                // perform semantic action
                yyval.$ = vstack[vstack.length-len]; // default to $$ = $1
                r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack);

                if (typeof r !== 'undefined') {
                    return r;
                }

                // pop off stack
                if (len) {
                    stack = stack.slice(0,-1*len*2);
                    vstack = vstack.slice(0, -1*len);
                }

                stack.push(this.productions_[action[1]][0]);    // push nonterminal (reduce)
                vstack.push(yyval.$);
                // goto new state = table[STATE][NONTERMINAL]
                newState = table[stack[stack.length-2]][stack[stack.length-1]];
                stack.push(newState);
                break;

            case 3: // accept
                return true;
        }

    }

    return true;
}};


},{}],13:[function(require,module,exports){
// Generated by LiveScript 1.3.1
var path, stripString, nameFromPath;
path = require('path');
stripString = function(val){
  var that;
  if (that = /^['"](.*)['"]$/.exec(val.trim())) {
    return that[1];
  } else {
    return val;
  }
};
nameFromPath = function(modulePath){
  return path.basename(stripString(modulePath)).split('.')[0].replace(/-[a-z]/ig, function(it){
    return it.charAt(1).toUpperCase();
  });
};
module.exports = {
  nameFromPath: nameFromPath,
  stripString: stripString
};
},{"path":22}],14:[function(require,module,exports){
module.exports=require(2)
},{"/Users/lakmeer/Projects/node_modules/prelude-ls/lib/Func.js":2}],15:[function(require,module,exports){
module.exports=require(3)
},{"/Users/lakmeer/Projects/node_modules/prelude-ls/lib/List.js":3}],16:[function(require,module,exports){
module.exports=require(4)
},{"/Users/lakmeer/Projects/node_modules/prelude-ls/lib/Num.js":4}],17:[function(require,module,exports){
module.exports=require(5)
},{"/Users/lakmeer/Projects/node_modules/prelude-ls/lib/Obj.js":5}],18:[function(require,module,exports){
module.exports=require(6)
},{"/Users/lakmeer/Projects/node_modules/prelude-ls/lib/Str.js":6}],19:[function(require,module,exports){
module.exports=require(7)
},{"./Func.js":14,"./List.js":15,"./Num.js":16,"./Obj.js":17,"./Str.js":18,"/Users/lakmeer/Projects/node_modules/prelude-ls/lib/index.js":7}],20:[function(require,module,exports){

},{}],21:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

function EventEmitter() {
  this._events = this._events || {};
  this._maxListeners = this._maxListeners || undefined;
}
module.exports = EventEmitter;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
EventEmitter.defaultMaxListeners = 10;

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function(n) {
  if (!isNumber(n) || n < 0 || isNaN(n))
    throw TypeError('n must be a positive number');
  this._maxListeners = n;
  return this;
};

EventEmitter.prototype.emit = function(type) {
  var er, handler, len, args, i, listeners;

  if (!this._events)
    this._events = {};

  // If there is no 'error' event listener then throw.
  if (type === 'error') {
    if (!this._events.error ||
        (isObject(this._events.error) && !this._events.error.length)) {
      er = arguments[1];
      if (er instanceof Error) {
        throw er; // Unhandled 'error' event
      }
      throw TypeError('Uncaught, unspecified "error" event.');
    }
  }

  handler = this._events[type];

  if (isUndefined(handler))
    return false;

  if (isFunction(handler)) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        len = arguments.length;
        args = new Array(len - 1);
        for (i = 1; i < len; i++)
          args[i - 1] = arguments[i];
        handler.apply(this, args);
    }
  } else if (isObject(handler)) {
    len = arguments.length;
    args = new Array(len - 1);
    for (i = 1; i < len; i++)
      args[i - 1] = arguments[i];

    listeners = handler.slice();
    len = listeners.length;
    for (i = 0; i < len; i++)
      listeners[i].apply(this, args);
  }

  return true;
};

EventEmitter.prototype.addListener = function(type, listener) {
  var m;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events)
    this._events = {};

  // To avoid recursion in the case that type === "newListener"! Before
  // adding it to the listeners, first emit "newListener".
  if (this._events.newListener)
    this.emit('newListener', type,
              isFunction(listener.listener) ?
              listener.listener : listener);

  if (!this._events[type])
    // Optimize the case of one listener. Don't need the extra array object.
    this._events[type] = listener;
  else if (isObject(this._events[type]))
    // If we've already got an array, just append.
    this._events[type].push(listener);
  else
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];

  // Check for listener leak
  if (isObject(this._events[type]) && !this._events[type].warned) {
    var m;
    if (!isUndefined(this._maxListeners)) {
      m = this._maxListeners;
    } else {
      m = EventEmitter.defaultMaxListeners;
    }

    if (m && m > 0 && this._events[type].length > m) {
      this._events[type].warned = true;
      console.error('(node) warning: possible EventEmitter memory ' +
                    'leak detected. %d listeners added. ' +
                    'Use emitter.setMaxListeners() to increase limit.',
                    this._events[type].length);
      if (typeof console.trace === 'function') {
        // not supported in IE 10
        console.trace();
      }
    }
  }

  return this;
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.once = function(type, listener) {
  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  var fired = false;

  function g() {
    this.removeListener(type, g);

    if (!fired) {
      fired = true;
      listener.apply(this, arguments);
    }
  }

  g.listener = listener;
  this.on(type, g);

  return this;
};

// emits a 'removeListener' event iff the listener was removed
EventEmitter.prototype.removeListener = function(type, listener) {
  var list, position, length, i;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events || !this._events[type])
    return this;

  list = this._events[type];
  length = list.length;
  position = -1;

  if (list === listener ||
      (isFunction(list.listener) && list.listener === listener)) {
    delete this._events[type];
    if (this._events.removeListener)
      this.emit('removeListener', type, listener);

  } else if (isObject(list)) {
    for (i = length; i-- > 0;) {
      if (list[i] === listener ||
          (list[i].listener && list[i].listener === listener)) {
        position = i;
        break;
      }
    }

    if (position < 0)
      return this;

    if (list.length === 1) {
      list.length = 0;
      delete this._events[type];
    } else {
      list.splice(position, 1);
    }

    if (this._events.removeListener)
      this.emit('removeListener', type, listener);
  }

  return this;
};

EventEmitter.prototype.removeAllListeners = function(type) {
  var key, listeners;

  if (!this._events)
    return this;

  // not listening for removeListener, no need to emit
  if (!this._events.removeListener) {
    if (arguments.length === 0)
      this._events = {};
    else if (this._events[type])
      delete this._events[type];
    return this;
  }

  // emit removeListener for all listeners on all events
  if (arguments.length === 0) {
    for (key in this._events) {
      if (key === 'removeListener') continue;
      this.removeAllListeners(key);
    }
    this.removeAllListeners('removeListener');
    this._events = {};
    return this;
  }

  listeners = this._events[type];

  if (isFunction(listeners)) {
    this.removeListener(type, listeners);
  } else {
    // LIFO order
    while (listeners.length)
      this.removeListener(type, listeners[listeners.length - 1]);
  }
  delete this._events[type];

  return this;
};

EventEmitter.prototype.listeners = function(type) {
  var ret;
  if (!this._events || !this._events[type])
    ret = [];
  else if (isFunction(this._events[type]))
    ret = [this._events[type]];
  else
    ret = this._events[type].slice();
  return ret;
};

EventEmitter.listenerCount = function(emitter, type) {
  var ret;
  if (!emitter._events || !emitter._events[type])
    ret = 0;
  else if (isFunction(emitter._events[type]))
    ret = 1;
  else
    ret = emitter._events[type].length;
  return ret;
};

function isFunction(arg) {
  return typeof arg === 'function';
}

function isNumber(arg) {
  return typeof arg === 'number';
}

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}

function isUndefined(arg) {
  return arg === void 0;
}

},{}],22:[function(require,module,exports){
(function (process){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

// resolves . and .. elements in a path array with directory names there
// must be no slashes, empty elements, or device names (c:\) in the array
// (so also no leading and trailing slashes - it does not distinguish
// relative and absolute paths)
function normalizeArray(parts, allowAboveRoot) {
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = parts.length - 1; i >= 0; i--) {
    var last = parts[i];
    if (last === '.') {
      parts.splice(i, 1);
    } else if (last === '..') {
      parts.splice(i, 1);
      up++;
    } else if (up) {
      parts.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (allowAboveRoot) {
    for (; up--; up) {
      parts.unshift('..');
    }
  }

  return parts;
}

// Split a filename into [root, dir, basename, ext], unix version
// 'root' is just a slash, or nothing.
var splitPathRe =
    /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
var splitPath = function(filename) {
  return splitPathRe.exec(filename).slice(1);
};

// path.resolve([from ...], to)
// posix version
exports.resolve = function() {
  var resolvedPath = '',
      resolvedAbsolute = false;

  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    var path = (i >= 0) ? arguments[i] : process.cwd();

    // Skip empty and invalid entries
    if (typeof path !== 'string') {
      throw new TypeError('Arguments to path.resolve must be strings');
    } else if (!path) {
      continue;
    }

    resolvedPath = path + '/' + resolvedPath;
    resolvedAbsolute = path.charAt(0) === '/';
  }

  // At this point the path should be resolved to a full absolute path, but
  // handle relative paths to be safe (might happen when process.cwd() fails)

  // Normalize the path
  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {
    return !!p;
  }), !resolvedAbsolute).join('/');

  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';
};

// path.normalize(path)
// posix version
exports.normalize = function(path) {
  var isAbsolute = exports.isAbsolute(path),
      trailingSlash = substr(path, -1) === '/';

  // Normalize the path
  path = normalizeArray(filter(path.split('/'), function(p) {
    return !!p;
  }), !isAbsolute).join('/');

  if (!path && !isAbsolute) {
    path = '.';
  }
  if (path && trailingSlash) {
    path += '/';
  }

  return (isAbsolute ? '/' : '') + path;
};

// posix version
exports.isAbsolute = function(path) {
  return path.charAt(0) === '/';
};

// posix version
exports.join = function() {
  var paths = Array.prototype.slice.call(arguments, 0);
  return exports.normalize(filter(paths, function(p, index) {
    if (typeof p !== 'string') {
      throw new TypeError('Arguments to path.join must be strings');
    }
    return p;
  }).join('/'));
};


// path.relative(from, to)
// posix version
exports.relative = function(from, to) {
  from = exports.resolve(from).substr(1);
  to = exports.resolve(to).substr(1);

  function trim(arr) {
    var start = 0;
    for (; start < arr.length; start++) {
      if (arr[start] !== '') break;
    }

    var end = arr.length - 1;
    for (; end >= 0; end--) {
      if (arr[end] !== '') break;
    }

    if (start > end) return [];
    return arr.slice(start, end - start + 1);
  }

  var fromParts = trim(from.split('/'));
  var toParts = trim(to.split('/'));

  var length = Math.min(fromParts.length, toParts.length);
  var samePartsLength = length;
  for (var i = 0; i < length; i++) {
    if (fromParts[i] !== toParts[i]) {
      samePartsLength = i;
      break;
    }
  }

  var outputParts = [];
  for (var i = samePartsLength; i < fromParts.length; i++) {
    outputParts.push('..');
  }

  outputParts = outputParts.concat(toParts.slice(samePartsLength));

  return outputParts.join('/');
};

exports.sep = '/';
exports.delimiter = ':';

exports.dirname = function(path) {
  var result = splitPath(path),
      root = result[0],
      dir = result[1];

  if (!root && !dir) {
    // No dirname whatsoever
    return '.';
  }

  if (dir) {
    // It has a dirname, strip trailing slash
    dir = dir.substr(0, dir.length - 1);
  }

  return root + dir;
};


exports.basename = function(path, ext) {
  var f = splitPath(path)[2];
  // TODO: make this comparison case-insensitive on windows?
  if (ext && f.substr(-1 * ext.length) === ext) {
    f = f.substr(0, f.length - ext.length);
  }
  return f;
};


exports.extname = function(path) {
  return splitPath(path)[3];
};

function filter (xs, f) {
    if (xs.filter) return xs.filter(f);
    var res = [];
    for (var i = 0; i < xs.length; i++) {
        if (f(xs[i], i, xs)) res.push(xs[i]);
    }
    return res;
}

// String.prototype.substr - negative index don't work in IE8
var substr = 'ab'.substr(-1) === 'b'
    ? function (str, start, len) { return str.substr(start, len) }
    : function (str, start, len) {
        if (start < 0) start = str.length + start;
        return str.substr(start, len);
    }
;

}).call(this,require('_process'))
},{"_process":23}],23:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};

process.nextTick = (function () {
    var canSetImmediate = typeof window !== 'undefined'
    && window.setImmediate;
    var canPost = typeof window !== 'undefined'
    && window.postMessage && window.addEventListener
    ;

    if (canSetImmediate) {
        return function (f) { return window.setImmediate(f) };
    }

    if (canPost) {
        var queue = [];
        window.addEventListener('message', function (ev) {
            var source = ev.source;
            if ((source === window || source === null) && ev.data === 'process-tick') {
                ev.stopPropagation();
                if (queue.length > 0) {
                    var fn = queue.shift();
                    fn();
                }
            }
        }, true);

        return function nextTick(fn) {
            queue.push(fn);
            window.postMessage('process-tick', '*');
        };
    }

    return function nextTick(fn) {
        setTimeout(fn, 0);
    };
})();

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
}

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};

},{}],24:[function(require,module,exports){
var indexOf = require('indexof');

var Object_keys = function (obj) {
    if (Object.keys) return Object.keys(obj)
    else {
        var res = [];
        for (var key in obj) res.push(key)
        return res;
    }
};

var forEach = function (xs, fn) {
    if (xs.forEach) return xs.forEach(fn)
    else for (var i = 0; i < xs.length; i++) {
        fn(xs[i], i, xs);
    }
};

var defineProp = (function() {
    try {
        Object.defineProperty({}, '_', {});
        return function(obj, name, value) {
            Object.defineProperty(obj, name, {
                writable: true,
                enumerable: false,
                configurable: true,
                value: value
            })
        };
    } catch(e) {
        return function(obj, name, value) {
            obj[name] = value;
        };
    }
}());

var globals = ['Array', 'Boolean', 'Date', 'Error', 'EvalError', 'Function',
'Infinity', 'JSON', 'Math', 'NaN', 'Number', 'Object', 'RangeError',
'ReferenceError', 'RegExp', 'String', 'SyntaxError', 'TypeError', 'URIError',
'decodeURI', 'decodeURIComponent', 'encodeURI', 'encodeURIComponent', 'escape',
'eval', 'isFinite', 'isNaN', 'parseFloat', 'parseInt', 'undefined', 'unescape'];

function Context() {}
Context.prototype = {};

var Script = exports.Script = function NodeScript (code) {
    if (!(this instanceof Script)) return new Script(code);
    this.code = code;
};

Script.prototype.runInContext = function (context) {
    if (!(context instanceof Context)) {
        throw new TypeError("needs a 'context' argument.");
    }
    
    var iframe = document.createElement('iframe');
    if (!iframe.style) iframe.style = {};
    iframe.style.display = 'none';
    
    document.body.appendChild(iframe);
    
    var win = iframe.contentWindow;
    var wEval = win.eval, wExecScript = win.execScript;

    if (!wEval && wExecScript) {
        // win.eval() magically appears when this is called in IE:
        wExecScript.call(win, 'null');
        wEval = win.eval;
    }
    
    forEach(Object_keys(context), function (key) {
        win[key] = context[key];
    });
    forEach(globals, function (key) {
        if (context[key]) {
            win[key] = context[key];
        }
    });
    
    var winKeys = Object_keys(win);

    var res = wEval.call(win, this.code);
    
    forEach(Object_keys(win), function (key) {
        // Avoid copying circular objects like `top` and `window` by only
        // updating existing context properties or new properties in the `win`
        // that was only introduced after the eval.
        if (key in context || indexOf(winKeys, key) === -1) {
            context[key] = win[key];
        }
    });

    forEach(globals, function (key) {
        if (!(key in context)) {
            defineProp(context, key, win[key]);
        }
    });
    
    document.body.removeChild(iframe);
    
    return res;
};

Script.prototype.runInThisContext = function () {
    return eval(this.code); // maybe...
};

Script.prototype.runInNewContext = function (context) {
    var ctx = Script.createContext(context);
    var res = this.runInContext(ctx);

    forEach(Object_keys(ctx), function (key) {
        context[key] = ctx[key];
    });

    return res;
};

forEach(Object_keys(Script.prototype), function (name) {
    exports[name] = Script[name] = function (code) {
        var s = Script(code);
        return s[name].apply(s, [].slice.call(arguments, 1));
    };
});

exports.createScript = function (code) {
    return exports.Script(code);
};

exports.createContext = Script.createContext = function (context) {
    var copy = new Context();
    if(typeof context === 'object') {
        forEach(Object_keys(context), function (key) {
            copy[key] = context[key];
        });
    }
    return copy;
};

},{"indexof":25}],25:[function(require,module,exports){

var indexOf = [].indexOf;

module.exports = function(arr, obj){
  if (indexOf) return arr.indexOf(obj);
  for (var i = 0; i < arr.length; ++i) {
    if (arr[i] === obj) return i;
  }
  return -1;
};
},{}],26:[function(require,module,exports){
// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

// This is CodeMirror (http://codemirror.net), a code editor
// implemented in JavaScript on top of the browser's DOM.
//
// You can find some technical background for some of the code below
// at http://marijnhaverbeke.nl/blog/#cm-internals .

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    module.exports = mod();
  else if (typeof define == "function" && define.amd) // AMD
    return define([], mod);
  else // Plain browser env
    this.CodeMirror = mod();
})(function() {
  "use strict";

  // BROWSER SNIFFING

  // Kludges for bugs and behavior differences that can't be feature
  // detected are enabled based on userAgent etc sniffing.

  var gecko = /gecko\/\d/i.test(navigator.userAgent);
  // ie_uptoN means Internet Explorer version N or lower
  var ie_upto10 = /MSIE \d/.test(navigator.userAgent);
  var ie_11up = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);
  var ie = ie_upto10 || ie_11up;
  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : ie_11up[1]);
  var webkit = /WebKit\//.test(navigator.userAgent);
  var qtwebkit = webkit && /Qt\/\d+\.\d+/.test(navigator.userAgent);
  var chrome = /Chrome\//.test(navigator.userAgent);
  var presto = /Opera\//.test(navigator.userAgent);
  var safari = /Apple Computer/.test(navigator.vendor);
  var khtml = /KHTML\//.test(navigator.userAgent);
  var mac_geMountainLion = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);
  var phantom = /PhantomJS/.test(navigator.userAgent);

  var ios = /AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent);
  // This is woefully incomplete. Suggestions for alternative methods welcome.
  var mobile = ios || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);
  var mac = ios || /Mac/.test(navigator.platform);
  var windows = /win/i.test(navigator.platform);

  var presto_version = presto && navigator.userAgent.match(/Version\/(\d*\.\d*)/);
  if (presto_version) presto_version = Number(presto_version[1]);
  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }
  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X
  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));
  var captureRightClick = gecko || (ie && ie_version >= 9);

  // Optimize some code when these features are not used.
  var sawReadOnlySpans = false, sawCollapsedSpans = false;

  // EDITOR CONSTRUCTOR

  // A CodeMirror instance represents an editor. This is the object
  // that user code is usually dealing with.

  function CodeMirror(place, options) {
    if (!(this instanceof CodeMirror)) return new CodeMirror(place, options);

    this.options = options = options ? copyObj(options) : {};
    // Determine effective options based on given values and defaults.
    copyObj(defaults, options, false);
    setGuttersForLineNumbers(options);

    var doc = options.value;
    if (typeof doc == "string") doc = new Doc(doc, options.mode);
    this.doc = doc;

    var display = this.display = new Display(place, doc);
    display.wrapper.CodeMirror = this;
    updateGutters(this);
    themeChanged(this);
    if (options.lineWrapping)
      this.display.wrapper.className += " CodeMirror-wrap";
    if (options.autofocus && !mobile) focusInput(this);

    this.state = {
      keyMaps: [],  // stores maps added by addKeyMap
      overlays: [], // highlighting overlays, as added by addOverlay
      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info
      overwrite: false, focused: false,
      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode
      pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in readInput
      draggingText: false,
      highlight: new Delayed() // stores highlight worker timeout
    };

    // Override magic textarea content restore that IE sometimes does
    // on our hidden textarea on reload
    if (ie && ie_version < 11) setTimeout(bind(resetInput, this, true), 20);

    registerEventHandlers(this);
    ensureGlobalHandlers();

    startOperation(this);
    this.curOp.forceUpdate = true;
    attachDoc(this, doc);

    if ((options.autofocus && !mobile) || activeElt() == display.input)
      setTimeout(bind(onFocus, this), 20);
    else
      onBlur(this);

    for (var opt in optionHandlers) if (optionHandlers.hasOwnProperty(opt))
      optionHandlers[opt](this, options[opt], Init);
    maybeUpdateLineNumberWidth(this);
    for (var i = 0; i < initHooks.length; ++i) initHooks[i](this);
    endOperation(this);
  }

  // DISPLAY CONSTRUCTOR

  // The display handles the DOM integration, both for input reading
  // and content drawing. It holds references to DOM nodes and
  // display-related state.

  function Display(place, doc) {
    var d = this;

    // The semihidden textarea that is focused when the editor is
    // focused, and receives input.
    var input = d.input = elt("textarea", null, null, "position: absolute; padding: 0; width: 1px; height: 1em; outline: none");
    // The textarea is kept positioned near the cursor to prevent the
    // fact that it'll be scrolled into view on input from scrolling
    // our fake cursor out of view. On webkit, when wrap=off, paste is
    // very slow. So make the area wide instead.
    if (webkit) input.style.width = "1000px";
    else input.setAttribute("wrap", "off");
    // If border: 0; -- iOS fails to open keyboard (issue #1287)
    if (ios) input.style.border = "1px solid black";
    input.setAttribute("autocorrect", "off"); input.setAttribute("autocapitalize", "off"); input.setAttribute("spellcheck", "false");

    // Wraps and hides input textarea
    d.inputDiv = elt("div", [input], null, "overflow: hidden; position: relative; width: 3px; height: 0px;");
    // The fake scrollbar elements.
    d.scrollbarH = elt("div", [elt("div", null, null, "height: 100%; min-height: 1px")], "CodeMirror-hscrollbar");
    d.scrollbarV = elt("div", [elt("div", null, null, "min-width: 1px")], "CodeMirror-vscrollbar");
    // Covers bottom-right square when both scrollbars are present.
    d.scrollbarFiller = elt("div", null, "CodeMirror-scrollbar-filler");
    // Covers bottom of gutter when coverGutterNextToScrollbar is on
    // and h scrollbar is present.
    d.gutterFiller = elt("div", null, "CodeMirror-gutter-filler");
    // Will contain the actual code, positioned to cover the viewport.
    d.lineDiv = elt("div", null, "CodeMirror-code");
    // Elements are added to these to represent selection and cursors.
    d.selectionDiv = elt("div", null, null, "position: relative; z-index: 1");
    d.cursorDiv = elt("div", null, "CodeMirror-cursors");
    // A visibility: hidden element used to find the size of things.
    d.measure = elt("div", null, "CodeMirror-measure");
    // When lines outside of the viewport are measured, they are drawn in this.
    d.lineMeasure = elt("div", null, "CodeMirror-measure");
    // Wraps everything that needs to exist inside the vertically-padded coordinate system
    d.lineSpace = elt("div", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],
                      null, "position: relative; outline: none");
    // Moved around its parent to cover visible view.
    d.mover = elt("div", [elt("div", [d.lineSpace], "CodeMirror-lines")], null, "position: relative");
    // Set to the height of the document, allowing scrolling.
    d.sizer = elt("div", [d.mover], "CodeMirror-sizer");
    // Behavior of elts with overflow: auto and padding is
    // inconsistent across browsers. This is used to ensure the
    // scrollable area is big enough.
    d.heightForcer = elt("div", null, null, "position: absolute; height: " + scrollerCutOff + "px; width: 1px;");
    // Will contain the gutters, if any.
    d.gutters = elt("div", null, "CodeMirror-gutters");
    d.lineGutter = null;
    // Actual scrollable element.
    d.scroller = elt("div", [d.sizer, d.heightForcer, d.gutters], "CodeMirror-scroll");
    d.scroller.setAttribute("tabIndex", "-1");
    // The element in which the editor lives.
    d.wrapper = elt("div", [d.inputDiv, d.scrollbarH, d.scrollbarV,
                            d.scrollbarFiller, d.gutterFiller, d.scroller], "CodeMirror");

    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)
    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }
    // Needed to hide big blue blinking cursor on Mobile Safari
    if (ios) input.style.width = "0px";
    if (!webkit) d.scroller.draggable = true;
    // Needed to handle Tab key in KHTML
    if (khtml) { d.inputDiv.style.height = "1px"; d.inputDiv.style.position = "absolute"; }
    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).
    if (ie && ie_version < 8) d.scrollbarH.style.minHeight = d.scrollbarV.style.minWidth = "18px";

    if (place.appendChild) place.appendChild(d.wrapper);
    else place(d.wrapper);

    // Current rendered range (may be bigger than the view window).
    d.viewFrom = d.viewTo = doc.first;
    // Information about the rendered lines.
    d.view = [];
    // Holds info about a single rendered line when it was rendered
    // for measurement, while not in view.
    d.externalMeasured = null;
    // Empty space (in pixels) above the view
    d.viewOffset = 0;
    d.lastSizeC = 0;
    d.updateLineNumbers = null;

    // Used to only resize the line number gutter when necessary (when
    // the amount of lines crosses a boundary that makes its width change)
    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;
    // See readInput and resetInput
    d.prevInput = "";
    // Set to true when a non-horizontal-scrolling line widget is
    // added. As an optimization, line widget aligning is skipped when
    // this is false.
    d.alignWidgets = false;
    // Flag that indicates whether we expect input to appear real soon
    // now (after some event like 'keypress' or 'input') and are
    // polling intensively.
    d.pollingFast = false;
    // Self-resetting timeout for the poller
    d.poll = new Delayed();

    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;

    // Tracks when resetInput has punted to just putting a short
    // string into the textarea instead of the full selection.
    d.inaccurateSelection = false;

    // Tracks the maximum line length so that the horizontal scrollbar
    // can be kept static when scrolling.
    d.maxLine = null;
    d.maxLineLength = 0;
    d.maxLineChanged = false;

    // Used for measuring wheel scrolling granularity
    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;

    // True when shift is held down.
    d.shift = false;

    // Used to track whether anything happened since the context menu
    // was opened.
    d.selForContextMenu = null;
  }

  // STATE UPDATES

  // Used to get the editor into a consistent state again when options change.

  function loadMode(cm) {
    cm.doc.mode = CodeMirror.getMode(cm.options, cm.doc.modeOption);
    resetModeState(cm);
  }

  function resetModeState(cm) {
    cm.doc.iter(function(line) {
      if (line.stateAfter) line.stateAfter = null;
      if (line.styles) line.styles = null;
    });
    cm.doc.frontier = cm.doc.first;
    startWorker(cm, 100);
    cm.state.modeGen++;
    if (cm.curOp) regChange(cm);
  }

  function wrappingChanged(cm) {
    if (cm.options.lineWrapping) {
      addClass(cm.display.wrapper, "CodeMirror-wrap");
      cm.display.sizer.style.minWidth = "";
    } else {
      rmClass(cm.display.wrapper, "CodeMirror-wrap");
      findMaxLine(cm);
    }
    estimateLineHeights(cm);
    regChange(cm);
    clearCaches(cm);
    setTimeout(function(){updateScrollbars(cm);}, 100);
  }

  // Returns a function that estimates the height of a line, to use as
  // first approximation until the line becomes visible (and is thus
  // properly measurable).
  function estimateHeight(cm) {
    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;
    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);
    return function(line) {
      if (lineIsHidden(cm.doc, line)) return 0;

      var widgetsHeight = 0;
      if (line.widgets) for (var i = 0; i < line.widgets.length; i++) {
        if (line.widgets[i].height) widgetsHeight += line.widgets[i].height;
      }

      if (wrapping)
        return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th;
      else
        return widgetsHeight + th;
    };
  }

  function estimateLineHeights(cm) {
    var doc = cm.doc, est = estimateHeight(cm);
    doc.iter(function(line) {
      var estHeight = est(line);
      if (estHeight != line.height) updateLineHeight(line, estHeight);
    });
  }

  function keyMapChanged(cm) {
    var map = keyMap[cm.options.keyMap], style = map.style;
    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\s*cm-keymap-\S+/g, "") +
      (style ? " cm-keymap-" + style : "");
  }

  function themeChanged(cm) {
    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") +
      cm.options.theme.replace(/(^|\s)\s*/g, " cm-s-");
    clearCaches(cm);
  }

  function guttersChanged(cm) {
    updateGutters(cm);
    regChange(cm);
    setTimeout(function(){alignHorizontally(cm);}, 20);
  }

  // Rebuild the gutter elements, ensure the margin to the left of the
  // code matches their width.
  function updateGutters(cm) {
    var gutters = cm.display.gutters, specs = cm.options.gutters;
    removeChildren(gutters);
    for (var i = 0; i < specs.length; ++i) {
      var gutterClass = specs[i];
      var gElt = gutters.appendChild(elt("div", null, "CodeMirror-gutter " + gutterClass));
      if (gutterClass == "CodeMirror-linenumbers") {
        cm.display.lineGutter = gElt;
        gElt.style.width = (cm.display.lineNumWidth || 1) + "px";
      }
    }
    gutters.style.display = i ? "" : "none";
    updateGutterSpace(cm);
  }

  function updateGutterSpace(cm) {
    var width = cm.display.gutters.offsetWidth;
    cm.display.sizer.style.marginLeft = width + "px";
    cm.display.scrollbarH.style.left = cm.options.fixedGutter ? width + "px" : 0;
  }

  // Compute the character length of a line, taking into account
  // collapsed ranges (see markText) that might hide parts, and join
  // other lines onto it.
  function lineLength(line) {
    if (line.height == 0) return 0;
    var len = line.text.length, merged, cur = line;
    while (merged = collapsedSpanAtStart(cur)) {
      var found = merged.find(0, true);
      cur = found.from.line;
      len += found.from.ch - found.to.ch;
    }
    cur = line;
    while (merged = collapsedSpanAtEnd(cur)) {
      var found = merged.find(0, true);
      len -= cur.text.length - found.from.ch;
      cur = found.to.line;
      len += cur.text.length - found.to.ch;
    }
    return len;
  }

  // Find the longest line in the document.
  function findMaxLine(cm) {
    var d = cm.display, doc = cm.doc;
    d.maxLine = getLine(doc, doc.first);
    d.maxLineLength = lineLength(d.maxLine);
    d.maxLineChanged = true;
    doc.iter(function(line) {
      var len = lineLength(line);
      if (len > d.maxLineLength) {
        d.maxLineLength = len;
        d.maxLine = line;
      }
    });
  }

  // Make sure the gutters options contains the element
  // "CodeMirror-linenumbers" when the lineNumbers option is true.
  function setGuttersForLineNumbers(options) {
    var found = indexOf(options.gutters, "CodeMirror-linenumbers");
    if (found == -1 && options.lineNumbers) {
      options.gutters = options.gutters.concat(["CodeMirror-linenumbers"]);
    } else if (found > -1 && !options.lineNumbers) {
      options.gutters = options.gutters.slice(0);
      options.gutters.splice(found, 1);
    }
  }

  // SCROLLBARS

  function hScrollbarTakesSpace(cm) {
    return cm.display.scroller.clientHeight - cm.display.wrapper.clientHeight < scrollerCutOff - 3;
  }

  // Prepare DOM reads needed to update the scrollbars. Done in one
  // shot to minimize update/measure roundtrips.
  function measureForScrollbars(cm) {
    var scroll = cm.display.scroller;
    return {
      clientHeight: scroll.clientHeight,
      barHeight: cm.display.scrollbarV.clientHeight,
      scrollWidth: scroll.scrollWidth, clientWidth: scroll.clientWidth,
      hScrollbarTakesSpace: hScrollbarTakesSpace(cm),
      barWidth: cm.display.scrollbarH.clientWidth,
      docHeight: Math.round(cm.doc.height + paddingVert(cm.display))
    };
  }

  // Re-synchronize the fake scrollbars with the actual size of the
  // content.
  function updateScrollbars(cm, measure) {
    if (!measure) measure = measureForScrollbars(cm);
    var d = cm.display, sWidth = scrollbarWidth(d.measure);
    var scrollHeight = measure.docHeight + scrollerCutOff;
    var needsH = measure.scrollWidth > measure.clientWidth;
    if (needsH && measure.scrollWidth <= measure.clientWidth + 1 &&
        sWidth > 0 && !measure.hScrollbarTakesSpace)
      needsH = false; // (Issue #2562)
    var needsV = scrollHeight > measure.clientHeight;

    if (needsV) {
      d.scrollbarV.style.display = "block";
      d.scrollbarV.style.bottom = needsH ? sWidth + "px" : "0";
      // A bug in IE8 can cause this value to be negative, so guard it.
      d.scrollbarV.firstChild.style.height =
        Math.max(0, scrollHeight - measure.clientHeight + (measure.barHeight || d.scrollbarV.clientHeight)) + "px";
    } else {
      d.scrollbarV.style.display = "";
      d.scrollbarV.firstChild.style.height = "0";
    }
    if (needsH) {
      d.scrollbarH.style.display = "block";
      d.scrollbarH.style.right = needsV ? sWidth + "px" : "0";
      d.scrollbarH.firstChild.style.width =
        (measure.scrollWidth - measure.clientWidth + (measure.barWidth || d.scrollbarH.clientWidth)) + "px";
    } else {
      d.scrollbarH.style.display = "";
      d.scrollbarH.firstChild.style.width = "0";
    }
    if (needsH && needsV) {
      d.scrollbarFiller.style.display = "block";
      d.scrollbarFiller.style.height = d.scrollbarFiller.style.width = sWidth + "px";
    } else d.scrollbarFiller.style.display = "";
    if (needsH && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {
      d.gutterFiller.style.display = "block";
      d.gutterFiller.style.height = sWidth + "px";
      d.gutterFiller.style.width = d.gutters.offsetWidth + "px";
    } else d.gutterFiller.style.display = "";

    if (!cm.state.checkedOverlayScrollbar && measure.clientHeight > 0) {
      if (sWidth === 0) {
        var w = mac && !mac_geMountainLion ? "12px" : "18px";
        d.scrollbarV.style.minWidth = d.scrollbarH.style.minHeight = w;
        var barMouseDown = function(e) {
          if (e_target(e) != d.scrollbarV && e_target(e) != d.scrollbarH)
            operation(cm, onMouseDown)(e);
        };
        on(d.scrollbarV, "mousedown", barMouseDown);
        on(d.scrollbarH, "mousedown", barMouseDown);
      }
      cm.state.checkedOverlayScrollbar = true;
    }
  }

  // Compute the lines that are visible in a given viewport (defaults
  // the the current scroll position). viewport may contain top,
  // height, and ensure (see op.scrollToPos) properties.
  function visibleLines(display, doc, viewport) {
    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;
    top = Math.floor(top - paddingTop(display));
    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;

    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);
    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and
    // forces those lines into the viewport (if possible).
    if (viewport && viewport.ensure) {
      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;
      if (ensureFrom < from)
        return {from: ensureFrom,
                to: lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight)};
      if (Math.min(ensureTo, doc.lastLine()) >= to)
        return {from: lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight),
                to: ensureTo};
    }
    return {from: from, to: Math.max(to, from + 1)};
  }

  // LINE NUMBERS

  // Re-align line numbers and gutter marks to compensate for
  // horizontal scrolling.
  function alignHorizontally(cm) {
    var display = cm.display, view = display.view;
    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) return;
    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;
    var gutterW = display.gutters.offsetWidth, left = comp + "px";
    for (var i = 0; i < view.length; i++) if (!view[i].hidden) {
      if (cm.options.fixedGutter && view[i].gutter)
        view[i].gutter.style.left = left;
      var align = view[i].alignable;
      if (align) for (var j = 0; j < align.length; j++)
        align[j].style.left = left;
    }
    if (cm.options.fixedGutter)
      display.gutters.style.left = (comp + gutterW) + "px";
  }

  // Used to ensure that the line number gutter is still the right
  // size for the current document size. Returns true when an update
  // is needed.
  function maybeUpdateLineNumberWidth(cm) {
    if (!cm.options.lineNumbers) return false;
    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;
    if (last.length != display.lineNumChars) {
      var test = display.measure.appendChild(elt("div", [elt("div", last)],
                                                 "CodeMirror-linenumber CodeMirror-gutter-elt"));
      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;
      display.lineGutter.style.width = "";
      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding);
      display.lineNumWidth = display.lineNumInnerWidth + padding;
      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;
      display.lineGutter.style.width = display.lineNumWidth + "px";
      updateGutterSpace(cm);
      return true;
    }
    return false;
  }

  function lineNumberFor(options, i) {
    return String(options.lineNumberFormatter(i + options.firstLineNumber));
  }

  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,
  // but using getBoundingClientRect to get a sub-pixel-accurate
  // result.
  function compensateForHScroll(display) {
    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left;
  }

  // DISPLAY DRAWING

  function DisplayUpdate(cm, viewport, force) {
    var display = cm.display;

    this.viewport = viewport;
    // Store some values that we'll need later (but don't want to force a relayout for)
    this.visible = visibleLines(display, cm.doc, viewport);
    this.editorIsHidden = !display.wrapper.offsetWidth;
    this.wrapperHeight = display.wrapper.clientHeight;
    this.oldViewFrom = display.viewFrom; this.oldViewTo = display.viewTo;
    this.oldScrollerWidth = display.scroller.clientWidth;
    this.force = force;
    this.dims = getDimensions(cm);
  }

  // Does the actual updating of the line display. Bails out
  // (returning false) when there is nothing to be done and forced is
  // false.
  function updateDisplayIfNeeded(cm, update) {
    var display = cm.display, doc = cm.doc;
    if (update.editorIsHidden) {
      resetView(cm);
      return false;
    }

    // Bail out if the visible area is already rendered and nothing changed.
    if (!update.force &&
        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&
        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&
        countDirtyView(cm) == 0)
      return false;

    if (maybeUpdateLineNumberWidth(cm)) {
      resetView(cm);
      update.dims = getDimensions(cm);
    }

    // Compute a suitable new viewport (from & to)
    var end = doc.first + doc.size;
    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);
    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);
    if (display.viewFrom < from && from - display.viewFrom < 20) from = Math.max(doc.first, display.viewFrom);
    if (display.viewTo > to && display.viewTo - to < 20) to = Math.min(end, display.viewTo);
    if (sawCollapsedSpans) {
      from = visualLineNo(cm.doc, from);
      to = visualLineEndNo(cm.doc, to);
    }

    var different = from != display.viewFrom || to != display.viewTo ||
      display.lastSizeC != update.wrapperHeight;
    adjustView(cm, from, to);

    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));
    // Position the mover div to align with the current scroll position
    cm.display.mover.style.top = display.viewOffset + "px";

    var toUpdate = countDirtyView(cm);
    if (!different && toUpdate == 0 && !update.force &&
        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))
      return false;

    // For big changes, we hide the enclosing element during the
    // update, since that speeds up the operations on most browsers.
    var focused = activeElt();
    if (toUpdate > 4) display.lineDiv.style.display = "none";
    patchDisplay(cm, display.updateLineNumbers, update.dims);
    if (toUpdate > 4) display.lineDiv.style.display = "";
    // There might have been a widget with a focused element that got
    // hidden or updated, if so re-focus it.
    if (focused && activeElt() != focused && focused.offsetHeight) focused.focus();

    // Prevent selection and cursors from interfering with the scroll
    // width.
    removeChildren(display.cursorDiv);
    removeChildren(display.selectionDiv);

    if (different) {
      display.lastSizeC = update.wrapperHeight;
      startWorker(cm, 400);
    }

    display.updateLineNumbers = null;

    return true;
  }

  function postUpdateDisplay(cm, update) {
    var force = update.force, viewport = update.viewport;
    for (var first = true;; first = false) {
      if (first && cm.options.lineWrapping && update.oldScrollerWidth != cm.display.scroller.clientWidth) {
        force = true;
      } else {
        force = false;
        // Clip forced viewport to actual scrollable area.
        if (viewport && viewport.top != null)
          viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - scrollerCutOff -
                                    cm.display.scroller.clientHeight, viewport.top)};
        // Updated line heights might result in the drawn area not
        // actually covering the viewport. Keep looping until it does.
        update.visible = visibleLines(cm.display, cm.doc, viewport);
        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)
          break;
      }
      if (!updateDisplayIfNeeded(cm, update)) break;
      updateHeightsInViewport(cm);
      var barMeasure = measureForScrollbars(cm);
      updateSelection(cm);
      setDocumentHeight(cm, barMeasure);
      updateScrollbars(cm, barMeasure);
    }

    signalLater(cm, "update", cm);
    if (cm.display.viewFrom != update.oldViewFrom || cm.display.viewTo != update.oldViewTo)
      signalLater(cm, "viewportChange", cm, cm.display.viewFrom, cm.display.viewTo);
  }

  function updateDisplaySimple(cm, viewport) {
    var update = new DisplayUpdate(cm, viewport);
    if (updateDisplayIfNeeded(cm, update)) {
      updateHeightsInViewport(cm);
      postUpdateDisplay(cm, update);
      var barMeasure = measureForScrollbars(cm);
      updateSelection(cm);
      setDocumentHeight(cm, barMeasure);
      updateScrollbars(cm, barMeasure);
    }
  }

  function setDocumentHeight(cm, measure) {
    cm.display.sizer.style.minHeight = cm.display.heightForcer.style.top = measure.docHeight + "px";
    cm.display.gutters.style.height = Math.max(measure.docHeight, measure.clientHeight - scrollerCutOff) + "px";
  }

  function checkForWebkitWidthBug(cm, measure) {
    // Work around Webkit bug where it sometimes reserves space for a
    // non-existing phantom scrollbar in the scroller (Issue #2420)
    if (cm.display.sizer.offsetWidth + cm.display.gutters.offsetWidth < cm.display.scroller.clientWidth - 1) {
      cm.display.sizer.style.minHeight = cm.display.heightForcer.style.top = "0px";
      cm.display.gutters.style.height = measure.docHeight + "px";
    }
  }

  // Read the actual heights of the rendered lines, and update their
  // stored heights to match.
  function updateHeightsInViewport(cm) {
    var display = cm.display;
    var prevBottom = display.lineDiv.offsetTop;
    for (var i = 0; i < display.view.length; i++) {
      var cur = display.view[i], height;
      if (cur.hidden) continue;
      if (ie && ie_version < 8) {
        var bot = cur.node.offsetTop + cur.node.offsetHeight;
        height = bot - prevBottom;
        prevBottom = bot;
      } else {
        var box = cur.node.getBoundingClientRect();
        height = box.bottom - box.top;
      }
      var diff = cur.line.height - height;
      if (height < 2) height = textHeight(display);
      if (diff > .001 || diff < -.001) {
        updateLineHeight(cur.line, height);
        updateWidgetHeight(cur.line);
        if (cur.rest) for (var j = 0; j < cur.rest.length; j++)
          updateWidgetHeight(cur.rest[j]);
      }
    }
  }

  // Read and store the height of line widgets associated with the
  // given line.
  function updateWidgetHeight(line) {
    if (line.widgets) for (var i = 0; i < line.widgets.length; ++i)
      line.widgets[i].height = line.widgets[i].node.offsetHeight;
  }

  // Do a bulk-read of the DOM positions and sizes needed to draw the
  // view, so that we don't interleave reading and writing to the DOM.
  function getDimensions(cm) {
    var d = cm.display, left = {}, width = {};
    var gutterLeft = d.gutters.clientLeft;
    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {
      left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft;
      width[cm.options.gutters[i]] = n.clientWidth;
    }
    return {fixedPos: compensateForHScroll(d),
            gutterTotalWidth: d.gutters.offsetWidth,
            gutterLeft: left,
            gutterWidth: width,
            wrapperWidth: d.wrapper.clientWidth};
  }

  // Sync the actual display DOM structure with display.view, removing
  // nodes for lines that are no longer in view, and creating the ones
  // that are not there yet, and updating the ones that are out of
  // date.
  function patchDisplay(cm, updateNumbersFrom, dims) {
    var display = cm.display, lineNumbers = cm.options.lineNumbers;
    var container = display.lineDiv, cur = container.firstChild;

    function rm(node) {
      var next = node.nextSibling;
      // Works around a throw-scroll bug in OS X Webkit
      if (webkit && mac && cm.display.currentWheelTarget == node)
        node.style.display = "none";
      else
        node.parentNode.removeChild(node);
      return next;
    }

    var view = display.view, lineN = display.viewFrom;
    // Loop over the elements in the view, syncing cur (the DOM nodes
    // in display.lineDiv) with the view as we go.
    for (var i = 0; i < view.length; i++) {
      var lineView = view[i];
      if (lineView.hidden) {
      } else if (!lineView.node) { // Not drawn yet
        var node = buildLineElement(cm, lineView, lineN, dims);
        container.insertBefore(node, cur);
      } else { // Already drawn
        while (cur != lineView.node) cur = rm(cur);
        var updateNumber = lineNumbers && updateNumbersFrom != null &&
          updateNumbersFrom <= lineN && lineView.lineNumber;
        if (lineView.changes) {
          if (indexOf(lineView.changes, "gutter") > -1) updateNumber = false;
          updateLineForChanges(cm, lineView, lineN, dims);
        }
        if (updateNumber) {
          removeChildren(lineView.lineNumber);
          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));
        }
        cur = lineView.node.nextSibling;
      }
      lineN += lineView.size;
    }
    while (cur) cur = rm(cur);
  }

  // When an aspect of a line changes, a string is added to
  // lineView.changes. This updates the relevant part of the line's
  // DOM structure.
  function updateLineForChanges(cm, lineView, lineN, dims) {
    for (var j = 0; j < lineView.changes.length; j++) {
      var type = lineView.changes[j];
      if (type == "text") updateLineText(cm, lineView);
      else if (type == "gutter") updateLineGutter(cm, lineView, lineN, dims);
      else if (type == "class") updateLineClasses(lineView);
      else if (type == "widget") updateLineWidgets(lineView, dims);
    }
    lineView.changes = null;
  }

  // Lines with gutter elements, widgets or a background class need to
  // be wrapped, and have the extra elements added to the wrapper div
  function ensureLineWrapped(lineView) {
    if (lineView.node == lineView.text) {
      lineView.node = elt("div", null, null, "position: relative");
      if (lineView.text.parentNode)
        lineView.text.parentNode.replaceChild(lineView.node, lineView.text);
      lineView.node.appendChild(lineView.text);
      if (ie && ie_version < 8) lineView.node.style.zIndex = 2;
    }
    return lineView.node;
  }

  function updateLineBackground(lineView) {
    var cls = lineView.bgClass ? lineView.bgClass + " " + (lineView.line.bgClass || "") : lineView.line.bgClass;
    if (cls) cls += " CodeMirror-linebackground";
    if (lineView.background) {
      if (cls) lineView.background.className = cls;
      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }
    } else if (cls) {
      var wrap = ensureLineWrapped(lineView);
      lineView.background = wrap.insertBefore(elt("div", null, cls), wrap.firstChild);
    }
  }

  // Wrapper around buildLineContent which will reuse the structure
  // in display.externalMeasured when possible.
  function getLineContent(cm, lineView) {
    var ext = cm.display.externalMeasured;
    if (ext && ext.line == lineView.line) {
      cm.display.externalMeasured = null;
      lineView.measure = ext.measure;
      return ext.built;
    }
    return buildLineContent(cm, lineView);
  }

  // Redraw the line's text. Interacts with the background and text
  // classes because the mode may output tokens that influence these
  // classes.
  function updateLineText(cm, lineView) {
    var cls = lineView.text.className;
    var built = getLineContent(cm, lineView);
    if (lineView.text == lineView.node) lineView.node = built.pre;
    lineView.text.parentNode.replaceChild(built.pre, lineView.text);
    lineView.text = built.pre;
    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {
      lineView.bgClass = built.bgClass;
      lineView.textClass = built.textClass;
      updateLineClasses(lineView);
    } else if (cls) {
      lineView.text.className = cls;
    }
  }

  function updateLineClasses(lineView) {
    updateLineBackground(lineView);
    if (lineView.line.wrapClass)
      ensureLineWrapped(lineView).className = lineView.line.wrapClass;
    else if (lineView.node != lineView.text)
      lineView.node.className = "";
    var textClass = lineView.textClass ? lineView.textClass + " " + (lineView.line.textClass || "") : lineView.line.textClass;
    lineView.text.className = textClass || "";
  }

  function updateLineGutter(cm, lineView, lineN, dims) {
    if (lineView.gutter) {
      lineView.node.removeChild(lineView.gutter);
      lineView.gutter = null;
    }
    var markers = lineView.line.gutterMarkers;
    if (cm.options.lineNumbers || markers) {
      var wrap = ensureLineWrapped(lineView);
      var gutterWrap = lineView.gutter =
        wrap.insertBefore(elt("div", null, "CodeMirror-gutter-wrapper", "position: absolute; left: " +
                              (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + "px"),
                          lineView.text);
      if (cm.options.lineNumbers && (!markers || !markers["CodeMirror-linenumbers"]))
        lineView.lineNumber = gutterWrap.appendChild(
          elt("div", lineNumberFor(cm.options, lineN),
              "CodeMirror-linenumber CodeMirror-gutter-elt",
              "left: " + dims.gutterLeft["CodeMirror-linenumbers"] + "px; width: "
              + cm.display.lineNumInnerWidth + "px"));
      if (markers) for (var k = 0; k < cm.options.gutters.length; ++k) {
        var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id];
        if (found)
          gutterWrap.appendChild(elt("div", [found], "CodeMirror-gutter-elt", "left: " +
                                     dims.gutterLeft[id] + "px; width: " + dims.gutterWidth[id] + "px"));
      }
    }
  }

  function updateLineWidgets(lineView, dims) {
    if (lineView.alignable) lineView.alignable = null;
    for (var node = lineView.node.firstChild, next; node; node = next) {
      var next = node.nextSibling;
      if (node.className == "CodeMirror-linewidget")
        lineView.node.removeChild(node);
    }
    insertLineWidgets(lineView, dims);
  }

  // Build a line's DOM representation from scratch
  function buildLineElement(cm, lineView, lineN, dims) {
    var built = getLineContent(cm, lineView);
    lineView.text = lineView.node = built.pre;
    if (built.bgClass) lineView.bgClass = built.bgClass;
    if (built.textClass) lineView.textClass = built.textClass;

    updateLineClasses(lineView);
    updateLineGutter(cm, lineView, lineN, dims);
    insertLineWidgets(lineView, dims);
    return lineView.node;
  }

  // A lineView may contain multiple logical lines (when merged by
  // collapsed spans). The widgets for all of them need to be drawn.
  function insertLineWidgets(lineView, dims) {
    insertLineWidgetsFor(lineView.line, lineView, dims, true);
    if (lineView.rest) for (var i = 0; i < lineView.rest.length; i++)
      insertLineWidgetsFor(lineView.rest[i], lineView, dims, false);
  }

  function insertLineWidgetsFor(line, lineView, dims, allowAbove) {
    if (!line.widgets) return;
    var wrap = ensureLineWrapped(lineView);
    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {
      var widget = ws[i], node = elt("div", [widget.node], "CodeMirror-linewidget");
      if (!widget.handleMouseEvents) node.ignoreEvents = true;
      positionLineWidget(widget, node, lineView, dims);
      if (allowAbove && widget.above)
        wrap.insertBefore(node, lineView.gutter || lineView.text);
      else
        wrap.appendChild(node);
      signalLater(widget, "redraw");
    }
  }

  function positionLineWidget(widget, node, lineView, dims) {
    if (widget.noHScroll) {
      (lineView.alignable || (lineView.alignable = [])).push(node);
      var width = dims.wrapperWidth;
      node.style.left = dims.fixedPos + "px";
      if (!widget.coverGutter) {
        width -= dims.gutterTotalWidth;
        node.style.paddingLeft = dims.gutterTotalWidth + "px";
      }
      node.style.width = width + "px";
    }
    if (widget.coverGutter) {
      node.style.zIndex = 5;
      node.style.position = "relative";
      if (!widget.noHScroll) node.style.marginLeft = -dims.gutterTotalWidth + "px";
    }
  }

  // POSITION OBJECT

  // A Pos instance represents a position within the text.
  var Pos = CodeMirror.Pos = function(line, ch) {
    if (!(this instanceof Pos)) return new Pos(line, ch);
    this.line = line; this.ch = ch;
  };

  // Compare two positions, return 0 if they are the same, a negative
  // number when a is less, and a positive number otherwise.
  var cmp = CodeMirror.cmpPos = function(a, b) { return a.line - b.line || a.ch - b.ch; };

  function copyPos(x) {return Pos(x.line, x.ch);}
  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a; }
  function minPos(a, b) { return cmp(a, b) < 0 ? a : b; }

  // SELECTION / CURSOR

  // Selection objects are immutable. A new one is created every time
  // the selection changes. A selection is one or more non-overlapping
  // (and non-touching) ranges, sorted, and an integer that indicates
  // which one is the primary selection (the one that's scrolled into
  // view, that getCursor returns, etc).
  function Selection(ranges, primIndex) {
    this.ranges = ranges;
    this.primIndex = primIndex;
  }

  Selection.prototype = {
    primary: function() { return this.ranges[this.primIndex]; },
    equals: function(other) {
      if (other == this) return true;
      if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) return false;
      for (var i = 0; i < this.ranges.length; i++) {
        var here = this.ranges[i], there = other.ranges[i];
        if (cmp(here.anchor, there.anchor) != 0 || cmp(here.head, there.head) != 0) return false;
      }
      return true;
    },
    deepCopy: function() {
      for (var out = [], i = 0; i < this.ranges.length; i++)
        out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head));
      return new Selection(out, this.primIndex);
    },
    somethingSelected: function() {
      for (var i = 0; i < this.ranges.length; i++)
        if (!this.ranges[i].empty()) return true;
      return false;
    },
    contains: function(pos, end) {
      if (!end) end = pos;
      for (var i = 0; i < this.ranges.length; i++) {
        var range = this.ranges[i];
        if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)
          return i;
      }
      return -1;
    }
  };

  function Range(anchor, head) {
    this.anchor = anchor; this.head = head;
  }

  Range.prototype = {
    from: function() { return minPos(this.anchor, this.head); },
    to: function() { return maxPos(this.anchor, this.head); },
    empty: function() {
      return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;
    }
  };

  // Take an unsorted, potentially overlapping set of ranges, and
  // build a selection out of it. 'Consumes' ranges array (modifying
  // it).
  function normalizeSelection(ranges, primIndex) {
    var prim = ranges[primIndex];
    ranges.sort(function(a, b) { return cmp(a.from(), b.from()); });
    primIndex = indexOf(ranges, prim);
    for (var i = 1; i < ranges.length; i++) {
      var cur = ranges[i], prev = ranges[i - 1];
      if (cmp(prev.to(), cur.from()) >= 0) {
        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());
        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;
        if (i <= primIndex) --primIndex;
        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));
      }
    }
    return new Selection(ranges, primIndex);
  }

  function simpleSelection(anchor, head) {
    return new Selection([new Range(anchor, head || anchor)], 0);
  }

  // Most of the external API clips given positions to make sure they
  // actually exist within the document.
  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1));}
  function clipPos(doc, pos) {
    if (pos.line < doc.first) return Pos(doc.first, 0);
    var last = doc.first + doc.size - 1;
    if (pos.line > last) return Pos(last, getLine(doc, last).text.length);
    return clipToLen(pos, getLine(doc, pos.line).text.length);
  }
  function clipToLen(pos, linelen) {
    var ch = pos.ch;
    if (ch == null || ch > linelen) return Pos(pos.line, linelen);
    else if (ch < 0) return Pos(pos.line, 0);
    else return pos;
  }
  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size;}
  function clipPosArray(doc, array) {
    for (var out = [], i = 0; i < array.length; i++) out[i] = clipPos(doc, array[i]);
    return out;
  }

  // SELECTION UPDATES

  // The 'scroll' parameter given to many of these indicated whether
  // the new cursor position should be scrolled into view after
  // modifying the selection.

  // If shift is held or the extend flag is set, extends a range to
  // include a given position (and optionally a second position).
  // Otherwise, simply returns the range between the given positions.
  // Used for cursor motion and such.
  function extendRange(doc, range, head, other) {
    if (doc.cm && doc.cm.display.shift || doc.extend) {
      var anchor = range.anchor;
      if (other) {
        var posBefore = cmp(head, anchor) < 0;
        if (posBefore != (cmp(other, anchor) < 0)) {
          anchor = head;
          head = other;
        } else if (posBefore != (cmp(head, other) < 0)) {
          head = other;
        }
      }
      return new Range(anchor, head);
    } else {
      return new Range(other || head, head);
    }
  }

  // Extend the primary selection range, discard the rest.
  function extendSelection(doc, head, other, options) {
    setSelection(doc, new Selection([extendRange(doc, doc.sel.primary(), head, other)], 0), options);
  }

  // Extend all selections (pos is an array of selections with length
  // equal the number of selections)
  function extendSelections(doc, heads, options) {
    for (var out = [], i = 0; i < doc.sel.ranges.length; i++)
      out[i] = extendRange(doc, doc.sel.ranges[i], heads[i], null);
    var newSel = normalizeSelection(out, doc.sel.primIndex);
    setSelection(doc, newSel, options);
  }

  // Updates a single range in the selection.
  function replaceOneSelection(doc, i, range, options) {
    var ranges = doc.sel.ranges.slice(0);
    ranges[i] = range;
    setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options);
  }

  // Reset the selection to a single range.
  function setSimpleSelection(doc, anchor, head, options) {
    setSelection(doc, simpleSelection(anchor, head), options);
  }

  // Give beforeSelectionChange handlers a change to influence a
  // selection update.
  function filterSelectionChange(doc, sel) {
    var obj = {
      ranges: sel.ranges,
      update: function(ranges) {
        this.ranges = [];
        for (var i = 0; i < ranges.length; i++)
          this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),
                                     clipPos(doc, ranges[i].head));
      }
    };
    signal(doc, "beforeSelectionChange", doc, obj);
    if (doc.cm) signal(doc.cm, "beforeSelectionChange", doc.cm, obj);
    if (obj.ranges != sel.ranges) return normalizeSelection(obj.ranges, obj.ranges.length - 1);
    else return sel;
  }

  function setSelectionReplaceHistory(doc, sel, options) {
    var done = doc.history.done, last = lst(done);
    if (last && last.ranges) {
      done[done.length - 1] = sel;
      setSelectionNoUndo(doc, sel, options);
    } else {
      setSelection(doc, sel, options);
    }
  }

  // Set a new selection.
  function setSelection(doc, sel, options) {
    setSelectionNoUndo(doc, sel, options);
    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);
  }

  function setSelectionNoUndo(doc, sel, options) {
    if (hasHandler(doc, "beforeSelectionChange") || doc.cm && hasHandler(doc.cm, "beforeSelectionChange"))
      sel = filterSelectionChange(doc, sel);

    var bias = options && options.bias ||
      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);
    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));

    if (!(options && options.scroll === false) && doc.cm)
      ensureCursorVisible(doc.cm);
  }

  function setSelectionInner(doc, sel) {
    if (sel.equals(doc.sel)) return;

    doc.sel = sel;

    if (doc.cm) {
      doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true;
      signalCursorActivity(doc.cm);
    }
    signalLater(doc, "cursorActivity", doc);
  }

  // Verify that the selection does not partially select any atomic
  // marked ranges.
  function reCheckSelection(doc) {
    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false), sel_dontScroll);
  }

  // Return a selection that does not partially select any atomic
  // ranges.
  function skipAtomicInSelection(doc, sel, bias, mayClear) {
    var out;
    for (var i = 0; i < sel.ranges.length; i++) {
      var range = sel.ranges[i];
      var newAnchor = skipAtomic(doc, range.anchor, bias, mayClear);
      var newHead = skipAtomic(doc, range.head, bias, mayClear);
      if (out || newAnchor != range.anchor || newHead != range.head) {
        if (!out) out = sel.ranges.slice(0, i);
        out[i] = new Range(newAnchor, newHead);
      }
    }
    return out ? normalizeSelection(out, sel.primIndex) : sel;
  }

  // Ensure a given position is not inside an atomic range.
  function skipAtomic(doc, pos, bias, mayClear) {
    var flipped = false, curPos = pos;
    var dir = bias || 1;
    doc.cantEdit = false;
    search: for (;;) {
      var line = getLine(doc, curPos.line);
      if (line.markedSpans) {
        for (var i = 0; i < line.markedSpans.length; ++i) {
          var sp = line.markedSpans[i], m = sp.marker;
          if ((sp.from == null || (m.inclusiveLeft ? sp.from <= curPos.ch : sp.from < curPos.ch)) &&
              (sp.to == null || (m.inclusiveRight ? sp.to >= curPos.ch : sp.to > curPos.ch))) {
            if (mayClear) {
              signal(m, "beforeCursorEnter");
              if (m.explicitlyCleared) {
                if (!line.markedSpans) break;
                else {--i; continue;}
              }
            }
            if (!m.atomic) continue;
            var newPos = m.find(dir < 0 ? -1 : 1);
            if (cmp(newPos, curPos) == 0) {
              newPos.ch += dir;
              if (newPos.ch < 0) {
                if (newPos.line > doc.first) newPos = clipPos(doc, Pos(newPos.line - 1));
                else newPos = null;
              } else if (newPos.ch > line.text.length) {
                if (newPos.line < doc.first + doc.size - 1) newPos = Pos(newPos.line + 1, 0);
                else newPos = null;
              }
              if (!newPos) {
                if (flipped) {
                  // Driven in a corner -- no valid cursor position found at all
                  // -- try again *with* clearing, if we didn't already
                  if (!mayClear) return skipAtomic(doc, pos, bias, true);
                  // Otherwise, turn off editing until further notice, and return the start of the doc
                  doc.cantEdit = true;
                  return Pos(doc.first, 0);
                }
                flipped = true; newPos = pos; dir = -dir;
              }
            }
            curPos = newPos;
            continue search;
          }
        }
      }
      return curPos;
    }
  }

  // SELECTION DRAWING

  // Redraw the selection and/or cursor
  function drawSelection(cm) {
    var display = cm.display, doc = cm.doc, result = {};
    var curFragment = result.cursors = document.createDocumentFragment();
    var selFragment = result.selection = document.createDocumentFragment();

    for (var i = 0; i < doc.sel.ranges.length; i++) {
      var range = doc.sel.ranges[i];
      var collapsed = range.empty();
      if (collapsed || cm.options.showCursorWhenSelecting)
        drawSelectionCursor(cm, range, curFragment);
      if (!collapsed)
        drawSelectionRange(cm, range, selFragment);
    }

    // Move the hidden textarea near the cursor to prevent scrolling artifacts
    if (cm.options.moveInputWithCursor) {
      var headPos = cursorCoords(cm, doc.sel.primary().head, "div");
      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();
      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,
                                          headPos.top + lineOff.top - wrapOff.top));
      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,
                                           headPos.left + lineOff.left - wrapOff.left));
    }

    return result;
  }

  function showSelection(cm, drawn) {
    removeChildrenAndAdd(cm.display.cursorDiv, drawn.cursors);
    removeChildrenAndAdd(cm.display.selectionDiv, drawn.selection);
    if (drawn.teTop != null) {
      cm.display.inputDiv.style.top = drawn.teTop + "px";
      cm.display.inputDiv.style.left = drawn.teLeft + "px";
    }
  }

  function updateSelection(cm) {
    showSelection(cm, drawSelection(cm));
  }

  // Draws a cursor for the given range
  function drawSelectionCursor(cm, range, output) {
    var pos = cursorCoords(cm, range.head, "div", null, null, !cm.options.singleCursorHeightPerLine);

    var cursor = output.appendChild(elt("div", "\u00a0", "CodeMirror-cursor"));
    cursor.style.left = pos.left + "px";
    cursor.style.top = pos.top + "px";
    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + "px";

    if (pos.other) {
      // Secondary cursor, shown when on a 'jump' in bi-directional text
      var otherCursor = output.appendChild(elt("div", "\u00a0", "CodeMirror-cursor CodeMirror-secondarycursor"));
      otherCursor.style.display = "";
      otherCursor.style.left = pos.other.left + "px";
      otherCursor.style.top = pos.other.top + "px";
      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + "px";
    }
  }

  // Draws the given range as a highlighted selection
  function drawSelectionRange(cm, range, output) {
    var display = cm.display, doc = cm.doc;
    var fragment = document.createDocumentFragment();
    var padding = paddingH(cm.display), leftSide = padding.left, rightSide = display.lineSpace.offsetWidth - padding.right;

    function add(left, top, width, bottom) {
      if (top < 0) top = 0;
      top = Math.round(top);
      bottom = Math.round(bottom);
      fragment.appendChild(elt("div", null, "CodeMirror-selected", "position: absolute; left: " + left +
                               "px; top: " + top + "px; width: " + (width == null ? rightSide - left : width) +
                               "px; height: " + (bottom - top) + "px"));
    }

    function drawForLine(line, fromArg, toArg) {
      var lineObj = getLine(doc, line);
      var lineLen = lineObj.text.length;
      var start, end;
      function coords(ch, bias) {
        return charCoords(cm, Pos(line, ch), "div", lineObj, bias);
      }

      iterateBidiSections(getOrder(lineObj), fromArg || 0, toArg == null ? lineLen : toArg, function(from, to, dir) {
        var leftPos = coords(from, "left"), rightPos, left, right;
        if (from == to) {
          rightPos = leftPos;
          left = right = leftPos.left;
        } else {
          rightPos = coords(to - 1, "right");
          if (dir == "rtl") { var tmp = leftPos; leftPos = rightPos; rightPos = tmp; }
          left = leftPos.left;
          right = rightPos.right;
        }
        if (fromArg == null && from == 0) left = leftSide;
        if (rightPos.top - leftPos.top > 3) { // Different lines, draw top part
          add(left, leftPos.top, null, leftPos.bottom);
          left = leftSide;
          if (leftPos.bottom < rightPos.top) add(left, leftPos.bottom, null, rightPos.top);
        }
        if (toArg == null && to == lineLen) right = rightSide;
        if (!start || leftPos.top < start.top || leftPos.top == start.top && leftPos.left < start.left)
          start = leftPos;
        if (!end || rightPos.bottom > end.bottom || rightPos.bottom == end.bottom && rightPos.right > end.right)
          end = rightPos;
        if (left < leftSide + 1) left = leftSide;
        add(left, rightPos.top, right - left, rightPos.bottom);
      });
      return {start: start, end: end};
    }

    var sFrom = range.from(), sTo = range.to();
    if (sFrom.line == sTo.line) {
      drawForLine(sFrom.line, sFrom.ch, sTo.ch);
    } else {
      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);
      var singleVLine = visualLine(fromLine) == visualLine(toLine);
      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;
      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;
      if (singleVLine) {
        if (leftEnd.top < rightStart.top - 2) {
          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);
          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);
        } else {
          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);
        }
      }
      if (leftEnd.bottom < rightStart.top)
        add(leftSide, leftEnd.bottom, null, rightStart.top);
    }

    output.appendChild(fragment);
  }

  // Cursor-blinking
  function restartBlink(cm) {
    if (!cm.state.focused) return;
    var display = cm.display;
    clearInterval(display.blinker);
    var on = true;
    display.cursorDiv.style.visibility = "";
    if (cm.options.cursorBlinkRate > 0)
      display.blinker = setInterval(function() {
        display.cursorDiv.style.visibility = (on = !on) ? "" : "hidden";
      }, cm.options.cursorBlinkRate);
    else if (cm.options.cursorBlinkRate < 0)
      display.cursorDiv.style.visibility = "hidden";
  }

  // HIGHLIGHT WORKER

  function startWorker(cm, time) {
    if (cm.doc.mode.startState && cm.doc.frontier < cm.display.viewTo)
      cm.state.highlight.set(time, bind(highlightWorker, cm));
  }

  function highlightWorker(cm) {
    var doc = cm.doc;
    if (doc.frontier < doc.first) doc.frontier = doc.first;
    if (doc.frontier >= cm.display.viewTo) return;
    var end = +new Date + cm.options.workTime;
    var state = copyState(doc.mode, getStateBefore(cm, doc.frontier));
    var changedLines = [];

    doc.iter(doc.frontier, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function(line) {
      if (doc.frontier >= cm.display.viewFrom) { // Visible
        var oldStyles = line.styles;
        var highlighted = highlightLine(cm, line, state, true);
        line.styles = highlighted.styles;
        var oldCls = line.styleClasses, newCls = highlighted.classes;
        if (newCls) line.styleClasses = newCls;
        else if (oldCls) line.styleClasses = null;
        var ischange = !oldStyles || oldStyles.length != line.styles.length ||
          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);
        for (var i = 0; !ischange && i < oldStyles.length; ++i) ischange = oldStyles[i] != line.styles[i];
        if (ischange) changedLines.push(doc.frontier);
        line.stateAfter = copyState(doc.mode, state);
      } else {
        processLine(cm, line.text, state);
        line.stateAfter = doc.frontier % 5 == 0 ? copyState(doc.mode, state) : null;
      }
      ++doc.frontier;
      if (+new Date > end) {
        startWorker(cm, cm.options.workDelay);
        return true;
      }
    });
    if (changedLines.length) runInOp(cm, function() {
      for (var i = 0; i < changedLines.length; i++)
        regLineChange(cm, changedLines[i], "text");
    });
  }

  // Finds the line to start with when starting a parse. Tries to
  // find a line with a stateAfter, so that it can start with a
  // valid state. If that fails, it returns the line with the
  // smallest indentation, which tends to need the least context to
  // parse correctly.
  function findStartLine(cm, n, precise) {
    var minindent, minline, doc = cm.doc;
    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);
    for (var search = n; search > lim; --search) {
      if (search <= doc.first) return doc.first;
      var line = getLine(doc, search - 1);
      if (line.stateAfter && (!precise || search <= doc.frontier)) return search;
      var indented = countColumn(line.text, null, cm.options.tabSize);
      if (minline == null || minindent > indented) {
        minline = search - 1;
        minindent = indented;
      }
    }
    return minline;
  }

  function getStateBefore(cm, n, precise) {
    var doc = cm.doc, display = cm.display;
    if (!doc.mode.startState) return true;
    var pos = findStartLine(cm, n, precise), state = pos > doc.first && getLine(doc, pos-1).stateAfter;
    if (!state) state = startState(doc.mode);
    else state = copyState(doc.mode, state);
    doc.iter(pos, n, function(line) {
      processLine(cm, line.text, state);
      var save = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo;
      line.stateAfter = save ? copyState(doc.mode, state) : null;
      ++pos;
    });
    if (precise) doc.frontier = pos;
    return state;
  }

  // POSITION MEASUREMENT

  function paddingTop(display) {return display.lineSpace.offsetTop;}
  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight;}
  function paddingH(display) {
    if (display.cachedPaddingH) return display.cachedPaddingH;
    var e = removeChildrenAndAdd(display.measure, elt("pre", "x"));
    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;
    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};
    if (!isNaN(data.left) && !isNaN(data.right)) display.cachedPaddingH = data;
    return data;
  }

  // Ensure the lineView.wrapping.heights array is populated. This is
  // an array of bottom offsets for the lines that make up a drawn
  // line. When lineWrapping is on, there might be more than one
  // height.
  function ensureLineHeights(cm, lineView, rect) {
    var wrapping = cm.options.lineWrapping;
    var curWidth = wrapping && cm.display.scroller.clientWidth;
    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {
      var heights = lineView.measure.heights = [];
      if (wrapping) {
        lineView.measure.width = curWidth;
        var rects = lineView.text.firstChild.getClientRects();
        for (var i = 0; i < rects.length - 1; i++) {
          var cur = rects[i], next = rects[i + 1];
          if (Math.abs(cur.bottom - next.bottom) > 2)
            heights.push((cur.bottom + next.top) / 2 - rect.top);
        }
      }
      heights.push(rect.bottom - rect.top);
    }
  }

  // Find a line map (mapping character offsets to text nodes) and a
  // measurement cache for the given line number. (A line view might
  // contain multiple lines when collapsed ranges are present.)
  function mapFromLineView(lineView, line, lineN) {
    if (lineView.line == line)
      return {map: lineView.measure.map, cache: lineView.measure.cache};
    for (var i = 0; i < lineView.rest.length; i++)
      if (lineView.rest[i] == line)
        return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]};
    for (var i = 0; i < lineView.rest.length; i++)
      if (lineNo(lineView.rest[i]) > lineN)
        return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i], before: true};
  }

  // Render a line into the hidden node display.externalMeasured. Used
  // when measurement is needed for a line that's not in the viewport.
  function updateExternalMeasurement(cm, line) {
    line = visualLine(line);
    var lineN = lineNo(line);
    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);
    view.lineN = lineN;
    var built = view.built = buildLineContent(cm, view);
    view.text = built.pre;
    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);
    return view;
  }

  // Get a {top, bottom, left, right} box (in line-local coordinates)
  // for a given character.
  function measureChar(cm, line, ch, bias) {
    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias);
  }

  // Find a line view that corresponds to the given line number.
  function findViewForLine(cm, lineN) {
    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)
      return cm.display.view[findViewIndex(cm, lineN)];
    var ext = cm.display.externalMeasured;
    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)
      return ext;
  }

  // Measurement can be split in two steps, the set-up work that
  // applies to the whole line, and the measurement of the actual
  // character. Functions like coordsChar, that need to do a lot of
  // measurements in a row, can thus ensure that the set-up work is
  // only done once.
  function prepareMeasureForLine(cm, line) {
    var lineN = lineNo(line);
    var view = findViewForLine(cm, lineN);
    if (view && !view.text)
      view = null;
    else if (view && view.changes)
      updateLineForChanges(cm, view, lineN, getDimensions(cm));
    if (!view)
      view = updateExternalMeasurement(cm, line);

    var info = mapFromLineView(view, line, lineN);
    return {
      line: line, view: view, rect: null,
      map: info.map, cache: info.cache, before: info.before,
      hasHeights: false
    };
  }

  // Given a prepared measurement object, measures the position of an
  // actual character (or fetches it from the cache).
  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {
    if (prepared.before) ch = -1;
    var key = ch + (bias || ""), found;
    if (prepared.cache.hasOwnProperty(key)) {
      found = prepared.cache[key];
    } else {
      if (!prepared.rect)
        prepared.rect = prepared.view.text.getBoundingClientRect();
      if (!prepared.hasHeights) {
        ensureLineHeights(cm, prepared.view, prepared.rect);
        prepared.hasHeights = true;
      }
      found = measureCharInner(cm, prepared, ch, bias);
      if (!found.bogus) prepared.cache[key] = found;
    }
    return {left: found.left, right: found.right,
            top: varHeight ? found.rtop : found.top,
            bottom: varHeight ? found.rbottom : found.bottom};
  }

  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};

  function measureCharInner(cm, prepared, ch, bias) {
    var map = prepared.map;

    var node, start, end, collapse;
    // First, search the line map for the text node corresponding to,
    // or closest to, the target character.
    for (var i = 0; i < map.length; i += 3) {
      var mStart = map[i], mEnd = map[i + 1];
      if (ch < mStart) {
        start = 0; end = 1;
        collapse = "left";
      } else if (ch < mEnd) {
        start = ch - mStart;
        end = start + 1;
      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {
        end = mEnd - mStart;
        start = end - 1;
        if (ch >= mEnd) collapse = "right";
      }
      if (start != null) {
        node = map[i + 2];
        if (mStart == mEnd && bias == (node.insertLeft ? "left" : "right"))
          collapse = bias;
        if (bias == "left" && start == 0)
          while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {
            node = map[(i -= 3) + 2];
            collapse = "left";
          }
        if (bias == "right" && start == mEnd - mStart)
          while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {
            node = map[(i += 3) + 2];
            collapse = "right";
          }
        break;
      }
    }

    var rect;
    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.
      for (var i = 0; i < 4; i++) { // Retry a maximum of 4 times when nonsense rectangles are returned
        while (start && isExtendingChar(prepared.line.text.charAt(mStart + start))) --start;
        while (mStart + end < mEnd && isExtendingChar(prepared.line.text.charAt(mStart + end))) ++end;
        if (ie && ie_version < 9 && start == 0 && end == mEnd - mStart) {
          rect = node.parentNode.getBoundingClientRect();
        } else if (ie && cm.options.lineWrapping) {
          var rects = range(node, start, end).getClientRects();
          if (rects.length)
            rect = rects[bias == "right" ? rects.length - 1 : 0];
          else
            rect = nullRect;
        } else {
          rect = range(node, start, end).getBoundingClientRect() || nullRect;
        }
        if (rect.left || rect.right || start == 0) break;
        end = start;
        start = start - 1;
        collapse = "right";
      }
      if (ie && ie_version < 11) rect = maybeUpdateRectForZooming(cm.display.measure, rect);
    } else { // If it is a widget, simply get the box for the whole widget.
      if (start > 0) collapse = bias = "right";
      var rects;
      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)
        rect = rects[bias == "right" ? rects.length - 1 : 0];
      else
        rect = node.getBoundingClientRect();
    }
    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {
      var rSpan = node.parentNode.getClientRects()[0];
      if (rSpan)
        rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom};
      else
        rect = nullRect;
    }

    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;
    var mid = (rtop + rbot) / 2;
    var heights = prepared.view.measure.heights;
    for (var i = 0; i < heights.length - 1; i++)
      if (mid < heights[i]) break;
    var top = i ? heights[i - 1] : 0, bot = heights[i];
    var result = {left: (collapse == "right" ? rect.right : rect.left) - prepared.rect.left,
                  right: (collapse == "left" ? rect.left : rect.right) - prepared.rect.left,
                  top: top, bottom: bot};
    if (!rect.left && !rect.right) result.bogus = true;
    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }

    return result;
  }

  // Work around problem with bounding client rects on ranges being
  // returned incorrectly when zoomed on IE10 and below.
  function maybeUpdateRectForZooming(measure, rect) {
    if (!window.screen || screen.logicalXDPI == null ||
        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))
      return rect;
    var scaleX = screen.logicalXDPI / screen.deviceXDPI;
    var scaleY = screen.logicalYDPI / screen.deviceYDPI;
    return {left: rect.left * scaleX, right: rect.right * scaleX,
            top: rect.top * scaleY, bottom: rect.bottom * scaleY};
  }

  function clearLineMeasurementCacheFor(lineView) {
    if (lineView.measure) {
      lineView.measure.cache = {};
      lineView.measure.heights = null;
      if (lineView.rest) for (var i = 0; i < lineView.rest.length; i++)
        lineView.measure.caches[i] = {};
    }
  }

  function clearLineMeasurementCache(cm) {
    cm.display.externalMeasure = null;
    removeChildren(cm.display.lineMeasure);
    for (var i = 0; i < cm.display.view.length; i++)
      clearLineMeasurementCacheFor(cm.display.view[i]);
  }

  function clearCaches(cm) {
    clearLineMeasurementCache(cm);
    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;
    if (!cm.options.lineWrapping) cm.display.maxLineChanged = true;
    cm.display.lineNumChars = null;
  }

  function pageScrollX() { return window.pageXOffset || (document.documentElement || document.body).scrollLeft; }
  function pageScrollY() { return window.pageYOffset || (document.documentElement || document.body).scrollTop; }

  // Converts a {top, bottom, left, right} box from line-local
  // coordinates into another coordinate system. Context may be one of
  // "line", "div" (display.lineDiv), "local"/null (editor), or "page".
  function intoCoordSystem(cm, lineObj, rect, context) {
    if (lineObj.widgets) for (var i = 0; i < lineObj.widgets.length; ++i) if (lineObj.widgets[i].above) {
      var size = widgetHeight(lineObj.widgets[i]);
      rect.top += size; rect.bottom += size;
    }
    if (context == "line") return rect;
    if (!context) context = "local";
    var yOff = heightAtLine(lineObj);
    if (context == "local") yOff += paddingTop(cm.display);
    else yOff -= cm.display.viewOffset;
    if (context == "page" || context == "window") {
      var lOff = cm.display.lineSpace.getBoundingClientRect();
      yOff += lOff.top + (context == "window" ? 0 : pageScrollY());
      var xOff = lOff.left + (context == "window" ? 0 : pageScrollX());
      rect.left += xOff; rect.right += xOff;
    }
    rect.top += yOff; rect.bottom += yOff;
    return rect;
  }

  // Coverts a box from "div" coords to another coordinate system.
  // Context may be "window", "page", "div", or "local"/null.
  function fromCoordSystem(cm, coords, context) {
    if (context == "div") return coords;
    var left = coords.left, top = coords.top;
    // First move into "page" coordinate system
    if (context == "page") {
      left -= pageScrollX();
      top -= pageScrollY();
    } else if (context == "local" || !context) {
      var localBox = cm.display.sizer.getBoundingClientRect();
      left += localBox.left;
      top += localBox.top;
    }

    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();
    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top};
  }

  function charCoords(cm, pos, context, lineObj, bias) {
    if (!lineObj) lineObj = getLine(cm.doc, pos.line);
    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context);
  }

  // Returns a box for a given cursor position, which may have an
  // 'other' property containing the position of the secondary cursor
  // on a bidi boundary.
  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {
    lineObj = lineObj || getLine(cm.doc, pos.line);
    if (!preparedMeasure) preparedMeasure = prepareMeasureForLine(cm, lineObj);
    function get(ch, right) {
      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? "right" : "left", varHeight);
      if (right) m.left = m.right; else m.right = m.left;
      return intoCoordSystem(cm, lineObj, m, context);
    }
    function getBidi(ch, partPos) {
      var part = order[partPos], right = part.level % 2;
      if (ch == bidiLeft(part) && partPos && part.level < order[partPos - 1].level) {
        part = order[--partPos];
        ch = bidiRight(part) - (part.level % 2 ? 0 : 1);
        right = true;
      } else if (ch == bidiRight(part) && partPos < order.length - 1 && part.level < order[partPos + 1].level) {
        part = order[++partPos];
        ch = bidiLeft(part) - part.level % 2;
        right = false;
      }
      if (right && ch == part.to && ch > part.from) return get(ch - 1);
      return get(ch, right);
    }
    var order = getOrder(lineObj), ch = pos.ch;
    if (!order) return get(ch);
    var partPos = getBidiPartAt(order, ch);
    var val = getBidi(ch, partPos);
    if (bidiOther != null) val.other = getBidi(ch, bidiOther);
    return val;
  }

  // Used to cheaply estimate the coordinates for a position. Used for
  // intermediate scroll updates.
  function estimateCoords(cm, pos) {
    var left = 0, pos = clipPos(cm.doc, pos);
    if (!cm.options.lineWrapping) left = charWidth(cm.display) * pos.ch;
    var lineObj = getLine(cm.doc, pos.line);
    var top = heightAtLine(lineObj) + paddingTop(cm.display);
    return {left: left, right: left, top: top, bottom: top + lineObj.height};
  }

  // Positions returned by coordsChar contain some extra information.
  // xRel is the relative x position of the input coordinates compared
  // to the found position (so xRel > 0 means the coordinates are to
  // the right of the character position, for example). When outside
  // is true, that means the coordinates lie outside the line's
  // vertical range.
  function PosWithInfo(line, ch, outside, xRel) {
    var pos = Pos(line, ch);
    pos.xRel = xRel;
    if (outside) pos.outside = true;
    return pos;
  }

  // Compute the character position closest to the given coordinates.
  // Input must be lineSpace-local ("div" coordinate system).
  function coordsChar(cm, x, y) {
    var doc = cm.doc;
    y += cm.display.viewOffset;
    if (y < 0) return PosWithInfo(doc.first, 0, true, -1);
    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;
    if (lineN > last)
      return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, true, 1);
    if (x < 0) x = 0;

    var lineObj = getLine(doc, lineN);
    for (;;) {
      var found = coordsCharInner(cm, lineObj, lineN, x, y);
      var merged = collapsedSpanAtEnd(lineObj);
      var mergedPos = merged && merged.find(0, true);
      if (merged && (found.ch > mergedPos.from.ch || found.ch == mergedPos.from.ch && found.xRel > 0))
        lineN = lineNo(lineObj = mergedPos.to.line);
      else
        return found;
    }
  }

  function coordsCharInner(cm, lineObj, lineNo, x, y) {
    var innerOff = y - heightAtLine(lineObj);
    var wrongLine = false, adjust = 2 * cm.display.wrapper.clientWidth;
    var preparedMeasure = prepareMeasureForLine(cm, lineObj);

    function getX(ch) {
      var sp = cursorCoords(cm, Pos(lineNo, ch), "line", lineObj, preparedMeasure);
      wrongLine = true;
      if (innerOff > sp.bottom) return sp.left - adjust;
      else if (innerOff < sp.top) return sp.left + adjust;
      else wrongLine = false;
      return sp.left;
    }

    var bidi = getOrder(lineObj), dist = lineObj.text.length;
    var from = lineLeft(lineObj), to = lineRight(lineObj);
    var fromX = getX(from), fromOutside = wrongLine, toX = getX(to), toOutside = wrongLine;

    if (x > toX) return PosWithInfo(lineNo, to, toOutside, 1);
    // Do a binary search between these bounds.
    for (;;) {
      if (bidi ? to == from || to == moveVisually(lineObj, from, 1) : to - from <= 1) {
        var ch = x < fromX || x - fromX <= toX - x ? from : to;
        var xDiff = x - (ch == from ? fromX : toX);
        while (isExtendingChar(lineObj.text.charAt(ch))) ++ch;
        var pos = PosWithInfo(lineNo, ch, ch == from ? fromOutside : toOutside,
                              xDiff < -1 ? -1 : xDiff > 1 ? 1 : 0);
        return pos;
      }
      var step = Math.ceil(dist / 2), middle = from + step;
      if (bidi) {
        middle = from;
        for (var i = 0; i < step; ++i) middle = moveVisually(lineObj, middle, 1);
      }
      var middleX = getX(middle);
      if (middleX > x) {to = middle; toX = middleX; if (toOutside = wrongLine) toX += 1000; dist = step;}
      else {from = middle; fromX = middleX; fromOutside = wrongLine; dist -= step;}
    }
  }

  var measureText;
  // Compute the default text height.
  function textHeight(display) {
    if (display.cachedTextHeight != null) return display.cachedTextHeight;
    if (measureText == null) {
      measureText = elt("pre");
      // Measure a bunch of lines, for browsers that compute
      // fractional heights.
      for (var i = 0; i < 49; ++i) {
        measureText.appendChild(document.createTextNode("x"));
        measureText.appendChild(elt("br"));
      }
      measureText.appendChild(document.createTextNode("x"));
    }
    removeChildrenAndAdd(display.measure, measureText);
    var height = measureText.offsetHeight / 50;
    if (height > 3) display.cachedTextHeight = height;
    removeChildren(display.measure);
    return height || 1;
  }

  // Compute the default character width.
  function charWidth(display) {
    if (display.cachedCharWidth != null) return display.cachedCharWidth;
    var anchor = elt("span", "xxxxxxxxxx");
    var pre = elt("pre", [anchor]);
    removeChildrenAndAdd(display.measure, pre);
    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;
    if (width > 2) display.cachedCharWidth = width;
    return width || 10;
  }

  // OPERATIONS

  // Operations are used to wrap a series of changes to the editor
  // state in such a way that each change won't have to update the
  // cursor and display (which would be awkward, slow, and
  // error-prone). Instead, display updates are batched and then all
  // combined and executed at once.

  var operationGroup = null;

  var nextOpId = 0;
  // Start a new operation.
  function startOperation(cm) {
    cm.curOp = {
      cm: cm,
      viewChanged: false,      // Flag that indicates that lines might need to be redrawn
      startHeight: cm.doc.height, // Used to detect need to update scrollbar
      forceUpdate: false,      // Used to force a redraw
      updateInput: null,       // Whether to reset the input textarea
      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)
      changeObjs: null,        // Accumulated changes, for firing change events
      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on
      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already
      selectionChanged: false, // Whether the selection needs to be redrawn
      updateMaxLine: false,    // Set when the widest line needs to be determined anew
      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet
      scrollToPos: null,       // Used to scroll to a specific position
      id: ++nextOpId           // Unique ID
    };
    if (operationGroup) {
      operationGroup.ops.push(cm.curOp);
    } else {
      cm.curOp.ownsGroup = operationGroup = {
        ops: [cm.curOp],
        delayedCallbacks: []
      };
    }
  }

  function fireCallbacksForOps(group) {
    // Calls delayed callbacks and cursorActivity handlers until no
    // new ones appear
    var callbacks = group.delayedCallbacks, i = 0;
    do {
      for (; i < callbacks.length; i++)
        callbacks[i]();
      for (var j = 0; j < group.ops.length; j++) {
        var op = group.ops[j];
        if (op.cursorActivityHandlers)
          while (op.cursorActivityCalled < op.cursorActivityHandlers.length)
            op.cursorActivityHandlers[op.cursorActivityCalled++](op.cm);
      }
    } while (i < callbacks.length);
  }

  // Finish an operation, updating the display and signalling delayed events
  function endOperation(cm) {
    var op = cm.curOp, group = op.ownsGroup;
    if (!group) return;

    try { fireCallbacksForOps(group); }
    finally {
      operationGroup = null;
      for (var i = 0; i < group.ops.length; i++)
        group.ops[i].cm.curOp = null;
      endOperations(group);
    }
  }

  // The DOM updates done when an operation finishes are batched so
  // that the minimum number of relayouts are required.
  function endOperations(group) {
    var ops = group.ops;
    for (var i = 0; i < ops.length; i++) // Read DOM
      endOperation_R1(ops[i]);
    for (var i = 0; i < ops.length; i++) // Write DOM (maybe)
      endOperation_W1(ops[i]);
    for (var i = 0; i < ops.length; i++) // Read DOM
      endOperation_R2(ops[i]);
    for (var i = 0; i < ops.length; i++) // Write DOM (maybe)
      endOperation_W2(ops[i]);
    for (var i = 0; i < ops.length; i++) // Read DOM
      endOperation_finish(ops[i]);
  }

  function endOperation_R1(op) {
    var cm = op.cm, display = cm.display;
    if (op.updateMaxLine) findMaxLine(cm);

    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||
      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||
                         op.scrollToPos.to.line >= display.viewTo) ||
      display.maxLineChanged && cm.options.lineWrapping;
    op.update = op.mustUpdate &&
      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);
  }

  function endOperation_W1(op) {
    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);
  }

  function endOperation_R2(op) {
    var cm = op.cm, display = cm.display;
    if (op.updatedDisplay) updateHeightsInViewport(cm);

    op.barMeasure = measureForScrollbars(cm);

    // If the max line changed since it was last measured, measure it,
    // and ensure the document's width matches it.
    // updateDisplay_W2 will use these properties to do the actual resizing
    if (display.maxLineChanged && !cm.options.lineWrapping) {
      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;
      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo +
                                  scrollerCutOff - display.scroller.clientWidth);
    }

    if (op.updatedDisplay || op.selectionChanged)
      op.newSelectionNodes = drawSelection(cm);
  }

  function endOperation_W2(op) {
    var cm = op.cm;

    if (op.adjustWidthTo != null) {
      cm.display.sizer.style.minWidth = op.adjustWidthTo + "px";
      if (op.maxScrollLeft < cm.doc.scrollLeft)
        setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true);
      cm.display.maxLineChanged = false;
    }

    if (op.newSelectionNodes)
      showSelection(cm, op.newSelectionNodes);
    if (op.updatedDisplay)
      setDocumentHeight(cm, op.barMeasure);
    if (op.updatedDisplay || op.startHeight != cm.doc.height)
      updateScrollbars(cm, op.barMeasure);

    if (op.selectionChanged) restartBlink(cm);

    if (cm.state.focused && op.updateInput)
      resetInput(cm, op.typing);
  }

  function endOperation_finish(op) {
    var cm = op.cm, display = cm.display, doc = cm.doc;

    if (op.adjustWidthTo != null && Math.abs(op.barMeasure.scrollWidth - cm.display.scroller.scrollWidth) > 1)
      updateScrollbars(cm);

    if (op.updatedDisplay) postUpdateDisplay(cm, op.update);

    // Abort mouse wheel delta measurement, when scrolling explicitly
    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))
      display.wheelStartX = display.wheelStartY = null;

    // Propagate the scroll position to the actual DOM scroller
    if (op.scrollTop != null && (display.scroller.scrollTop != op.scrollTop || op.forceScroll)) {
      var top = Math.max(0, Math.min(display.scroller.scrollHeight - display.scroller.clientHeight, op.scrollTop));
      display.scroller.scrollTop = display.scrollbarV.scrollTop = doc.scrollTop = top;
    }
    if (op.scrollLeft != null && (display.scroller.scrollLeft != op.scrollLeft || op.forceScroll)) {
      var left = Math.max(0, Math.min(display.scroller.scrollWidth - display.scroller.clientWidth, op.scrollLeft));
      display.scroller.scrollLeft = display.scrollbarH.scrollLeft = doc.scrollLeft = left;
      alignHorizontally(cm);
    }
    // If we need to scroll a specific position into view, do so.
    if (op.scrollToPos) {
      var coords = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),
                                     clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);
      if (op.scrollToPos.isCursor && cm.state.focused) maybeScrollWindow(cm, coords);
    }

    // Fire events for markers that are hidden/unidden by editing or
    // undoing
    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;
    if (hidden) for (var i = 0; i < hidden.length; ++i)
      if (!hidden[i].lines.length) signal(hidden[i], "hide");
    if (unhidden) for (var i = 0; i < unhidden.length; ++i)
      if (unhidden[i].lines.length) signal(unhidden[i], "unhide");

    if (display.wrapper.offsetHeight)
      doc.scrollTop = cm.display.scroller.scrollTop;

    // Apply workaround for two webkit bugs
    if (op.updatedDisplay && webkit) {
      if (cm.options.lineWrapping)
        checkForWebkitWidthBug(cm, op.barMeasure); // (Issue #2420)
      if (op.barMeasure.scrollWidth > op.barMeasure.clientWidth &&
          op.barMeasure.scrollWidth < op.barMeasure.clientWidth + 1 &&
          !hScrollbarTakesSpace(cm))
        updateScrollbars(cm); // (Issue #2562)
    }

    // Fire change events, and delayed event handlers
    if (op.changeObjs)
      signal(cm, "changes", cm, op.changeObjs);
  }

  // Run the given function in an operation
  function runInOp(cm, f) {
    if (cm.curOp) return f();
    startOperation(cm);
    try { return f(); }
    finally { endOperation(cm); }
  }
  // Wraps a function in an operation. Returns the wrapped function.
  function operation(cm, f) {
    return function() {
      if (cm.curOp) return f.apply(cm, arguments);
      startOperation(cm);
      try { return f.apply(cm, arguments); }
      finally { endOperation(cm); }
    };
  }
  // Used to add methods to editor and doc instances, wrapping them in
  // operations.
  function methodOp(f) {
    return function() {
      if (this.curOp) return f.apply(this, arguments);
      startOperation(this);
      try { return f.apply(this, arguments); }
      finally { endOperation(this); }
    };
  }
  function docMethodOp(f) {
    return function() {
      var cm = this.cm;
      if (!cm || cm.curOp) return f.apply(this, arguments);
      startOperation(cm);
      try { return f.apply(this, arguments); }
      finally { endOperation(cm); }
    };
  }

  // VIEW TRACKING

  // These objects are used to represent the visible (currently drawn)
  // part of the document. A LineView may correspond to multiple
  // logical lines, if those are connected by collapsed ranges.
  function LineView(doc, line, lineN) {
    // The starting line
    this.line = line;
    // Continuing lines, if any
    this.rest = visualLineContinued(line);
    // Number of logical lines in this visual line
    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;
    this.node = this.text = null;
    this.hidden = lineIsHidden(doc, line);
  }

  // Create a range of LineView objects for the given lines.
  function buildViewArray(cm, from, to) {
    var array = [], nextPos;
    for (var pos = from; pos < to; pos = nextPos) {
      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);
      nextPos = pos + view.size;
      array.push(view);
    }
    return array;
  }

  // Updates the display.view data structure for a given change to the
  // document. From and to are in pre-change coordinates. Lendiff is
  // the amount of lines added or subtracted by the change. This is
  // used for changes that span multiple lines, or change the way
  // lines are divided into visual lines. regLineChange (below)
  // registers single-line changes.
  function regChange(cm, from, to, lendiff) {
    if (from == null) from = cm.doc.first;
    if (to == null) to = cm.doc.first + cm.doc.size;
    if (!lendiff) lendiff = 0;

    var display = cm.display;
    if (lendiff && to < display.viewTo &&
        (display.updateLineNumbers == null || display.updateLineNumbers > from))
      display.updateLineNumbers = from;

    cm.curOp.viewChanged = true;

    if (from >= display.viewTo) { // Change after
      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)
        resetView(cm);
    } else if (to <= display.viewFrom) { // Change before
      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {
        resetView(cm);
      } else {
        display.viewFrom += lendiff;
        display.viewTo += lendiff;
      }
    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap
      resetView(cm);
    } else if (from <= display.viewFrom) { // Top overlap
      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);
      if (cut) {
        display.view = display.view.slice(cut.index);
        display.viewFrom = cut.lineN;
        display.viewTo += lendiff;
      } else {
        resetView(cm);
      }
    } else if (to >= display.viewTo) { // Bottom overlap
      var cut = viewCuttingPoint(cm, from, from, -1);
      if (cut) {
        display.view = display.view.slice(0, cut.index);
        display.viewTo = cut.lineN;
      } else {
        resetView(cm);
      }
    } else { // Gap in the middle
      var cutTop = viewCuttingPoint(cm, from, from, -1);
      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);
      if (cutTop && cutBot) {
        display.view = display.view.slice(0, cutTop.index)
          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))
          .concat(display.view.slice(cutBot.index));
        display.viewTo += lendiff;
      } else {
        resetView(cm);
      }
    }

    var ext = display.externalMeasured;
    if (ext) {
      if (to < ext.lineN)
        ext.lineN += lendiff;
      else if (from < ext.lineN + ext.size)
        display.externalMeasured = null;
    }
  }

  // Register a change to a single line. Type must be one of "text",
  // "gutter", "class", "widget"
  function regLineChange(cm, line, type) {
    cm.curOp.viewChanged = true;
    var display = cm.display, ext = cm.display.externalMeasured;
    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)
      display.externalMeasured = null;

    if (line < display.viewFrom || line >= display.viewTo) return;
    var lineView = display.view[findViewIndex(cm, line)];
    if (lineView.node == null) return;
    var arr = lineView.changes || (lineView.changes = []);
    if (indexOf(arr, type) == -1) arr.push(type);
  }

  // Clear the view.
  function resetView(cm) {
    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;
    cm.display.view = [];
    cm.display.viewOffset = 0;
  }

  // Find the view element corresponding to a given line. Return null
  // when the line isn't visible.
  function findViewIndex(cm, n) {
    if (n >= cm.display.viewTo) return null;
    n -= cm.display.viewFrom;
    if (n < 0) return null;
    var view = cm.display.view;
    for (var i = 0; i < view.length; i++) {
      n -= view[i].size;
      if (n < 0) return i;
    }
  }

  function viewCuttingPoint(cm, oldN, newN, dir) {
    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;
    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)
      return {index: index, lineN: newN};
    for (var i = 0, n = cm.display.viewFrom; i < index; i++)
      n += view[i].size;
    if (n != oldN) {
      if (dir > 0) {
        if (index == view.length - 1) return null;
        diff = (n + view[index].size) - oldN;
        index++;
      } else {
        diff = n - oldN;
      }
      oldN += diff; newN += diff;
    }
    while (visualLineNo(cm.doc, newN) != newN) {
      if (index == (dir < 0 ? 0 : view.length - 1)) return null;
      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;
      index += dir;
    }
    return {index: index, lineN: newN};
  }

  // Force the view to cover a given range, adding empty view element
  // or clipping off existing ones as needed.
  function adjustView(cm, from, to) {
    var display = cm.display, view = display.view;
    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {
      display.view = buildViewArray(cm, from, to);
      display.viewFrom = from;
    } else {
      if (display.viewFrom > from)
        display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view);
      else if (display.viewFrom < from)
        display.view = display.view.slice(findViewIndex(cm, from));
      display.viewFrom = from;
      if (display.viewTo < to)
        display.view = display.view.concat(buildViewArray(cm, display.viewTo, to));
      else if (display.viewTo > to)
        display.view = display.view.slice(0, findViewIndex(cm, to));
    }
    display.viewTo = to;
  }

  // Count the number of lines in the view whose DOM representation is
  // out of date (or nonexistent).
  function countDirtyView(cm) {
    var view = cm.display.view, dirty = 0;
    for (var i = 0; i < view.length; i++) {
      var lineView = view[i];
      if (!lineView.hidden && (!lineView.node || lineView.changes)) ++dirty;
    }
    return dirty;
  }

  // INPUT HANDLING

  // Poll for input changes, using the normal rate of polling. This
  // runs as long as the editor is focused.
  function slowPoll(cm) {
    if (cm.display.pollingFast) return;
    cm.display.poll.set(cm.options.pollInterval, function() {
      readInput(cm);
      if (cm.state.focused) slowPoll(cm);
    });
  }

  // When an event has just come in that is likely to add or change
  // something in the input textarea, we poll faster, to ensure that
  // the change appears on the screen quickly.
  function fastPoll(cm) {
    var missed = false;
    cm.display.pollingFast = true;
    function p() {
      var changed = readInput(cm);
      if (!changed && !missed) {missed = true; cm.display.poll.set(60, p);}
      else {cm.display.pollingFast = false; slowPoll(cm);}
    }
    cm.display.poll.set(20, p);
  }

  // This will be set to an array of strings when copying, so that,
  // when pasting, we know what kind of selections the copied text
  // was made out of.
  var lastCopied = null;

  // Read input from the textarea, and update the document to match.
  // When something is selected, it is present in the textarea, and
  // selected (unless it is huge, in which case a placeholder is
  // used). When nothing is selected, the cursor sits after previously
  // seen text (can be empty), which is stored in prevInput (we must
  // not reset the textarea when typing, because that breaks IME).
  function readInput(cm) {
    var input = cm.display.input, prevInput = cm.display.prevInput, doc = cm.doc;
    // Since this is called a *lot*, try to bail out as cheaply as
    // possible when it is clear that nothing happened. hasSelection
    // will be the case when there is a lot of text in the textarea,
    // in which case reading its value would be expensive.
    if (!cm.state.focused || (hasSelection(input) && !prevInput) || isReadOnly(cm) || cm.options.disableInput)
      return false;
    // See paste handler for more on the fakedLastChar kludge
    if (cm.state.pasteIncoming && cm.state.fakedLastChar) {
      input.value = input.value.substring(0, input.value.length - 1);
      cm.state.fakedLastChar = false;
    }
    var text = input.value;
    // If nothing changed, bail.
    if (text == prevInput && !cm.somethingSelected()) return false;
    // Work around nonsensical selection resetting in IE9/10, and
    // inexplicable appearance of private area unicode characters on
    // some key combos in Mac (#2689).
    if (ie && ie_version >= 9 && cm.display.inputHasSelection === text ||
        mac && /[\uf700-\uf7ff]/.test(text)) {
      resetInput(cm);
      return false;
    }

    var withOp = !cm.curOp;
    if (withOp) startOperation(cm);
    cm.display.shift = false;

    if (text.charCodeAt(0) == 0x200b && doc.sel == cm.display.selForContextMenu && !prevInput)
      prevInput = "\u200b";
    // Find the part of the input that is actually new
    var same = 0, l = Math.min(prevInput.length, text.length);
    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) ++same;
    var inserted = text.slice(same), textLines = splitLines(inserted);

    // When pasing N lines into N selections, insert one line per selection
    var multiPaste = null;
    if (cm.state.pasteIncoming && doc.sel.ranges.length > 1) {
      if (lastCopied && lastCopied.join("\n") == inserted)
        multiPaste = doc.sel.ranges.length % lastCopied.length == 0 && map(lastCopied, splitLines);
      else if (textLines.length == doc.sel.ranges.length)
        multiPaste = map(textLines, function(l) { return [l]; });
    }

    // Normal behavior is to insert the new text into every selection
    for (var i = doc.sel.ranges.length - 1; i >= 0; i--) {
      var range = doc.sel.ranges[i];
      var from = range.from(), to = range.to();
      // Handle deletion
      if (same < prevInput.length)
        from = Pos(from.line, from.ch - (prevInput.length - same));
      // Handle overwrite
      else if (cm.state.overwrite && range.empty() && !cm.state.pasteIncoming)
        to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length));
      var updateInput = cm.curOp.updateInput;
      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i % multiPaste.length] : textLines,
                         origin: cm.state.pasteIncoming ? "paste" : cm.state.cutIncoming ? "cut" : "+input"};
      makeChange(cm.doc, changeEvent);
      signalLater(cm, "inputRead", cm, changeEvent);
      // When an 'electric' character is inserted, immediately trigger a reindent
      if (inserted && !cm.state.pasteIncoming && cm.options.electricChars &&
          cm.options.smartIndent && range.head.ch < 100 &&
          (!i || doc.sel.ranges[i - 1].head.line != range.head.line)) {
        var mode = cm.getModeAt(range.head);
        var end = changeEnd(changeEvent);
        if (mode.electricChars) {
          for (var j = 0; j < mode.electricChars.length; j++)
            if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {
              indentLine(cm, end.line, "smart");
              break;
            }
        } else if (mode.electricInput) {
          if (mode.electricInput.test(getLine(doc, end.line).text.slice(0, end.ch)))
            indentLine(cm, end.line, "smart");
        }
      }
    }
    ensureCursorVisible(cm);
    cm.curOp.updateInput = updateInput;
    cm.curOp.typing = true;

    // Don't leave long text in the textarea, since it makes further polling slow
    if (text.length > 1000 || text.indexOf("\n") > -1) input.value = cm.display.prevInput = "";
    else cm.display.prevInput = text;
    if (withOp) endOperation(cm);
    cm.state.pasteIncoming = cm.state.cutIncoming = false;
    return true;
  }

  // Reset the input to correspond to the selection (or to be empty,
  // when not typing and nothing is selected)
  function resetInput(cm, typing) {
    var minimal, selected, doc = cm.doc;
    if (cm.somethingSelected()) {
      cm.display.prevInput = "";
      var range = doc.sel.primary();
      minimal = hasCopyEvent &&
        (range.to().line - range.from().line > 100 || (selected = cm.getSelection()).length > 1000);
      var content = minimal ? "-" : selected || cm.getSelection();
      cm.display.input.value = content;
      if (cm.state.focused) selectInput(cm.display.input);
      if (ie && ie_version >= 9) cm.display.inputHasSelection = content;
    } else if (!typing) {
      cm.display.prevInput = cm.display.input.value = "";
      if (ie && ie_version >= 9) cm.display.inputHasSelection = null;
    }
    cm.display.inaccurateSelection = minimal;
  }

  function focusInput(cm) {
    if (cm.options.readOnly != "nocursor" && (!mobile || activeElt() != cm.display.input))
      cm.display.input.focus();
  }

  function ensureFocus(cm) {
    if (!cm.state.focused) { focusInput(cm); onFocus(cm); }
  }

  function isReadOnly(cm) {
    return cm.options.readOnly || cm.doc.cantEdit;
  }

  // EVENT HANDLERS

  // Attach the necessary event handlers when initializing the editor
  function registerEventHandlers(cm) {
    var d = cm.display;
    on(d.scroller, "mousedown", operation(cm, onMouseDown));
    // Older IE's will not fire a second mousedown for a double click
    if (ie && ie_version < 11)
      on(d.scroller, "dblclick", operation(cm, function(e) {
        if (signalDOMEvent(cm, e)) return;
        var pos = posFromMouse(cm, e);
        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) return;
        e_preventDefault(e);
        var word = cm.findWordAt(pos);
        extendSelection(cm.doc, word.anchor, word.head);
      }));
    else
      on(d.scroller, "dblclick", function(e) { signalDOMEvent(cm, e) || e_preventDefault(e); });
    // Prevent normal selection in the editor (we handle our own)
    on(d.lineSpace, "selectstart", function(e) {
      if (!eventInWidget(d, e)) e_preventDefault(e);
    });
    // Some browsers fire contextmenu *after* opening the menu, at
    // which point we can't mess with it anymore. Context menu is
    // handled in onMouseDown for these browsers.
    if (!captureRightClick) on(d.scroller, "contextmenu", function(e) {onContextMenu(cm, e);});

    // Sync scrolling between fake scrollbars and real scrollable
    // area, ensure viewport is updated when scrolling.
    on(d.scroller, "scroll", function() {
      if (d.scroller.clientHeight) {
        setScrollTop(cm, d.scroller.scrollTop);
        setScrollLeft(cm, d.scroller.scrollLeft, true);
        signal(cm, "scroll", cm);
      }
    });
    on(d.scrollbarV, "scroll", function() {
      if (d.scroller.clientHeight) setScrollTop(cm, d.scrollbarV.scrollTop);
    });
    on(d.scrollbarH, "scroll", function() {
      if (d.scroller.clientHeight) setScrollLeft(cm, d.scrollbarH.scrollLeft);
    });

    // Listen to wheel events in order to try and update the viewport on time.
    on(d.scroller, "mousewheel", function(e){onScrollWheel(cm, e);});
    on(d.scroller, "DOMMouseScroll", function(e){onScrollWheel(cm, e);});

    // Prevent clicks in the scrollbars from killing focus
    function reFocus() { if (cm.state.focused) setTimeout(bind(focusInput, cm), 0); }
    on(d.scrollbarH, "mousedown", reFocus);
    on(d.scrollbarV, "mousedown", reFocus);
    // Prevent wrapper from ever scrolling
    on(d.wrapper, "scroll", function() { d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });

    on(d.input, "keyup", function(e) { onKeyUp.call(cm, e); });
    on(d.input, "input", function() {
      if (ie && ie_version >= 9 && cm.display.inputHasSelection) cm.display.inputHasSelection = null;
      fastPoll(cm);
    });
    on(d.input, "keydown", operation(cm, onKeyDown));
    on(d.input, "keypress", operation(cm, onKeyPress));
    on(d.input, "focus", bind(onFocus, cm));
    on(d.input, "blur", bind(onBlur, cm));

    function drag_(e) {
      if (!signalDOMEvent(cm, e)) e_stop(e);
    }
    if (cm.options.dragDrop) {
      on(d.scroller, "dragstart", function(e){onDragStart(cm, e);});
      on(d.scroller, "dragenter", drag_);
      on(d.scroller, "dragover", drag_);
      on(d.scroller, "drop", operation(cm, onDrop));
    }
    on(d.scroller, "paste", function(e) {
      if (eventInWidget(d, e)) return;
      cm.state.pasteIncoming = true;
      focusInput(cm);
      fastPoll(cm);
    });
    on(d.input, "paste", function() {
      // Workaround for webkit bug https://bugs.webkit.org/show_bug.cgi?id=90206
      // Add a char to the end of textarea before paste occur so that
      // selection doesn't span to the end of textarea.
      if (webkit && !cm.state.fakedLastChar && !(new Date - cm.state.lastMiddleDown < 200)) {
        var start = d.input.selectionStart, end = d.input.selectionEnd;
        d.input.value += "$";
        // The selection end needs to be set before the start, otherwise there
        // can be an intermediate non-empty selection between the two, which
        // can override the middle-click paste buffer on linux and cause the
        // wrong thing to get pasted.
        d.input.selectionEnd = end;
        d.input.selectionStart = start;
        cm.state.fakedLastChar = true;
      }
      cm.state.pasteIncoming = true;
      fastPoll(cm);
    });

    function prepareCopyCut(e) {
      if (cm.somethingSelected()) {
        lastCopied = cm.getSelections();
        if (d.inaccurateSelection) {
          d.prevInput = "";
          d.inaccurateSelection = false;
          d.input.value = lastCopied.join("\n");
          selectInput(d.input);
        }
      } else {
        var text = [], ranges = [];
        for (var i = 0; i < cm.doc.sel.ranges.length; i++) {
          var line = cm.doc.sel.ranges[i].head.line;
          var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};
          ranges.push(lineRange);
          text.push(cm.getRange(lineRange.anchor, lineRange.head));
        }
        if (e.type == "cut") {
          cm.setSelections(ranges, null, sel_dontScroll);
        } else {
          d.prevInput = "";
          d.input.value = text.join("\n");
          selectInput(d.input);
        }
        lastCopied = text;
      }
      if (e.type == "cut") cm.state.cutIncoming = true;
    }
    on(d.input, "cut", prepareCopyCut);
    on(d.input, "copy", prepareCopyCut);

    // Needed to handle Tab key in KHTML
    if (khtml) on(d.sizer, "mouseup", function() {
      if (activeElt() == d.input) d.input.blur();
      focusInput(cm);
    });
  }

  // Called when the window resizes
  function onResize(cm) {
    // Might be a text scaling operation, clear size caches.
    var d = cm.display;
    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;
    cm.setSize();
  }

  // MOUSE EVENTS

  // Return true when the given mouse event happened in a widget
  function eventInWidget(display, e) {
    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {
      if (!n || n.ignoreEvents || n.parentNode == display.sizer && n != display.mover) return true;
    }
  }

  // Given a mouse event, find the corresponding position. If liberal
  // is false, it checks whether a gutter or scrollbar was clicked,
  // and returns null if it was. forRect is used by rectangular
  // selections, and tries to estimate a character position even for
  // coordinates beyond the right of the text.
  function posFromMouse(cm, e, liberal, forRect) {
    var display = cm.display;
    if (!liberal) {
      var target = e_target(e);
      if (target == display.scrollbarH || target == display.scrollbarV ||
          target == display.scrollbarFiller || target == display.gutterFiller) return null;
    }
    var x, y, space = display.lineSpace.getBoundingClientRect();
    // Fails unpredictably on IE[67] when mouse is dragged around quickly.
    try { x = e.clientX - space.left; y = e.clientY - space.top; }
    catch (e) { return null; }
    var coords = coordsChar(cm, x, y), line;
    if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {
      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;
      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));
    }
    return coords;
  }

  // A mouse down can be a single click, double click, triple click,
  // start of selection drag, start of text drag, new cursor
  // (ctrl-click), rectangle drag (alt-drag), or xwin
  // middle-click-paste. Or it might be a click on something we should
  // not interfere with, such as a scrollbar or widget.
  function onMouseDown(e) {
    if (signalDOMEvent(this, e)) return;
    var cm = this, display = cm.display;
    display.shift = e.shiftKey;

    if (eventInWidget(display, e)) {
      if (!webkit) {
        // Briefly turn off draggability, to allow widgets to do
        // normal dragging things.
        display.scroller.draggable = false;
        setTimeout(function(){display.scroller.draggable = true;}, 100);
      }
      return;
    }
    if (clickInGutter(cm, e)) return;
    var start = posFromMouse(cm, e);
    window.focus();

    switch (e_button(e)) {
    case 1:
      if (start)
        leftButtonDown(cm, e, start);
      else if (e_target(e) == display.scroller)
        e_preventDefault(e);
      break;
    case 2:
      if (webkit) cm.state.lastMiddleDown = +new Date;
      if (start) extendSelection(cm.doc, start);
      setTimeout(bind(focusInput, cm), 20);
      e_preventDefault(e);
      break;
    case 3:
      if (captureRightClick) onContextMenu(cm, e);
      break;
    }
  }

  var lastClick, lastDoubleClick;
  function leftButtonDown(cm, e, start) {
    setTimeout(bind(ensureFocus, cm), 0);

    var now = +new Date, type;
    if (lastDoubleClick && lastDoubleClick.time > now - 400 && cmp(lastDoubleClick.pos, start) == 0) {
      type = "triple";
    } else if (lastClick && lastClick.time > now - 400 && cmp(lastClick.pos, start) == 0) {
      type = "double";
      lastDoubleClick = {time: now, pos: start};
    } else {
      type = "single";
      lastClick = {time: now, pos: start};
    }

    var sel = cm.doc.sel, modifier = mac ? e.metaKey : e.ctrlKey;
    if (cm.options.dragDrop && dragAndDrop && !isReadOnly(cm) &&
        type == "single" && sel.contains(start) > -1 && sel.somethingSelected())
      leftButtonStartDrag(cm, e, start, modifier);
    else
      leftButtonSelect(cm, e, start, type, modifier);
  }

  // Start a text drag. When it ends, see if any dragging actually
  // happen, and treat as a click if it didn't.
  function leftButtonStartDrag(cm, e, start, modifier) {
    var display = cm.display;
    var dragEnd = operation(cm, function(e2) {
      if (webkit) display.scroller.draggable = false;
      cm.state.draggingText = false;
      off(document, "mouseup", dragEnd);
      off(display.scroller, "drop", dragEnd);
      if (Math.abs(e.clientX - e2.clientX) + Math.abs(e.clientY - e2.clientY) < 10) {
        e_preventDefault(e2);
        if (!modifier)
          extendSelection(cm.doc, start);
        focusInput(cm);
        // Work around unexplainable focus problem in IE9 (#2127)
        if (ie && ie_version == 9)
          setTimeout(function() {document.body.focus(); focusInput(cm);}, 20);
      }
    });
    // Let the drag handler handle this.
    if (webkit) display.scroller.draggable = true;
    cm.state.draggingText = dragEnd;
    // IE's approach to draggable
    if (display.scroller.dragDrop) display.scroller.dragDrop();
    on(document, "mouseup", dragEnd);
    on(display.scroller, "drop", dragEnd);
  }

  // Normal selection, as opposed to text dragging.
  function leftButtonSelect(cm, e, start, type, addNew) {
    var display = cm.display, doc = cm.doc;
    e_preventDefault(e);

    var ourRange, ourIndex, startSel = doc.sel;
    if (addNew && !e.shiftKey) {
      ourIndex = doc.sel.contains(start);
      if (ourIndex > -1)
        ourRange = doc.sel.ranges[ourIndex];
      else
        ourRange = new Range(start, start);
    } else {
      ourRange = doc.sel.primary();
    }

    if (e.altKey) {
      type = "rect";
      if (!addNew) ourRange = new Range(start, start);
      start = posFromMouse(cm, e, true, true);
      ourIndex = -1;
    } else if (type == "double") {
      var word = cm.findWordAt(start);
      if (cm.display.shift || doc.extend)
        ourRange = extendRange(doc, ourRange, word.anchor, word.head);
      else
        ourRange = word;
    } else if (type == "triple") {
      var line = new Range(Pos(start.line, 0), clipPos(doc, Pos(start.line + 1, 0)));
      if (cm.display.shift || doc.extend)
        ourRange = extendRange(doc, ourRange, line.anchor, line.head);
      else
        ourRange = line;
    } else {
      ourRange = extendRange(doc, ourRange, start);
    }

    if (!addNew) {
      ourIndex = 0;
      setSelection(doc, new Selection([ourRange], 0), sel_mouse);
      startSel = doc.sel;
    } else if (ourIndex > -1) {
      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);
    } else {
      ourIndex = doc.sel.ranges.length;
      setSelection(doc, normalizeSelection(doc.sel.ranges.concat([ourRange]), ourIndex),
                   {scroll: false, origin: "*mouse"});
    }

    var lastPos = start;
    function extendTo(pos) {
      if (cmp(lastPos, pos) == 0) return;
      lastPos = pos;

      if (type == "rect") {
        var ranges = [], tabSize = cm.options.tabSize;
        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);
        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);
        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);
        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));
             line <= end; line++) {
          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);
          if (left == right)
            ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos)));
          else if (text.length > leftPos)
            ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize))));
        }
        if (!ranges.length) ranges.push(new Range(start, start));
        setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),
                     {origin: "*mouse", scroll: false});
        cm.scrollIntoView(pos);
      } else {
        var oldRange = ourRange;
        var anchor = oldRange.anchor, head = pos;
        if (type != "single") {
          if (type == "double")
            var range = cm.findWordAt(pos);
          else
            var range = new Range(Pos(pos.line, 0), clipPos(doc, Pos(pos.line + 1, 0)));
          if (cmp(range.anchor, anchor) > 0) {
            head = range.head;
            anchor = minPos(oldRange.from(), range.anchor);
          } else {
            head = range.anchor;
            anchor = maxPos(oldRange.to(), range.head);
          }
        }
        var ranges = startSel.ranges.slice(0);
        ranges[ourIndex] = new Range(clipPos(doc, anchor), head);
        setSelection(doc, normalizeSelection(ranges, ourIndex), sel_mouse);
      }
    }

    var editorSize = display.wrapper.getBoundingClientRect();
    // Used to ensure timeout re-tries don't fire when another extend
    // happened in the meantime (clearTimeout isn't reliable -- at
    // least on Chrome, the timeouts still happen even when cleared,
    // if the clear happens after their scheduled firing time).
    var counter = 0;

    function extend(e) {
      var curCount = ++counter;
      var cur = posFromMouse(cm, e, true, type == "rect");
      if (!cur) return;
      if (cmp(cur, lastPos) != 0) {
        ensureFocus(cm);
        extendTo(cur);
        var visible = visibleLines(display, doc);
        if (cur.line >= visible.to || cur.line < visible.from)
          setTimeout(operation(cm, function(){if (counter == curCount) extend(e);}), 150);
      } else {
        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;
        if (outside) setTimeout(operation(cm, function() {
          if (counter != curCount) return;
          display.scroller.scrollTop += outside;
          extend(e);
        }), 50);
      }
    }

    function done(e) {
      counter = Infinity;
      e_preventDefault(e);
      focusInput(cm);
      off(document, "mousemove", move);
      off(document, "mouseup", up);
      doc.history.lastSelOrigin = null;
    }

    var move = operation(cm, function(e) {
      if (!e_button(e)) done(e);
      else extend(e);
    });
    var up = operation(cm, done);
    on(document, "mousemove", move);
    on(document, "mouseup", up);
  }

  // Determines whether an event happened in the gutter, and fires the
  // handlers for the corresponding event.
  function gutterEvent(cm, e, type, prevent, signalfn) {
    try { var mX = e.clientX, mY = e.clientY; }
    catch(e) { return false; }
    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) return false;
    if (prevent) e_preventDefault(e);

    var display = cm.display;
    var lineBox = display.lineDiv.getBoundingClientRect();

    if (mY > lineBox.bottom || !hasHandler(cm, type)) return e_defaultPrevented(e);
    mY -= lineBox.top - display.viewOffset;

    for (var i = 0; i < cm.options.gutters.length; ++i) {
      var g = display.gutters.childNodes[i];
      if (g && g.getBoundingClientRect().right >= mX) {
        var line = lineAtHeight(cm.doc, mY);
        var gutter = cm.options.gutters[i];
        signalfn(cm, type, cm, line, gutter, e);
        return e_defaultPrevented(e);
      }
    }
  }

  function clickInGutter(cm, e) {
    return gutterEvent(cm, e, "gutterClick", true, signalLater);
  }

  // Kludge to work around strange IE behavior where it'll sometimes
  // re-fire a series of drag-related events right after the drop (#1551)
  var lastDrop = 0;

  function onDrop(e) {
    var cm = this;
    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))
      return;
    e_preventDefault(e);
    if (ie) lastDrop = +new Date;
    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;
    if (!pos || isReadOnly(cm)) return;
    // Might be a file drop, in which case we simply extract the text
    // and insert it.
    if (files && files.length && window.FileReader && window.File) {
      var n = files.length, text = Array(n), read = 0;
      var loadFile = function(file, i) {
        var reader = new FileReader;
        reader.onload = operation(cm, function() {
          text[i] = reader.result;
          if (++read == n) {
            pos = clipPos(cm.doc, pos);
            var change = {from: pos, to: pos, text: splitLines(text.join("\n")), origin: "paste"};
            makeChange(cm.doc, change);
            setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));
          }
        });
        reader.readAsText(file);
      };
      for (var i = 0; i < n; ++i) loadFile(files[i], i);
    } else { // Normal drop
      // Don't do a replace if the drop happened inside of the selected text.
      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {
        cm.state.draggingText(e);
        // Ensure the editor is re-focused
        setTimeout(bind(focusInput, cm), 20);
        return;
      }
      try {
        var text = e.dataTransfer.getData("Text");
        if (text) {
          if (cm.state.draggingText && !(mac ? e.metaKey : e.ctrlKey))
            var selected = cm.listSelections();
          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));
          if (selected) for (var i = 0; i < selected.length; ++i)
            replaceRange(cm.doc, "", selected[i].anchor, selected[i].head, "drag");
          cm.replaceSelection(text, "around", "paste");
          focusInput(cm);
        }
      }
      catch(e){}
    }
  }

  function onDragStart(cm, e) {
    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return; }
    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) return;

    e.dataTransfer.setData("Text", cm.getSelection());

    // Use dummy image instead of default browsers image.
    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.
    if (e.dataTransfer.setDragImage && !safari) {
      var img = elt("img", null, null, "position: fixed; left: 0; top: 0;");
      img.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";
      if (presto) {
        img.width = img.height = 1;
        cm.display.wrapper.appendChild(img);
        // Force a relayout, or Opera won't use our image for some obscure reason
        img._top = img.offsetTop;
      }
      e.dataTransfer.setDragImage(img, 0, 0);
      if (presto) img.parentNode.removeChild(img);
    }
  }

  // SCROLL EVENTS

  // Sync the scrollable area and scrollbars, ensure the viewport
  // covers the visible area.
  function setScrollTop(cm, val) {
    if (Math.abs(cm.doc.scrollTop - val) < 2) return;
    cm.doc.scrollTop = val;
    if (!gecko) updateDisplaySimple(cm, {top: val});
    if (cm.display.scroller.scrollTop != val) cm.display.scroller.scrollTop = val;
    if (cm.display.scrollbarV.scrollTop != val) cm.display.scrollbarV.scrollTop = val;
    if (gecko) updateDisplaySimple(cm);
    startWorker(cm, 100);
  }
  // Sync scroller and scrollbar, ensure the gutter elements are
  // aligned.
  function setScrollLeft(cm, val, isScroller) {
    if (isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) return;
    val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);
    cm.doc.scrollLeft = val;
    alignHorizontally(cm);
    if (cm.display.scroller.scrollLeft != val) cm.display.scroller.scrollLeft = val;
    if (cm.display.scrollbarH.scrollLeft != val) cm.display.scrollbarH.scrollLeft = val;
  }

  // Since the delta values reported on mouse wheel events are
  // unstandardized between browsers and even browser versions, and
  // generally horribly unpredictable, this code starts by measuring
  // the scroll effect that the first few mouse wheel events have,
  // and, from that, detects the way it can convert deltas to pixel
  // offsets afterwards.
  //
  // The reason we want to know the amount a wheel event will scroll
  // is that it gives us a chance to update the display before the
  // actual scrolling happens, reducing flickering.

  var wheelSamples = 0, wheelPixelsPerUnit = null;
  // Fill in a browser-detected starting value on browsers where we
  // know one. These don't have to be accurate -- the result of them
  // being wrong would just be a slight flicker on the first wheel
  // scroll (if it is large enough).
  if (ie) wheelPixelsPerUnit = -.53;
  else if (gecko) wheelPixelsPerUnit = 15;
  else if (chrome) wheelPixelsPerUnit = -.7;
  else if (safari) wheelPixelsPerUnit = -1/3;

  function onScrollWheel(cm, e) {
    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;
    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) dx = e.detail;
    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) dy = e.detail;
    else if (dy == null) dy = e.wheelDelta;

    var display = cm.display, scroll = display.scroller;
    // Quit if there's nothing to scroll here
    if (!(dx && scroll.scrollWidth > scroll.clientWidth ||
          dy && scroll.scrollHeight > scroll.clientHeight)) return;

    // Webkit browsers on OS X abort momentum scrolls when the target
    // of the scroll event is removed from the scrollable element.
    // This hack (see related code in patchDisplay) makes sure the
    // element is kept around.
    if (dy && mac && webkit) {
      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {
        for (var i = 0; i < view.length; i++) {
          if (view[i].node == cur) {
            cm.display.currentWheelTarget = cur;
            break outer;
          }
        }
      }
    }

    // On some browsers, horizontal scrolling will cause redraws to
    // happen before the gutter has been realigned, causing it to
    // wriggle around in a most unseemly way. When we have an
    // estimated pixels/delta value, we just handle horizontal
    // scrolling entirely here. It'll be slightly off from native, but
    // better than glitching out.
    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {
      if (dy)
        setScrollTop(cm, Math.max(0, Math.min(scroll.scrollTop + dy * wheelPixelsPerUnit, scroll.scrollHeight - scroll.clientHeight)));
      setScrollLeft(cm, Math.max(0, Math.min(scroll.scrollLeft + dx * wheelPixelsPerUnit, scroll.scrollWidth - scroll.clientWidth)));
      e_preventDefault(e);
      display.wheelStartX = null; // Abort measurement, if in progress
      return;
    }

    // 'Project' the visible viewport to cover the area that is being
    // scrolled into view (if we know enough to estimate it).
    if (dy && wheelPixelsPerUnit != null) {
      var pixels = dy * wheelPixelsPerUnit;
      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;
      if (pixels < 0) top = Math.max(0, top + pixels - 50);
      else bot = Math.min(cm.doc.height, bot + pixels + 50);
      updateDisplaySimple(cm, {top: top, bottom: bot});
    }

    if (wheelSamples < 20) {
      if (display.wheelStartX == null) {
        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;
        display.wheelDX = dx; display.wheelDY = dy;
        setTimeout(function() {
          if (display.wheelStartX == null) return;
          var movedX = scroll.scrollLeft - display.wheelStartX;
          var movedY = scroll.scrollTop - display.wheelStartY;
          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||
            (movedX && display.wheelDX && movedX / display.wheelDX);
          display.wheelStartX = display.wheelStartY = null;
          if (!sample) return;
          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);
          ++wheelSamples;
        }, 200);
      } else {
        display.wheelDX += dx; display.wheelDY += dy;
      }
    }
  }

  // KEY EVENTS

  // Run a handler that was bound to a key.
  function doHandleBinding(cm, bound, dropShift) {
    if (typeof bound == "string") {
      bound = commands[bound];
      if (!bound) return false;
    }
    // Ensure previous input has been read, so that the handler sees a
    // consistent view of the document
    if (cm.display.pollingFast && readInput(cm)) cm.display.pollingFast = false;
    var prevShift = cm.display.shift, done = false;
    try {
      if (isReadOnly(cm)) cm.state.suppressEdits = true;
      if (dropShift) cm.display.shift = false;
      done = bound(cm) != Pass;
    } finally {
      cm.display.shift = prevShift;
      cm.state.suppressEdits = false;
    }
    return done;
  }

  // Collect the currently active keymaps.
  function allKeyMaps(cm) {
    var maps = cm.state.keyMaps.slice(0);
    if (cm.options.extraKeys) maps.push(cm.options.extraKeys);
    maps.push(cm.options.keyMap);
    return maps;
  }

  var maybeTransition;
  // Handle a key from the keydown event.
  function handleKeyBinding(cm, e) {
    // Handle automatic keymap transitions
    var startMap = getKeyMap(cm.options.keyMap), next = startMap.auto;
    clearTimeout(maybeTransition);
    if (next && !isModifierKey(e)) maybeTransition = setTimeout(function() {
      if (getKeyMap(cm.options.keyMap) == startMap) {
        cm.options.keyMap = (next.call ? next.call(null, cm) : next);
        keyMapChanged(cm);
      }
    }, 50);

    var name = keyName(e, true), handled = false;
    if (!name) return false;
    var keymaps = allKeyMaps(cm);

    if (e.shiftKey) {
      // First try to resolve full name (including 'Shift-'). Failing
      // that, see if there is a cursor-motion command (starting with
      // 'go') bound to the keyname without 'Shift-'.
      handled = lookupKey("Shift-" + name, keymaps, function(b) {return doHandleBinding(cm, b, true);})
             || lookupKey(name, keymaps, function(b) {
                  if (typeof b == "string" ? /^go[A-Z]/.test(b) : b.motion)
                    return doHandleBinding(cm, b);
                });
    } else {
      handled = lookupKey(name, keymaps, function(b) { return doHandleBinding(cm, b); });
    }

    if (handled) {
      e_preventDefault(e);
      restartBlink(cm);
      signalLater(cm, "keyHandled", cm, name, e);
    }
    return handled;
  }

  // Handle a key from the keypress event
  function handleCharBinding(cm, e, ch) {
    var handled = lookupKey("'" + ch + "'", allKeyMaps(cm),
                            function(b) { return doHandleBinding(cm, b, true); });
    if (handled) {
      e_preventDefault(e);
      restartBlink(cm);
      signalLater(cm, "keyHandled", cm, "'" + ch + "'", e);
    }
    return handled;
  }

  var lastStoppedKey = null;
  function onKeyDown(e) {
    var cm = this;
    ensureFocus(cm);
    if (signalDOMEvent(cm, e)) return;
    // IE does strange things with escape.
    if (ie && ie_version < 11 && e.keyCode == 27) e.returnValue = false;
    var code = e.keyCode;
    cm.display.shift = code == 16 || e.shiftKey;
    var handled = handleKeyBinding(cm, e);
    if (presto) {
      lastStoppedKey = handled ? code : null;
      // Opera has no cut event... we try to at least catch the key combo
      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))
        cm.replaceSelection("", null, "cut");
    }

    // Turn mouse into crosshair when Alt is held on Mac.
    if (code == 18 && !/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className))
      showCrossHair(cm);
  }

  function showCrossHair(cm) {
    var lineDiv = cm.display.lineDiv;
    addClass(lineDiv, "CodeMirror-crosshair");

    function up(e) {
      if (e.keyCode == 18 || !e.altKey) {
        rmClass(lineDiv, "CodeMirror-crosshair");
        off(document, "keyup", up);
        off(document, "mouseover", up);
      }
    }
    on(document, "keyup", up);
    on(document, "mouseover", up);
  }

  function onKeyUp(e) {
    if (e.keyCode == 16) this.doc.sel.shift = false;
    signalDOMEvent(this, e);
  }

  function onKeyPress(e) {
    var cm = this;
    if (signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) return;
    var keyCode = e.keyCode, charCode = e.charCode;
    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return;}
    if (((presto && (!e.which || e.which < 10)) || khtml) && handleKeyBinding(cm, e)) return;
    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);
    if (handleCharBinding(cm, e, ch)) return;
    if (ie && ie_version >= 9) cm.display.inputHasSelection = null;
    fastPoll(cm);
  }

  // FOCUS/BLUR EVENTS

  function onFocus(cm) {
    if (cm.options.readOnly == "nocursor") return;
    if (!cm.state.focused) {
      signal(cm, "focus", cm);
      cm.state.focused = true;
      addClass(cm.display.wrapper, "CodeMirror-focused");
      // The prevInput test prevents this from firing when a context
      // menu is closed (since the resetInput would kill the
      // select-all detection hack)
      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {
        resetInput(cm);
        if (webkit) setTimeout(bind(resetInput, cm, true), 0); // Issue #1730
      }
    }
    slowPoll(cm);
    restartBlink(cm);
  }
  function onBlur(cm) {
    if (cm.state.focused) {
      signal(cm, "blur", cm);
      cm.state.focused = false;
      rmClass(cm.display.wrapper, "CodeMirror-focused");
    }
    clearInterval(cm.display.blinker);
    setTimeout(function() {if (!cm.state.focused) cm.display.shift = false;}, 150);
  }

  // CONTEXT MENU HANDLING

  // To make the context menu work, we need to briefly unhide the
  // textarea (making it as unobtrusive as possible) to let the
  // right-click take effect on it.
  function onContextMenu(cm, e) {
    if (signalDOMEvent(cm, e, "contextmenu")) return;
    var display = cm.display;
    if (eventInWidget(display, e) || contextMenuInGutter(cm, e)) return;

    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;
    if (!pos || presto) return; // Opera is difficult.

    // Reset the current text selection only if the click is done outside of the selection
    // and 'resetSelectionOnContextMenu' option is true.
    var reset = cm.options.resetSelectionOnContextMenu;
    if (reset && cm.doc.sel.contains(pos) == -1)
      operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll);

    var oldCSS = display.input.style.cssText;
    display.inputDiv.style.position = "absolute";
    display.input.style.cssText = "position: fixed; width: 30px; height: 30px; top: " + (e.clientY - 5) +
      "px; left: " + (e.clientX - 5) + "px; z-index: 1000; background: " +
      (ie ? "rgba(255, 255, 255, .05)" : "transparent") +
      "; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
    if (webkit) var oldScrollY = window.scrollY; // Work around Chrome issue (#2712)
    focusInput(cm);
    if (webkit) window.scrollTo(null, oldScrollY);
    resetInput(cm);
    // Adds "Select all" to context menu in FF
    if (!cm.somethingSelected()) display.input.value = display.prevInput = " ";
    display.selForContextMenu = cm.doc.sel;
    clearTimeout(display.detectingSelectAll);

    // Select-all will be greyed out if there's nothing to select, so
    // this adds a zero-width space so that we can later check whether
    // it got selected.
    function prepareSelectAllHack() {
      if (display.input.selectionStart != null) {
        var selected = cm.somethingSelected();
        var extval = display.input.value = "\u200b" + (selected ? display.input.value : "");
        display.prevInput = selected ? "" : "\u200b";
        display.input.selectionStart = 1; display.input.selectionEnd = extval.length;
        // Re-set this, in case some other handler touched the
        // selection in the meantime.
        display.selForContextMenu = cm.doc.sel;
      }
    }
    function rehide() {
      display.inputDiv.style.position = "relative";
      display.input.style.cssText = oldCSS;
      if (ie && ie_version < 9) display.scrollbarV.scrollTop = display.scroller.scrollTop = scrollPos;
      slowPoll(cm);

      // Try to detect the user choosing select-all
      if (display.input.selectionStart != null) {
        if (!ie || (ie && ie_version < 9)) prepareSelectAllHack();
        var i = 0, poll = function() {
          if (display.selForContextMenu == cm.doc.sel && display.input.selectionStart == 0)
            operation(cm, commands.selectAll)(cm);
          else if (i++ < 10) display.detectingSelectAll = setTimeout(poll, 500);
          else resetInput(cm);
        };
        display.detectingSelectAll = setTimeout(poll, 200);
      }
    }

    if (ie && ie_version >= 9) prepareSelectAllHack();
    if (captureRightClick) {
      e_stop(e);
      var mouseup = function() {
        off(window, "mouseup", mouseup);
        setTimeout(rehide, 20);
      };
      on(window, "mouseup", mouseup);
    } else {
      setTimeout(rehide, 50);
    }
  }

  function contextMenuInGutter(cm, e) {
    if (!hasHandler(cm, "gutterContextMenu")) return false;
    return gutterEvent(cm, e, "gutterContextMenu", false, signal);
  }

  // UPDATING

  // Compute the position of the end of a change (its 'to' property
  // refers to the pre-change end).
  var changeEnd = CodeMirror.changeEnd = function(change) {
    if (!change.text) return change.to;
    return Pos(change.from.line + change.text.length - 1,
               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0));
  };

  // Adjust a position to refer to the post-change position of the
  // same text, or the end of the change if the change covers it.
  function adjustForChange(pos, change) {
    if (cmp(pos, change.from) < 0) return pos;
    if (cmp(pos, change.to) <= 0) return changeEnd(change);

    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;
    if (pos.line == change.to.line) ch += changeEnd(change).ch - change.to.ch;
    return Pos(line, ch);
  }

  function computeSelAfterChange(doc, change) {
    var out = [];
    for (var i = 0; i < doc.sel.ranges.length; i++) {
      var range = doc.sel.ranges[i];
      out.push(new Range(adjustForChange(range.anchor, change),
                         adjustForChange(range.head, change)));
    }
    return normalizeSelection(out, doc.sel.primIndex);
  }

  function offsetPos(pos, old, nw) {
    if (pos.line == old.line)
      return Pos(nw.line, pos.ch - old.ch + nw.ch);
    else
      return Pos(nw.line + (pos.line - old.line), pos.ch);
  }

  // Used by replaceSelections to allow moving the selection to the
  // start or around the replaced test. Hint may be "start" or "around".
  function computeReplacedSel(doc, changes, hint) {
    var out = [];
    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;
    for (var i = 0; i < changes.length; i++) {
      var change = changes[i];
      var from = offsetPos(change.from, oldPrev, newPrev);
      var to = offsetPos(changeEnd(change), oldPrev, newPrev);
      oldPrev = change.to;
      newPrev = to;
      if (hint == "around") {
        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;
        out[i] = new Range(inv ? to : from, inv ? from : to);
      } else {
        out[i] = new Range(from, from);
      }
    }
    return new Selection(out, doc.sel.primIndex);
  }

  // Allow "beforeChange" event handlers to influence a change
  function filterChange(doc, change, update) {
    var obj = {
      canceled: false,
      from: change.from,
      to: change.to,
      text: change.text,
      origin: change.origin,
      cancel: function() { this.canceled = true; }
    };
    if (update) obj.update = function(from, to, text, origin) {
      if (from) this.from = clipPos(doc, from);
      if (to) this.to = clipPos(doc, to);
      if (text) this.text = text;
      if (origin !== undefined) this.origin = origin;
    };
    signal(doc, "beforeChange", doc, obj);
    if (doc.cm) signal(doc.cm, "beforeChange", doc.cm, obj);

    if (obj.canceled) return null;
    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin};
  }

  // Apply a change to a document, and add it to the document's
  // history, and propagating it to all linked documents.
  function makeChange(doc, change, ignoreReadOnly) {
    if (doc.cm) {
      if (!doc.cm.curOp) return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly);
      if (doc.cm.state.suppressEdits) return;
    }

    if (hasHandler(doc, "beforeChange") || doc.cm && hasHandler(doc.cm, "beforeChange")) {
      change = filterChange(doc, change, true);
      if (!change) return;
    }

    // Possibly split or suppress the update based on the presence
    // of read-only spans in its range.
    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);
    if (split) {
      for (var i = split.length - 1; i >= 0; --i)
        makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [""] : change.text});
    } else {
      makeChangeInner(doc, change);
    }
  }

  function makeChangeInner(doc, change) {
    if (change.text.length == 1 && change.text[0] == "" && cmp(change.from, change.to) == 0) return;
    var selAfter = computeSelAfterChange(doc, change);
    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);

    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));
    var rebased = [];

    linkedDocs(doc, function(doc, sharedHist) {
      if (!sharedHist && indexOf(rebased, doc.history) == -1) {
        rebaseHist(doc.history, change);
        rebased.push(doc.history);
      }
      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));
    });
  }

  // Revert a change stored in a document's history.
  function makeChangeFromHistory(doc, type, allowSelectionOnly) {
    if (doc.cm && doc.cm.state.suppressEdits) return;

    var hist = doc.history, event, selAfter = doc.sel;
    var source = type == "undo" ? hist.done : hist.undone, dest = type == "undo" ? hist.undone : hist.done;

    // Verify that there is a useable event (so that ctrl-z won't
    // needlessly clear selection events)
    for (var i = 0; i < source.length; i++) {
      event = source[i];
      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)
        break;
    }
    if (i == source.length) return;
    hist.lastOrigin = hist.lastSelOrigin = null;

    for (;;) {
      event = source.pop();
      if (event.ranges) {
        pushSelectionToHistory(event, dest);
        if (allowSelectionOnly && !event.equals(doc.sel)) {
          setSelection(doc, event, {clearRedo: false});
          return;
        }
        selAfter = event;
      }
      else break;
    }

    // Build up a reverse change object to add to the opposite history
    // stack (redo when undoing, and vice versa).
    var antiChanges = [];
    pushSelectionToHistory(selAfter, dest);
    dest.push({changes: antiChanges, generation: hist.generation});
    hist.generation = event.generation || ++hist.maxGeneration;

    var filter = hasHandler(doc, "beforeChange") || doc.cm && hasHandler(doc.cm, "beforeChange");

    for (var i = event.changes.length - 1; i >= 0; --i) {
      var change = event.changes[i];
      change.origin = type;
      if (filter && !filterChange(doc, change, false)) {
        source.length = 0;
        return;
      }

      antiChanges.push(historyChangeFromChange(doc, change));

      var after = i ? computeSelAfterChange(doc, change) : lst(source);
      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));
      if (!i && doc.cm) doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)});
      var rebased = [];

      // Propagate to the linked documents
      linkedDocs(doc, function(doc, sharedHist) {
        if (!sharedHist && indexOf(rebased, doc.history) == -1) {
          rebaseHist(doc.history, change);
          rebased.push(doc.history);
        }
        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));
      });
    }
  }

  // Sub-views need their line numbers shifted when text is added
  // above or below them in the parent document.
  function shiftDoc(doc, distance) {
    if (distance == 0) return;
    doc.first += distance;
    doc.sel = new Selection(map(doc.sel.ranges, function(range) {
      return new Range(Pos(range.anchor.line + distance, range.anchor.ch),
                       Pos(range.head.line + distance, range.head.ch));
    }), doc.sel.primIndex);
    if (doc.cm) {
      regChange(doc.cm, doc.first, doc.first - distance, distance);
      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)
        regLineChange(doc.cm, l, "gutter");
    }
  }

  // More lower-level change function, handling only a single document
  // (not linked ones).
  function makeChangeSingleDoc(doc, change, selAfter, spans) {
    if (doc.cm && !doc.cm.curOp)
      return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans);

    if (change.to.line < doc.first) {
      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));
      return;
    }
    if (change.from.line > doc.lastLine()) return;

    // Clip the change to the size of this doc
    if (change.from.line < doc.first) {
      var shift = change.text.length - 1 - (doc.first - change.from.line);
      shiftDoc(doc, shift);
      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),
                text: [lst(change.text)], origin: change.origin};
    }
    var last = doc.lastLine();
    if (change.to.line > last) {
      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),
                text: [change.text[0]], origin: change.origin};
    }

    change.removed = getBetween(doc, change.from, change.to);

    if (!selAfter) selAfter = computeSelAfterChange(doc, change);
    if (doc.cm) makeChangeSingleDocInEditor(doc.cm, change, spans);
    else updateDoc(doc, change, spans);
    setSelectionNoUndo(doc, selAfter, sel_dontScroll);
  }

  // Handle the interaction of a change to a document with the editor
  // that this document is part of.
  function makeChangeSingleDocInEditor(cm, change, spans) {
    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;

    var recomputeMaxLength = false, checkWidthStart = from.line;
    if (!cm.options.lineWrapping) {
      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));
      doc.iter(checkWidthStart, to.line + 1, function(line) {
        if (line == display.maxLine) {
          recomputeMaxLength = true;
          return true;
        }
      });
    }

    if (doc.sel.contains(change.from, change.to) > -1)
      signalCursorActivity(cm);

    updateDoc(doc, change, spans, estimateHeight(cm));

    if (!cm.options.lineWrapping) {
      doc.iter(checkWidthStart, from.line + change.text.length, function(line) {
        var len = lineLength(line);
        if (len > display.maxLineLength) {
          display.maxLine = line;
          display.maxLineLength = len;
          display.maxLineChanged = true;
          recomputeMaxLength = false;
        }
      });
      if (recomputeMaxLength) cm.curOp.updateMaxLine = true;
    }

    // Adjust frontier, schedule worker
    doc.frontier = Math.min(doc.frontier, from.line);
    startWorker(cm, 400);

    var lendiff = change.text.length - (to.line - from.line) - 1;
    // Remember that these lines changed, for updating the display
    if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))
      regLineChange(cm, from.line, "text");
    else
      regChange(cm, from.line, to.line + 1, lendiff);

    var changesHandler = hasHandler(cm, "changes"), changeHandler = hasHandler(cm, "change");
    if (changeHandler || changesHandler) {
      var obj = {
        from: from, to: to,
        text: change.text,
        removed: change.removed,
        origin: change.origin
      };
      if (changeHandler) signalLater(cm, "change", cm, obj);
      if (changesHandler) (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj);
    }
    cm.display.selForContextMenu = null;
  }

  function replaceRange(doc, code, from, to, origin) {
    if (!to) to = from;
    if (cmp(to, from) < 0) { var tmp = to; to = from; from = tmp; }
    if (typeof code == "string") code = splitLines(code);
    makeChange(doc, {from: from, to: to, text: code, origin: origin});
  }

  // SCROLLING THINGS INTO VIEW

  // If an editor sits on the top or bottom of the window, partially
  // scrolled out of view, this ensures that the cursor is visible.
  function maybeScrollWindow(cm, coords) {
    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;
    if (coords.top + box.top < 0) doScroll = true;
    else if (coords.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) doScroll = false;
    if (doScroll != null && !phantom) {
      var scrollNode = elt("div", "\u200b", null, "position: absolute; top: " +
                           (coords.top - display.viewOffset - paddingTop(cm.display)) + "px; height: " +
                           (coords.bottom - coords.top + scrollerCutOff) + "px; left: " +
                           coords.left + "px; width: 2px;");
      cm.display.lineSpace.appendChild(scrollNode);
      scrollNode.scrollIntoView(doScroll);
      cm.display.lineSpace.removeChild(scrollNode);
    }
  }

  // Scroll a given position into view (immediately), verifying that
  // it actually became visible (as line heights are accurately
  // measured, the position of something may 'drift' during drawing).
  function scrollPosIntoView(cm, pos, end, margin) {
    if (margin == null) margin = 0;
    for (var limit = 0; limit < 5; limit++) {
      var changed = false, coords = cursorCoords(cm, pos);
      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);
      var scrollPos = calculateScrollPos(cm, Math.min(coords.left, endCoords.left),
                                         Math.min(coords.top, endCoords.top) - margin,
                                         Math.max(coords.left, endCoords.left),
                                         Math.max(coords.bottom, endCoords.bottom) + margin);
      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;
      if (scrollPos.scrollTop != null) {
        setScrollTop(cm, scrollPos.scrollTop);
        if (Math.abs(cm.doc.scrollTop - startTop) > 1) changed = true;
      }
      if (scrollPos.scrollLeft != null) {
        setScrollLeft(cm, scrollPos.scrollLeft);
        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) changed = true;
      }
      if (!changed) return coords;
    }
  }

  // Scroll a given set of coordinates into view (immediately).
  function scrollIntoView(cm, x1, y1, x2, y2) {
    var scrollPos = calculateScrollPos(cm, x1, y1, x2, y2);
    if (scrollPos.scrollTop != null) setScrollTop(cm, scrollPos.scrollTop);
    if (scrollPos.scrollLeft != null) setScrollLeft(cm, scrollPos.scrollLeft);
  }

  // Calculate a new scroll position needed to scroll the given
  // rectangle into view. Returns an object with scrollTop and
  // scrollLeft properties. When these are undefined, the
  // vertical/horizontal position does not need to be adjusted.
  function calculateScrollPos(cm, x1, y1, x2, y2) {
    var display = cm.display, snapMargin = textHeight(cm.display);
    if (y1 < 0) y1 = 0;
    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;
    var screen = display.scroller.clientHeight - scrollerCutOff, result = {};
    if (y2 - y1 > screen) y2 = y1 + screen;
    var docBottom = cm.doc.height + paddingVert(display);
    var atTop = y1 < snapMargin, atBottom = y2 > docBottom - snapMargin;
    if (y1 < screentop) {
      result.scrollTop = atTop ? 0 : y1;
    } else if (y2 > screentop + screen) {
      var newTop = Math.min(y1, (atBottom ? docBottom : y2) - screen);
      if (newTop != screentop) result.scrollTop = newTop;
    }

    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;
    var screenw = display.scroller.clientWidth - scrollerCutOff - display.gutters.offsetWidth;
    var tooWide = x2 - x1 > screenw;
    if (tooWide) x2 = x1 + screenw;
    if (x1 < 10)
      result.scrollLeft = 0;
    else if (x1 < screenleft)
      result.scrollLeft = Math.max(0, x1 - (tooWide ? 0 : 10));
    else if (x2 > screenw + screenleft - 3)
      result.scrollLeft = x2 + (tooWide ? 0 : 10) - screenw;

    return result;
  }

  // Store a relative adjustment to the scroll position in the current
  // operation (to be applied when the operation finishes).
  function addToScrollPos(cm, left, top) {
    if (left != null || top != null) resolveScrollToPos(cm);
    if (left != null)
      cm.curOp.scrollLeft = (cm.curOp.scrollLeft == null ? cm.doc.scrollLeft : cm.curOp.scrollLeft) + left;
    if (top != null)
      cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;
  }

  // Make sure that at the end of the operation the current cursor is
  // shown.
  function ensureCursorVisible(cm) {
    resolveScrollToPos(cm);
    var cur = cm.getCursor(), from = cur, to = cur;
    if (!cm.options.lineWrapping) {
      from = cur.ch ? Pos(cur.line, cur.ch - 1) : cur;
      to = Pos(cur.line, cur.ch + 1);
    }
    cm.curOp.scrollToPos = {from: from, to: to, margin: cm.options.cursorScrollMargin, isCursor: true};
  }

  // When an operation has its scrollToPos property set, and another
  // scroll action is applied before the end of the operation, this
  // 'simulates' scrolling that position into view in a cheap way, so
  // that the effect of intermediate scroll commands is not ignored.
  function resolveScrollToPos(cm) {
    var range = cm.curOp.scrollToPos;
    if (range) {
      cm.curOp.scrollToPos = null;
      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);
      var sPos = calculateScrollPos(cm, Math.min(from.left, to.left),
                                    Math.min(from.top, to.top) - range.margin,
                                    Math.max(from.right, to.right),
                                    Math.max(from.bottom, to.bottom) + range.margin);
      cm.scrollTo(sPos.scrollLeft, sPos.scrollTop);
    }
  }

  // API UTILITIES

  // Indent the given line. The how parameter can be "smart",
  // "add"/null, "subtract", or "prev". When aggressive is false
  // (typically set to true for forced single-line indents), empty
  // lines are not indented, and places where the mode returns Pass
  // are left alone.
  function indentLine(cm, n, how, aggressive) {
    var doc = cm.doc, state;
    if (how == null) how = "add";
    if (how == "smart") {
      // Fall back to "prev" when the mode doesn't have an indentation
      // method.
      if (!doc.mode.indent) how = "prev";
      else state = getStateBefore(cm, n);
    }

    var tabSize = cm.options.tabSize;
    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);
    if (line.stateAfter) line.stateAfter = null;
    var curSpaceString = line.text.match(/^\s*/)[0], indentation;
    if (!aggressive && !/\S/.test(line.text)) {
      indentation = 0;
      how = "not";
    } else if (how == "smart") {
      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);
      if (indentation == Pass || indentation > 150) {
        if (!aggressive) return;
        how = "prev";
      }
    }
    if (how == "prev") {
      if (n > doc.first) indentation = countColumn(getLine(doc, n-1).text, null, tabSize);
      else indentation = 0;
    } else if (how == "add") {
      indentation = curSpace + cm.options.indentUnit;
    } else if (how == "subtract") {
      indentation = curSpace - cm.options.indentUnit;
    } else if (typeof how == "number") {
      indentation = curSpace + how;
    }
    indentation = Math.max(0, indentation);

    var indentString = "", pos = 0;
    if (cm.options.indentWithTabs)
      for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += "\t";}
    if (pos < indentation) indentString += spaceStr(indentation - pos);

    if (indentString != curSpaceString) {
      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), "+input");
    } else {
      // Ensure that, if the cursor was in the whitespace at the start
      // of the line, it is moved to the end of that space.
      for (var i = 0; i < doc.sel.ranges.length; i++) {
        var range = doc.sel.ranges[i];
        if (range.head.line == n && range.head.ch < curSpaceString.length) {
          var pos = Pos(n, curSpaceString.length);
          replaceOneSelection(doc, i, new Range(pos, pos));
          break;
        }
      }
    }
    line.stateAfter = null;
  }

  // Utility for applying a change to a line by handle or number,
  // returning the number and optionally registering the line as
  // changed.
  function changeLine(doc, handle, changeType, op) {
    var no = handle, line = handle;
    if (typeof handle == "number") line = getLine(doc, clipLine(doc, handle));
    else no = lineNo(handle);
    if (no == null) return null;
    if (op(line, no) && doc.cm) regLineChange(doc.cm, no, changeType);
    return line;
  }

  // Helper for deleting text near the selection(s), used to implement
  // backspace, delete, and similar functionality.
  function deleteNearSelection(cm, compute) {
    var ranges = cm.doc.sel.ranges, kill = [];
    // Build up a set of ranges to kill first, merging overlapping
    // ranges.
    for (var i = 0; i < ranges.length; i++) {
      var toKill = compute(ranges[i]);
      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {
        var replaced = kill.pop();
        if (cmp(replaced.from, toKill.from) < 0) {
          toKill.from = replaced.from;
          break;
        }
      }
      kill.push(toKill);
    }
    // Next, remove those actual ranges.
    runInOp(cm, function() {
      for (var i = kill.length - 1; i >= 0; i--)
        replaceRange(cm.doc, "", kill[i].from, kill[i].to, "+delete");
      ensureCursorVisible(cm);
    });
  }

  // Used for horizontal relative motion. Dir is -1 or 1 (left or
  // right), unit can be "char", "column" (like char, but doesn't
  // cross line boundaries), "word" (across next word), or "group" (to
  // the start of next group of word or non-word-non-whitespace
  // chars). The visually param controls whether, in right-to-left
  // text, direction 1 means to move towards the next index in the
  // string, or towards the character to the right of the current
  // position. The resulting position will have a hitSide=true
  // property if it reached the end of the document.
  function findPosH(doc, pos, dir, unit, visually) {
    var line = pos.line, ch = pos.ch, origDir = dir;
    var lineObj = getLine(doc, line);
    var possible = true;
    function findNextLine() {
      var l = line + dir;
      if (l < doc.first || l >= doc.first + doc.size) return (possible = false);
      line = l;
      return lineObj = getLine(doc, l);
    }
    function moveOnce(boundToLine) {
      var next = (visually ? moveVisually : moveLogically)(lineObj, ch, dir, true);
      if (next == null) {
        if (!boundToLine && findNextLine()) {
          if (visually) ch = (dir < 0 ? lineRight : lineLeft)(lineObj);
          else ch = dir < 0 ? lineObj.text.length : 0;
        } else return (possible = false);
      } else ch = next;
      return true;
    }

    if (unit == "char") moveOnce();
    else if (unit == "column") moveOnce(true);
    else if (unit == "word" || unit == "group") {
      var sawType = null, group = unit == "group";
      var helper = doc.cm && doc.cm.getHelper(pos, "wordChars");
      for (var first = true;; first = false) {
        if (dir < 0 && !moveOnce(!first)) break;
        var cur = lineObj.text.charAt(ch) || "\n";
        var type = isWordChar(cur, helper) ? "w"
          : group && cur == "\n" ? "n"
          : !group || /\s/.test(cur) ? null
          : "p";
        if (group && !first && !type) type = "s";
        if (sawType && sawType != type) {
          if (dir < 0) {dir = 1; moveOnce();}
          break;
        }

        if (type) sawType = type;
        if (dir > 0 && !moveOnce(!first)) break;
      }
    }
    var result = skipAtomic(doc, Pos(line, ch), origDir, true);
    if (!possible) result.hitSide = true;
    return result;
  }

  // For relative vertical movement. Dir may be -1 or 1. Unit can be
  // "page" or "line". The resulting position will have a hitSide=true
  // property if it reached the end of the document.
  function findPosV(cm, pos, dir, unit) {
    var doc = cm.doc, x = pos.left, y;
    if (unit == "page") {
      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);
      y = pos.top + dir * (pageSize - (dir < 0 ? 1.5 : .5) * textHeight(cm.display));
    } else if (unit == "line") {
      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;
    }
    for (;;) {
      var target = coordsChar(cm, x, y);
      if (!target.outside) break;
      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break; }
      y += dir * 5;
    }
    return target;
  }

  // EDITOR METHODS

  // The publicly visible API. Note that methodOp(f) means
  // 'wrap f in an operation, performed on its `this` parameter'.

  // This is not the complete set of editor methods. Most of the
  // methods defined on the Doc type are also injected into
  // CodeMirror.prototype, for backwards compatibility and
  // convenience.

  CodeMirror.prototype = {
    constructor: CodeMirror,
    focus: function(){window.focus(); focusInput(this); fastPoll(this);},

    setOption: function(option, value) {
      var options = this.options, old = options[option];
      if (options[option] == value && option != "mode") return;
      options[option] = value;
      if (optionHandlers.hasOwnProperty(option))
        operation(this, optionHandlers[option])(this, value, old);
    },

    getOption: function(option) {return this.options[option];},
    getDoc: function() {return this.doc;},

    addKeyMap: function(map, bottom) {
      this.state.keyMaps[bottom ? "push" : "unshift"](map);
    },
    removeKeyMap: function(map) {
      var maps = this.state.keyMaps;
      for (var i = 0; i < maps.length; ++i)
        if (maps[i] == map || (typeof maps[i] != "string" && maps[i].name == map)) {
          maps.splice(i, 1);
          return true;
        }
    },

    addOverlay: methodOp(function(spec, options) {
      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);
      if (mode.startState) throw new Error("Overlays may not be stateful.");
      this.state.overlays.push({mode: mode, modeSpec: spec, opaque: options && options.opaque});
      this.state.modeGen++;
      regChange(this);
    }),
    removeOverlay: methodOp(function(spec) {
      var overlays = this.state.overlays;
      for (var i = 0; i < overlays.length; ++i) {
        var cur = overlays[i].modeSpec;
        if (cur == spec || typeof spec == "string" && cur.name == spec) {
          overlays.splice(i, 1);
          this.state.modeGen++;
          regChange(this);
          return;
        }
      }
    }),

    indentLine: methodOp(function(n, dir, aggressive) {
      if (typeof dir != "string" && typeof dir != "number") {
        if (dir == null) dir = this.options.smartIndent ? "smart" : "prev";
        else dir = dir ? "add" : "subtract";
      }
      if (isLine(this.doc, n)) indentLine(this, n, dir, aggressive);
    }),
    indentSelection: methodOp(function(how) {
      var ranges = this.doc.sel.ranges, end = -1;
      for (var i = 0; i < ranges.length; i++) {
        var range = ranges[i];
        if (!range.empty()) {
          var from = range.from(), to = range.to();
          var start = Math.max(end, from.line);
          end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;
          for (var j = start; j < end; ++j)
            indentLine(this, j, how);
          var newRanges = this.doc.sel.ranges;
          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)
            replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll);
        } else if (range.head.line > end) {
          indentLine(this, range.head.line, how, true);
          end = range.head.line;
          if (i == this.doc.sel.primIndex) ensureCursorVisible(this);
        }
      }
    }),

    // Fetch the parser token for a given character. Useful for hacks
    // that want to inspect the mode state (say, for completion).
    getTokenAt: function(pos, precise) {
      var doc = this.doc;
      pos = clipPos(doc, pos);
      var state = getStateBefore(this, pos.line, precise), mode = this.doc.mode;
      var line = getLine(doc, pos.line);
      var stream = new StringStream(line.text, this.options.tabSize);
      while (stream.pos < pos.ch && !stream.eol()) {
        stream.start = stream.pos;
        var style = readToken(mode, stream, state);
      }
      return {start: stream.start,
              end: stream.pos,
              string: stream.current(),
              type: style || null,
              state: state};
    },

    getTokenTypeAt: function(pos) {
      pos = clipPos(this.doc, pos);
      var styles = getLineStyles(this, getLine(this.doc, pos.line));
      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;
      var type;
      if (ch == 0) type = styles[2];
      else for (;;) {
        var mid = (before + after) >> 1;
        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) after = mid;
        else if (styles[mid * 2 + 1] < ch) before = mid + 1;
        else { type = styles[mid * 2 + 2]; break; }
      }
      var cut = type ? type.indexOf("cm-overlay ") : -1;
      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1);
    },

    getModeAt: function(pos) {
      var mode = this.doc.mode;
      if (!mode.innerMode) return mode;
      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode;
    },

    getHelper: function(pos, type) {
      return this.getHelpers(pos, type)[0];
    },

    getHelpers: function(pos, type) {
      var found = [];
      if (!helpers.hasOwnProperty(type)) return helpers;
      var help = helpers[type], mode = this.getModeAt(pos);
      if (typeof mode[type] == "string") {
        if (help[mode[type]]) found.push(help[mode[type]]);
      } else if (mode[type]) {
        for (var i = 0; i < mode[type].length; i++) {
          var val = help[mode[type][i]];
          if (val) found.push(val);
        }
      } else if (mode.helperType && help[mode.helperType]) {
        found.push(help[mode.helperType]);
      } else if (help[mode.name]) {
        found.push(help[mode.name]);
      }
      for (var i = 0; i < help._global.length; i++) {
        var cur = help._global[i];
        if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)
          found.push(cur.val);
      }
      return found;
    },

    getStateAfter: function(line, precise) {
      var doc = this.doc;
      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);
      return getStateBefore(this, line + 1, precise);
    },

    cursorCoords: function(start, mode) {
      var pos, range = this.doc.sel.primary();
      if (start == null) pos = range.head;
      else if (typeof start == "object") pos = clipPos(this.doc, start);
      else pos = start ? range.from() : range.to();
      return cursorCoords(this, pos, mode || "page");
    },

    charCoords: function(pos, mode) {
      return charCoords(this, clipPos(this.doc, pos), mode || "page");
    },

    coordsChar: function(coords, mode) {
      coords = fromCoordSystem(this, coords, mode || "page");
      return coordsChar(this, coords.left, coords.top);
    },

    lineAtHeight: function(height, mode) {
      height = fromCoordSystem(this, {top: height, left: 0}, mode || "page").top;
      return lineAtHeight(this.doc, height + this.display.viewOffset);
    },
    heightAtLine: function(line, mode) {
      var end = false, last = this.doc.first + this.doc.size - 1;
      if (line < this.doc.first) line = this.doc.first;
      else if (line > last) { line = last; end = true; }
      var lineObj = getLine(this.doc, line);
      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || "page").top +
        (end ? this.doc.height - heightAtLine(lineObj) : 0);
    },

    defaultTextHeight: function() { return textHeight(this.display); },
    defaultCharWidth: function() { return charWidth(this.display); },

    setGutterMarker: methodOp(function(line, gutterID, value) {
      return changeLine(this.doc, line, "gutter", function(line) {
        var markers = line.gutterMarkers || (line.gutterMarkers = {});
        markers[gutterID] = value;
        if (!value && isEmpty(markers)) line.gutterMarkers = null;
        return true;
      });
    }),

    clearGutter: methodOp(function(gutterID) {
      var cm = this, doc = cm.doc, i = doc.first;
      doc.iter(function(line) {
        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {
          line.gutterMarkers[gutterID] = null;
          regLineChange(cm, i, "gutter");
          if (isEmpty(line.gutterMarkers)) line.gutterMarkers = null;
        }
        ++i;
      });
    }),

    addLineWidget: methodOp(function(handle, node, options) {
      return addLineWidget(this, handle, node, options);
    }),

    removeLineWidget: function(widget) { widget.clear(); },

    lineInfo: function(line) {
      if (typeof line == "number") {
        if (!isLine(this.doc, line)) return null;
        var n = line;
        line = getLine(this.doc, line);
        if (!line) return null;
      } else {
        var n = lineNo(line);
        if (n == null) return null;
      }
      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,
              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,
              widgets: line.widgets};
    },

    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo};},

    addWidget: function(pos, node, scroll, vert, horiz) {
      var display = this.display;
      pos = cursorCoords(this, clipPos(this.doc, pos));
      var top = pos.bottom, left = pos.left;
      node.style.position = "absolute";
      display.sizer.appendChild(node);
      if (vert == "over") {
        top = pos.top;
      } else if (vert == "above" || vert == "near") {
        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),
        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);
        // Default to positioning above (if specified and possible); otherwise default to positioning below
        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)
          top = pos.top - node.offsetHeight;
        else if (pos.bottom + node.offsetHeight <= vspace)
          top = pos.bottom;
        if (left + node.offsetWidth > hspace)
          left = hspace - node.offsetWidth;
      }
      node.style.top = top + "px";
      node.style.left = node.style.right = "";
      if (horiz == "right") {
        left = display.sizer.clientWidth - node.offsetWidth;
        node.style.right = "0px";
      } else {
        if (horiz == "left") left = 0;
        else if (horiz == "middle") left = (display.sizer.clientWidth - node.offsetWidth) / 2;
        node.style.left = left + "px";
      }
      if (scroll)
        scrollIntoView(this, left, top, left + node.offsetWidth, top + node.offsetHeight);
    },

    triggerOnKeyDown: methodOp(onKeyDown),
    triggerOnKeyPress: methodOp(onKeyPress),
    triggerOnKeyUp: onKeyUp,

    execCommand: function(cmd) {
      if (commands.hasOwnProperty(cmd))
        return commands[cmd](this);
    },

    findPosH: function(from, amount, unit, visually) {
      var dir = 1;
      if (amount < 0) { dir = -1; amount = -amount; }
      for (var i = 0, cur = clipPos(this.doc, from); i < amount; ++i) {
        cur = findPosH(this.doc, cur, dir, unit, visually);
        if (cur.hitSide) break;
      }
      return cur;
    },

    moveH: methodOp(function(dir, unit) {
      var cm = this;
      cm.extendSelectionsBy(function(range) {
        if (cm.display.shift || cm.doc.extend || range.empty())
          return findPosH(cm.doc, range.head, dir, unit, cm.options.rtlMoveVisually);
        else
          return dir < 0 ? range.from() : range.to();
      }, sel_move);
    }),

    deleteH: methodOp(function(dir, unit) {
      var sel = this.doc.sel, doc = this.doc;
      if (sel.somethingSelected())
        doc.replaceSelection("", null, "+delete");
      else
        deleteNearSelection(this, function(range) {
          var other = findPosH(doc, range.head, dir, unit, false);
          return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other};
        });
    }),

    findPosV: function(from, amount, unit, goalColumn) {
      var dir = 1, x = goalColumn;
      if (amount < 0) { dir = -1; amount = -amount; }
      for (var i = 0, cur = clipPos(this.doc, from); i < amount; ++i) {
        var coords = cursorCoords(this, cur, "div");
        if (x == null) x = coords.left;
        else coords.left = x;
        cur = findPosV(this, coords, dir, unit);
        if (cur.hitSide) break;
      }
      return cur;
    },

    moveV: methodOp(function(dir, unit) {
      var cm = this, doc = this.doc, goals = [];
      var collapse = !cm.display.shift && !doc.extend && doc.sel.somethingSelected();
      doc.extendSelectionsBy(function(range) {
        if (collapse)
          return dir < 0 ? range.from() : range.to();
        var headPos = cursorCoords(cm, range.head, "div");
        if (range.goalColumn != null) headPos.left = range.goalColumn;
        goals.push(headPos.left);
        var pos = findPosV(cm, headPos, dir, unit);
        if (unit == "page" && range == doc.sel.primary())
          addToScrollPos(cm, null, charCoords(cm, pos, "div").top - headPos.top);
        return pos;
      }, sel_move);
      if (goals.length) for (var i = 0; i < doc.sel.ranges.length; i++)
        doc.sel.ranges[i].goalColumn = goals[i];
    }),

    // Find the word at the given position (as returned by coordsChar).
    findWordAt: function(pos) {
      var doc = this.doc, line = getLine(doc, pos.line).text;
      var start = pos.ch, end = pos.ch;
      if (line) {
        var helper = this.getHelper(pos, "wordChars");
        if ((pos.xRel < 0 || end == line.length) && start) --start; else ++end;
        var startChar = line.charAt(start);
        var check = isWordChar(startChar, helper)
          ? function(ch) { return isWordChar(ch, helper); }
          : /\s/.test(startChar) ? function(ch) {return /\s/.test(ch);}
          : function(ch) {return !/\s/.test(ch) && !isWordChar(ch);};
        while (start > 0 && check(line.charAt(start - 1))) --start;
        while (end < line.length && check(line.charAt(end))) ++end;
      }
      return new Range(Pos(pos.line, start), Pos(pos.line, end));
    },

    toggleOverwrite: function(value) {
      if (value != null && value == this.state.overwrite) return;
      if (this.state.overwrite = !this.state.overwrite)
        addClass(this.display.cursorDiv, "CodeMirror-overwrite");
      else
        rmClass(this.display.cursorDiv, "CodeMirror-overwrite");

      signal(this, "overwriteToggle", this, this.state.overwrite);
    },
    hasFocus: function() { return activeElt() == this.display.input; },

    scrollTo: methodOp(function(x, y) {
      if (x != null || y != null) resolveScrollToPos(this);
      if (x != null) this.curOp.scrollLeft = x;
      if (y != null) this.curOp.scrollTop = y;
    }),
    getScrollInfo: function() {
      var scroller = this.display.scroller, co = scrollerCutOff;
      return {left: scroller.scrollLeft, top: scroller.scrollTop,
              height: scroller.scrollHeight - co, width: scroller.scrollWidth - co,
              clientHeight: scroller.clientHeight - co, clientWidth: scroller.clientWidth - co};
    },

    scrollIntoView: methodOp(function(range, margin) {
      if (range == null) {
        range = {from: this.doc.sel.primary().head, to: null};
        if (margin == null) margin = this.options.cursorScrollMargin;
      } else if (typeof range == "number") {
        range = {from: Pos(range, 0), to: null};
      } else if (range.from == null) {
        range = {from: range, to: null};
      }
      if (!range.to) range.to = range.from;
      range.margin = margin || 0;

      if (range.from.line != null) {
        resolveScrollToPos(this);
        this.curOp.scrollToPos = range;
      } else {
        var sPos = calculateScrollPos(this, Math.min(range.from.left, range.to.left),
                                      Math.min(range.from.top, range.to.top) - range.margin,
                                      Math.max(range.from.right, range.to.right),
                                      Math.max(range.from.bottom, range.to.bottom) + range.margin);
        this.scrollTo(sPos.scrollLeft, sPos.scrollTop);
      }
    }),

    setSize: methodOp(function(width, height) {
      var cm = this;
      function interpret(val) {
        return typeof val == "number" || /^\d+$/.test(String(val)) ? val + "px" : val;
      }
      if (width != null) cm.display.wrapper.style.width = interpret(width);
      if (height != null) cm.display.wrapper.style.height = interpret(height);
      if (cm.options.lineWrapping) clearLineMeasurementCache(this);
      var lineNo = cm.display.viewFrom;
      cm.doc.iter(lineNo, cm.display.viewTo, function(line) {
        if (line.widgets) for (var i = 0; i < line.widgets.length; i++)
          if (line.widgets[i].noHScroll) { regLineChange(cm, lineNo, "widget"); break; }
        ++lineNo;
      });
      cm.curOp.forceUpdate = true;
      signal(cm, "refresh", this);
    }),

    operation: function(f){return runInOp(this, f);},

    refresh: methodOp(function() {
      var oldHeight = this.display.cachedTextHeight;
      regChange(this);
      this.curOp.forceUpdate = true;
      clearCaches(this);
      this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop);
      updateGutterSpace(this);
      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)
        estimateLineHeights(this);
      signal(this, "refresh", this);
    }),

    swapDoc: methodOp(function(doc) {
      var old = this.doc;
      old.cm = null;
      attachDoc(this, doc);
      clearCaches(this);
      resetInput(this);
      this.scrollTo(doc.scrollLeft, doc.scrollTop);
      this.curOp.forceScroll = true;
      signalLater(this, "swapDoc", this, old);
      return old;
    }),

    getInputField: function(){return this.display.input;},
    getWrapperElement: function(){return this.display.wrapper;},
    getScrollerElement: function(){return this.display.scroller;},
    getGutterElement: function(){return this.display.gutters;}
  };
  eventMixin(CodeMirror);

  // OPTION DEFAULTS

  // The default configuration options.
  var defaults = CodeMirror.defaults = {};
  // Functions to run when options are changed.
  var optionHandlers = CodeMirror.optionHandlers = {};

  function option(name, deflt, handle, notOnInit) {
    CodeMirror.defaults[name] = deflt;
    if (handle) optionHandlers[name] =
      notOnInit ? function(cm, val, old) {if (old != Init) handle(cm, val, old);} : handle;
  }

  // Passed to option handlers when there is no old value.
  var Init = CodeMirror.Init = {toString: function(){return "CodeMirror.Init";}};

  // These two are, on init, called from the constructor because they
  // have to be initialized before the editor can start at all.
  option("value", "", function(cm, val) {
    cm.setValue(val);
  }, true);
  option("mode", null, function(cm, val) {
    cm.doc.modeOption = val;
    loadMode(cm);
  }, true);

  option("indentUnit", 2, loadMode, true);
  option("indentWithTabs", false);
  option("smartIndent", true);
  option("tabSize", 4, function(cm) {
    resetModeState(cm);
    clearCaches(cm);
    regChange(cm);
  }, true);
  option("specialChars", /[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g, function(cm, val) {
    cm.options.specialChars = new RegExp(val.source + (val.test("\t") ? "" : "|\t"), "g");
    cm.refresh();
  }, true);
  option("specialCharPlaceholder", defaultSpecialCharPlaceholder, function(cm) {cm.refresh();}, true);
  option("electricChars", true);
  option("rtlMoveVisually", !windows);
  option("wholeLineUpdateBefore", true);

  option("theme", "default", function(cm) {
    themeChanged(cm);
    guttersChanged(cm);
  }, true);
  option("keyMap", "default", keyMapChanged);
  option("extraKeys", null);

  option("lineWrapping", false, wrappingChanged, true);
  option("gutters", [], function(cm) {
    setGuttersForLineNumbers(cm.options);
    guttersChanged(cm);
  }, true);
  option("fixedGutter", true, function(cm, val) {
    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + "px" : "0";
    cm.refresh();
  }, true);
  option("coverGutterNextToScrollbar", false, updateScrollbars, true);
  option("lineNumbers", false, function(cm) {
    setGuttersForLineNumbers(cm.options);
    guttersChanged(cm);
  }, true);
  option("firstLineNumber", 1, guttersChanged, true);
  option("lineNumberFormatter", function(integer) {return integer;}, guttersChanged, true);
  option("showCursorWhenSelecting", false, updateSelection, true);

  option("resetSelectionOnContextMenu", true);

  option("readOnly", false, function(cm, val) {
    if (val == "nocursor") {
      onBlur(cm);
      cm.display.input.blur();
      cm.display.disabled = true;
    } else {
      cm.display.disabled = false;
      if (!val) resetInput(cm);
    }
  });
  option("disableInput", false, function(cm, val) {if (!val) resetInput(cm);}, true);
  option("dragDrop", true);

  option("cursorBlinkRate", 530);
  option("cursorScrollMargin", 0);
  option("cursorHeight", 1, updateSelection, true);
  option("singleCursorHeightPerLine", true, updateSelection, true);
  option("workTime", 100);
  option("workDelay", 100);
  option("flattenSpans", true, resetModeState, true);
  option("addModeClass", false, resetModeState, true);
  option("pollInterval", 100);
  option("undoDepth", 200, function(cm, val){cm.doc.history.undoDepth = val;});
  option("historyEventDelay", 1250);
  option("viewportMargin", 10, function(cm){cm.refresh();}, true);
  option("maxHighlightLength", 10000, resetModeState, true);
  option("moveInputWithCursor", true, function(cm, val) {
    if (!val) cm.display.inputDiv.style.top = cm.display.inputDiv.style.left = 0;
  });

  option("tabindex", null, function(cm, val) {
    cm.display.input.tabIndex = val || "";
  });
  option("autofocus", null);

  // MODE DEFINITION AND QUERYING

  // Known modes, by name and by MIME
  var modes = CodeMirror.modes = {}, mimeModes = CodeMirror.mimeModes = {};

  // Extra arguments are stored as the mode's dependencies, which is
  // used by (legacy) mechanisms like loadmode.js to automatically
  // load a mode. (Preferred mechanism is the require/define calls.)
  CodeMirror.defineMode = function(name, mode) {
    if (!CodeMirror.defaults.mode && name != "null") CodeMirror.defaults.mode = name;
    if (arguments.length > 2)
      mode.dependencies = Array.prototype.slice.call(arguments, 2);
    modes[name] = mode;
  };

  CodeMirror.defineMIME = function(mime, spec) {
    mimeModes[mime] = spec;
  };

  // Given a MIME type, a {name, ...options} config object, or a name
  // string, return a mode config object.
  CodeMirror.resolveMode = function(spec) {
    if (typeof spec == "string" && mimeModes.hasOwnProperty(spec)) {
      spec = mimeModes[spec];
    } else if (spec && typeof spec.name == "string" && mimeModes.hasOwnProperty(spec.name)) {
      var found = mimeModes[spec.name];
      if (typeof found == "string") found = {name: found};
      spec = createObj(found, spec);
      spec.name = found.name;
    } else if (typeof spec == "string" && /^[\w\-]+\/[\w\-]+\+xml$/.test(spec)) {
      return CodeMirror.resolveMode("application/xml");
    }
    if (typeof spec == "string") return {name: spec};
    else return spec || {name: "null"};
  };

  // Given a mode spec (anything that resolveMode accepts), find and
  // initialize an actual mode object.
  CodeMirror.getMode = function(options, spec) {
    var spec = CodeMirror.resolveMode(spec);
    var mfactory = modes[spec.name];
    if (!mfactory) return CodeMirror.getMode(options, "text/plain");
    var modeObj = mfactory(options, spec);
    if (modeExtensions.hasOwnProperty(spec.name)) {
      var exts = modeExtensions[spec.name];
      for (var prop in exts) {
        if (!exts.hasOwnProperty(prop)) continue;
        if (modeObj.hasOwnProperty(prop)) modeObj["_" + prop] = modeObj[prop];
        modeObj[prop] = exts[prop];
      }
    }
    modeObj.name = spec.name;
    if (spec.helperType) modeObj.helperType = spec.helperType;
    if (spec.modeProps) for (var prop in spec.modeProps)
      modeObj[prop] = spec.modeProps[prop];

    return modeObj;
  };

  // Minimal default mode.
  CodeMirror.defineMode("null", function() {
    return {token: function(stream) {stream.skipToEnd();}};
  });
  CodeMirror.defineMIME("text/plain", "null");

  // This can be used to attach properties to mode objects from
  // outside the actual mode definition.
  var modeExtensions = CodeMirror.modeExtensions = {};
  CodeMirror.extendMode = function(mode, properties) {
    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});
    copyObj(properties, exts);
  };

  // EXTENSIONS

  CodeMirror.defineExtension = function(name, func) {
    CodeMirror.prototype[name] = func;
  };
  CodeMirror.defineDocExtension = function(name, func) {
    Doc.prototype[name] = func;
  };
  CodeMirror.defineOption = option;

  var initHooks = [];
  CodeMirror.defineInitHook = function(f) {initHooks.push(f);};

  var helpers = CodeMirror.helpers = {};
  CodeMirror.registerHelper = function(type, name, value) {
    if (!helpers.hasOwnProperty(type)) helpers[type] = CodeMirror[type] = {_global: []};
    helpers[type][name] = value;
  };
  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {
    CodeMirror.registerHelper(type, name, value);
    helpers[type]._global.push({pred: predicate, val: value});
  };

  // MODE STATE HANDLING

  // Utility functions for working with state. Exported because nested
  // modes need to do this for their inner modes.

  var copyState = CodeMirror.copyState = function(mode, state) {
    if (state === true) return state;
    if (mode.copyState) return mode.copyState(state);
    var nstate = {};
    for (var n in state) {
      var val = state[n];
      if (val instanceof Array) val = val.concat([]);
      nstate[n] = val;
    }
    return nstate;
  };

  var startState = CodeMirror.startState = function(mode, a1, a2) {
    return mode.startState ? mode.startState(a1, a2) : true;
  };

  // Given a mode and a state (for that mode), find the inner mode and
  // state at the position that the state refers to.
  CodeMirror.innerMode = function(mode, state) {
    while (mode.innerMode) {
      var info = mode.innerMode(state);
      if (!info || info.mode == mode) break;
      state = info.state;
      mode = info.mode;
    }
    return info || {mode: mode, state: state};
  };

  // STANDARD COMMANDS

  // Commands are parameter-less actions that can be performed on an
  // editor, mostly used for keybindings.
  var commands = CodeMirror.commands = {
    selectAll: function(cm) {cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);},
    singleSelection: function(cm) {
      cm.setSelection(cm.getCursor("anchor"), cm.getCursor("head"), sel_dontScroll);
    },
    killLine: function(cm) {
      deleteNearSelection(cm, function(range) {
        if (range.empty()) {
          var len = getLine(cm.doc, range.head.line).text.length;
          if (range.head.ch == len && range.head.line < cm.lastLine())
            return {from: range.head, to: Pos(range.head.line + 1, 0)};
          else
            return {from: range.head, to: Pos(range.head.line, len)};
        } else {
          return {from: range.from(), to: range.to()};
        }
      });
    },
    deleteLine: function(cm) {
      deleteNearSelection(cm, function(range) {
        return {from: Pos(range.from().line, 0),
                to: clipPos(cm.doc, Pos(range.to().line + 1, 0))};
      });
    },
    delLineLeft: function(cm) {
      deleteNearSelection(cm, function(range) {
        return {from: Pos(range.from().line, 0), to: range.from()};
      });
    },
    delWrappedLineLeft: function(cm) {
      deleteNearSelection(cm, function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        var leftPos = cm.coordsChar({left: 0, top: top}, "div");
        return {from: leftPos, to: range.from()};
      });
    },
    delWrappedLineRight: function(cm) {
      deleteNearSelection(cm, function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, "div");
        return {from: range.from(), to: rightPos };
      });
    },
    undo: function(cm) {cm.undo();},
    redo: function(cm) {cm.redo();},
    undoSelection: function(cm) {cm.undoSelection();},
    redoSelection: function(cm) {cm.redoSelection();},
    goDocStart: function(cm) {cm.extendSelection(Pos(cm.firstLine(), 0));},
    goDocEnd: function(cm) {cm.extendSelection(Pos(cm.lastLine()));},
    goLineStart: function(cm) {
      cm.extendSelectionsBy(function(range) { return lineStart(cm, range.head.line); },
                            {origin: "+move", bias: 1});
    },
    goLineStartSmart: function(cm) {
      cm.extendSelectionsBy(function(range) {
        return lineStartSmart(cm, range.head);
      }, {origin: "+move", bias: 1});
    },
    goLineEnd: function(cm) {
      cm.extendSelectionsBy(function(range) { return lineEnd(cm, range.head.line); },
                            {origin: "+move", bias: -1});
    },
    goLineRight: function(cm) {
      cm.extendSelectionsBy(function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, "div");
      }, sel_move);
    },
    goLineLeft: function(cm) {
      cm.extendSelectionsBy(function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        return cm.coordsChar({left: 0, top: top}, "div");
      }, sel_move);
    },
    goLineLeftSmart: function(cm) {
      cm.extendSelectionsBy(function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        var pos = cm.coordsChar({left: 0, top: top}, "div");
        if (pos.ch < cm.getLine(pos.line).search(/\S/)) return lineStartSmart(cm, range.head);
        return pos;
      }, sel_move);
    },
    goLineUp: function(cm) {cm.moveV(-1, "line");},
    goLineDown: function(cm) {cm.moveV(1, "line");},
    goPageUp: function(cm) {cm.moveV(-1, "page");},
    goPageDown: function(cm) {cm.moveV(1, "page");},
    goCharLeft: function(cm) {cm.moveH(-1, "char");},
    goCharRight: function(cm) {cm.moveH(1, "char");},
    goColumnLeft: function(cm) {cm.moveH(-1, "column");},
    goColumnRight: function(cm) {cm.moveH(1, "column");},
    goWordLeft: function(cm) {cm.moveH(-1, "word");},
    goGroupRight: function(cm) {cm.moveH(1, "group");},
    goGroupLeft: function(cm) {cm.moveH(-1, "group");},
    goWordRight: function(cm) {cm.moveH(1, "word");},
    delCharBefore: function(cm) {cm.deleteH(-1, "char");},
    delCharAfter: function(cm) {cm.deleteH(1, "char");},
    delWordBefore: function(cm) {cm.deleteH(-1, "word");},
    delWordAfter: function(cm) {cm.deleteH(1, "word");},
    delGroupBefore: function(cm) {cm.deleteH(-1, "group");},
    delGroupAfter: function(cm) {cm.deleteH(1, "group");},
    indentAuto: function(cm) {cm.indentSelection("smart");},
    indentMore: function(cm) {cm.indentSelection("add");},
    indentLess: function(cm) {cm.indentSelection("subtract");},
    insertTab: function(cm) {cm.replaceSelection("\t");},
    insertSoftTab: function(cm) {
      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;
      for (var i = 0; i < ranges.length; i++) {
        var pos = ranges[i].from();
        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);
        spaces.push(new Array(tabSize - col % tabSize + 1).join(" "));
      }
      cm.replaceSelections(spaces);
    },
    defaultTab: function(cm) {
      if (cm.somethingSelected()) cm.indentSelection("add");
      else cm.execCommand("insertTab");
    },
    transposeChars: function(cm) {
      runInOp(cm, function() {
        var ranges = cm.listSelections(), newSel = [];
        for (var i = 0; i < ranges.length; i++) {
          var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;
          if (line) {
            if (cur.ch == line.length) cur = new Pos(cur.line, cur.ch - 1);
            if (cur.ch > 0) {
              cur = new Pos(cur.line, cur.ch + 1);
              cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),
                              Pos(cur.line, cur.ch - 2), cur, "+transpose");
            } else if (cur.line > cm.doc.first) {
              var prev = getLine(cm.doc, cur.line - 1).text;
              if (prev)
                cm.replaceRange(line.charAt(0) + "\n" + prev.charAt(prev.length - 1),
                                Pos(cur.line - 1, prev.length - 1), Pos(cur.line, 1), "+transpose");
            }
          }
          newSel.push(new Range(cur, cur));
        }
        cm.setSelections(newSel);
      });
    },
    newlineAndIndent: function(cm) {
      runInOp(cm, function() {
        var len = cm.listSelections().length;
        for (var i = 0; i < len; i++) {
          var range = cm.listSelections()[i];
          cm.replaceRange("\n", range.anchor, range.head, "+input");
          cm.indentLine(range.from().line + 1, null, true);
          ensureCursorVisible(cm);
        }
      });
    },
    toggleOverwrite: function(cm) {cm.toggleOverwrite();}
  };

  // STANDARD KEYMAPS

  var keyMap = CodeMirror.keyMap = {};
  keyMap.basic = {
    "Left": "goCharLeft", "Right": "goCharRight", "Up": "goLineUp", "Down": "goLineDown",
    "End": "goLineEnd", "Home": "goLineStartSmart", "PageUp": "goPageUp", "PageDown": "goPageDown",
    "Delete": "delCharAfter", "Backspace": "delCharBefore", "Shift-Backspace": "delCharBefore",
    "Tab": "defaultTab", "Shift-Tab": "indentAuto",
    "Enter": "newlineAndIndent", "Insert": "toggleOverwrite",
    "Esc": "singleSelection"
  };
  // Note that the save and find-related commands aren't defined by
  // default. User code or addons can define them. Unknown commands
  // are simply ignored.
  keyMap.pcDefault = {
    "Ctrl-A": "selectAll", "Ctrl-D": "deleteLine", "Ctrl-Z": "undo", "Shift-Ctrl-Z": "redo", "Ctrl-Y": "redo",
    "Ctrl-Home": "goDocStart", "Ctrl-End": "goDocEnd", "Ctrl-Up": "goLineUp", "Ctrl-Down": "goLineDown",
    "Ctrl-Left": "goGroupLeft", "Ctrl-Right": "goGroupRight", "Alt-Left": "goLineStart", "Alt-Right": "goLineEnd",
    "Ctrl-Backspace": "delGroupBefore", "Ctrl-Delete": "delGroupAfter", "Ctrl-S": "save", "Ctrl-F": "find",
    "Ctrl-G": "findNext", "Shift-Ctrl-G": "findPrev", "Shift-Ctrl-F": "replace", "Shift-Ctrl-R": "replaceAll",
    "Ctrl-[": "indentLess", "Ctrl-]": "indentMore",
    "Ctrl-U": "undoSelection", "Shift-Ctrl-U": "redoSelection", "Alt-U": "redoSelection",
    fallthrough: "basic"
  };
  keyMap.macDefault = {
    "Cmd-A": "selectAll", "Cmd-D": "deleteLine", "Cmd-Z": "undo", "Shift-Cmd-Z": "redo", "Cmd-Y": "redo",
    "Cmd-Home": "goDocStart", "Cmd-Up": "goDocStart", "Cmd-End": "goDocEnd", "Cmd-Down": "goDocEnd", "Alt-Left": "goGroupLeft",
    "Alt-Right": "goGroupRight", "Cmd-Left": "goLineLeft", "Cmd-Right": "goLineRight", "Alt-Backspace": "delGroupBefore",
    "Ctrl-Alt-Backspace": "delGroupAfter", "Alt-Delete": "delGroupAfter", "Cmd-S": "save", "Cmd-F": "find",
    "Cmd-G": "findNext", "Shift-Cmd-G": "findPrev", "Cmd-Alt-F": "replace", "Shift-Cmd-Alt-F": "replaceAll",
    "Cmd-[": "indentLess", "Cmd-]": "indentMore", "Cmd-Backspace": "delWrappedLineLeft", "Cmd-Delete": "delWrappedLineRight",
    "Cmd-U": "undoSelection", "Shift-Cmd-U": "redoSelection", "Ctrl-Up": "goDocStart", "Ctrl-Down": "goDocEnd",
    fallthrough: ["basic", "emacsy"]
  };
  // Very basic readline/emacs-style bindings, which are standard on Mac.
  keyMap.emacsy = {
    "Ctrl-F": "goCharRight", "Ctrl-B": "goCharLeft", "Ctrl-P": "goLineUp", "Ctrl-N": "goLineDown",
    "Alt-F": "goWordRight", "Alt-B": "goWordLeft", "Ctrl-A": "goLineStart", "Ctrl-E": "goLineEnd",
    "Ctrl-V": "goPageDown", "Shift-Ctrl-V": "goPageUp", "Ctrl-D": "delCharAfter", "Ctrl-H": "delCharBefore",
    "Alt-D": "delWordAfter", "Alt-Backspace": "delWordBefore", "Ctrl-K": "killLine", "Ctrl-T": "transposeChars"
  };
  keyMap["default"] = mac ? keyMap.macDefault : keyMap.pcDefault;

  // KEYMAP DISPATCH

  function getKeyMap(val) {
    if (typeof val == "string") return keyMap[val];
    else return val;
  }

  // Given an array of keymaps and a key name, call handle on any
  // bindings found, until that returns a truthy value, at which point
  // we consider the key handled. Implements things like binding a key
  // to false stopping further handling and keymap fallthrough.
  var lookupKey = CodeMirror.lookupKey = function(name, maps, handle) {
    function lookup(map) {
      map = getKeyMap(map);
      var found = map[name];
      if (found === false) return "stop";
      if (found != null && handle(found)) return true;
      if (map.nofallthrough) return "stop";

      var fallthrough = map.fallthrough;
      if (fallthrough == null) return false;
      if (Object.prototype.toString.call(fallthrough) != "[object Array]")
        return lookup(fallthrough);
      for (var i = 0; i < fallthrough.length; ++i) {
        var done = lookup(fallthrough[i]);
        if (done) return done;
      }
      return false;
    }

    for (var i = 0; i < maps.length; ++i) {
      var done = lookup(maps[i]);
      if (done) return done != "stop";
    }
  };

  // Modifier key presses don't count as 'real' key presses for the
  // purpose of keymap fallthrough.
  var isModifierKey = CodeMirror.isModifierKey = function(event) {
    var name = keyNames[event.keyCode];
    return name == "Ctrl" || name == "Alt" || name == "Shift" || name == "Mod";
  };

  // Look up the name of a key as indicated by an event object.
  var keyName = CodeMirror.keyName = function(event, noShift) {
    if (presto && event.keyCode == 34 && event["char"]) return false;
    var name = keyNames[event.keyCode];
    if (name == null || event.altGraphKey) return false;
    if (event.altKey) name = "Alt-" + name;
    if (flipCtrlCmd ? event.metaKey : event.ctrlKey) name = "Ctrl-" + name;
    if (flipCtrlCmd ? event.ctrlKey : event.metaKey) name = "Cmd-" + name;
    if (!noShift && event.shiftKey) name = "Shift-" + name;
    return name;
  };

  // FROMTEXTAREA

  CodeMirror.fromTextArea = function(textarea, options) {
    if (!options) options = {};
    options.value = textarea.value;
    if (!options.tabindex && textarea.tabindex)
      options.tabindex = textarea.tabindex;
    if (!options.placeholder && textarea.placeholder)
      options.placeholder = textarea.placeholder;
    // Set autofocus to true if this textarea is focused, or if it has
    // autofocus and no other element is focused.
    if (options.autofocus == null) {
      var hasFocus = activeElt();
      options.autofocus = hasFocus == textarea ||
        textarea.getAttribute("autofocus") != null && hasFocus == document.body;
    }

    function save() {textarea.value = cm.getValue();}
    if (textarea.form) {
      on(textarea.form, "submit", save);
      // Deplorable hack to make the submit method do the right thing.
      if (!options.leaveSubmitMethodAlone) {
        var form = textarea.form, realSubmit = form.submit;
        try {
          var wrappedSubmit = form.submit = function() {
            save();
            form.submit = realSubmit;
            form.submit();
            form.submit = wrappedSubmit;
          };
        } catch(e) {}
      }
    }

    textarea.style.display = "none";
    var cm = CodeMirror(function(node) {
      textarea.parentNode.insertBefore(node, textarea.nextSibling);
    }, options);
    cm.save = save;
    cm.getTextArea = function() { return textarea; };
    cm.toTextArea = function() {
      cm.toTextArea = isNaN; // Prevent this from being ran twice
      save();
      textarea.parentNode.removeChild(cm.getWrapperElement());
      textarea.style.display = "";
      if (textarea.form) {
        off(textarea.form, "submit", save);
        if (typeof textarea.form.submit == "function")
          textarea.form.submit = realSubmit;
      }
    };
    return cm;
  };

  // STRING STREAM

  // Fed to the mode parsers, provides helper functions to make
  // parsers more succinct.

  var StringStream = CodeMirror.StringStream = function(string, tabSize) {
    this.pos = this.start = 0;
    this.string = string;
    this.tabSize = tabSize || 8;
    this.lastColumnPos = this.lastColumnValue = 0;
    this.lineStart = 0;
  };

  StringStream.prototype = {
    eol: function() {return this.pos >= this.string.length;},
    sol: function() {return this.pos == this.lineStart;},
    peek: function() {return this.string.charAt(this.pos) || undefined;},
    next: function() {
      if (this.pos < this.string.length)
        return this.string.charAt(this.pos++);
    },
    eat: function(match) {
      var ch = this.string.charAt(this.pos);
      if (typeof match == "string") var ok = ch == match;
      else var ok = ch && (match.test ? match.test(ch) : match(ch));
      if (ok) {++this.pos; return ch;}
    },
    eatWhile: function(match) {
      var start = this.pos;
      while (this.eat(match)){}
      return this.pos > start;
    },
    eatSpace: function() {
      var start = this.pos;
      while (/[\s\u00a0]/.test(this.string.charAt(this.pos))) ++this.pos;
      return this.pos > start;
    },
    skipToEnd: function() {this.pos = this.string.length;},
    skipTo: function(ch) {
      var found = this.string.indexOf(ch, this.pos);
      if (found > -1) {this.pos = found; return true;}
    },
    backUp: function(n) {this.pos -= n;},
    column: function() {
      if (this.lastColumnPos < this.start) {
        this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);
        this.lastColumnPos = this.start;
      }
      return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);
    },
    indentation: function() {
      return countColumn(this.string, null, this.tabSize) -
        (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);
    },
    match: function(pattern, consume, caseInsensitive) {
      if (typeof pattern == "string") {
        var cased = function(str) {return caseInsensitive ? str.toLowerCase() : str;};
        var substr = this.string.substr(this.pos, pattern.length);
        if (cased(substr) == cased(pattern)) {
          if (consume !== false) this.pos += pattern.length;
          return true;
        }
      } else {
        var match = this.string.slice(this.pos).match(pattern);
        if (match && match.index > 0) return null;
        if (match && consume !== false) this.pos += match[0].length;
        return match;
      }
    },
    current: function(){return this.string.slice(this.start, this.pos);},
    hideFirstChars: function(n, inner) {
      this.lineStart += n;
      try { return inner(); }
      finally { this.lineStart -= n; }
    }
  };

  // TEXTMARKERS

  // Created with markText and setBookmark methods. A TextMarker is a
  // handle that can be used to clear or find a marked position in the
  // document. Line objects hold arrays (markedSpans) containing
  // {from, to, marker} object pointing to such marker objects, and
  // indicating that such a marker is present on that line. Multiple
  // lines may point to the same marker when it spans across lines.
  // The spans will have null for their from/to properties when the
  // marker continues beyond the start/end of the line. Markers have
  // links back to the lines they currently touch.

  var TextMarker = CodeMirror.TextMarker = function(doc, type) {
    this.lines = [];
    this.type = type;
    this.doc = doc;
  };
  eventMixin(TextMarker);

  // Clear the marker.
  TextMarker.prototype.clear = function() {
    if (this.explicitlyCleared) return;
    var cm = this.doc.cm, withOp = cm && !cm.curOp;
    if (withOp) startOperation(cm);
    if (hasHandler(this, "clear")) {
      var found = this.find();
      if (found) signalLater(this, "clear", found.from, found.to);
    }
    var min = null, max = null;
    for (var i = 0; i < this.lines.length; ++i) {
      var line = this.lines[i];
      var span = getMarkedSpanFor(line.markedSpans, this);
      if (cm && !this.collapsed) regLineChange(cm, lineNo(line), "text");
      else if (cm) {
        if (span.to != null) max = lineNo(line);
        if (span.from != null) min = lineNo(line);
      }
      line.markedSpans = removeMarkedSpan(line.markedSpans, span);
      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)
        updateLineHeight(line, textHeight(cm.display));
    }
    if (cm && this.collapsed && !cm.options.lineWrapping) for (var i = 0; i < this.lines.length; ++i) {
      var visual = visualLine(this.lines[i]), len = lineLength(visual);
      if (len > cm.display.maxLineLength) {
        cm.display.maxLine = visual;
        cm.display.maxLineLength = len;
        cm.display.maxLineChanged = true;
      }
    }

    if (min != null && cm && this.collapsed) regChange(cm, min, max + 1);
    this.lines.length = 0;
    this.explicitlyCleared = true;
    if (this.atomic && this.doc.cantEdit) {
      this.doc.cantEdit = false;
      if (cm) reCheckSelection(cm.doc);
    }
    if (cm) signalLater(cm, "markerCleared", cm, this);
    if (withOp) endOperation(cm);
    if (this.parent) this.parent.clear();
  };

  // Find the position of the marker in the document. Returns a {from,
  // to} object by default. Side can be passed to get a specific side
  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the
  // Pos objects returned contain a line object, rather than a line
  // number (used to prevent looking up the same line twice).
  TextMarker.prototype.find = function(side, lineObj) {
    if (side == null && this.type == "bookmark") side = 1;
    var from, to;
    for (var i = 0; i < this.lines.length; ++i) {
      var line = this.lines[i];
      var span = getMarkedSpanFor(line.markedSpans, this);
      if (span.from != null) {
        from = Pos(lineObj ? line : lineNo(line), span.from);
        if (side == -1) return from;
      }
      if (span.to != null) {
        to = Pos(lineObj ? line : lineNo(line), span.to);
        if (side == 1) return to;
      }
    }
    return from && {from: from, to: to};
  };

  // Signals that the marker's widget changed, and surrounding layout
  // should be recomputed.
  TextMarker.prototype.changed = function() {
    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;
    if (!pos || !cm) return;
    runInOp(cm, function() {
      var line = pos.line, lineN = lineNo(pos.line);
      var view = findViewForLine(cm, lineN);
      if (view) {
        clearLineMeasurementCacheFor(view);
        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;
      }
      cm.curOp.updateMaxLine = true;
      if (!lineIsHidden(widget.doc, line) && widget.height != null) {
        var oldHeight = widget.height;
        widget.height = null;
        var dHeight = widgetHeight(widget) - oldHeight;
        if (dHeight)
          updateLineHeight(line, line.height + dHeight);
      }
    });
  };

  TextMarker.prototype.attachLine = function(line) {
    if (!this.lines.length && this.doc.cm) {
      var op = this.doc.cm.curOp;
      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)
        (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this);
    }
    this.lines.push(line);
  };
  TextMarker.prototype.detachLine = function(line) {
    this.lines.splice(indexOf(this.lines, line), 1);
    if (!this.lines.length && this.doc.cm) {
      var op = this.doc.cm.curOp;
      (op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);
    }
  };

  // Collapsed markers have unique ids, in order to be able to order
  // them, which is needed for uniquely determining an outer marker
  // when they overlap (they may nest, but not partially overlap).
  var nextMarkerId = 0;

  // Create a marker, wire it up to the right lines, and
  function markText(doc, from, to, options, type) {
    // Shared markers (across linked documents) are handled separately
    // (markTextShared will call out to this again, once per
    // document).
    if (options && options.shared) return markTextShared(doc, from, to, options, type);
    // Ensure we are in an operation.
    if (doc.cm && !doc.cm.curOp) return operation(doc.cm, markText)(doc, from, to, options, type);

    var marker = new TextMarker(doc, type), diff = cmp(from, to);
    if (options) copyObj(options, marker, false);
    // Don't connect empty markers unless clearWhenEmpty is false
    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)
      return marker;
    if (marker.replacedWith) {
      // Showing up as a widget implies collapsed (widget replaces text)
      marker.collapsed = true;
      marker.widgetNode = elt("span", [marker.replacedWith], "CodeMirror-widget");
      if (!options.handleMouseEvents) marker.widgetNode.ignoreEvents = true;
      if (options.insertLeft) marker.widgetNode.insertLeft = true;
    }
    if (marker.collapsed) {
      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||
          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))
        throw new Error("Inserting collapsed marker partially overlapping an existing one");
      sawCollapsedSpans = true;
    }

    if (marker.addToHistory)
      addChangeToHistory(doc, {from: from, to: to, origin: "markText"}, doc.sel, NaN);

    var curLine = from.line, cm = doc.cm, updateMaxLine;
    doc.iter(curLine, to.line + 1, function(line) {
      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)
        updateMaxLine = true;
      if (marker.collapsed && curLine != from.line) updateLineHeight(line, 0);
      addMarkedSpan(line, new MarkedSpan(marker,
                                         curLine == from.line ? from.ch : null,
                                         curLine == to.line ? to.ch : null));
      ++curLine;
    });
    // lineIsHidden depends on the presence of the spans, so needs a second pass
    if (marker.collapsed) doc.iter(from.line, to.line + 1, function(line) {
      if (lineIsHidden(doc, line)) updateLineHeight(line, 0);
    });

    if (marker.clearOnEnter) on(marker, "beforeCursorEnter", function() { marker.clear(); });

    if (marker.readOnly) {
      sawReadOnlySpans = true;
      if (doc.history.done.length || doc.history.undone.length)
        doc.clearHistory();
    }
    if (marker.collapsed) {
      marker.id = ++nextMarkerId;
      marker.atomic = true;
    }
    if (cm) {
      // Sync editor state
      if (updateMaxLine) cm.curOp.updateMaxLine = true;
      if (marker.collapsed)
        regChange(cm, from.line, to.line + 1);
      else if (marker.className || marker.title || marker.startStyle || marker.endStyle)
        for (var i = from.line; i <= to.line; i++) regLineChange(cm, i, "text");
      if (marker.atomic) reCheckSelection(cm.doc);
      signalLater(cm, "markerAdded", cm, marker);
    }
    return marker;
  }

  // SHARED TEXTMARKERS

  // A shared marker spans multiple linked documents. It is
  // implemented as a meta-marker-object controlling multiple normal
  // markers.
  var SharedTextMarker = CodeMirror.SharedTextMarker = function(markers, primary) {
    this.markers = markers;
    this.primary = primary;
    for (var i = 0; i < markers.length; ++i)
      markers[i].parent = this;
  };
  eventMixin(SharedTextMarker);

  SharedTextMarker.prototype.clear = function() {
    if (this.explicitlyCleared) return;
    this.explicitlyCleared = true;
    for (var i = 0; i < this.markers.length; ++i)
      this.markers[i].clear();
    signalLater(this, "clear");
  };
  SharedTextMarker.prototype.find = function(side, lineObj) {
    return this.primary.find(side, lineObj);
  };

  function markTextShared(doc, from, to, options, type) {
    options = copyObj(options);
    options.shared = false;
    var markers = [markText(doc, from, to, options, type)], primary = markers[0];
    var widget = options.widgetNode;
    linkedDocs(doc, function(doc) {
      if (widget) options.widgetNode = widget.cloneNode(true);
      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));
      for (var i = 0; i < doc.linked.length; ++i)
        if (doc.linked[i].isParent) return;
      primary = lst(markers);
    });
    return new SharedTextMarker(markers, primary);
  }

  function findSharedMarkers(doc) {
    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())),
                         function(m) { return m.parent; });
  }

  function copySharedMarkers(doc, markers) {
    for (var i = 0; i < markers.length; i++) {
      var marker = markers[i], pos = marker.find();
      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);
      if (cmp(mFrom, mTo)) {
        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);
        marker.markers.push(subMark);
        subMark.parent = marker;
      }
    }
  }

  function detachSharedMarkers(markers) {
    for (var i = 0; i < markers.length; i++) {
      var marker = markers[i], linked = [marker.primary.doc];;
      linkedDocs(marker.primary.doc, function(d) { linked.push(d); });
      for (var j = 0; j < marker.markers.length; j++) {
        var subMarker = marker.markers[j];
        if (indexOf(linked, subMarker.doc) == -1) {
          subMarker.parent = null;
          marker.markers.splice(j--, 1);
        }
      }
    }
  }

  // TEXTMARKER SPANS

  function MarkedSpan(marker, from, to) {
    this.marker = marker;
    this.from = from; this.to = to;
  }

  // Search an array of spans for a span matching the given marker.
  function getMarkedSpanFor(spans, marker) {
    if (spans) for (var i = 0; i < spans.length; ++i) {
      var span = spans[i];
      if (span.marker == marker) return span;
    }
  }
  // Remove a span from an array, returning undefined if no spans are
  // left (we don't store arrays for lines without spans).
  function removeMarkedSpan(spans, span) {
    for (var r, i = 0; i < spans.length; ++i)
      if (spans[i] != span) (r || (r = [])).push(spans[i]);
    return r;
  }
  // Add a span to a line.
  function addMarkedSpan(line, span) {
    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];
    span.marker.attachLine(line);
  }

  // Used for the algorithm that adjusts markers for a change in the
  // document. These functions cut an array of spans at a given
  // character position, returning an array of remaining chunks (or
  // undefined if nothing remains).
  function markedSpansBefore(old, startCh, isInsert) {
    if (old) for (var i = 0, nw; i < old.length; ++i) {
      var span = old[i], marker = span.marker;
      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);
      if (startsBefore || span.from == startCh && marker.type == "bookmark" && (!isInsert || !span.marker.insertLeft)) {
        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);
        (nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));
      }
    }
    return nw;
  }
  function markedSpansAfter(old, endCh, isInsert) {
    if (old) for (var i = 0, nw; i < old.length; ++i) {
      var span = old[i], marker = span.marker;
      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);
      if (endsAfter || span.from == endCh && marker.type == "bookmark" && (!isInsert || span.marker.insertLeft)) {
        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);
        (nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,
                                              span.to == null ? null : span.to - endCh));
      }
    }
    return nw;
  }

  // Given a change object, compute the new set of marker spans that
  // cover the line in which the change took place. Removes spans
  // entirely within the change, reconnects spans belonging to the
  // same marker that appear on both sides of the change, and cuts off
  // spans partially within the change. Returns an array of span
  // arrays with one element for each line in (after) the change.
  function stretchSpansOverChange(doc, change) {
    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;
    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;
    if (!oldFirst && !oldLast) return null;

    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;
    // Get the spans that 'stick out' on both sides
    var first = markedSpansBefore(oldFirst, startCh, isInsert);
    var last = markedSpansAfter(oldLast, endCh, isInsert);

    // Next, merge those two ends
    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);
    if (first) {
      // Fix up .to properties of first
      for (var i = 0; i < first.length; ++i) {
        var span = first[i];
        if (span.to == null) {
          var found = getMarkedSpanFor(last, span.marker);
          if (!found) span.to = startCh;
          else if (sameLine) span.to = found.to == null ? null : found.to + offset;
        }
      }
    }
    if (last) {
      // Fix up .from in last (or move them into first in case of sameLine)
      for (var i = 0; i < last.length; ++i) {
        var span = last[i];
        if (span.to != null) span.to += offset;
        if (span.from == null) {
          var found = getMarkedSpanFor(first, span.marker);
          if (!found) {
            span.from = offset;
            if (sameLine) (first || (first = [])).push(span);
          }
        } else {
          span.from += offset;
          if (sameLine) (first || (first = [])).push(span);
        }
      }
    }
    // Make sure we didn't create any zero-length spans
    if (first) first = clearEmptySpans(first);
    if (last && last != first) last = clearEmptySpans(last);

    var newMarkers = [first];
    if (!sameLine) {
      // Fill gap with whole-line-spans
      var gap = change.text.length - 2, gapMarkers;
      if (gap > 0 && first)
        for (var i = 0; i < first.length; ++i)
          if (first[i].to == null)
            (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i].marker, null, null));
      for (var i = 0; i < gap; ++i)
        newMarkers.push(gapMarkers);
      newMarkers.push(last);
    }
    return newMarkers;
  }

  // Remove spans that are empty and don't have a clearWhenEmpty
  // option of false.
  function clearEmptySpans(spans) {
    for (var i = 0; i < spans.length; ++i) {
      var span = spans[i];
      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)
        spans.splice(i--, 1);
    }
    if (!spans.length) return null;
    return spans;
  }

  // Used for un/re-doing changes from the history. Combines the
  // result of computing the existing spans with the set of spans that
  // existed in the history (so that deleting around a span and then
  // undoing brings back the span).
  function mergeOldSpans(doc, change) {
    var old = getOldSpans(doc, change);
    var stretched = stretchSpansOverChange(doc, change);
    if (!old) return stretched;
    if (!stretched) return old;

    for (var i = 0; i < old.length; ++i) {
      var oldCur = old[i], stretchCur = stretched[i];
      if (oldCur && stretchCur) {
        spans: for (var j = 0; j < stretchCur.length; ++j) {
          var span = stretchCur[j];
          for (var k = 0; k < oldCur.length; ++k)
            if (oldCur[k].marker == span.marker) continue spans;
          oldCur.push(span);
        }
      } else if (stretchCur) {
        old[i] = stretchCur;
      }
    }
    return old;
  }

  // Used to 'clip' out readOnly ranges when making a change.
  function removeReadOnlyRanges(doc, from, to) {
    var markers = null;
    doc.iter(from.line, to.line + 1, function(line) {
      if (line.markedSpans) for (var i = 0; i < line.markedSpans.length; ++i) {
        var mark = line.markedSpans[i].marker;
        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))
          (markers || (markers = [])).push(mark);
      }
    });
    if (!markers) return null;
    var parts = [{from: from, to: to}];
    for (var i = 0; i < markers.length; ++i) {
      var mk = markers[i], m = mk.find(0);
      for (var j = 0; j < parts.length; ++j) {
        var p = parts[j];
        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) continue;
        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);
        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)
          newParts.push({from: p.from, to: m.from});
        if (dto > 0 || !mk.inclusiveRight && !dto)
          newParts.push({from: m.to, to: p.to});
        parts.splice.apply(parts, newParts);
        j += newParts.length - 1;
      }
    }
    return parts;
  }

  // Connect or disconnect spans from a line.
  function detachMarkedSpans(line) {
    var spans = line.markedSpans;
    if (!spans) return;
    for (var i = 0; i < spans.length; ++i)
      spans[i].marker.detachLine(line);
    line.markedSpans = null;
  }
  function attachMarkedSpans(line, spans) {
    if (!spans) return;
    for (var i = 0; i < spans.length; ++i)
      spans[i].marker.attachLine(line);
    line.markedSpans = spans;
  }

  // Helpers used when computing which overlapping collapsed span
  // counts as the larger one.
  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0; }
  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0; }

  // Returns a number indicating which of two overlapping collapsed
  // spans is larger (and thus includes the other). Falls back to
  // comparing ids when the spans cover exactly the same range.
  function compareCollapsedMarkers(a, b) {
    var lenDiff = a.lines.length - b.lines.length;
    if (lenDiff != 0) return lenDiff;
    var aPos = a.find(), bPos = b.find();
    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);
    if (fromCmp) return -fromCmp;
    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);
    if (toCmp) return toCmp;
    return b.id - a.id;
  }

  // Find out whether a line ends or starts in a collapsed span. If
  // so, return the marker for that span.
  function collapsedSpanAtSide(line, start) {
    var sps = sawCollapsedSpans && line.markedSpans, found;
    if (sps) for (var sp, i = 0; i < sps.length; ++i) {
      sp = sps[i];
      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&
          (!found || compareCollapsedMarkers(found, sp.marker) < 0))
        found = sp.marker;
    }
    return found;
  }
  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true); }
  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false); }

  // Test whether there exists a collapsed span that partially
  // overlaps (covers the start or end, but not both) of a new span.
  // Such overlap is not allowed.
  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {
    var line = getLine(doc, lineNo);
    var sps = sawCollapsedSpans && line.markedSpans;
    if (sps) for (var i = 0; i < sps.length; ++i) {
      var sp = sps[i];
      if (!sp.marker.collapsed) continue;
      var found = sp.marker.find(0);
      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);
      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);
      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) continue;
      if (fromCmp <= 0 && (cmp(found.to, from) > 0 || (sp.marker.inclusiveRight && marker.inclusiveLeft)) ||
          fromCmp >= 0 && (cmp(found.from, to) < 0 || (sp.marker.inclusiveLeft && marker.inclusiveRight)))
        return true;
    }
  }

  // A visual line is a line as drawn on the screen. Folding, for
  // example, can cause multiple logical lines to appear on the same
  // visual line. This finds the start of the visual line that the
  // given line is part of (usually that is the line itself).
  function visualLine(line) {
    var merged;
    while (merged = collapsedSpanAtStart(line))
      line = merged.find(-1, true).line;
    return line;
  }

  // Returns an array of logical lines that continue the visual line
  // started by the argument, or undefined if there are no such lines.
  function visualLineContinued(line) {
    var merged, lines;
    while (merged = collapsedSpanAtEnd(line)) {
      line = merged.find(1, true).line;
      (lines || (lines = [])).push(line);
    }
    return lines;
  }

  // Get the line number of the start of the visual line that the
  // given line number is part of.
  function visualLineNo(doc, lineN) {
    var line = getLine(doc, lineN), vis = visualLine(line);
    if (line == vis) return lineN;
    return lineNo(vis);
  }
  // Get the line number of the start of the next visual line after
  // the given line.
  function visualLineEndNo(doc, lineN) {
    if (lineN > doc.lastLine()) return lineN;
    var line = getLine(doc, lineN), merged;
    if (!lineIsHidden(doc, line)) return lineN;
    while (merged = collapsedSpanAtEnd(line))
      line = merged.find(1, true).line;
    return lineNo(line) + 1;
  }

  // Compute whether a line is hidden. Lines count as hidden when they
  // are part of a visual line that starts with another line, or when
  // they are entirely covered by collapsed, non-widget span.
  function lineIsHidden(doc, line) {
    var sps = sawCollapsedSpans && line.markedSpans;
    if (sps) for (var sp, i = 0; i < sps.length; ++i) {
      sp = sps[i];
      if (!sp.marker.collapsed) continue;
      if (sp.from == null) return true;
      if (sp.marker.widgetNode) continue;
      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))
        return true;
    }
  }
  function lineIsHiddenInner(doc, line, span) {
    if (span.to == null) {
      var end = span.marker.find(1, true);
      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker));
    }
    if (span.marker.inclusiveRight && span.to == line.text.length)
      return true;
    for (var sp, i = 0; i < line.markedSpans.length; ++i) {
      sp = line.markedSpans[i];
      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&
          (sp.to == null || sp.to != span.from) &&
          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&
          lineIsHiddenInner(doc, line, sp)) return true;
    }
  }

  // LINE WIDGETS

  // Line widgets are block elements displayed above or below a line.

  var LineWidget = CodeMirror.LineWidget = function(cm, node, options) {
    if (options) for (var opt in options) if (options.hasOwnProperty(opt))
      this[opt] = options[opt];
    this.cm = cm;
    this.node = node;
  };
  eventMixin(LineWidget);

  function adjustScrollWhenAboveVisible(cm, line, diff) {
    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))
      addToScrollPos(cm, null, diff);
  }

  LineWidget.prototype.clear = function() {
    var cm = this.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);
    if (no == null || !ws) return;
    for (var i = 0; i < ws.length; ++i) if (ws[i] == this) ws.splice(i--, 1);
    if (!ws.length) line.widgets = null;
    var height = widgetHeight(this);
    runInOp(cm, function() {
      adjustScrollWhenAboveVisible(cm, line, -height);
      regLineChange(cm, no, "widget");
      updateLineHeight(line, Math.max(0, line.height - height));
    });
  };
  LineWidget.prototype.changed = function() {
    var oldH = this.height, cm = this.cm, line = this.line;
    this.height = null;
    var diff = widgetHeight(this) - oldH;
    if (!diff) return;
    runInOp(cm, function() {
      cm.curOp.forceUpdate = true;
      adjustScrollWhenAboveVisible(cm, line, diff);
      updateLineHeight(line, line.height + diff);
    });
  };

  function widgetHeight(widget) {
    if (widget.height != null) return widget.height;
    if (!contains(document.body, widget.node)) {
      var parentStyle = "position: relative;";
      if (widget.coverGutter)
        parentStyle += "margin-left: -" + widget.cm.getGutterElement().offsetWidth + "px;";
      removeChildrenAndAdd(widget.cm.display.measure, elt("div", [widget.node], null, parentStyle));
    }
    return widget.height = widget.node.offsetHeight;
  }

  function addLineWidget(cm, handle, node, options) {
    var widget = new LineWidget(cm, node, options);
    if (widget.noHScroll) cm.display.alignWidgets = true;
    changeLine(cm.doc, handle, "widget", function(line) {
      var widgets = line.widgets || (line.widgets = []);
      if (widget.insertAt == null) widgets.push(widget);
      else widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget);
      widget.line = line;
      if (!lineIsHidden(cm.doc, line)) {
        var aboveVisible = heightAtLine(line) < cm.doc.scrollTop;
        updateLineHeight(line, line.height + widgetHeight(widget));
        if (aboveVisible) addToScrollPos(cm, null, widget.height);
        cm.curOp.forceUpdate = true;
      }
      return true;
    });
    return widget;
  }

  // LINE DATA STRUCTURE

  // Line objects. These hold state related to a line, including
  // highlighting info (the styles array).
  var Line = CodeMirror.Line = function(text, markedSpans, estimateHeight) {
    this.text = text;
    attachMarkedSpans(this, markedSpans);
    this.height = estimateHeight ? estimateHeight(this) : 1;
  };
  eventMixin(Line);
  Line.prototype.lineNo = function() { return lineNo(this); };

  // Change the content (text, markers) of a line. Automatically
  // invalidates cached information and tries to re-estimate the
  // line's height.
  function updateLine(line, text, markedSpans, estimateHeight) {
    line.text = text;
    if (line.stateAfter) line.stateAfter = null;
    if (line.styles) line.styles = null;
    if (line.order != null) line.order = null;
    detachMarkedSpans(line);
    attachMarkedSpans(line, markedSpans);
    var estHeight = estimateHeight ? estimateHeight(line) : 1;
    if (estHeight != line.height) updateLineHeight(line, estHeight);
  }

  // Detach a line from the document tree and its markers.
  function cleanUpLine(line) {
    line.parent = null;
    detachMarkedSpans(line);
  }

  function extractLineClasses(type, output) {
    if (type) for (;;) {
      var lineClass = type.match(/(?:^|\s+)line-(background-)?(\S+)/);
      if (!lineClass) break;
      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);
      var prop = lineClass[1] ? "bgClass" : "textClass";
      if (output[prop] == null)
        output[prop] = lineClass[2];
      else if (!(new RegExp("(?:^|\s)" + lineClass[2] + "(?:$|\s)")).test(output[prop]))
        output[prop] += " " + lineClass[2];
    }
    return type;
  }

  function callBlankLine(mode, state) {
    if (mode.blankLine) return mode.blankLine(state);
    if (!mode.innerMode) return;
    var inner = CodeMirror.innerMode(mode, state);
    if (inner.mode.blankLine) return inner.mode.blankLine(inner.state);
  }

  function readToken(mode, stream, state) {
    for (var i = 0; i < 10; i++) {
      var style = mode.token(stream, state);
      if (stream.pos > stream.start) return style;
    }
    throw new Error("Mode " + mode.name + " failed to advance stream.");
  }

  // Run the given mode's parser over a line, calling f for each token.
  function runMode(cm, text, mode, state, f, lineClasses, forceToEnd) {
    var flattenSpans = mode.flattenSpans;
    if (flattenSpans == null) flattenSpans = cm.options.flattenSpans;
    var curStart = 0, curStyle = null;
    var stream = new StringStream(text, cm.options.tabSize), style;
    if (text == "") extractLineClasses(callBlankLine(mode, state), lineClasses);
    while (!stream.eol()) {
      if (stream.pos > cm.options.maxHighlightLength) {
        flattenSpans = false;
        if (forceToEnd) processLine(cm, text, state, stream.pos);
        stream.pos = text.length;
        style = null;
      } else {
        style = extractLineClasses(readToken(mode, stream, state), lineClasses);
      }
      if (cm.options.addModeClass) {
        var mName = CodeMirror.innerMode(mode, state).mode.name;
        if (mName) style = "m-" + (style ? mName + " " + style : mName);
      }
      if (!flattenSpans || curStyle != style) {
        if (curStart < stream.start) f(stream.start, curStyle);
        curStart = stream.start; curStyle = style;
      }
      stream.start = stream.pos;
    }
    while (curStart < stream.pos) {
      // Webkit seems to refuse to render text nodes longer than 57444 characters
      var pos = Math.min(stream.pos, curStart + 50000);
      f(pos, curStyle);
      curStart = pos;
    }
  }

  // Compute a style array (an array starting with a mode generation
  // -- for invalidation -- followed by pairs of end positions and
  // style strings), which is used to highlight the tokens on the
  // line.
  function highlightLine(cm, line, state, forceToEnd) {
    // A styles array always starts with a number identifying the
    // mode/overlays that it is based on (for easy invalidation).
    var st = [cm.state.modeGen], lineClasses = {};
    // Compute the base array of styles
    runMode(cm, line.text, cm.doc.mode, state, function(end, style) {
      st.push(end, style);
    }, lineClasses, forceToEnd);

    // Run overlays, adjust style array.
    for (var o = 0; o < cm.state.overlays.length; ++o) {
      var overlay = cm.state.overlays[o], i = 1, at = 0;
      runMode(cm, line.text, overlay.mode, true, function(end, style) {
        var start = i;
        // Ensure there's a token end at the current position, and that i points at it
        while (at < end) {
          var i_end = st[i];
          if (i_end > end)
            st.splice(i, 1, end, st[i+1], i_end);
          i += 2;
          at = Math.min(end, i_end);
        }
        if (!style) return;
        if (overlay.opaque) {
          st.splice(start, i - start, end, "cm-overlay " + style);
          i = start + 2;
        } else {
          for (; start < i; start += 2) {
            var cur = st[start+1];
            st[start+1] = (cur ? cur + " " : "") + "cm-overlay " + style;
          }
        }
      }, lineClasses);
    }

    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null};
  }

  function getLineStyles(cm, line) {
    if (!line.styles || line.styles[0] != cm.state.modeGen) {
      var result = highlightLine(cm, line, line.stateAfter = getStateBefore(cm, lineNo(line)));
      line.styles = result.styles;
      if (result.classes) line.styleClasses = result.classes;
      else if (line.styleClasses) line.styleClasses = null;
    }
    return line.styles;
  }

  // Lightweight form of highlight -- proceed over this line and
  // update state, but don't save a style array. Used for lines that
  // aren't currently visible.
  function processLine(cm, text, state, startAt) {
    var mode = cm.doc.mode;
    var stream = new StringStream(text, cm.options.tabSize);
    stream.start = stream.pos = startAt || 0;
    if (text == "") callBlankLine(mode, state);
    while (!stream.eol() && stream.pos <= cm.options.maxHighlightLength) {
      readToken(mode, stream, state);
      stream.start = stream.pos;
    }
  }

  // Convert a style as returned by a mode (either null, or a string
  // containing one or more styles) to a CSS style. This is cached,
  // and also looks for line-wide styles.
  var styleToClassCache = {}, styleToClassCacheWithMode = {};
  function interpretTokenStyle(style, options) {
    if (!style || /^\s*$/.test(style)) return null;
    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;
    return cache[style] ||
      (cache[style] = style.replace(/\S+/g, "cm-$&"));
  }

  // Render the DOM representation of the text of a line. Also builds
  // up a 'line map', which points at the DOM nodes that represent
  // specific stretches of text, and is used by the measuring code.
  // The returned object contains the DOM node, this map, and
  // information about line-wide styles that were set by the mode.
  function buildLineContent(cm, lineView) {
    // The padding-right forces the element to have a 'border', which
    // is needed on Webkit to be able to get line-level bounding
    // rectangles for it (in measureChar).
    var content = elt("span", null, null, webkit ? "padding-right: .1px" : null);
    var builder = {pre: elt("pre", [content]), content: content, col: 0, pos: 0, cm: cm};
    lineView.measure = {};

    // Iterate over the logical lines that make up this visual line.
    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {
      var line = i ? lineView.rest[i - 1] : lineView.line, order;
      builder.pos = 0;
      builder.addToken = buildToken;
      // Optionally wire in some hacks into the token-rendering
      // algorithm, to deal with browser quirks.
      if ((ie || webkit) && cm.getOption("lineWrapping"))
        builder.addToken = buildTokenSplitSpaces(builder.addToken);
      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line)))
        builder.addToken = buildTokenBadBidi(builder.addToken, order);
      builder.map = [];
      insertLineContent(line, builder, getLineStyles(cm, line));
      if (line.styleClasses) {
        if (line.styleClasses.bgClass)
          builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || "");
        if (line.styleClasses.textClass)
          builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || "");
      }

      // Ensure at least a single node is present, for measuring.
      if (builder.map.length == 0)
        builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure)));

      // Store the map and a cache object for the current logical line
      if (i == 0) {
        lineView.measure.map = builder.map;
        lineView.measure.cache = {};
      } else {
        (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map);
        (lineView.measure.caches || (lineView.measure.caches = [])).push({});
      }
    }

    signal(cm, "renderLine", cm, lineView.line, builder.pre);
    if (builder.pre.className)
      builder.textClass = joinClasses(builder.pre.className, builder.textClass || "");
    return builder;
  }

  function defaultSpecialCharPlaceholder(ch) {
    var token = elt("span", "\u2022", "cm-invalidchar");
    token.title = "\\u" + ch.charCodeAt(0).toString(16);
    return token;
  }

  // Build up the DOM representation for a single token, and add it to
  // the line map. Takes care to render special characters separately.
  function buildToken(builder, text, style, startStyle, endStyle, title) {
    if (!text) return;
    var special = builder.cm.options.specialChars, mustWrap = false;
    if (!special.test(text)) {
      builder.col += text.length;
      var content = document.createTextNode(text);
      builder.map.push(builder.pos, builder.pos + text.length, content);
      if (ie && ie_version < 9) mustWrap = true;
      builder.pos += text.length;
    } else {
      var content = document.createDocumentFragment(), pos = 0;
      while (true) {
        special.lastIndex = pos;
        var m = special.exec(text);
        var skipped = m ? m.index - pos : text.length - pos;
        if (skipped) {
          var txt = document.createTextNode(text.slice(pos, pos + skipped));
          if (ie && ie_version < 9) content.appendChild(elt("span", [txt]));
          else content.appendChild(txt);
          builder.map.push(builder.pos, builder.pos + skipped, txt);
          builder.col += skipped;
          builder.pos += skipped;
        }
        if (!m) break;
        pos += skipped + 1;
        if (m[0] == "\t") {
          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;
          var txt = content.appendChild(elt("span", spaceStr(tabWidth), "cm-tab"));
          builder.col += tabWidth;
        } else {
          var txt = builder.cm.options.specialCharPlaceholder(m[0]);
          if (ie && ie_version < 9) content.appendChild(elt("span", [txt]));
          else content.appendChild(txt);
          builder.col += 1;
        }
        builder.map.push(builder.pos, builder.pos + 1, txt);
        builder.pos++;
      }
    }
    if (style || startStyle || endStyle || mustWrap) {
      var fullStyle = style || "";
      if (startStyle) fullStyle += startStyle;
      if (endStyle) fullStyle += endStyle;
      var token = elt("span", [content], fullStyle);
      if (title) token.title = title;
      return builder.content.appendChild(token);
    }
    builder.content.appendChild(content);
  }

  function buildTokenSplitSpaces(inner) {
    function split(old) {
      var out = " ";
      for (var i = 0; i < old.length - 2; ++i) out += i % 2 ? " " : "\u00a0";
      out += " ";
      return out;
    }
    return function(builder, text, style, startStyle, endStyle, title) {
      inner(builder, text.replace(/ {3,}/g, split), style, startStyle, endStyle, title);
    };
  }

  // Work around nonsense dimensions being reported for stretches of
  // right-to-left text.
  function buildTokenBadBidi(inner, order) {
    return function(builder, text, style, startStyle, endStyle, title) {
      style = style ? style + " cm-force-border" : "cm-force-border";
      var start = builder.pos, end = start + text.length;
      for (;;) {
        // Find the part that overlaps with the start of this text
        for (var i = 0; i < order.length; i++) {
          var part = order[i];
          if (part.to > start && part.from <= start) break;
        }
        if (part.to >= end) return inner(builder, text, style, startStyle, endStyle, title);
        inner(builder, text.slice(0, part.to - start), style, startStyle, null, title);
        startStyle = null;
        text = text.slice(part.to - start);
        start = part.to;
      }
    };
  }

  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {
    var widget = !ignoreWidget && marker.widgetNode;
    if (widget) {
      builder.map.push(builder.pos, builder.pos + size, widget);
      builder.content.appendChild(widget);
    }
    builder.pos += size;
  }

  // Outputs a number of spans to make up a line, taking highlighting
  // and marked text into account.
  function insertLineContent(line, builder, styles) {
    var spans = line.markedSpans, allText = line.text, at = 0;
    if (!spans) {
      for (var i = 1; i < styles.length; i+=2)
        builder.addToken(builder, allText.slice(at, at = styles[i]), interpretTokenStyle(styles[i+1], builder.cm.options));
      return;
    }

    var len = allText.length, pos = 0, i = 1, text = "", style;
    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed;
    for (;;) {
      if (nextChange == pos) { // Update current marker set
        spanStyle = spanEndStyle = spanStartStyle = title = "";
        collapsed = null; nextChange = Infinity;
        var foundBookmarks = [];
        for (var j = 0; j < spans.length; ++j) {
          var sp = spans[j], m = sp.marker;
          if (sp.from <= pos && (sp.to == null || sp.to > pos)) {
            if (sp.to != null && nextChange > sp.to) { nextChange = sp.to; spanEndStyle = ""; }
            if (m.className) spanStyle += " " + m.className;
            if (m.startStyle && sp.from == pos) spanStartStyle += " " + m.startStyle;
            if (m.endStyle && sp.to == nextChange) spanEndStyle += " " + m.endStyle;
            if (m.title && !title) title = m.title;
            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))
              collapsed = sp;
          } else if (sp.from > pos && nextChange > sp.from) {
            nextChange = sp.from;
          }
          if (m.type == "bookmark" && sp.from == pos && m.widgetNode) foundBookmarks.push(m);
        }
        if (collapsed && (collapsed.from || 0) == pos) {
          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,
                             collapsed.marker, collapsed.from == null);
          if (collapsed.to == null) return;
        }
        if (!collapsed && foundBookmarks.length) for (var j = 0; j < foundBookmarks.length; ++j)
          buildCollapsedSpan(builder, 0, foundBookmarks[j]);
      }
      if (pos >= len) break;

      var upto = Math.min(len, nextChange);
      while (true) {
        if (text) {
          var end = pos + text.length;
          if (!collapsed) {
            var tokenText = end > upto ? text.slice(0, upto - pos) : text;
            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,
                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : "", title);
          }
          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break;}
          pos = end;
          spanStartStyle = "";
        }
        text = allText.slice(at, at = styles[i++]);
        style = interpretTokenStyle(styles[i++], builder.cm.options);
      }
    }
  }

  // DOCUMENT DATA STRUCTURE

  // By default, updates that start and end at the beginning of a line
  // are treated specially, in order to make the association of line
  // widgets and marker elements with the text behave more intuitive.
  function isWholeLineUpdate(doc, change) {
    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == "" &&
      (!doc.cm || doc.cm.options.wholeLineUpdateBefore);
  }

  // Perform a change on the document data structure.
  function updateDoc(doc, change, markedSpans, estimateHeight) {
    function spansFor(n) {return markedSpans ? markedSpans[n] : null;}
    function update(line, text, spans) {
      updateLine(line, text, spans, estimateHeight);
      signalLater(line, "change", line, change);
    }

    var from = change.from, to = change.to, text = change.text;
    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);
    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;

    // Adjust the line structure
    if (isWholeLineUpdate(doc, change)) {
      // This is a whole-line replace. Treated specially to make
      // sure line objects move the way they are supposed to.
      for (var i = 0, added = []; i < text.length - 1; ++i)
        added.push(new Line(text[i], spansFor(i), estimateHeight));
      update(lastLine, lastLine.text, lastSpans);
      if (nlines) doc.remove(from.line, nlines);
      if (added.length) doc.insert(from.line, added);
    } else if (firstLine == lastLine) {
      if (text.length == 1) {
        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);
      } else {
        for (var added = [], i = 1; i < text.length - 1; ++i)
          added.push(new Line(text[i], spansFor(i), estimateHeight));
        added.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));
        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));
        doc.insert(from.line + 1, added);
      }
    } else if (text.length == 1) {
      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));
      doc.remove(from.line + 1, nlines);
    } else {
      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));
      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);
      for (var i = 1, added = []; i < text.length - 1; ++i)
        added.push(new Line(text[i], spansFor(i), estimateHeight));
      if (nlines > 1) doc.remove(from.line + 1, nlines - 1);
      doc.insert(from.line + 1, added);
    }

    signalLater(doc, "change", doc, change);
  }

  // The document is represented as a BTree consisting of leaves, with
  // chunk of lines in them, and branches, with up to ten leaves or
  // other branch nodes below them. The top node is always a branch
  // node, and is the document object itself (meaning it has
  // additional methods and properties).
  //
  // All nodes have parent links. The tree is used both to go from
  // line numbers to line objects, and to go from objects to numbers.
  // It also indexes by height, and is used to convert between height
  // and line object, and to find the total height of the document.
  //
  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html

  function LeafChunk(lines) {
    this.lines = lines;
    this.parent = null;
    for (var i = 0, height = 0; i < lines.length; ++i) {
      lines[i].parent = this;
      height += lines[i].height;
    }
    this.height = height;
  }

  LeafChunk.prototype = {
    chunkSize: function() { return this.lines.length; },
    // Remove the n lines at offset 'at'.
    removeInner: function(at, n) {
      for (var i = at, e = at + n; i < e; ++i) {
        var line = this.lines[i];
        this.height -= line.height;
        cleanUpLine(line);
        signalLater(line, "delete");
      }
      this.lines.splice(at, n);
    },
    // Helper used to collapse a small branch into a single leaf.
    collapse: function(lines) {
      lines.push.apply(lines, this.lines);
    },
    // Insert the given array of lines at offset 'at', count them as
    // having the given height.
    insertInner: function(at, lines, height) {
      this.height += height;
      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));
      for (var i = 0; i < lines.length; ++i) lines[i].parent = this;
    },
    // Used to iterate over a part of the tree.
    iterN: function(at, n, op) {
      for (var e = at + n; at < e; ++at)
        if (op(this.lines[at])) return true;
    }
  };

  function BranchChunk(children) {
    this.children = children;
    var size = 0, height = 0;
    for (var i = 0; i < children.length; ++i) {
      var ch = children[i];
      size += ch.chunkSize(); height += ch.height;
      ch.parent = this;
    }
    this.size = size;
    this.height = height;
    this.parent = null;
  }

  BranchChunk.prototype = {
    chunkSize: function() { return this.size; },
    removeInner: function(at, n) {
      this.size -= n;
      for (var i = 0; i < this.children.length; ++i) {
        var child = this.children[i], sz = child.chunkSize();
        if (at < sz) {
          var rm = Math.min(n, sz - at), oldHeight = child.height;
          child.removeInner(at, rm);
          this.height -= oldHeight - child.height;
          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }
          if ((n -= rm) == 0) break;
          at = 0;
        } else at -= sz;
      }
      // If the result is smaller than 25 lines, ensure that it is a
      // single leaf node.
      if (this.size - n < 25 &&
          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {
        var lines = [];
        this.collapse(lines);
        this.children = [new LeafChunk(lines)];
        this.children[0].parent = this;
      }
    },
    collapse: function(lines) {
      for (var i = 0; i < this.children.length; ++i) this.children[i].collapse(lines);
    },
    insertInner: function(at, lines, height) {
      this.size += lines.length;
      this.height += height;
      for (var i = 0; i < this.children.length; ++i) {
        var child = this.children[i], sz = child.chunkSize();
        if (at <= sz) {
          child.insertInner(at, lines, height);
          if (child.lines && child.lines.length > 50) {
            while (child.lines.length > 50) {
              var spilled = child.lines.splice(child.lines.length - 25, 25);
              var newleaf = new LeafChunk(spilled);
              child.height -= newleaf.height;
              this.children.splice(i + 1, 0, newleaf);
              newleaf.parent = this;
            }
            this.maybeSpill();
          }
          break;
        }
        at -= sz;
      }
    },
    // When a node has grown, check whether it should be split.
    maybeSpill: function() {
      if (this.children.length <= 10) return;
      var me = this;
      do {
        var spilled = me.children.splice(me.children.length - 5, 5);
        var sibling = new BranchChunk(spilled);
        if (!me.parent) { // Become the parent node
          var copy = new BranchChunk(me.children);
          copy.parent = me;
          me.children = [copy, sibling];
          me = copy;
        } else {
          me.size -= sibling.size;
          me.height -= sibling.height;
          var myIndex = indexOf(me.parent.children, me);
          me.parent.children.splice(myIndex + 1, 0, sibling);
        }
        sibling.parent = me.parent;
      } while (me.children.length > 10);
      me.parent.maybeSpill();
    },
    iterN: function(at, n, op) {
      for (var i = 0; i < this.children.length; ++i) {
        var child = this.children[i], sz = child.chunkSize();
        if (at < sz) {
          var used = Math.min(n, sz - at);
          if (child.iterN(at, used, op)) return true;
          if ((n -= used) == 0) break;
          at = 0;
        } else at -= sz;
      }
    }
  };

  var nextDocId = 0;
  var Doc = CodeMirror.Doc = function(text, mode, firstLine) {
    if (!(this instanceof Doc)) return new Doc(text, mode, firstLine);
    if (firstLine == null) firstLine = 0;

    BranchChunk.call(this, [new LeafChunk([new Line("", null)])]);
    this.first = firstLine;
    this.scrollTop = this.scrollLeft = 0;
    this.cantEdit = false;
    this.cleanGeneration = 1;
    this.frontier = firstLine;
    var start = Pos(firstLine, 0);
    this.sel = simpleSelection(start);
    this.history = new History(null);
    this.id = ++nextDocId;
    this.modeOption = mode;

    if (typeof text == "string") text = splitLines(text);
    updateDoc(this, {from: start, to: start, text: text});
    setSelection(this, simpleSelection(start), sel_dontScroll);
  };

  Doc.prototype = createObj(BranchChunk.prototype, {
    constructor: Doc,
    // Iterate over the document. Supports two forms -- with only one
    // argument, it calls that for each line in the document. With
    // three, it iterates over the range given by the first two (with
    // the second being non-inclusive).
    iter: function(from, to, op) {
      if (op) this.iterN(from - this.first, to - from, op);
      else this.iterN(this.first, this.first + this.size, from);
    },

    // Non-public interface for adding and removing lines.
    insert: function(at, lines) {
      var height = 0;
      for (var i = 0; i < lines.length; ++i) height += lines[i].height;
      this.insertInner(at - this.first, lines, height);
    },
    remove: function(at, n) { this.removeInner(at - this.first, n); },

    // From here, the methods are part of the public interface. Most
    // are also available from CodeMirror (editor) instances.

    getValue: function(lineSep) {
      var lines = getLines(this, this.first, this.first + this.size);
      if (lineSep === false) return lines;
      return lines.join(lineSep || "\n");
    },
    setValue: docMethodOp(function(code) {
      var top = Pos(this.first, 0), last = this.first + this.size - 1;
      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),
                        text: splitLines(code), origin: "setValue"}, true);
      setSelection(this, simpleSelection(top));
    }),
    replaceRange: function(code, from, to, origin) {
      from = clipPos(this, from);
      to = to ? clipPos(this, to) : from;
      replaceRange(this, code, from, to, origin);
    },
    getRange: function(from, to, lineSep) {
      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));
      if (lineSep === false) return lines;
      return lines.join(lineSep || "\n");
    },

    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text;},

    getLineHandle: function(line) {if (isLine(this, line)) return getLine(this, line);},
    getLineNumber: function(line) {return lineNo(line);},

    getLineHandleVisualStart: function(line) {
      if (typeof line == "number") line = getLine(this, line);
      return visualLine(line);
    },

    lineCount: function() {return this.size;},
    firstLine: function() {return this.first;},
    lastLine: function() {return this.first + this.size - 1;},

    clipPos: function(pos) {return clipPos(this, pos);},

    getCursor: function(start) {
      var range = this.sel.primary(), pos;
      if (start == null || start == "head") pos = range.head;
      else if (start == "anchor") pos = range.anchor;
      else if (start == "end" || start == "to" || start === false) pos = range.to();
      else pos = range.from();
      return pos;
    },
    listSelections: function() { return this.sel.ranges; },
    somethingSelected: function() {return this.sel.somethingSelected();},

    setCursor: docMethodOp(function(line, ch, options) {
      setSimpleSelection(this, clipPos(this, typeof line == "number" ? Pos(line, ch || 0) : line), null, options);
    }),
    setSelection: docMethodOp(function(anchor, head, options) {
      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);
    }),
    extendSelection: docMethodOp(function(head, other, options) {
      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);
    }),
    extendSelections: docMethodOp(function(heads, options) {
      extendSelections(this, clipPosArray(this, heads, options));
    }),
    extendSelectionsBy: docMethodOp(function(f, options) {
      extendSelections(this, map(this.sel.ranges, f), options);
    }),
    setSelections: docMethodOp(function(ranges, primary, options) {
      if (!ranges.length) return;
      for (var i = 0, out = []; i < ranges.length; i++)
        out[i] = new Range(clipPos(this, ranges[i].anchor),
                           clipPos(this, ranges[i].head));
      if (primary == null) primary = Math.min(ranges.length - 1, this.sel.primIndex);
      setSelection(this, normalizeSelection(out, primary), options);
    }),
    addSelection: docMethodOp(function(anchor, head, options) {
      var ranges = this.sel.ranges.slice(0);
      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));
      setSelection(this, normalizeSelection(ranges, ranges.length - 1), options);
    }),

    getSelection: function(lineSep) {
      var ranges = this.sel.ranges, lines;
      for (var i = 0; i < ranges.length; i++) {
        var sel = getBetween(this, ranges[i].from(), ranges[i].to());
        lines = lines ? lines.concat(sel) : sel;
      }
      if (lineSep === false) return lines;
      else return lines.join(lineSep || "\n");
    },
    getSelections: function(lineSep) {
      var parts = [], ranges = this.sel.ranges;
      for (var i = 0; i < ranges.length; i++) {
        var sel = getBetween(this, ranges[i].from(), ranges[i].to());
        if (lineSep !== false) sel = sel.join(lineSep || "\n");
        parts[i] = sel;
      }
      return parts;
    },
    replaceSelection: function(code, collapse, origin) {
      var dup = [];
      for (var i = 0; i < this.sel.ranges.length; i++)
        dup[i] = code;
      this.replaceSelections(dup, collapse, origin || "+input");
    },
    replaceSelections: docMethodOp(function(code, collapse, origin) {
      var changes = [], sel = this.sel;
      for (var i = 0; i < sel.ranges.length; i++) {
        var range = sel.ranges[i];
        changes[i] = {from: range.from(), to: range.to(), text: splitLines(code[i]), origin: origin};
      }
      var newSel = collapse && collapse != "end" && computeReplacedSel(this, changes, collapse);
      for (var i = changes.length - 1; i >= 0; i--)
        makeChange(this, changes[i]);
      if (newSel) setSelectionReplaceHistory(this, newSel);
      else if (this.cm) ensureCursorVisible(this.cm);
    }),
    undo: docMethodOp(function() {makeChangeFromHistory(this, "undo");}),
    redo: docMethodOp(function() {makeChangeFromHistory(this, "redo");}),
    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, "undo", true);}),
    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, "redo", true);}),

    setExtending: function(val) {this.extend = val;},
    getExtending: function() {return this.extend;},

    historySize: function() {
      var hist = this.history, done = 0, undone = 0;
      for (var i = 0; i < hist.done.length; i++) if (!hist.done[i].ranges) ++done;
      for (var i = 0; i < hist.undone.length; i++) if (!hist.undone[i].ranges) ++undone;
      return {undo: done, redo: undone};
    },
    clearHistory: function() {this.history = new History(this.history.maxGeneration);},

    markClean: function() {
      this.cleanGeneration = this.changeGeneration(true);
    },
    changeGeneration: function(forceSplit) {
      if (forceSplit)
        this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null;
      return this.history.generation;
    },
    isClean: function (gen) {
      return this.history.generation == (gen || this.cleanGeneration);
    },

    getHistory: function() {
      return {done: copyHistoryArray(this.history.done),
              undone: copyHistoryArray(this.history.undone)};
    },
    setHistory: function(histData) {
      var hist = this.history = new History(this.history.maxGeneration);
      hist.done = copyHistoryArray(histData.done.slice(0), null, true);
      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);
    },

    addLineClass: docMethodOp(function(handle, where, cls) {
      return changeLine(this, handle, "class", function(line) {
        var prop = where == "text" ? "textClass" : where == "background" ? "bgClass" : "wrapClass";
        if (!line[prop]) line[prop] = cls;
        else if (new RegExp("(?:^|\\s)" + cls + "(?:$|\\s)").test(line[prop])) return false;
        else line[prop] += " " + cls;
        return true;
      });
    }),
    removeLineClass: docMethodOp(function(handle, where, cls) {
      return changeLine(this, handle, "class", function(line) {
        var prop = where == "text" ? "textClass" : where == "background" ? "bgClass" : "wrapClass";
        var cur = line[prop];
        if (!cur) return false;
        else if (cls == null) line[prop] = null;
        else {
          var found = cur.match(new RegExp("(?:^|\\s+)" + cls + "(?:$|\\s+)"));
          if (!found) return false;
          var end = found.index + found[0].length;
          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? "" : " ") + cur.slice(end) || null;
        }
        return true;
      });
    }),

    markText: function(from, to, options) {
      return markText(this, clipPos(this, from), clipPos(this, to), options, "range");
    },
    setBookmark: function(pos, options) {
      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),
                      insertLeft: options && options.insertLeft,
                      clearWhenEmpty: false, shared: options && options.shared};
      pos = clipPos(this, pos);
      return markText(this, pos, pos, realOpts, "bookmark");
    },
    findMarksAt: function(pos) {
      pos = clipPos(this, pos);
      var markers = [], spans = getLine(this, pos.line).markedSpans;
      if (spans) for (var i = 0; i < spans.length; ++i) {
        var span = spans[i];
        if ((span.from == null || span.from <= pos.ch) &&
            (span.to == null || span.to >= pos.ch))
          markers.push(span.marker.parent || span.marker);
      }
      return markers;
    },
    findMarks: function(from, to, filter) {
      from = clipPos(this, from); to = clipPos(this, to);
      var found = [], lineNo = from.line;
      this.iter(from.line, to.line + 1, function(line) {
        var spans = line.markedSpans;
        if (spans) for (var i = 0; i < spans.length; i++) {
          var span = spans[i];
          if (!(lineNo == from.line && from.ch > span.to ||
                span.from == null && lineNo != from.line||
                lineNo == to.line && span.from > to.ch) &&
              (!filter || filter(span.marker)))
            found.push(span.marker.parent || span.marker);
        }
        ++lineNo;
      });
      return found;
    },
    getAllMarks: function() {
      var markers = [];
      this.iter(function(line) {
        var sps = line.markedSpans;
        if (sps) for (var i = 0; i < sps.length; ++i)
          if (sps[i].from != null) markers.push(sps[i].marker);
      });
      return markers;
    },

    posFromIndex: function(off) {
      var ch, lineNo = this.first;
      this.iter(function(line) {
        var sz = line.text.length + 1;
        if (sz > off) { ch = off; return true; }
        off -= sz;
        ++lineNo;
      });
      return clipPos(this, Pos(lineNo, ch));
    },
    indexFromPos: function (coords) {
      coords = clipPos(this, coords);
      var index = coords.ch;
      if (coords.line < this.first || coords.ch < 0) return 0;
      this.iter(this.first, coords.line, function (line) {
        index += line.text.length + 1;
      });
      return index;
    },

    copy: function(copyHistory) {
      var doc = new Doc(getLines(this, this.first, this.first + this.size), this.modeOption, this.first);
      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;
      doc.sel = this.sel;
      doc.extend = false;
      if (copyHistory) {
        doc.history.undoDepth = this.history.undoDepth;
        doc.setHistory(this.getHistory());
      }
      return doc;
    },

    linkedDoc: function(options) {
      if (!options) options = {};
      var from = this.first, to = this.first + this.size;
      if (options.from != null && options.from > from) from = options.from;
      if (options.to != null && options.to < to) to = options.to;
      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from);
      if (options.sharedHist) copy.history = this.history;
      (this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});
      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];
      copySharedMarkers(copy, findSharedMarkers(this));
      return copy;
    },
    unlinkDoc: function(other) {
      if (other instanceof CodeMirror) other = other.doc;
      if (this.linked) for (var i = 0; i < this.linked.length; ++i) {
        var link = this.linked[i];
        if (link.doc != other) continue;
        this.linked.splice(i, 1);
        other.unlinkDoc(this);
        detachSharedMarkers(findSharedMarkers(this));
        break;
      }
      // If the histories were shared, split them again
      if (other.history == this.history) {
        var splitIds = [other.id];
        linkedDocs(other, function(doc) {splitIds.push(doc.id);}, true);
        other.history = new History(null);
        other.history.done = copyHistoryArray(this.history.done, splitIds);
        other.history.undone = copyHistoryArray(this.history.undone, splitIds);
      }
    },
    iterLinkedDocs: function(f) {linkedDocs(this, f);},

    getMode: function() {return this.mode;},
    getEditor: function() {return this.cm;}
  });

  // Public alias.
  Doc.prototype.eachLine = Doc.prototype.iter;

  // Set up methods on CodeMirror's prototype to redirect to the editor's document.
  var dontDelegate = "iter insert remove copy getEditor".split(" ");
  for (var prop in Doc.prototype) if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)
    CodeMirror.prototype[prop] = (function(method) {
      return function() {return method.apply(this.doc, arguments);};
    })(Doc.prototype[prop]);

  eventMixin(Doc);

  // Call f for all linked documents.
  function linkedDocs(doc, f, sharedHistOnly) {
    function propagate(doc, skip, sharedHist) {
      if (doc.linked) for (var i = 0; i < doc.linked.length; ++i) {
        var rel = doc.linked[i];
        if (rel.doc == skip) continue;
        var shared = sharedHist && rel.sharedHist;
        if (sharedHistOnly && !shared) continue;
        f(rel.doc, shared);
        propagate(rel.doc, doc, shared);
      }
    }
    propagate(doc, null, true);
  }

  // Attach a document to an editor.
  function attachDoc(cm, doc) {
    if (doc.cm) throw new Error("This document is already in use.");
    cm.doc = doc;
    doc.cm = cm;
    estimateLineHeights(cm);
    loadMode(cm);
    if (!cm.options.lineWrapping) findMaxLine(cm);
    cm.options.mode = doc.modeOption;
    regChange(cm);
  }

  // LINE UTILITIES

  // Find the line object corresponding to the given line number.
  function getLine(doc, n) {
    n -= doc.first;
    if (n < 0 || n >= doc.size) throw new Error("There is no line " + (n + doc.first) + " in the document.");
    for (var chunk = doc; !chunk.lines;) {
      for (var i = 0;; ++i) {
        var child = chunk.children[i], sz = child.chunkSize();
        if (n < sz) { chunk = child; break; }
        n -= sz;
      }
    }
    return chunk.lines[n];
  }

  // Get the part of a document between two positions, as an array of
  // strings.
  function getBetween(doc, start, end) {
    var out = [], n = start.line;
    doc.iter(start.line, end.line + 1, function(line) {
      var text = line.text;
      if (n == end.line) text = text.slice(0, end.ch);
      if (n == start.line) text = text.slice(start.ch);
      out.push(text);
      ++n;
    });
    return out;
  }
  // Get the lines between from and to, as array of strings.
  function getLines(doc, from, to) {
    var out = [];
    doc.iter(from, to, function(line) { out.push(line.text); });
    return out;
  }

  // Update the height of a line, propagating the height change
  // upwards to parent nodes.
  function updateLineHeight(line, height) {
    var diff = height - line.height;
    if (diff) for (var n = line; n; n = n.parent) n.height += diff;
  }

  // Given a line object, find its line number by walking up through
  // its parent links.
  function lineNo(line) {
    if (line.parent == null) return null;
    var cur = line.parent, no = indexOf(cur.lines, line);
    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {
      for (var i = 0;; ++i) {
        if (chunk.children[i] == cur) break;
        no += chunk.children[i].chunkSize();
      }
    }
    return no + cur.first;
  }

  // Find the line at the given vertical position, using the height
  // information in the document tree.
  function lineAtHeight(chunk, h) {
    var n = chunk.first;
    outer: do {
      for (var i = 0; i < chunk.children.length; ++i) {
        var child = chunk.children[i], ch = child.height;
        if (h < ch) { chunk = child; continue outer; }
        h -= ch;
        n += child.chunkSize();
      }
      return n;
    } while (!chunk.lines);
    for (var i = 0; i < chunk.lines.length; ++i) {
      var line = chunk.lines[i], lh = line.height;
      if (h < lh) break;
      h -= lh;
    }
    return n + i;
  }


  // Find the height above the given line.
  function heightAtLine(lineObj) {
    lineObj = visualLine(lineObj);

    var h = 0, chunk = lineObj.parent;
    for (var i = 0; i < chunk.lines.length; ++i) {
      var line = chunk.lines[i];
      if (line == lineObj) break;
      else h += line.height;
    }
    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {
      for (var i = 0; i < p.children.length; ++i) {
        var cur = p.children[i];
        if (cur == chunk) break;
        else h += cur.height;
      }
    }
    return h;
  }

  // Get the bidi ordering for the given line (and cache it). Returns
  // false for lines that are fully left-to-right, and an array of
  // BidiSpan objects otherwise.
  function getOrder(line) {
    var order = line.order;
    if (order == null) order = line.order = bidiOrdering(line.text);
    return order;
  }

  // HISTORY

  function History(startGen) {
    // Arrays of change events and selections. Doing something adds an
    // event to done and clears undo. Undoing moves events from done
    // to undone, redoing moves them in the other direction.
    this.done = []; this.undone = [];
    this.undoDepth = Infinity;
    // Used to track when changes can be merged into a single undo
    // event
    this.lastModTime = this.lastSelTime = 0;
    this.lastOp = this.lastSelOp = null;
    this.lastOrigin = this.lastSelOrigin = null;
    // Used by the isClean() method
    this.generation = this.maxGeneration = startGen || 1;
  }

  // Create a history change event from an updateDoc-style change
  // object.
  function historyChangeFromChange(doc, change) {
    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};
    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);
    linkedDocs(doc, function(doc) {attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);}, true);
    return histChange;
  }

  // Pop all selection events off the end of a history array. Stop at
  // a change event.
  function clearSelectionEvents(array) {
    while (array.length) {
      var last = lst(array);
      if (last.ranges) array.pop();
      else break;
    }
  }

  // Find the top change event in the history. Pop off selection
  // events that are in the way.
  function lastChangeEvent(hist, force) {
    if (force) {
      clearSelectionEvents(hist.done);
      return lst(hist.done);
    } else if (hist.done.length && !lst(hist.done).ranges) {
      return lst(hist.done);
    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {
      hist.done.pop();
      return lst(hist.done);
    }
  }

  // Register a change in the history. Merges changes that are within
  // a single operation, ore are close together with an origin that
  // allows merging (starting with "+") into a single event.
  function addChangeToHistory(doc, change, selAfter, opId) {
    var hist = doc.history;
    hist.undone.length = 0;
    var time = +new Date, cur;

    if ((hist.lastOp == opId ||
         hist.lastOrigin == change.origin && change.origin &&
         ((change.origin.charAt(0) == "+" && doc.cm && hist.lastModTime > time - doc.cm.options.historyEventDelay) ||
          change.origin.charAt(0) == "*")) &&
        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {
      // Merge this change into the last event
      var last = lst(cur.changes);
      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {
        // Optimized case for simple insertion -- don't want to add
        // new changesets for every character typed
        last.to = changeEnd(change);
      } else {
        // Add new sub-event
        cur.changes.push(historyChangeFromChange(doc, change));
      }
    } else {
      // Can not be merged, start a new event.
      var before = lst(hist.done);
      if (!before || !before.ranges)
        pushSelectionToHistory(doc.sel, hist.done);
      cur = {changes: [historyChangeFromChange(doc, change)],
             generation: hist.generation};
      hist.done.push(cur);
      while (hist.done.length > hist.undoDepth) {
        hist.done.shift();
        if (!hist.done[0].ranges) hist.done.shift();
      }
    }
    hist.done.push(selAfter);
    hist.generation = ++hist.maxGeneration;
    hist.lastModTime = hist.lastSelTime = time;
    hist.lastOp = hist.lastSelOp = opId;
    hist.lastOrigin = hist.lastSelOrigin = change.origin;

    if (!last) signal(doc, "historyAdded");
  }

  function selectionEventCanBeMerged(doc, origin, prev, sel) {
    var ch = origin.charAt(0);
    return ch == "*" ||
      ch == "+" &&
      prev.ranges.length == sel.ranges.length &&
      prev.somethingSelected() == sel.somethingSelected() &&
      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500);
  }

  // Called whenever the selection changes, sets the new selection as
  // the pending selection in the history, and pushes the old pending
  // selection into the 'done' array when it was significantly
  // different (in number of selected ranges, emptiness, or time).
  function addSelectionToHistory(doc, sel, opId, options) {
    var hist = doc.history, origin = options && options.origin;

    // A new event is started when the previous origin does not match
    // the current, or the origins don't allow matching. Origins
    // starting with * are always merged, those starting with + are
    // merged when similar and close together in time.
    if (opId == hist.lastSelOp ||
        (origin && hist.lastSelOrigin == origin &&
         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||
          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))
      hist.done[hist.done.length - 1] = sel;
    else
      pushSelectionToHistory(sel, hist.done);

    hist.lastSelTime = +new Date;
    hist.lastSelOrigin = origin;
    hist.lastSelOp = opId;
    if (options && options.clearRedo !== false)
      clearSelectionEvents(hist.undone);
  }

  function pushSelectionToHistory(sel, dest) {
    var top = lst(dest);
    if (!(top && top.ranges && top.equals(sel)))
      dest.push(sel);
  }

  // Used to store marked span information in the history.
  function attachLocalSpans(doc, change, from, to) {
    var existing = change["spans_" + doc.id], n = 0;
    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function(line) {
      if (line.markedSpans)
        (existing || (existing = change["spans_" + doc.id] = {}))[n] = line.markedSpans;
      ++n;
    });
  }

  // When un/re-doing restores text containing marked spans, those
  // that have been explicitly cleared should not be restored.
  function removeClearedSpans(spans) {
    if (!spans) return null;
    for (var i = 0, out; i < spans.length; ++i) {
      if (spans[i].marker.explicitlyCleared) { if (!out) out = spans.slice(0, i); }
      else if (out) out.push(spans[i]);
    }
    return !out ? spans : out.length ? out : null;
  }

  // Retrieve and filter the old marked spans stored in a change event.
  function getOldSpans(doc, change) {
    var found = change["spans_" + doc.id];
    if (!found) return null;
    for (var i = 0, nw = []; i < change.text.length; ++i)
      nw.push(removeClearedSpans(found[i]));
    return nw;
  }

  // Used both to provide a JSON-safe object in .getHistory, and, when
  // detaching a document, to split the history in two
  function copyHistoryArray(events, newGroup, instantiateSel) {
    for (var i = 0, copy = []; i < events.length; ++i) {
      var event = events[i];
      if (event.ranges) {
        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);
        continue;
      }
      var changes = event.changes, newChanges = [];
      copy.push({changes: newChanges});
      for (var j = 0; j < changes.length; ++j) {
        var change = changes[j], m;
        newChanges.push({from: change.from, to: change.to, text: change.text});
        if (newGroup) for (var prop in change) if (m = prop.match(/^spans_(\d+)$/)) {
          if (indexOf(newGroup, Number(m[1])) > -1) {
            lst(newChanges)[prop] = change[prop];
            delete change[prop];
          }
        }
      }
    }
    return copy;
  }

  // Rebasing/resetting history to deal with externally-sourced changes

  function rebaseHistSelSingle(pos, from, to, diff) {
    if (to < pos.line) {
      pos.line += diff;
    } else if (from < pos.line) {
      pos.line = from;
      pos.ch = 0;
    }
  }

  // Tries to rebase an array of history events given a change in the
  // document. If the change touches the same lines as the event, the
  // event, and everything 'behind' it, is discarded. If the change is
  // before the event, the event's positions are updated. Uses a
  // copy-on-write scheme for the positions, to avoid having to
  // reallocate them all on every rebase, but also avoid problems with
  // shared position objects being unsafely updated.
  function rebaseHistArray(array, from, to, diff) {
    for (var i = 0; i < array.length; ++i) {
      var sub = array[i], ok = true;
      if (sub.ranges) {
        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }
        for (var j = 0; j < sub.ranges.length; j++) {
          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);
          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);
        }
        continue;
      }
      for (var j = 0; j < sub.changes.length; ++j) {
        var cur = sub.changes[j];
        if (to < cur.from.line) {
          cur.from = Pos(cur.from.line + diff, cur.from.ch);
          cur.to = Pos(cur.to.line + diff, cur.to.ch);
        } else if (from <= cur.to.line) {
          ok = false;
          break;
        }
      }
      if (!ok) {
        array.splice(0, i + 1);
        i = 0;
      }
    }
  }

  function rebaseHist(hist, change) {
    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;
    rebaseHistArray(hist.done, from, to, diff);
    rebaseHistArray(hist.undone, from, to, diff);
  }

  // EVENT UTILITIES

  // Due to the fact that we still support jurassic IE versions, some
  // compatibility wrappers are needed.

  var e_preventDefault = CodeMirror.e_preventDefault = function(e) {
    if (e.preventDefault) e.preventDefault();
    else e.returnValue = false;
  };
  var e_stopPropagation = CodeMirror.e_stopPropagation = function(e) {
    if (e.stopPropagation) e.stopPropagation();
    else e.cancelBubble = true;
  };
  function e_defaultPrevented(e) {
    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false;
  }
  var e_stop = CodeMirror.e_stop = function(e) {e_preventDefault(e); e_stopPropagation(e);};

  function e_target(e) {return e.target || e.srcElement;}
  function e_button(e) {
    var b = e.which;
    if (b == null) {
      if (e.button & 1) b = 1;
      else if (e.button & 2) b = 3;
      else if (e.button & 4) b = 2;
    }
    if (mac && e.ctrlKey && b == 1) b = 3;
    return b;
  }

  // EVENT HANDLING

  // Lightweight event framework. on/off also work on DOM nodes,
  // registering native DOM handlers.

  var on = CodeMirror.on = function(emitter, type, f) {
    if (emitter.addEventListener)
      emitter.addEventListener(type, f, false);
    else if (emitter.attachEvent)
      emitter.attachEvent("on" + type, f);
    else {
      var map = emitter._handlers || (emitter._handlers = {});
      var arr = map[type] || (map[type] = []);
      arr.push(f);
    }
  };

  var off = CodeMirror.off = function(emitter, type, f) {
    if (emitter.removeEventListener)
      emitter.removeEventListener(type, f, false);
    else if (emitter.detachEvent)
      emitter.detachEvent("on" + type, f);
    else {
      var arr = emitter._handlers && emitter._handlers[type];
      if (!arr) return;
      for (var i = 0; i < arr.length; ++i)
        if (arr[i] == f) { arr.splice(i, 1); break; }
    }
  };

  var signal = CodeMirror.signal = function(emitter, type /*, values...*/) {
    var arr = emitter._handlers && emitter._handlers[type];
    if (!arr) return;
    var args = Array.prototype.slice.call(arguments, 2);
    for (var i = 0; i < arr.length; ++i) arr[i].apply(null, args);
  };

  var orphanDelayedCallbacks = null;

  // Often, we want to signal events at a point where we are in the
  // middle of some work, but don't want the handler to start calling
  // other methods on the editor, which might be in an inconsistent
  // state or simply not expect any other events to happen.
  // signalLater looks whether there are any handlers, and schedules
  // them to be executed when the last operation ends, or, if no
  // operation is active, when a timeout fires.
  function signalLater(emitter, type /*, values...*/) {
    var arr = emitter._handlers && emitter._handlers[type];
    if (!arr) return;
    var args = Array.prototype.slice.call(arguments, 2), list;
    if (operationGroup) {
      list = operationGroup.delayedCallbacks;
    } else if (orphanDelayedCallbacks) {
      list = orphanDelayedCallbacks;
    } else {
      list = orphanDelayedCallbacks = [];
      setTimeout(fireOrphanDelayed, 0);
    }
    function bnd(f) {return function(){f.apply(null, args);};};
    for (var i = 0; i < arr.length; ++i)
      list.push(bnd(arr[i]));
  }

  function fireOrphanDelayed() {
    var delayed = orphanDelayedCallbacks;
    orphanDelayedCallbacks = null;
    for (var i = 0; i < delayed.length; ++i) delayed[i]();
  }

  // The DOM events that CodeMirror handles can be overridden by
  // registering a (non-DOM) handler on the editor for the event name,
  // and preventDefault-ing the event in that handler.
  function signalDOMEvent(cm, e, override) {
    signal(cm, override || e.type, cm, e);
    return e_defaultPrevented(e) || e.codemirrorIgnore;
  }

  function signalCursorActivity(cm) {
    var arr = cm._handlers && cm._handlers.cursorActivity;
    if (!arr) return;
    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);
    for (var i = 0; i < arr.length; ++i) if (indexOf(set, arr[i]) == -1)
      set.push(arr[i]);
  }

  function hasHandler(emitter, type) {
    var arr = emitter._handlers && emitter._handlers[type];
    return arr && arr.length > 0;
  }

  // Add on and off methods to a constructor's prototype, to make
  // registering events on such objects more convenient.
  function eventMixin(ctor) {
    ctor.prototype.on = function(type, f) {on(this, type, f);};
    ctor.prototype.off = function(type, f) {off(this, type, f);};
  }

  // MISC UTILITIES

  // Number of pixels added to scroller and sizer to hide scrollbar
  var scrollerCutOff = 30;

  // Returned or thrown by various protocols to signal 'I'm not
  // handling this'.
  var Pass = CodeMirror.Pass = {toString: function(){return "CodeMirror.Pass";}};

  // Reused option objects for setSelection & friends
  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: "*mouse"}, sel_move = {origin: "+move"};

  function Delayed() {this.id = null;}
  Delayed.prototype.set = function(ms, f) {
    clearTimeout(this.id);
    this.id = setTimeout(f, ms);
  };

  // Counts the column offset in a string, taking tabs into account.
  // Used mostly to find indentation.
  var countColumn = CodeMirror.countColumn = function(string, end, tabSize, startIndex, startValue) {
    if (end == null) {
      end = string.search(/[^\s\u00a0]/);
      if (end == -1) end = string.length;
    }
    for (var i = startIndex || 0, n = startValue || 0;;) {
      var nextTab = string.indexOf("\t", i);
      if (nextTab < 0 || nextTab >= end)
        return n + (end - i);
      n += nextTab - i;
      n += tabSize - (n % tabSize);
      i = nextTab + 1;
    }
  };

  // The inverse of countColumn -- find the offset that corresponds to
  // a particular column.
  function findColumn(string, goal, tabSize) {
    for (var pos = 0, col = 0;;) {
      var nextTab = string.indexOf("\t", pos);
      if (nextTab == -1) nextTab = string.length;
      var skipped = nextTab - pos;
      if (nextTab == string.length || col + skipped >= goal)
        return pos + Math.min(skipped, goal - col);
      col += nextTab - pos;
      col += tabSize - (col % tabSize);
      pos = nextTab + 1;
      if (col >= goal) return pos;
    }
  }

  var spaceStrs = [""];
  function spaceStr(n) {
    while (spaceStrs.length <= n)
      spaceStrs.push(lst(spaceStrs) + " ");
    return spaceStrs[n];
  }

  function lst(arr) { return arr[arr.length-1]; }

  var selectInput = function(node) { node.select(); };
  if (ios) // Mobile Safari apparently has a bug where select() is broken.
    selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; };
  else if (ie) // Suppress mysterious IE10 errors
    selectInput = function(node) { try { node.select(); } catch(_e) {} };

  function indexOf(array, elt) {
    for (var i = 0; i < array.length; ++i)
      if (array[i] == elt) return i;
    return -1;
  }
  if ([].indexOf) indexOf = function(array, elt) { return array.indexOf(elt); };
  function map(array, f) {
    var out = [];
    for (var i = 0; i < array.length; i++) out[i] = f(array[i], i);
    return out;
  }
  if ([].map) map = function(array, f) { return array.map(f); };

  function createObj(base, props) {
    var inst;
    if (Object.create) {
      inst = Object.create(base);
    } else {
      var ctor = function() {};
      ctor.prototype = base;
      inst = new ctor();
    }
    if (props) copyObj(props, inst);
    return inst;
  };

  function copyObj(obj, target, overwrite) {
    if (!target) target = {};
    for (var prop in obj)
      if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))
        target[prop] = obj[prop];
    return target;
  }

  function bind(f) {
    var args = Array.prototype.slice.call(arguments, 1);
    return function(){return f.apply(null, args);};
  }

  var nonASCIISingleCaseWordChar = /[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
  var isWordCharBasic = CodeMirror.isWordChar = function(ch) {
    return /\w/.test(ch) || ch > "\x80" &&
      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch));
  };
  function isWordChar(ch, helper) {
    if (!helper) return isWordCharBasic(ch);
    if (helper.source.indexOf("\\w") > -1 && isWordCharBasic(ch)) return true;
    return helper.test(ch);
  }

  function isEmpty(obj) {
    for (var n in obj) if (obj.hasOwnProperty(n) && obj[n]) return false;
    return true;
  }

  // Extending unicode characters. A series of a non-extending char +
  // any number of extending chars is treated as a single unit as far
  // as editing and measuring is concerned. This is not fully correct,
  // since some scripts/fonts/browsers also treat other configurations
  // of code points as a group.
  var extendingChars = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch); }

  // DOM UTILITIES

  function elt(tag, content, className, style) {
    var e = document.createElement(tag);
    if (className) e.className = className;
    if (style) e.style.cssText = style;
    if (typeof content == "string") e.appendChild(document.createTextNode(content));
    else if (content) for (var i = 0; i < content.length; ++i) e.appendChild(content[i]);
    return e;
  }

  var range;
  if (document.createRange) range = function(node, start, end) {
    var r = document.createRange();
    r.setEnd(node, end);
    r.setStart(node, start);
    return r;
  };
  else range = function(node, start, end) {
    var r = document.body.createTextRange();
    r.moveToElementText(node.parentNode);
    r.collapse(true);
    r.moveEnd("character", end);
    r.moveStart("character", start);
    return r;
  };

  function removeChildren(e) {
    for (var count = e.childNodes.length; count > 0; --count)
      e.removeChild(e.firstChild);
    return e;
  }

  function removeChildrenAndAdd(parent, e) {
    return removeChildren(parent).appendChild(e);
  }

  function contains(parent, child) {
    if (parent.contains)
      return parent.contains(child);
    while (child = child.parentNode)
      if (child == parent) return true;
  }

  function activeElt() { return document.activeElement; }
  // Older versions of IE throws unspecified error when touching
  // document.activeElement in some cases (during loading, in iframe)
  if (ie && ie_version < 11) activeElt = function() {
    try { return document.activeElement; }
    catch(e) { return document.body; }
  };

  function classTest(cls) { return new RegExp("\\b" + cls + "\\b\\s*"); }
  function rmClass(node, cls) {
    var test = classTest(cls);
    if (test.test(node.className)) node.className = node.className.replace(test, "");
  }
  function addClass(node, cls) {
    if (!classTest(cls).test(node.className)) node.className += " " + cls;
  }
  function joinClasses(a, b) {
    var as = a.split(" ");
    for (var i = 0; i < as.length; i++)
      if (as[i] && !classTest(as[i]).test(b)) b += " " + as[i];
    return b;
  }

  // WINDOW-WIDE EVENTS

  // These must be handled carefully, because naively registering a
  // handler for each editor will cause the editors to never be
  // garbage collected.

  function forEachCodeMirror(f) {
    if (!document.body.getElementsByClassName) return;
    var byClass = document.body.getElementsByClassName("CodeMirror");
    for (var i = 0; i < byClass.length; i++) {
      var cm = byClass[i].CodeMirror;
      if (cm) f(cm);
    }
  }

  var globalsRegistered = false;
  function ensureGlobalHandlers() {
    if (globalsRegistered) return;
    registerGlobalHandlers();
    globalsRegistered = true;
  }
  function registerGlobalHandlers() {
    // When the window resizes, we need to refresh active editors.
    var resizeTimer;
    on(window, "resize", function() {
      if (resizeTimer == null) resizeTimer = setTimeout(function() {
        resizeTimer = null;
        knownScrollbarWidth = null;
        forEachCodeMirror(onResize);
      }, 100);
    });
    // When the window loses focus, we want to show the editor as blurred
    on(window, "blur", function() {
      forEachCodeMirror(onBlur);
    });
  }

  // FEATURE DETECTION

  // Detect drag-and-drop
  var dragAndDrop = function() {
    // There is *some* kind of drag-and-drop support in IE6-8, but I
    // couldn't get it to work yet.
    if (ie && ie_version < 9) return false;
    var div = elt('div');
    return "draggable" in div || "dragDrop" in div;
  }();

  var knownScrollbarWidth;
  function scrollbarWidth(measure) {
    if (knownScrollbarWidth != null) return knownScrollbarWidth;
    var test = elt("div", null, null, "width: 50px; height: 50px; overflow-x: scroll");
    removeChildrenAndAdd(measure, test);
    if (test.offsetWidth)
      knownScrollbarWidth = test.offsetHeight - test.clientHeight;
    return knownScrollbarWidth || 0;
  }

  var zwspSupported;
  function zeroWidthElement(measure) {
    if (zwspSupported == null) {
      var test = elt("span", "\u200b");
      removeChildrenAndAdd(measure, elt("span", [test, document.createTextNode("x")]));
      if (measure.firstChild.offsetHeight != 0)
        zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8);
    }
    if (zwspSupported) return elt("span", "\u200b");
    else return elt("span", "\u00a0", null, "display: inline-block; width: 1px; margin-right: -1px");
  }

  // Feature-detect IE's crummy client rect reporting for bidi text
  var badBidiRects;
  function hasBadBidiRects(measure) {
    if (badBidiRects != null) return badBidiRects;
    var txt = removeChildrenAndAdd(measure, document.createTextNode("A\u062eA"));
    var r0 = range(txt, 0, 1).getBoundingClientRect();
    if (!r0 || r0.left == r0.right) return false; // Safari returns null in some cases (#2780)
    var r1 = range(txt, 1, 2).getBoundingClientRect();
    return badBidiRects = (r1.right - r0.right < 3);
  }

  // See if "".split is the broken IE version, if so, provide an
  // alternative way to split lines.
  var splitLines = CodeMirror.splitLines = "\n\nb".split(/\n/).length != 3 ? function(string) {
    var pos = 0, result = [], l = string.length;
    while (pos <= l) {
      var nl = string.indexOf("\n", pos);
      if (nl == -1) nl = string.length;
      var line = string.slice(pos, string.charAt(nl - 1) == "\r" ? nl - 1 : nl);
      var rt = line.indexOf("\r");
      if (rt != -1) {
        result.push(line.slice(0, rt));
        pos += rt + 1;
      } else {
        result.push(line);
        pos = nl + 1;
      }
    }
    return result;
  } : function(string){return string.split(/\r\n?|\n/);};

  var hasSelection = window.getSelection ? function(te) {
    try { return te.selectionStart != te.selectionEnd; }
    catch(e) { return false; }
  } : function(te) {
    try {var range = te.ownerDocument.selection.createRange();}
    catch(e) {}
    if (!range || range.parentElement() != te) return false;
    return range.compareEndPoints("StartToEnd", range) != 0;
  };

  var hasCopyEvent = (function() {
    var e = elt("div");
    if ("oncopy" in e) return true;
    e.setAttribute("oncopy", "return;");
    return typeof e.oncopy == "function";
  })();

  var badZoomedRects = null;
  function hasBadZoomedRects(measure) {
    if (badZoomedRects != null) return badZoomedRects;
    var node = removeChildrenAndAdd(measure, elt("span", "x"));
    var normal = node.getBoundingClientRect();
    var fromRange = range(node, 0, 1).getBoundingClientRect();
    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1;
  }

  // KEY NAMES

  var keyNames = {3: "Enter", 8: "Backspace", 9: "Tab", 13: "Enter", 16: "Shift", 17: "Ctrl", 18: "Alt",
                  19: "Pause", 20: "CapsLock", 27: "Esc", 32: "Space", 33: "PageUp", 34: "PageDown", 35: "End",
                  36: "Home", 37: "Left", 38: "Up", 39: "Right", 40: "Down", 44: "PrintScrn", 45: "Insert",
                  46: "Delete", 59: ";", 61: "=", 91: "Mod", 92: "Mod", 93: "Mod", 107: "=", 109: "-", 127: "Delete",
                  173: "-", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\",
                  221: "]", 222: "'", 63232: "Up", 63233: "Down", 63234: "Left", 63235: "Right", 63272: "Delete",
                  63273: "Home", 63275: "End", 63276: "PageUp", 63277: "PageDown", 63302: "Insert"};
  CodeMirror.keyNames = keyNames;
  (function() {
    // Number keys
    for (var i = 0; i < 10; i++) keyNames[i + 48] = keyNames[i + 96] = String(i);
    // Alphabetic keys
    for (var i = 65; i <= 90; i++) keyNames[i] = String.fromCharCode(i);
    // Function keys
    for (var i = 1; i <= 12; i++) keyNames[i + 111] = keyNames[i + 63235] = "F" + i;
  })();

  // BIDI HELPERS

  function iterateBidiSections(order, from, to, f) {
    if (!order) return f(from, to, "ltr");
    var found = false;
    for (var i = 0; i < order.length; ++i) {
      var part = order[i];
      if (part.from < to && part.to > from || from == to && part.to == from) {
        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? "rtl" : "ltr");
        found = true;
      }
    }
    if (!found) f(from, to, "ltr");
  }

  function bidiLeft(part) { return part.level % 2 ? part.to : part.from; }
  function bidiRight(part) { return part.level % 2 ? part.from : part.to; }

  function lineLeft(line) { var order = getOrder(line); return order ? bidiLeft(order[0]) : 0; }
  function lineRight(line) {
    var order = getOrder(line);
    if (!order) return line.text.length;
    return bidiRight(lst(order));
  }

  function lineStart(cm, lineN) {
    var line = getLine(cm.doc, lineN);
    var visual = visualLine(line);
    if (visual != line) lineN = lineNo(visual);
    var order = getOrder(visual);
    var ch = !order ? 0 : order[0].level % 2 ? lineRight(visual) : lineLeft(visual);
    return Pos(lineN, ch);
  }
  function lineEnd(cm, lineN) {
    var merged, line = getLine(cm.doc, lineN);
    while (merged = collapsedSpanAtEnd(line)) {
      line = merged.find(1, true).line;
      lineN = null;
    }
    var order = getOrder(line);
    var ch = !order ? line.text.length : order[0].level % 2 ? lineLeft(line) : lineRight(line);
    return Pos(lineN == null ? lineNo(line) : lineN, ch);
  }
  function lineStartSmart(cm, pos) {
    var start = lineStart(cm, pos.line);
    var line = getLine(cm.doc, start.line);
    var order = getOrder(line);
    if (!order || order[0].level == 0) {
      var firstNonWS = Math.max(0, line.text.search(/\S/));
      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;
      return Pos(start.line, inWS ? 0 : firstNonWS);
    }
    return start;
  }

  function compareBidiLevel(order, a, b) {
    var linedir = order[0].level;
    if (a == linedir) return true;
    if (b == linedir) return false;
    return a < b;
  }
  var bidiOther;
  function getBidiPartAt(order, pos) {
    bidiOther = null;
    for (var i = 0, found; i < order.length; ++i) {
      var cur = order[i];
      if (cur.from < pos && cur.to > pos) return i;
      if ((cur.from == pos || cur.to == pos)) {
        if (found == null) {
          found = i;
        } else if (compareBidiLevel(order, cur.level, order[found].level)) {
          if (cur.from != cur.to) bidiOther = found;
          return i;
        } else {
          if (cur.from != cur.to) bidiOther = i;
          return found;
        }
      }
    }
    return found;
  }

  function moveInLine(line, pos, dir, byUnit) {
    if (!byUnit) return pos + dir;
    do pos += dir;
    while (pos > 0 && isExtendingChar(line.text.charAt(pos)));
    return pos;
  }

  // This is needed in order to move 'visually' through bi-directional
  // text -- i.e., pressing left should make the cursor go left, even
  // when in RTL text. The tricky part is the 'jumps', where RTL and
  // LTR text touch each other. This often requires the cursor offset
  // to move more than one unit, in order to visually move one unit.
  function moveVisually(line, start, dir, byUnit) {
    var bidi = getOrder(line);
    if (!bidi) return moveLogically(line, start, dir, byUnit);
    var pos = getBidiPartAt(bidi, start), part = bidi[pos];
    var target = moveInLine(line, start, part.level % 2 ? -dir : dir, byUnit);

    for (;;) {
      if (target > part.from && target < part.to) return target;
      if (target == part.from || target == part.to) {
        if (getBidiPartAt(bidi, target) == pos) return target;
        part = bidi[pos += dir];
        return (dir > 0) == part.level % 2 ? part.to : part.from;
      } else {
        part = bidi[pos += dir];
        if (!part) return null;
        if ((dir > 0) == part.level % 2)
          target = moveInLine(line, part.to, -1, byUnit);
        else
          target = moveInLine(line, part.from, 1, byUnit);
      }
    }
  }

  function moveLogically(line, start, dir, byUnit) {
    var target = start + dir;
    if (byUnit) while (target > 0 && isExtendingChar(line.text.charAt(target))) target += dir;
    return target < 0 || target > line.text.length ? null : target;
  }

  // Bidirectional ordering algorithm
  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm
  // that this (partially) implements.

  // One-char codes used for character types:
  // L (L):   Left-to-Right
  // R (R):   Right-to-Left
  // r (AL):  Right-to-Left Arabic
  // 1 (EN):  European Number
  // + (ES):  European Number Separator
  // % (ET):  European Number Terminator
  // n (AN):  Arabic Number
  // , (CS):  Common Number Separator
  // m (NSM): Non-Spacing Mark
  // b (BN):  Boundary Neutral
  // s (B):   Paragraph Separator
  // t (S):   Segment Separator
  // w (WS):  Whitespace
  // N (ON):  Other Neutrals

  // Returns null if characters are ordered as they appear
  // (left-to-right), or an array of sections ({from, to, level}
  // objects) in the order in which they occur visually.
  var bidiOrdering = (function() {
    // Character types for codepoints 0 to 0xff
    var lowTypes = "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";
    // Character types for codepoints 0x600 to 0x6ff
    var arabicTypes = "rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";
    function charType(code) {
      if (code <= 0xf7) return lowTypes.charAt(code);
      else if (0x590 <= code && code <= 0x5f4) return "R";
      else if (0x600 <= code && code <= 0x6ed) return arabicTypes.charAt(code - 0x600);
      else if (0x6ee <= code && code <= 0x8ac) return "r";
      else if (0x2000 <= code && code <= 0x200b) return "w";
      else if (code == 0x200c) return "b";
      else return "L";
    }

    var bidiRE = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;
    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;
    // Browsers seem to always treat the boundaries of block elements as being L.
    var outerType = "L";

    function BidiSpan(level, from, to) {
      this.level = level;
      this.from = from; this.to = to;
    }

    return function(str) {
      if (!bidiRE.test(str)) return false;
      var len = str.length, types = [];
      for (var i = 0, type; i < len; ++i)
        types.push(type = charType(str.charCodeAt(i)));

      // W1. Examine each non-spacing mark (NSM) in the level run, and
      // change the type of the NSM to the type of the previous
      // character. If the NSM is at the start of the level run, it will
      // get the type of sor.
      for (var i = 0, prev = outerType; i < len; ++i) {
        var type = types[i];
        if (type == "m") types[i] = prev;
        else prev = type;
      }

      // W2. Search backwards from each instance of a European number
      // until the first strong type (R, L, AL, or sor) is found. If an
      // AL is found, change the type of the European number to Arabic
      // number.
      // W3. Change all ALs to R.
      for (var i = 0, cur = outerType; i < len; ++i) {
        var type = types[i];
        if (type == "1" && cur == "r") types[i] = "n";
        else if (isStrong.test(type)) { cur = type; if (type == "r") types[i] = "R"; }
      }

      // W4. A single European separator between two European numbers
      // changes to a European number. A single common separator between
      // two numbers of the same type changes to that type.
      for (var i = 1, prev = types[0]; i < len - 1; ++i) {
        var type = types[i];
        if (type == "+" && prev == "1" && types[i+1] == "1") types[i] = "1";
        else if (type == "," && prev == types[i+1] &&
                 (prev == "1" || prev == "n")) types[i] = prev;
        prev = type;
      }

      // W5. A sequence of European terminators adjacent to European
      // numbers changes to all European numbers.
      // W6. Otherwise, separators and terminators change to Other
      // Neutral.
      for (var i = 0; i < len; ++i) {
        var type = types[i];
        if (type == ",") types[i] = "N";
        else if (type == "%") {
          for (var end = i + 1; end < len && types[end] == "%"; ++end) {}
          var replace = (i && types[i-1] == "!") || (end < len && types[end] == "1") ? "1" : "N";
          for (var j = i; j < end; ++j) types[j] = replace;
          i = end - 1;
        }
      }

      // W7. Search backwards from each instance of a European number
      // until the first strong type (R, L, or sor) is found. If an L is
      // found, then change the type of the European number to L.
      for (var i = 0, cur = outerType; i < len; ++i) {
        var type = types[i];
        if (cur == "L" && type == "1") types[i] = "L";
        else if (isStrong.test(type)) cur = type;
      }

      // N1. A sequence of neutrals takes the direction of the
      // surrounding strong text if the text on both sides has the same
      // direction. European and Arabic numbers act as if they were R in
      // terms of their influence on neutrals. Start-of-level-run (sor)
      // and end-of-level-run (eor) are used at level run boundaries.
      // N2. Any remaining neutrals take the embedding direction.
      for (var i = 0; i < len; ++i) {
        if (isNeutral.test(types[i])) {
          for (var end = i + 1; end < len && isNeutral.test(types[end]); ++end) {}
          var before = (i ? types[i-1] : outerType) == "L";
          var after = (end < len ? types[end] : outerType) == "L";
          var replace = before || after ? "L" : "R";
          for (var j = i; j < end; ++j) types[j] = replace;
          i = end - 1;
        }
      }

      // Here we depart from the documented algorithm, in order to avoid
      // building up an actual levels array. Since there are only three
      // levels (0, 1, 2) in an implementation that doesn't take
      // explicit embedding into account, we can build up the order on
      // the fly, without following the level-based algorithm.
      var order = [], m;
      for (var i = 0; i < len;) {
        if (countsAsLeft.test(types[i])) {
          var start = i;
          for (++i; i < len && countsAsLeft.test(types[i]); ++i) {}
          order.push(new BidiSpan(0, start, i));
        } else {
          var pos = i, at = order.length;
          for (++i; i < len && types[i] != "L"; ++i) {}
          for (var j = pos; j < i;) {
            if (countsAsNum.test(types[j])) {
              if (pos < j) order.splice(at, 0, new BidiSpan(1, pos, j));
              var nstart = j;
              for (++j; j < i && countsAsNum.test(types[j]); ++j) {}
              order.splice(at, 0, new BidiSpan(2, nstart, j));
              pos = j;
            } else ++j;
          }
          if (pos < i) order.splice(at, 0, new BidiSpan(1, pos, i));
        }
      }
      if (order[0].level == 1 && (m = str.match(/^\s+/))) {
        order[0].from = m[0].length;
        order.unshift(new BidiSpan(0, 0, m[0].length));
      }
      if (lst(order).level == 1 && (m = str.match(/\s+$/))) {
        lst(order).to -= m[0].length;
        order.push(new BidiSpan(0, len - m[0].length, len));
      }
      if (order[0].level != lst(order).level)
        order.push(new BidiSpan(order[0].level, len, len));

      return order;
    };
  })();

  // THE END

  CodeMirror.version = "4.7.0";

  return CodeMirror;
});

},{}],27:[function(require,module,exports){
// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

/**
 * Link to the project's GitHub page:
 * https://github.com/pickhardt/coffeescript-codemirror-mode
 */
(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
"use strict";

CodeMirror.defineMode("coffeescript", function(conf) {
  var ERRORCLASS = "error";

  function wordRegexp(words) {
    return new RegExp("^((" + words.join(")|(") + "))\\b");
  }

  var operators = /^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/;
  var delimiters = /^(?:[()\[\]{},:`=;]|\.\.?\.?)/;
  var identifiers = /^[_A-Za-z$][_A-Za-z$0-9]*/;
  var properties = /^(@|this\.)[_A-Za-z$][_A-Za-z$0-9]*/;

  var wordOperators = wordRegexp(["and", "or", "not",
                                  "is", "isnt", "in",
                                  "instanceof", "typeof"]);
  var indentKeywords = ["for", "while", "loop", "if", "unless", "else",
                        "switch", "try", "catch", "finally", "class"];
  var commonKeywords = ["break", "by", "continue", "debugger", "delete",
                        "do", "in", "of", "new", "return", "then",
                        "this", "@", "throw", "when", "until", "extends"];

  var keywords = wordRegexp(indentKeywords.concat(commonKeywords));

  indentKeywords = wordRegexp(indentKeywords);


  var stringPrefixes = /^('{3}|\"{3}|['\"])/;
  var regexPrefixes = /^(\/{3}|\/)/;
  var commonConstants = ["Infinity", "NaN", "undefined", "null", "true", "false", "on", "off", "yes", "no"];
  var constants = wordRegexp(commonConstants);

  // Tokenizers
  function tokenBase(stream, state) {
    // Handle scope changes
    if (stream.sol()) {
      if (state.scope.align === null) state.scope.align = false;
      var scopeOffset = state.scope.offset;
      if (stream.eatSpace()) {
        var lineOffset = stream.indentation();
        if (lineOffset > scopeOffset && state.scope.type == "coffee") {
          return "indent";
        } else if (lineOffset < scopeOffset) {
          return "dedent";
        }
        return null;
      } else {
        if (scopeOffset > 0) {
          dedent(stream, state);
        }
      }
    }
    if (stream.eatSpace()) {
      return null;
    }

    var ch = stream.peek();

    // Handle docco title comment (single line)
    if (stream.match("####")) {
      stream.skipToEnd();
      return "comment";
    }

    // Handle multi line comments
    if (stream.match("###")) {
      state.tokenize = longComment;
      return state.tokenize(stream, state);
    }

    // Single line comment
    if (ch === "#") {
      stream.skipToEnd();
      return "comment";
    }

    // Handle number literals
    if (stream.match(/^-?[0-9\.]/, false)) {
      var floatLiteral = false;
      // Floats
      if (stream.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)) {
        floatLiteral = true;
      }
      if (stream.match(/^-?\d+\.\d*/)) {
        floatLiteral = true;
      }
      if (stream.match(/^-?\.\d+/)) {
        floatLiteral = true;
      }

      if (floatLiteral) {
        // prevent from getting extra . on 1..
        if (stream.peek() == "."){
          stream.backUp(1);
        }
        return "number";
      }
      // Integers
      var intLiteral = false;
      // Hex
      if (stream.match(/^-?0x[0-9a-f]+/i)) {
        intLiteral = true;
      }
      // Decimal
      if (stream.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)) {
        intLiteral = true;
      }
      // Zero by itself with no other piece of number.
      if (stream.match(/^-?0(?![\dx])/i)) {
        intLiteral = true;
      }
      if (intLiteral) {
        return "number";
      }
    }

    // Handle strings
    if (stream.match(stringPrefixes)) {
      state.tokenize = tokenFactory(stream.current(), false, "string");
      return state.tokenize(stream, state);
    }
    // Handle regex literals
    if (stream.match(regexPrefixes)) {
      if (stream.current() != "/" || stream.match(/^.*\//, false)) { // prevent highlight of division
        state.tokenize = tokenFactory(stream.current(), true, "string-2");
        return state.tokenize(stream, state);
      } else {
        stream.backUp(1);
      }
    }

    // Handle operators and delimiters
    if (stream.match(operators) || stream.match(wordOperators)) {
      return "operator";
    }
    if (stream.match(delimiters)) {
      return "punctuation";
    }

    if (stream.match(constants)) {
      return "atom";
    }

    if (stream.match(keywords)) {
      return "keyword";
    }

    if (stream.match(identifiers)) {
      return "variable";
    }

    if (stream.match(properties)) {
      return "property";
    }

    // Handle non-detected items
    stream.next();
    return ERRORCLASS;
  }

  function tokenFactory(delimiter, singleline, outclass) {
    return function(stream, state) {
      while (!stream.eol()) {
        stream.eatWhile(/[^'"\/\\]/);
        if (stream.eat("\\")) {
          stream.next();
          if (singleline && stream.eol()) {
            return outclass;
          }
        } else if (stream.match(delimiter)) {
          state.tokenize = tokenBase;
          return outclass;
        } else {
          stream.eat(/['"\/]/);
        }
      }
      if (singleline) {
        if (conf.mode.singleLineStringErrors) {
          outclass = ERRORCLASS;
        } else {
          state.tokenize = tokenBase;
        }
      }
      return outclass;
    };
  }

  function longComment(stream, state) {
    while (!stream.eol()) {
      stream.eatWhile(/[^#]/);
      if (stream.match("###")) {
        state.tokenize = tokenBase;
        break;
      }
      stream.eatWhile("#");
    }
    return "comment";
  }

  function indent(stream, state, type) {
    type = type || "coffee";
    var offset = 0, align = false, alignOffset = null;
    for (var scope = state.scope; scope; scope = scope.prev) {
      if (scope.type === "coffee" || scope.type == "}") {
        offset = scope.offset + conf.indentUnit;
        break;
      }
    }
    if (type !== "coffee") {
      align = null;
      alignOffset = stream.column() + stream.current().length;
    } else if (state.scope.align) {
      state.scope.align = false;
    }
    state.scope = {
      offset: offset,
      type: type,
      prev: state.scope,
      align: align,
      alignOffset: alignOffset
    };
  }

  function dedent(stream, state) {
    if (!state.scope.prev) return;
    if (state.scope.type === "coffee") {
      var _indent = stream.indentation();
      var matched = false;
      for (var scope = state.scope; scope; scope = scope.prev) {
        if (_indent === scope.offset) {
          matched = true;
          break;
        }
      }
      if (!matched) {
        return true;
      }
      while (state.scope.prev && state.scope.offset !== _indent) {
        state.scope = state.scope.prev;
      }
      return false;
    } else {
      state.scope = state.scope.prev;
      return false;
    }
  }

  function tokenLexer(stream, state) {
    var style = state.tokenize(stream, state);
    var current = stream.current();

    // Handle "." connected identifiers
    if (current === ".") {
      style = state.tokenize(stream, state);
      current = stream.current();
      if (/^\.[\w$]+$/.test(current)) {
        return "variable";
      } else {
        return ERRORCLASS;
      }
    }

    // Handle scope changes.
    if (current === "return") {
      state.dedent = true;
    }
    if (((current === "->" || current === "=>") &&
         !state.lambda &&
         !stream.peek())
        || style === "indent") {
      indent(stream, state);
    }
    var delimiter_index = "[({".indexOf(current);
    if (delimiter_index !== -1) {
      indent(stream, state, "])}".slice(delimiter_index, delimiter_index+1));
    }
    if (indentKeywords.exec(current)){
      indent(stream, state);
    }
    if (current == "then"){
      dedent(stream, state);
    }


    if (style === "dedent") {
      if (dedent(stream, state)) {
        return ERRORCLASS;
      }
    }
    delimiter_index = "])}".indexOf(current);
    if (delimiter_index !== -1) {
      while (state.scope.type == "coffee" && state.scope.prev)
        state.scope = state.scope.prev;
      if (state.scope.type == current)
        state.scope = state.scope.prev;
    }
    if (state.dedent && stream.eol()) {
      if (state.scope.type == "coffee" && state.scope.prev)
        state.scope = state.scope.prev;
      state.dedent = false;
    }

    return style;
  }

  var external = {
    startState: function(basecolumn) {
      return {
        tokenize: tokenBase,
        scope: {offset:basecolumn || 0, type:"coffee", prev: null, align: false},
        lastToken: null,
        lambda: false,
        dedent: 0
      };
    },

    token: function(stream, state) {
      var fillAlign = state.scope.align === null && state.scope;
      if (fillAlign && stream.sol()) fillAlign.align = false;

      var style = tokenLexer(stream, state);
      if (fillAlign && style && style != "comment") fillAlign.align = true;

      state.lastToken = {style:style, content: stream.current()};

      if (stream.eol() && stream.lambda) {
        state.lambda = false;
      }

      return style;
    },

    indent: function(state, text) {
      if (state.tokenize != tokenBase) return 0;
      var scope = state.scope;
      var closer = text && "])}".indexOf(text.charAt(0)) > -1;
      if (closer) while (scope.type == "coffee" && scope.prev) scope = scope.prev;
      var closes = closer && scope.type === text.charAt(0);
      if (scope.align)
        return scope.alignOffset - (closes ? 1 : 0);
      else
        return (closes ? scope.prev : scope).offset;
    },

    lineComment: "#",
    fold: "indent"
  };
  return external;
});

CodeMirror.defineMIME("text/x-coffeescript", "coffeescript");

});

},{"../../lib/codemirror":26}],28:[function(require,module,exports){
// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

// TODO actually recognize syntax of TypeScript constructs

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
"use strict";

CodeMirror.defineMode("javascript", function(config, parserConfig) {
  var indentUnit = config.indentUnit;
  var statementIndent = parserConfig.statementIndent;
  var jsonldMode = parserConfig.jsonld;
  var jsonMode = parserConfig.json || jsonldMode;
  var isTS = parserConfig.typescript;
  var wordRE = parserConfig.wordCharacters || /[\w$\xa1-\uffff]/;

  // Tokenizer

  var keywords = function(){
    function kw(type) {return {type: type, style: "keyword"};}
    var A = kw("keyword a"), B = kw("keyword b"), C = kw("keyword c");
    var operator = kw("operator"), atom = {type: "atom", style: "atom"};

    var jsKeywords = {
      "if": kw("if"), "while": A, "with": A, "else": B, "do": B, "try": B, "finally": B,
      "return": C, "break": C, "continue": C, "new": C, "delete": C, "throw": C, "debugger": C,
      "var": kw("var"), "const": kw("var"), "let": kw("var"),
      "function": kw("function"), "catch": kw("catch"),
      "for": kw("for"), "switch": kw("switch"), "case": kw("case"), "default": kw("default"),
      "in": operator, "typeof": operator, "instanceof": operator,
      "true": atom, "false": atom, "null": atom, "undefined": atom, "NaN": atom, "Infinity": atom,
      "this": kw("this"), "module": kw("module"), "class": kw("class"), "super": kw("atom"),
      "yield": C, "export": kw("export"), "import": kw("import"), "extends": C
    };

    // Extend the 'normal' keywords with the TypeScript language extensions
    if (isTS) {
      var type = {type: "variable", style: "variable-3"};
      var tsKeywords = {
        // object-like things
        "interface": kw("interface"),
        "extends": kw("extends"),
        "constructor": kw("constructor"),

        // scope modifiers
        "public": kw("public"),
        "private": kw("private"),
        "protected": kw("protected"),
        "static": kw("static"),

        // types
        "string": type, "number": type, "bool": type, "any": type
      };

      for (var attr in tsKeywords) {
        jsKeywords[attr] = tsKeywords[attr];
      }
    }

    return jsKeywords;
  }();

  var isOperatorChar = /[+\-*&%=<>!?|~^]/;
  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;

  function readRegexp(stream) {
    var escaped = false, next, inSet = false;
    while ((next = stream.next()) != null) {
      if (!escaped) {
        if (next == "/" && !inSet) return;
        if (next == "[") inSet = true;
        else if (inSet && next == "]") inSet = false;
      }
      escaped = !escaped && next == "\\";
    }
  }

  // Used as scratch variables to communicate multiple values without
  // consing up tons of objects.
  var type, content;
  function ret(tp, style, cont) {
    type = tp; content = cont;
    return style;
  }
  function tokenBase(stream, state) {
    var ch = stream.next();
    if (ch == '"' || ch == "'") {
      state.tokenize = tokenString(ch);
      return state.tokenize(stream, state);
    } else if (ch == "." && stream.match(/^\d+(?:[eE][+\-]?\d+)?/)) {
      return ret("number", "number");
    } else if (ch == "." && stream.match("..")) {
      return ret("spread", "meta");
    } else if (/[\[\]{}\(\),;\:\.]/.test(ch)) {
      return ret(ch);
    } else if (ch == "=" && stream.eat(">")) {
      return ret("=>", "operator");
    } else if (ch == "0" && stream.eat(/x/i)) {
      stream.eatWhile(/[\da-f]/i);
      return ret("number", "number");
    } else if (/\d/.test(ch)) {
      stream.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);
      return ret("number", "number");
    } else if (ch == "/") {
      if (stream.eat("*")) {
        state.tokenize = tokenComment;
        return tokenComment(stream, state);
      } else if (stream.eat("/")) {
        stream.skipToEnd();
        return ret("comment", "comment");
      } else if (state.lastType == "operator" || state.lastType == "keyword c" ||
               state.lastType == "sof" || /^[\[{}\(,;:]$/.test(state.lastType)) {
        readRegexp(stream);
        stream.eatWhile(/[gimy]/); // 'y' is "sticky" option in Mozilla
        return ret("regexp", "string-2");
      } else {
        stream.eatWhile(isOperatorChar);
        return ret("operator", "operator", stream.current());
      }
    } else if (ch == "`") {
      state.tokenize = tokenQuasi;
      return tokenQuasi(stream, state);
    } else if (ch == "#") {
      stream.skipToEnd();
      return ret("error", "error");
    } else if (isOperatorChar.test(ch)) {
      stream.eatWhile(isOperatorChar);
      return ret("operator", "operator", stream.current());
    } else if (wordRE.test(ch)) {
      stream.eatWhile(wordRE);
      var word = stream.current(), known = keywords.propertyIsEnumerable(word) && keywords[word];
      return (known && state.lastType != ".") ? ret(known.type, known.style, word) :
                     ret("variable", "variable", word);
    }
  }

  function tokenString(quote) {
    return function(stream, state) {
      var escaped = false, next;
      if (jsonldMode && stream.peek() == "@" && stream.match(isJsonldKeyword)){
        state.tokenize = tokenBase;
        return ret("jsonld-keyword", "meta");
      }
      while ((next = stream.next()) != null) {
        if (next == quote && !escaped) break;
        escaped = !escaped && next == "\\";
      }
      if (!escaped) state.tokenize = tokenBase;
      return ret("string", "string");
    };
  }

  function tokenComment(stream, state) {
    var maybeEnd = false, ch;
    while (ch = stream.next()) {
      if (ch == "/" && maybeEnd) {
        state.tokenize = tokenBase;
        break;
      }
      maybeEnd = (ch == "*");
    }
    return ret("comment", "comment");
  }

  function tokenQuasi(stream, state) {
    var escaped = false, next;
    while ((next = stream.next()) != null) {
      if (!escaped && (next == "`" || next == "$" && stream.eat("{"))) {
        state.tokenize = tokenBase;
        break;
      }
      escaped = !escaped && next == "\\";
    }
    return ret("quasi", "string-2", stream.current());
  }

  var brackets = "([{}])";
  // This is a crude lookahead trick to try and notice that we're
  // parsing the argument patterns for a fat-arrow function before we
  // actually hit the arrow token. It only works if the arrow is on
  // the same line as the arguments and there's no strange noise
  // (comments) in between. Fallback is to only notice when we hit the
  // arrow, and not declare the arguments as locals for the arrow
  // body.
  function findFatArrow(stream, state) {
    if (state.fatArrowAt) state.fatArrowAt = null;
    var arrow = stream.string.indexOf("=>", stream.start);
    if (arrow < 0) return;

    var depth = 0, sawSomething = false;
    for (var pos = arrow - 1; pos >= 0; --pos) {
      var ch = stream.string.charAt(pos);
      var bracket = brackets.indexOf(ch);
      if (bracket >= 0 && bracket < 3) {
        if (!depth) { ++pos; break; }
        if (--depth == 0) break;
      } else if (bracket >= 3 && bracket < 6) {
        ++depth;
      } else if (wordRE.test(ch)) {
        sawSomething = true;
      } else if (sawSomething && !depth) {
        ++pos;
        break;
      }
    }
    if (sawSomething && !depth) state.fatArrowAt = pos;
  }

  // Parser

  var atomicTypes = {"atom": true, "number": true, "variable": true, "string": true, "regexp": true, "this": true, "jsonld-keyword": true};

  function JSLexical(indented, column, type, align, prev, info) {
    this.indented = indented;
    this.column = column;
    this.type = type;
    this.prev = prev;
    this.info = info;
    if (align != null) this.align = align;
  }

  function inScope(state, varname) {
    for (var v = state.localVars; v; v = v.next)
      if (v.name == varname) return true;
    for (var cx = state.context; cx; cx = cx.prev) {
      for (var v = cx.vars; v; v = v.next)
        if (v.name == varname) return true;
    }
  }

  function parseJS(state, style, type, content, stream) {
    var cc = state.cc;
    // Communicate our context to the combinators.
    // (Less wasteful than consing up a hundred closures on every call.)
    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;

    if (!state.lexical.hasOwnProperty("align"))
      state.lexical.align = true;

    while(true) {
      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;
      if (combinator(type, content)) {
        while(cc.length && cc[cc.length - 1].lex)
          cc.pop()();
        if (cx.marked) return cx.marked;
        if (type == "variable" && inScope(state, content)) return "variable-2";
        return style;
      }
    }
  }

  // Combinator utils

  var cx = {state: null, column: null, marked: null, cc: null};
  function pass() {
    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);
  }
  function cont() {
    pass.apply(null, arguments);
    return true;
  }
  function register(varname) {
    function inList(list) {
      for (var v = list; v; v = v.next)
        if (v.name == varname) return true;
      return false;
    }
    var state = cx.state;
    if (state.context) {
      cx.marked = "def";
      if (inList(state.localVars)) return;
      state.localVars = {name: varname, next: state.localVars};
    } else {
      if (inList(state.globalVars)) return;
      if (parserConfig.globalVars)
        state.globalVars = {name: varname, next: state.globalVars};
    }
  }

  // Combinators

  var defaultVars = {name: "this", next: {name: "arguments"}};
  function pushcontext() {
    cx.state.context = {prev: cx.state.context, vars: cx.state.localVars};
    cx.state.localVars = defaultVars;
  }
  function popcontext() {
    cx.state.localVars = cx.state.context.vars;
    cx.state.context = cx.state.context.prev;
  }
  function pushlex(type, info) {
    var result = function() {
      var state = cx.state, indent = state.indented;
      if (state.lexical.type == "stat") indent = state.lexical.indented;
      else for (var outer = state.lexical; outer && outer.type == ")" && outer.align; outer = outer.prev)
        indent = outer.indented;
      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);
    };
    result.lex = true;
    return result;
  }
  function poplex() {
    var state = cx.state;
    if (state.lexical.prev) {
      if (state.lexical.type == ")")
        state.indented = state.lexical.indented;
      state.lexical = state.lexical.prev;
    }
  }
  poplex.lex = true;

  function expect(wanted) {
    function exp(type) {
      if (type == wanted) return cont();
      else if (wanted == ";") return pass();
      else return cont(exp);
    };
    return exp;
  }

  function statement(type, value) {
    if (type == "var") return cont(pushlex("vardef", value.length), vardef, expect(";"), poplex);
    if (type == "keyword a") return cont(pushlex("form"), expression, statement, poplex);
    if (type == "keyword b") return cont(pushlex("form"), statement, poplex);
    if (type == "{") return cont(pushlex("}"), block, poplex);
    if (type == ";") return cont();
    if (type == "if") {
      if (cx.state.lexical.info == "else" && cx.state.cc[cx.state.cc.length - 1] == poplex)
        cx.state.cc.pop()();
      return cont(pushlex("form"), expression, statement, poplex, maybeelse);
    }
    if (type == "function") return cont(functiondef);
    if (type == "for") return cont(pushlex("form"), forspec, statement, poplex);
    if (type == "variable") return cont(pushlex("stat"), maybelabel);
    if (type == "switch") return cont(pushlex("form"), expression, pushlex("}", "switch"), expect("{"),
                                      block, poplex, poplex);
    if (type == "case") return cont(expression, expect(":"));
    if (type == "default") return cont(expect(":"));
    if (type == "catch") return cont(pushlex("form"), pushcontext, expect("("), funarg, expect(")"),
                                     statement, poplex, popcontext);
    if (type == "module") return cont(pushlex("form"), pushcontext, afterModule, popcontext, poplex);
    if (type == "class") return cont(pushlex("form"), className, poplex);
    if (type == "export") return cont(pushlex("form"), afterExport, poplex);
    if (type == "import") return cont(pushlex("form"), afterImport, poplex);
    return pass(pushlex("stat"), expression, expect(";"), poplex);
  }
  function expression(type) {
    return expressionInner(type, false);
  }
  function expressionNoComma(type) {
    return expressionInner(type, true);
  }
  function expressionInner(type, noComma) {
    if (cx.state.fatArrowAt == cx.stream.start) {
      var body = noComma ? arrowBodyNoComma : arrowBody;
      if (type == "(") return cont(pushcontext, pushlex(")"), commasep(pattern, ")"), poplex, expect("=>"), body, popcontext);
      else if (type == "variable") return pass(pushcontext, pattern, expect("=>"), body, popcontext);
    }

    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;
    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);
    if (type == "function") return cont(functiondef, maybeop);
    if (type == "keyword c") return cont(noComma ? maybeexpressionNoComma : maybeexpression);
    if (type == "(") return cont(pushlex(")"), maybeexpression, comprehension, expect(")"), poplex, maybeop);
    if (type == "operator" || type == "spread") return cont(noComma ? expressionNoComma : expression);
    if (type == "[") return cont(pushlex("]"), arrayLiteral, poplex, maybeop);
    if (type == "{") return contCommasep(objprop, "}", null, maybeop);
    if (type == "quasi") { return pass(quasi, maybeop); }
    return cont();
  }
  function maybeexpression(type) {
    if (type.match(/[;\}\)\],]/)) return pass();
    return pass(expression);
  }
  function maybeexpressionNoComma(type) {
    if (type.match(/[;\}\)\],]/)) return pass();
    return pass(expressionNoComma);
  }

  function maybeoperatorComma(type, value) {
    if (type == ",") return cont(expression);
    return maybeoperatorNoComma(type, value, false);
  }
  function maybeoperatorNoComma(type, value, noComma) {
    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;
    var expr = noComma == false ? expression : expressionNoComma;
    if (type == "=>") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);
    if (type == "operator") {
      if (/\+\+|--/.test(value)) return cont(me);
      if (value == "?") return cont(expression, expect(":"), expr);
      return cont(expr);
    }
    if (type == "quasi") { return pass(quasi, me); }
    if (type == ";") return;
    if (type == "(") return contCommasep(expressionNoComma, ")", "call", me);
    if (type == ".") return cont(property, me);
    if (type == "[") return cont(pushlex("]"), maybeexpression, expect("]"), poplex, me);
  }
  function quasi(type, value) {
    if (type != "quasi") return pass();
    if (value.slice(value.length - 2) != "${") return cont(quasi);
    return cont(expression, continueQuasi);
  }
  function continueQuasi(type) {
    if (type == "}") {
      cx.marked = "string-2";
      cx.state.tokenize = tokenQuasi;
      return cont(quasi);
    }
  }
  function arrowBody(type) {
    findFatArrow(cx.stream, cx.state);
    return pass(type == "{" ? statement : expression);
  }
  function arrowBodyNoComma(type) {
    findFatArrow(cx.stream, cx.state);
    return pass(type == "{" ? statement : expressionNoComma);
  }
  function maybelabel(type) {
    if (type == ":") return cont(poplex, statement);
    return pass(maybeoperatorComma, expect(";"), poplex);
  }
  function property(type) {
    if (type == "variable") {cx.marked = "property"; return cont();}
  }
  function objprop(type, value) {
    if (type == "variable" || cx.style == "keyword") {
      cx.marked = "property";
      if (value == "get" || value == "set") return cont(getterSetter);
      return cont(afterprop);
    } else if (type == "number" || type == "string") {
      cx.marked = jsonldMode ? "property" : (cx.style + " property");
      return cont(afterprop);
    } else if (type == "jsonld-keyword") {
      return cont(afterprop);
    } else if (type == "[") {
      return cont(expression, expect("]"), afterprop);
    }
  }
  function getterSetter(type) {
    if (type != "variable") return pass(afterprop);
    cx.marked = "property";
    return cont(functiondef);
  }
  function afterprop(type) {
    if (type == ":") return cont(expressionNoComma);
    if (type == "(") return pass(functiondef);
  }
  function commasep(what, end) {
    function proceed(type) {
      if (type == ",") {
        var lex = cx.state.lexical;
        if (lex.info == "call") lex.pos = (lex.pos || 0) + 1;
        return cont(what, proceed);
      }
      if (type == end) return cont();
      return cont(expect(end));
    }
    return function(type) {
      if (type == end) return cont();
      return pass(what, proceed);
    };
  }
  function contCommasep(what, end, info) {
    for (var i = 3; i < arguments.length; i++)
      cx.cc.push(arguments[i]);
    return cont(pushlex(end, info), commasep(what, end), poplex);
  }
  function block(type) {
    if (type == "}") return cont();
    return pass(statement, block);
  }
  function maybetype(type) {
    if (isTS && type == ":") return cont(typedef);
  }
  function typedef(type) {
    if (type == "variable"){cx.marked = "variable-3"; return cont();}
  }
  function vardef() {
    return pass(pattern, maybetype, maybeAssign, vardefCont);
  }
  function pattern(type, value) {
    if (type == "variable") { register(value); return cont(); }
    if (type == "[") return contCommasep(pattern, "]");
    if (type == "{") return contCommasep(proppattern, "}");
  }
  function proppattern(type, value) {
    if (type == "variable" && !cx.stream.match(/^\s*:/, false)) {
      register(value);
      return cont(maybeAssign);
    }
    if (type == "variable") cx.marked = "property";
    return cont(expect(":"), pattern, maybeAssign);
  }
  function maybeAssign(_type, value) {
    if (value == "=") return cont(expressionNoComma);
  }
  function vardefCont(type) {
    if (type == ",") return cont(vardef);
  }
  function maybeelse(type, value) {
    if (type == "keyword b" && value == "else") return cont(pushlex("form", "else"), statement, poplex);
  }
  function forspec(type) {
    if (type == "(") return cont(pushlex(")"), forspec1, expect(")"), poplex);
  }
  function forspec1(type) {
    if (type == "var") return cont(vardef, expect(";"), forspec2);
    if (type == ";") return cont(forspec2);
    if (type == "variable") return cont(formaybeinof);
    return pass(expression, expect(";"), forspec2);
  }
  function formaybeinof(_type, value) {
    if (value == "in" || value == "of") { cx.marked = "keyword"; return cont(expression); }
    return cont(maybeoperatorComma, forspec2);
  }
  function forspec2(type, value) {
    if (type == ";") return cont(forspec3);
    if (value == "in" || value == "of") { cx.marked = "keyword"; return cont(expression); }
    return pass(expression, expect(";"), forspec3);
  }
  function forspec3(type) {
    if (type != ")") cont(expression);
  }
  function functiondef(type, value) {
    if (value == "*") {cx.marked = "keyword"; return cont(functiondef);}
    if (type == "variable") {register(value); return cont(functiondef);}
    if (type == "(") return cont(pushcontext, pushlex(")"), commasep(funarg, ")"), poplex, statement, popcontext);
  }
  function funarg(type) {
    if (type == "spread") return cont(funarg);
    return pass(pattern, maybetype);
  }
  function className(type, value) {
    if (type == "variable") {register(value); return cont(classNameAfter);}
  }
  function classNameAfter(type, value) {
    if (value == "extends") return cont(expression, classNameAfter);
    if (type == "{") return cont(pushlex("}"), classBody, poplex);
  }
  function classBody(type, value) {
    if (type == "variable" || cx.style == "keyword") {
      cx.marked = "property";
      if (value == "get" || value == "set") return cont(classGetterSetter, functiondef, classBody);
      return cont(functiondef, classBody);
    }
    if (value == "*") {
      cx.marked = "keyword";
      return cont(classBody);
    }
    if (type == ";") return cont(classBody);
    if (type == "}") return cont();
  }
  function classGetterSetter(type) {
    if (type != "variable") return pass();
    cx.marked = "property";
    return cont();
  }
  function afterModule(type, value) {
    if (type == "string") return cont(statement);
    if (type == "variable") { register(value); return cont(maybeFrom); }
  }
  function afterExport(_type, value) {
    if (value == "*") { cx.marked = "keyword"; return cont(maybeFrom, expect(";")); }
    if (value == "default") { cx.marked = "keyword"; return cont(expression, expect(";")); }
    return pass(statement);
  }
  function afterImport(type) {
    if (type == "string") return cont();
    return pass(importSpec, maybeFrom);
  }
  function importSpec(type, value) {
    if (type == "{") return contCommasep(importSpec, "}");
    if (type == "variable") register(value);
    return cont();
  }
  function maybeFrom(_type, value) {
    if (value == "from") { cx.marked = "keyword"; return cont(expression); }
  }
  function arrayLiteral(type) {
    if (type == "]") return cont();
    return pass(expressionNoComma, maybeArrayComprehension);
  }
  function maybeArrayComprehension(type) {
    if (type == "for") return pass(comprehension, expect("]"));
    if (type == ",") return cont(commasep(maybeexpressionNoComma, "]"));
    return pass(commasep(expressionNoComma, "]"));
  }
  function comprehension(type) {
    if (type == "for") return cont(forspec, comprehension);
    if (type == "if") return cont(expression, comprehension);
  }

  // Interface

  return {
    startState: function(basecolumn) {
      var state = {
        tokenize: tokenBase,
        lastType: "sof",
        cc: [],
        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, "block", false),
        localVars: parserConfig.localVars,
        context: parserConfig.localVars && {vars: parserConfig.localVars},
        indented: 0
      };
      if (parserConfig.globalVars && typeof parserConfig.globalVars == "object")
        state.globalVars = parserConfig.globalVars;
      return state;
    },

    token: function(stream, state) {
      if (stream.sol()) {
        if (!state.lexical.hasOwnProperty("align"))
          state.lexical.align = false;
        state.indented = stream.indentation();
        findFatArrow(stream, state);
      }
      if (state.tokenize != tokenComment && stream.eatSpace()) return null;
      var style = state.tokenize(stream, state);
      if (type == "comment") return style;
      state.lastType = type == "operator" && (content == "++" || content == "--") ? "incdec" : type;
      return parseJS(state, style, type, content, stream);
    },

    indent: function(state, textAfter) {
      if (state.tokenize == tokenComment) return CodeMirror.Pass;
      if (state.tokenize != tokenBase) return 0;
      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical;
      // Kludge to prevent 'maybelse' from blocking lexical scope pops
      if (!/^\s*else\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {
        var c = state.cc[i];
        if (c == poplex) lexical = lexical.prev;
        else if (c != maybeelse) break;
      }
      if (lexical.type == "stat" && firstChar == "}") lexical = lexical.prev;
      if (statementIndent && lexical.type == ")" && lexical.prev.type == "stat")
        lexical = lexical.prev;
      var type = lexical.type, closing = firstChar == type;

      if (type == "vardef") return lexical.indented + (state.lastType == "operator" || state.lastType == "," ? lexical.info + 1 : 0);
      else if (type == "form" && firstChar == "{") return lexical.indented;
      else if (type == "form") return lexical.indented + indentUnit;
      else if (type == "stat")
        return lexical.indented + (state.lastType == "operator" || state.lastType == "," ? statementIndent || indentUnit : 0);
      else if (lexical.info == "switch" && !closing && parserConfig.doubleIndentSwitch != false)
        return lexical.indented + (/^(?:case|default)\b/.test(textAfter) ? indentUnit : 2 * indentUnit);
      else if (lexical.align) return lexical.column + (closing ? 0 : 1);
      else return lexical.indented + (closing ? 0 : indentUnit);
    },

    electricInput: /^\s*(?:case .*?:|default:|\{|\})$/,
    blockCommentStart: jsonMode ? null : "/*",
    blockCommentEnd: jsonMode ? null : "*/",
    lineComment: jsonMode ? null : "//",
    fold: "brace",

    helperType: jsonMode ? "json" : "javascript",
    jsonldMode: jsonldMode,
    jsonMode: jsonMode
  };
});

CodeMirror.registerHelper("wordChars", "javascript", /[\w$]/);

CodeMirror.defineMIME("text/javascript", "javascript");
CodeMirror.defineMIME("text/ecmascript", "javascript");
CodeMirror.defineMIME("application/javascript", "javascript");
CodeMirror.defineMIME("application/x-javascript", "javascript");
CodeMirror.defineMIME("application/ecmascript", "javascript");
CodeMirror.defineMIME("application/json", {name: "javascript", json: true});
CodeMirror.defineMIME("application/x-json", {name: "javascript", json: true});
CodeMirror.defineMIME("application/ld+json", {name: "javascript", jsonld: true});
CodeMirror.defineMIME("text/typescript", { name: "javascript", typescript: true });
CodeMirror.defineMIME("application/typescript", { name: "javascript", typescript: true });

});

},{"../../lib/codemirror":26}],29:[function(require,module,exports){
// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

/**
 * Link to the project's GitHub page:
 * https://github.com/duralog/CodeMirror
 */

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
  "use strict";

  CodeMirror.defineMode('livescript', function(){
    var tokenBase = function(stream, state) {
      var next_rule = state.next || "start";
      if (next_rule) {
        state.next = state.next;
        var nr = Rules[next_rule];
        if (nr.splice) {
          for (var i$ = 0; i$ < nr.length; ++i$) {
            var r = nr[i$], m;
            if (r.regex && (m = stream.match(r.regex))) {
              state.next = r.next || state.next;
              return r.token;
            }
          }
          stream.next();
          return 'error';
        }
        if (stream.match(r = Rules[next_rule])) {
          if (r.regex && stream.match(r.regex)) {
            state.next = r.next;
            return r.token;
          } else {
            stream.next();
            return 'error';
          }
        }
      }
      stream.next();
      return 'error';
    };
    var external = {
      startState: function(){
        return {
          next: 'start',
          lastToken: null
        };
      },
      token: function(stream, state){
        while (stream.pos == stream.start)
          var style = tokenBase(stream, state);
        state.lastToken = {
          style: style,
          indent: stream.indentation(),
          content: stream.current()
        };
        return style.replace(/\./g, ' ');
      },
      indent: function(state){
        var indentation = state.lastToken.indent;
        if (state.lastToken.content.match(indenter)) {
          indentation += 2;
        }
        return indentation;
      }
    };
    return external;
  });

  var identifier = '(?![\\d\\s])[$\\w\\xAA-\\uFFDC](?:(?!\\s)[$\\w\\xAA-\\uFFDC]|-[A-Za-z])*';
  var indenter = RegExp('(?:[({[=:]|[-~]>|\\b(?:e(?:lse|xport)|d(?:o|efault)|t(?:ry|hen)|finally|import(?:\\s*all)?|const|var|let|new|catch(?:\\s*' + identifier + ')?))\\s*$');
  var keywordend = '(?![$\\w]|-[A-Za-z]|\\s*:(?![:=]))';
  var stringfill = {
    token: 'string',
    regex: '.+'
  };
  var Rules = {
    start: [
      {
        token: 'comment.doc',
        regex: '/\\*',
        next: 'comment'
      }, {
        token: 'comment',
        regex: '#.*'
      }, {
        token: 'keyword',
        regex: '(?:t(?:h(?:is|row|en)|ry|ypeof!?)|c(?:on(?:tinue|st)|a(?:se|tch)|lass)|i(?:n(?:stanceof)?|mp(?:ort(?:\\s+all)?|lements)|[fs])|d(?:e(?:fault|lete|bugger)|o)|f(?:or(?:\\s+own)?|inally|unction)|s(?:uper|witch)|e(?:lse|x(?:tends|port)|val)|a(?:nd|rguments)|n(?:ew|ot)|un(?:less|til)|w(?:hile|ith)|o[fr]|return|break|let|var|loop)' + keywordend
      }, {
        token: 'constant.language',
        regex: '(?:true|false|yes|no|on|off|null|void|undefined)' + keywordend
      }, {
        token: 'invalid.illegal',
        regex: '(?:p(?:ackage|r(?:ivate|otected)|ublic)|i(?:mplements|nterface)|enum|static|yield)' + keywordend
      }, {
        token: 'language.support.class',
        regex: '(?:R(?:e(?:gExp|ferenceError)|angeError)|S(?:tring|yntaxError)|E(?:rror|valError)|Array|Boolean|Date|Function|Number|Object|TypeError|URIError)' + keywordend
      }, {
        token: 'language.support.function',
        regex: '(?:is(?:NaN|Finite)|parse(?:Int|Float)|Math|JSON|(?:en|de)codeURI(?:Component)?)' + keywordend
      }, {
        token: 'variable.language',
        regex: '(?:t(?:hat|il|o)|f(?:rom|allthrough)|it|by|e)' + keywordend
      }, {
        token: 'identifier',
        regex: identifier + '\\s*:(?![:=])'
      }, {
        token: 'variable',
        regex: identifier
      }, {
        token: 'keyword.operator',
        regex: '(?:\\.{3}|\\s+\\?)'
      }, {
        token: 'keyword.variable',
        regex: '(?:@+|::|\\.\\.)',
        next: 'key'
      }, {
        token: 'keyword.operator',
        regex: '\\.\\s*',
        next: 'key'
      }, {
        token: 'string',
        regex: '\\\\\\S[^\\s,;)}\\]]*'
      }, {
        token: 'string.doc',
        regex: '\'\'\'',
        next: 'qdoc'
      }, {
        token: 'string.doc',
        regex: '"""',
        next: 'qqdoc'
      }, {
        token: 'string',
        regex: '\'',
        next: 'qstring'
      }, {
        token: 'string',
        regex: '"',
        next: 'qqstring'
      }, {
        token: 'string',
        regex: '`',
        next: 'js'
      }, {
        token: 'string',
        regex: '<\\[',
        next: 'words'
      }, {
        token: 'string.regex',
        regex: '//',
        next: 'heregex'
      }, {
        token: 'string.regex',
        regex: '\\/(?:[^[\\/\\n\\\\]*(?:(?:\\\\.|\\[[^\\]\\n\\\\]*(?:\\\\.[^\\]\\n\\\\]*)*\\])[^[\\/\\n\\\\]*)*)\\/[gimy$]{0,4}',
        next: 'key'
      }, {
        token: 'constant.numeric',
        regex: '(?:0x[\\da-fA-F][\\da-fA-F_]*|(?:[2-9]|[12]\\d|3[0-6])r[\\da-zA-Z][\\da-zA-Z_]*|(?:\\d[\\d_]*(?:\\.\\d[\\d_]*)?|\\.\\d[\\d_]*)(?:e[+-]?\\d[\\d_]*)?[\\w$]*)'
      }, {
        token: 'lparen',
        regex: '[({[]'
      }, {
        token: 'rparen',
        regex: '[)}\\]]',
        next: 'key'
      }, {
        token: 'keyword.operator',
        regex: '\\S+'
      }, {
        token: 'text',
        regex: '\\s+'
      }
    ],
    heregex: [
      {
        token: 'string.regex',
        regex: '.*?//[gimy$?]{0,4}',
        next: 'start'
      }, {
        token: 'string.regex',
        regex: '\\s*#{'
      }, {
        token: 'comment.regex',
        regex: '\\s+(?:#.*)?'
      }, {
        token: 'string.regex',
        regex: '\\S+'
      }
    ],
    key: [
      {
        token: 'keyword.operator',
        regex: '[.?@!]+'
      }, {
        token: 'identifier',
        regex: identifier,
        next: 'start'
      }, {
        token: 'text',
        regex: '',
        next: 'start'
      }
    ],
    comment: [
      {
        token: 'comment.doc',
        regex: '.*?\\*/',
        next: 'start'
      }, {
        token: 'comment.doc',
        regex: '.+'
      }
    ],
    qdoc: [
      {
        token: 'string',
        regex: ".*?'''",
        next: 'key'
      }, stringfill
    ],
    qqdoc: [
      {
        token: 'string',
        regex: '.*?"""',
        next: 'key'
      }, stringfill
    ],
    qstring: [
      {
        token: 'string',
        regex: '[^\\\\\']*(?:\\\\.[^\\\\\']*)*\'',
        next: 'key'
      }, stringfill
    ],
    qqstring: [
      {
        token: 'string',
        regex: '[^\\\\"]*(?:\\\\.[^\\\\"]*)*"',
        next: 'key'
      }, stringfill
    ],
    js: [
      {
        token: 'string',
        regex: '[^\\\\`]*(?:\\\\.[^\\\\`]*)*`',
        next: 'key'
      }, stringfill
    ],
    words: [
      {
        token: 'string',
        regex: '.*?\\]>',
        next: 'key'
      }, stringfill
    ]
  };
  for (var idx in Rules) {
    var r = Rules[idx];
    if (r.splice) {
      for (var i = 0, len = r.length; i < len; ++i) {
        var rr = r[i];
        if (typeof rr.regex === 'string') {
          Rules[idx][i].regex = new RegExp('^' + rr.regex);
        }
      }
    } else if (typeof rr.regex === 'string') {
      Rules[idx].regex = new RegExp('^' + r.regex);
    }
  }

  CodeMirror.defineMIME('text/x-livescript', 'livescript');

});

},{"../../lib/codemirror":26}],30:[function(require,module,exports){
(function (process,global){
// Generated by CoffeeScript 1.8.0
(function() {
  var Lexer, SourceMap, compile, ext, formatSourcePosition, fs, getSourceMap, helpers, lexer, parser, path, sourceMaps, vm, withPrettyErrors, _base, _i, _len, _ref,
    __hasProp = {}.hasOwnProperty,
    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  fs = require('fs');

  vm = require('vm');

  path = require('path');

  Lexer = require('./lexer').Lexer;

  parser = require('./parser').parser;

  helpers = require('./helpers');

  SourceMap = require('./sourcemap');

  exports.VERSION = '1.8.0';

  exports.FILE_EXTENSIONS = ['.coffee', '.litcoffee', '.coffee.md'];

  exports.helpers = helpers;

  withPrettyErrors = function(fn) {
    return function(code, options) {
      var err;
      if (options == null) {
        options = {};
      }
      try {
        return fn.call(this, code, options);
      } catch (_error) {
        err = _error;
        throw helpers.updateSyntaxError(err, code, options.filename);
      }
    };
  };

  exports.compile = compile = withPrettyErrors(function(code, options) {
    var answer, currentColumn, currentLine, extend, fragment, fragments, header, js, map, merge, newLines, _i, _len;
    merge = helpers.merge, extend = helpers.extend;
    options = extend({}, options);
    if (options.sourceMap) {
      map = new SourceMap;
    }
    fragments = parser.parse(lexer.tokenize(code, options)).compileToFragments(options);
    currentLine = 0;
    if (options.header) {
      currentLine += 1;
    }
    if (options.shiftLine) {
      currentLine += 1;
    }
    currentColumn = 0;
    js = "";
    for (_i = 0, _len = fragments.length; _i < _len; _i++) {
      fragment = fragments[_i];
      if (options.sourceMap) {
        if (fragment.locationData) {
          map.add([fragment.locationData.first_line, fragment.locationData.first_column], [currentLine, currentColumn], {
            noReplace: true
          });
        }
        newLines = helpers.count(fragment.code, "\n");
        currentLine += newLines;
        if (newLines) {
          currentColumn = fragment.code.length - (fragment.code.lastIndexOf("\n") + 1);
        } else {
          currentColumn += fragment.code.length;
        }
      }
      js += fragment.code;
    }
    if (options.header) {
      header = "Generated by CoffeeScript " + this.VERSION;
      js = "// " + header + "\n" + js;
    }
    if (options.sourceMap) {
      answer = {
        js: js
      };
      answer.sourceMap = map;
      answer.v3SourceMap = map.generate(options, code);
      return answer;
    } else {
      return js;
    }
  });

  exports.tokens = withPrettyErrors(function(code, options) {
    return lexer.tokenize(code, options);
  });

  exports.nodes = withPrettyErrors(function(source, options) {
    if (typeof source === 'string') {
      return parser.parse(lexer.tokenize(source, options));
    } else {
      return parser.parse(source);
    }
  });

  exports.run = function(code, options) {
    var answer, dir, mainModule, _ref;
    if (options == null) {
      options = {};
    }
    mainModule = require.main;
    mainModule.filename = process.argv[1] = options.filename ? fs.realpathSync(options.filename) : '.';
    mainModule.moduleCache && (mainModule.moduleCache = {});
    dir = options.filename ? path.dirname(fs.realpathSync(options.filename)) : fs.realpathSync('.');
    mainModule.paths = require('module')._nodeModulePaths(dir);
    if (!helpers.isCoffee(mainModule.filename) || require.extensions) {
      answer = compile(code, options);
      code = (_ref = answer.js) != null ? _ref : answer;
    }
    return mainModule._compile(code, mainModule.filename);
  };

  exports["eval"] = function(code, options) {
    var Module, Script, js, k, o, r, sandbox, v, _i, _len, _module, _ref, _ref1, _require;
    if (options == null) {
      options = {};
    }
    if (!(code = code.trim())) {
      return;
    }
    Script = vm.Script;
    if (Script) {
      if (options.sandbox != null) {
        if (options.sandbox instanceof Script.createContext().constructor) {
          sandbox = options.sandbox;
        } else {
          sandbox = Script.createContext();
          _ref = options.sandbox;
          for (k in _ref) {
            if (!__hasProp.call(_ref, k)) continue;
            v = _ref[k];
            sandbox[k] = v;
          }
        }
        sandbox.global = sandbox.root = sandbox.GLOBAL = sandbox;
      } else {
        sandbox = global;
      }
      sandbox.__filename = options.filename || 'eval';
      sandbox.__dirname = path.dirname(sandbox.__filename);
      if (!(sandbox !== global || sandbox.module || sandbox.require)) {
        Module = require('module');
        sandbox.module = _module = new Module(options.modulename || 'eval');
        sandbox.require = _require = function(path) {
          return Module._load(path, _module, true);
        };
        _module.filename = sandbox.__filename;
        _ref1 = Object.getOwnPropertyNames(require);
        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
          r = _ref1[_i];
          if (r !== 'paths') {
            _require[r] = require[r];
          }
        }
        _require.paths = _module.paths = Module._nodeModulePaths(process.cwd());
        _require.resolve = function(request) {
          return Module._resolveFilename(request, _module);
        };
      }
    }
    o = {};
    for (k in options) {
      if (!__hasProp.call(options, k)) continue;
      v = options[k];
      o[k] = v;
    }
    o.bare = true;
    js = compile(code, o);
    if (sandbox === global) {
      return vm.runInThisContext(js);
    } else {
      return vm.runInContext(js, sandbox);
    }
  };

  exports.register = function() {
    return require('./register');
  };

  if (require.extensions) {
    _ref = this.FILE_EXTENSIONS;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      ext = _ref[_i];
      if ((_base = require.extensions)[ext] == null) {
        _base[ext] = function() {
          throw new Error("Use CoffeeScript.register() or require the coffee-script/register module to require " + ext + " files.");
        };
      }
    }
  }

  exports._compileFile = function(filename, sourceMap) {
    var answer, err, raw, stripped;
    if (sourceMap == null) {
      sourceMap = false;
    }
    raw = fs.readFileSync(filename, 'utf8');
    stripped = raw.charCodeAt(0) === 0xFEFF ? raw.substring(1) : raw;
    try {
      answer = compile(stripped, {
        filename: filename,
        sourceMap: sourceMap,
        literate: helpers.isLiterate(filename)
      });
    } catch (_error) {
      err = _error;
      throw helpers.updateSyntaxError(err, stripped, filename);
    }
    return answer;
  };

  lexer = new Lexer;

  parser.lexer = {
    lex: function() {
      var tag, token;
      token = this.tokens[this.pos++];
      if (token) {
        tag = token[0], this.yytext = token[1], this.yylloc = token[2];
        this.errorToken = token.origin || token;
        this.yylineno = this.yylloc.first_line;
      } else {
        tag = '';
      }
      return tag;
    },
    setInput: function(tokens) {
      this.tokens = tokens;
      return this.pos = 0;
    },
    upcomingInput: function() {
      return "";
    }
  };

  parser.yy = require('./nodes');

  parser.yy.parseError = function(message, _arg) {
    var errorLoc, errorTag, errorText, errorToken, token, tokens, _ref1;
    token = _arg.token;
    _ref1 = parser.lexer, errorToken = _ref1.errorToken, tokens = _ref1.tokens;
    errorTag = errorToken[0], errorText = errorToken[1], errorLoc = errorToken[2];
    errorText = errorToken === tokens[tokens.length - 1] ? 'end of input' : errorTag === 'INDENT' || errorTag === 'OUTDENT' ? 'indentation' : helpers.nameWhitespaceCharacter(errorText);
    return helpers.throwSyntaxError("unexpected " + errorText, errorLoc);
  };

  formatSourcePosition = function(frame, getSourceMapping) {
    var as, column, fileLocation, fileName, functionName, isConstructor, isMethodCall, line, methodName, source, tp, typeName;
    fileName = void 0;
    fileLocation = '';
    if (frame.isNative()) {
      fileLocation = "native";
    } else {
      if (frame.isEval()) {
        fileName = frame.getScriptNameOrSourceURL();
        if (!fileName) {
          fileLocation = "" + (frame.getEvalOrigin()) + ", ";
        }
      } else {
        fileName = frame.getFileName();
      }
      fileName || (fileName = "<anonymous>");
      line = frame.getLineNumber();
      column = frame.getColumnNumber();
      source = getSourceMapping(fileName, line, column);
      fileLocation = source ? "" + fileName + ":" + source[0] + ":" + source[1] : "" + fileName + ":" + line + ":" + column;
    }
    functionName = frame.getFunctionName();
    isConstructor = frame.isConstructor();
    isMethodCall = !(frame.isToplevel() || isConstructor);
    if (isMethodCall) {
      methodName = frame.getMethodName();
      typeName = frame.getTypeName();
      if (functionName) {
        tp = as = '';
        if (typeName && functionName.indexOf(typeName)) {
          tp = "" + typeName + ".";
        }
        if (methodName && functionName.indexOf("." + methodName) !== functionName.length - methodName.length - 1) {
          as = " [as " + methodName + "]";
        }
        return "" + tp + functionName + as + " (" + fileLocation + ")";
      } else {
        return "" + typeName + "." + (methodName || '<anonymous>') + " (" + fileLocation + ")";
      }
    } else if (isConstructor) {
      return "new " + (functionName || '<anonymous>') + " (" + fileLocation + ")";
    } else if (functionName) {
      return "" + functionName + " (" + fileLocation + ")";
    } else {
      return fileLocation;
    }
  };

  sourceMaps = {};

  getSourceMap = function(filename) {
    var answer, _ref1;
    if (sourceMaps[filename]) {
      return sourceMaps[filename];
    }
    if (_ref1 = path != null ? path.extname(filename) : void 0, __indexOf.call(exports.FILE_EXTENSIONS, _ref1) < 0) {
      return;
    }
    answer = exports._compileFile(filename, true);
    return sourceMaps[filename] = answer.sourceMap;
  };

  Error.prepareStackTrace = function(err, stack) {
    var frame, frames, getSourceMapping;
    getSourceMapping = function(filename, line, column) {
      var answer, sourceMap;
      sourceMap = getSourceMap(filename);
      if (sourceMap) {
        answer = sourceMap.sourceLocation([line - 1, column - 1]);
      }
      if (answer) {
        return [answer[0] + 1, answer[1] + 1];
      } else {
        return null;
      }
    };
    frames = (function() {
      var _j, _len1, _results;
      _results = [];
      for (_j = 0, _len1 = stack.length; _j < _len1; _j++) {
        frame = stack[_j];
        if (frame.getFunction() === exports.run) {
          break;
        }
        _results.push("  at " + (formatSourcePosition(frame, getSourceMapping)));
      }
      return _results;
    })();
    return "" + (err.toString()) + "\n" + (frames.join('\n')) + "\n";
  };

}).call(this);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./helpers":31,"./lexer":32,"./nodes":33,"./parser":34,"./register":35,"./sourcemap":38,"_process":23,"fs":20,"module":20,"path":22,"vm":24}],31:[function(require,module,exports){
(function (process){
// Generated by CoffeeScript 1.8.0
(function() {
  var buildLocationData, extend, flatten, last, repeat, syntaxErrorToString, _ref;

  exports.starts = function(string, literal, start) {
    return literal === string.substr(start, literal.length);
  };

  exports.ends = function(string, literal, back) {
    var len;
    len = literal.length;
    return literal === string.substr(string.length - len - (back || 0), len);
  };

  exports.repeat = repeat = function(str, n) {
    var res;
    res = '';
    while (n > 0) {
      if (n & 1) {
        res += str;
      }
      n >>>= 1;
      str += str;
    }
    return res;
  };

  exports.compact = function(array) {
    var item, _i, _len, _results;
    _results = [];
    for (_i = 0, _len = array.length; _i < _len; _i++) {
      item = array[_i];
      if (item) {
        _results.push(item);
      }
    }
    return _results;
  };

  exports.count = function(string, substr) {
    var num, pos;
    num = pos = 0;
    if (!substr.length) {
      return 1 / 0;
    }
    while (pos = 1 + string.indexOf(substr, pos)) {
      num++;
    }
    return num;
  };

  exports.merge = function(options, overrides) {
    return extend(extend({}, options), overrides);
  };

  extend = exports.extend = function(object, properties) {
    var key, val;
    for (key in properties) {
      val = properties[key];
      object[key] = val;
    }
    return object;
  };

  exports.flatten = flatten = function(array) {
    var element, flattened, _i, _len;
    flattened = [];
    for (_i = 0, _len = array.length; _i < _len; _i++) {
      element = array[_i];
      if (element instanceof Array) {
        flattened = flattened.concat(flatten(element));
      } else {
        flattened.push(element);
      }
    }
    return flattened;
  };

  exports.del = function(obj, key) {
    var val;
    val = obj[key];
    delete obj[key];
    return val;
  };

  exports.last = last = function(array, back) {
    return array[array.length - (back || 0) - 1];
  };

  exports.some = (_ref = Array.prototype.some) != null ? _ref : function(fn) {
    var e, _i, _len;
    for (_i = 0, _len = this.length; _i < _len; _i++) {
      e = this[_i];
      if (fn(e)) {
        return true;
      }
    }
    return false;
  };

  exports.invertLiterate = function(code) {
    var line, lines, maybe_code;
    maybe_code = true;
    lines = (function() {
      var _i, _len, _ref1, _results;
      _ref1 = code.split('\n');
      _results = [];
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        line = _ref1[_i];
        if (maybe_code && /^([ ]{4}|[ ]{0,3}\t)/.test(line)) {
          _results.push(line);
        } else if (maybe_code = /^\s*$/.test(line)) {
          _results.push(line);
        } else {
          _results.push('# ' + line);
        }
      }
      return _results;
    })();
    return lines.join('\n');
  };

  buildLocationData = function(first, last) {
    if (!last) {
      return first;
    } else {
      return {
        first_line: first.first_line,
        first_column: first.first_column,
        last_line: last.last_line,
        last_column: last.last_column
      };
    }
  };

  exports.addLocationDataFn = function(first, last) {
    return function(obj) {
      if (((typeof obj) === 'object') && (!!obj['updateLocationDataIfMissing'])) {
        obj.updateLocationDataIfMissing(buildLocationData(first, last));
      }
      return obj;
    };
  };

  exports.locationDataToString = function(obj) {
    var locationData;
    if (("2" in obj) && ("first_line" in obj[2])) {
      locationData = obj[2];
    } else if ("first_line" in obj) {
      locationData = obj;
    }
    if (locationData) {
      return ("" + (locationData.first_line + 1) + ":" + (locationData.first_column + 1) + "-") + ("" + (locationData.last_line + 1) + ":" + (locationData.last_column + 1));
    } else {
      return "No location data";
    }
  };

  exports.baseFileName = function(file, stripExt, useWinPathSep) {
    var parts, pathSep;
    if (stripExt == null) {
      stripExt = false;
    }
    if (useWinPathSep == null) {
      useWinPathSep = false;
    }
    pathSep = useWinPathSep ? /\\|\// : /\//;
    parts = file.split(pathSep);
    file = parts[parts.length - 1];
    if (!(stripExt && file.indexOf('.') >= 0)) {
      return file;
    }
    parts = file.split('.');
    parts.pop();
    if (parts[parts.length - 1] === 'coffee' && parts.length > 1) {
      parts.pop();
    }
    return parts.join('.');
  };

  exports.isCoffee = function(file) {
    return /\.((lit)?coffee|coffee\.md)$/.test(file);
  };

  exports.isLiterate = function(file) {
    return /\.(litcoffee|coffee\.md)$/.test(file);
  };

  exports.throwSyntaxError = function(message, location) {
    var error;
    error = new SyntaxError(message);
    error.location = location;
    error.toString = syntaxErrorToString;
    error.stack = error.toString();
    throw error;
  };

  exports.updateSyntaxError = function(error, code, filename) {
    if (error.toString === syntaxErrorToString) {
      error.code || (error.code = code);
      error.filename || (error.filename = filename);
      error.stack = error.toString();
    }
    return error;
  };

  syntaxErrorToString = function() {
    var codeLine, colorize, colorsEnabled, end, filename, first_column, first_line, last_column, last_line, marker, start, _ref1, _ref2;
    if (!(this.code && this.location)) {
      return Error.prototype.toString.call(this);
    }
    _ref1 = this.location, first_line = _ref1.first_line, first_column = _ref1.first_column, last_line = _ref1.last_line, last_column = _ref1.last_column;
    if (last_line == null) {
      last_line = first_line;
    }
    if (last_column == null) {
      last_column = first_column;
    }
    filename = this.filename || '[stdin]';
    codeLine = this.code.split('\n')[first_line];
    start = first_column;
    end = first_line === last_line ? last_column + 1 : codeLine.length;
    marker = codeLine.slice(0, start).replace(/[^\s]/g, ' ') + repeat('^', end - start);
    if (typeof process !== "undefined" && process !== null) {
      colorsEnabled = process.stdout.isTTY && !process.env.NODE_DISABLE_COLORS;
    }
    if ((_ref2 = this.colorful) != null ? _ref2 : colorsEnabled) {
      colorize = function(str) {
        return "\x1B[1;31m" + str + "\x1B[0m";
      };
      codeLine = codeLine.slice(0, start) + colorize(codeLine.slice(start, end)) + codeLine.slice(end);
      marker = colorize(marker);
    }
    return "" + filename + ":" + (first_line + 1) + ":" + (first_column + 1) + ": error: " + this.message + "\n" + codeLine + "\n" + marker;
  };

  exports.nameWhitespaceCharacter = function(string) {
    switch (string) {
      case ' ':
        return 'space';
      case '\n':
        return 'newline';
      case '\r':
        return 'carriage return';
      case '\t':
        return 'tab';
      default:
        return string;
    }
  };

}).call(this);

}).call(this,require('_process'))
},{"_process":23}],32:[function(require,module,exports){
// Generated by CoffeeScript 1.8.0
(function() {
  var BOM, BOOL, CALLABLE, CODE, COFFEE_ALIASES, COFFEE_ALIAS_MAP, COFFEE_KEYWORDS, COMMENT, COMPARE, COMPOUND_ASSIGN, HEREDOC, HEREDOC_ILLEGAL, HEREDOC_INDENT, HEREGEX, HEREGEX_OMIT, IDENTIFIER, INDENTABLE_CLOSERS, INDEXABLE, INVERSES, JSTOKEN, JS_FORBIDDEN, JS_KEYWORDS, LINE_BREAK, LINE_CONTINUER, LOGIC, Lexer, MATH, MULTILINER, MULTI_DENT, NOT_REGEX, NOT_SPACED_REGEX, NUMBER, OPERATOR, REGEX, RELATION, RESERVED, Rewriter, SHIFT, SIMPLESTR, STRICT_PROSCRIBED, TRAILING_SPACES, UNARY, UNARY_MATH, WHITESPACE, compact, count, invertLiterate, key, last, locationDataToString, repeat, starts, throwSyntaxError, _ref, _ref1,
    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  _ref = require('./rewriter'), Rewriter = _ref.Rewriter, INVERSES = _ref.INVERSES;

  _ref1 = require('./helpers'), count = _ref1.count, starts = _ref1.starts, compact = _ref1.compact, last = _ref1.last, repeat = _ref1.repeat, invertLiterate = _ref1.invertLiterate, locationDataToString = _ref1.locationDataToString, throwSyntaxError = _ref1.throwSyntaxError;

  exports.Lexer = Lexer = (function() {
    function Lexer() {}

    Lexer.prototype.tokenize = function(code, opts) {
      var consumed, i, tag, _ref2;
      if (opts == null) {
        opts = {};
      }
      this.literate = opts.literate;
      this.indent = 0;
      this.baseIndent = 0;
      this.indebt = 0;
      this.outdebt = 0;
      this.indents = [];
      this.ends = [];
      this.tokens = [];
      this.chunkLine = opts.line || 0;
      this.chunkColumn = opts.column || 0;
      code = this.clean(code);
      i = 0;
      while (this.chunk = code.slice(i)) {
        consumed = this.identifierToken() || this.commentToken() || this.whitespaceToken() || this.lineToken() || this.heredocToken() || this.stringToken() || this.numberToken() || this.regexToken() || this.jsToken() || this.literalToken();
        _ref2 = this.getLineAndColumnFromChunk(consumed), this.chunkLine = _ref2[0], this.chunkColumn = _ref2[1];
        i += consumed;
      }
      this.closeIndentation();
      if (tag = this.ends.pop()) {
        this.error("missing " + tag);
      }
      if (opts.rewrite === false) {
        return this.tokens;
      }
      return (new Rewriter).rewrite(this.tokens);
    };

    Lexer.prototype.clean = function(code) {
      if (code.charCodeAt(0) === BOM) {
        code = code.slice(1);
      }
      code = code.replace(/\r/g, '').replace(TRAILING_SPACES, '');
      if (WHITESPACE.test(code)) {
        code = "\n" + code;
        this.chunkLine--;
      }
      if (this.literate) {
        code = invertLiterate(code);
      }
      return code;
    };

    Lexer.prototype.identifierToken = function() {
      var colon, colonOffset, forcedIdentifier, id, idLength, input, match, poppedToken, prev, tag, tagToken, _ref2, _ref3, _ref4;
      if (!(match = IDENTIFIER.exec(this.chunk))) {
        return 0;
      }
      input = match[0], id = match[1], colon = match[2];
      idLength = id.length;
      poppedToken = void 0;
      if (id === 'own' && this.tag() === 'FOR') {
        this.token('OWN', id);
        return id.length;
      }
      forcedIdentifier = colon || (prev = last(this.tokens)) && (((_ref2 = prev[0]) === '.' || _ref2 === '?.' || _ref2 === '::' || _ref2 === '?::') || !prev.spaced && prev[0] === '@');
      tag = 'IDENTIFIER';
      if (!forcedIdentifier && (__indexOf.call(JS_KEYWORDS, id) >= 0 || __indexOf.call(COFFEE_KEYWORDS, id) >= 0)) {
        tag = id.toUpperCase();
        if (tag === 'WHEN' && (_ref3 = this.tag(), __indexOf.call(LINE_BREAK, _ref3) >= 0)) {
          tag = 'LEADING_WHEN';
        } else if (tag === 'FOR') {
          this.seenFor = true;
        } else if (tag === 'UNLESS') {
          tag = 'IF';
        } else if (__indexOf.call(UNARY, tag) >= 0) {
          tag = 'UNARY';
        } else if (__indexOf.call(RELATION, tag) >= 0) {
          if (tag !== 'INSTANCEOF' && this.seenFor) {
            tag = 'FOR' + tag;
            this.seenFor = false;
          } else {
            tag = 'RELATION';
            if (this.value() === '!') {
              poppedToken = this.tokens.pop();
              id = '!' + id;
            }
          }
        }
      }
      if (__indexOf.call(JS_FORBIDDEN, id) >= 0) {
        if (forcedIdentifier) {
          tag = 'IDENTIFIER';
          id = new String(id);
          id.reserved = true;
        } else if (__indexOf.call(RESERVED, id) >= 0) {
          this.error("reserved word \"" + id + "\"");
        }
      }
      if (!forcedIdentifier) {
        if (__indexOf.call(COFFEE_ALIASES, id) >= 0) {
          id = COFFEE_ALIAS_MAP[id];
        }
        tag = (function() {
          switch (id) {
            case '!':
              return 'UNARY';
            case '==':
            case '!=':
              return 'COMPARE';
            case '&&':
            case '||':
              return 'LOGIC';
            case 'true':
            case 'false':
              return 'BOOL';
            case 'break':
            case 'continue':
              return 'STATEMENT';
            default:
              return tag;
          }
        })();
      }
      tagToken = this.token(tag, id, 0, idLength);
      if (poppedToken) {
        _ref4 = [poppedToken[2].first_line, poppedToken[2].first_column], tagToken[2].first_line = _ref4[0], tagToken[2].first_column = _ref4[1];
      }
      if (colon) {
        colonOffset = input.lastIndexOf(':');
        this.token(':', ':', colonOffset, colon.length);
      }
      return input.length;
    };

    Lexer.prototype.numberToken = function() {
      var binaryLiteral, lexedLength, match, number, octalLiteral;
      if (!(match = NUMBER.exec(this.chunk))) {
        return 0;
      }
      number = match[0];
      if (/^0[BOX]/.test(number)) {
        this.error("radix prefix '" + number + "' must be lowercase");
      } else if (/E/.test(number) && !/^0x/.test(number)) {
        this.error("exponential notation '" + number + "' must be indicated with a lowercase 'e'");
      } else if (/^0\d*[89]/.test(number)) {
        this.error("decimal literal '" + number + "' must not be prefixed with '0'");
      } else if (/^0\d+/.test(number)) {
        this.error("octal literal '" + number + "' must be prefixed with '0o'");
      }
      lexedLength = number.length;
      if (octalLiteral = /^0o([0-7]+)/.exec(number)) {
        number = '0x' + parseInt(octalLiteral[1], 8).toString(16);
      }
      if (binaryLiteral = /^0b([01]+)/.exec(number)) {
        number = '0x' + parseInt(binaryLiteral[1], 2).toString(16);
      }
      this.token('NUMBER', number, 0, lexedLength);
      return lexedLength;
    };

    Lexer.prototype.stringToken = function() {
      var inner, innerLen, numBreak, octalEsc, pos, quote, string, trimmed;
      switch (quote = this.chunk.charAt(0)) {
        case "'":
          string = (SIMPLESTR.exec(this.chunk) || [])[0];
          break;
        case '"':
          string = this.balancedString(this.chunk, '"');
      }
      if (!string) {
        return 0;
      }
      inner = string.slice(1, -1);
      trimmed = this.removeNewlines(inner);
      if (quote === '"' && 0 < string.indexOf('#{', 1)) {
        numBreak = pos = 0;
        innerLen = inner.length;
        while (inner.charAt(pos++) === '\n' && pos < innerLen) {
          numBreak++;
        }
        this.interpolateString(trimmed, {
          strOffset: 1 + numBreak,
          lexedLength: string.length
        });
      } else {
        this.token('STRING', quote + this.escapeLines(trimmed) + quote, 0, string.length);
      }
      if (octalEsc = /^(?:\\.|[^\\])*\\(?:0[0-7]|[1-7])/.test(string)) {
        this.error("octal escape sequences " + string + " are not allowed");
      }
      return string.length;
    };

    Lexer.prototype.heredocToken = function() {
      var doc, heredoc, match, quote, strOffset;
      if (!(match = HEREDOC.exec(this.chunk))) {
        return 0;
      }
      heredoc = match[0];
      quote = heredoc.charAt(0);
      doc = this.sanitizeHeredoc(match[2], {
        quote: quote,
        indent: null
      });
      if (quote === '"' && 0 <= doc.indexOf('#{')) {
        strOffset = match[2].charAt(0) === '\n' ? 4 : 3;
        this.interpolateString(doc, {
          heredoc: true,
          strOffset: strOffset,
          lexedLength: heredoc.length
        });
      } else {
        this.token('STRING', this.makeString(doc, quote, true), 0, heredoc.length);
      }
      return heredoc.length;
    };

    Lexer.prototype.commentToken = function() {
      var comment, here, match;
      if (!(match = this.chunk.match(COMMENT))) {
        return 0;
      }
      comment = match[0], here = match[1];
      if (here) {
        this.token('HERECOMMENT', this.sanitizeHeredoc(here, {
          herecomment: true,
          indent: repeat(' ', this.indent)
        }), 0, comment.length);
      }
      return comment.length;
    };

    Lexer.prototype.jsToken = function() {
      var match, script;
      if (!(this.chunk.charAt(0) === '`' && (match = JSTOKEN.exec(this.chunk)))) {
        return 0;
      }
      this.token('JS', (script = match[0]).slice(1, -1), 0, script.length);
      return script.length;
    };

    Lexer.prototype.regexToken = function() {
      var flags, length, match, prev, regex, _ref2, _ref3;
      if (this.chunk.charAt(0) !== '/') {
        return 0;
      }
      if (length = this.heregexToken()) {
        return length;
      }
      prev = last(this.tokens);
      if (prev && (_ref2 = prev[0], __indexOf.call((prev.spaced ? NOT_REGEX : NOT_SPACED_REGEX), _ref2) >= 0)) {
        return 0;
      }
      if (!(match = REGEX.exec(this.chunk))) {
        return 0;
      }
      _ref3 = match, match = _ref3[0], regex = _ref3[1], flags = _ref3[2];
      if (regex === '//') {
        return 0;
      }
      if (regex.slice(0, 2) === '/*') {
        this.error('regular expressions cannot begin with `*`');
      }
      this.token('REGEX', "" + regex + flags, 0, match.length);
      return match.length;
    };

    Lexer.prototype.heregexToken = function() {
      var body, flags, flagsOffset, heregex, match, plusToken, prev, re, tag, token, tokens, value, _i, _len, _ref2, _ref3, _ref4;
      if (!(match = HEREGEX.exec(this.chunk))) {
        return 0;
      }
      heregex = match[0], body = match[1], flags = match[2];
      if (0 > body.indexOf('#{')) {
        re = this.escapeLines(body.replace(HEREGEX_OMIT, '$1$2').replace(/\//g, '\\/'), true);
        if (re.match(/^\*/)) {
          this.error('regular expressions cannot begin with `*`');
        }
        this.token('REGEX', "/" + (re || '(?:)') + "/" + flags, 0, heregex.length);
        return heregex.length;
      }
      this.token('IDENTIFIER', 'RegExp', 0, 0);
      this.token('CALL_START', '(', 0, 0);
      tokens = [];
      _ref2 = this.interpolateString(body, {
        regex: true,
        strOffset: 3
      });
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        token = _ref2[_i];
        tag = token[0], value = token[1];
        if (tag === 'TOKENS') {
          tokens.push.apply(tokens, value);
        } else if (tag === 'NEOSTRING') {
          if (!(value = value.replace(HEREGEX_OMIT, '$1$2'))) {
            continue;
          }
          value = value.replace(/\\/g, '\\\\');
          token[0] = 'STRING';
          token[1] = this.makeString(value, '"', true);
          tokens.push(token);
        } else {
          this.error("Unexpected " + tag);
        }
        prev = last(this.tokens);
        plusToken = ['+', '+'];
        plusToken[2] = prev[2];
        tokens.push(plusToken);
      }
      tokens.pop();
      if (((_ref3 = tokens[0]) != null ? _ref3[0] : void 0) !== 'STRING') {
        this.token('STRING', '""', 0, 0);
        this.token('+', '+', 0, 0);
      }
      (_ref4 = this.tokens).push.apply(_ref4, tokens);
      if (flags) {
        flagsOffset = heregex.lastIndexOf(flags);
        this.token(',', ',', flagsOffset, 0);
        this.token('STRING', '"' + flags + '"', flagsOffset, flags.length);
      }
      this.token(')', ')', heregex.length - 1, 0);
      return heregex.length;
    };

    Lexer.prototype.lineToken = function() {
      var diff, indent, match, noNewlines, size;
      if (!(match = MULTI_DENT.exec(this.chunk))) {
        return 0;
      }
      indent = match[0];
      this.seenFor = false;
      size = indent.length - 1 - indent.lastIndexOf('\n');
      noNewlines = this.unfinished();
      if (size - this.indebt === this.indent) {
        if (noNewlines) {
          this.suppressNewlines();
        } else {
          this.newlineToken(0);
        }
        return indent.length;
      }
      if (size > this.indent) {
        if (noNewlines) {
          this.indebt = size - this.indent;
          this.suppressNewlines();
          return indent.length;
        }
        if (!this.tokens.length) {
          this.baseIndent = this.indent = size;
          return indent.length;
        }
        diff = size - this.indent + this.outdebt;
        this.token('INDENT', diff, indent.length - size, size);
        this.indents.push(diff);
        this.ends.push('OUTDENT');
        this.outdebt = this.indebt = 0;
        this.indent = size;
      } else if (size < this.baseIndent) {
        this.error('missing indentation', indent.length);
      } else {
        this.indebt = 0;
        this.outdentToken(this.indent - size, noNewlines, indent.length);
      }
      return indent.length;
    };

    Lexer.prototype.outdentToken = function(moveOut, noNewlines, outdentLength) {
      var decreasedIndent, dent, lastIndent, _ref2;
      decreasedIndent = this.indent - moveOut;
      while (moveOut > 0) {
        lastIndent = this.indents[this.indents.length - 1];
        if (!lastIndent) {
          moveOut = 0;
        } else if (lastIndent === this.outdebt) {
          moveOut -= this.outdebt;
          this.outdebt = 0;
        } else if (lastIndent < this.outdebt) {
          this.outdebt -= lastIndent;
          moveOut -= lastIndent;
        } else {
          dent = this.indents.pop() + this.outdebt;
          if (outdentLength && (_ref2 = this.chunk[outdentLength], __indexOf.call(INDENTABLE_CLOSERS, _ref2) >= 0)) {
            decreasedIndent -= dent - moveOut;
            moveOut = dent;
          }
          this.outdebt = 0;
          this.pair('OUTDENT');
          this.token('OUTDENT', moveOut, 0, outdentLength);
          moveOut -= dent;
        }
      }
      if (dent) {
        this.outdebt -= moveOut;
      }
      while (this.value() === ';') {
        this.tokens.pop();
      }
      if (!(this.tag() === 'TERMINATOR' || noNewlines)) {
        this.token('TERMINATOR', '\n', outdentLength, 0);
      }
      this.indent = decreasedIndent;
      return this;
    };

    Lexer.prototype.whitespaceToken = function() {
      var match, nline, prev;
      if (!((match = WHITESPACE.exec(this.chunk)) || (nline = this.chunk.charAt(0) === '\n'))) {
        return 0;
      }
      prev = last(this.tokens);
      if (prev) {
        prev[match ? 'spaced' : 'newLine'] = true;
      }
      if (match) {
        return match[0].length;
      } else {
        return 0;
      }
    };

    Lexer.prototype.newlineToken = function(offset) {
      while (this.value() === ';') {
        this.tokens.pop();
      }
      if (this.tag() !== 'TERMINATOR') {
        this.token('TERMINATOR', '\n', offset, 0);
      }
      return this;
    };

    Lexer.prototype.suppressNewlines = function() {
      if (this.value() === '\\') {
        this.tokens.pop();
      }
      return this;
    };

    Lexer.prototype.literalToken = function() {
      var match, prev, tag, value, _ref2, _ref3, _ref4, _ref5;
      if (match = OPERATOR.exec(this.chunk)) {
        value = match[0];
        if (CODE.test(value)) {
          this.tagParameters();
        }
      } else {
        value = this.chunk.charAt(0);
      }
      tag = value;
      prev = last(this.tokens);
      if (value === '=' && prev) {
        if (!prev[1].reserved && (_ref2 = prev[1], __indexOf.call(JS_FORBIDDEN, _ref2) >= 0)) {
          this.error("reserved word \"" + (this.value()) + "\" can't be assigned");
        }
        if ((_ref3 = prev[1]) === '||' || _ref3 === '&&') {
          prev[0] = 'COMPOUND_ASSIGN';
          prev[1] += '=';
          return value.length;
        }
      }
      if (value === ';') {
        this.seenFor = false;
        tag = 'TERMINATOR';
      } else if (__indexOf.call(MATH, value) >= 0) {
        tag = 'MATH';
      } else if (__indexOf.call(COMPARE, value) >= 0) {
        tag = 'COMPARE';
      } else if (__indexOf.call(COMPOUND_ASSIGN, value) >= 0) {
        tag = 'COMPOUND_ASSIGN';
      } else if (__indexOf.call(UNARY, value) >= 0) {
        tag = 'UNARY';
      } else if (__indexOf.call(UNARY_MATH, value) >= 0) {
        tag = 'UNARY_MATH';
      } else if (__indexOf.call(SHIFT, value) >= 0) {
        tag = 'SHIFT';
      } else if (__indexOf.call(LOGIC, value) >= 0 || value === '?' && (prev != null ? prev.spaced : void 0)) {
        tag = 'LOGIC';
      } else if (prev && !prev.spaced) {
        if (value === '(' && (_ref4 = prev[0], __indexOf.call(CALLABLE, _ref4) >= 0)) {
          if (prev[0] === '?') {
            prev[0] = 'FUNC_EXIST';
          }
          tag = 'CALL_START';
        } else if (value === '[' && (_ref5 = prev[0], __indexOf.call(INDEXABLE, _ref5) >= 0)) {
          tag = 'INDEX_START';
          switch (prev[0]) {
            case '?':
              prev[0] = 'INDEX_SOAK';
          }
        }
      }
      switch (value) {
        case '(':
        case '{':
        case '[':
          this.ends.push(INVERSES[value]);
          break;
        case ')':
        case '}':
        case ']':
          this.pair(value);
      }
      this.token(tag, value);
      return value.length;
    };

    Lexer.prototype.sanitizeHeredoc = function(doc, options) {
      var attempt, herecomment, indent, match, _ref2;
      indent = options.indent, herecomment = options.herecomment;
      if (herecomment) {
        if (HEREDOC_ILLEGAL.test(doc)) {
          this.error("block comment cannot contain \"*/\", starting");
        }
        if (doc.indexOf('\n') < 0) {
          return doc;
        }
      } else {
        while (match = HEREDOC_INDENT.exec(doc)) {
          attempt = match[1];
          if (indent === null || (0 < (_ref2 = attempt.length) && _ref2 < indent.length)) {
            indent = attempt;
          }
        }
      }
      if (indent) {
        doc = doc.replace(RegExp("\\n" + indent, "g"), '\n');
      }
      if (!herecomment) {
        doc = doc.replace(/^\n/, '');
      }
      return doc;
    };

    Lexer.prototype.tagParameters = function() {
      var i, stack, tok, tokens;
      if (this.tag() !== ')') {
        return this;
      }
      stack = [];
      tokens = this.tokens;
      i = tokens.length;
      tokens[--i][0] = 'PARAM_END';
      while (tok = tokens[--i]) {
        switch (tok[0]) {
          case ')':
            stack.push(tok);
            break;
          case '(':
          case 'CALL_START':
            if (stack.length) {
              stack.pop();
            } else if (tok[0] === '(') {
              tok[0] = 'PARAM_START';
              return this;
            } else {
              return this;
            }
        }
      }
      return this;
    };

    Lexer.prototype.closeIndentation = function() {
      return this.outdentToken(this.indent);
    };

    Lexer.prototype.balancedString = function(str, end) {
      var continueCount, i, letter, match, prev, stack, _i, _ref2;
      continueCount = 0;
      stack = [end];
      for (i = _i = 1, _ref2 = str.length; 1 <= _ref2 ? _i < _ref2 : _i > _ref2; i = 1 <= _ref2 ? ++_i : --_i) {
        if (continueCount) {
          --continueCount;
          continue;
        }
        switch (letter = str.charAt(i)) {
          case '\\':
            ++continueCount;
            continue;
          case end:
            stack.pop();
            if (!stack.length) {
              return str.slice(0, +i + 1 || 9e9);
            }
            end = stack[stack.length - 1];
            continue;
        }
        if (end === '}' && (letter === '"' || letter === "'")) {
          stack.push(end = letter);
        } else if (end === '}' && letter === '/' && (match = HEREGEX.exec(str.slice(i)) || REGEX.exec(str.slice(i)))) {
          continueCount += match[0].length - 1;
        } else if (end === '}' && letter === '{') {
          stack.push(end = '}');
        } else if (end === '"' && prev === '#' && letter === '{') {
          stack.push(end = '}');
        }
        prev = letter;
      }
      return this.error("missing " + (stack.pop()) + ", starting");
    };

    Lexer.prototype.interpolateString = function(str, options) {
      var column, errorToken, expr, heredoc, i, inner, interpolated, len, letter, lexedLength, line, locationToken, nested, offsetInChunk, pi, plusToken, popped, regex, rparen, strOffset, tag, token, tokens, value, _i, _len, _ref2, _ref3, _ref4;
      if (options == null) {
        options = {};
      }
      heredoc = options.heredoc, regex = options.regex, offsetInChunk = options.offsetInChunk, strOffset = options.strOffset, lexedLength = options.lexedLength;
      offsetInChunk || (offsetInChunk = 0);
      strOffset || (strOffset = 0);
      lexedLength || (lexedLength = str.length);
      tokens = [];
      pi = 0;
      i = -1;
      while (letter = str.charAt(i += 1)) {
        if (letter === '\\') {
          i += 1;
          continue;
        }
        if (!(letter === '#' && str.charAt(i + 1) === '{' && (expr = this.balancedString(str.slice(i + 1), '}')))) {
          continue;
        }
        if (pi < i) {
          tokens.push(this.makeToken('NEOSTRING', str.slice(pi, i), strOffset + pi));
        }
        if (!errorToken) {
          errorToken = this.makeToken('', 'string interpolation', offsetInChunk + i + 1, 2);
        }
        inner = expr.slice(1, -1);
        if (inner.length) {
          _ref2 = this.getLineAndColumnFromChunk(strOffset + i + 2), line = _ref2[0], column = _ref2[1];
          nested = new Lexer().tokenize(inner, {
            line: line,
            column: column,
            rewrite: false
          });
          popped = nested.pop();
          if (((_ref3 = nested[0]) != null ? _ref3[0] : void 0) === 'TERMINATOR') {
            popped = nested.shift();
          }
          if (len = nested.length) {
            if (len > 1) {
              nested.unshift(this.makeToken('(', '(', strOffset + i + 1, 0));
              nested.push(this.makeToken(')', ')', strOffset + i + 1 + inner.length, 0));
            }
            tokens.push(['TOKENS', nested]);
          }
        }
        i += expr.length;
        pi = i + 1;
      }
      if ((i > pi && pi < str.length)) {
        tokens.push(this.makeToken('NEOSTRING', str.slice(pi), strOffset + pi));
      }
      if (regex) {
        return tokens;
      }
      if (!tokens.length) {
        return this.token('STRING', '""', offsetInChunk, lexedLength);
      }
      if (tokens[0][0] !== 'NEOSTRING') {
        tokens.unshift(this.makeToken('NEOSTRING', '', offsetInChunk));
      }
      if (interpolated = tokens.length > 1) {
        this.token('(', '(', offsetInChunk, 0, errorToken);
      }
      for (i = _i = 0, _len = tokens.length; _i < _len; i = ++_i) {
        token = tokens[i];
        tag = token[0], value = token[1];
        if (i) {
          if (i) {
            plusToken = this.token('+', '+');
          }
          locationToken = tag === 'TOKENS' ? value[0] : token;
          plusToken[2] = {
            first_line: locationToken[2].first_line,
            first_column: locationToken[2].first_column,
            last_line: locationToken[2].first_line,
            last_column: locationToken[2].first_column
          };
        }
        if (tag === 'TOKENS') {
          (_ref4 = this.tokens).push.apply(_ref4, value);
        } else if (tag === 'NEOSTRING') {
          token[0] = 'STRING';
          token[1] = this.makeString(value, '"', heredoc);
          this.tokens.push(token);
        } else {
          this.error("Unexpected " + tag);
        }
      }
      if (interpolated) {
        rparen = this.makeToken(')', ')', offsetInChunk + lexedLength, 0);
        rparen.stringEnd = true;
        this.tokens.push(rparen);
      }
      return tokens;
    };

    Lexer.prototype.pair = function(tag) {
      var wanted;
      if (tag !== (wanted = last(this.ends))) {
        if ('OUTDENT' !== wanted) {
          this.error("unmatched " + tag);
        }
        this.outdentToken(last(this.indents), true);
        return this.pair(tag);
      }
      return this.ends.pop();
    };

    Lexer.prototype.getLineAndColumnFromChunk = function(offset) {
      var column, lineCount, lines, string;
      if (offset === 0) {
        return [this.chunkLine, this.chunkColumn];
      }
      if (offset >= this.chunk.length) {
        string = this.chunk;
      } else {
        string = this.chunk.slice(0, +(offset - 1) + 1 || 9e9);
      }
      lineCount = count(string, '\n');
      column = this.chunkColumn;
      if (lineCount > 0) {
        lines = string.split('\n');
        column = last(lines).length;
      } else {
        column += string.length;
      }
      return [this.chunkLine + lineCount, column];
    };

    Lexer.prototype.makeToken = function(tag, value, offsetInChunk, length) {
      var lastCharacter, locationData, token, _ref2, _ref3;
      if (offsetInChunk == null) {
        offsetInChunk = 0;
      }
      if (length == null) {
        length = value.length;
      }
      locationData = {};
      _ref2 = this.getLineAndColumnFromChunk(offsetInChunk), locationData.first_line = _ref2[0], locationData.first_column = _ref2[1];
      lastCharacter = Math.max(0, length - 1);
      _ref3 = this.getLineAndColumnFromChunk(offsetInChunk + lastCharacter), locationData.last_line = _ref3[0], locationData.last_column = _ref3[1];
      token = [tag, value, locationData];
      return token;
    };

    Lexer.prototype.token = function(tag, value, offsetInChunk, length, origin) {
      var token;
      token = this.makeToken(tag, value, offsetInChunk, length);
      if (origin) {
        token.origin = origin;
      }
      this.tokens.push(token);
      return token;
    };

    Lexer.prototype.tag = function(index, tag) {
      var tok;
      return (tok = last(this.tokens, index)) && (tag ? tok[0] = tag : tok[0]);
    };

    Lexer.prototype.value = function(index, val) {
      var tok;
      return (tok = last(this.tokens, index)) && (val ? tok[1] = val : tok[1]);
    };

    Lexer.prototype.unfinished = function() {
      var _ref2;
      return LINE_CONTINUER.test(this.chunk) || ((_ref2 = this.tag()) === '\\' || _ref2 === '.' || _ref2 === '?.' || _ref2 === '?::' || _ref2 === 'UNARY' || _ref2 === 'MATH' || _ref2 === 'UNARY_MATH' || _ref2 === '+' || _ref2 === '-' || _ref2 === '**' || _ref2 === 'SHIFT' || _ref2 === 'RELATION' || _ref2 === 'COMPARE' || _ref2 === 'LOGIC' || _ref2 === 'THROW' || _ref2 === 'EXTENDS');
    };

    Lexer.prototype.removeNewlines = function(str) {
      return str.replace(/^\s*\n\s*/, '').replace(/([^\\]|\\\\)\s*\n\s*$/, '$1');
    };

    Lexer.prototype.escapeLines = function(str, heredoc) {
      str = str.replace(/\\[^\S\n]*(\n|\\)\s*/g, function(escaped, character) {
        if (character === '\n') {
          return '';
        } else {
          return escaped;
        }
      });
      if (heredoc) {
        return str.replace(MULTILINER, '\\n');
      } else {
        return str.replace(/\s*\n\s*/g, ' ');
      }
    };

    Lexer.prototype.makeString = function(body, quote, heredoc) {
      if (!body) {
        return quote + quote;
      }
      body = body.replace(RegExp("\\\\(" + quote + "|\\\\)", "g"), function(match, contents) {
        if (contents === quote) {
          return contents;
        } else {
          return match;
        }
      });
      body = body.replace(RegExp("" + quote, "g"), '\\$&');
      return quote + this.escapeLines(body, heredoc) + quote;
    };

    Lexer.prototype.error = function(message, offset) {
      var first_column, first_line, _ref2;
      if (offset == null) {
        offset = 0;
      }
      _ref2 = this.getLineAndColumnFromChunk(offset), first_line = _ref2[0], first_column = _ref2[1];
      return throwSyntaxError(message, {
        first_line: first_line,
        first_column: first_column
      });
    };

    return Lexer;

  })();

  JS_KEYWORDS = ['true', 'false', 'null', 'this', 'new', 'delete', 'typeof', 'in', 'instanceof', 'return', 'throw', 'break', 'continue', 'debugger', 'if', 'else', 'switch', 'for', 'while', 'do', 'try', 'catch', 'finally', 'class', 'extends', 'super'];

  COFFEE_KEYWORDS = ['undefined', 'then', 'unless', 'until', 'loop', 'of', 'by', 'when'];

  COFFEE_ALIAS_MAP = {
    and: '&&',
    or: '||',
    is: '==',
    isnt: '!=',
    not: '!',
    yes: 'true',
    no: 'false',
    on: 'true',
    off: 'false'
  };

  COFFEE_ALIASES = (function() {
    var _results;
    _results = [];
    for (key in COFFEE_ALIAS_MAP) {
      _results.push(key);
    }
    return _results;
  })();

  COFFEE_KEYWORDS = COFFEE_KEYWORDS.concat(COFFEE_ALIASES);

  RESERVED = ['case', 'default', 'function', 'var', 'void', 'with', 'const', 'let', 'enum', 'export', 'import', 'native', '__hasProp', '__extends', '__slice', '__bind', '__indexOf', 'implements', 'interface', 'package', 'private', 'protected', 'public', 'static', 'yield'];

  STRICT_PROSCRIBED = ['arguments', 'eval'];

  JS_FORBIDDEN = JS_KEYWORDS.concat(RESERVED).concat(STRICT_PROSCRIBED);

  exports.RESERVED = RESERVED.concat(JS_KEYWORDS).concat(COFFEE_KEYWORDS).concat(STRICT_PROSCRIBED);

  exports.STRICT_PROSCRIBED = STRICT_PROSCRIBED;

  BOM = 65279;

  IDENTIFIER = /^([$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)([^\n\S]*:(?!:))?/;

  NUMBER = /^0b[01]+|^0o[0-7]+|^0x[\da-f]+|^\d*\.?\d+(?:e[+-]?\d+)?/i;

  HEREDOC = /^("""|''')((?:\\[\s\S]|[^\\])*?)(?:\n[^\n\S]*)?\1/;

  OPERATOR = /^(?:[-=]>|[-+*\/%<>&|^!?=]=|>>>=?|([-+:])\1|([&|<>*\/%])\2=?|\?(\.|::)|\.{2,3})/;

  WHITESPACE = /^[^\n\S]+/;

  COMMENT = /^###([^#][\s\S]*?)(?:###[^\n\S]*|###$)|^(?:\s*#(?!##[^#]).*)+/;

  CODE = /^[-=]>/;

  MULTI_DENT = /^(?:\n[^\n\S]*)+/;

  SIMPLESTR = /^'[^\\']*(?:\\[\s\S][^\\']*)*'/;

  JSTOKEN = /^`[^\\`]*(?:\\.[^\\`]*)*`/;

  REGEX = /^(\/(?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/)([imgy]{0,4})(?!\w)/;

  HEREGEX = /^\/{3}((?:\\?[\s\S])+?)\/{3}([imgy]{0,4})(?!\w)/;

  HEREGEX_OMIT = /((?:\\\\)+)|\\(\s|\/)|\s+(?:#.*)?/g;

  MULTILINER = /\n/g;

  HEREDOC_INDENT = /\n+([^\n\S]*)/g;

  HEREDOC_ILLEGAL = /\*\//;

  LINE_CONTINUER = /^\s*(?:,|\??\.(?![.\d])|::)/;

  TRAILING_SPACES = /\s+$/;

  COMPOUND_ASSIGN = ['-=', '+=', '/=', '*=', '%=', '||=', '&&=', '?=', '<<=', '>>=', '>>>=', '&=', '^=', '|=', '**=', '//=', '%%='];

  UNARY = ['NEW', 'TYPEOF', 'DELETE', 'DO'];

  UNARY_MATH = ['!', '~'];

  LOGIC = ['&&', '||', '&', '|', '^'];

  SHIFT = ['<<', '>>', '>>>'];

  COMPARE = ['==', '!=', '<', '>', '<=', '>='];

  MATH = ['*', '/', '%', '//', '%%'];

  RELATION = ['IN', 'OF', 'INSTANCEOF'];

  BOOL = ['TRUE', 'FALSE'];

  NOT_REGEX = ['NUMBER', 'REGEX', 'BOOL', 'NULL', 'UNDEFINED', '++', '--'];

  NOT_SPACED_REGEX = NOT_REGEX.concat(')', '}', 'THIS', 'IDENTIFIER', 'STRING', ']');

  CALLABLE = ['IDENTIFIER', 'STRING', 'REGEX', ')', ']', '}', '?', '::', '@', 'THIS', 'SUPER'];

  INDEXABLE = CALLABLE.concat('NUMBER', 'BOOL', 'NULL', 'UNDEFINED');

  LINE_BREAK = ['INDENT', 'OUTDENT', 'TERMINATOR'];

  INDENTABLE_CLOSERS = [')', '}', ']'];

}).call(this);

},{"./helpers":31,"./rewriter":36}],33:[function(require,module,exports){
// Generated by CoffeeScript 1.8.0
(function() {
  var Access, Arr, Assign, Base, Block, Call, Class, Code, CodeFragment, Comment, Existence, Expansion, Extends, For, HEXNUM, IDENTIFIER, IDENTIFIER_STR, IS_REGEX, IS_STRING, If, In, Index, LEVEL_ACCESS, LEVEL_COND, LEVEL_LIST, LEVEL_OP, LEVEL_PAREN, LEVEL_TOP, Literal, METHOD_DEF, NEGATE, NO, NUMBER, Obj, Op, Param, Parens, RESERVED, Range, Return, SIMPLENUM, STRICT_PROSCRIBED, Scope, Slice, Splat, Switch, TAB, THIS, Throw, Try, UTILITIES, Value, While, YES, addLocationDataFn, compact, del, ends, extend, flatten, fragmentsToText, isLiteralArguments, isLiteralThis, last, locationDataToString, merge, multident, parseNum, some, starts, throwSyntaxError, unfoldSoak, utility, _ref, _ref1,
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },
    __slice = [].slice;

  Error.stackTraceLimit = Infinity;

  Scope = require('./scope').Scope;

  _ref = require('./lexer'), RESERVED = _ref.RESERVED, STRICT_PROSCRIBED = _ref.STRICT_PROSCRIBED;

  _ref1 = require('./helpers'), compact = _ref1.compact, flatten = _ref1.flatten, extend = _ref1.extend, merge = _ref1.merge, del = _ref1.del, starts = _ref1.starts, ends = _ref1.ends, last = _ref1.last, some = _ref1.some, addLocationDataFn = _ref1.addLocationDataFn, locationDataToString = _ref1.locationDataToString, throwSyntaxError = _ref1.throwSyntaxError;

  exports.extend = extend;

  exports.addLocationDataFn = addLocationDataFn;

  YES = function() {
    return true;
  };

  NO = function() {
    return false;
  };

  THIS = function() {
    return this;
  };

  NEGATE = function() {
    this.negated = !this.negated;
    return this;
  };

  exports.CodeFragment = CodeFragment = (function() {
    function CodeFragment(parent, code) {
      var _ref2;
      this.code = "" + code;
      this.locationData = parent != null ? parent.locationData : void 0;
      this.type = (parent != null ? (_ref2 = parent.constructor) != null ? _ref2.name : void 0 : void 0) || 'unknown';
    }

    CodeFragment.prototype.toString = function() {
      return "" + this.code + (this.locationData ? ": " + locationDataToString(this.locationData) : '');
    };

    return CodeFragment;

  })();

  fragmentsToText = function(fragments) {
    var fragment;
    return ((function() {
      var _i, _len, _results;
      _results = [];
      for (_i = 0, _len = fragments.length; _i < _len; _i++) {
        fragment = fragments[_i];
        _results.push(fragment.code);
      }
      return _results;
    })()).join('');
  };

  exports.Base = Base = (function() {
    function Base() {}

    Base.prototype.compile = function(o, lvl) {
      return fragmentsToText(this.compileToFragments(o, lvl));
    };

    Base.prototype.compileToFragments = function(o, lvl) {
      var node;
      o = extend({}, o);
      if (lvl) {
        o.level = lvl;
      }
      node = this.unfoldSoak(o) || this;
      node.tab = o.indent;
      if (o.level === LEVEL_TOP || !node.isStatement(o)) {
        return node.compileNode(o);
      } else {
        return node.compileClosure(o);
      }
    };

    Base.prototype.compileClosure = function(o) {
      var args, argumentsNode, func, jumpNode, meth;
      if (jumpNode = this.jumps()) {
        jumpNode.error('cannot use a pure statement in an expression');
      }
      o.sharedScope = true;
      func = new Code([], Block.wrap([this]));
      args = [];
      if ((argumentsNode = this.contains(isLiteralArguments)) || this.contains(isLiteralThis)) {
        args = [new Literal('this')];
        if (argumentsNode) {
          meth = 'apply';
          args.push(new Literal('arguments'));
        } else {
          meth = 'call';
        }
        func = new Value(func, [new Access(new Literal(meth))]);
      }
      return (new Call(func, args)).compileNode(o);
    };

    Base.prototype.cache = function(o, level, reused) {
      var ref, sub;
      if (!this.isComplex()) {
        ref = level ? this.compileToFragments(o, level) : this;
        return [ref, ref];
      } else {
        ref = new Literal(reused || o.scope.freeVariable('ref'));
        sub = new Assign(ref, this);
        if (level) {
          return [sub.compileToFragments(o, level), [this.makeCode(ref.value)]];
        } else {
          return [sub, ref];
        }
      }
    };

    Base.prototype.cacheToCodeFragments = function(cacheValues) {
      return [fragmentsToText(cacheValues[0]), fragmentsToText(cacheValues[1])];
    };

    Base.prototype.makeReturn = function(res) {
      var me;
      me = this.unwrapAll();
      if (res) {
        return new Call(new Literal("" + res + ".push"), [me]);
      } else {
        return new Return(me);
      }
    };

    Base.prototype.contains = function(pred) {
      var node;
      node = void 0;
      this.traverseChildren(false, function(n) {
        if (pred(n)) {
          node = n;
          return false;
        }
      });
      return node;
    };

    Base.prototype.lastNonComment = function(list) {
      var i;
      i = list.length;
      while (i--) {
        if (!(list[i] instanceof Comment)) {
          return list[i];
        }
      }
      return null;
    };

    Base.prototype.toString = function(idt, name) {
      var tree;
      if (idt == null) {
        idt = '';
      }
      if (name == null) {
        name = this.constructor.name;
      }
      tree = '\n' + idt + name;
      if (this.soak) {
        tree += '?';
      }
      this.eachChild(function(node) {
        return tree += node.toString(idt + TAB);
      });
      return tree;
    };

    Base.prototype.eachChild = function(func) {
      var attr, child, _i, _j, _len, _len1, _ref2, _ref3;
      if (!this.children) {
        return this;
      }
      _ref2 = this.children;
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        attr = _ref2[_i];
        if (this[attr]) {
          _ref3 = flatten([this[attr]]);
          for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {
            child = _ref3[_j];
            if (func(child) === false) {
              return this;
            }
          }
        }
      }
      return this;
    };

    Base.prototype.traverseChildren = function(crossScope, func) {
      return this.eachChild(function(child) {
        var recur;
        recur = func(child);
        if (recur !== false) {
          return child.traverseChildren(crossScope, func);
        }
      });
    };

    Base.prototype.invert = function() {
      return new Op('!', this);
    };

    Base.prototype.unwrapAll = function() {
      var node;
      node = this;
      while (node !== (node = node.unwrap())) {
        continue;
      }
      return node;
    };

    Base.prototype.children = [];

    Base.prototype.isStatement = NO;

    Base.prototype.jumps = NO;

    Base.prototype.isComplex = YES;

    Base.prototype.isChainable = NO;

    Base.prototype.isAssignable = NO;

    Base.prototype.unwrap = THIS;

    Base.prototype.unfoldSoak = NO;

    Base.prototype.assigns = NO;

    Base.prototype.updateLocationDataIfMissing = function(locationData) {
      if (this.locationData) {
        return this;
      }
      this.locationData = locationData;
      return this.eachChild(function(child) {
        return child.updateLocationDataIfMissing(locationData);
      });
    };

    Base.prototype.error = function(message) {
      return throwSyntaxError(message, this.locationData);
    };

    Base.prototype.makeCode = function(code) {
      return new CodeFragment(this, code);
    };

    Base.prototype.wrapInBraces = function(fragments) {
      return [].concat(this.makeCode('('), fragments, this.makeCode(')'));
    };

    Base.prototype.joinFragmentArrays = function(fragmentsList, joinStr) {
      var answer, fragments, i, _i, _len;
      answer = [];
      for (i = _i = 0, _len = fragmentsList.length; _i < _len; i = ++_i) {
        fragments = fragmentsList[i];
        if (i) {
          answer.push(this.makeCode(joinStr));
        }
        answer = answer.concat(fragments);
      }
      return answer;
    };

    return Base;

  })();

  exports.Block = Block = (function(_super) {
    __extends(Block, _super);

    function Block(nodes) {
      this.expressions = compact(flatten(nodes || []));
    }

    Block.prototype.children = ['expressions'];

    Block.prototype.push = function(node) {
      this.expressions.push(node);
      return this;
    };

    Block.prototype.pop = function() {
      return this.expressions.pop();
    };

    Block.prototype.unshift = function(node) {
      this.expressions.unshift(node);
      return this;
    };

    Block.prototype.unwrap = function() {
      if (this.expressions.length === 1) {
        return this.expressions[0];
      } else {
        return this;
      }
    };

    Block.prototype.isEmpty = function() {
      return !this.expressions.length;
    };

    Block.prototype.isStatement = function(o) {
      var exp, _i, _len, _ref2;
      _ref2 = this.expressions;
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        exp = _ref2[_i];
        if (exp.isStatement(o)) {
          return true;
        }
      }
      return false;
    };

    Block.prototype.jumps = function(o) {
      var exp, jumpNode, _i, _len, _ref2;
      _ref2 = this.expressions;
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        exp = _ref2[_i];
        if (jumpNode = exp.jumps(o)) {
          return jumpNode;
        }
      }
    };

    Block.prototype.makeReturn = function(res) {
      var expr, len;
      len = this.expressions.length;
      while (len--) {
        expr = this.expressions[len];
        if (!(expr instanceof Comment)) {
          this.expressions[len] = expr.makeReturn(res);
          if (expr instanceof Return && !expr.expression) {
            this.expressions.splice(len, 1);
          }
          break;
        }
      }
      return this;
    };

    Block.prototype.compileToFragments = function(o, level) {
      if (o == null) {
        o = {};
      }
      if (o.scope) {
        return Block.__super__.compileToFragments.call(this, o, level);
      } else {
        return this.compileRoot(o);
      }
    };

    Block.prototype.compileNode = function(o) {
      var answer, compiledNodes, fragments, index, node, top, _i, _len, _ref2;
      this.tab = o.indent;
      top = o.level === LEVEL_TOP;
      compiledNodes = [];
      _ref2 = this.expressions;
      for (index = _i = 0, _len = _ref2.length; _i < _len; index = ++_i) {
        node = _ref2[index];
        node = node.unwrapAll();
        node = node.unfoldSoak(o) || node;
        if (node instanceof Block) {
          compiledNodes.push(node.compileNode(o));
        } else if (top) {
          node.front = true;
          fragments = node.compileToFragments(o);
          if (!node.isStatement(o)) {
            fragments.unshift(this.makeCode("" + this.tab));
            fragments.push(this.makeCode(";"));
          }
          compiledNodes.push(fragments);
        } else {
          compiledNodes.push(node.compileToFragments(o, LEVEL_LIST));
        }
      }
      if (top) {
        if (this.spaced) {
          return [].concat(this.joinFragmentArrays(compiledNodes, '\n\n'), this.makeCode("\n"));
        } else {
          return this.joinFragmentArrays(compiledNodes, '\n');
        }
      }
      if (compiledNodes.length) {
        answer = this.joinFragmentArrays(compiledNodes, ', ');
      } else {
        answer = [this.makeCode("void 0")];
      }
      if (compiledNodes.length > 1 && o.level >= LEVEL_LIST) {
        return this.wrapInBraces(answer);
      } else {
        return answer;
      }
    };

    Block.prototype.compileRoot = function(o) {
      var exp, fragments, i, name, prelude, preludeExps, rest, _i, _len, _ref2;
      o.indent = o.bare ? '' : TAB;
      o.level = LEVEL_TOP;
      this.spaced = true;
      o.scope = new Scope(null, this, null);
      _ref2 = o.locals || [];
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        name = _ref2[_i];
        o.scope.parameter(name);
      }
      prelude = [];
      if (!o.bare) {
        preludeExps = (function() {
          var _j, _len1, _ref3, _results;
          _ref3 = this.expressions;
          _results = [];
          for (i = _j = 0, _len1 = _ref3.length; _j < _len1; i = ++_j) {
            exp = _ref3[i];
            if (!(exp.unwrap() instanceof Comment)) {
              break;
            }
            _results.push(exp);
          }
          return _results;
        }).call(this);
        rest = this.expressions.slice(preludeExps.length);
        this.expressions = preludeExps;
        if (preludeExps.length) {
          prelude = this.compileNode(merge(o, {
            indent: ''
          }));
          prelude.push(this.makeCode("\n"));
        }
        this.expressions = rest;
      }
      fragments = this.compileWithDeclarations(o);
      if (o.bare) {
        return fragments;
      }
      return [].concat(prelude, this.makeCode("(function() {\n"), fragments, this.makeCode("\n}).call(this);\n"));
    };

    Block.prototype.compileWithDeclarations = function(o) {
      var assigns, declars, exp, fragments, i, post, rest, scope, spaced, _i, _len, _ref2, _ref3, _ref4;
      fragments = [];
      post = [];
      _ref2 = this.expressions;
      for (i = _i = 0, _len = _ref2.length; _i < _len; i = ++_i) {
        exp = _ref2[i];
        exp = exp.unwrap();
        if (!(exp instanceof Comment || exp instanceof Literal)) {
          break;
        }
      }
      o = merge(o, {
        level: LEVEL_TOP
      });
      if (i) {
        rest = this.expressions.splice(i, 9e9);
        _ref3 = [this.spaced, false], spaced = _ref3[0], this.spaced = _ref3[1];
        _ref4 = [this.compileNode(o), spaced], fragments = _ref4[0], this.spaced = _ref4[1];
        this.expressions = rest;
      }
      post = this.compileNode(o);
      scope = o.scope;
      if (scope.expressions === this) {
        declars = o.scope.hasDeclarations();
        assigns = scope.hasAssignments;
        if (declars || assigns) {
          if (i) {
            fragments.push(this.makeCode('\n'));
          }
          fragments.push(this.makeCode("" + this.tab + "var "));
          if (declars) {
            fragments.push(this.makeCode(scope.declaredVariables().join(', ')));
          }
          if (assigns) {
            if (declars) {
              fragments.push(this.makeCode(",\n" + (this.tab + TAB)));
            }
            fragments.push(this.makeCode(scope.assignedVariables().join(",\n" + (this.tab + TAB))));
          }
          fragments.push(this.makeCode(";\n" + (this.spaced ? '\n' : '')));
        } else if (fragments.length && post.length) {
          fragments.push(this.makeCode("\n"));
        }
      }
      return fragments.concat(post);
    };

    Block.wrap = function(nodes) {
      if (nodes.length === 1 && nodes[0] instanceof Block) {
        return nodes[0];
      }
      return new Block(nodes);
    };

    return Block;

  })(Base);

  exports.Literal = Literal = (function(_super) {
    __extends(Literal, _super);

    function Literal(value) {
      this.value = value;
    }

    Literal.prototype.makeReturn = function() {
      if (this.isStatement()) {
        return this;
      } else {
        return Literal.__super__.makeReturn.apply(this, arguments);
      }
    };

    Literal.prototype.isAssignable = function() {
      return IDENTIFIER.test(this.value);
    };

    Literal.prototype.isStatement = function() {
      var _ref2;
      return (_ref2 = this.value) === 'break' || _ref2 === 'continue' || _ref2 === 'debugger';
    };

    Literal.prototype.isComplex = NO;

    Literal.prototype.assigns = function(name) {
      return name === this.value;
    };

    Literal.prototype.jumps = function(o) {
      if (this.value === 'break' && !((o != null ? o.loop : void 0) || (o != null ? o.block : void 0))) {
        return this;
      }
      if (this.value === 'continue' && !(o != null ? o.loop : void 0)) {
        return this;
      }
    };

    Literal.prototype.compileNode = function(o) {
      var answer, code, _ref2;
      code = this.value === 'this' ? ((_ref2 = o.scope.method) != null ? _ref2.bound : void 0) ? o.scope.method.context : this.value : this.value.reserved ? "\"" + this.value + "\"" : this.value;
      answer = this.isStatement() ? "" + this.tab + code + ";" : code;
      return [this.makeCode(answer)];
    };

    Literal.prototype.toString = function() {
      return ' "' + this.value + '"';
    };

    return Literal;

  })(Base);

  exports.Undefined = (function(_super) {
    __extends(Undefined, _super);

    function Undefined() {
      return Undefined.__super__.constructor.apply(this, arguments);
    }

    Undefined.prototype.isAssignable = NO;

    Undefined.prototype.isComplex = NO;

    Undefined.prototype.compileNode = function(o) {
      return [this.makeCode(o.level >= LEVEL_ACCESS ? '(void 0)' : 'void 0')];
    };

    return Undefined;

  })(Base);

  exports.Null = (function(_super) {
    __extends(Null, _super);

    function Null() {
      return Null.__super__.constructor.apply(this, arguments);
    }

    Null.prototype.isAssignable = NO;

    Null.prototype.isComplex = NO;

    Null.prototype.compileNode = function() {
      return [this.makeCode("null")];
    };

    return Null;

  })(Base);

  exports.Bool = (function(_super) {
    __extends(Bool, _super);

    Bool.prototype.isAssignable = NO;

    Bool.prototype.isComplex = NO;

    Bool.prototype.compileNode = function() {
      return [this.makeCode(this.val)];
    };

    function Bool(val) {
      this.val = val;
    }

    return Bool;

  })(Base);

  exports.Return = Return = (function(_super) {
    __extends(Return, _super);

    function Return(expression) {
      this.expression = expression;
    }

    Return.prototype.children = ['expression'];

    Return.prototype.isStatement = YES;

    Return.prototype.makeReturn = THIS;

    Return.prototype.jumps = THIS;

    Return.prototype.compileToFragments = function(o, level) {
      var expr, _ref2;
      expr = (_ref2 = this.expression) != null ? _ref2.makeReturn() : void 0;
      if (expr && !(expr instanceof Return)) {
        return expr.compileToFragments(o, level);
      } else {
        return Return.__super__.compileToFragments.call(this, o, level);
      }
    };

    Return.prototype.compileNode = function(o) {
      var answer;
      answer = [];
      answer.push(this.makeCode(this.tab + ("return" + (this.expression ? " " : ""))));
      if (this.expression) {
        answer = answer.concat(this.expression.compileToFragments(o, LEVEL_PAREN));
      }
      answer.push(this.makeCode(";"));
      return answer;
    };

    return Return;

  })(Base);

  exports.Value = Value = (function(_super) {
    __extends(Value, _super);

    function Value(base, props, tag) {
      if (!props && base instanceof Value) {
        return base;
      }
      this.base = base;
      this.properties = props || [];
      if (tag) {
        this[tag] = true;
      }
      return this;
    }

    Value.prototype.children = ['base', 'properties'];

    Value.prototype.add = function(props) {
      this.properties = this.properties.concat(props);
      return this;
    };

    Value.prototype.hasProperties = function() {
      return !!this.properties.length;
    };

    Value.prototype.bareLiteral = function(type) {
      return !this.properties.length && this.base instanceof type;
    };

    Value.prototype.isArray = function() {
      return this.bareLiteral(Arr);
    };

    Value.prototype.isRange = function() {
      return this.bareLiteral(Range);
    };

    Value.prototype.isComplex = function() {
      return this.hasProperties() || this.base.isComplex();
    };

    Value.prototype.isAssignable = function() {
      return this.hasProperties() || this.base.isAssignable();
    };

    Value.prototype.isSimpleNumber = function() {
      return this.bareLiteral(Literal) && SIMPLENUM.test(this.base.value);
    };

    Value.prototype.isString = function() {
      return this.bareLiteral(Literal) && IS_STRING.test(this.base.value);
    };

    Value.prototype.isRegex = function() {
      return this.bareLiteral(Literal) && IS_REGEX.test(this.base.value);
    };

    Value.prototype.isAtomic = function() {
      var node, _i, _len, _ref2;
      _ref2 = this.properties.concat(this.base);
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        node = _ref2[_i];
        if (node.soak || node instanceof Call) {
          return false;
        }
      }
      return true;
    };

    Value.prototype.isNotCallable = function() {
      return this.isSimpleNumber() || this.isString() || this.isRegex() || this.isArray() || this.isRange() || this.isSplice() || this.isObject();
    };

    Value.prototype.isStatement = function(o) {
      return !this.properties.length && this.base.isStatement(o);
    };

    Value.prototype.assigns = function(name) {
      return !this.properties.length && this.base.assigns(name);
    };

    Value.prototype.jumps = function(o) {
      return !this.properties.length && this.base.jumps(o);
    };

    Value.prototype.isObject = function(onlyGenerated) {
      if (this.properties.length) {
        return false;
      }
      return (this.base instanceof Obj) && (!onlyGenerated || this.base.generated);
    };

    Value.prototype.isSplice = function() {
      return last(this.properties) instanceof Slice;
    };

    Value.prototype.looksStatic = function(className) {
      var _ref2;
      return this.base.value === className && this.properties.length && ((_ref2 = this.properties[0].name) != null ? _ref2.value : void 0) !== 'prototype';
    };

    Value.prototype.unwrap = function() {
      if (this.properties.length) {
        return this;
      } else {
        return this.base;
      }
    };

    Value.prototype.cacheReference = function(o) {
      var base, bref, name, nref;
      name = last(this.properties);
      if (this.properties.length < 2 && !this.base.isComplex() && !(name != null ? name.isComplex() : void 0)) {
        return [this, this];
      }
      base = new Value(this.base, this.properties.slice(0, -1));
      if (base.isComplex()) {
        bref = new Literal(o.scope.freeVariable('base'));
        base = new Value(new Parens(new Assign(bref, base)));
      }
      if (!name) {
        return [base, bref];
      }
      if (name.isComplex()) {
        nref = new Literal(o.scope.freeVariable('name'));
        name = new Index(new Assign(nref, name.index));
        nref = new Index(nref);
      }
      return [base.add(name), new Value(bref || base.base, [nref || name])];
    };

    Value.prototype.compileNode = function(o) {
      var fragments, prop, props, _i, _len;
      this.base.front = this.front;
      props = this.properties;
      fragments = this.base.compileToFragments(o, (props.length ? LEVEL_ACCESS : null));
      if ((this.base instanceof Parens || props.length) && SIMPLENUM.test(fragmentsToText(fragments))) {
        fragments.push(this.makeCode('.'));
      }
      for (_i = 0, _len = props.length; _i < _len; _i++) {
        prop = props[_i];
        fragments.push.apply(fragments, prop.compileToFragments(o));
      }
      return fragments;
    };

    Value.prototype.unfoldSoak = function(o) {
      return this.unfoldedSoak != null ? this.unfoldedSoak : this.unfoldedSoak = (function(_this) {
        return function() {
          var fst, i, ifn, prop, ref, snd, _i, _len, _ref2, _ref3;
          if (ifn = _this.base.unfoldSoak(o)) {
            (_ref2 = ifn.body.properties).push.apply(_ref2, _this.properties);
            return ifn;
          }
          _ref3 = _this.properties;
          for (i = _i = 0, _len = _ref3.length; _i < _len; i = ++_i) {
            prop = _ref3[i];
            if (!prop.soak) {
              continue;
            }
            prop.soak = false;
            fst = new Value(_this.base, _this.properties.slice(0, i));
            snd = new Value(_this.base, _this.properties.slice(i));
            if (fst.isComplex()) {
              ref = new Literal(o.scope.freeVariable('ref'));
              fst = new Parens(new Assign(ref, fst));
              snd.base = ref;
            }
            return new If(new Existence(fst), snd, {
              soak: true
            });
          }
          return false;
        };
      })(this)();
    };

    return Value;

  })(Base);

  exports.Comment = Comment = (function(_super) {
    __extends(Comment, _super);

    function Comment(comment) {
      this.comment = comment;
    }

    Comment.prototype.isStatement = YES;

    Comment.prototype.makeReturn = THIS;

    Comment.prototype.compileNode = function(o, level) {
      var code, comment;
      comment = this.comment.replace(/^(\s*)#/gm, "$1 *");
      code = "/*" + (multident(comment, this.tab)) + (__indexOf.call(comment, '\n') >= 0 ? "\n" + this.tab : '') + " */";
      if ((level || o.level) === LEVEL_TOP) {
        code = o.indent + code;
      }
      return [this.makeCode("\n"), this.makeCode(code)];
    };

    return Comment;

  })(Base);

  exports.Call = Call = (function(_super) {
    __extends(Call, _super);

    function Call(variable, args, soak) {
      this.args = args != null ? args : [];
      this.soak = soak;
      this.isNew = false;
      this.isSuper = variable === 'super';
      this.variable = this.isSuper ? null : variable;
      if (variable instanceof Value && variable.isNotCallable()) {
        variable.error("literal is not a function");
      }
    }

    Call.prototype.children = ['variable', 'args'];

    Call.prototype.newInstance = function() {
      var base, _ref2;
      base = ((_ref2 = this.variable) != null ? _ref2.base : void 0) || this.variable;
      if (base instanceof Call && !base.isNew) {
        base.newInstance();
      } else {
        this.isNew = true;
      }
      return this;
    };

    Call.prototype.superReference = function(o) {
      var accesses, method;
      method = o.scope.namedMethod();
      if (method != null ? method.klass : void 0) {
        accesses = [new Access(new Literal('__super__'))];
        if (method["static"]) {
          accesses.push(new Access(new Literal('constructor')));
        }
        accesses.push(new Access(new Literal(method.name)));
        return (new Value(new Literal(method.klass), accesses)).compile(o);
      } else if (method != null ? method.ctor : void 0) {
        return "" + method.name + ".__super__.constructor";
      } else {
        return this.error('cannot call super outside of an instance method.');
      }
    };

    Call.prototype.superThis = function(o) {
      var method;
      method = o.scope.method;
      return (method && !method.klass && method.context) || "this";
    };

    Call.prototype.unfoldSoak = function(o) {
      var call, ifn, left, list, rite, _i, _len, _ref2, _ref3;
      if (this.soak) {
        if (this.variable) {
          if (ifn = unfoldSoak(o, this, 'variable')) {
            return ifn;
          }
          _ref2 = new Value(this.variable).cacheReference(o), left = _ref2[0], rite = _ref2[1];
        } else {
          left = new Literal(this.superReference(o));
          rite = new Value(left);
        }
        rite = new Call(rite, this.args);
        rite.isNew = this.isNew;
        left = new Literal("typeof " + (left.compile(o)) + " === \"function\"");
        return new If(left, new Value(rite), {
          soak: true
        });
      }
      call = this;
      list = [];
      while (true) {
        if (call.variable instanceof Call) {
          list.push(call);
          call = call.variable;
          continue;
        }
        if (!(call.variable instanceof Value)) {
          break;
        }
        list.push(call);
        if (!((call = call.variable.base) instanceof Call)) {
          break;
        }
      }
      _ref3 = list.reverse();
      for (_i = 0, _len = _ref3.length; _i < _len; _i++) {
        call = _ref3[_i];
        if (ifn) {
          if (call.variable instanceof Call) {
            call.variable = ifn;
          } else {
            call.variable.base = ifn;
          }
        }
        ifn = unfoldSoak(o, call, 'variable');
      }
      return ifn;
    };

    Call.prototype.compileNode = function(o) {
      var arg, argIndex, compiledArgs, compiledArray, fragments, preface, _i, _len, _ref2, _ref3;
      if ((_ref2 = this.variable) != null) {
        _ref2.front = this.front;
      }
      compiledArray = Splat.compileSplattedArray(o, this.args, true);
      if (compiledArray.length) {
        return this.compileSplat(o, compiledArray);
      }
      compiledArgs = [];
      _ref3 = this.args;
      for (argIndex = _i = 0, _len = _ref3.length; _i < _len; argIndex = ++_i) {
        arg = _ref3[argIndex];
        if (argIndex) {
          compiledArgs.push(this.makeCode(", "));
        }
        compiledArgs.push.apply(compiledArgs, arg.compileToFragments(o, LEVEL_LIST));
      }
      fragments = [];
      if (this.isSuper) {
        preface = this.superReference(o) + (".call(" + (this.superThis(o)));
        if (compiledArgs.length) {
          preface += ", ";
        }
        fragments.push(this.makeCode(preface));
      } else {
        if (this.isNew) {
          fragments.push(this.makeCode('new '));
        }
        fragments.push.apply(fragments, this.variable.compileToFragments(o, LEVEL_ACCESS));
        fragments.push(this.makeCode("("));
      }
      fragments.push.apply(fragments, compiledArgs);
      fragments.push(this.makeCode(")"));
      return fragments;
    };

    Call.prototype.compileSplat = function(o, splatArgs) {
      var answer, base, fun, idt, name, ref;
      if (this.isSuper) {
        return [].concat(this.makeCode("" + (this.superReference(o)) + ".apply(" + (this.superThis(o)) + ", "), splatArgs, this.makeCode(")"));
      }
      if (this.isNew) {
        idt = this.tab + TAB;
        return [].concat(this.makeCode("(function(func, args, ctor) {\n" + idt + "ctor.prototype = func.prototype;\n" + idt + "var child = new ctor, result = func.apply(child, args);\n" + idt + "return Object(result) === result ? result : child;\n" + this.tab + "})("), this.variable.compileToFragments(o, LEVEL_LIST), this.makeCode(", "), splatArgs, this.makeCode(", function(){})"));
      }
      answer = [];
      base = new Value(this.variable);
      if ((name = base.properties.pop()) && base.isComplex()) {
        ref = o.scope.freeVariable('ref');
        answer = answer.concat(this.makeCode("(" + ref + " = "), base.compileToFragments(o, LEVEL_LIST), this.makeCode(")"), name.compileToFragments(o));
      } else {
        fun = base.compileToFragments(o, LEVEL_ACCESS);
        if (SIMPLENUM.test(fragmentsToText(fun))) {
          fun = this.wrapInBraces(fun);
        }
        if (name) {
          ref = fragmentsToText(fun);
          fun.push.apply(fun, name.compileToFragments(o));
        } else {
          ref = 'null';
        }
        answer = answer.concat(fun);
      }
      return answer = answer.concat(this.makeCode(".apply(" + ref + ", "), splatArgs, this.makeCode(")"));
    };

    return Call;

  })(Base);

  exports.Extends = Extends = (function(_super) {
    __extends(Extends, _super);

    function Extends(child, parent) {
      this.child = child;
      this.parent = parent;
    }

    Extends.prototype.children = ['child', 'parent'];

    Extends.prototype.compileToFragments = function(o) {
      return new Call(new Value(new Literal(utility('extends'))), [this.child, this.parent]).compileToFragments(o);
    };

    return Extends;

  })(Base);

  exports.Access = Access = (function(_super) {
    __extends(Access, _super);

    function Access(name, tag) {
      this.name = name;
      this.name.asKey = true;
      this.soak = tag === 'soak';
    }

    Access.prototype.children = ['name'];

    Access.prototype.compileToFragments = function(o) {
      var name;
      name = this.name.compileToFragments(o);
      if (IDENTIFIER.test(fragmentsToText(name))) {
        name.unshift(this.makeCode("."));
      } else {
        name.unshift(this.makeCode("["));
        name.push(this.makeCode("]"));
      }
      return name;
    };

    Access.prototype.isComplex = NO;

    return Access;

  })(Base);

  exports.Index = Index = (function(_super) {
    __extends(Index, _super);

    function Index(index) {
      this.index = index;
    }

    Index.prototype.children = ['index'];

    Index.prototype.compileToFragments = function(o) {
      return [].concat(this.makeCode("["), this.index.compileToFragments(o, LEVEL_PAREN), this.makeCode("]"));
    };

    Index.prototype.isComplex = function() {
      return this.index.isComplex();
    };

    return Index;

  })(Base);

  exports.Range = Range = (function(_super) {
    __extends(Range, _super);

    Range.prototype.children = ['from', 'to'];

    function Range(from, to, tag) {
      this.from = from;
      this.to = to;
      this.exclusive = tag === 'exclusive';
      this.equals = this.exclusive ? '' : '=';
    }

    Range.prototype.compileVariables = function(o) {
      var step, _ref2, _ref3, _ref4, _ref5;
      o = merge(o, {
        top: true
      });
      _ref2 = this.cacheToCodeFragments(this.from.cache(o, LEVEL_LIST)), this.fromC = _ref2[0], this.fromVar = _ref2[1];
      _ref3 = this.cacheToCodeFragments(this.to.cache(o, LEVEL_LIST)), this.toC = _ref3[0], this.toVar = _ref3[1];
      if (step = del(o, 'step')) {
        _ref4 = this.cacheToCodeFragments(step.cache(o, LEVEL_LIST)), this.step = _ref4[0], this.stepVar = _ref4[1];
      }
      _ref5 = [this.fromVar.match(NUMBER), this.toVar.match(NUMBER)], this.fromNum = _ref5[0], this.toNum = _ref5[1];
      if (this.stepVar) {
        return this.stepNum = this.stepVar.match(NUMBER);
      }
    };

    Range.prototype.compileNode = function(o) {
      var cond, condPart, from, gt, idx, idxName, known, lt, namedIndex, stepPart, to, varPart, _ref2, _ref3;
      if (!this.fromVar) {
        this.compileVariables(o);
      }
      if (!o.index) {
        return this.compileArray(o);
      }
      known = this.fromNum && this.toNum;
      idx = del(o, 'index');
      idxName = del(o, 'name');
      namedIndex = idxName && idxName !== idx;
      varPart = "" + idx + " = " + this.fromC;
      if (this.toC !== this.toVar) {
        varPart += ", " + this.toC;
      }
      if (this.step !== this.stepVar) {
        varPart += ", " + this.step;
      }
      _ref2 = ["" + idx + " <" + this.equals, "" + idx + " >" + this.equals], lt = _ref2[0], gt = _ref2[1];
      condPart = this.stepNum ? parseNum(this.stepNum[0]) > 0 ? "" + lt + " " + this.toVar : "" + gt + " " + this.toVar : known ? ((_ref3 = [parseNum(this.fromNum[0]), parseNum(this.toNum[0])], from = _ref3[0], to = _ref3[1], _ref3), from <= to ? "" + lt + " " + to : "" + gt + " " + to) : (cond = this.stepVar ? "" + this.stepVar + " > 0" : "" + this.fromVar + " <= " + this.toVar, "" + cond + " ? " + lt + " " + this.toVar + " : " + gt + " " + this.toVar);
      stepPart = this.stepVar ? "" + idx + " += " + this.stepVar : known ? namedIndex ? from <= to ? "++" + idx : "--" + idx : from <= to ? "" + idx + "++" : "" + idx + "--" : namedIndex ? "" + cond + " ? ++" + idx + " : --" + idx : "" + cond + " ? " + idx + "++ : " + idx + "--";
      if (namedIndex) {
        varPart = "" + idxName + " = " + varPart;
      }
      if (namedIndex) {
        stepPart = "" + idxName + " = " + stepPart;
      }
      return [this.makeCode("" + varPart + "; " + condPart + "; " + stepPart)];
    };

    Range.prototype.compileArray = function(o) {
      var args, body, cond, hasArgs, i, idt, post, pre, range, result, vars, _i, _ref2, _ref3, _results;
      if (this.fromNum && this.toNum && Math.abs(this.fromNum - this.toNum) <= 20) {
        range = (function() {
          _results = [];
          for (var _i = _ref2 = +this.fromNum, _ref3 = +this.toNum; _ref2 <= _ref3 ? _i <= _ref3 : _i >= _ref3; _ref2 <= _ref3 ? _i++ : _i--){ _results.push(_i); }
          return _results;
        }).apply(this);
        if (this.exclusive) {
          range.pop();
        }
        return [this.makeCode("[" + (range.join(', ')) + "]")];
      }
      idt = this.tab + TAB;
      i = o.scope.freeVariable('i');
      result = o.scope.freeVariable('results');
      pre = "\n" + idt + result + " = [];";
      if (this.fromNum && this.toNum) {
        o.index = i;
        body = fragmentsToText(this.compileNode(o));
      } else {
        vars = ("" + i + " = " + this.fromC) + (this.toC !== this.toVar ? ", " + this.toC : '');
        cond = "" + this.fromVar + " <= " + this.toVar;
        body = "var " + vars + "; " + cond + " ? " + i + " <" + this.equals + " " + this.toVar + " : " + i + " >" + this.equals + " " + this.toVar + "; " + cond + " ? " + i + "++ : " + i + "--";
      }
      post = "{ " + result + ".push(" + i + "); }\n" + idt + "return " + result + ";\n" + o.indent;
      hasArgs = function(node) {
        return node != null ? node.contains(isLiteralArguments) : void 0;
      };
      if (hasArgs(this.from) || hasArgs(this.to)) {
        args = ', arguments';
      }
      return [this.makeCode("(function() {" + pre + "\n" + idt + "for (" + body + ")" + post + "}).apply(this" + (args != null ? args : '') + ")")];
    };

    return Range;

  })(Base);

  exports.Slice = Slice = (function(_super) {
    __extends(Slice, _super);

    Slice.prototype.children = ['range'];

    function Slice(range) {
      this.range = range;
      Slice.__super__.constructor.call(this);
    }

    Slice.prototype.compileNode = function(o) {
      var compiled, compiledText, from, fromCompiled, to, toStr, _ref2;
      _ref2 = this.range, to = _ref2.to, from = _ref2.from;
      fromCompiled = from && from.compileToFragments(o, LEVEL_PAREN) || [this.makeCode('0')];
      if (to) {
        compiled = to.compileToFragments(o, LEVEL_PAREN);
        compiledText = fragmentsToText(compiled);
        if (!(!this.range.exclusive && +compiledText === -1)) {
          toStr = ', ' + (this.range.exclusive ? compiledText : SIMPLENUM.test(compiledText) ? "" + (+compiledText + 1) : (compiled = to.compileToFragments(o, LEVEL_ACCESS), "+" + (fragmentsToText(compiled)) + " + 1 || 9e9"));
        }
      }
      return [this.makeCode(".slice(" + (fragmentsToText(fromCompiled)) + (toStr || '') + ")")];
    };

    return Slice;

  })(Base);

  exports.Obj = Obj = (function(_super) {
    __extends(Obj, _super);

    function Obj(props, generated) {
      this.generated = generated != null ? generated : false;
      this.objects = this.properties = props || [];
    }

    Obj.prototype.children = ['properties'];

    Obj.prototype.compileNode = function(o) {
      var answer, i, idt, indent, join, lastNoncom, node, prop, props, _i, _j, _len, _len1;
      props = this.properties;
      if (!props.length) {
        return [this.makeCode(this.front ? '({})' : '{}')];
      }
      if (this.generated) {
        for (_i = 0, _len = props.length; _i < _len; _i++) {
          node = props[_i];
          if (node instanceof Value) {
            node.error('cannot have an implicit value in an implicit object');
          }
        }
      }
      idt = o.indent += TAB;
      lastNoncom = this.lastNonComment(this.properties);
      answer = [];
      for (i = _j = 0, _len1 = props.length; _j < _len1; i = ++_j) {
        prop = props[i];
        join = i === props.length - 1 ? '' : prop === lastNoncom || prop instanceof Comment ? '\n' : ',\n';
        indent = prop instanceof Comment ? '' : idt;
        if (prop instanceof Assign && prop.variable instanceof Value && prop.variable.hasProperties()) {
          prop.variable.error('Invalid object key');
        }
        if (prop instanceof Value && prop["this"]) {
          prop = new Assign(prop.properties[0].name, prop, 'object');
        }
        if (!(prop instanceof Comment)) {
          if (!(prop instanceof Assign)) {
            prop = new Assign(prop, prop, 'object');
          }
          (prop.variable.base || prop.variable).asKey = true;
        }
        if (indent) {
          answer.push(this.makeCode(indent));
        }
        answer.push.apply(answer, prop.compileToFragments(o, LEVEL_TOP));
        if (join) {
          answer.push(this.makeCode(join));
        }
      }
      answer.unshift(this.makeCode("{" + (props.length && '\n')));
      answer.push(this.makeCode("" + (props.length && '\n' + this.tab) + "}"));
      if (this.front) {
        return this.wrapInBraces(answer);
      } else {
        return answer;
      }
    };

    Obj.prototype.assigns = function(name) {
      var prop, _i, _len, _ref2;
      _ref2 = this.properties;
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        prop = _ref2[_i];
        if (prop.assigns(name)) {
          return true;
        }
      }
      return false;
    };

    return Obj;

  })(Base);

  exports.Arr = Arr = (function(_super) {
    __extends(Arr, _super);

    function Arr(objs) {
      this.objects = objs || [];
    }

    Arr.prototype.children = ['objects'];

    Arr.prototype.compileNode = function(o) {
      var answer, compiledObjs, fragments, index, obj, _i, _len;
      if (!this.objects.length) {
        return [this.makeCode('[]')];
      }
      o.indent += TAB;
      answer = Splat.compileSplattedArray(o, this.objects);
      if (answer.length) {
        return answer;
      }
      answer = [];
      compiledObjs = (function() {
        var _i, _len, _ref2, _results;
        _ref2 = this.objects;
        _results = [];
        for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
          obj = _ref2[_i];
          _results.push(obj.compileToFragments(o, LEVEL_LIST));
        }
        return _results;
      }).call(this);
      for (index = _i = 0, _len = compiledObjs.length; _i < _len; index = ++_i) {
        fragments = compiledObjs[index];
        if (index) {
          answer.push(this.makeCode(", "));
        }
        answer.push.apply(answer, fragments);
      }
      if (fragmentsToText(answer).indexOf('\n') >= 0) {
        answer.unshift(this.makeCode("[\n" + o.indent));
        answer.push(this.makeCode("\n" + this.tab + "]"));
      } else {
        answer.unshift(this.makeCode("["));
        answer.push(this.makeCode("]"));
      }
      return answer;
    };

    Arr.prototype.assigns = function(name) {
      var obj, _i, _len, _ref2;
      _ref2 = this.objects;
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        obj = _ref2[_i];
        if (obj.assigns(name)) {
          return true;
        }
      }
      return false;
    };

    return Arr;

  })(Base);

  exports.Class = Class = (function(_super) {
    __extends(Class, _super);

    function Class(variable, parent, body) {
      this.variable = variable;
      this.parent = parent;
      this.body = body != null ? body : new Block;
      this.boundFuncs = [];
      this.body.classBody = true;
    }

    Class.prototype.children = ['variable', 'parent', 'body'];

    Class.prototype.determineName = function() {
      var decl, tail;
      if (!this.variable) {
        return null;
      }
      decl = (tail = last(this.variable.properties)) ? tail instanceof Access && tail.name.value : this.variable.base.value;
      if (__indexOf.call(STRICT_PROSCRIBED, decl) >= 0) {
        this.variable.error("class variable name may not be " + decl);
      }
      return decl && (decl = IDENTIFIER.test(decl) && decl);
    };

    Class.prototype.setContext = function(name) {
      return this.body.traverseChildren(false, function(node) {
        if (node.classBody) {
          return false;
        }
        if (node instanceof Literal && node.value === 'this') {
          return node.value = name;
        } else if (node instanceof Code) {
          node.klass = name;
          if (node.bound) {
            return node.context = name;
          }
        }
      });
    };

    Class.prototype.addBoundFunctions = function(o) {
      var bvar, lhs, _i, _len, _ref2;
      _ref2 = this.boundFuncs;
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        bvar = _ref2[_i];
        lhs = (new Value(new Literal("this"), [new Access(bvar)])).compile(o);
        this.ctor.body.unshift(new Literal("" + lhs + " = " + (utility('bind')) + "(" + lhs + ", this)"));
      }
    };

    Class.prototype.addProperties = function(node, name, o) {
      var assign, base, exprs, func, props;
      props = node.base.properties.slice(0);
      exprs = (function() {
        var _results;
        _results = [];
        while (assign = props.shift()) {
          if (assign instanceof Assign) {
            base = assign.variable.base;
            delete assign.context;
            func = assign.value;
            if (base.value === 'constructor') {
              if (this.ctor) {
                assign.error('cannot define more than one constructor in a class');
              }
              if (func.bound) {
                assign.error('cannot define a constructor as a bound function');
              }
              if (func instanceof Code) {
                assign = this.ctor = func;
              } else {
                this.externalCtor = o.classScope.freeVariable('class');
                assign = new Assign(new Literal(this.externalCtor), func);
              }
            } else {
              if (assign.variable["this"]) {
                func["static"] = true;
              } else {
                assign.variable = new Value(new Literal(name), [new Access(new Literal('prototype')), new Access(base)]);
                if (func instanceof Code && func.bound) {
                  this.boundFuncs.push(base);
                  func.bound = false;
                }
              }
            }
          }
          _results.push(assign);
        }
        return _results;
      }).call(this);
      return compact(exprs);
    };

    Class.prototype.walkBody = function(name, o) {
      return this.traverseChildren(false, (function(_this) {
        return function(child) {
          var cont, exps, i, node, _i, _len, _ref2;
          cont = true;
          if (child instanceof Class) {
            return false;
          }
          if (child instanceof Block) {
            _ref2 = exps = child.expressions;
            for (i = _i = 0, _len = _ref2.length; _i < _len; i = ++_i) {
              node = _ref2[i];
              if (node instanceof Assign && node.variable.looksStatic(name)) {
                node.value["static"] = true;
              } else if (node instanceof Value && node.isObject(true)) {
                cont = false;
                exps[i] = _this.addProperties(node, name, o);
              }
            }
            child.expressions = exps = flatten(exps);
          }
          return cont && !(child instanceof Class);
        };
      })(this));
    };

    Class.prototype.hoistDirectivePrologue = function() {
      var expressions, index, node;
      index = 0;
      expressions = this.body.expressions;
      while ((node = expressions[index]) && node instanceof Comment || node instanceof Value && node.isString()) {
        ++index;
      }
      return this.directives = expressions.splice(0, index);
    };

    Class.prototype.ensureConstructor = function(name) {
      if (!this.ctor) {
        this.ctor = new Code;
        if (this.externalCtor) {
          this.ctor.body.push(new Literal("" + this.externalCtor + ".apply(this, arguments)"));
        } else if (this.parent) {
          this.ctor.body.push(new Literal("" + name + ".__super__.constructor.apply(this, arguments)"));
        }
        this.ctor.body.makeReturn();
        this.body.expressions.unshift(this.ctor);
      }
      this.ctor.ctor = this.ctor.name = name;
      this.ctor.klass = null;
      return this.ctor.noReturn = true;
    };

    Class.prototype.compileNode = function(o) {
      var args, argumentsNode, func, jumpNode, klass, lname, name, superClass, _ref2;
      if (jumpNode = this.body.jumps()) {
        jumpNode.error('Class bodies cannot contain pure statements');
      }
      if (argumentsNode = this.body.contains(isLiteralArguments)) {
        argumentsNode.error("Class bodies shouldn't reference arguments");
      }
      name = this.determineName() || '_Class';
      if (name.reserved) {
        name = "_" + name;
      }
      lname = new Literal(name);
      func = new Code([], Block.wrap([this.body]));
      args = [];
      o.classScope = func.makeScope(o.scope);
      this.hoistDirectivePrologue();
      this.setContext(name);
      this.walkBody(name, o);
      this.ensureConstructor(name);
      this.addBoundFunctions(o);
      this.body.spaced = true;
      this.body.expressions.push(lname);
      if (this.parent) {
        superClass = new Literal(o.classScope.freeVariable('super', false));
        this.body.expressions.unshift(new Extends(lname, superClass));
        func.params.push(new Param(superClass));
        args.push(this.parent);
      }
      (_ref2 = this.body.expressions).unshift.apply(_ref2, this.directives);
      klass = new Parens(new Call(func, args));
      if (this.variable) {
        klass = new Assign(this.variable, klass);
      }
      return klass.compileToFragments(o);
    };

    return Class;

  })(Base);

  exports.Assign = Assign = (function(_super) {
    __extends(Assign, _super);

    function Assign(variable, value, context, options) {
      var forbidden, name, _ref2;
      this.variable = variable;
      this.value = value;
      this.context = context;
      this.param = options && options.param;
      this.subpattern = options && options.subpattern;
      forbidden = (_ref2 = (name = this.variable.unwrapAll().value), __indexOf.call(STRICT_PROSCRIBED, _ref2) >= 0);
      if (forbidden && this.context !== 'object') {
        this.variable.error("variable name may not be \"" + name + "\"");
      }
    }

    Assign.prototype.children = ['variable', 'value'];

    Assign.prototype.isStatement = function(o) {
      return (o != null ? o.level : void 0) === LEVEL_TOP && (this.context != null) && __indexOf.call(this.context, "?") >= 0;
    };

    Assign.prototype.assigns = function(name) {
      return this[this.context === 'object' ? 'value' : 'variable'].assigns(name);
    };

    Assign.prototype.unfoldSoak = function(o) {
      return unfoldSoak(o, this, 'variable');
    };

    Assign.prototype.compileNode = function(o) {
      var answer, compiledName, isValue, match, name, val, varBase, _ref2, _ref3, _ref4, _ref5;
      if (isValue = this.variable instanceof Value) {
        if (this.variable.isArray() || this.variable.isObject()) {
          return this.compilePatternMatch(o);
        }
        if (this.variable.isSplice()) {
          return this.compileSplice(o);
        }
        if ((_ref2 = this.context) === '||=' || _ref2 === '&&=' || _ref2 === '?=') {
          return this.compileConditional(o);
        }
        if ((_ref3 = this.context) === '**=' || _ref3 === '//=' || _ref3 === '%%=') {
          return this.compileSpecialMath(o);
        }
      }
      compiledName = this.variable.compileToFragments(o, LEVEL_LIST);
      name = fragmentsToText(compiledName);
      if (!this.context) {
        varBase = this.variable.unwrapAll();
        if (!varBase.isAssignable()) {
          this.variable.error("\"" + (this.variable.compile(o)) + "\" cannot be assigned");
        }
        if (!(typeof varBase.hasProperties === "function" ? varBase.hasProperties() : void 0)) {
          if (this.param) {
            o.scope.add(name, 'var');
          } else {
            o.scope.find(name);
          }
        }
      }
      if (this.value instanceof Code && (match = METHOD_DEF.exec(name))) {
        if (match[2]) {
          this.value.klass = match[1];
        }
        this.value.name = (_ref4 = (_ref5 = match[3]) != null ? _ref5 : match[4]) != null ? _ref4 : match[5];
      }
      val = this.value.compileToFragments(o, LEVEL_LIST);
      if (this.context === 'object') {
        return compiledName.concat(this.makeCode(": "), val);
      }
      answer = compiledName.concat(this.makeCode(" " + (this.context || '=') + " "), val);
      if (o.level <= LEVEL_LIST) {
        return answer;
      } else {
        return this.wrapInBraces(answer);
      }
    };

    Assign.prototype.compilePatternMatch = function(o) {
      var acc, assigns, code, expandedIdx, fragments, i, idx, isObject, ivar, name, obj, objects, olen, ref, rest, top, val, value, vvar, vvarText, _i, _len, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7;
      top = o.level === LEVEL_TOP;
      value = this.value;
      objects = this.variable.base.objects;
      if (!(olen = objects.length)) {
        code = value.compileToFragments(o);
        if (o.level >= LEVEL_OP) {
          return this.wrapInBraces(code);
        } else {
          return code;
        }
      }
      isObject = this.variable.isObject();
      if (top && olen === 1 && !((obj = objects[0]) instanceof Splat)) {
        if (obj instanceof Assign) {
          _ref2 = obj, (_ref3 = _ref2.variable, idx = _ref3.base), obj = _ref2.value;
        } else {
          idx = isObject ? obj["this"] ? obj.properties[0].name : obj : new Literal(0);
        }
        acc = IDENTIFIER.test(idx.unwrap().value || 0);
        value = new Value(value);
        value.properties.push(new (acc ? Access : Index)(idx));
        if (_ref4 = obj.unwrap().value, __indexOf.call(RESERVED, _ref4) >= 0) {
          obj.error("assignment to a reserved word: " + (obj.compile(o)));
        }
        return new Assign(obj, value, null, {
          param: this.param
        }).compileToFragments(o, LEVEL_TOP);
      }
      vvar = value.compileToFragments(o, LEVEL_LIST);
      vvarText = fragmentsToText(vvar);
      assigns = [];
      expandedIdx = false;
      if (!IDENTIFIER.test(vvarText) || this.variable.assigns(vvarText)) {
        assigns.push([this.makeCode("" + (ref = o.scope.freeVariable('ref')) + " = ")].concat(__slice.call(vvar)));
        vvar = [this.makeCode(ref)];
        vvarText = ref;
      }
      for (i = _i = 0, _len = objects.length; _i < _len; i = ++_i) {
        obj = objects[i];
        idx = i;
        if (isObject) {
          if (obj instanceof Assign) {
            _ref5 = obj, (_ref6 = _ref5.variable, idx = _ref6.base), obj = _ref5.value;
          } else {
            if (obj.base instanceof Parens) {
              _ref7 = new Value(obj.unwrapAll()).cacheReference(o), obj = _ref7[0], idx = _ref7[1];
            } else {
              idx = obj["this"] ? obj.properties[0].name : obj;
            }
          }
        }
        if (!expandedIdx && obj instanceof Splat) {
          name = obj.name.unwrap().value;
          obj = obj.unwrap();
          val = "" + olen + " <= " + vvarText + ".length ? " + (utility('slice')) + ".call(" + vvarText + ", " + i;
          if (rest = olen - i - 1) {
            ivar = o.scope.freeVariable('i');
            val += ", " + ivar + " = " + vvarText + ".length - " + rest + ") : (" + ivar + " = " + i + ", [])";
          } else {
            val += ") : []";
          }
          val = new Literal(val);
          expandedIdx = "" + ivar + "++";
        } else if (!expandedIdx && obj instanceof Expansion) {
          if (rest = olen - i - 1) {
            if (rest === 1) {
              expandedIdx = "" + vvarText + ".length - 1";
            } else {
              ivar = o.scope.freeVariable('i');
              val = new Literal("" + ivar + " = " + vvarText + ".length - " + rest);
              expandedIdx = "" + ivar + "++";
              assigns.push(val.compileToFragments(o, LEVEL_LIST));
            }
          }
          continue;
        } else {
          name = obj.unwrap().value;
          if (obj instanceof Splat || obj instanceof Expansion) {
            obj.error("multiple splats/expansions are disallowed in an assignment");
          }
          if (typeof idx === 'number') {
            idx = new Literal(expandedIdx || idx);
            acc = false;
          } else {
            acc = isObject && IDENTIFIER.test(idx.unwrap().value || 0);
          }
          val = new Value(new Literal(vvarText), [new (acc ? Access : Index)(idx)]);
        }
        if ((name != null) && __indexOf.call(RESERVED, name) >= 0) {
          obj.error("assignment to a reserved word: " + (obj.compile(o)));
        }
        assigns.push(new Assign(obj, val, null, {
          param: this.param,
          subpattern: true
        }).compileToFragments(o, LEVEL_LIST));
      }
      if (!(top || this.subpattern)) {
        assigns.push(vvar);
      }
      fragments = this.joinFragmentArrays(assigns, ', ');
      if (o.level < LEVEL_LIST) {
        return fragments;
      } else {
        return this.wrapInBraces(fragments);
      }
    };

    Assign.prototype.compileConditional = function(o) {
      var fragments, left, right, _ref2;
      _ref2 = this.variable.cacheReference(o), left = _ref2[0], right = _ref2[1];
      if (!left.properties.length && left.base instanceof Literal && left.base.value !== "this" && !o.scope.check(left.base.value)) {
        this.variable.error("the variable \"" + left.base.value + "\" can't be assigned with " + this.context + " because it has not been declared before");
      }
      if (__indexOf.call(this.context, "?") >= 0) {
        o.isExistentialEquals = true;
        return new If(new Existence(left), right, {
          type: 'if'
        }).addElse(new Assign(right, this.value, '=')).compileToFragments(o);
      } else {
        fragments = new Op(this.context.slice(0, -1), left, new Assign(right, this.value, '=')).compileToFragments(o);
        if (o.level <= LEVEL_LIST) {
          return fragments;
        } else {
          return this.wrapInBraces(fragments);
        }
      }
    };

    Assign.prototype.compileSpecialMath = function(o) {
      var left, right, _ref2;
      _ref2 = this.variable.cacheReference(o), left = _ref2[0], right = _ref2[1];
      return new Assign(left, new Op(this.context.slice(0, -1), right, this.value)).compileToFragments(o);
    };

    Assign.prototype.compileSplice = function(o) {
      var answer, exclusive, from, fromDecl, fromRef, name, to, valDef, valRef, _ref2, _ref3, _ref4;
      _ref2 = this.variable.properties.pop().range, from = _ref2.from, to = _ref2.to, exclusive = _ref2.exclusive;
      name = this.variable.compile(o);
      if (from) {
        _ref3 = this.cacheToCodeFragments(from.cache(o, LEVEL_OP)), fromDecl = _ref3[0], fromRef = _ref3[1];
      } else {
        fromDecl = fromRef = '0';
      }
      if (to) {
        if (from instanceof Value && from.isSimpleNumber() && to instanceof Value && to.isSimpleNumber()) {
          to = to.compile(o) - fromRef;
          if (!exclusive) {
            to += 1;
          }
        } else {
          to = to.compile(o, LEVEL_ACCESS) + ' - ' + fromRef;
          if (!exclusive) {
            to += ' + 1';
          }
        }
      } else {
        to = "9e9";
      }
      _ref4 = this.value.cache(o, LEVEL_LIST), valDef = _ref4[0], valRef = _ref4[1];
      answer = [].concat(this.makeCode("[].splice.apply(" + name + ", [" + fromDecl + ", " + to + "].concat("), valDef, this.makeCode(")), "), valRef);
      if (o.level > LEVEL_TOP) {
        return this.wrapInBraces(answer);
      } else {
        return answer;
      }
    };

    return Assign;

  })(Base);

  exports.Code = Code = (function(_super) {
    __extends(Code, _super);

    function Code(params, body, tag) {
      this.params = params || [];
      this.body = body || new Block;
      this.bound = tag === 'boundfunc';
    }

    Code.prototype.children = ['params', 'body'];

    Code.prototype.isStatement = function() {
      return !!this.ctor;
    };

    Code.prototype.jumps = NO;

    Code.prototype.makeScope = function(parentScope) {
      return new Scope(parentScope, this.body, this);
    };

    Code.prototype.compileNode = function(o) {
      var answer, boundfunc, code, exprs, i, lit, p, param, params, ref, splats, uniqs, val, wasEmpty, wrapper, _i, _j, _k, _l, _len, _len1, _len2, _len3, _len4, _len5, _m, _n, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7;
      if (this.bound && ((_ref2 = o.scope.method) != null ? _ref2.bound : void 0)) {
        this.context = o.scope.method.context;
      }
      if (this.bound && !this.context) {
        this.context = '_this';
        wrapper = new Code([new Param(new Literal(this.context))], new Block([this]));
        boundfunc = new Call(wrapper, [new Literal('this')]);
        boundfunc.updateLocationDataIfMissing(this.locationData);
        return boundfunc.compileNode(o);
      }
      o.scope = del(o, 'classScope') || this.makeScope(o.scope);
      o.scope.shared = del(o, 'sharedScope');
      o.indent += TAB;
      delete o.bare;
      delete o.isExistentialEquals;
      params = [];
      exprs = [];
      _ref3 = this.params;
      for (_i = 0, _len = _ref3.length; _i < _len; _i++) {
        param = _ref3[_i];
        if (!(param instanceof Expansion)) {
          o.scope.parameter(param.asReference(o));
        }
      }
      _ref4 = this.params;
      for (_j = 0, _len1 = _ref4.length; _j < _len1; _j++) {
        param = _ref4[_j];
        if (!(param.splat || param instanceof Expansion)) {
          continue;
        }
        _ref5 = this.params;
        for (_k = 0, _len2 = _ref5.length; _k < _len2; _k++) {
          p = _ref5[_k].name;
          if (!(!(param instanceof Expansion))) {
            continue;
          }
          if (p["this"]) {
            p = p.properties[0].name;
          }
          if (p.value) {
            o.scope.add(p.value, 'var', true);
          }
        }
        splats = new Assign(new Value(new Arr((function() {
          var _l, _len3, _ref6, _results;
          _ref6 = this.params;
          _results = [];
          for (_l = 0, _len3 = _ref6.length; _l < _len3; _l++) {
            p = _ref6[_l];
            _results.push(p.asReference(o));
          }
          return _results;
        }).call(this))), new Value(new Literal('arguments')));
        break;
      }
      _ref6 = this.params;
      for (_l = 0, _len3 = _ref6.length; _l < _len3; _l++) {
        param = _ref6[_l];
        if (param.isComplex()) {
          val = ref = param.asReference(o);
          if (param.value) {
            val = new Op('?', ref, param.value);
          }
          exprs.push(new Assign(new Value(param.name), val, '=', {
            param: true
          }));
        } else {
          ref = param;
          if (param.value) {
            lit = new Literal(ref.name.value + ' == null');
            val = new Assign(new Value(param.name), param.value, '=');
            exprs.push(new If(lit, val));
          }
        }
        if (!splats) {
          params.push(ref);
        }
      }
      wasEmpty = this.body.isEmpty();
      if (splats) {
        exprs.unshift(splats);
      }
      if (exprs.length) {
        (_ref7 = this.body.expressions).unshift.apply(_ref7, exprs);
      }
      for (i = _m = 0, _len4 = params.length; _m < _len4; i = ++_m) {
        p = params[i];
        params[i] = p.compileToFragments(o);
        o.scope.parameter(fragmentsToText(params[i]));
      }
      uniqs = [];
      this.eachParamName(function(name, node) {
        if (__indexOf.call(uniqs, name) >= 0) {
          node.error("multiple parameters named '" + name + "'");
        }
        return uniqs.push(name);
      });
      if (!(wasEmpty || this.noReturn)) {
        this.body.makeReturn();
      }
      code = 'function';
      if (this.ctor) {
        code += ' ' + this.name;
      }
      code += '(';
      answer = [this.makeCode(code)];
      for (i = _n = 0, _len5 = params.length; _n < _len5; i = ++_n) {
        p = params[i];
        if (i) {
          answer.push(this.makeCode(", "));
        }
        answer.push.apply(answer, p);
      }
      answer.push(this.makeCode(') {'));
      if (!this.body.isEmpty()) {
        answer = answer.concat(this.makeCode("\n"), this.body.compileWithDeclarations(o), this.makeCode("\n" + this.tab));
      }
      answer.push(this.makeCode('}'));
      if (this.ctor) {
        return [this.makeCode(this.tab)].concat(__slice.call(answer));
      }
      if (this.front || (o.level >= LEVEL_ACCESS)) {
        return this.wrapInBraces(answer);
      } else {
        return answer;
      }
    };

    Code.prototype.eachParamName = function(iterator) {
      var param, _i, _len, _ref2, _results;
      _ref2 = this.params;
      _results = [];
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        param = _ref2[_i];
        _results.push(param.eachName(iterator));
      }
      return _results;
    };

    Code.prototype.traverseChildren = function(crossScope, func) {
      if (crossScope) {
        return Code.__super__.traverseChildren.call(this, crossScope, func);
      }
    };

    return Code;

  })(Base);

  exports.Param = Param = (function(_super) {
    __extends(Param, _super);

    function Param(name, value, splat) {
      var _ref2;
      this.name = name;
      this.value = value;
      this.splat = splat;
      if (_ref2 = (name = this.name.unwrapAll().value), __indexOf.call(STRICT_PROSCRIBED, _ref2) >= 0) {
        this.name.error("parameter name \"" + name + "\" is not allowed");
      }
    }

    Param.prototype.children = ['name', 'value'];

    Param.prototype.compileToFragments = function(o) {
      return this.name.compileToFragments(o, LEVEL_LIST);
    };

    Param.prototype.asReference = function(o) {
      var node;
      if (this.reference) {
        return this.reference;
      }
      node = this.name;
      if (node["this"]) {
        node = node.properties[0].name;
        if (node.value.reserved) {
          node = new Literal(o.scope.freeVariable(node.value));
        }
      } else if (node.isComplex()) {
        node = new Literal(o.scope.freeVariable('arg'));
      }
      node = new Value(node);
      if (this.splat) {
        node = new Splat(node);
      }
      node.updateLocationDataIfMissing(this.locationData);
      return this.reference = node;
    };

    Param.prototype.isComplex = function() {
      return this.name.isComplex();
    };

    Param.prototype.eachName = function(iterator, name) {
      var atParam, node, obj, _i, _len, _ref2;
      if (name == null) {
        name = this.name;
      }
      atParam = function(obj) {
        var node;
        node = obj.properties[0].name;
        if (!node.value.reserved) {
          return iterator(node.value, node);
        }
      };
      if (name instanceof Literal) {
        return iterator(name.value, name);
      }
      if (name instanceof Value) {
        return atParam(name);
      }
      _ref2 = name.objects;
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        obj = _ref2[_i];
        if (obj instanceof Assign) {
          this.eachName(iterator, obj.value.unwrap());
        } else if (obj instanceof Splat) {
          node = obj.name.unwrap();
          iterator(node.value, node);
        } else if (obj instanceof Value) {
          if (obj.isArray() || obj.isObject()) {
            this.eachName(iterator, obj.base);
          } else if (obj["this"]) {
            atParam(obj);
          } else {
            iterator(obj.base.value, obj.base);
          }
        } else if (!(obj instanceof Expansion)) {
          obj.error("illegal parameter " + (obj.compile()));
        }
      }
    };

    return Param;

  })(Base);

  exports.Splat = Splat = (function(_super) {
    __extends(Splat, _super);

    Splat.prototype.children = ['name'];

    Splat.prototype.isAssignable = YES;

    function Splat(name) {
      this.name = name.compile ? name : new Literal(name);
    }

    Splat.prototype.assigns = function(name) {
      return this.name.assigns(name);
    };

    Splat.prototype.compileToFragments = function(o) {
      return this.name.compileToFragments(o);
    };

    Splat.prototype.unwrap = function() {
      return this.name;
    };

    Splat.compileSplattedArray = function(o, list, apply) {
      var args, base, compiledNode, concatPart, fragments, i, index, node, _i, _len;
      index = -1;
      while ((node = list[++index]) && !(node instanceof Splat)) {
        continue;
      }
      if (index >= list.length) {
        return [];
      }
      if (list.length === 1) {
        node = list[0];
        fragments = node.compileToFragments(o, LEVEL_LIST);
        if (apply) {
          return fragments;
        }
        return [].concat(node.makeCode("" + (utility('slice')) + ".call("), fragments, node.makeCode(")"));
      }
      args = list.slice(index);
      for (i = _i = 0, _len = args.length; _i < _len; i = ++_i) {
        node = args[i];
        compiledNode = node.compileToFragments(o, LEVEL_LIST);
        args[i] = node instanceof Splat ? [].concat(node.makeCode("" + (utility('slice')) + ".call("), compiledNode, node.makeCode(")")) : [].concat(node.makeCode("["), compiledNode, node.makeCode("]"));
      }
      if (index === 0) {
        node = list[0];
        concatPart = node.joinFragmentArrays(args.slice(1), ', ');
        return args[0].concat(node.makeCode(".concat("), concatPart, node.makeCode(")"));
      }
      base = (function() {
        var _j, _len1, _ref2, _results;
        _ref2 = list.slice(0, index);
        _results = [];
        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
          node = _ref2[_j];
          _results.push(node.compileToFragments(o, LEVEL_LIST));
        }
        return _results;
      })();
      base = list[0].joinFragmentArrays(base, ', ');
      concatPart = list[index].joinFragmentArrays(args, ', ');
      return [].concat(list[0].makeCode("["), base, list[index].makeCode("].concat("), concatPart, (last(list)).makeCode(")"));
    };

    return Splat;

  })(Base);

  exports.Expansion = Expansion = (function(_super) {
    __extends(Expansion, _super);

    function Expansion() {
      return Expansion.__super__.constructor.apply(this, arguments);
    }

    Expansion.prototype.isComplex = NO;

    Expansion.prototype.compileNode = function(o) {
      return this.error('Expansion must be used inside a destructuring assignment or parameter list');
    };

    Expansion.prototype.asReference = function(o) {
      return this;
    };

    Expansion.prototype.eachName = function(iterator) {};

    return Expansion;

  })(Base);

  exports.While = While = (function(_super) {
    __extends(While, _super);

    function While(condition, options) {
      this.condition = (options != null ? options.invert : void 0) ? condition.invert() : condition;
      this.guard = options != null ? options.guard : void 0;
    }

    While.prototype.children = ['condition', 'guard', 'body'];

    While.prototype.isStatement = YES;

    While.prototype.makeReturn = function(res) {
      if (res) {
        return While.__super__.makeReturn.apply(this, arguments);
      } else {
        this.returns = !this.jumps({
          loop: true
        });
        return this;
      }
    };

    While.prototype.addBody = function(body) {
      this.body = body;
      return this;
    };

    While.prototype.jumps = function() {
      var expressions, jumpNode, node, _i, _len;
      expressions = this.body.expressions;
      if (!expressions.length) {
        return false;
      }
      for (_i = 0, _len = expressions.length; _i < _len; _i++) {
        node = expressions[_i];
        if (jumpNode = node.jumps({
          loop: true
        })) {
          return jumpNode;
        }
      }
      return false;
    };

    While.prototype.compileNode = function(o) {
      var answer, body, rvar, set;
      o.indent += TAB;
      set = '';
      body = this.body;
      if (body.isEmpty()) {
        body = this.makeCode('');
      } else {
        if (this.returns) {
          body.makeReturn(rvar = o.scope.freeVariable('results'));
          set = "" + this.tab + rvar + " = [];\n";
        }
        if (this.guard) {
          if (body.expressions.length > 1) {
            body.expressions.unshift(new If((new Parens(this.guard)).invert(), new Literal("continue")));
          } else {
            if (this.guard) {
              body = Block.wrap([new If(this.guard, body)]);
            }
          }
        }
        body = [].concat(this.makeCode("\n"), body.compileToFragments(o, LEVEL_TOP), this.makeCode("\n" + this.tab));
      }
      answer = [].concat(this.makeCode(set + this.tab + "while ("), this.condition.compileToFragments(o, LEVEL_PAREN), this.makeCode(") {"), body, this.makeCode("}"));
      if (this.returns) {
        answer.push(this.makeCode("\n" + this.tab + "return " + rvar + ";"));
      }
      return answer;
    };

    return While;

  })(Base);

  exports.Op = Op = (function(_super) {
    var CONVERSIONS, INVERSIONS;

    __extends(Op, _super);

    function Op(op, first, second, flip) {
      if (op === 'in') {
        return new In(first, second);
      }
      if (op === 'do') {
        return this.generateDo(first);
      }
      if (op === 'new') {
        if (first instanceof Call && !first["do"] && !first.isNew) {
          return first.newInstance();
        }
        if (first instanceof Code && first.bound || first["do"]) {
          first = new Parens(first);
        }
      }
      this.operator = CONVERSIONS[op] || op;
      this.first = first;
      this.second = second;
      this.flip = !!flip;
      return this;
    }

    CONVERSIONS = {
      '==': '===',
      '!=': '!==',
      'of': 'in'
    };

    INVERSIONS = {
      '!==': '===',
      '===': '!=='
    };

    Op.prototype.children = ['first', 'second'];

    Op.prototype.isSimpleNumber = NO;

    Op.prototype.isUnary = function() {
      return !this.second;
    };

    Op.prototype.isComplex = function() {
      var _ref2;
      return !(this.isUnary() && ((_ref2 = this.operator) === '+' || _ref2 === '-')) || this.first.isComplex();
    };

    Op.prototype.isChainable = function() {
      var _ref2;
      return (_ref2 = this.operator) === '<' || _ref2 === '>' || _ref2 === '>=' || _ref2 === '<=' || _ref2 === '===' || _ref2 === '!==';
    };

    Op.prototype.invert = function() {
      var allInvertable, curr, fst, op, _ref2;
      if (this.isChainable() && this.first.isChainable()) {
        allInvertable = true;
        curr = this;
        while (curr && curr.operator) {
          allInvertable && (allInvertable = curr.operator in INVERSIONS);
          curr = curr.first;
        }
        if (!allInvertable) {
          return new Parens(this).invert();
        }
        curr = this;
        while (curr && curr.operator) {
          curr.invert = !curr.invert;
          curr.operator = INVERSIONS[curr.operator];
          curr = curr.first;
        }
        return this;
      } else if (op = INVERSIONS[this.operator]) {
        this.operator = op;
        if (this.first.unwrap() instanceof Op) {
          this.first.invert();
        }
        return this;
      } else if (this.second) {
        return new Parens(this).invert();
      } else if (this.operator === '!' && (fst = this.first.unwrap()) instanceof Op && ((_ref2 = fst.operator) === '!' || _ref2 === 'in' || _ref2 === 'instanceof')) {
        return fst;
      } else {
        return new Op('!', this);
      }
    };

    Op.prototype.unfoldSoak = function(o) {
      var _ref2;
      return ((_ref2 = this.operator) === '++' || _ref2 === '--' || _ref2 === 'delete') && unfoldSoak(o, this, 'first');
    };

    Op.prototype.generateDo = function(exp) {
      var call, func, param, passedParams, ref, _i, _len, _ref2;
      passedParams = [];
      func = exp instanceof Assign && (ref = exp.value.unwrap()) instanceof Code ? ref : exp;
      _ref2 = func.params || [];
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        param = _ref2[_i];
        if (param.value) {
          passedParams.push(param.value);
          delete param.value;
        } else {
          passedParams.push(param);
        }
      }
      call = new Call(exp, passedParams);
      call["do"] = true;
      return call;
    };

    Op.prototype.compileNode = function(o) {
      var answer, isChain, lhs, rhs, _ref2, _ref3;
      isChain = this.isChainable() && this.first.isChainable();
      if (!isChain) {
        this.first.front = this.front;
      }
      if (this.operator === 'delete' && o.scope.check(this.first.unwrapAll().value)) {
        this.error('delete operand may not be argument or var');
      }
      if (((_ref2 = this.operator) === '--' || _ref2 === '++') && (_ref3 = this.first.unwrapAll().value, __indexOf.call(STRICT_PROSCRIBED, _ref3) >= 0)) {
        this.error("cannot increment/decrement \"" + (this.first.unwrapAll().value) + "\"");
      }
      if (this.isUnary()) {
        return this.compileUnary(o);
      }
      if (isChain) {
        return this.compileChain(o);
      }
      switch (this.operator) {
        case '?':
          return this.compileExistence(o);
        case '**':
          return this.compilePower(o);
        case '//':
          return this.compileFloorDivision(o);
        case '%%':
          return this.compileModulo(o);
        default:
          lhs = this.first.compileToFragments(o, LEVEL_OP);
          rhs = this.second.compileToFragments(o, LEVEL_OP);
          answer = [].concat(lhs, this.makeCode(" " + this.operator + " "), rhs);
          if (o.level <= LEVEL_OP) {
            return answer;
          } else {
            return this.wrapInBraces(answer);
          }
      }
    };

    Op.prototype.compileChain = function(o) {
      var fragments, fst, shared, _ref2;
      _ref2 = this.first.second.cache(o), this.first.second = _ref2[0], shared = _ref2[1];
      fst = this.first.compileToFragments(o, LEVEL_OP);
      fragments = fst.concat(this.makeCode(" " + (this.invert ? '&&' : '||') + " "), shared.compileToFragments(o), this.makeCode(" " + this.operator + " "), this.second.compileToFragments(o, LEVEL_OP));
      return this.wrapInBraces(fragments);
    };

    Op.prototype.compileExistence = function(o) {
      var fst, ref;
      if (this.first.isComplex()) {
        ref = new Literal(o.scope.freeVariable('ref'));
        fst = new Parens(new Assign(ref, this.first));
      } else {
        fst = this.first;
        ref = fst;
      }
      return new If(new Existence(fst), ref, {
        type: 'if'
      }).addElse(this.second).compileToFragments(o);
    };

    Op.prototype.compileUnary = function(o) {
      var op, parts, plusMinus;
      parts = [];
      op = this.operator;
      parts.push([this.makeCode(op)]);
      if (op === '!' && this.first instanceof Existence) {
        this.first.negated = !this.first.negated;
        return this.first.compileToFragments(o);
      }
      if (o.level >= LEVEL_ACCESS) {
        return (new Parens(this)).compileToFragments(o);
      }
      plusMinus = op === '+' || op === '-';
      if ((op === 'new' || op === 'typeof' || op === 'delete') || plusMinus && this.first instanceof Op && this.first.operator === op) {
        parts.push([this.makeCode(' ')]);
      }
      if ((plusMinus && this.first instanceof Op) || (op === 'new' && this.first.isStatement(o))) {
        this.first = new Parens(this.first);
      }
      parts.push(this.first.compileToFragments(o, LEVEL_OP));
      if (this.flip) {
        parts.reverse();
      }
      return this.joinFragmentArrays(parts, '');
    };

    Op.prototype.compilePower = function(o) {
      var pow;
      pow = new Value(new Literal('Math'), [new Access(new Literal('pow'))]);
      return new Call(pow, [this.first, this.second]).compileToFragments(o);
    };

    Op.prototype.compileFloorDivision = function(o) {
      var div, floor;
      floor = new Value(new Literal('Math'), [new Access(new Literal('floor'))]);
      div = new Op('/', this.first, this.second);
      return new Call(floor, [div]).compileToFragments(o);
    };

    Op.prototype.compileModulo = function(o) {
      var mod;
      mod = new Value(new Literal(utility('modulo')));
      return new Call(mod, [this.first, this.second]).compileToFragments(o);
    };

    Op.prototype.toString = function(idt) {
      return Op.__super__.toString.call(this, idt, this.constructor.name + ' ' + this.operator);
    };

    return Op;

  })(Base);

  exports.In = In = (function(_super) {
    __extends(In, _super);

    function In(object, array) {
      this.object = object;
      this.array = array;
    }

    In.prototype.children = ['object', 'array'];

    In.prototype.invert = NEGATE;

    In.prototype.compileNode = function(o) {
      var hasSplat, obj, _i, _len, _ref2;
      if (this.array instanceof Value && this.array.isArray() && this.array.base.objects.length) {
        _ref2 = this.array.base.objects;
        for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
          obj = _ref2[_i];
          if (!(obj instanceof Splat)) {
            continue;
          }
          hasSplat = true;
          break;
        }
        if (!hasSplat) {
          return this.compileOrTest(o);
        }
      }
      return this.compileLoopTest(o);
    };

    In.prototype.compileOrTest = function(o) {
      var cmp, cnj, i, item, ref, sub, tests, _i, _len, _ref2, _ref3, _ref4;
      _ref2 = this.object.cache(o, LEVEL_OP), sub = _ref2[0], ref = _ref2[1];
      _ref3 = this.negated ? [' !== ', ' && '] : [' === ', ' || '], cmp = _ref3[0], cnj = _ref3[1];
      tests = [];
      _ref4 = this.array.base.objects;
      for (i = _i = 0, _len = _ref4.length; _i < _len; i = ++_i) {
        item = _ref4[i];
        if (i) {
          tests.push(this.makeCode(cnj));
        }
        tests = tests.concat((i ? ref : sub), this.makeCode(cmp), item.compileToFragments(o, LEVEL_ACCESS));
      }
      if (o.level < LEVEL_OP) {
        return tests;
      } else {
        return this.wrapInBraces(tests);
      }
    };

    In.prototype.compileLoopTest = function(o) {
      var fragments, ref, sub, _ref2;
      _ref2 = this.object.cache(o, LEVEL_LIST), sub = _ref2[0], ref = _ref2[1];
      fragments = [].concat(this.makeCode(utility('indexOf') + ".call("), this.array.compileToFragments(o, LEVEL_LIST), this.makeCode(", "), ref, this.makeCode(") " + (this.negated ? '< 0' : '>= 0')));
      if (fragmentsToText(sub) === fragmentsToText(ref)) {
        return fragments;
      }
      fragments = sub.concat(this.makeCode(', '), fragments);
      if (o.level < LEVEL_LIST) {
        return fragments;
      } else {
        return this.wrapInBraces(fragments);
      }
    };

    In.prototype.toString = function(idt) {
      return In.__super__.toString.call(this, idt, this.constructor.name + (this.negated ? '!' : ''));
    };

    return In;

  })(Base);

  exports.Try = Try = (function(_super) {
    __extends(Try, _super);

    function Try(attempt, errorVariable, recovery, ensure) {
      this.attempt = attempt;
      this.errorVariable = errorVariable;
      this.recovery = recovery;
      this.ensure = ensure;
    }

    Try.prototype.children = ['attempt', 'recovery', 'ensure'];

    Try.prototype.isStatement = YES;

    Try.prototype.jumps = function(o) {
      var _ref2;
      return this.attempt.jumps(o) || ((_ref2 = this.recovery) != null ? _ref2.jumps(o) : void 0);
    };

    Try.prototype.makeReturn = function(res) {
      if (this.attempt) {
        this.attempt = this.attempt.makeReturn(res);
      }
      if (this.recovery) {
        this.recovery = this.recovery.makeReturn(res);
      }
      return this;
    };

    Try.prototype.compileNode = function(o) {
      var catchPart, ensurePart, placeholder, tryPart;
      o.indent += TAB;
      tryPart = this.attempt.compileToFragments(o, LEVEL_TOP);
      catchPart = this.recovery ? (placeholder = new Literal('_error'), this.errorVariable ? this.recovery.unshift(new Assign(this.errorVariable, placeholder)) : void 0, [].concat(this.makeCode(" catch ("), placeholder.compileToFragments(o), this.makeCode(") {\n"), this.recovery.compileToFragments(o, LEVEL_TOP), this.makeCode("\n" + this.tab + "}"))) : !(this.ensure || this.recovery) ? [this.makeCode(' catch (_error) {}')] : [];
      ensurePart = this.ensure ? [].concat(this.makeCode(" finally {\n"), this.ensure.compileToFragments(o, LEVEL_TOP), this.makeCode("\n" + this.tab + "}")) : [];
      return [].concat(this.makeCode("" + this.tab + "try {\n"), tryPart, this.makeCode("\n" + this.tab + "}"), catchPart, ensurePart);
    };

    return Try;

  })(Base);

  exports.Throw = Throw = (function(_super) {
    __extends(Throw, _super);

    function Throw(expression) {
      this.expression = expression;
    }

    Throw.prototype.children = ['expression'];

    Throw.prototype.isStatement = YES;

    Throw.prototype.jumps = NO;

    Throw.prototype.makeReturn = THIS;

    Throw.prototype.compileNode = function(o) {
      return [].concat(this.makeCode(this.tab + "throw "), this.expression.compileToFragments(o), this.makeCode(";"));
    };

    return Throw;

  })(Base);

  exports.Existence = Existence = (function(_super) {
    __extends(Existence, _super);

    function Existence(expression) {
      this.expression = expression;
    }

    Existence.prototype.children = ['expression'];

    Existence.prototype.invert = NEGATE;

    Existence.prototype.compileNode = function(o) {
      var cmp, cnj, code, _ref2;
      this.expression.front = this.front;
      code = this.expression.compile(o, LEVEL_OP);
      if (IDENTIFIER.test(code) && !o.scope.check(code)) {
        _ref2 = this.negated ? ['===', '||'] : ['!==', '&&'], cmp = _ref2[0], cnj = _ref2[1];
        code = "typeof " + code + " " + cmp + " \"undefined\" " + cnj + " " + code + " " + cmp + " null";
      } else {
        code = "" + code + " " + (this.negated ? '==' : '!=') + " null";
      }
      return [this.makeCode(o.level <= LEVEL_COND ? code : "(" + code + ")")];
    };

    return Existence;

  })(Base);

  exports.Parens = Parens = (function(_super) {
    __extends(Parens, _super);

    function Parens(body) {
      this.body = body;
    }

    Parens.prototype.children = ['body'];

    Parens.prototype.unwrap = function() {
      return this.body;
    };

    Parens.prototype.isComplex = function() {
      return this.body.isComplex();
    };

    Parens.prototype.compileNode = function(o) {
      var bare, expr, fragments;
      expr = this.body.unwrap();
      if (expr instanceof Value && expr.isAtomic()) {
        expr.front = this.front;
        return expr.compileToFragments(o);
      }
      fragments = expr.compileToFragments(o, LEVEL_PAREN);
      bare = o.level < LEVEL_OP && (expr instanceof Op || expr instanceof Call || (expr instanceof For && expr.returns));
      if (bare) {
        return fragments;
      } else {
        return this.wrapInBraces(fragments);
      }
    };

    return Parens;

  })(Base);

  exports.For = For = (function(_super) {
    __extends(For, _super);

    function For(body, source) {
      var _ref2;
      this.source = source.source, this.guard = source.guard, this.step = source.step, this.name = source.name, this.index = source.index;
      this.body = Block.wrap([body]);
      this.own = !!source.own;
      this.object = !!source.object;
      if (this.object) {
        _ref2 = [this.index, this.name], this.name = _ref2[0], this.index = _ref2[1];
      }
      if (this.index instanceof Value) {
        this.index.error('index cannot be a pattern matching expression');
      }
      this.range = this.source instanceof Value && this.source.base instanceof Range && !this.source.properties.length;
      this.pattern = this.name instanceof Value;
      if (this.range && this.index) {
        this.index.error('indexes do not apply to range loops');
      }
      if (this.range && this.pattern) {
        this.name.error('cannot pattern match over range loops');
      }
      if (this.own && !this.object) {
        this.name.error('cannot use own with for-in');
      }
      this.returns = false;
    }

    For.prototype.children = ['body', 'source', 'guard', 'step'];

    For.prototype.compileNode = function(o) {
      var body, bodyFragments, compare, compareDown, declare, declareDown, defPart, defPartFragments, down, forPartFragments, guardPart, idt1, increment, index, ivar, kvar, kvarAssign, lastJumps, lvar, name, namePart, ref, resultPart, returnResult, rvar, scope, source, step, stepNum, stepVar, svar, varPart, _ref2, _ref3;
      body = Block.wrap([this.body]);
      lastJumps = (_ref2 = last(body.expressions)) != null ? _ref2.jumps() : void 0;
      if (lastJumps && lastJumps instanceof Return) {
        this.returns = false;
      }
      source = this.range ? this.source.base : this.source;
      scope = o.scope;
      if (!this.pattern) {
        name = this.name && (this.name.compile(o, LEVEL_LIST));
      }
      index = this.index && (this.index.compile(o, LEVEL_LIST));
      if (name && !this.pattern) {
        scope.find(name);
      }
      if (index) {
        scope.find(index);
      }
      if (this.returns) {
        rvar = scope.freeVariable('results');
      }
      ivar = (this.object && index) || scope.freeVariable('i');
      kvar = (this.range && name) || index || ivar;
      kvarAssign = kvar !== ivar ? "" + kvar + " = " : "";
      if (this.step && !this.range) {
        _ref3 = this.cacheToCodeFragments(this.step.cache(o, LEVEL_LIST)), step = _ref3[0], stepVar = _ref3[1];
        stepNum = stepVar.match(NUMBER);
      }
      if (this.pattern) {
        name = ivar;
      }
      varPart = '';
      guardPart = '';
      defPart = '';
      idt1 = this.tab + TAB;
      if (this.range) {
        forPartFragments = source.compileToFragments(merge(o, {
          index: ivar,
          name: name,
          step: this.step
        }));
      } else {
        svar = this.source.compile(o, LEVEL_LIST);
        if ((name || this.own) && !IDENTIFIER.test(svar)) {
          defPart += "" + this.tab + (ref = scope.freeVariable('ref')) + " = " + svar + ";\n";
          svar = ref;
        }
        if (name && !this.pattern) {
          namePart = "" + name + " = " + svar + "[" + kvar + "]";
        }
        if (!this.object) {
          if (step !== stepVar) {
            defPart += "" + this.tab + step + ";\n";
          }
          if (!(this.step && stepNum && (down = parseNum(stepNum[0]) < 0))) {
            lvar = scope.freeVariable('len');
          }
          declare = "" + kvarAssign + ivar + " = 0, " + lvar + " = " + svar + ".length";
          declareDown = "" + kvarAssign + ivar + " = " + svar + ".length - 1";
          compare = "" + ivar + " < " + lvar;
          compareDown = "" + ivar + " >= 0";
          if (this.step) {
            if (stepNum) {
              if (down) {
                compare = compareDown;
                declare = declareDown;
              }
            } else {
              compare = "" + stepVar + " > 0 ? " + compare + " : " + compareDown;
              declare = "(" + stepVar + " > 0 ? (" + declare + ") : " + declareDown + ")";
            }
            increment = "" + ivar + " += " + stepVar;
          } else {
            increment = "" + (kvar !== ivar ? "++" + ivar : "" + ivar + "++");
          }
          forPartFragments = [this.makeCode("" + declare + "; " + compare + "; " + kvarAssign + increment)];
        }
      }
      if (this.returns) {
        resultPart = "" + this.tab + rvar + " = [];\n";
        returnResult = "\n" + this.tab + "return " + rvar + ";";
        body.makeReturn(rvar);
      }
      if (this.guard) {
        if (body.expressions.length > 1) {
          body.expressions.unshift(new If((new Parens(this.guard)).invert(), new Literal("continue")));
        } else {
          if (this.guard) {
            body = Block.wrap([new If(this.guard, body)]);
          }
        }
      }
      if (this.pattern) {
        body.expressions.unshift(new Assign(this.name, new Literal("" + svar + "[" + kvar + "]")));
      }
      defPartFragments = [].concat(this.makeCode(defPart), this.pluckDirectCall(o, body));
      if (namePart) {
        varPart = "\n" + idt1 + namePart + ";";
      }
      if (this.object) {
        forPartFragments = [this.makeCode("" + kvar + " in " + svar)];
        if (this.own) {
          guardPart = "\n" + idt1 + "if (!" + (utility('hasProp')) + ".call(" + svar + ", " + kvar + ")) continue;";
        }
      }
      bodyFragments = body.compileToFragments(merge(o, {
        indent: idt1
      }), LEVEL_TOP);
      if (bodyFragments && (bodyFragments.length > 0)) {
        bodyFragments = [].concat(this.makeCode("\n"), bodyFragments, this.makeCode("\n"));
      }
      return [].concat(defPartFragments, this.makeCode("" + (resultPart || '') + this.tab + "for ("), forPartFragments, this.makeCode(") {" + guardPart + varPart), bodyFragments, this.makeCode("" + this.tab + "}" + (returnResult || '')));
    };

    For.prototype.pluckDirectCall = function(o, body) {
      var base, defs, expr, fn, idx, ref, val, _i, _len, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8;
      defs = [];
      _ref2 = body.expressions;
      for (idx = _i = 0, _len = _ref2.length; _i < _len; idx = ++_i) {
        expr = _ref2[idx];
        expr = expr.unwrapAll();
        if (!(expr instanceof Call)) {
          continue;
        }
        val = (_ref3 = expr.variable) != null ? _ref3.unwrapAll() : void 0;
        if (!((val instanceof Code) || (val instanceof Value && ((_ref4 = val.base) != null ? _ref4.unwrapAll() : void 0) instanceof Code && val.properties.length === 1 && ((_ref5 = (_ref6 = val.properties[0].name) != null ? _ref6.value : void 0) === 'call' || _ref5 === 'apply')))) {
          continue;
        }
        fn = ((_ref7 = val.base) != null ? _ref7.unwrapAll() : void 0) || val;
        ref = new Literal(o.scope.freeVariable('fn'));
        base = new Value(ref);
        if (val.base) {
          _ref8 = [base, val], val.base = _ref8[0], base = _ref8[1];
        }
        body.expressions[idx] = new Call(base, expr.args);
        defs = defs.concat(this.makeCode(this.tab), new Assign(ref, fn).compileToFragments(o, LEVEL_TOP), this.makeCode(';\n'));
      }
      return defs;
    };

    return For;

  })(While);

  exports.Switch = Switch = (function(_super) {
    __extends(Switch, _super);

    function Switch(subject, cases, otherwise) {
      this.subject = subject;
      this.cases = cases;
      this.otherwise = otherwise;
    }

    Switch.prototype.children = ['subject', 'cases', 'otherwise'];

    Switch.prototype.isStatement = YES;

    Switch.prototype.jumps = function(o) {
      var block, conds, jumpNode, _i, _len, _ref2, _ref3, _ref4;
      if (o == null) {
        o = {
          block: true
        };
      }
      _ref2 = this.cases;
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        _ref3 = _ref2[_i], conds = _ref3[0], block = _ref3[1];
        if (jumpNode = block.jumps(o)) {
          return jumpNode;
        }
      }
      return (_ref4 = this.otherwise) != null ? _ref4.jumps(o) : void 0;
    };

    Switch.prototype.makeReturn = function(res) {
      var pair, _i, _len, _ref2, _ref3;
      _ref2 = this.cases;
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        pair = _ref2[_i];
        pair[1].makeReturn(res);
      }
      if (res) {
        this.otherwise || (this.otherwise = new Block([new Literal('void 0')]));
      }
      if ((_ref3 = this.otherwise) != null) {
        _ref3.makeReturn(res);
      }
      return this;
    };

    Switch.prototype.compileNode = function(o) {
      var block, body, cond, conditions, expr, fragments, i, idt1, idt2, _i, _j, _len, _len1, _ref2, _ref3, _ref4;
      idt1 = o.indent + TAB;
      idt2 = o.indent = idt1 + TAB;
      fragments = [].concat(this.makeCode(this.tab + "switch ("), (this.subject ? this.subject.compileToFragments(o, LEVEL_PAREN) : this.makeCode("false")), this.makeCode(") {\n"));
      _ref2 = this.cases;
      for (i = _i = 0, _len = _ref2.length; _i < _len; i = ++_i) {
        _ref3 = _ref2[i], conditions = _ref3[0], block = _ref3[1];
        _ref4 = flatten([conditions]);
        for (_j = 0, _len1 = _ref4.length; _j < _len1; _j++) {
          cond = _ref4[_j];
          if (!this.subject) {
            cond = cond.invert();
          }
          fragments = fragments.concat(this.makeCode(idt1 + "case "), cond.compileToFragments(o, LEVEL_PAREN), this.makeCode(":\n"));
        }
        if ((body = block.compileToFragments(o, LEVEL_TOP)).length > 0) {
          fragments = fragments.concat(body, this.makeCode('\n'));
        }
        if (i === this.cases.length - 1 && !this.otherwise) {
          break;
        }
        expr = this.lastNonComment(block.expressions);
        if (expr instanceof Return || (expr instanceof Literal && expr.jumps() && expr.value !== 'debugger')) {
          continue;
        }
        fragments.push(cond.makeCode(idt2 + 'break;\n'));
      }
      if (this.otherwise && this.otherwise.expressions.length) {
        fragments.push.apply(fragments, [this.makeCode(idt1 + "default:\n")].concat(__slice.call(this.otherwise.compileToFragments(o, LEVEL_TOP)), [this.makeCode("\n")]));
      }
      fragments.push(this.makeCode(this.tab + '}'));
      return fragments;
    };

    return Switch;

  })(Base);

  exports.If = If = (function(_super) {
    __extends(If, _super);

    function If(condition, body, options) {
      this.body = body;
      if (options == null) {
        options = {};
      }
      this.condition = options.type === 'unless' ? condition.invert() : condition;
      this.elseBody = null;
      this.isChain = false;
      this.soak = options.soak;
    }

    If.prototype.children = ['condition', 'body', 'elseBody'];

    If.prototype.bodyNode = function() {
      var _ref2;
      return (_ref2 = this.body) != null ? _ref2.unwrap() : void 0;
    };

    If.prototype.elseBodyNode = function() {
      var _ref2;
      return (_ref2 = this.elseBody) != null ? _ref2.unwrap() : void 0;
    };

    If.prototype.addElse = function(elseBody) {
      if (this.isChain) {
        this.elseBodyNode().addElse(elseBody);
      } else {
        this.isChain = elseBody instanceof If;
        this.elseBody = this.ensureBlock(elseBody);
        this.elseBody.updateLocationDataIfMissing(elseBody.locationData);
      }
      return this;
    };

    If.prototype.isStatement = function(o) {
      var _ref2;
      return (o != null ? o.level : void 0) === LEVEL_TOP || this.bodyNode().isStatement(o) || ((_ref2 = this.elseBodyNode()) != null ? _ref2.isStatement(o) : void 0);
    };

    If.prototype.jumps = function(o) {
      var _ref2;
      return this.body.jumps(o) || ((_ref2 = this.elseBody) != null ? _ref2.jumps(o) : void 0);
    };

    If.prototype.compileNode = function(o) {
      if (this.isStatement(o)) {
        return this.compileStatement(o);
      } else {
        return this.compileExpression(o);
      }
    };

    If.prototype.makeReturn = function(res) {
      if (res) {
        this.elseBody || (this.elseBody = new Block([new Literal('void 0')]));
      }
      this.body && (this.body = new Block([this.body.makeReturn(res)]));
      this.elseBody && (this.elseBody = new Block([this.elseBody.makeReturn(res)]));
      return this;
    };

    If.prototype.ensureBlock = function(node) {
      if (node instanceof Block) {
        return node;
      } else {
        return new Block([node]);
      }
    };

    If.prototype.compileStatement = function(o) {
      var answer, body, child, cond, exeq, ifPart, indent;
      child = del(o, 'chainChild');
      exeq = del(o, 'isExistentialEquals');
      if (exeq) {
        return new If(this.condition.invert(), this.elseBodyNode(), {
          type: 'if'
        }).compileToFragments(o);
      }
      indent = o.indent + TAB;
      cond = this.condition.compileToFragments(o, LEVEL_PAREN);
      body = this.ensureBlock(this.body).compileToFragments(merge(o, {
        indent: indent
      }));
      ifPart = [].concat(this.makeCode("if ("), cond, this.makeCode(") {\n"), body, this.makeCode("\n" + this.tab + "}"));
      if (!child) {
        ifPart.unshift(this.makeCode(this.tab));
      }
      if (!this.elseBody) {
        return ifPart;
      }
      answer = ifPart.concat(this.makeCode(' else '));
      if (this.isChain) {
        o.chainChild = true;
        answer = answer.concat(this.elseBody.unwrap().compileToFragments(o, LEVEL_TOP));
      } else {
        answer = answer.concat(this.makeCode("{\n"), this.elseBody.compileToFragments(merge(o, {
          indent: indent
        }), LEVEL_TOP), this.makeCode("\n" + this.tab + "}"));
      }
      return answer;
    };

    If.prototype.compileExpression = function(o) {
      var alt, body, cond, fragments;
      cond = this.condition.compileToFragments(o, LEVEL_COND);
      body = this.bodyNode().compileToFragments(o, LEVEL_LIST);
      alt = this.elseBodyNode() ? this.elseBodyNode().compileToFragments(o, LEVEL_LIST) : [this.makeCode('void 0')];
      fragments = cond.concat(this.makeCode(" ? "), body, this.makeCode(" : "), alt);
      if (o.level >= LEVEL_COND) {
        return this.wrapInBraces(fragments);
      } else {
        return fragments;
      }
    };

    If.prototype.unfoldSoak = function() {
      return this.soak && this;
    };

    return If;

  })(Base);

  UTILITIES = {
    "extends": function() {
      return "function(child, parent) { for (var key in parent) { if (" + (utility('hasProp')) + ".call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; }";
    },
    bind: function() {
      return 'function(fn, me){ return function(){ return fn.apply(me, arguments); }; }';
    },
    indexOf: function() {
      return "[].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; }";
    },
    modulo: function() {
      return "function(a, b) { return (+a % (b = +b) + b) % b; }";
    },
    hasProp: function() {
      return '{}.hasOwnProperty';
    },
    slice: function() {
      return '[].slice';
    }
  };

  LEVEL_TOP = 1;

  LEVEL_PAREN = 2;

  LEVEL_LIST = 3;

  LEVEL_COND = 4;

  LEVEL_OP = 5;

  LEVEL_ACCESS = 6;

  TAB = '  ';

  IDENTIFIER_STR = "[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*";

  IDENTIFIER = RegExp("^" + IDENTIFIER_STR + "$");

  SIMPLENUM = /^[+-]?\d+$/;

  HEXNUM = /^[+-]?0x[\da-f]+/i;

  NUMBER = /^[+-]?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)$/i;

  METHOD_DEF = RegExp("^(" + IDENTIFIER_STR + ")(\\.prototype)?(?:\\.(" + IDENTIFIER_STR + ")|\\[(\"(?:[^\\\\\"\\r\\n]|\\\\.)*\"|'(?:[^\\\\'\\r\\n]|\\\\.)*')\\]|\\[(0x[\\da-fA-F]+|\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\])$");

  IS_STRING = /^['"]/;

  IS_REGEX = /^\//;

  utility = function(name) {
    var ref;
    ref = "__" + name;
    Scope.root.assign(ref, UTILITIES[name]());
    return ref;
  };

  multident = function(code, tab) {
    code = code.replace(/\n/g, '$&' + tab);
    return code.replace(/\s+$/, '');
  };

  parseNum = function(x) {
    if (x == null) {
      return 0;
    } else if (x.match(HEXNUM)) {
      return parseInt(x, 16);
    } else {
      return parseFloat(x);
    }
  };

  isLiteralArguments = function(node) {
    return node instanceof Literal && node.value === 'arguments' && !node.asKey;
  };

  isLiteralThis = function(node) {
    return (node instanceof Literal && node.value === 'this' && !node.asKey) || (node instanceof Code && node.bound) || (node instanceof Call && node.isSuper);
  };

  unfoldSoak = function(o, parent, name) {
    var ifn;
    if (!(ifn = parent[name].unfoldSoak(o))) {
      return;
    }
    parent[name] = ifn.body;
    ifn.body = new Value(parent);
    return ifn;
  };

}).call(this);

},{"./helpers":31,"./lexer":32,"./scope":37}],34:[function(require,module,exports){
(function (process){
/* parser generated by jison 0.4.13 */
/*
  Returns a Parser object of the following structure:

  Parser: {
    yy: {}
  }

  Parser.prototype: {
    yy: {},
    trace: function(),
    symbols_: {associative list: name ==> number},
    terminals_: {associative list: number ==> name},
    productions_: [...],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),
    table: [...],
    defaultActions: {...},
    parseError: function(str, hash),
    parse: function(input),

    lexer: {
        EOF: 1,
        parseError: function(str, hash),
        setInput: function(input),
        input: function(),
        unput: function(str),
        more: function(),
        less: function(n),
        pastInput: function(),
        upcomingInput: function(),
        showPosition: function(),
        test_match: function(regex_match_array, rule_index),
        next: function(),
        lex: function(),
        begin: function(condition),
        popState: function(),
        _currentRules: function(),
        topState: function(),
        pushState: function(condition),

        options: {
            ranges: boolean           (optional: true ==> token location info will include a .range[] member)
            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)
            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)
        },

        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),
        rules: [...],
        conditions: {associative list: name ==> set},
    }
  }


  token location info (@$, _$, etc.): {
    first_line: n,
    last_line: n,
    first_column: n,
    last_column: n,
    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)
  }


  the parseError function receives a 'hash' object with these members for lexer and parser errors: {
    text:        (matched text)
    token:       (the produced terminal token, if any)
    line:        (yylineno)
  }
  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {
    loc:         (yylloc)
    expected:    (string describing the set of expected tokens)
    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)
  }
*/
var parser = (function(){
var parser = {trace: function trace() { },
yy: {},
symbols_: {"error":2,"Root":3,"Body":4,"Line":5,"TERMINATOR":6,"Expression":7,"Statement":8,"Return":9,"Comment":10,"STATEMENT":11,"Value":12,"Invocation":13,"Code":14,"Operation":15,"Assign":16,"If":17,"Try":18,"While":19,"For":20,"Switch":21,"Class":22,"Throw":23,"Block":24,"INDENT":25,"OUTDENT":26,"Identifier":27,"IDENTIFIER":28,"AlphaNumeric":29,"NUMBER":30,"STRING":31,"Literal":32,"JS":33,"REGEX":34,"DEBUGGER":35,"UNDEFINED":36,"NULL":37,"BOOL":38,"Assignable":39,"=":40,"AssignObj":41,"ObjAssignable":42,":":43,"ThisProperty":44,"RETURN":45,"HERECOMMENT":46,"PARAM_START":47,"ParamList":48,"PARAM_END":49,"FuncGlyph":50,"->":51,"=>":52,"OptComma":53,",":54,"Param":55,"ParamVar":56,"...":57,"Array":58,"Object":59,"Splat":60,"SimpleAssignable":61,"Accessor":62,"Parenthetical":63,"Range":64,"This":65,".":66,"?.":67,"::":68,"?::":69,"Index":70,"INDEX_START":71,"IndexValue":72,"INDEX_END":73,"INDEX_SOAK":74,"Slice":75,"{":76,"AssignList":77,"}":78,"CLASS":79,"EXTENDS":80,"OptFuncExist":81,"Arguments":82,"SUPER":83,"FUNC_EXIST":84,"CALL_START":85,"CALL_END":86,"ArgList":87,"THIS":88,"@":89,"[":90,"]":91,"RangeDots":92,"..":93,"Arg":94,"SimpleArgs":95,"TRY":96,"Catch":97,"FINALLY":98,"CATCH":99,"THROW":100,"(":101,")":102,"WhileSource":103,"WHILE":104,"WHEN":105,"UNTIL":106,"Loop":107,"LOOP":108,"ForBody":109,"FOR":110,"ForStart":111,"ForSource":112,"ForVariables":113,"OWN":114,"ForValue":115,"FORIN":116,"FOROF":117,"BY":118,"SWITCH":119,"Whens":120,"ELSE":121,"When":122,"LEADING_WHEN":123,"IfBlock":124,"IF":125,"POST_IF":126,"UNARY":127,"UNARY_MATH":128,"-":129,"+":130,"--":131,"++":132,"?":133,"MATH":134,"**":135,"SHIFT":136,"COMPARE":137,"LOGIC":138,"RELATION":139,"COMPOUND_ASSIGN":140,"$accept":0,"$end":1},
terminals_: {2:"error",6:"TERMINATOR",11:"STATEMENT",25:"INDENT",26:"OUTDENT",28:"IDENTIFIER",30:"NUMBER",31:"STRING",33:"JS",34:"REGEX",35:"DEBUGGER",36:"UNDEFINED",37:"NULL",38:"BOOL",40:"=",43:":",45:"RETURN",46:"HERECOMMENT",47:"PARAM_START",49:"PARAM_END",51:"->",52:"=>",54:",",57:"...",66:".",67:"?.",68:"::",69:"?::",71:"INDEX_START",73:"INDEX_END",74:"INDEX_SOAK",76:"{",78:"}",79:"CLASS",80:"EXTENDS",83:"SUPER",84:"FUNC_EXIST",85:"CALL_START",86:"CALL_END",88:"THIS",89:"@",90:"[",91:"]",93:"..",96:"TRY",98:"FINALLY",99:"CATCH",100:"THROW",101:"(",102:")",104:"WHILE",105:"WHEN",106:"UNTIL",108:"LOOP",110:"FOR",114:"OWN",116:"FORIN",117:"FOROF",118:"BY",119:"SWITCH",121:"ELSE",123:"LEADING_WHEN",125:"IF",126:"POST_IF",127:"UNARY",128:"UNARY_MATH",129:"-",130:"+",131:"--",132:"++",133:"?",134:"MATH",135:"**",136:"SHIFT",137:"COMPARE",138:"LOGIC",139:"RELATION",140:"COMPOUND_ASSIGN"},
productions_: [0,[3,0],[3,1],[4,1],[4,3],[4,2],[5,1],[5,1],[8,1],[8,1],[8,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[24,2],[24,3],[27,1],[29,1],[29,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[16,3],[16,4],[16,5],[41,1],[41,3],[41,5],[41,1],[42,1],[42,1],[42,1],[9,2],[9,1],[10,1],[14,5],[14,2],[50,1],[50,1],[53,0],[53,1],[48,0],[48,1],[48,3],[48,4],[48,6],[55,1],[55,2],[55,3],[55,1],[56,1],[56,1],[56,1],[56,1],[60,2],[61,1],[61,2],[61,2],[61,1],[39,1],[39,1],[39,1],[12,1],[12,1],[12,1],[12,1],[12,1],[62,2],[62,2],[62,2],[62,2],[62,1],[62,1],[70,3],[70,2],[72,1],[72,1],[59,4],[77,0],[77,1],[77,3],[77,4],[77,6],[22,1],[22,2],[22,3],[22,4],[22,2],[22,3],[22,4],[22,5],[13,3],[13,3],[13,1],[13,2],[81,0],[81,1],[82,2],[82,4],[65,1],[65,1],[44,2],[58,2],[58,4],[92,1],[92,1],[64,5],[75,3],[75,2],[75,2],[75,1],[87,1],[87,3],[87,4],[87,4],[87,6],[94,1],[94,1],[94,1],[95,1],[95,3],[18,2],[18,3],[18,4],[18,5],[97,3],[97,3],[97,2],[23,2],[63,3],[63,5],[103,2],[103,4],[103,2],[103,4],[19,2],[19,2],[19,2],[19,1],[107,2],[107,2],[20,2],[20,2],[20,2],[109,2],[109,2],[111,2],[111,3],[115,1],[115,1],[115,1],[115,1],[113,1],[113,3],[112,2],[112,2],[112,4],[112,4],[112,4],[112,6],[112,6],[21,5],[21,7],[21,4],[21,6],[120,1],[120,2],[122,3],[122,4],[124,3],[124,5],[17,1],[17,3],[17,3],[17,3],[15,2],[15,2],[15,2],[15,2],[15,2],[15,2],[15,2],[15,2],[15,2],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,5],[15,4],[15,3]],
performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {
/* this == yyval */

var $0 = $$.length - 1;
switch (yystate) {
case 1:return this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Block);
break;
case 2:return this.$ = $$[$0];
break;
case 3:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(yy.Block.wrap([$$[$0]]));
break;
case 4:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])($$[$0-2].push($$[$0]));
break;
case 5:this.$ = $$[$0-1];
break;
case 6:this.$ = $$[$0];
break;
case 7:this.$ = $$[$0];
break;
case 8:this.$ = $$[$0];
break;
case 9:this.$ = $$[$0];
break;
case 10:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Literal($$[$0]));
break;
case 11:this.$ = $$[$0];
break;
case 12:this.$ = $$[$0];
break;
case 13:this.$ = $$[$0];
break;
case 14:this.$ = $$[$0];
break;
case 15:this.$ = $$[$0];
break;
case 16:this.$ = $$[$0];
break;
case 17:this.$ = $$[$0];
break;
case 18:this.$ = $$[$0];
break;
case 19:this.$ = $$[$0];
break;
case 20:this.$ = $$[$0];
break;
case 21:this.$ = $$[$0];
break;
case 22:this.$ = $$[$0];
break;
case 23:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Block);
break;
case 24:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])($$[$0-1]);
break;
case 25:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Literal($$[$0]));
break;
case 26:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Literal($$[$0]));
break;
case 27:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Literal($$[$0]));
break;
case 28:this.$ = $$[$0];
break;
case 29:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Literal($$[$0]));
break;
case 30:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Literal($$[$0]));
break;
case 31:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Literal($$[$0]));
break;
case 32:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Undefined);
break;
case 33:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Null);
break;
case 34:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Bool($$[$0]));
break;
case 35:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Assign($$[$0-2], $$[$0]));
break;
case 36:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])(new yy.Assign($$[$0-3], $$[$0]));
break;
case 37:this.$ = yy.addLocationDataFn(_$[$0-4], _$[$0])(new yy.Assign($$[$0-4], $$[$0-1]));
break;
case 38:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Value($$[$0]));
break;
case 39:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Assign(yy.addLocationDataFn(_$[$0-2])(new yy.Value($$[$0-2])), $$[$0], 'object'));
break;
case 40:this.$ = yy.addLocationDataFn(_$[$0-4], _$[$0])(new yy.Assign(yy.addLocationDataFn(_$[$0-4])(new yy.Value($$[$0-4])), $$[$0-1], 'object'));
break;
case 41:this.$ = $$[$0];
break;
case 42:this.$ = $$[$0];
break;
case 43:this.$ = $$[$0];
break;
case 44:this.$ = $$[$0];
break;
case 45:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Return($$[$0]));
break;
case 46:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Return);
break;
case 47:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Comment($$[$0]));
break;
case 48:this.$ = yy.addLocationDataFn(_$[$0-4], _$[$0])(new yy.Code($$[$0-3], $$[$0], $$[$0-1]));
break;
case 49:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Code([], $$[$0], $$[$0-1]));
break;
case 50:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])('func');
break;
case 51:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])('boundfunc');
break;
case 52:this.$ = $$[$0];
break;
case 53:this.$ = $$[$0];
break;
case 54:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])([]);
break;
case 55:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])([$$[$0]]);
break;
case 56:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])($$[$0-2].concat($$[$0]));
break;
case 57:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])($$[$0-3].concat($$[$0]));
break;
case 58:this.$ = yy.addLocationDataFn(_$[$0-5], _$[$0])($$[$0-5].concat($$[$0-2]));
break;
case 59:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Param($$[$0]));
break;
case 60:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Param($$[$0-1], null, true));
break;
case 61:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Param($$[$0-2], $$[$0]));
break;
case 62:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Expansion);
break;
case 63:this.$ = $$[$0];
break;
case 64:this.$ = $$[$0];
break;
case 65:this.$ = $$[$0];
break;
case 66:this.$ = $$[$0];
break;
case 67:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Splat($$[$0-1]));
break;
case 68:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Value($$[$0]));
break;
case 69:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])($$[$0-1].add($$[$0]));
break;
case 70:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Value($$[$0-1], [].concat($$[$0])));
break;
case 71:this.$ = $$[$0];
break;
case 72:this.$ = $$[$0];
break;
case 73:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Value($$[$0]));
break;
case 74:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Value($$[$0]));
break;
case 75:this.$ = $$[$0];
break;
case 76:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Value($$[$0]));
break;
case 77:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Value($$[$0]));
break;
case 78:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Value($$[$0]));
break;
case 79:this.$ = $$[$0];
break;
case 80:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Access($$[$0]));
break;
case 81:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Access($$[$0], 'soak'));
break;
case 82:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])([yy.addLocationDataFn(_$[$0-1])(new yy.Access(new yy.Literal('prototype'))), yy.addLocationDataFn(_$[$0])(new yy.Access($$[$0]))]);
break;
case 83:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])([yy.addLocationDataFn(_$[$0-1])(new yy.Access(new yy.Literal('prototype'), 'soak')), yy.addLocationDataFn(_$[$0])(new yy.Access($$[$0]))]);
break;
case 84:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Access(new yy.Literal('prototype')));
break;
case 85:this.$ = $$[$0];
break;
case 86:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])($$[$0-1]);
break;
case 87:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(yy.extend($$[$0], {
          soak: true
        }));
break;
case 88:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Index($$[$0]));
break;
case 89:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Slice($$[$0]));
break;
case 90:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])(new yy.Obj($$[$0-2], $$[$0-3].generated));
break;
case 91:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])([]);
break;
case 92:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])([$$[$0]]);
break;
case 93:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])($$[$0-2].concat($$[$0]));
break;
case 94:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])($$[$0-3].concat($$[$0]));
break;
case 95:this.$ = yy.addLocationDataFn(_$[$0-5], _$[$0])($$[$0-5].concat($$[$0-2]));
break;
case 96:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Class);
break;
case 97:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Class(null, null, $$[$0]));
break;
case 98:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Class(null, $$[$0]));
break;
case 99:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])(new yy.Class(null, $$[$0-1], $$[$0]));
break;
case 100:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Class($$[$0]));
break;
case 101:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Class($$[$0-1], null, $$[$0]));
break;
case 102:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])(new yy.Class($$[$0-2], $$[$0]));
break;
case 103:this.$ = yy.addLocationDataFn(_$[$0-4], _$[$0])(new yy.Class($$[$0-3], $$[$0-1], $$[$0]));
break;
case 104:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Call($$[$0-2], $$[$0], $$[$0-1]));
break;
case 105:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Call($$[$0-2], $$[$0], $$[$0-1]));
break;
case 106:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Call('super', [new yy.Splat(new yy.Literal('arguments'))]));
break;
case 107:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Call('super', $$[$0]));
break;
case 108:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(false);
break;
case 109:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(true);
break;
case 110:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])([]);
break;
case 111:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])($$[$0-2]);
break;
case 112:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Value(new yy.Literal('this')));
break;
case 113:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Value(new yy.Literal('this')));
break;
case 114:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Value(yy.addLocationDataFn(_$[$0-1])(new yy.Literal('this')), [yy.addLocationDataFn(_$[$0])(new yy.Access($$[$0]))], 'this'));
break;
case 115:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Arr([]));
break;
case 116:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])(new yy.Arr($$[$0-2]));
break;
case 117:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])('inclusive');
break;
case 118:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])('exclusive');
break;
case 119:this.$ = yy.addLocationDataFn(_$[$0-4], _$[$0])(new yy.Range($$[$0-3], $$[$0-1], $$[$0-2]));
break;
case 120:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Range($$[$0-2], $$[$0], $$[$0-1]));
break;
case 121:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Range($$[$0-1], null, $$[$0]));
break;
case 122:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Range(null, $$[$0], $$[$0-1]));
break;
case 123:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Range(null, null, $$[$0]));
break;
case 124:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])([$$[$0]]);
break;
case 125:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])($$[$0-2].concat($$[$0]));
break;
case 126:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])($$[$0-3].concat($$[$0]));
break;
case 127:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])($$[$0-2]);
break;
case 128:this.$ = yy.addLocationDataFn(_$[$0-5], _$[$0])($$[$0-5].concat($$[$0-2]));
break;
case 129:this.$ = $$[$0];
break;
case 130:this.$ = $$[$0];
break;
case 131:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Expansion);
break;
case 132:this.$ = $$[$0];
break;
case 133:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])([].concat($$[$0-2], $$[$0]));
break;
case 134:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Try($$[$0]));
break;
case 135:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Try($$[$0-1], $$[$0][0], $$[$0][1]));
break;
case 136:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])(new yy.Try($$[$0-2], null, null, $$[$0]));
break;
case 137:this.$ = yy.addLocationDataFn(_$[$0-4], _$[$0])(new yy.Try($$[$0-3], $$[$0-2][0], $$[$0-2][1], $$[$0]));
break;
case 138:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])([$$[$0-1], $$[$0]]);
break;
case 139:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])([yy.addLocationDataFn(_$[$0-1])(new yy.Value($$[$0-1])), $$[$0]]);
break;
case 140:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])([null, $$[$0]]);
break;
case 141:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Throw($$[$0]));
break;
case 142:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Parens($$[$0-1]));
break;
case 143:this.$ = yy.addLocationDataFn(_$[$0-4], _$[$0])(new yy.Parens($$[$0-2]));
break;
case 144:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.While($$[$0]));
break;
case 145:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])(new yy.While($$[$0-2], {
          guard: $$[$0]
        }));
break;
case 146:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.While($$[$0], {
          invert: true
        }));
break;
case 147:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])(new yy.While($$[$0-2], {
          invert: true,
          guard: $$[$0]
        }));
break;
case 148:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])($$[$0-1].addBody($$[$0]));
break;
case 149:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])($$[$0].addBody(yy.addLocationDataFn(_$[$0-1])(yy.Block.wrap([$$[$0-1]]))));
break;
case 150:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])($$[$0].addBody(yy.addLocationDataFn(_$[$0-1])(yy.Block.wrap([$$[$0-1]]))));
break;
case 151:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])($$[$0]);
break;
case 152:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.While(yy.addLocationDataFn(_$[$0-1])(new yy.Literal('true'))).addBody($$[$0]));
break;
case 153:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.While(yy.addLocationDataFn(_$[$0-1])(new yy.Literal('true'))).addBody(yy.addLocationDataFn(_$[$0])(yy.Block.wrap([$$[$0]]))));
break;
case 154:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.For($$[$0-1], $$[$0]));
break;
case 155:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.For($$[$0-1], $$[$0]));
break;
case 156:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.For($$[$0], $$[$0-1]));
break;
case 157:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])({
          source: yy.addLocationDataFn(_$[$0])(new yy.Value($$[$0]))
        });
break;
case 158:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])((function () {
        $$[$0].own = $$[$0-1].own;
        $$[$0].name = $$[$0-1][0];
        $$[$0].index = $$[$0-1][1];
        return $$[$0];
      }()));
break;
case 159:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])($$[$0]);
break;
case 160:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])((function () {
        $$[$0].own = true;
        return $$[$0];
      }()));
break;
case 161:this.$ = $$[$0];
break;
case 162:this.$ = $$[$0];
break;
case 163:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Value($$[$0]));
break;
case 164:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])(new yy.Value($$[$0]));
break;
case 165:this.$ = yy.addLocationDataFn(_$[$0], _$[$0])([$$[$0]]);
break;
case 166:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])([$$[$0-2], $$[$0]]);
break;
case 167:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])({
          source: $$[$0]
        });
break;
case 168:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])({
          source: $$[$0],
          object: true
        });
break;
case 169:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])({
          source: $$[$0-2],
          guard: $$[$0]
        });
break;
case 170:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])({
          source: $$[$0-2],
          guard: $$[$0],
          object: true
        });
break;
case 171:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])({
          source: $$[$0-2],
          step: $$[$0]
        });
break;
case 172:this.$ = yy.addLocationDataFn(_$[$0-5], _$[$0])({
          source: $$[$0-4],
          guard: $$[$0-2],
          step: $$[$0]
        });
break;
case 173:this.$ = yy.addLocationDataFn(_$[$0-5], _$[$0])({
          source: $$[$0-4],
          step: $$[$0-2],
          guard: $$[$0]
        });
break;
case 174:this.$ = yy.addLocationDataFn(_$[$0-4], _$[$0])(new yy.Switch($$[$0-3], $$[$0-1]));
break;
case 175:this.$ = yy.addLocationDataFn(_$[$0-6], _$[$0])(new yy.Switch($$[$0-5], $$[$0-3], $$[$0-1]));
break;
case 176:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])(new yy.Switch(null, $$[$0-1]));
break;
case 177:this.$ = yy.addLocationDataFn(_$[$0-5], _$[$0])(new yy.Switch(null, $$[$0-3], $$[$0-1]));
break;
case 178:this.$ = $$[$0];
break;
case 179:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])($$[$0-1].concat($$[$0]));
break;
case 180:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])([[$$[$0-1], $$[$0]]]);
break;
case 181:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])([[$$[$0-2], $$[$0-1]]]);
break;
case 182:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.If($$[$0-1], $$[$0], {
          type: $$[$0-2]
        }));
break;
case 183:this.$ = yy.addLocationDataFn(_$[$0-4], _$[$0])($$[$0-4].addElse(yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.If($$[$0-1], $$[$0], {
          type: $$[$0-2]
        }))));
break;
case 184:this.$ = $$[$0];
break;
case 185:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])($$[$0-2].addElse($$[$0]));
break;
case 186:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.If($$[$0], yy.addLocationDataFn(_$[$0-2])(yy.Block.wrap([$$[$0-2]])), {
          type: $$[$0-1],
          statement: true
        }));
break;
case 187:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.If($$[$0], yy.addLocationDataFn(_$[$0-2])(yy.Block.wrap([$$[$0-2]])), {
          type: $$[$0-1],
          statement: true
        }));
break;
case 188:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Op($$[$0-1], $$[$0]));
break;
case 189:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Op($$[$0-1], $$[$0]));
break;
case 190:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Op('-', $$[$0]));
break;
case 191:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Op('+', $$[$0]));
break;
case 192:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Op('--', $$[$0]));
break;
case 193:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Op('++', $$[$0]));
break;
case 194:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Op('--', $$[$0-1], null, true));
break;
case 195:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Op('++', $$[$0-1], null, true));
break;
case 196:this.$ = yy.addLocationDataFn(_$[$0-1], _$[$0])(new yy.Existence($$[$0-1]));
break;
case 197:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Op('+', $$[$0-2], $$[$0]));
break;
case 198:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Op('-', $$[$0-2], $$[$0]));
break;
case 199:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Op($$[$0-1], $$[$0-2], $$[$0]));
break;
case 200:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Op($$[$0-1], $$[$0-2], $$[$0]));
break;
case 201:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Op($$[$0-1], $$[$0-2], $$[$0]));
break;
case 202:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Op($$[$0-1], $$[$0-2], $$[$0]));
break;
case 203:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Op($$[$0-1], $$[$0-2], $$[$0]));
break;
case 204:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])((function () {
        if ($$[$0-1].charAt(0) === '!') {
          return new yy.Op($$[$0-1].slice(1), $$[$0-2], $$[$0]).invert();
        } else {
          return new yy.Op($$[$0-1], $$[$0-2], $$[$0]);
        }
      }()));
break;
case 205:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Assign($$[$0-2], $$[$0], $$[$0-1]));
break;
case 206:this.$ = yy.addLocationDataFn(_$[$0-4], _$[$0])(new yy.Assign($$[$0-4], $$[$0-1], $$[$0-3]));
break;
case 207:this.$ = yy.addLocationDataFn(_$[$0-3], _$[$0])(new yy.Assign($$[$0-3], $$[$0], $$[$0-2]));
break;
case 208:this.$ = yy.addLocationDataFn(_$[$0-2], _$[$0])(new yy.Extends($$[$0-2], $$[$0]));
break;
}
},
table: [{1:[2,1],3:1,4:2,5:3,7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[3]},{1:[2,2],6:[1,73]},{1:[2,3],6:[2,3],26:[2,3],102:[2,3]},{1:[2,6],6:[2,6],26:[2,6],102:[2,6],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,7],6:[2,7],26:[2,7],102:[2,7],103:87,104:[1,64],106:[1,65],109:88,110:[1,67],111:68,126:[1,86]},{1:[2,11],6:[2,11],25:[2,11],26:[2,11],49:[2,11],54:[2,11],57:[2,11],62:90,66:[1,92],67:[1,93],68:[1,94],69:[1,95],70:96,71:[1,97],73:[2,11],74:[1,98],78:[2,11],81:89,84:[1,91],85:[2,108],86:[2,11],91:[2,11],93:[2,11],102:[2,11],104:[2,11],105:[2,11],106:[2,11],110:[2,11],118:[2,11],126:[2,11],129:[2,11],130:[2,11],133:[2,11],134:[2,11],135:[2,11],136:[2,11],137:[2,11],138:[2,11],139:[2,11]},{1:[2,12],6:[2,12],25:[2,12],26:[2,12],49:[2,12],54:[2,12],57:[2,12],62:100,66:[1,92],67:[1,93],68:[1,94],69:[1,95],70:96,71:[1,97],73:[2,12],74:[1,98],78:[2,12],81:99,84:[1,91],85:[2,108],86:[2,12],91:[2,12],93:[2,12],102:[2,12],104:[2,12],105:[2,12],106:[2,12],110:[2,12],118:[2,12],126:[2,12],129:[2,12],130:[2,12],133:[2,12],134:[2,12],135:[2,12],136:[2,12],137:[2,12],138:[2,12],139:[2,12]},{1:[2,13],6:[2,13],25:[2,13],26:[2,13],49:[2,13],54:[2,13],57:[2,13],73:[2,13],78:[2,13],86:[2,13],91:[2,13],93:[2,13],102:[2,13],104:[2,13],105:[2,13],106:[2,13],110:[2,13],118:[2,13],126:[2,13],129:[2,13],130:[2,13],133:[2,13],134:[2,13],135:[2,13],136:[2,13],137:[2,13],138:[2,13],139:[2,13]},{1:[2,14],6:[2,14],25:[2,14],26:[2,14],49:[2,14],54:[2,14],57:[2,14],73:[2,14],78:[2,14],86:[2,14],91:[2,14],93:[2,14],102:[2,14],104:[2,14],105:[2,14],106:[2,14],110:[2,14],118:[2,14],126:[2,14],129:[2,14],130:[2,14],133:[2,14],134:[2,14],135:[2,14],136:[2,14],137:[2,14],138:[2,14],139:[2,14]},{1:[2,15],6:[2,15],25:[2,15],26:[2,15],49:[2,15],54:[2,15],57:[2,15],73:[2,15],78:[2,15],86:[2,15],91:[2,15],93:[2,15],102:[2,15],104:[2,15],105:[2,15],106:[2,15],110:[2,15],118:[2,15],126:[2,15],129:[2,15],130:[2,15],133:[2,15],134:[2,15],135:[2,15],136:[2,15],137:[2,15],138:[2,15],139:[2,15]},{1:[2,16],6:[2,16],25:[2,16],26:[2,16],49:[2,16],54:[2,16],57:[2,16],73:[2,16],78:[2,16],86:[2,16],91:[2,16],93:[2,16],102:[2,16],104:[2,16],105:[2,16],106:[2,16],110:[2,16],118:[2,16],126:[2,16],129:[2,16],130:[2,16],133:[2,16],134:[2,16],135:[2,16],136:[2,16],137:[2,16],138:[2,16],139:[2,16]},{1:[2,17],6:[2,17],25:[2,17],26:[2,17],49:[2,17],54:[2,17],57:[2,17],73:[2,17],78:[2,17],86:[2,17],91:[2,17],93:[2,17],102:[2,17],104:[2,17],105:[2,17],106:[2,17],110:[2,17],118:[2,17],126:[2,17],129:[2,17],130:[2,17],133:[2,17],134:[2,17],135:[2,17],136:[2,17],137:[2,17],138:[2,17],139:[2,17]},{1:[2,18],6:[2,18],25:[2,18],26:[2,18],49:[2,18],54:[2,18],57:[2,18],73:[2,18],78:[2,18],86:[2,18],91:[2,18],93:[2,18],102:[2,18],104:[2,18],105:[2,18],106:[2,18],110:[2,18],118:[2,18],126:[2,18],129:[2,18],130:[2,18],133:[2,18],134:[2,18],135:[2,18],136:[2,18],137:[2,18],138:[2,18],139:[2,18]},{1:[2,19],6:[2,19],25:[2,19],26:[2,19],49:[2,19],54:[2,19],57:[2,19],73:[2,19],78:[2,19],86:[2,19],91:[2,19],93:[2,19],102:[2,19],104:[2,19],105:[2,19],106:[2,19],110:[2,19],118:[2,19],126:[2,19],129:[2,19],130:[2,19],133:[2,19],134:[2,19],135:[2,19],136:[2,19],137:[2,19],138:[2,19],139:[2,19]},{1:[2,20],6:[2,20],25:[2,20],26:[2,20],49:[2,20],54:[2,20],57:[2,20],73:[2,20],78:[2,20],86:[2,20],91:[2,20],93:[2,20],102:[2,20],104:[2,20],105:[2,20],106:[2,20],110:[2,20],118:[2,20],126:[2,20],129:[2,20],130:[2,20],133:[2,20],134:[2,20],135:[2,20],136:[2,20],137:[2,20],138:[2,20],139:[2,20]},{1:[2,21],6:[2,21],25:[2,21],26:[2,21],49:[2,21],54:[2,21],57:[2,21],73:[2,21],78:[2,21],86:[2,21],91:[2,21],93:[2,21],102:[2,21],104:[2,21],105:[2,21],106:[2,21],110:[2,21],118:[2,21],126:[2,21],129:[2,21],130:[2,21],133:[2,21],134:[2,21],135:[2,21],136:[2,21],137:[2,21],138:[2,21],139:[2,21]},{1:[2,22],6:[2,22],25:[2,22],26:[2,22],49:[2,22],54:[2,22],57:[2,22],73:[2,22],78:[2,22],86:[2,22],91:[2,22],93:[2,22],102:[2,22],104:[2,22],105:[2,22],106:[2,22],110:[2,22],118:[2,22],126:[2,22],129:[2,22],130:[2,22],133:[2,22],134:[2,22],135:[2,22],136:[2,22],137:[2,22],138:[2,22],139:[2,22]},{1:[2,8],6:[2,8],26:[2,8],102:[2,8],104:[2,8],106:[2,8],110:[2,8],126:[2,8]},{1:[2,9],6:[2,9],26:[2,9],102:[2,9],104:[2,9],106:[2,9],110:[2,9],126:[2,9]},{1:[2,10],6:[2,10],26:[2,10],102:[2,10],104:[2,10],106:[2,10],110:[2,10],126:[2,10]},{1:[2,75],6:[2,75],25:[2,75],26:[2,75],40:[1,101],49:[2,75],54:[2,75],57:[2,75],66:[2,75],67:[2,75],68:[2,75],69:[2,75],71:[2,75],73:[2,75],74:[2,75],78:[2,75],84:[2,75],85:[2,75],86:[2,75],91:[2,75],93:[2,75],102:[2,75],104:[2,75],105:[2,75],106:[2,75],110:[2,75],118:[2,75],126:[2,75],129:[2,75],130:[2,75],133:[2,75],134:[2,75],135:[2,75],136:[2,75],137:[2,75],138:[2,75],139:[2,75]},{1:[2,76],6:[2,76],25:[2,76],26:[2,76],49:[2,76],54:[2,76],57:[2,76],66:[2,76],67:[2,76],68:[2,76],69:[2,76],71:[2,76],73:[2,76],74:[2,76],78:[2,76],84:[2,76],85:[2,76],86:[2,76],91:[2,76],93:[2,76],102:[2,76],104:[2,76],105:[2,76],106:[2,76],110:[2,76],118:[2,76],126:[2,76],129:[2,76],130:[2,76],133:[2,76],134:[2,76],135:[2,76],136:[2,76],137:[2,76],138:[2,76],139:[2,76]},{1:[2,77],6:[2,77],25:[2,77],26:[2,77],49:[2,77],54:[2,77],57:[2,77],66:[2,77],67:[2,77],68:[2,77],69:[2,77],71:[2,77],73:[2,77],74:[2,77],78:[2,77],84:[2,77],85:[2,77],86:[2,77],91:[2,77],93:[2,77],102:[2,77],104:[2,77],105:[2,77],106:[2,77],110:[2,77],118:[2,77],126:[2,77],129:[2,77],130:[2,77],133:[2,77],134:[2,77],135:[2,77],136:[2,77],137:[2,77],138:[2,77],139:[2,77]},{1:[2,78],6:[2,78],25:[2,78],26:[2,78],49:[2,78],54:[2,78],57:[2,78],66:[2,78],67:[2,78],68:[2,78],69:[2,78],71:[2,78],73:[2,78],74:[2,78],78:[2,78],84:[2,78],85:[2,78],86:[2,78],91:[2,78],93:[2,78],102:[2,78],104:[2,78],105:[2,78],106:[2,78],110:[2,78],118:[2,78],126:[2,78],129:[2,78],130:[2,78],133:[2,78],134:[2,78],135:[2,78],136:[2,78],137:[2,78],138:[2,78],139:[2,78]},{1:[2,79],6:[2,79],25:[2,79],26:[2,79],49:[2,79],54:[2,79],57:[2,79],66:[2,79],67:[2,79],68:[2,79],69:[2,79],71:[2,79],73:[2,79],74:[2,79],78:[2,79],84:[2,79],85:[2,79],86:[2,79],91:[2,79],93:[2,79],102:[2,79],104:[2,79],105:[2,79],106:[2,79],110:[2,79],118:[2,79],126:[2,79],129:[2,79],130:[2,79],133:[2,79],134:[2,79],135:[2,79],136:[2,79],137:[2,79],138:[2,79],139:[2,79]},{1:[2,106],6:[2,106],25:[2,106],26:[2,106],49:[2,106],54:[2,106],57:[2,106],66:[2,106],67:[2,106],68:[2,106],69:[2,106],71:[2,106],73:[2,106],74:[2,106],78:[2,106],82:102,84:[2,106],85:[1,103],86:[2,106],91:[2,106],93:[2,106],102:[2,106],104:[2,106],105:[2,106],106:[2,106],110:[2,106],118:[2,106],126:[2,106],129:[2,106],130:[2,106],133:[2,106],134:[2,106],135:[2,106],136:[2,106],137:[2,106],138:[2,106],139:[2,106]},{6:[2,54],25:[2,54],27:108,28:[1,72],44:109,48:104,49:[2,54],54:[2,54],55:105,56:106,57:[1,107],58:110,59:111,76:[1,69],89:[1,112],90:[1,113]},{24:114,25:[1,115]},{7:116,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:118,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:119,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:120,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{12:122,13:123,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:124,44:62,58:46,59:47,61:121,63:23,64:24,65:25,76:[1,69],83:[1,26],88:[1,57],89:[1,58],90:[1,56],101:[1,55]},{12:122,13:123,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:124,44:62,58:46,59:47,61:125,63:23,64:24,65:25,76:[1,69],83:[1,26],88:[1,57],89:[1,58],90:[1,56],101:[1,55]},{1:[2,72],6:[2,72],25:[2,72],26:[2,72],40:[2,72],49:[2,72],54:[2,72],57:[2,72],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,72],74:[2,72],78:[2,72],80:[1,129],84:[2,72],85:[2,72],86:[2,72],91:[2,72],93:[2,72],102:[2,72],104:[2,72],105:[2,72],106:[2,72],110:[2,72],118:[2,72],126:[2,72],129:[2,72],130:[2,72],131:[1,126],132:[1,127],133:[2,72],134:[2,72],135:[2,72],136:[2,72],137:[2,72],138:[2,72],139:[2,72],140:[1,128]},{1:[2,184],6:[2,184],25:[2,184],26:[2,184],49:[2,184],54:[2,184],57:[2,184],73:[2,184],78:[2,184],86:[2,184],91:[2,184],93:[2,184],102:[2,184],104:[2,184],105:[2,184],106:[2,184],110:[2,184],118:[2,184],121:[1,130],126:[2,184],129:[2,184],130:[2,184],133:[2,184],134:[2,184],135:[2,184],136:[2,184],137:[2,184],138:[2,184],139:[2,184]},{24:131,25:[1,115]},{24:132,25:[1,115]},{1:[2,151],6:[2,151],25:[2,151],26:[2,151],49:[2,151],54:[2,151],57:[2,151],73:[2,151],78:[2,151],86:[2,151],91:[2,151],93:[2,151],102:[2,151],104:[2,151],105:[2,151],106:[2,151],110:[2,151],118:[2,151],126:[2,151],129:[2,151],130:[2,151],133:[2,151],134:[2,151],135:[2,151],136:[2,151],137:[2,151],138:[2,151],139:[2,151]},{24:133,25:[1,115]},{7:134,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,135],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,96],6:[2,96],12:122,13:123,24:136,25:[1,115],26:[2,96],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:124,44:62,49:[2,96],54:[2,96],57:[2,96],58:46,59:47,61:138,63:23,64:24,65:25,73:[2,96],76:[1,69],78:[2,96],80:[1,137],83:[1,26],86:[2,96],88:[1,57],89:[1,58],90:[1,56],91:[2,96],93:[2,96],101:[1,55],102:[2,96],104:[2,96],105:[2,96],106:[2,96],110:[2,96],118:[2,96],126:[2,96],129:[2,96],130:[2,96],133:[2,96],134:[2,96],135:[2,96],136:[2,96],137:[2,96],138:[2,96],139:[2,96]},{7:139,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,46],6:[2,46],7:140,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,26:[2,46],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],102:[2,46],103:38,104:[2,46],106:[2,46],107:39,108:[1,66],109:40,110:[2,46],111:68,119:[1,41],124:36,125:[1,63],126:[2,46],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,47],6:[2,47],25:[2,47],26:[2,47],54:[2,47],78:[2,47],102:[2,47],104:[2,47],106:[2,47],110:[2,47],126:[2,47]},{1:[2,73],6:[2,73],25:[2,73],26:[2,73],40:[2,73],49:[2,73],54:[2,73],57:[2,73],66:[2,73],67:[2,73],68:[2,73],69:[2,73],71:[2,73],73:[2,73],74:[2,73],78:[2,73],84:[2,73],85:[2,73],86:[2,73],91:[2,73],93:[2,73],102:[2,73],104:[2,73],105:[2,73],106:[2,73],110:[2,73],118:[2,73],126:[2,73],129:[2,73],130:[2,73],133:[2,73],134:[2,73],135:[2,73],136:[2,73],137:[2,73],138:[2,73],139:[2,73]},{1:[2,74],6:[2,74],25:[2,74],26:[2,74],40:[2,74],49:[2,74],54:[2,74],57:[2,74],66:[2,74],67:[2,74],68:[2,74],69:[2,74],71:[2,74],73:[2,74],74:[2,74],78:[2,74],84:[2,74],85:[2,74],86:[2,74],91:[2,74],93:[2,74],102:[2,74],104:[2,74],105:[2,74],106:[2,74],110:[2,74],118:[2,74],126:[2,74],129:[2,74],130:[2,74],133:[2,74],134:[2,74],135:[2,74],136:[2,74],137:[2,74],138:[2,74],139:[2,74]},{1:[2,28],6:[2,28],25:[2,28],26:[2,28],49:[2,28],54:[2,28],57:[2,28],66:[2,28],67:[2,28],68:[2,28],69:[2,28],71:[2,28],73:[2,28],74:[2,28],78:[2,28],84:[2,28],85:[2,28],86:[2,28],91:[2,28],93:[2,28],102:[2,28],104:[2,28],105:[2,28],106:[2,28],110:[2,28],118:[2,28],126:[2,28],129:[2,28],130:[2,28],133:[2,28],134:[2,28],135:[2,28],136:[2,28],137:[2,28],138:[2,28],139:[2,28]},{1:[2,29],6:[2,29],25:[2,29],26:[2,29],49:[2,29],54:[2,29],57:[2,29],66:[2,29],67:[2,29],68:[2,29],69:[2,29],71:[2,29],73:[2,29],74:[2,29],78:[2,29],84:[2,29],85:[2,29],86:[2,29],91:[2,29],93:[2,29],102:[2,29],104:[2,29],105:[2,29],106:[2,29],110:[2,29],118:[2,29],126:[2,29],129:[2,29],130:[2,29],133:[2,29],134:[2,29],135:[2,29],136:[2,29],137:[2,29],138:[2,29],139:[2,29]},{1:[2,30],6:[2,30],25:[2,30],26:[2,30],49:[2,30],54:[2,30],57:[2,30],66:[2,30],67:[2,30],68:[2,30],69:[2,30],71:[2,30],73:[2,30],74:[2,30],78:[2,30],84:[2,30],85:[2,30],86:[2,30],91:[2,30],93:[2,30],102:[2,30],104:[2,30],105:[2,30],106:[2,30],110:[2,30],118:[2,30],126:[2,30],129:[2,30],130:[2,30],133:[2,30],134:[2,30],135:[2,30],136:[2,30],137:[2,30],138:[2,30],139:[2,30]},{1:[2,31],6:[2,31],25:[2,31],26:[2,31],49:[2,31],54:[2,31],57:[2,31],66:[2,31],67:[2,31],68:[2,31],69:[2,31],71:[2,31],73:[2,31],74:[2,31],78:[2,31],84:[2,31],85:[2,31],86:[2,31],91:[2,31],93:[2,31],102:[2,31],104:[2,31],105:[2,31],106:[2,31],110:[2,31],118:[2,31],126:[2,31],129:[2,31],130:[2,31],133:[2,31],134:[2,31],135:[2,31],136:[2,31],137:[2,31],138:[2,31],139:[2,31]},{1:[2,32],6:[2,32],25:[2,32],26:[2,32],49:[2,32],54:[2,32],57:[2,32],66:[2,32],67:[2,32],68:[2,32],69:[2,32],71:[2,32],73:[2,32],74:[2,32],78:[2,32],84:[2,32],85:[2,32],86:[2,32],91:[2,32],93:[2,32],102:[2,32],104:[2,32],105:[2,32],106:[2,32],110:[2,32],118:[2,32],126:[2,32],129:[2,32],130:[2,32],133:[2,32],134:[2,32],135:[2,32],136:[2,32],137:[2,32],138:[2,32],139:[2,32]},{1:[2,33],6:[2,33],25:[2,33],26:[2,33],49:[2,33],54:[2,33],57:[2,33],66:[2,33],67:[2,33],68:[2,33],69:[2,33],71:[2,33],73:[2,33],74:[2,33],78:[2,33],84:[2,33],85:[2,33],86:[2,33],91:[2,33],93:[2,33],102:[2,33],104:[2,33],105:[2,33],106:[2,33],110:[2,33],118:[2,33],126:[2,33],129:[2,33],130:[2,33],133:[2,33],134:[2,33],135:[2,33],136:[2,33],137:[2,33],138:[2,33],139:[2,33]},{1:[2,34],6:[2,34],25:[2,34],26:[2,34],49:[2,34],54:[2,34],57:[2,34],66:[2,34],67:[2,34],68:[2,34],69:[2,34],71:[2,34],73:[2,34],74:[2,34],78:[2,34],84:[2,34],85:[2,34],86:[2,34],91:[2,34],93:[2,34],102:[2,34],104:[2,34],105:[2,34],106:[2,34],110:[2,34],118:[2,34],126:[2,34],129:[2,34],130:[2,34],133:[2,34],134:[2,34],135:[2,34],136:[2,34],137:[2,34],138:[2,34],139:[2,34]},{4:141,5:3,7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,142],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:143,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],87:145,88:[1,57],89:[1,58],90:[1,56],91:[1,144],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,112],6:[2,112],25:[2,112],26:[2,112],49:[2,112],54:[2,112],57:[2,112],66:[2,112],67:[2,112],68:[2,112],69:[2,112],71:[2,112],73:[2,112],74:[2,112],78:[2,112],84:[2,112],85:[2,112],86:[2,112],91:[2,112],93:[2,112],102:[2,112],104:[2,112],105:[2,112],106:[2,112],110:[2,112],118:[2,112],126:[2,112],129:[2,112],130:[2,112],133:[2,112],134:[2,112],135:[2,112],136:[2,112],137:[2,112],138:[2,112],139:[2,112]},{1:[2,113],6:[2,113],25:[2,113],26:[2,113],27:150,28:[1,72],49:[2,113],54:[2,113],57:[2,113],66:[2,113],67:[2,113],68:[2,113],69:[2,113],71:[2,113],73:[2,113],74:[2,113],78:[2,113],84:[2,113],85:[2,113],86:[2,113],91:[2,113],93:[2,113],102:[2,113],104:[2,113],105:[2,113],106:[2,113],110:[2,113],118:[2,113],126:[2,113],129:[2,113],130:[2,113],133:[2,113],134:[2,113],135:[2,113],136:[2,113],137:[2,113],138:[2,113],139:[2,113]},{25:[2,50]},{25:[2,51]},{1:[2,68],6:[2,68],25:[2,68],26:[2,68],40:[2,68],49:[2,68],54:[2,68],57:[2,68],66:[2,68],67:[2,68],68:[2,68],69:[2,68],71:[2,68],73:[2,68],74:[2,68],78:[2,68],80:[2,68],84:[2,68],85:[2,68],86:[2,68],91:[2,68],93:[2,68],102:[2,68],104:[2,68],105:[2,68],106:[2,68],110:[2,68],118:[2,68],126:[2,68],129:[2,68],130:[2,68],131:[2,68],132:[2,68],133:[2,68],134:[2,68],135:[2,68],136:[2,68],137:[2,68],138:[2,68],139:[2,68],140:[2,68]},{1:[2,71],6:[2,71],25:[2,71],26:[2,71],40:[2,71],49:[2,71],54:[2,71],57:[2,71],66:[2,71],67:[2,71],68:[2,71],69:[2,71],71:[2,71],73:[2,71],74:[2,71],78:[2,71],80:[2,71],84:[2,71],85:[2,71],86:[2,71],91:[2,71],93:[2,71],102:[2,71],104:[2,71],105:[2,71],106:[2,71],110:[2,71],118:[2,71],126:[2,71],129:[2,71],130:[2,71],131:[2,71],132:[2,71],133:[2,71],134:[2,71],135:[2,71],136:[2,71],137:[2,71],138:[2,71],139:[2,71],140:[2,71]},{7:151,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:152,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:153,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:155,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,24:154,25:[1,115],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{27:160,28:[1,72],44:161,58:162,59:163,64:156,76:[1,69],89:[1,112],90:[1,56],113:157,114:[1,158],115:159},{112:164,116:[1,165],117:[1,166]},{6:[2,91],10:170,25:[2,91],27:171,28:[1,72],29:172,30:[1,70],31:[1,71],41:168,42:169,44:173,46:[1,45],54:[2,91],77:167,78:[2,91],89:[1,112]},{1:[2,26],6:[2,26],25:[2,26],26:[2,26],43:[2,26],49:[2,26],54:[2,26],57:[2,26],66:[2,26],67:[2,26],68:[2,26],69:[2,26],71:[2,26],73:[2,26],74:[2,26],78:[2,26],84:[2,26],85:[2,26],86:[2,26],91:[2,26],93:[2,26],102:[2,26],104:[2,26],105:[2,26],106:[2,26],110:[2,26],118:[2,26],126:[2,26],129:[2,26],130:[2,26],133:[2,26],134:[2,26],135:[2,26],136:[2,26],137:[2,26],138:[2,26],139:[2,26]},{1:[2,27],6:[2,27],25:[2,27],26:[2,27],43:[2,27],49:[2,27],54:[2,27],57:[2,27],66:[2,27],67:[2,27],68:[2,27],69:[2,27],71:[2,27],73:[2,27],74:[2,27],78:[2,27],84:[2,27],85:[2,27],86:[2,27],91:[2,27],93:[2,27],102:[2,27],104:[2,27],105:[2,27],106:[2,27],110:[2,27],118:[2,27],126:[2,27],129:[2,27],130:[2,27],133:[2,27],134:[2,27],135:[2,27],136:[2,27],137:[2,27],138:[2,27],139:[2,27]},{1:[2,25],6:[2,25],25:[2,25],26:[2,25],40:[2,25],43:[2,25],49:[2,25],54:[2,25],57:[2,25],66:[2,25],67:[2,25],68:[2,25],69:[2,25],71:[2,25],73:[2,25],74:[2,25],78:[2,25],80:[2,25],84:[2,25],85:[2,25],86:[2,25],91:[2,25],93:[2,25],102:[2,25],104:[2,25],105:[2,25],106:[2,25],110:[2,25],116:[2,25],117:[2,25],118:[2,25],126:[2,25],129:[2,25],130:[2,25],131:[2,25],132:[2,25],133:[2,25],134:[2,25],135:[2,25],136:[2,25],137:[2,25],138:[2,25],139:[2,25],140:[2,25]},{1:[2,5],5:174,6:[2,5],7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,26:[2,5],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],102:[2,5],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,196],6:[2,196],25:[2,196],26:[2,196],49:[2,196],54:[2,196],57:[2,196],73:[2,196],78:[2,196],86:[2,196],91:[2,196],93:[2,196],102:[2,196],104:[2,196],105:[2,196],106:[2,196],110:[2,196],118:[2,196],126:[2,196],129:[2,196],130:[2,196],133:[2,196],134:[2,196],135:[2,196],136:[2,196],137:[2,196],138:[2,196],139:[2,196]},{7:175,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:176,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:177,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:178,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:179,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:180,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:181,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:182,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:183,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,150],6:[2,150],25:[2,150],26:[2,150],49:[2,150],54:[2,150],57:[2,150],73:[2,150],78:[2,150],86:[2,150],91:[2,150],93:[2,150],102:[2,150],104:[2,150],105:[2,150],106:[2,150],110:[2,150],118:[2,150],126:[2,150],129:[2,150],130:[2,150],133:[2,150],134:[2,150],135:[2,150],136:[2,150],137:[2,150],138:[2,150],139:[2,150]},{1:[2,155],6:[2,155],25:[2,155],26:[2,155],49:[2,155],54:[2,155],57:[2,155],73:[2,155],78:[2,155],86:[2,155],91:[2,155],93:[2,155],102:[2,155],104:[2,155],105:[2,155],106:[2,155],110:[2,155],118:[2,155],126:[2,155],129:[2,155],130:[2,155],133:[2,155],134:[2,155],135:[2,155],136:[2,155],137:[2,155],138:[2,155],139:[2,155]},{7:184,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,149],6:[2,149],25:[2,149],26:[2,149],49:[2,149],54:[2,149],57:[2,149],73:[2,149],78:[2,149],86:[2,149],91:[2,149],93:[2,149],102:[2,149],104:[2,149],105:[2,149],106:[2,149],110:[2,149],118:[2,149],126:[2,149],129:[2,149],130:[2,149],133:[2,149],134:[2,149],135:[2,149],136:[2,149],137:[2,149],138:[2,149],139:[2,149]},{1:[2,154],6:[2,154],25:[2,154],26:[2,154],49:[2,154],54:[2,154],57:[2,154],73:[2,154],78:[2,154],86:[2,154],91:[2,154],93:[2,154],102:[2,154],104:[2,154],105:[2,154],106:[2,154],110:[2,154],118:[2,154],126:[2,154],129:[2,154],130:[2,154],133:[2,154],134:[2,154],135:[2,154],136:[2,154],137:[2,154],138:[2,154],139:[2,154]},{82:185,85:[1,103]},{1:[2,69],6:[2,69],25:[2,69],26:[2,69],40:[2,69],49:[2,69],54:[2,69],57:[2,69],66:[2,69],67:[2,69],68:[2,69],69:[2,69],71:[2,69],73:[2,69],74:[2,69],78:[2,69],80:[2,69],84:[2,69],85:[2,69],86:[2,69],91:[2,69],93:[2,69],102:[2,69],104:[2,69],105:[2,69],106:[2,69],110:[2,69],118:[2,69],126:[2,69],129:[2,69],130:[2,69],131:[2,69],132:[2,69],133:[2,69],134:[2,69],135:[2,69],136:[2,69],137:[2,69],138:[2,69],139:[2,69],140:[2,69]},{85:[2,109]},{27:186,28:[1,72]},{27:187,28:[1,72]},{1:[2,84],6:[2,84],25:[2,84],26:[2,84],27:188,28:[1,72],40:[2,84],49:[2,84],54:[2,84],57:[2,84],66:[2,84],67:[2,84],68:[2,84],69:[2,84],71:[2,84],73:[2,84],74:[2,84],78:[2,84],80:[2,84],84:[2,84],85:[2,84],86:[2,84],91:[2,84],93:[2,84],102:[2,84],104:[2,84],105:[2,84],106:[2,84],110:[2,84],118:[2,84],126:[2,84],129:[2,84],130:[2,84],131:[2,84],132:[2,84],133:[2,84],134:[2,84],135:[2,84],136:[2,84],137:[2,84],138:[2,84],139:[2,84],140:[2,84]},{27:189,28:[1,72]},{1:[2,85],6:[2,85],25:[2,85],26:[2,85],40:[2,85],49:[2,85],54:[2,85],57:[2,85],66:[2,85],67:[2,85],68:[2,85],69:[2,85],71:[2,85],73:[2,85],74:[2,85],78:[2,85],80:[2,85],84:[2,85],85:[2,85],86:[2,85],91:[2,85],93:[2,85],102:[2,85],104:[2,85],105:[2,85],106:[2,85],110:[2,85],118:[2,85],126:[2,85],129:[2,85],130:[2,85],131:[2,85],132:[2,85],133:[2,85],134:[2,85],135:[2,85],136:[2,85],137:[2,85],138:[2,85],139:[2,85],140:[2,85]},{7:191,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,195],58:46,59:47,61:35,63:23,64:24,65:25,72:190,75:192,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],92:193,93:[1,194],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{70:196,71:[1,97],74:[1,98]},{82:197,85:[1,103]},{1:[2,70],6:[2,70],25:[2,70],26:[2,70],40:[2,70],49:[2,70],54:[2,70],57:[2,70],66:[2,70],67:[2,70],68:[2,70],69:[2,70],71:[2,70],73:[2,70],74:[2,70],78:[2,70],80:[2,70],84:[2,70],85:[2,70],86:[2,70],91:[2,70],93:[2,70],102:[2,70],104:[2,70],105:[2,70],106:[2,70],110:[2,70],118:[2,70],126:[2,70],129:[2,70],130:[2,70],131:[2,70],132:[2,70],133:[2,70],134:[2,70],135:[2,70],136:[2,70],137:[2,70],138:[2,70],139:[2,70],140:[2,70]},{6:[1,199],7:198,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,200],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,107],6:[2,107],25:[2,107],26:[2,107],49:[2,107],54:[2,107],57:[2,107],66:[2,107],67:[2,107],68:[2,107],69:[2,107],71:[2,107],73:[2,107],74:[2,107],78:[2,107],84:[2,107],85:[2,107],86:[2,107],91:[2,107],93:[2,107],102:[2,107],104:[2,107],105:[2,107],106:[2,107],110:[2,107],118:[2,107],126:[2,107],129:[2,107],130:[2,107],133:[2,107],134:[2,107],135:[2,107],136:[2,107],137:[2,107],138:[2,107],139:[2,107]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],86:[1,201],87:202,88:[1,57],89:[1,58],90:[1,56],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,52],25:[2,52],49:[1,204],53:206,54:[1,205]},{6:[2,55],25:[2,55],26:[2,55],49:[2,55],54:[2,55]},{6:[2,59],25:[2,59],26:[2,59],40:[1,208],49:[2,59],54:[2,59],57:[1,207]},{6:[2,62],25:[2,62],26:[2,62],49:[2,62],54:[2,62]},{6:[2,63],25:[2,63],26:[2,63],40:[2,63],49:[2,63],54:[2,63],57:[2,63]},{6:[2,64],25:[2,64],26:[2,64],40:[2,64],49:[2,64],54:[2,64],57:[2,64]},{6:[2,65],25:[2,65],26:[2,65],40:[2,65],49:[2,65],54:[2,65],57:[2,65]},{6:[2,66],25:[2,66],26:[2,66],40:[2,66],49:[2,66],54:[2,66],57:[2,66]},{27:150,28:[1,72]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],87:145,88:[1,57],89:[1,58],90:[1,56],91:[1,144],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,49],6:[2,49],25:[2,49],26:[2,49],49:[2,49],54:[2,49],57:[2,49],73:[2,49],78:[2,49],86:[2,49],91:[2,49],93:[2,49],102:[2,49],104:[2,49],105:[2,49],106:[2,49],110:[2,49],118:[2,49],126:[2,49],129:[2,49],130:[2,49],133:[2,49],134:[2,49],135:[2,49],136:[2,49],137:[2,49],138:[2,49],139:[2,49]},{4:210,5:3,7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,26:[1,209],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,188],6:[2,188],25:[2,188],26:[2,188],49:[2,188],54:[2,188],57:[2,188],73:[2,188],78:[2,188],86:[2,188],91:[2,188],93:[2,188],102:[2,188],103:84,104:[2,188],105:[2,188],106:[2,188],109:85,110:[2,188],111:68,118:[2,188],126:[2,188],129:[2,188],130:[2,188],133:[1,74],134:[2,188],135:[2,188],136:[2,188],137:[2,188],138:[2,188],139:[2,188]},{103:87,104:[1,64],106:[1,65],109:88,110:[1,67],111:68,126:[1,86]},{1:[2,189],6:[2,189],25:[2,189],26:[2,189],49:[2,189],54:[2,189],57:[2,189],73:[2,189],78:[2,189],86:[2,189],91:[2,189],93:[2,189],102:[2,189],103:84,104:[2,189],105:[2,189],106:[2,189],109:85,110:[2,189],111:68,118:[2,189],126:[2,189],129:[2,189],130:[2,189],133:[1,74],134:[2,189],135:[1,78],136:[2,189],137:[2,189],138:[2,189],139:[2,189]},{1:[2,190],6:[2,190],25:[2,190],26:[2,190],49:[2,190],54:[2,190],57:[2,190],73:[2,190],78:[2,190],86:[2,190],91:[2,190],93:[2,190],102:[2,190],103:84,104:[2,190],105:[2,190],106:[2,190],109:85,110:[2,190],111:68,118:[2,190],126:[2,190],129:[2,190],130:[2,190],133:[1,74],134:[2,190],135:[1,78],136:[2,190],137:[2,190],138:[2,190],139:[2,190]},{1:[2,191],6:[2,191],25:[2,191],26:[2,191],49:[2,191],54:[2,191],57:[2,191],73:[2,191],78:[2,191],86:[2,191],91:[2,191],93:[2,191],102:[2,191],103:84,104:[2,191],105:[2,191],106:[2,191],109:85,110:[2,191],111:68,118:[2,191],126:[2,191],129:[2,191],130:[2,191],133:[1,74],134:[2,191],135:[1,78],136:[2,191],137:[2,191],138:[2,191],139:[2,191]},{1:[2,192],6:[2,192],25:[2,192],26:[2,192],49:[2,192],54:[2,192],57:[2,192],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,192],74:[2,72],78:[2,192],84:[2,72],85:[2,72],86:[2,192],91:[2,192],93:[2,192],102:[2,192],104:[2,192],105:[2,192],106:[2,192],110:[2,192],118:[2,192],126:[2,192],129:[2,192],130:[2,192],133:[2,192],134:[2,192],135:[2,192],136:[2,192],137:[2,192],138:[2,192],139:[2,192]},{62:90,66:[1,92],67:[1,93],68:[1,94],69:[1,95],70:96,71:[1,97],74:[1,98],81:89,84:[1,91],85:[2,108]},{62:100,66:[1,92],67:[1,93],68:[1,94],69:[1,95],70:96,71:[1,97],74:[1,98],81:99,84:[1,91],85:[2,108]},{66:[2,75],67:[2,75],68:[2,75],69:[2,75],71:[2,75],74:[2,75],84:[2,75],85:[2,75]},{1:[2,193],6:[2,193],25:[2,193],26:[2,193],49:[2,193],54:[2,193],57:[2,193],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,193],74:[2,72],78:[2,193],84:[2,72],85:[2,72],86:[2,193],91:[2,193],93:[2,193],102:[2,193],104:[2,193],105:[2,193],106:[2,193],110:[2,193],118:[2,193],126:[2,193],129:[2,193],130:[2,193],133:[2,193],134:[2,193],135:[2,193],136:[2,193],137:[2,193],138:[2,193],139:[2,193]},{1:[2,194],6:[2,194],25:[2,194],26:[2,194],49:[2,194],54:[2,194],57:[2,194],73:[2,194],78:[2,194],86:[2,194],91:[2,194],93:[2,194],102:[2,194],104:[2,194],105:[2,194],106:[2,194],110:[2,194],118:[2,194],126:[2,194],129:[2,194],130:[2,194],133:[2,194],134:[2,194],135:[2,194],136:[2,194],137:[2,194],138:[2,194],139:[2,194]},{1:[2,195],6:[2,195],25:[2,195],26:[2,195],49:[2,195],54:[2,195],57:[2,195],73:[2,195],78:[2,195],86:[2,195],91:[2,195],93:[2,195],102:[2,195],104:[2,195],105:[2,195],106:[2,195],110:[2,195],118:[2,195],126:[2,195],129:[2,195],130:[2,195],133:[2,195],134:[2,195],135:[2,195],136:[2,195],137:[2,195],138:[2,195],139:[2,195]},{6:[1,213],7:211,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,212],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:214,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{24:215,25:[1,115],125:[1,216]},{1:[2,134],6:[2,134],25:[2,134],26:[2,134],49:[2,134],54:[2,134],57:[2,134],73:[2,134],78:[2,134],86:[2,134],91:[2,134],93:[2,134],97:217,98:[1,218],99:[1,219],102:[2,134],104:[2,134],105:[2,134],106:[2,134],110:[2,134],118:[2,134],126:[2,134],129:[2,134],130:[2,134],133:[2,134],134:[2,134],135:[2,134],136:[2,134],137:[2,134],138:[2,134],139:[2,134]},{1:[2,148],6:[2,148],25:[2,148],26:[2,148],49:[2,148],54:[2,148],57:[2,148],73:[2,148],78:[2,148],86:[2,148],91:[2,148],93:[2,148],102:[2,148],104:[2,148],105:[2,148],106:[2,148],110:[2,148],118:[2,148],126:[2,148],129:[2,148],130:[2,148],133:[2,148],134:[2,148],135:[2,148],136:[2,148],137:[2,148],138:[2,148],139:[2,148]},{1:[2,156],6:[2,156],25:[2,156],26:[2,156],49:[2,156],54:[2,156],57:[2,156],73:[2,156],78:[2,156],86:[2,156],91:[2,156],93:[2,156],102:[2,156],104:[2,156],105:[2,156],106:[2,156],110:[2,156],118:[2,156],126:[2,156],129:[2,156],130:[2,156],133:[2,156],134:[2,156],135:[2,156],136:[2,156],137:[2,156],138:[2,156],139:[2,156]},{25:[1,220],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{120:221,122:222,123:[1,223]},{1:[2,97],6:[2,97],25:[2,97],26:[2,97],49:[2,97],54:[2,97],57:[2,97],73:[2,97],78:[2,97],86:[2,97],91:[2,97],93:[2,97],102:[2,97],104:[2,97],105:[2,97],106:[2,97],110:[2,97],118:[2,97],126:[2,97],129:[2,97],130:[2,97],133:[2,97],134:[2,97],135:[2,97],136:[2,97],137:[2,97],138:[2,97],139:[2,97]},{7:224,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,100],6:[2,100],24:225,25:[1,115],26:[2,100],49:[2,100],54:[2,100],57:[2,100],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,100],74:[2,72],78:[2,100],80:[1,226],84:[2,72],85:[2,72],86:[2,100],91:[2,100],93:[2,100],102:[2,100],104:[2,100],105:[2,100],106:[2,100],110:[2,100],118:[2,100],126:[2,100],129:[2,100],130:[2,100],133:[2,100],134:[2,100],135:[2,100],136:[2,100],137:[2,100],138:[2,100],139:[2,100]},{1:[2,141],6:[2,141],25:[2,141],26:[2,141],49:[2,141],54:[2,141],57:[2,141],73:[2,141],78:[2,141],86:[2,141],91:[2,141],93:[2,141],102:[2,141],103:84,104:[2,141],105:[2,141],106:[2,141],109:85,110:[2,141],111:68,118:[2,141],126:[2,141],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,45],6:[2,45],26:[2,45],102:[2,45],103:84,104:[2,45],106:[2,45],109:85,110:[2,45],111:68,126:[2,45],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,73],102:[1,227]},{4:228,5:3,7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,129],25:[2,129],54:[2,129],57:[1,230],91:[2,129],92:229,93:[1,194],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,115],6:[2,115],25:[2,115],26:[2,115],40:[2,115],49:[2,115],54:[2,115],57:[2,115],66:[2,115],67:[2,115],68:[2,115],69:[2,115],71:[2,115],73:[2,115],74:[2,115],78:[2,115],84:[2,115],85:[2,115],86:[2,115],91:[2,115],93:[2,115],102:[2,115],104:[2,115],105:[2,115],106:[2,115],110:[2,115],116:[2,115],117:[2,115],118:[2,115],126:[2,115],129:[2,115],130:[2,115],133:[2,115],134:[2,115],135:[2,115],136:[2,115],137:[2,115],138:[2,115],139:[2,115]},{6:[2,52],25:[2,52],53:231,54:[1,232],91:[2,52]},{6:[2,124],25:[2,124],26:[2,124],54:[2,124],86:[2,124],91:[2,124]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],87:233,88:[1,57],89:[1,58],90:[1,56],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,130],25:[2,130],26:[2,130],54:[2,130],86:[2,130],91:[2,130]},{6:[2,131],25:[2,131],26:[2,131],54:[2,131],86:[2,131],91:[2,131]},{1:[2,114],6:[2,114],25:[2,114],26:[2,114],40:[2,114],43:[2,114],49:[2,114],54:[2,114],57:[2,114],66:[2,114],67:[2,114],68:[2,114],69:[2,114],71:[2,114],73:[2,114],74:[2,114],78:[2,114],80:[2,114],84:[2,114],85:[2,114],86:[2,114],91:[2,114],93:[2,114],102:[2,114],104:[2,114],105:[2,114],106:[2,114],110:[2,114],116:[2,114],117:[2,114],118:[2,114],126:[2,114],129:[2,114],130:[2,114],131:[2,114],132:[2,114],133:[2,114],134:[2,114],135:[2,114],136:[2,114],137:[2,114],138:[2,114],139:[2,114],140:[2,114]},{24:234,25:[1,115],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,144],6:[2,144],25:[2,144],26:[2,144],49:[2,144],54:[2,144],57:[2,144],73:[2,144],78:[2,144],86:[2,144],91:[2,144],93:[2,144],102:[2,144],103:84,104:[1,64],105:[1,235],106:[1,65],109:85,110:[1,67],111:68,118:[2,144],126:[2,144],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,146],6:[2,146],25:[2,146],26:[2,146],49:[2,146],54:[2,146],57:[2,146],73:[2,146],78:[2,146],86:[2,146],91:[2,146],93:[2,146],102:[2,146],103:84,104:[1,64],105:[1,236],106:[1,65],109:85,110:[1,67],111:68,118:[2,146],126:[2,146],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,152],6:[2,152],25:[2,152],26:[2,152],49:[2,152],54:[2,152],57:[2,152],73:[2,152],78:[2,152],86:[2,152],91:[2,152],93:[2,152],102:[2,152],104:[2,152],105:[2,152],106:[2,152],110:[2,152],118:[2,152],126:[2,152],129:[2,152],130:[2,152],133:[2,152],134:[2,152],135:[2,152],136:[2,152],137:[2,152],138:[2,152],139:[2,152]},{1:[2,153],6:[2,153],25:[2,153],26:[2,153],49:[2,153],54:[2,153],57:[2,153],73:[2,153],78:[2,153],86:[2,153],91:[2,153],93:[2,153],102:[2,153],103:84,104:[1,64],105:[2,153],106:[1,65],109:85,110:[1,67],111:68,118:[2,153],126:[2,153],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,157],6:[2,157],25:[2,157],26:[2,157],49:[2,157],54:[2,157],57:[2,157],73:[2,157],78:[2,157],86:[2,157],91:[2,157],93:[2,157],102:[2,157],104:[2,157],105:[2,157],106:[2,157],110:[2,157],118:[2,157],126:[2,157],129:[2,157],130:[2,157],133:[2,157],134:[2,157],135:[2,157],136:[2,157],137:[2,157],138:[2,157],139:[2,157]},{116:[2,159],117:[2,159]},{27:160,28:[1,72],44:161,58:162,59:163,76:[1,69],89:[1,112],90:[1,113],113:237,115:159},{54:[1,238],116:[2,165],117:[2,165]},{54:[2,161],116:[2,161],117:[2,161]},{54:[2,162],116:[2,162],117:[2,162]},{54:[2,163],116:[2,163],117:[2,163]},{54:[2,164],116:[2,164],117:[2,164]},{1:[2,158],6:[2,158],25:[2,158],26:[2,158],49:[2,158],54:[2,158],57:[2,158],73:[2,158],78:[2,158],86:[2,158],91:[2,158],93:[2,158],102:[2,158],104:[2,158],105:[2,158],106:[2,158],110:[2,158],118:[2,158],126:[2,158],129:[2,158],130:[2,158],133:[2,158],134:[2,158],135:[2,158],136:[2,158],137:[2,158],138:[2,158],139:[2,158]},{7:239,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:240,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,52],25:[2,52],53:241,54:[1,242],78:[2,52]},{6:[2,92],25:[2,92],26:[2,92],54:[2,92],78:[2,92]},{6:[2,38],25:[2,38],26:[2,38],43:[1,243],54:[2,38],78:[2,38]},{6:[2,41],25:[2,41],26:[2,41],54:[2,41],78:[2,41]},{6:[2,42],25:[2,42],26:[2,42],43:[2,42],54:[2,42],78:[2,42]},{6:[2,43],25:[2,43],26:[2,43],43:[2,43],54:[2,43],78:[2,43]},{6:[2,44],25:[2,44],26:[2,44],43:[2,44],54:[2,44],78:[2,44]},{1:[2,4],6:[2,4],26:[2,4],102:[2,4]},{1:[2,197],6:[2,197],25:[2,197],26:[2,197],49:[2,197],54:[2,197],57:[2,197],73:[2,197],78:[2,197],86:[2,197],91:[2,197],93:[2,197],102:[2,197],103:84,104:[2,197],105:[2,197],106:[2,197],109:85,110:[2,197],111:68,118:[2,197],126:[2,197],129:[2,197],130:[2,197],133:[1,74],134:[1,77],135:[1,78],136:[2,197],137:[2,197],138:[2,197],139:[2,197]},{1:[2,198],6:[2,198],25:[2,198],26:[2,198],49:[2,198],54:[2,198],57:[2,198],73:[2,198],78:[2,198],86:[2,198],91:[2,198],93:[2,198],102:[2,198],103:84,104:[2,198],105:[2,198],106:[2,198],109:85,110:[2,198],111:68,118:[2,198],126:[2,198],129:[2,198],130:[2,198],133:[1,74],134:[1,77],135:[1,78],136:[2,198],137:[2,198],138:[2,198],139:[2,198]},{1:[2,199],6:[2,199],25:[2,199],26:[2,199],49:[2,199],54:[2,199],57:[2,199],73:[2,199],78:[2,199],86:[2,199],91:[2,199],93:[2,199],102:[2,199],103:84,104:[2,199],105:[2,199],106:[2,199],109:85,110:[2,199],111:68,118:[2,199],126:[2,199],129:[2,199],130:[2,199],133:[1,74],134:[2,199],135:[1,78],136:[2,199],137:[2,199],138:[2,199],139:[2,199]},{1:[2,200],6:[2,200],25:[2,200],26:[2,200],49:[2,200],54:[2,200],57:[2,200],73:[2,200],78:[2,200],86:[2,200],91:[2,200],93:[2,200],102:[2,200],103:84,104:[2,200],105:[2,200],106:[2,200],109:85,110:[2,200],111:68,118:[2,200],126:[2,200],129:[2,200],130:[2,200],133:[1,74],134:[2,200],135:[1,78],136:[2,200],137:[2,200],138:[2,200],139:[2,200]},{1:[2,201],6:[2,201],25:[2,201],26:[2,201],49:[2,201],54:[2,201],57:[2,201],73:[2,201],78:[2,201],86:[2,201],91:[2,201],93:[2,201],102:[2,201],103:84,104:[2,201],105:[2,201],106:[2,201],109:85,110:[2,201],111:68,118:[2,201],126:[2,201],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[2,201],137:[2,201],138:[2,201],139:[2,201]},{1:[2,202],6:[2,202],25:[2,202],26:[2,202],49:[2,202],54:[2,202],57:[2,202],73:[2,202],78:[2,202],86:[2,202],91:[2,202],93:[2,202],102:[2,202],103:84,104:[2,202],105:[2,202],106:[2,202],109:85,110:[2,202],111:68,118:[2,202],126:[2,202],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[2,202],138:[2,202],139:[1,82]},{1:[2,203],6:[2,203],25:[2,203],26:[2,203],49:[2,203],54:[2,203],57:[2,203],73:[2,203],78:[2,203],86:[2,203],91:[2,203],93:[2,203],102:[2,203],103:84,104:[2,203],105:[2,203],106:[2,203],109:85,110:[2,203],111:68,118:[2,203],126:[2,203],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[2,203],139:[1,82]},{1:[2,204],6:[2,204],25:[2,204],26:[2,204],49:[2,204],54:[2,204],57:[2,204],73:[2,204],78:[2,204],86:[2,204],91:[2,204],93:[2,204],102:[2,204],103:84,104:[2,204],105:[2,204],106:[2,204],109:85,110:[2,204],111:68,118:[2,204],126:[2,204],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[2,204],138:[2,204],139:[2,204]},{1:[2,187],6:[2,187],25:[2,187],26:[2,187],49:[2,187],54:[2,187],57:[2,187],73:[2,187],78:[2,187],86:[2,187],91:[2,187],93:[2,187],102:[2,187],103:84,104:[1,64],105:[2,187],106:[1,65],109:85,110:[1,67],111:68,118:[2,187],126:[2,187],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,186],6:[2,186],25:[2,186],26:[2,186],49:[2,186],54:[2,186],57:[2,186],73:[2,186],78:[2,186],86:[2,186],91:[2,186],93:[2,186],102:[2,186],103:84,104:[1,64],105:[2,186],106:[1,65],109:85,110:[1,67],111:68,118:[2,186],126:[2,186],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,104],6:[2,104],25:[2,104],26:[2,104],49:[2,104],54:[2,104],57:[2,104],66:[2,104],67:[2,104],68:[2,104],69:[2,104],71:[2,104],73:[2,104],74:[2,104],78:[2,104],84:[2,104],85:[2,104],86:[2,104],91:[2,104],93:[2,104],102:[2,104],104:[2,104],105:[2,104],106:[2,104],110:[2,104],118:[2,104],126:[2,104],129:[2,104],130:[2,104],133:[2,104],134:[2,104],135:[2,104],136:[2,104],137:[2,104],138:[2,104],139:[2,104]},{1:[2,80],6:[2,80],25:[2,80],26:[2,80],40:[2,80],49:[2,80],54:[2,80],57:[2,80],66:[2,80],67:[2,80],68:[2,80],69:[2,80],71:[2,80],73:[2,80],74:[2,80],78:[2,80],80:[2,80],84:[2,80],85:[2,80],86:[2,80],91:[2,80],93:[2,80],102:[2,80],104:[2,80],105:[2,80],106:[2,80],110:[2,80],118:[2,80],126:[2,80],129:[2,80],130:[2,80],131:[2,80],132:[2,80],133:[2,80],134:[2,80],135:[2,80],136:[2,80],137:[2,80],138:[2,80],139:[2,80],140:[2,80]},{1:[2,81],6:[2,81],25:[2,81],26:[2,81],40:[2,81],49:[2,81],54:[2,81],57:[2,81],66:[2,81],67:[2,81],68:[2,81],69:[2,81],71:[2,81],73:[2,81],74:[2,81],78:[2,81],80:[2,81],84:[2,81],85:[2,81],86:[2,81],91:[2,81],93:[2,81],102:[2,81],104:[2,81],105:[2,81],106:[2,81],110:[2,81],118:[2,81],126:[2,81],129:[2,81],130:[2,81],131:[2,81],132:[2,81],133:[2,81],134:[2,81],135:[2,81],136:[2,81],137:[2,81],138:[2,81],139:[2,81],140:[2,81]},{1:[2,82],6:[2,82],25:[2,82],26:[2,82],40:[2,82],49:[2,82],54:[2,82],57:[2,82],66:[2,82],67:[2,82],68:[2,82],69:[2,82],71:[2,82],73:[2,82],74:[2,82],78:[2,82],80:[2,82],84:[2,82],85:[2,82],86:[2,82],91:[2,82],93:[2,82],102:[2,82],104:[2,82],105:[2,82],106:[2,82],110:[2,82],118:[2,82],126:[2,82],129:[2,82],130:[2,82],131:[2,82],132:[2,82],133:[2,82],134:[2,82],135:[2,82],136:[2,82],137:[2,82],138:[2,82],139:[2,82],140:[2,82]},{1:[2,83],6:[2,83],25:[2,83],26:[2,83],40:[2,83],49:[2,83],54:[2,83],57:[2,83],66:[2,83],67:[2,83],68:[2,83],69:[2,83],71:[2,83],73:[2,83],74:[2,83],78:[2,83],80:[2,83],84:[2,83],85:[2,83],86:[2,83],91:[2,83],93:[2,83],102:[2,83],104:[2,83],105:[2,83],106:[2,83],110:[2,83],118:[2,83],126:[2,83],129:[2,83],130:[2,83],131:[2,83],132:[2,83],133:[2,83],134:[2,83],135:[2,83],136:[2,83],137:[2,83],138:[2,83],139:[2,83],140:[2,83]},{73:[1,244]},{57:[1,195],73:[2,88],92:245,93:[1,194],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{73:[2,89]},{7:246,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,73:[2,123],76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{11:[2,117],28:[2,117],30:[2,117],31:[2,117],33:[2,117],34:[2,117],35:[2,117],36:[2,117],37:[2,117],38:[2,117],45:[2,117],46:[2,117],47:[2,117],51:[2,117],52:[2,117],73:[2,117],76:[2,117],79:[2,117],83:[2,117],88:[2,117],89:[2,117],90:[2,117],96:[2,117],100:[2,117],101:[2,117],104:[2,117],106:[2,117],108:[2,117],110:[2,117],119:[2,117],125:[2,117],127:[2,117],128:[2,117],129:[2,117],130:[2,117],131:[2,117],132:[2,117]},{11:[2,118],28:[2,118],30:[2,118],31:[2,118],33:[2,118],34:[2,118],35:[2,118],36:[2,118],37:[2,118],38:[2,118],45:[2,118],46:[2,118],47:[2,118],51:[2,118],52:[2,118],73:[2,118],76:[2,118],79:[2,118],83:[2,118],88:[2,118],89:[2,118],90:[2,118],96:[2,118],100:[2,118],101:[2,118],104:[2,118],106:[2,118],108:[2,118],110:[2,118],119:[2,118],125:[2,118],127:[2,118],128:[2,118],129:[2,118],130:[2,118],131:[2,118],132:[2,118]},{1:[2,87],6:[2,87],25:[2,87],26:[2,87],40:[2,87],49:[2,87],54:[2,87],57:[2,87],66:[2,87],67:[2,87],68:[2,87],69:[2,87],71:[2,87],73:[2,87],74:[2,87],78:[2,87],80:[2,87],84:[2,87],85:[2,87],86:[2,87],91:[2,87],93:[2,87],102:[2,87],104:[2,87],105:[2,87],106:[2,87],110:[2,87],118:[2,87],126:[2,87],129:[2,87],130:[2,87],131:[2,87],132:[2,87],133:[2,87],134:[2,87],135:[2,87],136:[2,87],137:[2,87],138:[2,87],139:[2,87],140:[2,87]},{1:[2,105],6:[2,105],25:[2,105],26:[2,105],49:[2,105],54:[2,105],57:[2,105],66:[2,105],67:[2,105],68:[2,105],69:[2,105],71:[2,105],73:[2,105],74:[2,105],78:[2,105],84:[2,105],85:[2,105],86:[2,105],91:[2,105],93:[2,105],102:[2,105],104:[2,105],105:[2,105],106:[2,105],110:[2,105],118:[2,105],126:[2,105],129:[2,105],130:[2,105],133:[2,105],134:[2,105],135:[2,105],136:[2,105],137:[2,105],138:[2,105],139:[2,105]},{1:[2,35],6:[2,35],25:[2,35],26:[2,35],49:[2,35],54:[2,35],57:[2,35],73:[2,35],78:[2,35],86:[2,35],91:[2,35],93:[2,35],102:[2,35],103:84,104:[2,35],105:[2,35],106:[2,35],109:85,110:[2,35],111:68,118:[2,35],126:[2,35],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{7:247,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:248,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,110],6:[2,110],25:[2,110],26:[2,110],49:[2,110],54:[2,110],57:[2,110],66:[2,110],67:[2,110],68:[2,110],69:[2,110],71:[2,110],73:[2,110],74:[2,110],78:[2,110],84:[2,110],85:[2,110],86:[2,110],91:[2,110],93:[2,110],102:[2,110],104:[2,110],105:[2,110],106:[2,110],110:[2,110],118:[2,110],126:[2,110],129:[2,110],130:[2,110],133:[2,110],134:[2,110],135:[2,110],136:[2,110],137:[2,110],138:[2,110],139:[2,110]},{6:[2,52],25:[2,52],53:249,54:[1,232],86:[2,52]},{6:[2,129],25:[2,129],26:[2,129],54:[2,129],57:[1,250],86:[2,129],91:[2,129],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{50:251,51:[1,59],52:[1,60]},{6:[2,53],25:[2,53],26:[2,53],27:108,28:[1,72],44:109,55:252,56:106,57:[1,107],58:110,59:111,76:[1,69],89:[1,112],90:[1,113]},{6:[1,253],25:[1,254]},{6:[2,60],25:[2,60],26:[2,60],49:[2,60],54:[2,60]},{7:255,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,23],6:[2,23],25:[2,23],26:[2,23],49:[2,23],54:[2,23],57:[2,23],73:[2,23],78:[2,23],86:[2,23],91:[2,23],93:[2,23],98:[2,23],99:[2,23],102:[2,23],104:[2,23],105:[2,23],106:[2,23],110:[2,23],118:[2,23],121:[2,23],123:[2,23],126:[2,23],129:[2,23],130:[2,23],133:[2,23],134:[2,23],135:[2,23],136:[2,23],137:[2,23],138:[2,23],139:[2,23]},{6:[1,73],26:[1,256]},{1:[2,205],6:[2,205],25:[2,205],26:[2,205],49:[2,205],54:[2,205],57:[2,205],73:[2,205],78:[2,205],86:[2,205],91:[2,205],93:[2,205],102:[2,205],103:84,104:[2,205],105:[2,205],106:[2,205],109:85,110:[2,205],111:68,118:[2,205],126:[2,205],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{7:257,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:258,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,208],6:[2,208],25:[2,208],26:[2,208],49:[2,208],54:[2,208],57:[2,208],73:[2,208],78:[2,208],86:[2,208],91:[2,208],93:[2,208],102:[2,208],103:84,104:[2,208],105:[2,208],106:[2,208],109:85,110:[2,208],111:68,118:[2,208],126:[2,208],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,185],6:[2,185],25:[2,185],26:[2,185],49:[2,185],54:[2,185],57:[2,185],73:[2,185],78:[2,185],86:[2,185],91:[2,185],93:[2,185],102:[2,185],104:[2,185],105:[2,185],106:[2,185],110:[2,185],118:[2,185],126:[2,185],129:[2,185],130:[2,185],133:[2,185],134:[2,185],135:[2,185],136:[2,185],137:[2,185],138:[2,185],139:[2,185]},{7:259,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,135],6:[2,135],25:[2,135],26:[2,135],49:[2,135],54:[2,135],57:[2,135],73:[2,135],78:[2,135],86:[2,135],91:[2,135],93:[2,135],98:[1,260],102:[2,135],104:[2,135],105:[2,135],106:[2,135],110:[2,135],118:[2,135],126:[2,135],129:[2,135],130:[2,135],133:[2,135],134:[2,135],135:[2,135],136:[2,135],137:[2,135],138:[2,135],139:[2,135]},{24:261,25:[1,115]},{24:264,25:[1,115],27:262,28:[1,72],59:263,76:[1,69]},{120:265,122:222,123:[1,223]},{26:[1,266],121:[1,267],122:268,123:[1,223]},{26:[2,178],121:[2,178],123:[2,178]},{7:270,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],95:269,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,98],6:[2,98],24:271,25:[1,115],26:[2,98],49:[2,98],54:[2,98],57:[2,98],73:[2,98],78:[2,98],86:[2,98],91:[2,98],93:[2,98],102:[2,98],103:84,104:[1,64],105:[2,98],106:[1,65],109:85,110:[1,67],111:68,118:[2,98],126:[2,98],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,101],6:[2,101],25:[2,101],26:[2,101],49:[2,101],54:[2,101],57:[2,101],73:[2,101],78:[2,101],86:[2,101],91:[2,101],93:[2,101],102:[2,101],104:[2,101],105:[2,101],106:[2,101],110:[2,101],118:[2,101],126:[2,101],129:[2,101],130:[2,101],133:[2,101],134:[2,101],135:[2,101],136:[2,101],137:[2,101],138:[2,101],139:[2,101]},{7:272,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,142],6:[2,142],25:[2,142],26:[2,142],49:[2,142],54:[2,142],57:[2,142],66:[2,142],67:[2,142],68:[2,142],69:[2,142],71:[2,142],73:[2,142],74:[2,142],78:[2,142],84:[2,142],85:[2,142],86:[2,142],91:[2,142],93:[2,142],102:[2,142],104:[2,142],105:[2,142],106:[2,142],110:[2,142],118:[2,142],126:[2,142],129:[2,142],130:[2,142],133:[2,142],134:[2,142],135:[2,142],136:[2,142],137:[2,142],138:[2,142],139:[2,142]},{6:[1,73],26:[1,273]},{7:274,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,67],11:[2,118],25:[2,67],28:[2,118],30:[2,118],31:[2,118],33:[2,118],34:[2,118],35:[2,118],36:[2,118],37:[2,118],38:[2,118],45:[2,118],46:[2,118],47:[2,118],51:[2,118],52:[2,118],54:[2,67],76:[2,118],79:[2,118],83:[2,118],88:[2,118],89:[2,118],90:[2,118],91:[2,67],96:[2,118],100:[2,118],101:[2,118],104:[2,118],106:[2,118],108:[2,118],110:[2,118],119:[2,118],125:[2,118],127:[2,118],128:[2,118],129:[2,118],130:[2,118],131:[2,118],132:[2,118]},{6:[1,276],25:[1,277],91:[1,275]},{6:[2,53],7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[2,53],26:[2,53],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],86:[2,53],88:[1,57],89:[1,58],90:[1,56],91:[2,53],94:278,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,52],25:[2,52],26:[2,52],53:279,54:[1,232]},{1:[2,182],6:[2,182],25:[2,182],26:[2,182],49:[2,182],54:[2,182],57:[2,182],73:[2,182],78:[2,182],86:[2,182],91:[2,182],93:[2,182],102:[2,182],104:[2,182],105:[2,182],106:[2,182],110:[2,182],118:[2,182],121:[2,182],126:[2,182],129:[2,182],130:[2,182],133:[2,182],134:[2,182],135:[2,182],136:[2,182],137:[2,182],138:[2,182],139:[2,182]},{7:280,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:281,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{116:[2,160],117:[2,160]},{27:160,28:[1,72],44:161,58:162,59:163,76:[1,69],89:[1,112],90:[1,113],115:282},{1:[2,167],6:[2,167],25:[2,167],26:[2,167],49:[2,167],54:[2,167],57:[2,167],73:[2,167],78:[2,167],86:[2,167],91:[2,167],93:[2,167],102:[2,167],103:84,104:[2,167],105:[1,283],106:[2,167],109:85,110:[2,167],111:68,118:[1,284],126:[2,167],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,168],6:[2,168],25:[2,168],26:[2,168],49:[2,168],54:[2,168],57:[2,168],73:[2,168],78:[2,168],86:[2,168],91:[2,168],93:[2,168],102:[2,168],103:84,104:[2,168],105:[1,285],106:[2,168],109:85,110:[2,168],111:68,118:[2,168],126:[2,168],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,287],25:[1,288],78:[1,286]},{6:[2,53],10:170,25:[2,53],26:[2,53],27:171,28:[1,72],29:172,30:[1,70],31:[1,71],41:289,42:169,44:173,46:[1,45],78:[2,53],89:[1,112]},{7:290,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,291],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,86],6:[2,86],25:[2,86],26:[2,86],40:[2,86],49:[2,86],54:[2,86],57:[2,86],66:[2,86],67:[2,86],68:[2,86],69:[2,86],71:[2,86],73:[2,86],74:[2,86],78:[2,86],80:[2,86],84:[2,86],85:[2,86],86:[2,86],91:[2,86],93:[2,86],102:[2,86],104:[2,86],105:[2,86],106:[2,86],110:[2,86],118:[2,86],126:[2,86],129:[2,86],130:[2,86],131:[2,86],132:[2,86],133:[2,86],134:[2,86],135:[2,86],136:[2,86],137:[2,86],138:[2,86],139:[2,86],140:[2,86]},{7:292,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,73:[2,121],76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{73:[2,122],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,36],6:[2,36],25:[2,36],26:[2,36],49:[2,36],54:[2,36],57:[2,36],73:[2,36],78:[2,36],86:[2,36],91:[2,36],93:[2,36],102:[2,36],103:84,104:[2,36],105:[2,36],106:[2,36],109:85,110:[2,36],111:68,118:[2,36],126:[2,36],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{26:[1,293],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,276],25:[1,277],86:[1,294]},{6:[2,67],25:[2,67],26:[2,67],54:[2,67],86:[2,67],91:[2,67]},{24:295,25:[1,115]},{6:[2,56],25:[2,56],26:[2,56],49:[2,56],54:[2,56]},{27:108,28:[1,72],44:109,55:296,56:106,57:[1,107],58:110,59:111,76:[1,69],89:[1,112],90:[1,113]},{6:[2,54],25:[2,54],26:[2,54],27:108,28:[1,72],44:109,48:297,54:[2,54],55:105,56:106,57:[1,107],58:110,59:111,76:[1,69],89:[1,112],90:[1,113]},{6:[2,61],25:[2,61],26:[2,61],49:[2,61],54:[2,61],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,24],6:[2,24],25:[2,24],26:[2,24],49:[2,24],54:[2,24],57:[2,24],73:[2,24],78:[2,24],86:[2,24],91:[2,24],93:[2,24],98:[2,24],99:[2,24],102:[2,24],104:[2,24],105:[2,24],106:[2,24],110:[2,24],118:[2,24],121:[2,24],123:[2,24],126:[2,24],129:[2,24],130:[2,24],133:[2,24],134:[2,24],135:[2,24],136:[2,24],137:[2,24],138:[2,24],139:[2,24]},{26:[1,298],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,207],6:[2,207],25:[2,207],26:[2,207],49:[2,207],54:[2,207],57:[2,207],73:[2,207],78:[2,207],86:[2,207],91:[2,207],93:[2,207],102:[2,207],103:84,104:[2,207],105:[2,207],106:[2,207],109:85,110:[2,207],111:68,118:[2,207],126:[2,207],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{24:299,25:[1,115],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{24:300,25:[1,115]},{1:[2,136],6:[2,136],25:[2,136],26:[2,136],49:[2,136],54:[2,136],57:[2,136],73:[2,136],78:[2,136],86:[2,136],91:[2,136],93:[2,136],102:[2,136],104:[2,136],105:[2,136],106:[2,136],110:[2,136],118:[2,136],126:[2,136],129:[2,136],130:[2,136],133:[2,136],134:[2,136],135:[2,136],136:[2,136],137:[2,136],138:[2,136],139:[2,136]},{24:301,25:[1,115]},{24:302,25:[1,115]},{1:[2,140],6:[2,140],25:[2,140],26:[2,140],49:[2,140],54:[2,140],57:[2,140],73:[2,140],78:[2,140],86:[2,140],91:[2,140],93:[2,140],98:[2,140],102:[2,140],104:[2,140],105:[2,140],106:[2,140],110:[2,140],118:[2,140],126:[2,140],129:[2,140],130:[2,140],133:[2,140],134:[2,140],135:[2,140],136:[2,140],137:[2,140],138:[2,140],139:[2,140]},{26:[1,303],121:[1,304],122:268,123:[1,223]},{1:[2,176],6:[2,176],25:[2,176],26:[2,176],49:[2,176],54:[2,176],57:[2,176],73:[2,176],78:[2,176],86:[2,176],91:[2,176],93:[2,176],102:[2,176],104:[2,176],105:[2,176],106:[2,176],110:[2,176],118:[2,176],126:[2,176],129:[2,176],130:[2,176],133:[2,176],134:[2,176],135:[2,176],136:[2,176],137:[2,176],138:[2,176],139:[2,176]},{24:305,25:[1,115]},{26:[2,179],121:[2,179],123:[2,179]},{24:306,25:[1,115],54:[1,307]},{25:[2,132],54:[2,132],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,99],6:[2,99],25:[2,99],26:[2,99],49:[2,99],54:[2,99],57:[2,99],73:[2,99],78:[2,99],86:[2,99],91:[2,99],93:[2,99],102:[2,99],104:[2,99],105:[2,99],106:[2,99],110:[2,99],118:[2,99],126:[2,99],129:[2,99],130:[2,99],133:[2,99],134:[2,99],135:[2,99],136:[2,99],137:[2,99],138:[2,99],139:[2,99]},{1:[2,102],6:[2,102],24:308,25:[1,115],26:[2,102],49:[2,102],54:[2,102],57:[2,102],73:[2,102],78:[2,102],86:[2,102],91:[2,102],93:[2,102],102:[2,102],103:84,104:[1,64],105:[2,102],106:[1,65],109:85,110:[1,67],111:68,118:[2,102],126:[2,102],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{102:[1,309]},{91:[1,310],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,116],6:[2,116],25:[2,116],26:[2,116],40:[2,116],49:[2,116],54:[2,116],57:[2,116],66:[2,116],67:[2,116],68:[2,116],69:[2,116],71:[2,116],73:[2,116],74:[2,116],78:[2,116],84:[2,116],85:[2,116],86:[2,116],91:[2,116],93:[2,116],102:[2,116],104:[2,116],105:[2,116],106:[2,116],110:[2,116],116:[2,116],117:[2,116],118:[2,116],126:[2,116],129:[2,116],130:[2,116],133:[2,116],134:[2,116],135:[2,116],136:[2,116],137:[2,116],138:[2,116],139:[2,116]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],94:311,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],87:312,88:[1,57],89:[1,58],90:[1,56],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,125],25:[2,125],26:[2,125],54:[2,125],86:[2,125],91:[2,125]},{6:[1,276],25:[1,277],26:[1,313]},{1:[2,145],6:[2,145],25:[2,145],26:[2,145],49:[2,145],54:[2,145],57:[2,145],73:[2,145],78:[2,145],86:[2,145],91:[2,145],93:[2,145],102:[2,145],103:84,104:[1,64],105:[2,145],106:[1,65],109:85,110:[1,67],111:68,118:[2,145],126:[2,145],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,147],6:[2,147],25:[2,147],26:[2,147],49:[2,147],54:[2,147],57:[2,147],73:[2,147],78:[2,147],86:[2,147],91:[2,147],93:[2,147],102:[2,147],103:84,104:[1,64],105:[2,147],106:[1,65],109:85,110:[1,67],111:68,118:[2,147],126:[2,147],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{116:[2,166],117:[2,166]},{7:314,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:315,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:316,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,90],6:[2,90],25:[2,90],26:[2,90],40:[2,90],49:[2,90],54:[2,90],57:[2,90],66:[2,90],67:[2,90],68:[2,90],69:[2,90],71:[2,90],73:[2,90],74:[2,90],78:[2,90],84:[2,90],85:[2,90],86:[2,90],91:[2,90],93:[2,90],102:[2,90],104:[2,90],105:[2,90],106:[2,90],110:[2,90],116:[2,90],117:[2,90],118:[2,90],126:[2,90],129:[2,90],130:[2,90],133:[2,90],134:[2,90],135:[2,90],136:[2,90],137:[2,90],138:[2,90],139:[2,90]},{10:170,27:171,28:[1,72],29:172,30:[1,70],31:[1,71],41:317,42:169,44:173,46:[1,45],89:[1,112]},{6:[2,91],10:170,25:[2,91],26:[2,91],27:171,28:[1,72],29:172,30:[1,70],31:[1,71],41:168,42:169,44:173,46:[1,45],54:[2,91],77:318,89:[1,112]},{6:[2,93],25:[2,93],26:[2,93],54:[2,93],78:[2,93]},{6:[2,39],25:[2,39],26:[2,39],54:[2,39],78:[2,39],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{7:319,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{73:[2,120],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,37],6:[2,37],25:[2,37],26:[2,37],49:[2,37],54:[2,37],57:[2,37],73:[2,37],78:[2,37],86:[2,37],91:[2,37],93:[2,37],102:[2,37],104:[2,37],105:[2,37],106:[2,37],110:[2,37],118:[2,37],126:[2,37],129:[2,37],130:[2,37],133:[2,37],134:[2,37],135:[2,37],136:[2,37],137:[2,37],138:[2,37],139:[2,37]},{1:[2,111],6:[2,111],25:[2,111],26:[2,111],49:[2,111],54:[2,111],57:[2,111],66:[2,111],67:[2,111],68:[2,111],69:[2,111],71:[2,111],73:[2,111],74:[2,111],78:[2,111],84:[2,111],85:[2,111],86:[2,111],91:[2,111],93:[2,111],102:[2,111],104:[2,111],105:[2,111],106:[2,111],110:[2,111],118:[2,111],126:[2,111],129:[2,111],130:[2,111],133:[2,111],134:[2,111],135:[2,111],136:[2,111],137:[2,111],138:[2,111],139:[2,111]},{1:[2,48],6:[2,48],25:[2,48],26:[2,48],49:[2,48],54:[2,48],57:[2,48],73:[2,48],78:[2,48],86:[2,48],91:[2,48],93:[2,48],102:[2,48],104:[2,48],105:[2,48],106:[2,48],110:[2,48],118:[2,48],126:[2,48],129:[2,48],130:[2,48],133:[2,48],134:[2,48],135:[2,48],136:[2,48],137:[2,48],138:[2,48],139:[2,48]},{6:[2,57],25:[2,57],26:[2,57],49:[2,57],54:[2,57]},{6:[2,52],25:[2,52],26:[2,52],53:320,54:[1,205]},{1:[2,206],6:[2,206],25:[2,206],26:[2,206],49:[2,206],54:[2,206],57:[2,206],73:[2,206],78:[2,206],86:[2,206],91:[2,206],93:[2,206],102:[2,206],104:[2,206],105:[2,206],106:[2,206],110:[2,206],118:[2,206],126:[2,206],129:[2,206],130:[2,206],133:[2,206],134:[2,206],135:[2,206],136:[2,206],137:[2,206],138:[2,206],139:[2,206]},{1:[2,183],6:[2,183],25:[2,183],26:[2,183],49:[2,183],54:[2,183],57:[2,183],73:[2,183],78:[2,183],86:[2,183],91:[2,183],93:[2,183],102:[2,183],104:[2,183],105:[2,183],106:[2,183],110:[2,183],118:[2,183],121:[2,183],126:[2,183],129:[2,183],130:[2,183],133:[2,183],134:[2,183],135:[2,183],136:[2,183],137:[2,183],138:[2,183],139:[2,183]},{1:[2,137],6:[2,137],25:[2,137],26:[2,137],49:[2,137],54:[2,137],57:[2,137],73:[2,137],78:[2,137],86:[2,137],91:[2,137],93:[2,137],102:[2,137],104:[2,137],105:[2,137],106:[2,137],110:[2,137],118:[2,137],126:[2,137],129:[2,137],130:[2,137],133:[2,137],134:[2,137],135:[2,137],136:[2,137],137:[2,137],138:[2,137],139:[2,137]},{1:[2,138],6:[2,138],25:[2,138],26:[2,138],49:[2,138],54:[2,138],57:[2,138],73:[2,138],78:[2,138],86:[2,138],91:[2,138],93:[2,138],98:[2,138],102:[2,138],104:[2,138],105:[2,138],106:[2,138],110:[2,138],118:[2,138],126:[2,138],129:[2,138],130:[2,138],133:[2,138],134:[2,138],135:[2,138],136:[2,138],137:[2,138],138:[2,138],139:[2,138]},{1:[2,139],6:[2,139],25:[2,139],26:[2,139],49:[2,139],54:[2,139],57:[2,139],73:[2,139],78:[2,139],86:[2,139],91:[2,139],93:[2,139],98:[2,139],102:[2,139],104:[2,139],105:[2,139],106:[2,139],110:[2,139],118:[2,139],126:[2,139],129:[2,139],130:[2,139],133:[2,139],134:[2,139],135:[2,139],136:[2,139],137:[2,139],138:[2,139],139:[2,139]},{1:[2,174],6:[2,174],25:[2,174],26:[2,174],49:[2,174],54:[2,174],57:[2,174],73:[2,174],78:[2,174],86:[2,174],91:[2,174],93:[2,174],102:[2,174],104:[2,174],105:[2,174],106:[2,174],110:[2,174],118:[2,174],126:[2,174],129:[2,174],130:[2,174],133:[2,174],134:[2,174],135:[2,174],136:[2,174],137:[2,174],138:[2,174],139:[2,174]},{24:321,25:[1,115]},{26:[1,322]},{6:[1,323],26:[2,180],121:[2,180],123:[2,180]},{7:324,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,103],6:[2,103],25:[2,103],26:[2,103],49:[2,103],54:[2,103],57:[2,103],73:[2,103],78:[2,103],86:[2,103],91:[2,103],93:[2,103],102:[2,103],104:[2,103],105:[2,103],106:[2,103],110:[2,103],118:[2,103],126:[2,103],129:[2,103],130:[2,103],133:[2,103],134:[2,103],135:[2,103],136:[2,103],137:[2,103],138:[2,103],139:[2,103]},{1:[2,143],6:[2,143],25:[2,143],26:[2,143],49:[2,143],54:[2,143],57:[2,143],66:[2,143],67:[2,143],68:[2,143],69:[2,143],71:[2,143],73:[2,143],74:[2,143],78:[2,143],84:[2,143],85:[2,143],86:[2,143],91:[2,143],93:[2,143],102:[2,143],104:[2,143],105:[2,143],106:[2,143],110:[2,143],118:[2,143],126:[2,143],129:[2,143],130:[2,143],133:[2,143],134:[2,143],135:[2,143],136:[2,143],137:[2,143],138:[2,143],139:[2,143]},{1:[2,119],6:[2,119],25:[2,119],26:[2,119],49:[2,119],54:[2,119],57:[2,119],66:[2,119],67:[2,119],68:[2,119],69:[2,119],71:[2,119],73:[2,119],74:[2,119],78:[2,119],84:[2,119],85:[2,119],86:[2,119],91:[2,119],93:[2,119],102:[2,119],104:[2,119],105:[2,119],106:[2,119],110:[2,119],118:[2,119],126:[2,119],129:[2,119],130:[2,119],133:[2,119],134:[2,119],135:[2,119],136:[2,119],137:[2,119],138:[2,119],139:[2,119]},{6:[2,126],25:[2,126],26:[2,126],54:[2,126],86:[2,126],91:[2,126]},{6:[2,52],25:[2,52],26:[2,52],53:325,54:[1,232]},{6:[2,127],25:[2,127],26:[2,127],54:[2,127],86:[2,127],91:[2,127]},{1:[2,169],6:[2,169],25:[2,169],26:[2,169],49:[2,169],54:[2,169],57:[2,169],73:[2,169],78:[2,169],86:[2,169],91:[2,169],93:[2,169],102:[2,169],103:84,104:[2,169],105:[2,169],106:[2,169],109:85,110:[2,169],111:68,118:[1,326],126:[2,169],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,171],6:[2,171],25:[2,171],26:[2,171],49:[2,171],54:[2,171],57:[2,171],73:[2,171],78:[2,171],86:[2,171],91:[2,171],93:[2,171],102:[2,171],103:84,104:[2,171],105:[1,327],106:[2,171],109:85,110:[2,171],111:68,118:[2,171],126:[2,171],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,170],6:[2,170],25:[2,170],26:[2,170],49:[2,170],54:[2,170],57:[2,170],73:[2,170],78:[2,170],86:[2,170],91:[2,170],93:[2,170],102:[2,170],103:84,104:[2,170],105:[2,170],106:[2,170],109:85,110:[2,170],111:68,118:[2,170],126:[2,170],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[2,94],25:[2,94],26:[2,94],54:[2,94],78:[2,94]},{6:[2,52],25:[2,52],26:[2,52],53:328,54:[1,242]},{26:[1,329],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,253],25:[1,254],26:[1,330]},{26:[1,331]},{1:[2,177],6:[2,177],25:[2,177],26:[2,177],49:[2,177],54:[2,177],57:[2,177],73:[2,177],78:[2,177],86:[2,177],91:[2,177],93:[2,177],102:[2,177],104:[2,177],105:[2,177],106:[2,177],110:[2,177],118:[2,177],126:[2,177],129:[2,177],130:[2,177],133:[2,177],134:[2,177],135:[2,177],136:[2,177],137:[2,177],138:[2,177],139:[2,177]},{26:[2,181],121:[2,181],123:[2,181]},{25:[2,133],54:[2,133],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,276],25:[1,277],26:[1,332]},{7:333,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:334,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[1,287],25:[1,288],26:[1,335]},{6:[2,40],25:[2,40],26:[2,40],54:[2,40],78:[2,40]},{6:[2,58],25:[2,58],26:[2,58],49:[2,58],54:[2,58]},{1:[2,175],6:[2,175],25:[2,175],26:[2,175],49:[2,175],54:[2,175],57:[2,175],73:[2,175],78:[2,175],86:[2,175],91:[2,175],93:[2,175],102:[2,175],104:[2,175],105:[2,175],106:[2,175],110:[2,175],118:[2,175],126:[2,175],129:[2,175],130:[2,175],133:[2,175],134:[2,175],135:[2,175],136:[2,175],137:[2,175],138:[2,175],139:[2,175]},{6:[2,128],25:[2,128],26:[2,128],54:[2,128],86:[2,128],91:[2,128]},{1:[2,172],6:[2,172],25:[2,172],26:[2,172],49:[2,172],54:[2,172],57:[2,172],73:[2,172],78:[2,172],86:[2,172],91:[2,172],93:[2,172],102:[2,172],103:84,104:[2,172],105:[2,172],106:[2,172],109:85,110:[2,172],111:68,118:[2,172],126:[2,172],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,173],6:[2,173],25:[2,173],26:[2,173],49:[2,173],54:[2,173],57:[2,173],73:[2,173],78:[2,173],86:[2,173],91:[2,173],93:[2,173],102:[2,173],103:84,104:[2,173],105:[2,173],106:[2,173],109:85,110:[2,173],111:68,118:[2,173],126:[2,173],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[2,95],25:[2,95],26:[2,95],54:[2,95],78:[2,95]}],
defaultActions: {59:[2,50],60:[2,51],91:[2,109],192:[2,89]},
parseError: function parseError(str, hash) {
    if (hash.recoverable) {
        this.trace(str);
    } else {
        throw new Error(str);
    }
},
parse: function parse(input) {
    var self = this, stack = [0], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;
    var args = lstack.slice.call(arguments, 1);
    this.lexer.setInput(input);
    this.lexer.yy = this.yy;
    this.yy.lexer = this.lexer;
    this.yy.parser = this;
    if (typeof this.lexer.yylloc == 'undefined') {
        this.lexer.yylloc = {};
    }
    var yyloc = this.lexer.yylloc;
    lstack.push(yyloc);
    var ranges = this.lexer.options && this.lexer.options.ranges;
    if (typeof this.yy.parseError === 'function') {
        this.parseError = this.yy.parseError;
    } else {
        this.parseError = Object.getPrototypeOf(this).parseError;
    }
    function popStack(n) {
        stack.length = stack.length - 2 * n;
        vstack.length = vstack.length - n;
        lstack.length = lstack.length - n;
    }
    function lex() {
        var token;
        token = self.lexer.lex() || EOF;
        if (typeof token !== 'number') {
            token = self.symbols_[token] || token;
        }
        return token;
    }
    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;
    while (true) {
        state = stack[stack.length - 1];
        if (this.defaultActions[state]) {
            action = this.defaultActions[state];
        } else {
            if (symbol === null || typeof symbol == 'undefined') {
                symbol = lex();
            }
            action = table[state] && table[state][symbol];
        }
                    if (typeof action === 'undefined' || !action.length || !action[0]) {
                var errStr = '';
                expected = [];
                for (p in table[state]) {
                    if (this.terminals_[p] && p > TERROR) {
                        expected.push('\'' + this.terminals_[p] + '\'');
                    }
                }
                if (this.lexer.showPosition) {
                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\n' + this.lexer.showPosition() + '\nExpecting ' + expected.join(', ') + ', got \'' + (this.terminals_[symbol] || symbol) + '\'';
                } else {
                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\'' + (this.terminals_[symbol] || symbol) + '\'');
                }
                this.parseError(errStr, {
                    text: this.lexer.match,
                    token: this.terminals_[symbol] || symbol,
                    line: this.lexer.yylineno,
                    loc: yyloc,
                    expected: expected
                });
            }
        if (action[0] instanceof Array && action.length > 1) {
            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);
        }
        switch (action[0]) {
        case 1:
            stack.push(symbol);
            vstack.push(this.lexer.yytext);
            lstack.push(this.lexer.yylloc);
            stack.push(action[1]);
            symbol = null;
            if (!preErrorSymbol) {
                yyleng = this.lexer.yyleng;
                yytext = this.lexer.yytext;
                yylineno = this.lexer.yylineno;
                yyloc = this.lexer.yylloc;
                if (recovering > 0) {
                    recovering--;
                }
            } else {
                symbol = preErrorSymbol;
                preErrorSymbol = null;
            }
            break;
        case 2:
            len = this.productions_[action[1]][1];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
                first_line: lstack[lstack.length - (len || 1)].first_line,
                last_line: lstack[lstack.length - 1].last_line,
                first_column: lstack[lstack.length - (len || 1)].first_column,
                last_column: lstack[lstack.length - 1].last_column
            };
            if (ranges) {
                yyval._$.range = [
                    lstack[lstack.length - (len || 1)].range[0],
                    lstack[lstack.length - 1].range[1]
                ];
            }
            r = this.performAction.apply(yyval, [
                yytext,
                yyleng,
                yylineno,
                this.yy,
                action[1],
                vstack,
                lstack
            ].concat(args));
            if (typeof r !== 'undefined') {
                return r;
            }
            if (len) {
                stack = stack.slice(0, -1 * len * 2);
                vstack = vstack.slice(0, -1 * len);
                lstack = lstack.slice(0, -1 * len);
            }
            stack.push(this.productions_[action[1]][0]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
            stack.push(newState);
            break;
        case 3:
            return true;
        }
    }
    return true;
}};

function Parser () {
  this.yy = {};
}
Parser.prototype = parser;parser.Parser = Parser;
return new Parser;
})();


if (typeof require !== 'undefined' && typeof exports !== 'undefined') {
exports.parser = parser;
exports.Parser = parser.Parser;
exports.parse = function () { return parser.parse.apply(parser, arguments); };
exports.main = function commonjsMain(args) {
    if (!args[1]) {
        console.log('Usage: '+args[0]+' FILE');
        process.exit(1);
    }
    var source = require('fs').readFileSync(require('path').normalize(args[1]), "utf8");
    return exports.parser.parse(source);
};
if (typeof module !== 'undefined' && require.main === module) {
  exports.main(process.argv.slice(1));
}
}
}).call(this,require('_process'))
},{"_process":23,"fs":20,"path":22}],35:[function(require,module,exports){
// Generated by CoffeeScript 1.8.0
(function() {
  var CoffeeScript, Module, binary, child_process, ext, findExtension, fork, helpers, loadFile, path, _i, _len, _ref;

  CoffeeScript = require('./coffee-script');

  child_process = require('child_process');

  helpers = require('./helpers');

  path = require('path');

  loadFile = function(module, filename) {
    var answer;
    answer = CoffeeScript._compileFile(filename, false);
    return module._compile(answer, filename);
  };

  if (require.extensions) {
    _ref = CoffeeScript.FILE_EXTENSIONS;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      ext = _ref[_i];
      require.extensions[ext] = loadFile;
    }
    Module = require('module');
    findExtension = function(filename) {
      var curExtension, extensions;
      extensions = path.basename(filename).split('.');
      if (extensions[0] === '') {
        extensions.shift();
      }
      while (extensions.shift()) {
        curExtension = '.' + extensions.join('.');
        if (Module._extensions[curExtension]) {
          return curExtension;
        }
      }
      return '.js';
    };
    Module.prototype.load = function(filename) {
      var extension;
      this.filename = filename;
      this.paths = Module._nodeModulePaths(path.dirname(filename));
      extension = findExtension(filename);
      Module._extensions[extension](this, filename);
      return this.loaded = true;
    };
  }

  if (child_process) {
    fork = child_process.fork;
    binary = require.resolve('../../bin/coffee');
    child_process.fork = function(path, args, options) {
      if (helpers.isCoffee(path)) {
        if (!Array.isArray(args)) {
          options = args || {};
          args = [];
        }
        args = [path].concat(args);
        path = binary;
      }
      return fork(path, args, options);
    };
  }

}).call(this);

},{"./coffee-script":30,"./helpers":31,"child_process":20,"module":20,"path":22}],36:[function(require,module,exports){
// Generated by CoffeeScript 1.8.0
(function() {
  var BALANCED_PAIRS, CALL_CLOSERS, EXPRESSION_CLOSE, EXPRESSION_END, EXPRESSION_START, IMPLICIT_CALL, IMPLICIT_END, IMPLICIT_FUNC, IMPLICIT_UNSPACED_CALL, INVERSES, LINEBREAKS, SINGLE_CLOSERS, SINGLE_LINERS, generate, left, rite, _i, _len, _ref,
    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },
    __slice = [].slice;

  generate = function(tag, value, origin) {
    var tok;
    tok = [tag, value];
    tok.generated = true;
    if (origin) {
      tok.origin = origin;
    }
    return tok;
  };

  exports.Rewriter = (function() {
    function Rewriter() {}

    Rewriter.prototype.rewrite = function(tokens) {
      this.tokens = tokens;
      this.removeLeadingNewlines();
      this.closeOpenCalls();
      this.closeOpenIndexes();
      this.normalizeLines();
      this.tagPostfixConditionals();
      this.addImplicitBracesAndParens();
      this.addLocationDataToGeneratedTokens();
      return this.tokens;
    };

    Rewriter.prototype.scanTokens = function(block) {
      var i, token, tokens;
      tokens = this.tokens;
      i = 0;
      while (token = tokens[i]) {
        i += block.call(this, token, i, tokens);
      }
      return true;
    };

    Rewriter.prototype.detectEnd = function(i, condition, action) {
      var levels, token, tokens, _ref, _ref1;
      tokens = this.tokens;
      levels = 0;
      while (token = tokens[i]) {
        if (levels === 0 && condition.call(this, token, i)) {
          return action.call(this, token, i);
        }
        if (!token || levels < 0) {
          return action.call(this, token, i - 1);
        }
        if (_ref = token[0], __indexOf.call(EXPRESSION_START, _ref) >= 0) {
          levels += 1;
        } else if (_ref1 = token[0], __indexOf.call(EXPRESSION_END, _ref1) >= 0) {
          levels -= 1;
        }
        i += 1;
      }
      return i - 1;
    };

    Rewriter.prototype.removeLeadingNewlines = function() {
      var i, tag, _i, _len, _ref;
      _ref = this.tokens;
      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
        tag = _ref[i][0];
        if (tag !== 'TERMINATOR') {
          break;
        }
      }
      if (i) {
        return this.tokens.splice(0, i);
      }
    };

    Rewriter.prototype.closeOpenCalls = function() {
      var action, condition;
      condition = function(token, i) {
        var _ref;
        return ((_ref = token[0]) === ')' || _ref === 'CALL_END') || token[0] === 'OUTDENT' && this.tag(i - 1) === ')';
      };
      action = function(token, i) {
        return this.tokens[token[0] === 'OUTDENT' ? i - 1 : i][0] = 'CALL_END';
      };
      return this.scanTokens(function(token, i) {
        if (token[0] === 'CALL_START') {
          this.detectEnd(i + 1, condition, action);
        }
        return 1;
      });
    };

    Rewriter.prototype.closeOpenIndexes = function() {
      var action, condition;
      condition = function(token, i) {
        var _ref;
        return (_ref = token[0]) === ']' || _ref === 'INDEX_END';
      };
      action = function(token, i) {
        return token[0] = 'INDEX_END';
      };
      return this.scanTokens(function(token, i) {
        if (token[0] === 'INDEX_START') {
          this.detectEnd(i + 1, condition, action);
        }
        return 1;
      });
    };

    Rewriter.prototype.matchTags = function() {
      var fuzz, i, j, pattern, _i, _ref, _ref1;
      i = arguments[0], pattern = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
      fuzz = 0;
      for (j = _i = 0, _ref = pattern.length; 0 <= _ref ? _i < _ref : _i > _ref; j = 0 <= _ref ? ++_i : --_i) {
        while (this.tag(i + j + fuzz) === 'HERECOMMENT') {
          fuzz += 2;
        }
        if (pattern[j] == null) {
          continue;
        }
        if (typeof pattern[j] === 'string') {
          pattern[j] = [pattern[j]];
        }
        if (_ref1 = this.tag(i + j + fuzz), __indexOf.call(pattern[j], _ref1) < 0) {
          return false;
        }
      }
      return true;
    };

    Rewriter.prototype.looksObjectish = function(j) {
      return this.matchTags(j, '@', null, ':') || this.matchTags(j, null, ':');
    };

    Rewriter.prototype.findTagsBackwards = function(i, tags) {
      var backStack, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;
      backStack = [];
      while (i >= 0 && (backStack.length || (_ref2 = this.tag(i), __indexOf.call(tags, _ref2) < 0) && ((_ref3 = this.tag(i), __indexOf.call(EXPRESSION_START, _ref3) < 0) || this.tokens[i].generated) && (_ref4 = this.tag(i), __indexOf.call(LINEBREAKS, _ref4) < 0))) {
        if (_ref = this.tag(i), __indexOf.call(EXPRESSION_END, _ref) >= 0) {
          backStack.push(this.tag(i));
        }
        if ((_ref1 = this.tag(i), __indexOf.call(EXPRESSION_START, _ref1) >= 0) && backStack.length) {
          backStack.pop();
        }
        i -= 1;
      }
      return _ref5 = this.tag(i), __indexOf.call(tags, _ref5) >= 0;
    };

    Rewriter.prototype.addImplicitBracesAndParens = function() {
      var stack;
      stack = [];
      return this.scanTokens(function(token, i, tokens) {
        var endImplicitCall, endImplicitObject, forward, inImplicit, inImplicitCall, inImplicitControl, inImplicitObject, newLine, nextTag, offset, prevTag, prevToken, s, sameLine, stackIdx, stackTag, stackTop, startIdx, startImplicitCall, startImplicitObject, startsLine, tag, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;
        tag = token[0];
        prevTag = (prevToken = i > 0 ? tokens[i - 1] : [])[0];
        nextTag = (i < tokens.length - 1 ? tokens[i + 1] : [])[0];
        stackTop = function() {
          return stack[stack.length - 1];
        };
        startIdx = i;
        forward = function(n) {
          return i - startIdx + n;
        };
        inImplicit = function() {
          var _ref, _ref1;
          return (_ref = stackTop()) != null ? (_ref1 = _ref[2]) != null ? _ref1.ours : void 0 : void 0;
        };
        inImplicitCall = function() {
          var _ref;
          return inImplicit() && ((_ref = stackTop()) != null ? _ref[0] : void 0) === '(';
        };
        inImplicitObject = function() {
          var _ref;
          return inImplicit() && ((_ref = stackTop()) != null ? _ref[0] : void 0) === '{';
        };
        inImplicitControl = function() {
          var _ref;
          return inImplicit && ((_ref = stackTop()) != null ? _ref[0] : void 0) === 'CONTROL';
        };
        startImplicitCall = function(j) {
          var idx;
          idx = j != null ? j : i;
          stack.push([
            '(', idx, {
              ours: true
            }
          ]);
          tokens.splice(idx, 0, generate('CALL_START', '('));
          if (j == null) {
            return i += 1;
          }
        };
        endImplicitCall = function() {
          stack.pop();
          tokens.splice(i, 0, generate('CALL_END', ')'));
          return i += 1;
        };
        startImplicitObject = function(j, startsLine) {
          var idx;
          if (startsLine == null) {
            startsLine = true;
          }
          idx = j != null ? j : i;
          stack.push([
            '{', idx, {
              sameLine: true,
              startsLine: startsLine,
              ours: true
            }
          ]);
          tokens.splice(idx, 0, generate('{', generate(new String('{')), token));
          if (j == null) {
            return i += 1;
          }
        };
        endImplicitObject = function(j) {
          j = j != null ? j : i;
          stack.pop();
          tokens.splice(j, 0, generate('}', '}', token));
          return i += 1;
        };
        if (inImplicitCall() && (tag === 'IF' || tag === 'TRY' || tag === 'FINALLY' || tag === 'CATCH' || tag === 'CLASS' || tag === 'SWITCH')) {
          stack.push([
            'CONTROL', i, {
              ours: true
            }
          ]);
          return forward(1);
        }
        if (tag === 'INDENT' && inImplicit()) {
          if (prevTag !== '=>' && prevTag !== '->' && prevTag !== '[' && prevTag !== '(' && prevTag !== ',' && prevTag !== '{' && prevTag !== 'TRY' && prevTag !== 'ELSE' && prevTag !== '=') {
            while (inImplicitCall()) {
              endImplicitCall();
            }
          }
          if (inImplicitControl()) {
            stack.pop();
          }
          stack.push([tag, i]);
          return forward(1);
        }
        if (__indexOf.call(EXPRESSION_START, tag) >= 0) {
          stack.push([tag, i]);
          return forward(1);
        }
        if (__indexOf.call(EXPRESSION_END, tag) >= 0) {
          while (inImplicit()) {
            if (inImplicitCall()) {
              endImplicitCall();
            } else if (inImplicitObject()) {
              endImplicitObject();
            } else {
              stack.pop();
            }
          }
          stack.pop();
        }
        if ((__indexOf.call(IMPLICIT_FUNC, tag) >= 0 && token.spaced && !token.stringEnd || tag === '?' && i > 0 && !tokens[i - 1].spaced) && (__indexOf.call(IMPLICIT_CALL, nextTag) >= 0 || __indexOf.call(IMPLICIT_UNSPACED_CALL, nextTag) >= 0 && !((_ref = tokens[i + 1]) != null ? _ref.spaced : void 0) && !((_ref1 = tokens[i + 1]) != null ? _ref1.newLine : void 0))) {
          if (tag === '?') {
            tag = token[0] = 'FUNC_EXIST';
          }
          startImplicitCall(i + 1);
          return forward(2);
        }
        if (__indexOf.call(IMPLICIT_FUNC, tag) >= 0 && this.matchTags(i + 1, 'INDENT', null, ':') && !this.findTagsBackwards(i, ['CLASS', 'EXTENDS', 'IF', 'CATCH', 'SWITCH', 'LEADING_WHEN', 'FOR', 'WHILE', 'UNTIL'])) {
          startImplicitCall(i + 1);
          stack.push(['INDENT', i + 2]);
          return forward(3);
        }
        if (tag === ':') {
          if (this.tag(i - 2) === '@') {
            s = i - 2;
          } else {
            s = i - 1;
          }
          while (this.tag(s - 2) === 'HERECOMMENT') {
            s -= 2;
          }
          this.insideForDeclaration = nextTag === 'FOR';
          startsLine = s === 0 || (_ref2 = this.tag(s - 1), __indexOf.call(LINEBREAKS, _ref2) >= 0) || tokens[s - 1].newLine;
          if (stackTop()) {
            _ref3 = stackTop(), stackTag = _ref3[0], stackIdx = _ref3[1];
            if ((stackTag === '{' || stackTag === 'INDENT' && this.tag(stackIdx - 1) === '{') && (startsLine || this.tag(s - 1) === ',' || this.tag(s - 1) === '{')) {
              return forward(1);
            }
          }
          startImplicitObject(s, !!startsLine);
          return forward(2);
        }
        if (inImplicitObject() && __indexOf.call(LINEBREAKS, tag) >= 0) {
          stackTop()[2].sameLine = false;
        }
        newLine = prevTag === 'OUTDENT' || prevToken.newLine;
        if (__indexOf.call(IMPLICIT_END, tag) >= 0 || __indexOf.call(CALL_CLOSERS, tag) >= 0 && newLine) {
          while (inImplicit()) {
            _ref4 = stackTop(), stackTag = _ref4[0], stackIdx = _ref4[1], (_ref5 = _ref4[2], sameLine = _ref5.sameLine, startsLine = _ref5.startsLine);
            if (inImplicitCall() && prevTag !== ',') {
              endImplicitCall();
            } else if (inImplicitObject() && !this.insideForDeclaration && sameLine && tag !== 'TERMINATOR' && prevTag !== ':' && endImplicitObject()) {

            } else if (inImplicitObject() && tag === 'TERMINATOR' && prevTag !== ',' && !(startsLine && this.looksObjectish(i + 1))) {
              endImplicitObject();
            } else {
              break;
            }
          }
        }
        if (tag === ',' && !this.looksObjectish(i + 1) && inImplicitObject() && !this.insideForDeclaration && (nextTag !== 'TERMINATOR' || !this.looksObjectish(i + 2))) {
          offset = nextTag === 'OUTDENT' ? 1 : 0;
          while (inImplicitObject()) {
            endImplicitObject(i + offset);
          }
        }
        return forward(1);
      });
    };

    Rewriter.prototype.addLocationDataToGeneratedTokens = function() {
      return this.scanTokens(function(token, i, tokens) {
        var column, line, nextLocation, prevLocation, _ref, _ref1;
        if (token[2]) {
          return 1;
        }
        if (!(token.generated || token.explicit)) {
          return 1;
        }
        if (token[0] === '{' && (nextLocation = (_ref = tokens[i + 1]) != null ? _ref[2] : void 0)) {
          line = nextLocation.first_line, column = nextLocation.first_column;
        } else if (prevLocation = (_ref1 = tokens[i - 1]) != null ? _ref1[2] : void 0) {
          line = prevLocation.last_line, column = prevLocation.last_column;
        } else {
          line = column = 0;
        }
        token[2] = {
          first_line: line,
          first_column: column,
          last_line: line,
          last_column: column
        };
        return 1;
      });
    };

    Rewriter.prototype.normalizeLines = function() {
      var action, condition, indent, outdent, starter;
      starter = indent = outdent = null;
      condition = function(token, i) {
        var _ref, _ref1, _ref2, _ref3;
        return token[1] !== ';' && (_ref = token[0], __indexOf.call(SINGLE_CLOSERS, _ref) >= 0) && !(token[0] === 'TERMINATOR' && (_ref1 = this.tag(i + 1), __indexOf.call(EXPRESSION_CLOSE, _ref1) >= 0)) && !(token[0] === 'ELSE' && starter !== 'THEN') && !(((_ref2 = token[0]) === 'CATCH' || _ref2 === 'FINALLY') && (starter === '->' || starter === '=>')) || (_ref3 = token[0], __indexOf.call(CALL_CLOSERS, _ref3) >= 0) && this.tokens[i - 1].newLine;
      };
      action = function(token, i) {
        return this.tokens.splice((this.tag(i - 1) === ',' ? i - 1 : i), 0, outdent);
      };
      return this.scanTokens(function(token, i, tokens) {
        var j, tag, _i, _ref, _ref1, _ref2;
        tag = token[0];
        if (tag === 'TERMINATOR') {
          if (this.tag(i + 1) === 'ELSE' && this.tag(i - 1) !== 'OUTDENT') {
            tokens.splice.apply(tokens, [i, 1].concat(__slice.call(this.indentation())));
            return 1;
          }
          if (_ref = this.tag(i + 1), __indexOf.call(EXPRESSION_CLOSE, _ref) >= 0) {
            tokens.splice(i, 1);
            return 0;
          }
        }
        if (tag === 'CATCH') {
          for (j = _i = 1; _i <= 2; j = ++_i) {
            if (!((_ref1 = this.tag(i + j)) === 'OUTDENT' || _ref1 === 'TERMINATOR' || _ref1 === 'FINALLY')) {
              continue;
            }
            tokens.splice.apply(tokens, [i + j, 0].concat(__slice.call(this.indentation())));
            return 2 + j;
          }
        }
        if (__indexOf.call(SINGLE_LINERS, tag) >= 0 && this.tag(i + 1) !== 'INDENT' && !(tag === 'ELSE' && this.tag(i + 1) === 'IF')) {
          starter = tag;
          _ref2 = this.indentation(tokens[i]), indent = _ref2[0], outdent = _ref2[1];
          if (starter === 'THEN') {
            indent.fromThen = true;
          }
          tokens.splice(i + 1, 0, indent);
          this.detectEnd(i + 2, condition, action);
          if (tag === 'THEN') {
            tokens.splice(i, 1);
          }
          return 1;
        }
        return 1;
      });
    };

    Rewriter.prototype.tagPostfixConditionals = function() {
      var action, condition, original;
      original = null;
      condition = function(token, i) {
        var prevTag, tag;
        tag = token[0];
        prevTag = this.tokens[i - 1][0];
        return tag === 'TERMINATOR' || (tag === 'INDENT' && __indexOf.call(SINGLE_LINERS, prevTag) < 0);
      };
      action = function(token, i) {
        if (token[0] !== 'INDENT' || (token.generated && !token.fromThen)) {
          return original[0] = 'POST_' + original[0];
        }
      };
      return this.scanTokens(function(token, i) {
        if (token[0] !== 'IF') {
          return 1;
        }
        original = token;
        this.detectEnd(i + 1, condition, action);
        return 1;
      });
    };

    Rewriter.prototype.indentation = function(origin) {
      var indent, outdent;
      indent = ['INDENT', 2];
      outdent = ['OUTDENT', 2];
      if (origin) {
        indent.generated = outdent.generated = true;
        indent.origin = outdent.origin = origin;
      } else {
        indent.explicit = outdent.explicit = true;
      }
      return [indent, outdent];
    };

    Rewriter.prototype.generate = generate;

    Rewriter.prototype.tag = function(i) {
      var _ref;
      return (_ref = this.tokens[i]) != null ? _ref[0] : void 0;
    };

    return Rewriter;

  })();

  BALANCED_PAIRS = [['(', ')'], ['[', ']'], ['{', '}'], ['INDENT', 'OUTDENT'], ['CALL_START', 'CALL_END'], ['PARAM_START', 'PARAM_END'], ['INDEX_START', 'INDEX_END']];

  exports.INVERSES = INVERSES = {};

  EXPRESSION_START = [];

  EXPRESSION_END = [];

  for (_i = 0, _len = BALANCED_PAIRS.length; _i < _len; _i++) {
    _ref = BALANCED_PAIRS[_i], left = _ref[0], rite = _ref[1];
    EXPRESSION_START.push(INVERSES[rite] = left);
    EXPRESSION_END.push(INVERSES[left] = rite);
  }

  EXPRESSION_CLOSE = ['CATCH', 'THEN', 'ELSE', 'FINALLY'].concat(EXPRESSION_END);

  IMPLICIT_FUNC = ['IDENTIFIER', 'SUPER', ')', 'CALL_END', ']', 'INDEX_END', '@', 'THIS'];

  IMPLICIT_CALL = ['IDENTIFIER', 'NUMBER', 'STRING', 'JS', 'REGEX', 'NEW', 'PARAM_START', 'CLASS', 'IF', 'TRY', 'SWITCH', 'THIS', 'BOOL', 'NULL', 'UNDEFINED', 'UNARY', 'UNARY_MATH', 'SUPER', 'THROW', '@', '->', '=>', '[', '(', '{', '--', '++'];

  IMPLICIT_UNSPACED_CALL = ['+', '-'];

  IMPLICIT_END = ['POST_IF', 'FOR', 'WHILE', 'UNTIL', 'WHEN', 'BY', 'LOOP', 'TERMINATOR'];

  SINGLE_LINERS = ['ELSE', '->', '=>', 'TRY', 'FINALLY', 'THEN'];

  SINGLE_CLOSERS = ['TERMINATOR', 'CATCH', 'FINALLY', 'ELSE', 'OUTDENT', 'LEADING_WHEN'];

  LINEBREAKS = ['TERMINATOR', 'INDENT', 'OUTDENT'];

  CALL_CLOSERS = ['.', '?.', '::', '?::'];

}).call(this);

},{}],37:[function(require,module,exports){
// Generated by CoffeeScript 1.8.0
(function() {
  var Scope, extend, last, _ref;

  _ref = require('./helpers'), extend = _ref.extend, last = _ref.last;

  exports.Scope = Scope = (function() {
    Scope.root = null;

    function Scope(parent, expressions, method) {
      this.parent = parent;
      this.expressions = expressions;
      this.method = method;
      this.variables = [
        {
          name: 'arguments',
          type: 'arguments'
        }
      ];
      this.positions = {};
      if (!this.parent) {
        Scope.root = this;
      }
    }

    Scope.prototype.add = function(name, type, immediate) {
      if (this.shared && !immediate) {
        return this.parent.add(name, type, immediate);
      }
      if (Object.prototype.hasOwnProperty.call(this.positions, name)) {
        return this.variables[this.positions[name]].type = type;
      } else {
        return this.positions[name] = this.variables.push({
          name: name,
          type: type
        }) - 1;
      }
    };

    Scope.prototype.namedMethod = function() {
      var _ref1;
      if (((_ref1 = this.method) != null ? _ref1.name : void 0) || !this.parent) {
        return this.method;
      }
      return this.parent.namedMethod();
    };

    Scope.prototype.find = function(name) {
      if (this.check(name)) {
        return true;
      }
      this.add(name, 'var');
      return false;
    };

    Scope.prototype.parameter = function(name) {
      if (this.shared && this.parent.check(name, true)) {
        return;
      }
      return this.add(name, 'param');
    };

    Scope.prototype.check = function(name) {
      var _ref1;
      return !!(this.type(name) || ((_ref1 = this.parent) != null ? _ref1.check(name) : void 0));
    };

    Scope.prototype.temporary = function(name, index) {
      if (name.length > 1) {
        return '_' + name + (index > 1 ? index - 1 : '');
      } else {
        return '_' + (index + parseInt(name, 36)).toString(36).replace(/\d/g, 'a');
      }
    };

    Scope.prototype.type = function(name) {
      var v, _i, _len, _ref1;
      _ref1 = this.variables;
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        v = _ref1[_i];
        if (v.name === name) {
          return v.type;
        }
      }
      return null;
    };

    Scope.prototype.freeVariable = function(name, reserve) {
      var index, temp;
      if (reserve == null) {
        reserve = true;
      }
      index = 0;
      while (this.check((temp = this.temporary(name, index)))) {
        index++;
      }
      if (reserve) {
        this.add(temp, 'var', true);
      }
      return temp;
    };

    Scope.prototype.assign = function(name, value) {
      this.add(name, {
        value: value,
        assigned: true
      }, true);
      return this.hasAssignments = true;
    };

    Scope.prototype.hasDeclarations = function() {
      return !!this.declaredVariables().length;
    };

    Scope.prototype.declaredVariables = function() {
      var realVars, tempVars, v, _i, _len, _ref1;
      realVars = [];
      tempVars = [];
      _ref1 = this.variables;
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        v = _ref1[_i];
        if (v.type === 'var') {
          (v.name.charAt(0) === '_' ? tempVars : realVars).push(v.name);
        }
      }
      return realVars.sort().concat(tempVars.sort());
    };

    Scope.prototype.assignedVariables = function() {
      var v, _i, _len, _ref1, _results;
      _ref1 = this.variables;
      _results = [];
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        v = _ref1[_i];
        if (v.type.assigned) {
          _results.push("" + v.name + " = " + v.type.value);
        }
      }
      return _results;
    };

    return Scope;

  })();

}).call(this);

},{"./helpers":31}],38:[function(require,module,exports){
// Generated by CoffeeScript 1.8.0
(function() {
  var LineMap, SourceMap;

  LineMap = (function() {
    function LineMap(line) {
      this.line = line;
      this.columns = [];
    }

    LineMap.prototype.add = function(column, _arg, options) {
      var sourceColumn, sourceLine;
      sourceLine = _arg[0], sourceColumn = _arg[1];
      if (options == null) {
        options = {};
      }
      if (this.columns[column] && options.noReplace) {
        return;
      }
      return this.columns[column] = {
        line: this.line,
        column: column,
        sourceLine: sourceLine,
        sourceColumn: sourceColumn
      };
    };

    LineMap.prototype.sourceLocation = function(column) {
      var mapping;
      while (!((mapping = this.columns[column]) || (column <= 0))) {
        column--;
      }
      return mapping && [mapping.sourceLine, mapping.sourceColumn];
    };

    return LineMap;

  })();

  SourceMap = (function() {
    var BASE64_CHARS, VLQ_CONTINUATION_BIT, VLQ_SHIFT, VLQ_VALUE_MASK;

    function SourceMap() {
      this.lines = [];
    }

    SourceMap.prototype.add = function(sourceLocation, generatedLocation, options) {
      var column, line, lineMap, _base;
      if (options == null) {
        options = {};
      }
      line = generatedLocation[0], column = generatedLocation[1];
      lineMap = ((_base = this.lines)[line] || (_base[line] = new LineMap(line)));
      return lineMap.add(column, sourceLocation, options);
    };

    SourceMap.prototype.sourceLocation = function(_arg) {
      var column, line, lineMap;
      line = _arg[0], column = _arg[1];
      while (!((lineMap = this.lines[line]) || (line <= 0))) {
        line--;
      }
      return lineMap && lineMap.sourceLocation(column);
    };

    SourceMap.prototype.generate = function(options, code) {
      var buffer, lastColumn, lastSourceColumn, lastSourceLine, lineMap, lineNumber, mapping, needComma, v3, writingline, _i, _j, _len, _len1, _ref, _ref1;
      if (options == null) {
        options = {};
      }
      if (code == null) {
        code = null;
      }
      writingline = 0;
      lastColumn = 0;
      lastSourceLine = 0;
      lastSourceColumn = 0;
      needComma = false;
      buffer = "";
      _ref = this.lines;
      for (lineNumber = _i = 0, _len = _ref.length; _i < _len; lineNumber = ++_i) {
        lineMap = _ref[lineNumber];
        if (lineMap) {
          _ref1 = lineMap.columns;
          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
            mapping = _ref1[_j];
            if (!(mapping)) {
              continue;
            }
            while (writingline < mapping.line) {
              lastColumn = 0;
              needComma = false;
              buffer += ";";
              writingline++;
            }
            if (needComma) {
              buffer += ",";
              needComma = false;
            }
            buffer += this.encodeVlq(mapping.column - lastColumn);
            lastColumn = mapping.column;
            buffer += this.encodeVlq(0);
            buffer += this.encodeVlq(mapping.sourceLine - lastSourceLine);
            lastSourceLine = mapping.sourceLine;
            buffer += this.encodeVlq(mapping.sourceColumn - lastSourceColumn);
            lastSourceColumn = mapping.sourceColumn;
            needComma = true;
          }
        }
      }
      v3 = {
        version: 3,
        file: options.generatedFile || '',
        sourceRoot: options.sourceRoot || '',
        sources: options.sourceFiles || [''],
        names: [],
        mappings: buffer
      };
      if (options.inline) {
        v3.sourcesContent = [code];
      }
      return JSON.stringify(v3, null, 2);
    };

    VLQ_SHIFT = 5;

    VLQ_CONTINUATION_BIT = 1 << VLQ_SHIFT;

    VLQ_VALUE_MASK = VLQ_CONTINUATION_BIT - 1;

    SourceMap.prototype.encodeVlq = function(value) {
      var answer, nextChunk, signBit, valueToEncode;
      answer = '';
      signBit = value < 0 ? 1 : 0;
      valueToEncode = (Math.abs(value) << 1) + signBit;
      while (valueToEncode || !answer) {
        nextChunk = valueToEncode & VLQ_VALUE_MASK;
        valueToEncode = valueToEncode >> VLQ_SHIFT;
        if (valueToEncode) {
          nextChunk |= VLQ_CONTINUATION_BIT;
        }
        answer += this.encodeBase64(nextChunk);
      }
      return answer;
    };

    BASE64_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';

    SourceMap.prototype.encodeBase64 = function(value) {
      return BASE64_CHARS[value] || (function() {
        throw new Error("Cannot Base64 encode value: " + value);
      })();
    };

    return SourceMap;

  })();

  module.exports = SourceMap;

}).call(this);

},{}],39:[function(require,module,exports){
// Generated by LiveScript 1.3.1
var ref$, log, swallow, delay, Key, keys, lines, split, CodeMirror, modeJs, modeCs, modeLs, flashTime, chunkExtentsAtPos, Editor, EditorCM, out$ = typeof exports != 'undefined' && exports || this;
ref$ = require('./helpers'), log = ref$.log, swallow = ref$.swallow, delay = ref$.delay, Key = ref$.Key;
ref$ = require('prelude-ls'), keys = ref$.keys, lines = ref$.lines, split = ref$.split;
CodeMirror = require('codemirror');
modeJs = require('codemirror/mode/javascript/javascript.js');
modeCs = require('codemirror/mode/coffeescript/coffeescript.js');
modeLs = require('codemirror/mode/livescript/livescript.js');
flashTime = 100;
chunkExtentsAtPos = function(text, ix, charsTraversed){
  var i$, ref$, len$, chunk;
  charsTraversed == null && (charsTraversed = 0);
  for (i$ = 0, len$ = (ref$ = text.split('\n\n')).length; i$ < len$; ++i$) {
    chunk = ref$[i$];
    if (charsTraversed + chunk.length + 1 >= ix) {
      return [charsTraversed, charsTraversed + chunk.length];
    } else {
      charsTraversed += chunk.length + 2;
    }
  }
  return [0, text.length];
};
out$.Editor = Editor = (function(){
  Editor.displayName = 'Editor';
  var prototype = Editor.prototype, constructor = Editor;
  function Editor(){
    var this$ = this;
    log("new Editor");
    this.dom = document.createElement('textarea');
    this.dom.className = 'editor';
    this.callbacks = {
      execute: []
    };
    this.dom.addEventListener('keypress', function(arg$){
      var which, ctrlKey, shiftKey;
      which = arg$.which, ctrlKey = arg$.ctrlKey, shiftKey = arg$.shiftKey;
      switch (which) {
      case Key.ENTER:
        if (ctrlKey) {
          swallow(event);
          if (shiftKey) {
            return this$.executeAll();
          } else {
            return this$.executeChunk();
          }
        }
      }
    });
  }
  prototype.execute = function(code){
    var i$, ref$, len$, λ, results$ = [];
    try {
      for (i$ = 0, len$ = (ref$ = this.callbacks.execute).length; i$ < len$; ++i$) {
        λ = ref$[i$];
        results$.push(λ(code));
      }
      return results$;
    } catch (e$) {}
  };
  prototype.executeAll = function(){
    this.execute(this.getContents());
    return this.flashAll();
  };
  prototype.executeChunk = function(){
    var cursorPos, extents;
    cursorPos = this.getCursorPosition();
    extents = this.getChunkExtents(this.getContents(), cursorPos);
    this.execute(this.getTextInside(extents));
    return this.flashChunk(extents, cursorPos);
  };
  prototype.onExecute = function(λ){
    return this.callbacks.execute.push(λ);
  };
  prototype.install = function(host){
    host.appendChild(this.dom);
    return this.dom.focus();
  };
  prototype.getCursorPosition = function(){
    return this.dom.selectionStart;
  };
  prototype.getChunkExtents = function(text, pos){
    return chunkExtentsAtPos(text, pos);
  };
  prototype.getContents = function(){
    return this.dom.value;
  };
  prototype.getTextInside = function(arg$){
    var start, end;
    start = arg$[0], end = arg$[1];
    return this.dom.value.substring(start, end);
  };
  prototype.load = function(text){
    return this.dom.value = text;
  };
  prototype.flashChunk = function(arg$, pos){
    var start, end, this$ = this;
    start = arg$[0], end = arg$[1];
    this.dom.selectionStart = start;
    this.dom.selectionEnd = end;
    return delay(flashTime, function(){
      this$.dom.selectionStart = pos;
      return this$.dom.selectionEnd = pos;
    });
  };
  prototype.flashAll = function(){
    var this$ = this;
    this.dom.className = "editor flashing";
    return delay(flashTime, function(){
      return this$.dom.className = "editor";
    });
  };
  return Editor;
}());
out$.EditorCM = EditorCM = (function(superclass){
  var prototype = extend$((import$(EditorCM, superclass).displayName = 'EditorCM', EditorCM), superclass).prototype, constructor = EditorCM;
  function EditorCM(config){
    var ref$, mode, ref1$, a, this$ = this;
    ref$ = config != null
      ? config
      : {}, mode = (ref1$ = ref$.mode) != null ? ref1$ : 'javascript', a = (ref1$ = ref$.a) != null ? ref1$ : 'b';
    log("new Editor (" + mode + ")");
    this.dom = document.createElement('div');
    this.dom.className = 'editor';
    this.cm = CodeMirror(this.dom, {
      mode: mode,
      theme: 'neo'
    });
    this.callbacks = {
      execute: []
    };
    this.dom.addEventListener('keypress', function(arg$){
      var which, ctrlKey, shiftKey;
      which = arg$.which, ctrlKey = arg$.ctrlKey, shiftKey = arg$.shiftKey;
      switch (which) {
      case Key.ENTER:
        if (ctrlKey) {
          swallow(event);
          if (shiftKey) {
            return this$.executeAll();
          } else {
            return this$.executeChunk();
          }
        }
      }
    });
  }
  prototype.install = function(host){
    host.appendChild(this.dom);
    return this.cm.focus();
  };
  prototype.load = function(it){
    this.cm.setValue(it);
    return this.cm.execCommand('goDocEnd');
  };
  prototype.getCursorPosition = function(){
    return this.cm.getCursor();
  };
  prototype.getChunkExtents = function(text, pos){
    var ref$, start, end;
    ref$ = chunkExtentsAtPos(text, this.cm.indexFromPos(pos)), start = ref$[0], end = ref$[1];
    return [this.cm.posFromIndex(start), this.cm.posFromIndex(end)];
  };
  prototype.getContents = function(){
    return this.cm.getValue();
  };
  prototype.getTextInside = function(arg$){
    var start, end;
    start = arg$[0], end = arg$[1];
    return this.cm.getRange(start, end);
  };
  prototype.flashChunk = function(arg$, pos){
    var start, end, marker;
    start = arg$[0], end = arg$[1];
    marker = this.cm.markText(start, end, {
      className: 'flashing'
    });
    return delay(flashTime, bind$(marker, 'clear'));
  };
  prototype.flashAll = function(){
    var this$ = this;
    this.dom.className = "editor flashing";
    return delay(flashTime, function(){
      return this$.dom.className = "editor";
    });
  };
  return EditorCM;
}(Editor));
function extend$(sub, sup){
  function fun(){} fun.prototype = (sub.superclass = sup).prototype;
  (sub.prototype = new fun).constructor = sub;
  if (typeof sup.extended == 'function') sup.extended(sub);
  return sub;
}
function import$(obj, src){
  var own = {}.hasOwnProperty;
  for (var key in src) if (own.call(src, key)) obj[key] = src[key];
  return obj;
}
function bind$(obj, key, target){
  return function(){ return (target || obj)[key].apply(obj, arguments) };
}
},{"./helpers":41,"codemirror":26,"codemirror/mode/coffeescript/coffeescript.js":27,"codemirror/mode/javascript/javascript.js":28,"codemirror/mode/livescript/livescript.js":29,"prelude-ls":7}],40:[function(require,module,exports){
// Generated by LiveScript 1.3.1
var log, ref$, id, keys, values, LS, CS, Evaluator, out$ = typeof exports != 'undefined' && exports || this;
log = require('./helpers').log;
ref$ = require('prelude-ls'), id = ref$.id, keys = ref$.keys, values = ref$.values;
LS = require('LiveScript');
CS = require('coffee-script');
out$.Evaluator = Evaluator = (function(){
  Evaluator.displayName = 'Evaluator';
  var secArgs, prototype = Evaluator.prototype, constructor = Evaluator;
  secArgs = ['window', 'top', 'document'];
  function Evaluator(lang){
    lang == null && (lang = 'javascript');
    log("new Evaluator (" + lang + ")");
    this.scope = {};
    this.globals = {};
    this.compile = (function(){
      switch (lang) {
      case 'livescript':
        return function(it){
          return LS.compile(it, {
            bare: true
          });
        };
      case 'coffeescript':
        return function(it){
          return CS.compile(it, {
            bare: true
          });
        };
      case 'javascript':
        return id;
      }
    }());
  }
  prototype.eval = function(source){
    var body, args, vals;
    body = this.compile(source);
    args = keys(this.globals).concat(secArgs, body);
    vals = values(this.globals);
    return Function.apply(null, args).apply(this.scope, vals);
  };
  return Evaluator;
}());
},{"./helpers":41,"LiveScript":9,"coffee-script":30,"prelude-ls":7}],41:[function(require,module,exports){
// Generated by LiveScript 1.3.1
var prelude, log, delay, swallow, Key, out$ = typeof exports != 'undefined' && exports || this;
prelude = require('prelude-ls');
out$.log = log = function(){
  console.log.apply(console, arguments);
  return arguments[0];
};
out$.delay = delay = prelude.flip(setTimeout);
out$.swallow = swallow = function(it){
  return typeof it.preventDefault == 'function' ? it.preventDefault() : void 8;
};
out$.Key = Key = {
  ENTER: 13
};
},{"prelude-ls":7}],42:[function(require,module,exports){
// Generated by LiveScript 1.3.1
var log, World2D, out$ = typeof exports != 'undefined' && exports || this;
log = require('./helpers').log;
out$.World2D = World2D = (function(){
  World2D.displayName = 'World2D';
  var prototype = World2D.prototype, constructor = World2D;
  function World2D(){
    this.canvas = document.createElement('canvas');
    this.ctx = this.canvas.getContext('2d');
    this.time = Date.now();
    this.Δt = 0;
    this.running = false;
  }
  prototype.init = function(){
    var this$ = this;
    this.canvas.className = 'canvas';
    this.canvas.width = window.innerWidth;
    this.canvas.height = window.innerHeight;
    return document.addEventListener('keydown', function(arg$){
      var which, shiftKey;
      which = arg$.which, shiftKey = arg$.shiftKey;
      if (which === 27) {
        console.warn("Halting frame loop");
        return this$.running = false;
      }
    });
  };
  prototype.clear = function(){
    return this.canvas.width = this.canvas.width;
  };
  prototype.install = function(host){
    return host.appendChild(this.canvas);
  };
  prototype.start = function(λ){
    this.init();
    this.running = true;
    return this.frame(λ);
  };
  prototype.frame = function(λ){
    var now, this$ = this;
    if (this.running) {
      requestAnimationFrame(function(){
        return this$.frame(λ);
      });
    }
    now = Date.now();
    this.Δt = now - this.time;
    this.time = now;
    this.clear();
    return typeof λ == 'function' ? λ(this.time, this.Δt) : void 8;
  };
  return World2D;
}());
},{"./helpers":41}],43:[function(require,module,exports){
// Generated by LiveScript 1.3.1
var log, World3D, out$ = typeof exports != 'undefined' && exports || this;
log = require('./helpers').log;
out$.World3D = World3D = (function(){
  World3D.displayName = 'World3D';
  var prototype = World3D.prototype, constructor = World3D;
  function World3D(){
    this.scene = new THREE.Scene();
    this.camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    this.renderer = new THREE.WebGLRenderer();
    this.time = Date.now();
    this.Δt = 0;
    this.running = false;
  }
  prototype.init = function(){
    var this$ = this;
    this.renderer.setSize(window.innerWidth, window.innerHeight);
    this.renderer.domElement.className = 'canvas';
    return document.addEventListener('keydown', function(arg$){
      var which, shiftKey;
      which = arg$.which, shiftKey = arg$.shiftKey;
      if (which === 27) {
        console.warn("Halting frame loop");
        return this$.running = false;
      }
    });
  };
  prototype.install = function(host){
    return host.appendChild(this.renderer.domElement);
  };
  prototype.start = function(λ){
    this.init();
    this.running = true;
    return this.frame(λ);
  };
  prototype.frame = function(λ, ctx){
    var now, this$ = this;
    if (this.running) {
      requestAnimationFrame(function(){
        return this$.frame(λ, ctx);
      });
    }
    now = Date.now();
    this.Δt = now - this.time;
    this.time = now;
    if (λ != null) {
      λ.call(ctx, this.time, this.Δt);
    }
    return this.renderer.render(this.scene, this.camera);
  };
  return World3D;
}());
},{"./helpers":41}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuL3NyYy9pbmRleC5scyIsIi9Vc2Vycy9sYWttZWVyL1Byb2plY3RzL25vZGVfbW9kdWxlcy9wcmVsdWRlLWxzL2xpYi9GdW5jLmpzIiwiL1VzZXJzL2xha21lZXIvUHJvamVjdHMvbm9kZV9tb2R1bGVzL3ByZWx1ZGUtbHMvbGliL0xpc3QuanMiLCIvVXNlcnMvbGFrbWVlci9Qcm9qZWN0cy9ub2RlX21vZHVsZXMvcHJlbHVkZS1scy9saWIvTnVtLmpzIiwiL1VzZXJzL2xha21lZXIvUHJvamVjdHMvbm9kZV9tb2R1bGVzL3ByZWx1ZGUtbHMvbGliL09iai5qcyIsIi9Vc2Vycy9sYWttZWVyL1Byb2plY3RzL25vZGVfbW9kdWxlcy9wcmVsdWRlLWxzL2xpYi9TdHIuanMiLCIvVXNlcnMvbGFrbWVlci9Qcm9qZWN0cy9ub2RlX21vZHVsZXMvcHJlbHVkZS1scy9saWIvaW5kZXguanMiLCIvVXNlcnMvbGFrbWVlci9Qcm9qZWN0cy93b3JsZGNyYWZ0L25vZGVfbW9kdWxlcy9MaXZlU2NyaXB0L2xpYi9hc3QuanMiLCIvVXNlcnMvbGFrbWVlci9Qcm9qZWN0cy93b3JsZGNyYWZ0L25vZGVfbW9kdWxlcy9MaXZlU2NyaXB0L2xpYi9pbmRleC5qcyIsIi9Vc2Vycy9sYWttZWVyL1Byb2plY3RzL3dvcmxkY3JhZnQvbm9kZV9tb2R1bGVzL0xpdmVTY3JpcHQvbGliL2xleGVyLmpzIiwiL1VzZXJzL2xha21lZXIvUHJvamVjdHMvd29ybGRjcmFmdC9ub2RlX21vZHVsZXMvTGl2ZVNjcmlwdC9saWIvbm9kZS5qcyIsIi9Vc2Vycy9sYWttZWVyL1Byb2plY3RzL3dvcmxkY3JhZnQvbm9kZV9tb2R1bGVzL0xpdmVTY3JpcHQvbGliL3BhcnNlci5qcyIsIi9Vc2Vycy9sYWttZWVyL1Byb2plY3RzL3dvcmxkY3JhZnQvbm9kZV9tb2R1bGVzL0xpdmVTY3JpcHQvbGliL3V0aWwuanMiLCIvVXNlcnMvbGFrbWVlci9Qcm9qZWN0cy93b3JsZGNyYWZ0L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L2xpYi9fZW1wdHkuanMiLCIvVXNlcnMvbGFrbWVlci9Qcm9qZWN0cy93b3JsZGNyYWZ0L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwiL1VzZXJzL2xha21lZXIvUHJvamVjdHMvd29ybGRjcmFmdC9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcGF0aC1icm93c2VyaWZ5L2luZGV4LmpzIiwiL1VzZXJzL2xha21lZXIvUHJvamVjdHMvd29ybGRjcmFmdC9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwiL1VzZXJzL2xha21lZXIvUHJvamVjdHMvd29ybGRjcmFmdC9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvdm0tYnJvd3NlcmlmeS9pbmRleC5qcyIsIi9Vc2Vycy9sYWttZWVyL1Byb2plY3RzL3dvcmxkY3JhZnQvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3ZtLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2luZGV4b2YvaW5kZXguanMiLCIvVXNlcnMvbGFrbWVlci9Qcm9qZWN0cy93b3JsZGNyYWZ0L25vZGVfbW9kdWxlcy9jb2RlbWlycm9yL2xpYi9jb2RlbWlycm9yLmpzIiwiL1VzZXJzL2xha21lZXIvUHJvamVjdHMvd29ybGRjcmFmdC9ub2RlX21vZHVsZXMvY29kZW1pcnJvci9tb2RlL2NvZmZlZXNjcmlwdC9jb2ZmZWVzY3JpcHQuanMiLCIvVXNlcnMvbGFrbWVlci9Qcm9qZWN0cy93b3JsZGNyYWZ0L25vZGVfbW9kdWxlcy9jb2RlbWlycm9yL21vZGUvamF2YXNjcmlwdC9qYXZhc2NyaXB0LmpzIiwiL1VzZXJzL2xha21lZXIvUHJvamVjdHMvd29ybGRjcmFmdC9ub2RlX21vZHVsZXMvY29kZW1pcnJvci9tb2RlL2xpdmVzY3JpcHQvbGl2ZXNjcmlwdC5qcyIsIi9Vc2Vycy9sYWttZWVyL1Byb2plY3RzL3dvcmxkY3JhZnQvbm9kZV9tb2R1bGVzL2NvZmZlZS1zY3JpcHQvbGliL2NvZmZlZS1zY3JpcHQvY29mZmVlLXNjcmlwdC5qcyIsIi9Vc2Vycy9sYWttZWVyL1Byb2plY3RzL3dvcmxkY3JhZnQvbm9kZV9tb2R1bGVzL2NvZmZlZS1zY3JpcHQvbGliL2NvZmZlZS1zY3JpcHQvaGVscGVycy5qcyIsIi9Vc2Vycy9sYWttZWVyL1Byb2plY3RzL3dvcmxkY3JhZnQvbm9kZV9tb2R1bGVzL2NvZmZlZS1zY3JpcHQvbGliL2NvZmZlZS1zY3JpcHQvbGV4ZXIuanMiLCIvVXNlcnMvbGFrbWVlci9Qcm9qZWN0cy93b3JsZGNyYWZ0L25vZGVfbW9kdWxlcy9jb2ZmZWUtc2NyaXB0L2xpYi9jb2ZmZWUtc2NyaXB0L25vZGVzLmpzIiwiL1VzZXJzL2xha21lZXIvUHJvamVjdHMvd29ybGRjcmFmdC9ub2RlX21vZHVsZXMvY29mZmVlLXNjcmlwdC9saWIvY29mZmVlLXNjcmlwdC9wYXJzZXIuanMiLCIvVXNlcnMvbGFrbWVlci9Qcm9qZWN0cy93b3JsZGNyYWZ0L25vZGVfbW9kdWxlcy9jb2ZmZWUtc2NyaXB0L2xpYi9jb2ZmZWUtc2NyaXB0L3JlZ2lzdGVyLmpzIiwiL1VzZXJzL2xha21lZXIvUHJvamVjdHMvd29ybGRjcmFmdC9ub2RlX21vZHVsZXMvY29mZmVlLXNjcmlwdC9saWIvY29mZmVlLXNjcmlwdC9yZXdyaXRlci5qcyIsIi9Vc2Vycy9sYWttZWVyL1Byb2plY3RzL3dvcmxkY3JhZnQvbm9kZV9tb2R1bGVzL2NvZmZlZS1zY3JpcHQvbGliL2NvZmZlZS1zY3JpcHQvc2NvcGUuanMiLCIvVXNlcnMvbGFrbWVlci9Qcm9qZWN0cy93b3JsZGNyYWZ0L25vZGVfbW9kdWxlcy9jb2ZmZWUtc2NyaXB0L2xpYi9jb2ZmZWUtc2NyaXB0L3NvdXJjZW1hcC5qcyIsIi9Vc2Vycy9sYWttZWVyL1Byb2plY3RzL3dvcmxkY3JhZnQvc3JjL2VkaXRvci5scyIsIi9Vc2Vycy9sYWttZWVyL1Byb2plY3RzL3dvcmxkY3JhZnQvc3JjL2V2YWx1YXRvci5scyIsIi9Vc2Vycy9sYWttZWVyL1Byb2plY3RzL3dvcmxkY3JhZnQvc3JjL2hlbHBlcnMubHMiLCIvVXNlcnMvbGFrbWVlci9Qcm9qZWN0cy93b3JsZGNyYWZ0L3NyYy93b3JsZC0yZC5scyIsIi9Vc2Vycy9sYWttZWVyL1Byb2plY3RzL3dvcmxkY3JhZnQvc3JjL3dvcmxkLTNkLmxzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcHFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdHFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcnlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDbkJBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN1NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbE9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdHBQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOVBBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdDZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwbEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNydEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxudmFyIHJlZiQsIGxvZywgZGVsYXksIGlkLCBFZGl0b3JDTSwgV29ybGQyRCwgV29ybGQzRCwgRXZhbHVhdG9yLCB3b3JsZCwgZXZhbHVhdG9yLCBlZGl0b3IsIGRvdWJsZUhlbGl4MmQsIGRvdWJsZUhlbGl4M2Q7XG5yZWYkID0gcmVxdWlyZSgnLi9oZWxwZXJzJyksIGxvZyA9IHJlZiQubG9nLCBkZWxheSA9IHJlZiQuZGVsYXk7XG5pZCA9IHJlcXVpcmUoJ3ByZWx1ZGUtbHMnKS5pZDtcbkVkaXRvckNNID0gcmVxdWlyZSgnLi9lZGl0b3InKS5FZGl0b3JDTTtcbldvcmxkMkQgPSByZXF1aXJlKCcuL3dvcmxkLTJkJykuV29ybGQyRDtcbldvcmxkM0QgPSByZXF1aXJlKCcuL3dvcmxkLTNkJykuV29ybGQzRDtcbkV2YWx1YXRvciA9IHJlcXVpcmUoJy4vZXZhbHVhdG9yJykuRXZhbHVhdG9yO1xud29ybGQgPSBuZXcgV29ybGQzRDtcbmV2YWx1YXRvciA9IG5ldyBFdmFsdWF0b3IoJ2xpdmVzY3JpcHQnKTtcbmVkaXRvciA9IG5ldyBFZGl0b3JDTSh7XG4gIG1vZGU6ICdsaXZlc2NyaXB0J1xufSk7XG5kb3VibGVIZWxpeDJkID0gXCJjb3VudCA9IDUwXFxuc2l6ZSA9IGNhbnZhcy5oZWlnaHQvY291bnRcXG53aWR0aCA9IGNhbnZhcy53aWR0aC8zXFxuc3BlZWQgPSAwLjAwMlxcblxcbkBmcmFtZSA9ICh0aW1lKSAtPlxcbiAgZm9yIGkgaW4gWzAgdG8gY291bnRdXFxuICAgIGFtcCA9IE1hdGguc2luKHRpbWUqc3BlZWQgKyBpICogTWF0aC5QSSAvIDI0KVxcbiAgICBwb3MgPSBjYW52YXMud2lkdGgvMiArIHdpZHRoLzIgKiBhbXBcXG4gICAgY29sID0gTWF0aC5zaW4odGltZSpzcGVlZCArIGkgKiBNYXRoLlBJIC8gMjQgKyBNYXRoLlBJLzIpXFxuICAgIGN0eC5maWxsLXN0eWxlID0gXFxcInJnYigjezEyOCArIE1hdGguZmxvb3IoY29sLzIgKiAyNTUpfSwgMCwgMClcXFwiXFxuICAgIGN0eC5maWxsLXJlY3QgcG9zLCBzaXplICogaSwgc2l6ZSwgc2l6ZSAqIDRcXG5cXG4gICAgYW1wID0gLU1hdGguc2luKHRpbWUqc3BlZWQgKyBpICogTWF0aC5QSSAvIDI0KVxcbiAgICBjb2wgPSAtTWF0aC5zaW4odGltZSpzcGVlZCArIGkgKiBNYXRoLlBJIC8gMjQgKyBNYXRoLlBJLzIpXFxuICAgIHBvcyA9IGNhbnZhcy53aWR0aC8yICsgd2lkdGgvMiAqIGFtcFxcbiAgICBjdHguZmlsbC1zdHlsZSA9IFxcXCJyZ2IoMCwgMCwgI3sxMjggKyBNYXRoLmZsb29yKGNvbC8yICogMjU1KX0pXFxcIlxcbiAgICBjdHguZmlsbC1yZWN0IHBvcywgc2l6ZSAqIGksIHNpemUsIHNpemUgKiA0XCI7XG5kb3VibGVIZWxpeDNkID0gXCJnZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5IDEsIDEsIDFcXG5yZWQgID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsIGNvbG9yOiAweGRkMDAwMFxcbmJsdWUgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwgY29sb3I6IDB4MDAwMGRkXFxubGlnaHQgPSBuZXcgVEhSRUUuUG9pbnRMaWdodCAweGZmZmZmZiwgMSwgMTAwXFxubGlnaHQucG9zaXRpb24uc2V0IDAsIDAsIDMwXFxuc2NlbmUuYWRkIGxpZ2h0XFxuY2FtZXJhLnBvc2l0aW9uLnogPSAzNVxcblxcbmNvdW50ID0gNTBcXG5zcGVlZCA9IDAuMDAyXFxuciAgICAgPSA1XFxuXFxuQGN1YmVzID0gZm9yIGkgaW4gWzAgdG8gY291bnRdXFxuICBzY2VuZS5hZGQgcmVkLWN1YmUgICA9IG5ldyBUSFJFRS5NZXNoIGdlb20sIHJlZFxcbiAgc2NlbmUuYWRkIGJsdWUtY3ViZSAgPSBuZXcgVEhSRUUuTWVzaCBnZW9tLCBibHVlXFxuICByZWQtY3ViZS5wb3NpdGlvbi55ICA9IC1jb3VudC8yICsgaVxcbiAgYmx1ZS1jdWJlLnBvc2l0aW9uLnkgPSAtY291bnQvMiArIGlcXG4gIFsgcmVkLWN1YmUsIGJsdWUtY3ViZSBdXFxuXFxuQGZyYW1lID0gKHRpbWUpIC0+XFxuICBmb3IgWyByZWQsIGJsdWUgXSwgaSBpbiBAY3ViZXNcXG4gICAgcmVkLnBvc2l0aW9uLnogPSAtTWF0aC5zaW4odGltZSpzcGVlZCArIGkgKiBNYXRoLlBJIC8gMjQpICogclxcbiAgICByZWQucG9zaXRpb24ueCA9IC1NYXRoLmNvcyh0aW1lKnNwZWVkICsgaSAqIE1hdGguUEkgLyAyNCkgKiByXFxuICAgIGJsdWUucG9zaXRpb24ueiA9IE1hdGguc2luKHRpbWUqc3BlZWQgKyBpICogTWF0aC5QSSAvIDI0KSAqIHJcXG4gICAgYmx1ZS5wb3NpdGlvbi54ID0gTWF0aC5jb3ModGltZSpzcGVlZCArIGkgKiBNYXRoLlBJIC8gMjQpICogclwiO1xucmVmJCA9IGV2YWx1YXRvci5nbG9iYWxzO1xucmVmJC5sb2cgPSBsb2c7XG5yZWYkLmNhbnZhcyA9IHdvcmxkLmNhbnZhcztcbnJlZiQuY3R4ID0gd29ybGQuY3R4O1xucmVmJCA9IGV2YWx1YXRvci5nbG9iYWxzO1xucmVmJC5USFJFRSA9IFRIUkVFO1xucmVmJC5zY2VuZSA9IHdvcmxkLnNjZW5lO1xucmVmJC5jYW1lcmEgPSB3b3JsZC5jYW1lcmE7XG5lZGl0b3IuaW5zdGFsbChkb2N1bWVudC5ib2R5KTtcbmVkaXRvci5sb2FkKGRvdWJsZUhlbGl4M2QpO1xuZWRpdG9yLm9uRXhlY3V0ZShiaW5kJChldmFsdWF0b3IsICdldmFsJykpO1xud29ybGQuaW5zdGFsbChkb2N1bWVudC5ib2R5KTtcbmRlbGF5KDMwMCwgZnVuY3Rpb24oKXtcbiAgZWRpdG9yLmV4ZWN1dGVBbGwoKTtcbiAgcmV0dXJuIHdvcmxkLnN0YXJ0KGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIGV2YWx1YXRvci5zY29wZS5mcmFtZS5hcHBseShldmFsdWF0b3Iuc2NvcGUsIGFyZ3VtZW50cyk7XG4gIH0pO1xufSk7XG5mdW5jdGlvbiBiaW5kJChvYmosIGtleSwgdGFyZ2V0KXtcbiAgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiAodGFyZ2V0IHx8IG9iailba2V5XS5hcHBseShvYmosIGFyZ3VtZW50cykgfTtcbn0iLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjIuMFxudmFyIGFwcGx5LCBjdXJyeSwgZmxpcCwgZml4LCBvdmVyO1xuYXBwbHkgPSBjdXJyeSQoZnVuY3Rpb24oZiwgbGlzdCl7XG4gIHJldHVybiBmLmFwcGx5KG51bGwsIGxpc3QpO1xufSk7XG5jdXJyeSA9IGZ1bmN0aW9uKGYpe1xuICByZXR1cm4gY3VycnkkKGYpO1xufTtcbmZsaXAgPSBjdXJyeSQoZnVuY3Rpb24oZiwgeCwgeSl7XG4gIHJldHVybiBmKHksIHgpO1xufSk7XG5maXggPSBmdW5jdGlvbihmKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKGcpe1xuICAgIHJldHVybiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIGYoZyhnKSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9KGZ1bmN0aW9uKGcpe1xuICAgIHJldHVybiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIGYoZyhnKSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9KTtcbn07XG5vdmVyID0gY3VycnkkKGZ1bmN0aW9uKGYsIGcsIHgsIHkpe1xuICByZXR1cm4gZihnKHgpLCBnKHkpKTtcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGN1cnJ5OiBjdXJyeSxcbiAgZmxpcDogZmxpcCxcbiAgZml4OiBmaXgsXG4gIGFwcGx5OiBhcHBseSxcbiAgb3Zlcjogb3ZlclxufTtcbmZ1bmN0aW9uIGN1cnJ5JChmLCBib3VuZCl7XG4gIHZhciBjb250ZXh0LFxuICBfY3VycnkgPSBmdW5jdGlvbihhcmdzKSB7XG4gICAgcmV0dXJuIGYubGVuZ3RoID4gMSA/IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgcGFyYW1zID0gYXJncyA/IGFyZ3MuY29uY2F0KCkgOiBbXTtcbiAgICAgIGNvbnRleHQgPSBib3VuZCA/IGNvbnRleHQgfHwgdGhpcyA6IHRoaXM7XG4gICAgICByZXR1cm4gcGFyYW1zLnB1c2guYXBwbHkocGFyYW1zLCBhcmd1bWVudHMpIDxcbiAgICAgICAgICBmLmxlbmd0aCAmJiBhcmd1bWVudHMubGVuZ3RoID9cbiAgICAgICAgX2N1cnJ5LmNhbGwoY29udGV4dCwgcGFyYW1zKSA6IGYuYXBwbHkoY29udGV4dCwgcGFyYW1zKTtcbiAgICB9IDogZjtcbiAgfTtcbiAgcmV0dXJuIF9jdXJyeSgpO1xufSIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMi4wXG52YXIgZWFjaCwgbWFwLCBjb21wYWN0LCBmaWx0ZXIsIHJlamVjdCwgcGFydGl0aW9uLCBmaW5kLCBoZWFkLCBmaXJzdCwgdGFpbCwgbGFzdCwgaW5pdGlhbCwgZW1wdHksIHJldmVyc2UsIHVuaXF1ZSwgdW5pcXVlQnksIGZvbGQsIGZvbGRsLCBmb2xkMSwgZm9sZGwxLCBmb2xkciwgZm9sZHIxLCB1bmZvbGRyLCBjb25jYXQsIGNvbmNhdE1hcCwgZmxhdHRlbiwgZGlmZmVyZW5jZSwgaW50ZXJzZWN0aW9uLCB1bmlvbiwgY291bnRCeSwgZ3JvdXBCeSwgYW5kTGlzdCwgb3JMaXN0LCBhbnksIGFsbCwgc29ydCwgc29ydFdpdGgsIHNvcnRCeSwgc3VtLCBwcm9kdWN0LCBtZWFuLCBhdmVyYWdlLCBtYXhpbXVtLCBtaW5pbXVtLCBtYXhpbXVtQnksIG1pbmltdW1CeSwgc2Nhbiwgc2NhbmwsIHNjYW4xLCBzY2FubDEsIHNjYW5yLCBzY2FucjEsIHNsaWNlLCB0YWtlLCBkcm9wLCBzcGxpdEF0LCB0YWtlV2hpbGUsIGRyb3BXaGlsZSwgc3BhbiwgYnJlYWtMaXN0LCB6aXAsIHppcFdpdGgsIHppcEFsbCwgemlwQWxsV2l0aCwgYXQsIGVsZW1JbmRleCwgZWxlbUluZGljZXMsIGZpbmRJbmRleCwgZmluZEluZGljZXMsIHRvU3RyaW5nJCA9IHt9LnRvU3RyaW5nLCBzbGljZSQgPSBbXS5zbGljZTtcbmVhY2ggPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICB2YXIgaSQsIGxlbiQsIHg7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIGYoeCk7XG4gIH1cbiAgcmV0dXJuIHhzO1xufSk7XG5tYXAgPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICB2YXIgaSQsIGxlbiQsIHgsIHJlc3VsdHMkID0gW107XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIHJlc3VsdHMkLnB1c2goZih4KSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHMkO1xufSk7XG5jb21wYWN0ID0gZnVuY3Rpb24oeHMpe1xuICB2YXIgaSQsIGxlbiQsIHgsIHJlc3VsdHMkID0gW107XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIGlmICh4KSB7XG4gICAgICByZXN1bHRzJC5wdXNoKHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG59O1xuZmlsdGVyID0gY3VycnkkKGZ1bmN0aW9uKGYsIHhzKXtcbiAgdmFyIGkkLCBsZW4kLCB4LCByZXN1bHRzJCA9IFtdO1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IHhzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBpZiAoZih4KSkge1xuICAgICAgcmVzdWx0cyQucHVzaCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHMkO1xufSk7XG5yZWplY3QgPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICB2YXIgaSQsIGxlbiQsIHgsIHJlc3VsdHMkID0gW107XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIGlmICghZih4KSkge1xuICAgICAgcmVzdWx0cyQucHVzaCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHMkO1xufSk7XG5wYXJ0aXRpb24gPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICB2YXIgcGFzc2VkLCBmYWlsZWQsIGkkLCBsZW4kLCB4O1xuICBwYXNzZWQgPSBbXTtcbiAgZmFpbGVkID0gW107XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIChmKHgpID8gcGFzc2VkIDogZmFpbGVkKS5wdXNoKHgpO1xuICB9XG4gIHJldHVybiBbcGFzc2VkLCBmYWlsZWRdO1xufSk7XG5maW5kID0gY3VycnkkKGZ1bmN0aW9uKGYsIHhzKXtcbiAgdmFyIGkkLCBsZW4kLCB4O1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IHhzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBpZiAoZih4KSkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9XG59KTtcbmhlYWQgPSBmaXJzdCA9IGZ1bmN0aW9uKHhzKXtcbiAgcmV0dXJuIHhzWzBdO1xufTtcbnRhaWwgPSBmdW5jdGlvbih4cyl7XG4gIGlmICgheHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiB4cy5zbGljZSgxKTtcbn07XG5sYXN0ID0gZnVuY3Rpb24oeHMpe1xuICByZXR1cm4geHNbeHMubGVuZ3RoIC0gMV07XG59O1xuaW5pdGlhbCA9IGZ1bmN0aW9uKHhzKXtcbiAgaWYgKCF4cy5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIHhzLnNsaWNlKDAsIC0xKTtcbn07XG5lbXB0eSA9IGZ1bmN0aW9uKHhzKXtcbiAgcmV0dXJuICF4cy5sZW5ndGg7XG59O1xucmV2ZXJzZSA9IGZ1bmN0aW9uKHhzKXtcbiAgcmV0dXJuIHhzLmNvbmNhdCgpLnJldmVyc2UoKTtcbn07XG51bmlxdWUgPSBmdW5jdGlvbih4cyl7XG4gIHZhciByZXN1bHQsIGkkLCBsZW4kLCB4O1xuICByZXN1bHQgPSBbXTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAgaWYgKCFpbiQoeCwgcmVzdWx0KSkge1xuICAgICAgcmVzdWx0LnB1c2goeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xudW5pcXVlQnkgPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICB2YXIgc2VlbiwgaSQsIGxlbiQsIHgsIHZhbCwgcmVzdWx0cyQgPSBbXTtcbiAgc2VlbiA9IFtdO1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IHhzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeCA9IHhzW2kkXTtcbiAgICB2YWwgPSBmKHgpO1xuICAgIGlmIChpbiQodmFsLCBzZWVuKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHNlZW4ucHVzaCh2YWwpO1xuICAgIHJlc3VsdHMkLnB1c2goeCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHMkO1xufSk7XG5mb2xkID0gZm9sZGwgPSBjdXJyeSQoZnVuY3Rpb24oZiwgbWVtbywgeHMpe1xuICB2YXIgaSQsIGxlbiQsIHg7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIG1lbW8gPSBmKG1lbW8sIHgpO1xuICB9XG4gIHJldHVybiBtZW1vO1xufSk7XG5mb2xkMSA9IGZvbGRsMSA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHJldHVybiBmb2xkKGYsIHhzWzBdLCB4cy5zbGljZSgxKSk7XG59KTtcbmZvbGRyID0gY3VycnkkKGZ1bmN0aW9uKGYsIG1lbW8sIHhzKXtcbiAgdmFyIGkkLCB4O1xuICBmb3IgKGkkID0geHMubGVuZ3RoIC0gMTsgaSQgPj0gMDsgLS1pJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAgbWVtbyA9IGYoeCwgbWVtbyk7XG4gIH1cbiAgcmV0dXJuIG1lbW87XG59KTtcbmZvbGRyMSA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHJldHVybiBmb2xkcihmLCB4c1t4cy5sZW5ndGggLSAxXSwgeHMuc2xpY2UoMCwgLTEpKTtcbn0pO1xudW5mb2xkciA9IGN1cnJ5JChmdW5jdGlvbihmLCBiKXtcbiAgdmFyIHJlc3VsdCwgeCwgdGhhdDtcbiAgcmVzdWx0ID0gW107XG4gIHggPSBiO1xuICB3aGlsZSAoKHRoYXQgPSBmKHgpKSAhPSBudWxsKSB7XG4gICAgcmVzdWx0LnB1c2godGhhdFswXSk7XG4gICAgeCA9IHRoYXRbMV07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuY29uY2F0ID0gZnVuY3Rpb24oeHNzKXtcbiAgcmV0dXJuIFtdLmNvbmNhdC5hcHBseShbXSwgeHNzKTtcbn07XG5jb25jYXRNYXAgPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICB2YXIgeDtcbiAgcmV0dXJuIFtdLmNvbmNhdC5hcHBseShbXSwgKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGkkLCByZWYkLCBsZW4kLCByZXN1bHRzJCA9IFtdO1xuICAgIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSB4cykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIHggPSByZWYkW2kkXTtcbiAgICAgIHJlc3VsdHMkLnB1c2goZih4KSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzJDtcbiAgfSgpKSk7XG59KTtcbmZsYXR0ZW4gPSBmdW5jdGlvbih4cyl7XG4gIHZhciB4O1xuICByZXR1cm4gW10uY29uY2F0LmFwcGx5KFtdLCAoZnVuY3Rpb24oKXtcbiAgICB2YXIgaSQsIHJlZiQsIGxlbiQsIHJlc3VsdHMkID0gW107XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHhzKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgeCA9IHJlZiRbaSRdO1xuICAgICAgaWYgKHRvU3RyaW5nJC5jYWxsKHgpLnNsaWNlKDgsIC0xKSA9PT0gJ0FycmF5Jykge1xuICAgICAgICByZXN1bHRzJC5wdXNoKGZsYXR0ZW4oeCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0cyQucHVzaCh4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHMkO1xuICB9KCkpKTtcbn07XG5kaWZmZXJlbmNlID0gZnVuY3Rpb24oeHMpe1xuICB2YXIgeXNzLCByZXN1bHRzLCBpJCwgbGVuJCwgeCwgaiQsIGxlbjEkLCB5cztcbiAgeXNzID0gc2xpY2UkLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgcmVzdWx0cyA9IFtdO1xuICBvdXRlcjogZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAgZm9yIChqJCA9IDAsIGxlbjEkID0geXNzLmxlbmd0aDsgaiQgPCBsZW4xJDsgKytqJCkge1xuICAgICAgeXMgPSB5c3NbaiRdO1xuICAgICAgaWYgKGluJCh4LCB5cykpIHtcbiAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdHMucHVzaCh4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn07XG5pbnRlcnNlY3Rpb24gPSBmdW5jdGlvbih4cyl7XG4gIHZhciB5c3MsIHJlc3VsdHMsIGkkLCBsZW4kLCB4LCBqJCwgbGVuMSQsIHlzO1xuICB5c3MgPSBzbGljZSQuY2FsbChhcmd1bWVudHMsIDEpO1xuICByZXN1bHRzID0gW107XG4gIG91dGVyOiBmb3IgKGkkID0gMCwgbGVuJCA9IHhzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBmb3IgKGokID0gMCwgbGVuMSQgPSB5c3MubGVuZ3RoOyBqJCA8IGxlbjEkOyArK2okKSB7XG4gICAgICB5cyA9IHlzc1tqJF07XG4gICAgICBpZiAoIWluJCh4LCB5cykpIHtcbiAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdHMucHVzaCh4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn07XG51bmlvbiA9IGZ1bmN0aW9uKCl7XG4gIHZhciB4c3MsIHJlc3VsdHMsIGkkLCBsZW4kLCB4cywgaiQsIGxlbjEkLCB4O1xuICB4c3MgPSBzbGljZSQuY2FsbChhcmd1bWVudHMpO1xuICByZXN1bHRzID0gW107XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHNzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeHMgPSB4c3NbaSRdO1xuICAgIGZvciAoaiQgPSAwLCBsZW4xJCA9IHhzLmxlbmd0aDsgaiQgPCBsZW4xJDsgKytqJCkge1xuICAgICAgeCA9IHhzW2okXTtcbiAgICAgIGlmICghaW4kKHgsIHJlc3VsdHMpKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh4KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHM7XG59O1xuY291bnRCeSA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHZhciByZXN1bHRzLCBpJCwgbGVuJCwgeCwga2V5O1xuICByZXN1bHRzID0ge307XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIGtleSA9IGYoeCk7XG4gICAgaWYgKGtleSBpbiByZXN1bHRzKSB7XG4gICAgICByZXN1bHRzW2tleV0gKz0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0c1trZXldID0gMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHM7XG59KTtcbmdyb3VwQnkgPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICB2YXIgcmVzdWx0cywgaSQsIGxlbiQsIHgsIGtleTtcbiAgcmVzdWx0cyA9IHt9O1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IHhzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBrZXkgPSBmKHgpO1xuICAgIGlmIChrZXkgaW4gcmVzdWx0cykge1xuICAgICAgcmVzdWx0c1trZXldLnB1c2goeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdHNba2V5XSA9IFt4XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHM7XG59KTtcbmFuZExpc3QgPSBmdW5jdGlvbih4cyl7XG4gIHZhciBpJCwgbGVuJCwgeDtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAgaWYgKCF4KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufTtcbm9yTGlzdCA9IGZ1bmN0aW9uKHhzKXtcbiAgdmFyIGkkLCBsZW4kLCB4O1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IHhzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBpZiAoeCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5hbnkgPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICB2YXIgaSQsIGxlbiQsIHg7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIGlmIChmKHgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5hbGwgPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICB2YXIgaSQsIGxlbiQsIHg7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIGlmICghZih4KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn0pO1xuc29ydCA9IGZ1bmN0aW9uKHhzKXtcbiAgcmV0dXJuIHhzLmNvbmNhdCgpLnNvcnQoZnVuY3Rpb24oeCwgeSl7XG4gICAgaWYgKHggPiB5KSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKHggPCB5KSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfSk7XG59O1xuc29ydFdpdGggPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICByZXR1cm4geHMuY29uY2F0KCkuc29ydChmKTtcbn0pO1xuc29ydEJ5ID0gY3VycnkkKGZ1bmN0aW9uKGYsIHhzKXtcbiAgcmV0dXJuIHhzLmNvbmNhdCgpLnNvcnQoZnVuY3Rpb24oeCwgeSl7XG4gICAgaWYgKGYoeCkgPiBmKHkpKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGYoeCkgPCBmKHkpKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfSk7XG59KTtcbnN1bSA9IGZ1bmN0aW9uKHhzKXtcbiAgdmFyIHJlc3VsdCwgaSQsIGxlbiQsIHg7XG4gIHJlc3VsdCA9IDA7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIHJlc3VsdCArPSB4O1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xucHJvZHVjdCA9IGZ1bmN0aW9uKHhzKXtcbiAgdmFyIHJlc3VsdCwgaSQsIGxlbiQsIHg7XG4gIHJlc3VsdCA9IDE7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIHJlc3VsdCAqPSB4O1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xubWVhbiA9IGF2ZXJhZ2UgPSBmdW5jdGlvbih4cyl7XG4gIHZhciBzdW0sIGkkLCBsZW4kLCB4O1xuICBzdW0gPSAwO1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IHhzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBzdW0gKz0geDtcbiAgfVxuICByZXR1cm4gc3VtIC8geHMubGVuZ3RoO1xufTtcbm1heGltdW0gPSBmdW5jdGlvbih4cyl7XG4gIHZhciBtYXgsIGkkLCByZWYkLCBsZW4kLCB4O1xuICBtYXggPSB4c1swXTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHhzLnNsaWNlKDEpKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSByZWYkW2kkXTtcbiAgICBpZiAoeCA+IG1heCkge1xuICAgICAgbWF4ID0geDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1heDtcbn07XG5taW5pbXVtID0gZnVuY3Rpb24oeHMpe1xuICB2YXIgbWluLCBpJCwgcmVmJCwgbGVuJCwgeDtcbiAgbWluID0geHNbMF07XG4gIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSB4cy5zbGljZSgxKSkubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0gcmVmJFtpJF07XG4gICAgaWYgKHggPCBtaW4pIHtcbiAgICAgIG1pbiA9IHg7XG4gICAgfVxuICB9XG4gIHJldHVybiBtaW47XG59O1xubWF4aW11bUJ5ID0gY3VycnkkKGZ1bmN0aW9uKGYsIHhzKXtcbiAgdmFyIG1heCwgaSQsIHJlZiQsIGxlbiQsIHg7XG4gIG1heCA9IHhzWzBdO1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0geHMuc2xpY2UoMSkpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeCA9IHJlZiRbaSRdO1xuICAgIGlmIChmKHgpID4gZihtYXgpKSB7XG4gICAgICBtYXggPSB4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWF4O1xufSk7XG5taW5pbXVtQnkgPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICB2YXIgbWluLCBpJCwgcmVmJCwgbGVuJCwgeDtcbiAgbWluID0geHNbMF07XG4gIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSB4cy5zbGljZSgxKSkubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0gcmVmJFtpJF07XG4gICAgaWYgKGYoeCkgPCBmKG1pbikpIHtcbiAgICAgIG1pbiA9IHg7XG4gICAgfVxuICB9XG4gIHJldHVybiBtaW47XG59KTtcbnNjYW4gPSBzY2FubCA9IGN1cnJ5JChmdW5jdGlvbihmLCBtZW1vLCB4cyl7XG4gIHZhciBsYXN0LCB4O1xuICBsYXN0ID0gbWVtbztcbiAgcmV0dXJuIFttZW1vXS5jb25jYXQoKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGkkLCByZWYkLCBsZW4kLCByZXN1bHRzJCA9IFtdO1xuICAgIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSB4cykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIHggPSByZWYkW2kkXTtcbiAgICAgIHJlc3VsdHMkLnB1c2gobGFzdCA9IGYobGFzdCwgeCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cyQ7XG4gIH0oKSkpO1xufSk7XG5zY2FuMSA9IHNjYW5sMSA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIGlmICgheHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiBzY2FuKGYsIHhzWzBdLCB4cy5zbGljZSgxKSk7XG59KTtcbnNjYW5yID0gY3VycnkkKGZ1bmN0aW9uKGYsIG1lbW8sIHhzKXtcbiAgeHMgPSB4cy5jb25jYXQoKS5yZXZlcnNlKCk7XG4gIHJldHVybiBzY2FuKGYsIG1lbW8sIHhzKS5yZXZlcnNlKCk7XG59KTtcbnNjYW5yMSA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIGlmICgheHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHhzID0geHMuY29uY2F0KCkucmV2ZXJzZSgpO1xuICByZXR1cm4gc2NhbihmLCB4c1swXSwgeHMuc2xpY2UoMSkpLnJldmVyc2UoKTtcbn0pO1xuc2xpY2UgPSBjdXJyeSQoZnVuY3Rpb24oeCwgeSwgeHMpe1xuICByZXR1cm4geHMuc2xpY2UoeCwgeSk7XG59KTtcbnRha2UgPSBjdXJyeSQoZnVuY3Rpb24obiwgeHMpe1xuICBpZiAobiA8PSAwKSB7XG4gICAgcmV0dXJuIHhzLnNsaWNlKDAsIDApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB4cy5zbGljZSgwLCBuKTtcbiAgfVxufSk7XG5kcm9wID0gY3VycnkkKGZ1bmN0aW9uKG4sIHhzKXtcbiAgaWYgKG4gPD0gMCkge1xuICAgIHJldHVybiB4cztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geHMuc2xpY2Uobik7XG4gIH1cbn0pO1xuc3BsaXRBdCA9IGN1cnJ5JChmdW5jdGlvbihuLCB4cyl7XG4gIHJldHVybiBbdGFrZShuLCB4cyksIGRyb3AobiwgeHMpXTtcbn0pO1xudGFrZVdoaWxlID0gY3VycnkkKGZ1bmN0aW9uKHAsIHhzKXtcbiAgdmFyIGxlbiwgaTtcbiAgbGVuID0geHMubGVuZ3RoO1xuICBpZiAoIWxlbikge1xuICAgIHJldHVybiB4cztcbiAgfVxuICBpID0gMDtcbiAgd2hpbGUgKGkgPCBsZW4gJiYgcCh4c1tpXSkpIHtcbiAgICBpICs9IDE7XG4gIH1cbiAgcmV0dXJuIHhzLnNsaWNlKDAsIGkpO1xufSk7XG5kcm9wV2hpbGUgPSBjdXJyeSQoZnVuY3Rpb24ocCwgeHMpe1xuICB2YXIgbGVuLCBpO1xuICBsZW4gPSB4cy5sZW5ndGg7XG4gIGlmICghbGVuKSB7XG4gICAgcmV0dXJuIHhzO1xuICB9XG4gIGkgPSAwO1xuICB3aGlsZSAoaSA8IGxlbiAmJiBwKHhzW2ldKSkge1xuICAgIGkgKz0gMTtcbiAgfVxuICByZXR1cm4geHMuc2xpY2UoaSk7XG59KTtcbnNwYW4gPSBjdXJyeSQoZnVuY3Rpb24ocCwgeHMpe1xuICByZXR1cm4gW3Rha2VXaGlsZShwLCB4cyksIGRyb3BXaGlsZShwLCB4cyldO1xufSk7XG5icmVha0xpc3QgPSBjdXJyeSQoZnVuY3Rpb24ocCwgeHMpe1xuICByZXR1cm4gc3BhbihmdW5jdGlvbigpe1xuICAgIHJldHVybiBub3QkKHAuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH0sIHhzKTtcbn0pO1xuemlwID0gY3VycnkkKGZ1bmN0aW9uKHhzLCB5cyl7XG4gIHZhciByZXN1bHQsIGxlbiwgaSQsIGxlbiQsIGksIHg7XG4gIHJlc3VsdCA9IFtdO1xuICBsZW4gPSB5cy5sZW5ndGg7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICBpID0gaSQ7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBpZiAoaSA9PT0gbGVuKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgcmVzdWx0LnB1c2goW3gsIHlzW2ldXSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuemlwV2l0aCA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cywgeXMpe1xuICB2YXIgcmVzdWx0LCBsZW4sIGkkLCBsZW4kLCBpLCB4O1xuICByZXN1bHQgPSBbXTtcbiAgbGVuID0geXMubGVuZ3RoO1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IHhzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgaSA9IGkkO1xuICAgIHggPSB4c1tpJF07XG4gICAgaWYgKGkgPT09IGxlbikge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJlc3VsdC5wdXNoKGYoeCwgeXNbaV0pKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufSk7XG56aXBBbGwgPSBmdW5jdGlvbigpe1xuICB2YXIgeHNzLCBtaW5MZW5ndGgsIGkkLCBsZW4kLCB4cywgcmVmJCwgaSwgbHJlc3VsdCQsIGokLCByZXN1bHRzJCA9IFtdO1xuICB4c3MgPSBzbGljZSQuY2FsbChhcmd1bWVudHMpO1xuICBtaW5MZW5ndGggPSA5ZTk7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHNzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeHMgPSB4c3NbaSRdO1xuICAgIG1pbkxlbmd0aCA8PSAocmVmJCA9IHhzLmxlbmd0aCkgfHwgKG1pbkxlbmd0aCA9IHJlZiQpO1xuICB9XG4gIGZvciAoaSQgPSAwOyBpJCA8IG1pbkxlbmd0aDsgKytpJCkge1xuICAgIGkgPSBpJDtcbiAgICBscmVzdWx0JCA9IFtdO1xuICAgIGZvciAoaiQgPSAwLCBsZW4kID0geHNzLmxlbmd0aDsgaiQgPCBsZW4kOyArK2okKSB7XG4gICAgICB4cyA9IHhzc1tqJF07XG4gICAgICBscmVzdWx0JC5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmVzdWx0cyQucHVzaChscmVzdWx0JCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHMkO1xufTtcbnppcEFsbFdpdGggPSBmdW5jdGlvbihmKXtcbiAgdmFyIHhzcywgbWluTGVuZ3RoLCBpJCwgbGVuJCwgeHMsIHJlZiQsIGksIHJlc3VsdHMkID0gW107XG4gIHhzcyA9IHNsaWNlJC5jYWxsKGFyZ3VtZW50cywgMSk7XG4gIG1pbkxlbmd0aCA9IDllOTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4c3MubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4cyA9IHhzc1tpJF07XG4gICAgbWluTGVuZ3RoIDw9IChyZWYkID0geHMubGVuZ3RoKSB8fCAobWluTGVuZ3RoID0gcmVmJCk7XG4gIH1cbiAgZm9yIChpJCA9IDA7IGkkIDwgbWluTGVuZ3RoOyArK2kkKSB7XG4gICAgaSA9IGkkO1xuICAgIHJlc3VsdHMkLnB1c2goZi5hcHBseShudWxsLCAoZm4kKCkpKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHMkO1xuICBmdW5jdGlvbiBmbiQoKXtcbiAgICB2YXIgaSQsIHJlZiQsIGxlbiQsIHJlc3VsdHMkID0gW107XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHhzcykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIHhzID0gcmVmJFtpJF07XG4gICAgICByZXN1bHRzJC5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHMkO1xuICB9XG59O1xuYXQgPSBjdXJyeSQoZnVuY3Rpb24obiwgeHMpe1xuICBpZiAobiA8IDApIHtcbiAgICByZXR1cm4geHNbeHMubGVuZ3RoICsgbl07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHhzW25dO1xuICB9XG59KTtcbmVsZW1JbmRleCA9IGN1cnJ5JChmdW5jdGlvbihlbCwgeHMpe1xuICB2YXIgaSQsIGxlbiQsIGksIHg7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICBpID0gaSQ7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBpZiAoeCA9PT0gZWwpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxufSk7XG5lbGVtSW5kaWNlcyA9IGN1cnJ5JChmdW5jdGlvbihlbCwgeHMpe1xuICB2YXIgaSQsIGxlbiQsIGksIHgsIHJlc3VsdHMkID0gW107XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICBpID0gaSQ7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBpZiAoeCA9PT0gZWwpIHtcbiAgICAgIHJlc3VsdHMkLnB1c2goaSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRzJDtcbn0pO1xuZmluZEluZGV4ID0gY3VycnkkKGZ1bmN0aW9uKGYsIHhzKXtcbiAgdmFyIGkkLCBsZW4kLCBpLCB4O1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IHhzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgaSA9IGkkO1xuICAgIHggPSB4c1tpJF07XG4gICAgaWYgKGYoeCkpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxufSk7XG5maW5kSW5kaWNlcyA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHZhciBpJCwgbGVuJCwgaSwgeCwgcmVzdWx0cyQgPSBbXTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIGkgPSBpJDtcbiAgICB4ID0geHNbaSRdO1xuICAgIGlmIChmKHgpKSB7XG4gICAgICByZXN1bHRzJC5wdXNoKGkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG59KTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBlYWNoOiBlYWNoLFxuICBtYXA6IG1hcCxcbiAgZmlsdGVyOiBmaWx0ZXIsXG4gIGNvbXBhY3Q6IGNvbXBhY3QsXG4gIHJlamVjdDogcmVqZWN0LFxuICBwYXJ0aXRpb246IHBhcnRpdGlvbixcbiAgZmluZDogZmluZCxcbiAgaGVhZDogaGVhZCxcbiAgZmlyc3Q6IGZpcnN0LFxuICB0YWlsOiB0YWlsLFxuICBsYXN0OiBsYXN0LFxuICBpbml0aWFsOiBpbml0aWFsLFxuICBlbXB0eTogZW1wdHksXG4gIHJldmVyc2U6IHJldmVyc2UsXG4gIGRpZmZlcmVuY2U6IGRpZmZlcmVuY2UsXG4gIGludGVyc2VjdGlvbjogaW50ZXJzZWN0aW9uLFxuICB1bmlvbjogdW5pb24sXG4gIGNvdW50Qnk6IGNvdW50QnksXG4gIGdyb3VwQnk6IGdyb3VwQnksXG4gIGZvbGQ6IGZvbGQsXG4gIGZvbGQxOiBmb2xkMSxcbiAgZm9sZGw6IGZvbGRsLFxuICBmb2xkbDE6IGZvbGRsMSxcbiAgZm9sZHI6IGZvbGRyLFxuICBmb2xkcjE6IGZvbGRyMSxcbiAgdW5mb2xkcjogdW5mb2xkcixcbiAgYW5kTGlzdDogYW5kTGlzdCxcbiAgb3JMaXN0OiBvckxpc3QsXG4gIGFueTogYW55LFxuICBhbGw6IGFsbCxcbiAgdW5pcXVlOiB1bmlxdWUsXG4gIHVuaXF1ZUJ5OiB1bmlxdWVCeSxcbiAgc29ydDogc29ydCxcbiAgc29ydFdpdGg6IHNvcnRXaXRoLFxuICBzb3J0Qnk6IHNvcnRCeSxcbiAgc3VtOiBzdW0sXG4gIHByb2R1Y3Q6IHByb2R1Y3QsXG4gIG1lYW46IG1lYW4sXG4gIGF2ZXJhZ2U6IGF2ZXJhZ2UsXG4gIGNvbmNhdDogY29uY2F0LFxuICBjb25jYXRNYXA6IGNvbmNhdE1hcCxcbiAgZmxhdHRlbjogZmxhdHRlbixcbiAgbWF4aW11bTogbWF4aW11bSxcbiAgbWluaW11bTogbWluaW11bSxcbiAgbWF4aW11bUJ5OiBtYXhpbXVtQnksXG4gIG1pbmltdW1CeTogbWluaW11bUJ5LFxuICBzY2FuOiBzY2FuLFxuICBzY2FuMTogc2NhbjEsXG4gIHNjYW5sOiBzY2FubCxcbiAgc2NhbmwxOiBzY2FubDEsXG4gIHNjYW5yOiBzY2FucixcbiAgc2NhbnIxOiBzY2FucjEsXG4gIHNsaWNlOiBzbGljZSxcbiAgdGFrZTogdGFrZSxcbiAgZHJvcDogZHJvcCxcbiAgc3BsaXRBdDogc3BsaXRBdCxcbiAgdGFrZVdoaWxlOiB0YWtlV2hpbGUsXG4gIGRyb3BXaGlsZTogZHJvcFdoaWxlLFxuICBzcGFuOiBzcGFuLFxuICBicmVha0xpc3Q6IGJyZWFrTGlzdCxcbiAgemlwOiB6aXAsXG4gIHppcFdpdGg6IHppcFdpdGgsXG4gIHppcEFsbDogemlwQWxsLFxuICB6aXBBbGxXaXRoOiB6aXBBbGxXaXRoLFxuICBhdDogYXQsXG4gIGVsZW1JbmRleDogZWxlbUluZGV4LFxuICBlbGVtSW5kaWNlczogZWxlbUluZGljZXMsXG4gIGZpbmRJbmRleDogZmluZEluZGV4LFxuICBmaW5kSW5kaWNlczogZmluZEluZGljZXNcbn07XG5mdW5jdGlvbiBjdXJyeSQoZiwgYm91bmQpe1xuICB2YXIgY29udGV4dCxcbiAgX2N1cnJ5ID0gZnVuY3Rpb24oYXJncykge1xuICAgIHJldHVybiBmLmxlbmd0aCA+IDEgPyBmdW5jdGlvbigpe1xuICAgICAgdmFyIHBhcmFtcyA9IGFyZ3MgPyBhcmdzLmNvbmNhdCgpIDogW107XG4gICAgICBjb250ZXh0ID0gYm91bmQgPyBjb250ZXh0IHx8IHRoaXMgOiB0aGlzO1xuICAgICAgcmV0dXJuIHBhcmFtcy5wdXNoLmFwcGx5KHBhcmFtcywgYXJndW1lbnRzKSA8XG4gICAgICAgICAgZi5sZW5ndGggJiYgYXJndW1lbnRzLmxlbmd0aCA/XG4gICAgICAgIF9jdXJyeS5jYWxsKGNvbnRleHQsIHBhcmFtcykgOiBmLmFwcGx5KGNvbnRleHQsIHBhcmFtcyk7XG4gICAgfSA6IGY7XG4gIH07XG4gIHJldHVybiBfY3VycnkoKTtcbn1cbmZ1bmN0aW9uIGluJCh4LCB4cyl7XG4gIHZhciBpID0gLTEsIGwgPSB4cy5sZW5ndGggPj4+IDA7XG4gIHdoaWxlICgrK2kgPCBsKSBpZiAoeCA9PT0geHNbaV0pIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBub3QkKHgpeyByZXR1cm4gIXg7IH0iLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjIuMFxudmFyIG1heCwgbWluLCBuZWdhdGUsIGFicywgc2lnbnVtLCBxdW90LCByZW0sIGRpdiwgbW9kLCByZWNpcCwgcGksIHRhdSwgZXhwLCBzcXJ0LCBsbiwgcG93LCBzaW4sIHRhbiwgY29zLCBhc2luLCBhY29zLCBhdGFuLCBhdGFuMiwgdHJ1bmNhdGUsIHJvdW5kLCBjZWlsaW5nLCBmbG9vciwgaXNJdE5hTiwgZXZlbiwgb2RkLCBnY2QsIGxjbTtcbm1heCA9IGN1cnJ5JChmdW5jdGlvbih4JCwgeSQpe1xuICByZXR1cm4geCQgPiB5JCA/IHgkIDogeSQ7XG59KTtcbm1pbiA9IGN1cnJ5JChmdW5jdGlvbih4JCwgeSQpe1xuICByZXR1cm4geCQgPCB5JCA/IHgkIDogeSQ7XG59KTtcbm5lZ2F0ZSA9IGZ1bmN0aW9uKHgpe1xuICByZXR1cm4gLXg7XG59O1xuYWJzID0gTWF0aC5hYnM7XG5zaWdudW0gPSBmdW5jdGlvbih4KXtcbiAgaWYgKHggPCAwKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2UgaWYgKHggPiAwKSB7XG4gICAgcmV0dXJuIDE7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn07XG5xdW90ID0gY3VycnkkKGZ1bmN0aW9uKHgsIHkpe1xuICByZXR1cm4gfn4oeCAvIHkpO1xufSk7XG5yZW0gPSBjdXJyeSQoZnVuY3Rpb24oeCQsIHkkKXtcbiAgcmV0dXJuIHgkICUgeSQ7XG59KTtcbmRpdiA9IGN1cnJ5JChmdW5jdGlvbih4LCB5KXtcbiAgcmV0dXJuIE1hdGguZmxvb3IoeCAvIHkpO1xufSk7XG5tb2QgPSBjdXJyeSQoZnVuY3Rpb24oeCQsIHkkKXtcbiAgdmFyIHJlZiQ7XG4gIHJldHVybiAoKHgkKSAlIChyZWYkID0geSQpICsgcmVmJCkgJSByZWYkO1xufSk7XG5yZWNpcCA9IChmdW5jdGlvbihpdCl7XG4gIHJldHVybiAxIC8gaXQ7XG59KTtcbnBpID0gTWF0aC5QSTtcbnRhdSA9IHBpICogMjtcbmV4cCA9IE1hdGguZXhwO1xuc3FydCA9IE1hdGguc3FydDtcbmxuID0gTWF0aC5sb2c7XG5wb3cgPSBjdXJyeSQoZnVuY3Rpb24oeCQsIHkkKXtcbiAgcmV0dXJuIE1hdGgucG93KHgkLCB5JCk7XG59KTtcbnNpbiA9IE1hdGguc2luO1xudGFuID0gTWF0aC50YW47XG5jb3MgPSBNYXRoLmNvcztcbmFzaW4gPSBNYXRoLmFzaW47XG5hY29zID0gTWF0aC5hY29zO1xuYXRhbiA9IE1hdGguYXRhbjtcbmF0YW4yID0gY3VycnkkKGZ1bmN0aW9uKHgsIHkpe1xuICByZXR1cm4gTWF0aC5hdGFuMih4LCB5KTtcbn0pO1xudHJ1bmNhdGUgPSBmdW5jdGlvbih4KXtcbiAgcmV0dXJuIH5+eDtcbn07XG5yb3VuZCA9IE1hdGgucm91bmQ7XG5jZWlsaW5nID0gTWF0aC5jZWlsO1xuZmxvb3IgPSBNYXRoLmZsb29yO1xuaXNJdE5hTiA9IGZ1bmN0aW9uKHgpe1xuICByZXR1cm4geCAhPT0geDtcbn07XG5ldmVuID0gZnVuY3Rpb24oeCl7XG4gIHJldHVybiB4ICUgMiA9PT0gMDtcbn07XG5vZGQgPSBmdW5jdGlvbih4KXtcbiAgcmV0dXJuIHggJSAyICE9PSAwO1xufTtcbmdjZCA9IGN1cnJ5JChmdW5jdGlvbih4LCB5KXtcbiAgdmFyIHo7XG4gIHggPSBNYXRoLmFicyh4KTtcbiAgeSA9IE1hdGguYWJzKHkpO1xuICB3aGlsZSAoeSAhPT0gMCkge1xuICAgIHogPSB4ICUgeTtcbiAgICB4ID0geTtcbiAgICB5ID0gejtcbiAgfVxuICByZXR1cm4geDtcbn0pO1xubGNtID0gY3VycnkkKGZ1bmN0aW9uKHgsIHkpe1xuICByZXR1cm4gTWF0aC5hYnMoTWF0aC5mbG9vcih4IC8gZ2NkKHgsIHkpICogeSkpO1xufSk7XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbWF4OiBtYXgsXG4gIG1pbjogbWluLFxuICBuZWdhdGU6IG5lZ2F0ZSxcbiAgYWJzOiBhYnMsXG4gIHNpZ251bTogc2lnbnVtLFxuICBxdW90OiBxdW90LFxuICByZW06IHJlbSxcbiAgZGl2OiBkaXYsXG4gIG1vZDogbW9kLFxuICByZWNpcDogcmVjaXAsXG4gIHBpOiBwaSxcbiAgdGF1OiB0YXUsXG4gIGV4cDogZXhwLFxuICBzcXJ0OiBzcXJ0LFxuICBsbjogbG4sXG4gIHBvdzogcG93LFxuICBzaW46IHNpbixcbiAgdGFuOiB0YW4sXG4gIGNvczogY29zLFxuICBhY29zOiBhY29zLFxuICBhc2luOiBhc2luLFxuICBhdGFuOiBhdGFuLFxuICBhdGFuMjogYXRhbjIsXG4gIHRydW5jYXRlOiB0cnVuY2F0ZSxcbiAgcm91bmQ6IHJvdW5kLFxuICBjZWlsaW5nOiBjZWlsaW5nLFxuICBmbG9vcjogZmxvb3IsXG4gIGlzSXROYU46IGlzSXROYU4sXG4gIGV2ZW46IGV2ZW4sXG4gIG9kZDogb2RkLFxuICBnY2Q6IGdjZCxcbiAgbGNtOiBsY21cbn07XG5mdW5jdGlvbiBjdXJyeSQoZiwgYm91bmQpe1xuICB2YXIgY29udGV4dCxcbiAgX2N1cnJ5ID0gZnVuY3Rpb24oYXJncykge1xuICAgIHJldHVybiBmLmxlbmd0aCA+IDEgPyBmdW5jdGlvbigpe1xuICAgICAgdmFyIHBhcmFtcyA9IGFyZ3MgPyBhcmdzLmNvbmNhdCgpIDogW107XG4gICAgICBjb250ZXh0ID0gYm91bmQgPyBjb250ZXh0IHx8IHRoaXMgOiB0aGlzO1xuICAgICAgcmV0dXJuIHBhcmFtcy5wdXNoLmFwcGx5KHBhcmFtcywgYXJndW1lbnRzKSA8XG4gICAgICAgICAgZi5sZW5ndGggJiYgYXJndW1lbnRzLmxlbmd0aCA/XG4gICAgICAgIF9jdXJyeS5jYWxsKGNvbnRleHQsIHBhcmFtcykgOiBmLmFwcGx5KGNvbnRleHQsIHBhcmFtcyk7XG4gICAgfSA6IGY7XG4gIH07XG4gIHJldHVybiBfY3VycnkoKTtcbn0iLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjIuMFxudmFyIHZhbHVlcywga2V5cywgcGFpcnNUb09iaiwgb2JqVG9QYWlycywgbGlzdHNUb09iaiwgb2JqVG9MaXN0cywgZW1wdHksIGVhY2gsIG1hcCwgY29tcGFjdCwgZmlsdGVyLCByZWplY3QsIHBhcnRpdGlvbiwgZmluZDtcbnZhbHVlcyA9IGZ1bmN0aW9uKG9iamVjdCl7XG4gIHZhciBpJCwgeCwgcmVzdWx0cyQgPSBbXTtcbiAgZm9yIChpJCBpbiBvYmplY3QpIHtcbiAgICB4ID0gb2JqZWN0W2kkXTtcbiAgICByZXN1bHRzJC5wdXNoKHgpO1xuICB9XG4gIHJldHVybiByZXN1bHRzJDtcbn07XG5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KXtcbiAgdmFyIHgsIHJlc3VsdHMkID0gW107XG4gIGZvciAoeCBpbiBvYmplY3QpIHtcbiAgICByZXN1bHRzJC5wdXNoKHgpO1xuICB9XG4gIHJldHVybiByZXN1bHRzJDtcbn07XG5wYWlyc1RvT2JqID0gZnVuY3Rpb24ob2JqZWN0KXtcbiAgdmFyIGkkLCBsZW4kLCB4LCByZXN1bHRzJCA9IHt9O1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IG9iamVjdC5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSBvYmplY3RbaSRdO1xuICAgIHJlc3VsdHMkW3hbMF1dID0geFsxXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG59O1xub2JqVG9QYWlycyA9IGZ1bmN0aW9uKG9iamVjdCl7XG4gIHZhciBrZXksIHZhbHVlLCByZXN1bHRzJCA9IFtdO1xuICBmb3IgKGtleSBpbiBvYmplY3QpIHtcbiAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuICAgIHJlc3VsdHMkLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG59O1xubGlzdHNUb09iaiA9IGN1cnJ5JChmdW5jdGlvbihrZXlzLCB2YWx1ZXMpe1xuICB2YXIgaSQsIGxlbiQsIGksIGtleSwgcmVzdWx0cyQgPSB7fTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSBrZXlzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgaSA9IGkkO1xuICAgIGtleSA9IGtleXNbaSRdO1xuICAgIHJlc3VsdHMkW2tleV0gPSB2YWx1ZXNbaV07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHMkO1xufSk7XG5vYmpUb0xpc3RzID0gZnVuY3Rpb24ob2JqZWN0KXtcbiAgdmFyIGtleXMsIHZhbHVlcywga2V5LCB2YWx1ZTtcbiAga2V5cyA9IFtdO1xuICB2YWx1ZXMgPSBbXTtcbiAgZm9yIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIFtrZXlzLCB2YWx1ZXNdO1xufTtcbmVtcHR5ID0gZnVuY3Rpb24ob2JqZWN0KXtcbiAgdmFyIHg7XG4gIGZvciAoeCBpbiBvYmplY3QpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuZWFjaCA9IGN1cnJ5JChmdW5jdGlvbihmLCBvYmplY3Qpe1xuICB2YXIgaSQsIHg7XG4gIGZvciAoaSQgaW4gb2JqZWN0KSB7XG4gICAgeCA9IG9iamVjdFtpJF07XG4gICAgZih4KTtcbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufSk7XG5tYXAgPSBjdXJyeSQoZnVuY3Rpb24oZiwgb2JqZWN0KXtcbiAgdmFyIGssIHgsIHJlc3VsdHMkID0ge307XG4gIGZvciAoayBpbiBvYmplY3QpIHtcbiAgICB4ID0gb2JqZWN0W2tdO1xuICAgIHJlc3VsdHMkW2tdID0gZih4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG59KTtcbmNvbXBhY3QgPSBmdW5jdGlvbihvYmplY3Qpe1xuICB2YXIgaywgeCwgcmVzdWx0cyQgPSB7fTtcbiAgZm9yIChrIGluIG9iamVjdCkge1xuICAgIHggPSBvYmplY3Rba107XG5pZiAoeCkge1xuICAgICAgcmVzdWx0cyRba10gPSB4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG59O1xuZmlsdGVyID0gY3VycnkkKGZ1bmN0aW9uKGYsIG9iamVjdCl7XG4gIHZhciBrLCB4LCByZXN1bHRzJCA9IHt9O1xuICBmb3IgKGsgaW4gb2JqZWN0KSB7XG4gICAgeCA9IG9iamVjdFtrXTtcbmlmIChmKHgpKSB7XG4gICAgICByZXN1bHRzJFtrXSA9IHg7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRzJDtcbn0pO1xucmVqZWN0ID0gY3VycnkkKGZ1bmN0aW9uKGYsIG9iamVjdCl7XG4gIHZhciBrLCB4LCByZXN1bHRzJCA9IHt9O1xuICBmb3IgKGsgaW4gb2JqZWN0KSB7XG4gICAgeCA9IG9iamVjdFtrXTtcbmlmICghZih4KSkge1xuICAgICAgcmVzdWx0cyRba10gPSB4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG59KTtcbnBhcnRpdGlvbiA9IGN1cnJ5JChmdW5jdGlvbihmLCBvYmplY3Qpe1xuICB2YXIgcGFzc2VkLCBmYWlsZWQsIGssIHg7XG4gIHBhc3NlZCA9IHt9O1xuICBmYWlsZWQgPSB7fTtcbiAgZm9yIChrIGluIG9iamVjdCkge1xuICAgIHggPSBvYmplY3Rba107XG4gICAgKGYoeCkgPyBwYXNzZWQgOiBmYWlsZWQpW2tdID0geDtcbiAgfVxuICByZXR1cm4gW3Bhc3NlZCwgZmFpbGVkXTtcbn0pO1xuZmluZCA9IGN1cnJ5JChmdW5jdGlvbihmLCBvYmplY3Qpe1xuICB2YXIgaSQsIHg7XG4gIGZvciAoaSQgaW4gb2JqZWN0KSB7XG4gICAgeCA9IG9iamVjdFtpJF07XG4gICAgaWYgKGYoeCkpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfVxufSk7XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdmFsdWVzOiB2YWx1ZXMsXG4gIGtleXM6IGtleXMsXG4gIHBhaXJzVG9PYmo6IHBhaXJzVG9PYmosXG4gIG9ialRvUGFpcnM6IG9ialRvUGFpcnMsXG4gIGxpc3RzVG9PYmo6IGxpc3RzVG9PYmosXG4gIG9ialRvTGlzdHM6IG9ialRvTGlzdHMsXG4gIGVtcHR5OiBlbXB0eSxcbiAgZWFjaDogZWFjaCxcbiAgbWFwOiBtYXAsXG4gIGZpbHRlcjogZmlsdGVyLFxuICBjb21wYWN0OiBjb21wYWN0LFxuICByZWplY3Q6IHJlamVjdCxcbiAgcGFydGl0aW9uOiBwYXJ0aXRpb24sXG4gIGZpbmQ6IGZpbmRcbn07XG5mdW5jdGlvbiBjdXJyeSQoZiwgYm91bmQpe1xuICB2YXIgY29udGV4dCxcbiAgX2N1cnJ5ID0gZnVuY3Rpb24oYXJncykge1xuICAgIHJldHVybiBmLmxlbmd0aCA+IDEgPyBmdW5jdGlvbigpe1xuICAgICAgdmFyIHBhcmFtcyA9IGFyZ3MgPyBhcmdzLmNvbmNhdCgpIDogW107XG4gICAgICBjb250ZXh0ID0gYm91bmQgPyBjb250ZXh0IHx8IHRoaXMgOiB0aGlzO1xuICAgICAgcmV0dXJuIHBhcmFtcy5wdXNoLmFwcGx5KHBhcmFtcywgYXJndW1lbnRzKSA8XG4gICAgICAgICAgZi5sZW5ndGggJiYgYXJndW1lbnRzLmxlbmd0aCA/XG4gICAgICAgIF9jdXJyeS5jYWxsKGNvbnRleHQsIHBhcmFtcykgOiBmLmFwcGx5KGNvbnRleHQsIHBhcmFtcyk7XG4gICAgfSA6IGY7XG4gIH07XG4gIHJldHVybiBfY3VycnkoKTtcbn0iLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjIuMFxudmFyIHNwbGl0LCBqb2luLCBsaW5lcywgdW5saW5lcywgd29yZHMsIHVud29yZHMsIGNoYXJzLCB1bmNoYXJzLCByZXZlcnNlLCByZXBlYXQsIGNhcGl0YWxpemUsIGNhbWVsaXplLCBkYXNoZXJpemU7XG5zcGxpdCA9IGN1cnJ5JChmdW5jdGlvbihzZXAsIHN0cil7XG4gIHJldHVybiBzdHIuc3BsaXQoc2VwKTtcbn0pO1xuam9pbiA9IGN1cnJ5JChmdW5jdGlvbihzZXAsIHhzKXtcbiAgcmV0dXJuIHhzLmpvaW4oc2VwKTtcbn0pO1xubGluZXMgPSBmdW5jdGlvbihzdHIpe1xuICBpZiAoIXN0ci5sZW5ndGgpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgcmV0dXJuIHN0ci5zcGxpdCgnXFxuJyk7XG59O1xudW5saW5lcyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0LmpvaW4oJ1xcbicpO1xufTtcbndvcmRzID0gZnVuY3Rpb24oc3RyKXtcbiAgaWYgKCFzdHIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIHJldHVybiBzdHIuc3BsaXQoL1sgXSsvKTtcbn07XG51bndvcmRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQuam9pbignICcpO1xufTtcbmNoYXJzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQuc3BsaXQoJycpO1xufTtcbnVuY2hhcnMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdC5qb2luKCcnKTtcbn07XG5yZXZlcnNlID0gZnVuY3Rpb24oc3RyKXtcbiAgcmV0dXJuIHN0ci5zcGxpdCgnJykucmV2ZXJzZSgpLmpvaW4oJycpO1xufTtcbnJlcGVhdCA9IGN1cnJ5JChmdW5jdGlvbihuLCBzdHIpe1xuICB2YXIgcmVzdWx0LCBpJDtcbiAgcmVzdWx0ID0gJyc7XG4gIGZvciAoaSQgPSAwOyBpJCA8IG47ICsraSQpIHtcbiAgICByZXN1bHQgKz0gc3RyO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59KTtcbmNhcGl0YWxpemUgPSBmdW5jdGlvbihzdHIpe1xuICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xufTtcbmNhbWVsaXplID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQucmVwbGFjZSgvWy1fXSsoLik/L2csIGZ1bmN0aW9uKGFyZyQsIGMpe1xuICAgIHJldHVybiAoYyAhPSBudWxsID8gYyA6ICcnKS50b1VwcGVyQ2FzZSgpO1xuICB9KTtcbn07XG5kYXNoZXJpemUgPSBmdW5jdGlvbihzdHIpe1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbXi1BLVpdKShbQS1aXSspL2csIGZ1bmN0aW9uKGFyZyQsIGxvd2VyLCB1cHBlcil7XG4gICAgcmV0dXJuIGxvd2VyICsgXCItXCIgKyAodXBwZXIubGVuZ3RoID4gMVxuICAgICAgPyB1cHBlclxuICAgICAgOiB1cHBlci50b0xvd2VyQ2FzZSgpKTtcbiAgfSkucmVwbGFjZSgvXihbQS1aXSspLywgZnVuY3Rpb24oYXJnJCwgdXBwZXIpe1xuICAgIGlmICh1cHBlci5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4gdXBwZXIgKyBcIi1cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVwcGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICB9KTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc3BsaXQ6IHNwbGl0LFxuICBqb2luOiBqb2luLFxuICBsaW5lczogbGluZXMsXG4gIHVubGluZXM6IHVubGluZXMsXG4gIHdvcmRzOiB3b3JkcyxcbiAgdW53b3JkczogdW53b3JkcyxcbiAgY2hhcnM6IGNoYXJzLFxuICB1bmNoYXJzOiB1bmNoYXJzLFxuICByZXZlcnNlOiByZXZlcnNlLFxuICByZXBlYXQ6IHJlcGVhdCxcbiAgY2FwaXRhbGl6ZTogY2FwaXRhbGl6ZSxcbiAgY2FtZWxpemU6IGNhbWVsaXplLFxuICBkYXNoZXJpemU6IGRhc2hlcml6ZVxufTtcbmZ1bmN0aW9uIGN1cnJ5JChmLCBib3VuZCl7XG4gIHZhciBjb250ZXh0LFxuICBfY3VycnkgPSBmdW5jdGlvbihhcmdzKSB7XG4gICAgcmV0dXJuIGYubGVuZ3RoID4gMSA/IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgcGFyYW1zID0gYXJncyA/IGFyZ3MuY29uY2F0KCkgOiBbXTtcbiAgICAgIGNvbnRleHQgPSBib3VuZCA/IGNvbnRleHQgfHwgdGhpcyA6IHRoaXM7XG4gICAgICByZXR1cm4gcGFyYW1zLnB1c2guYXBwbHkocGFyYW1zLCBhcmd1bWVudHMpIDxcbiAgICAgICAgICBmLmxlbmd0aCAmJiBhcmd1bWVudHMubGVuZ3RoID9cbiAgICAgICAgX2N1cnJ5LmNhbGwoY29udGV4dCwgcGFyYW1zKSA6IGYuYXBwbHkoY29udGV4dCwgcGFyYW1zKTtcbiAgICB9IDogZjtcbiAgfTtcbiAgcmV0dXJuIF9jdXJyeSgpO1xufSIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMi4wXG52YXIgRnVuYywgTGlzdCwgT2JqLCBTdHIsIE51bSwgaWQsIGlzVHlwZSwgcmVwbGljYXRlLCBwcmVsdWRlLCB0b1N0cmluZyQgPSB7fS50b1N0cmluZztcbkZ1bmMgPSByZXF1aXJlKCcuL0Z1bmMuanMnKTtcbkxpc3QgPSByZXF1aXJlKCcuL0xpc3QuanMnKTtcbk9iaiA9IHJlcXVpcmUoJy4vT2JqLmpzJyk7XG5TdHIgPSByZXF1aXJlKCcuL1N0ci5qcycpO1xuTnVtID0gcmVxdWlyZSgnLi9OdW0uanMnKTtcbmlkID0gZnVuY3Rpb24oeCl7XG4gIHJldHVybiB4O1xufTtcbmlzVHlwZSA9IGN1cnJ5JChmdW5jdGlvbih0eXBlLCB4KXtcbiAgcmV0dXJuIHRvU3RyaW5nJC5jYWxsKHgpLnNsaWNlKDgsIC0xKSA9PT0gdHlwZTtcbn0pO1xucmVwbGljYXRlID0gY3VycnkkKGZ1bmN0aW9uKG4sIHgpe1xuICB2YXIgaSQsIHJlc3VsdHMkID0gW107XG4gIGZvciAoaSQgPSAwOyBpJCA8IG47ICsraSQpIHtcbiAgICByZXN1bHRzJC5wdXNoKHgpO1xuICB9XG4gIHJldHVybiByZXN1bHRzJDtcbn0pO1xuU3RyLmVtcHR5ID0gTGlzdC5lbXB0eTtcblN0ci5zbGljZSA9IExpc3Quc2xpY2U7XG5TdHIudGFrZSA9IExpc3QudGFrZTtcblN0ci5kcm9wID0gTGlzdC5kcm9wO1xuU3RyLnNwbGl0QXQgPSBMaXN0LnNwbGl0QXQ7XG5TdHIudGFrZVdoaWxlID0gTGlzdC50YWtlV2hpbGU7XG5TdHIuZHJvcFdoaWxlID0gTGlzdC5kcm9wV2hpbGU7XG5TdHIuc3BhbiA9IExpc3Quc3BhbjtcblN0ci5icmVha1N0ciA9IExpc3QuYnJlYWtMaXN0O1xucHJlbHVkZSA9IHtcbiAgRnVuYzogRnVuYyxcbiAgTGlzdDogTGlzdCxcbiAgT2JqOiBPYmosXG4gIFN0cjogU3RyLFxuICBOdW06IE51bSxcbiAgaWQ6IGlkLFxuICBpc1R5cGU6IGlzVHlwZSxcbiAgcmVwbGljYXRlOiByZXBsaWNhdGVcbn07XG5wcmVsdWRlLmVhY2ggPSBMaXN0LmVhY2g7XG5wcmVsdWRlLm1hcCA9IExpc3QubWFwO1xucHJlbHVkZS5maWx0ZXIgPSBMaXN0LmZpbHRlcjtcbnByZWx1ZGUuY29tcGFjdCA9IExpc3QuY29tcGFjdDtcbnByZWx1ZGUucmVqZWN0ID0gTGlzdC5yZWplY3Q7XG5wcmVsdWRlLnBhcnRpdGlvbiA9IExpc3QucGFydGl0aW9uO1xucHJlbHVkZS5maW5kID0gTGlzdC5maW5kO1xucHJlbHVkZS5oZWFkID0gTGlzdC5oZWFkO1xucHJlbHVkZS5maXJzdCA9IExpc3QuZmlyc3Q7XG5wcmVsdWRlLnRhaWwgPSBMaXN0LnRhaWw7XG5wcmVsdWRlLmxhc3QgPSBMaXN0Lmxhc3Q7XG5wcmVsdWRlLmluaXRpYWwgPSBMaXN0LmluaXRpYWw7XG5wcmVsdWRlLmVtcHR5ID0gTGlzdC5lbXB0eTtcbnByZWx1ZGUucmV2ZXJzZSA9IExpc3QucmV2ZXJzZTtcbnByZWx1ZGUuZGlmZmVyZW5jZSA9IExpc3QuZGlmZmVyZW5jZTtcbnByZWx1ZGUuaW50ZXJzZWN0aW9uID0gTGlzdC5pbnRlcnNlY3Rpb247XG5wcmVsdWRlLnVuaW9uID0gTGlzdC51bmlvbjtcbnByZWx1ZGUuY291bnRCeSA9IExpc3QuY291bnRCeTtcbnByZWx1ZGUuZ3JvdXBCeSA9IExpc3QuZ3JvdXBCeTtcbnByZWx1ZGUuZm9sZCA9IExpc3QuZm9sZDtcbnByZWx1ZGUuZm9sZGwgPSBMaXN0LmZvbGRsO1xucHJlbHVkZS5mb2xkMSA9IExpc3QuZm9sZDE7XG5wcmVsdWRlLmZvbGRsMSA9IExpc3QuZm9sZGwxO1xucHJlbHVkZS5mb2xkciA9IExpc3QuZm9sZHI7XG5wcmVsdWRlLmZvbGRyMSA9IExpc3QuZm9sZHIxO1xucHJlbHVkZS51bmZvbGRyID0gTGlzdC51bmZvbGRyO1xucHJlbHVkZS5hbmRMaXN0ID0gTGlzdC5hbmRMaXN0O1xucHJlbHVkZS5vckxpc3QgPSBMaXN0Lm9yTGlzdDtcbnByZWx1ZGUuYW55ID0gTGlzdC5hbnk7XG5wcmVsdWRlLmFsbCA9IExpc3QuYWxsO1xucHJlbHVkZS51bmlxdWUgPSBMaXN0LnVuaXF1ZTtcbnByZWx1ZGUudW5pcXVlQnkgPSBMaXN0LnVuaXF1ZUJ5O1xucHJlbHVkZS5zb3J0ID0gTGlzdC5zb3J0O1xucHJlbHVkZS5zb3J0V2l0aCA9IExpc3Quc29ydFdpdGg7XG5wcmVsdWRlLnNvcnRCeSA9IExpc3Quc29ydEJ5O1xucHJlbHVkZS5zdW0gPSBMaXN0LnN1bTtcbnByZWx1ZGUucHJvZHVjdCA9IExpc3QucHJvZHVjdDtcbnByZWx1ZGUubWVhbiA9IExpc3QubWVhbjtcbnByZWx1ZGUuYXZlcmFnZSA9IExpc3QuYXZlcmFnZTtcbnByZWx1ZGUuY29uY2F0ID0gTGlzdC5jb25jYXQ7XG5wcmVsdWRlLmNvbmNhdE1hcCA9IExpc3QuY29uY2F0TWFwO1xucHJlbHVkZS5mbGF0dGVuID0gTGlzdC5mbGF0dGVuO1xucHJlbHVkZS5tYXhpbXVtID0gTGlzdC5tYXhpbXVtO1xucHJlbHVkZS5taW5pbXVtID0gTGlzdC5taW5pbXVtO1xucHJlbHVkZS5tYXhpbXVtQnkgPSBMaXN0Lm1heGltdW1CeTtcbnByZWx1ZGUubWluaW11bUJ5ID0gTGlzdC5taW5pbXVtQnk7XG5wcmVsdWRlLnNjYW4gPSBMaXN0LnNjYW47XG5wcmVsdWRlLnNjYW5sID0gTGlzdC5zY2FubDtcbnByZWx1ZGUuc2NhbjEgPSBMaXN0LnNjYW4xO1xucHJlbHVkZS5zY2FubDEgPSBMaXN0LnNjYW5sMTtcbnByZWx1ZGUuc2NhbnIgPSBMaXN0LnNjYW5yO1xucHJlbHVkZS5zY2FucjEgPSBMaXN0LnNjYW5yMTtcbnByZWx1ZGUuc2xpY2UgPSBMaXN0LnNsaWNlO1xucHJlbHVkZS50YWtlID0gTGlzdC50YWtlO1xucHJlbHVkZS5kcm9wID0gTGlzdC5kcm9wO1xucHJlbHVkZS5zcGxpdEF0ID0gTGlzdC5zcGxpdEF0O1xucHJlbHVkZS50YWtlV2hpbGUgPSBMaXN0LnRha2VXaGlsZTtcbnByZWx1ZGUuZHJvcFdoaWxlID0gTGlzdC5kcm9wV2hpbGU7XG5wcmVsdWRlLnNwYW4gPSBMaXN0LnNwYW47XG5wcmVsdWRlLmJyZWFrTGlzdCA9IExpc3QuYnJlYWtMaXN0O1xucHJlbHVkZS56aXAgPSBMaXN0LnppcDtcbnByZWx1ZGUuemlwV2l0aCA9IExpc3QuemlwV2l0aDtcbnByZWx1ZGUuemlwQWxsID0gTGlzdC56aXBBbGw7XG5wcmVsdWRlLnppcEFsbFdpdGggPSBMaXN0LnppcEFsbFdpdGg7XG5wcmVsdWRlLmF0ID0gTGlzdC5hdDtcbnByZWx1ZGUuZWxlbUluZGV4ID0gTGlzdC5lbGVtSW5kZXg7XG5wcmVsdWRlLmVsZW1JbmRpY2VzID0gTGlzdC5lbGVtSW5kaWNlcztcbnByZWx1ZGUuZmluZEluZGV4ID0gTGlzdC5maW5kSW5kZXg7XG5wcmVsdWRlLmZpbmRJbmRpY2VzID0gTGlzdC5maW5kSW5kaWNlcztcbnByZWx1ZGUuYXBwbHkgPSBGdW5jLmFwcGx5O1xucHJlbHVkZS5jdXJyeSA9IEZ1bmMuY3Vycnk7XG5wcmVsdWRlLmZsaXAgPSBGdW5jLmZsaXA7XG5wcmVsdWRlLmZpeCA9IEZ1bmMuZml4O1xucHJlbHVkZS5vdmVyID0gRnVuYy5vdmVyO1xucHJlbHVkZS5zcGxpdCA9IFN0ci5zcGxpdDtcbnByZWx1ZGUuam9pbiA9IFN0ci5qb2luO1xucHJlbHVkZS5saW5lcyA9IFN0ci5saW5lcztcbnByZWx1ZGUudW5saW5lcyA9IFN0ci51bmxpbmVzO1xucHJlbHVkZS53b3JkcyA9IFN0ci53b3JkcztcbnByZWx1ZGUudW53b3JkcyA9IFN0ci51bndvcmRzO1xucHJlbHVkZS5jaGFycyA9IFN0ci5jaGFycztcbnByZWx1ZGUudW5jaGFycyA9IFN0ci51bmNoYXJzO1xucHJlbHVkZS5yZXBlYXQgPSBTdHIucmVwZWF0O1xucHJlbHVkZS5jYXBpdGFsaXplID0gU3RyLmNhcGl0YWxpemU7XG5wcmVsdWRlLmNhbWVsaXplID0gU3RyLmNhbWVsaXplO1xucHJlbHVkZS5kYXNoZXJpemUgPSBTdHIuZGFzaGVyaXplO1xucHJlbHVkZS52YWx1ZXMgPSBPYmoudmFsdWVzO1xucHJlbHVkZS5rZXlzID0gT2JqLmtleXM7XG5wcmVsdWRlLnBhaXJzVG9PYmogPSBPYmoucGFpcnNUb09iajtcbnByZWx1ZGUub2JqVG9QYWlycyA9IE9iai5vYmpUb1BhaXJzO1xucHJlbHVkZS5saXN0c1RvT2JqID0gT2JqLmxpc3RzVG9PYmo7XG5wcmVsdWRlLm9ialRvTGlzdHMgPSBPYmoub2JqVG9MaXN0cztcbnByZWx1ZGUubWF4ID0gTnVtLm1heDtcbnByZWx1ZGUubWluID0gTnVtLm1pbjtcbnByZWx1ZGUubmVnYXRlID0gTnVtLm5lZ2F0ZTtcbnByZWx1ZGUuYWJzID0gTnVtLmFicztcbnByZWx1ZGUuc2lnbnVtID0gTnVtLnNpZ251bTtcbnByZWx1ZGUucXVvdCA9IE51bS5xdW90O1xucHJlbHVkZS5yZW0gPSBOdW0ucmVtO1xucHJlbHVkZS5kaXYgPSBOdW0uZGl2O1xucHJlbHVkZS5tb2QgPSBOdW0ubW9kO1xucHJlbHVkZS5yZWNpcCA9IE51bS5yZWNpcDtcbnByZWx1ZGUucGkgPSBOdW0ucGk7XG5wcmVsdWRlLnRhdSA9IE51bS50YXU7XG5wcmVsdWRlLmV4cCA9IE51bS5leHA7XG5wcmVsdWRlLnNxcnQgPSBOdW0uc3FydDtcbnByZWx1ZGUubG4gPSBOdW0ubG47XG5wcmVsdWRlLnBvdyA9IE51bS5wb3c7XG5wcmVsdWRlLnNpbiA9IE51bS5zaW47XG5wcmVsdWRlLnRhbiA9IE51bS50YW47XG5wcmVsdWRlLmNvcyA9IE51bS5jb3M7XG5wcmVsdWRlLmFjb3MgPSBOdW0uYWNvcztcbnByZWx1ZGUuYXNpbiA9IE51bS5hc2luO1xucHJlbHVkZS5hdGFuID0gTnVtLmF0YW47XG5wcmVsdWRlLmF0YW4yID0gTnVtLmF0YW4yO1xucHJlbHVkZS50cnVuY2F0ZSA9IE51bS50cnVuY2F0ZTtcbnByZWx1ZGUucm91bmQgPSBOdW0ucm91bmQ7XG5wcmVsdWRlLmNlaWxpbmcgPSBOdW0uY2VpbGluZztcbnByZWx1ZGUuZmxvb3IgPSBOdW0uZmxvb3I7XG5wcmVsdWRlLmlzSXROYU4gPSBOdW0uaXNJdE5hTjtcbnByZWx1ZGUuZXZlbiA9IE51bS5ldmVuO1xucHJlbHVkZS5vZGQgPSBOdW0ub2RkO1xucHJlbHVkZS5nY2QgPSBOdW0uZ2NkO1xucHJlbHVkZS5sY20gPSBOdW0ubGNtO1xucHJlbHVkZS5WRVJTSU9OID0gJzEuMS4xJztcbm1vZHVsZS5leHBvcnRzID0gcHJlbHVkZTtcbmZ1bmN0aW9uIGN1cnJ5JChmLCBib3VuZCl7XG4gIHZhciBjb250ZXh0LFxuICBfY3VycnkgPSBmdW5jdGlvbihhcmdzKSB7XG4gICAgcmV0dXJuIGYubGVuZ3RoID4gMSA/IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgcGFyYW1zID0gYXJncyA/IGFyZ3MuY29uY2F0KCkgOiBbXTtcbiAgICAgIGNvbnRleHQgPSBib3VuZCA/IGNvbnRleHQgfHwgdGhpcyA6IHRoaXM7XG4gICAgICByZXR1cm4gcGFyYW1zLnB1c2guYXBwbHkocGFyYW1zLCBhcmd1bWVudHMpIDxcbiAgICAgICAgICBmLmxlbmd0aCAmJiBhcmd1bWVudHMubGVuZ3RoID9cbiAgICAgICAgX2N1cnJ5LmNhbGwoY29udGV4dCwgcGFyYW1zKSA6IGYuYXBwbHkoY29udGV4dCwgcGFyYW1zKTtcbiAgICB9IDogZjtcbiAgfTtcbiAgcmV0dXJuIF9jdXJyeSgpO1xufSIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG52YXIgZm9sZCwgcmVmJCwgbmFtZUZyb21QYXRoLCBzdHJpcFN0cmluZywgTm9kZSwgTmVnYXRhYmxlLCBCbG9jaywgQXRvbSwgTGl0ZXJhbCwgVmFyLCBLZXksIEluZGV4LCBTbGljZSwgQ2hhaW4sIENhbGwsIExpc3QsIE9iaiwgUHJvcCwgQXJyLCBVbmFyeSwgQmluYXJ5LCBBc3NpZ24sIEltcG9ydCwgSW4sIEV4aXN0ZW5jZSwgRnVuLCBDbGFzcywgU3VwZXIsIFBhcmVucywgU3BsYXQsIEp1bXAsIFRocm93LCBSZXR1cm4sIFdoaWxlLCBGb3IsIFRyeSwgU3dpdGNoLCBDYXNlLCBJZiwgTGFiZWwsIENhc2NhZGUsIEpTLCBSZXF1aXJlLCBVdGlsLCBWYXJzLCBERUNMUywgVVRJTFMsIExFVkVMX1RPUCwgTEVWRUxfUEFSRU4sIExFVkVMX0xJU1QsIExFVkVMX0NPTkQsIExFVkVMX09QLCBMRVZFTF9DQUxMLCBQUkVDLCBUQUIsIElELCBTSU1QTEVOVU0sIHNsaWNlJCA9IFtdLnNsaWNlLCB0b1N0cmluZyQgPSB7fS50b1N0cmluZztcbmZvbGQgPSByZXF1aXJlKCdwcmVsdWRlLWxzJykuZm9sZDtcbnJlZiQgPSByZXF1aXJlKCcuL3V0aWwnKSwgbmFtZUZyb21QYXRoID0gcmVmJC5uYW1lRnJvbVBhdGgsIHN0cmlwU3RyaW5nID0gcmVmJC5zdHJpcFN0cmluZztcbihOb2RlID0gZnVuY3Rpb24oKXtcbiAgdGhyb3cgRXJyb3IoJ3VuaW1wbGVtZW50ZWQnKTtcbn0pLnByb3RvdHlwZSA9IHtcbiAgY29tcGlsZTogZnVuY3Rpb24ob3B0aW9ucywgbGV2ZWwpe1xuICAgIHZhciBvLCBub2RlLCBjb2RlLCB0aGF0LCBpJCwgbGVuJCwgdG1wO1xuICAgIG8gPSBpbXBvcnQkKHt9LCBvcHRpb25zKTtcbiAgICBpZiAobGV2ZWwgIT0gbnVsbCkge1xuICAgICAgby5sZXZlbCA9IGxldmVsO1xuICAgIH1cbiAgICBub2RlID0gdGhpcy51bmZvbGRTb2FrKG8pIHx8IHRoaXM7XG4gICAgaWYgKG8ubGV2ZWwgJiYgbm9kZS5pc1N0YXRlbWVudCgpKSB7XG4gICAgICByZXR1cm4gbm9kZS5jb21waWxlQ2xvc3VyZShvKTtcbiAgICB9XG4gICAgY29kZSA9IChub2RlLnRhYiA9IG8uaW5kZW50LCBub2RlKS5jb21waWxlTm9kZShvKTtcbiAgICBpZiAodGhhdCA9IG5vZGUudGVtcHMpIHtcbiAgICAgIGZvciAoaSQgPSAwLCBsZW4kID0gdGhhdC5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgICB0bXAgPSB0aGF0W2kkXTtcbiAgICAgICAgby5zY29wZS5mcmVlKHRtcCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb2RlO1xuICB9LFxuICBjb21waWxlQ2xvc3VyZTogZnVuY3Rpb24obyl7XG4gICAgdmFyIHRoYXQsIGZ1biwgY2FsbCwgaGFzQXJncywgaGFzVGhpcztcbiAgICBpZiAodGhhdCA9IHRoaXMuZ2V0SnVtcCgpKSB7XG4gICAgICB0aGF0LmNhcnAoJ2luY29udmVydGlibGUgc3RhdGVtZW50Jyk7XG4gICAgfVxuICAgIGZ1biA9IEZ1bihbXSwgQmxvY2sodGhpcykpO1xuICAgIGNhbGwgPSBDYWxsKCk7XG4gICAgdGhpcy50cmF2ZXJzZUNoaWxkcmVuKGZ1bmN0aW9uKGl0KXtcbiAgICAgIHN3aXRjaCAoaXQudmFsdWUpIHtcbiAgICAgIGNhc2UgJ3RoaXMnOlxuICAgICAgICBoYXNUaGlzID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhcmd1bWVudHMnOlxuICAgICAgICBoYXNBcmdzID0gaXQudmFsdWUgPSAnYXJncyQnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChoYXNUaGlzKSB7XG4gICAgICBjYWxsLmFyZ3MucHVzaChMaXRlcmFsKCd0aGlzJykpO1xuICAgICAgY2FsbC5tZXRob2QgPSAnLmNhbGwnO1xuICAgIH1cbiAgICBpZiAoaGFzQXJncykge1xuICAgICAgY2FsbC5hcmdzLnB1c2goTGl0ZXJhbCgnYXJndW1lbnRzJykpO1xuICAgICAgZnVuLnBhcmFtcy5wdXNoKFZhcignYXJncyQnKSk7XG4gICAgfVxuICAgIHJldHVybiBQYXJlbnMoQ2hhaW4oKGZ1bi53cmFwcGVyID0gdHJ1ZSwgZnVuWyd2b2lkJ10gPSB0aGlzWyd2b2lkJ10sIGZ1biksIFtjYWxsXSksIHRydWUpLmNvbXBpbGUobyk7XG4gIH0sXG4gIGNvbXBpbGVCbG9jazogZnVuY3Rpb24obywgbm9kZSl7XG4gICAgdmFyIHRoYXQ7XG4gICAgaWYgKHRoYXQgPSBub2RlICE9IG51bGwgPyBub2RlLmNvbXBpbGUobywgTEVWRUxfVE9QKSA6IHZvaWQgOCkge1xuICAgICAgcmV0dXJuIFwie1xcblwiICsgdGhhdCArIFwiXFxuXCIgKyB0aGlzLnRhYiArIFwifVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3t9JztcbiAgICB9XG4gIH0sXG4gIGNhY2hlOiBmdW5jdGlvbihvLCBvbmNlLCBsZXZlbCl7XG4gICAgdmFyIHJlZiQsIHN1YiwgcmVmO1xuICAgIGlmICghdGhpcy5pc0NvbXBsZXgoKSkge1xuICAgICAgcmV0dXJuIFtyZWYkID0gbGV2ZWwgIT0gbnVsbCA/IHRoaXMuY29tcGlsZShvLCBsZXZlbCkgOiB0aGlzLCByZWYkXTtcbiAgICB9XG4gICAgc3ViID0gQXNzaWduKHJlZiA9IFZhcihvLnNjb3BlLnRlbXBvcmFyeSgpKSwgdGhpcyk7XG4gICAgaWYgKGxldmVsICE9IG51bGwpIHtcbiAgICAgIHN1YiA9IHN1Yi5jb21waWxlKG8sIGxldmVsKTtcbiAgICAgIGlmIChvbmNlKSB7XG4gICAgICAgIG8uc2NvcGUuZnJlZShyZWYudmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtzdWIsIHJlZi52YWx1ZV07XG4gICAgfVxuICAgIGlmIChvbmNlKSB7XG4gICAgICByZXR1cm4gW3N1YiwgKHJlZi50ZW1wID0gdHJ1ZSwgcmVmKV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbc3ViLCByZWYsIFtyZWYudmFsdWVdXTtcbiAgICB9XG4gIH0sXG4gIGNvbXBpbGVMb29wUmVmZXJlbmNlOiBmdW5jdGlvbihvLCBuYW1lLCByZXQpe1xuICAgIHZhciByZWYkLCBhc24sIHRtcDtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFZhciAmJiBvLnNjb3BlLmNoZWNrKHRoaXMudmFsdWUpIHx8IHRoaXMgaW5zdGFuY2VvZiBVbmFyeSAmJiAoKHJlZiQgPSB0aGlzLm9wKSA9PT0gJysnIHx8IHJlZiQgPT09ICctJykgJiYgKC0xIC8gMCA8IChyZWYkID0gK3RoaXMuaXQudmFsdWUpICYmIHJlZiQgPCAxIC8gMCkgfHwgdGhpcyBpbnN0YW5jZW9mIExpdGVyYWwgJiYgIXRoaXMuaXNDb21wbGV4KCkpIHtcbiAgICAgIHJldHVybiBbcmVmJCA9IHRoaXMuY29tcGlsZShvKSwgcmVmJF07XG4gICAgfVxuICAgIGFzbiA9IEFzc2lnbihWYXIodG1wID0gby5zY29wZS50ZW1wb3JhcnkobmFtZSkpLCB0aGlzKTtcbiAgICByZXQgfHwgKGFzblsndm9pZCddID0gdHJ1ZSk7XG4gICAgcmV0dXJuIFt0bXAsIGFzbi5jb21waWxlKG8sIHJldCA/IExFVkVMX0NBTEwgOiBMRVZFTF9QQVJFTildO1xuICB9LFxuICBlYWNoQ2hpbGQ6IGZ1bmN0aW9uKGZuKXtcbiAgICB2YXIgaSQsIHJlZiQsIGxlbiQsIG5hbWUsIGNoaWxkLCBqJCwgbGVuMSQsIGksIG5vZGUsIHRoYXQ7XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHRoaXMuY2hpbGRyZW4pLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICBuYW1lID0gcmVmJFtpJF07XG4gICAgICBpZiAoY2hpbGQgPSB0aGlzW25hbWVdKSB7XG4gICAgICAgIGlmICgnbGVuZ3RoJyBpbiBjaGlsZCkge1xuICAgICAgICAgIGZvciAoaiQgPSAwLCBsZW4xJCA9IGNoaWxkLmxlbmd0aDsgaiQgPCBsZW4xJDsgKytqJCkge1xuICAgICAgICAgICAgaSA9IGokO1xuICAgICAgICAgICAgbm9kZSA9IGNoaWxkW2okXTtcbiAgICAgICAgICAgIGlmICh0aGF0ID0gZm4obm9kZSwgbmFtZSwgaSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoYXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICgodGhhdCA9IGZuKGNoaWxkLCBuYW1lKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoYXQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICB0cmF2ZXJzZUNoaWxkcmVuOiBmdW5jdGlvbihmbiwgeHNjb3BlKXtcbiAgICB2YXIgdGhpcyQgPSB0aGlzO1xuICAgIHJldHVybiB0aGlzLmVhY2hDaGlsZChmdW5jdGlvbihub2RlLCBuYW1lLCBpbmRleCl7XG4gICAgICB2YXIgcmVmJDtcbiAgICAgIHJldHVybiAocmVmJCA9IGZuKG5vZGUsIHRoaXMkLCBuYW1lLCBpbmRleCkpICE9IG51bGxcbiAgICAgICAgPyByZWYkXG4gICAgICAgIDogbm9kZS50cmF2ZXJzZUNoaWxkcmVuKGZuLCB4c2NvcGUpO1xuICAgIH0pO1xuICB9LFxuICBhbmFwaG9yaXplOiBmdW5jdGlvbigpe1xuICAgIHZhciBiYXNlLCBuYW1lLCByZWYkO1xuICAgIHRoaXMuY2hpbGRyZW4gPSB0aGlzLmFUYXJnZXRzO1xuICAgIGlmICh0aGlzLmVhY2hDaGlsZChoYXNUaGF0KSkge1xuICAgICAgaWYgKChiYXNlID0gdGhpcylbbmFtZSA9IHRoaXMuYVNvdXJjZV0gaW5zdGFuY2VvZiBFeGlzdGVuY2UpIHtcbiAgICAgICAgYmFzZSA9IGJhc2VbbmFtZV07XG4gICAgICAgIG5hbWUgPSAnaXQnO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2VbbmFtZV0udmFsdWUgIT09ICd0aGF0Jykge1xuICAgICAgICBiYXNlW25hbWVdID0gQXNzaWduKFZhcigndGhhdCcpLCBiYXNlW25hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzVGhhdChpdCl7XG4gICAgICB2YXIgdGhhdDtcbiAgICAgIHJldHVybiBpdC52YWx1ZSA9PT0gJ3RoYXQnIHx8ICgodGhhdCA9IGl0LmFTb3VyY2UpXG4gICAgICAgID8gKHRoYXQgPSBpdFt0aGF0XSkgPyBoYXNUaGF0KHRoYXQpIDogdm9pZCA4XG4gICAgICAgIDogaXQuZWFjaENoaWxkKGhhc1RoYXQpKTtcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMuY2hpbGRyZW47XG4gICAgcmV0dXJuIHJlZiQgPSB0aGlzW3RoaXMuYVNvdXJjZV0sIHJlZiQuY29uZCA9IHRydWUsIHJlZiQ7XG4gIH0sXG4gIGNhcnA6IGZ1bmN0aW9uKG1zZywgdHlwZSl7XG4gICAgdHlwZSA9PSBudWxsICYmICh0eXBlID0gU3ludGF4RXJyb3IpO1xuICAgIHRocm93IHR5cGUobXNnICsgXCIgb24gbGluZSBcIiArICh0aGlzLmxpbmUgfHwgdGhpcy50cmF2ZXJzZUNoaWxkcmVuKGZ1bmN0aW9uKGl0KXtcbiAgICAgIHJldHVybiBpdC5saW5lO1xuICAgIH0pKSk7XG4gIH0sXG4gIGRlbGVnYXRlOiBmdW5jdGlvbihuYW1lcywgZm4pe1xuICAgIHZhciBpJCwgbGVuJDtcbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IG5hbWVzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICAoZm4kLmNhbGwodGhpcywgbmFtZXNbaSRdKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZuJChuYW1lKXtcbiAgICAgIHRoaXNbbmFtZV0gPSBmdW5jdGlvbihpdCl7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIG5hbWUsIGl0KTtcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICBjaGlsZHJlbjogW10sXG4gIHRlcm1pbmF0b3I6ICc7JyxcbiAgaXNDb21wbGV4OiBZRVMsXG4gIGlzU3RhdGVtZW50OiBOTyxcbiAgaXNBc3NpZ25hYmxlOiBOTyxcbiAgaXNDYWxsYWJsZTogTk8sXG4gIGlzRW1wdHk6IE5PLFxuICBpc0FycmF5OiBOTyxcbiAgaXNTdHJpbmc6IE5PLFxuICBpc1JlZ2V4OiBOTyxcbiAgaXNNYXRjaGVyOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLmlzU3RyaW5nKCkgfHwgdGhpcy5pc1JlZ2V4KCk7XG4gIH0sXG4gIGFzc2lnbnM6IE5PLFxuICByaXBOYW1lOiBWT0lELFxuICB1bmZvbGRTb2FrOiBWT0lELFxuICB1bmZvbGRBc3NpZ246IFZPSUQsXG4gIHVucGFyZW46IFRISVMsXG4gIHVud3JhcDogVEhJUyxcbiAgbWF5YmVLZXk6IFRISVMsXG4gIGV4cGFuZFNsaWNlOiBUSElTLFxuICB2YXJOYW1lOiBTdHJpbmcsXG4gIGdldEFjY2Vzc29yczogVk9JRCxcbiAgZ2V0Q2FsbDogVk9JRCxcbiAgZ2V0RGVmYXVsdDogVk9JRCxcbiAgZ2V0SnVtcDogVk9JRCxcbiAgaW52ZXJ0OiBmdW5jdGlvbigpe1xuICAgIHJldHVybiBVbmFyeSgnIScsIHRoaXMsIHRydWUpO1xuICB9LFxuICBpbnZlcnRDaGVjazogZnVuY3Rpb24oaXQpe1xuICAgIGlmIChpdC5pbnZlcnRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW52ZXJ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSxcbiAgYWRkRWxzZTogZnVuY3Rpb24oJGVsc2Upe1xuICAgIHRoaXNbJ2Vsc2UnXSA9ICRlbHNlO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBtYWtlUmV0dXJuOiBmdW5jdGlvbihyZWYsIG9iail7XG4gICAgdmFyIGl0ZW1zLCBrdiwgaSwgdjtcbiAgICBpZiAob2JqKSB7XG4gICAgICBpdGVtcyA9IHRoaXMgaW5zdGFuY2VvZiBBcnJcbiAgICAgICAgPyAodGhpcy5pdGVtc1swXSA9PSBudWxsIHx8IHRoaXMuaXRlbXNbMV0gPT0gbnVsbCAmJiB0aGlzLmNhcnAoJ211c3Qgc3BlY2lmeSBib3RoIGtleSBhbmQgdmFsdWUgZm9yIG9iamVjdCBjb21wcmVoZW5zaW9uJyksIHRoaXMuaXRlbXMpXG4gICAgICAgIDogKGt2ID0gJ2tleVZhbHVlJCcsIChmdW5jdGlvbigpe1xuICAgICAgICAgIHZhciBpJCwgcmVmJCwgbGVuJCwgcmVzdWx0cyQgPSBbXTtcbiAgICAgICAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gW0Fzc2lnbihWYXIoa3YpLCB0aGlzKSwgVmFyKGt2KV0pLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICAgICAgICBpID0gaSQ7XG4gICAgICAgICAgICB2ID0gcmVmJFtpJF07XG4gICAgICAgICAgICByZXN1bHRzJC5wdXNoKENoYWluKHYpLmFkZChJbmRleChMaXRlcmFsKGkpKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0cyQ7XG4gICAgICAgIH0uY2FsbCh0aGlzKSkpO1xuICAgICAgcmV0dXJuIEFzc2lnbihDaGFpbihWYXIocmVmKSkuYWRkKEluZGV4KGl0ZW1zWzBdLCAnLicsIHRydWUpKSwgaXRlbXNbMV0pO1xuICAgIH0gZWxzZSBpZiAocmVmKSB7XG4gICAgICByZXR1cm4gQ2FsbC5tYWtlKEpTKHJlZiArICcucHVzaCcpLCBbdGhpc10pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUmV0dXJuKHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgc2hvdzogU3RyaW5nLFxuICB0b1N0cmluZzogZnVuY3Rpb24oaWR0KXtcbiAgICB2YXIgdHJlZSwgdGhhdDtcbiAgICBpZHQgfHwgKGlkdCA9ICcnKTtcbiAgICB0cmVlID0gJ1xcbicgKyBpZHQgKyB0aGlzLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lO1xuICAgIGlmICh0aGF0ID0gdGhpcy5zaG93KCkpIHtcbiAgICAgIHRyZWUgKz0gJyAnICsgdGhhdDtcbiAgICB9XG4gICAgdGhpcy5lYWNoQ2hpbGQoZnVuY3Rpb24oaXQpe1xuICAgICAgdHJlZSArPSBpdC50b1N0cmluZyhpZHQgKyBUQUIpO1xuICAgIH0pO1xuICAgIHJldHVybiB0cmVlO1xuICB9LFxuICBzdHJpbmdpZnk6IGZ1bmN0aW9uKHNwYWNlKXtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcywgbnVsbCwgc3BhY2UpO1xuICB9LFxuICB0b0pTT046IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIGltcG9ydCQoe1xuICAgICAgdHlwZTogdGhpcy5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZVxuICAgIH0sIHRoaXMpO1xuICB9XG59O1xuZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uKGpzb24pe1xuICByZXR1cm4gZXhwb3J0cy5mcm9tSlNPTihKU09OLnBhcnNlKGpzb24pKTtcbn07XG5leHBvcnRzLmZyb21KU09OID0gKGZ1bmN0aW9uKCl7XG4gIGZ1bmN0aW9uIGZyb21KU09OKGl0KXtcbiAgICB2YXIgdGhhdCwgbm9kZSwga2V5LCB2YWwsIGkkLCBsZW4kLCB2LCByZXN1bHRzJCA9IFtdO1xuICAgIGlmICghKGl0ICYmIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcpKSB7XG4gICAgICByZXR1cm4gaXQ7XG4gICAgfVxuICAgIGlmICh0aGF0ID0gaXQudHlwZSkge1xuICAgICAgbm9kZSA9IGNsb25lJChleHBvcnRzW3RoYXRdLnByb3RvdHlwZSk7XG4gICAgICBmb3IgKGtleSBpbiBpdCkge1xuICAgICAgICB2YWwgPSBpdFtrZXldO1xuICAgICAgICBub2RlW2tleV0gPSBmcm9tSlNPTih2YWwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGlmIChpdC5sZW5ndGggIT0gbnVsbCkge1xuICAgICAgZm9yIChpJCA9IDAsIGxlbiQgPSBpdC5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgICB2ID0gaXRbaSRdO1xuICAgICAgICByZXN1bHRzJC5wdXNoKGZyb21KU09OKHYpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzJDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGl0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZnJvbUpTT047XG59KCkpO1xuTmVnYXRhYmxlID0ge1xuICBzaG93OiBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLm5lZ2F0ZWQgJiYgJyEnO1xuICB9LFxuICBpbnZlcnQ6IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5uZWdhdGVkID0gIXRoaXMubmVnYXRlZDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcbmV4cG9ydHMuQmxvY2sgPSBCbG9jayA9IChmdW5jdGlvbihzdXBlcmNsYXNzKXtcbiAgdmFyIHByb3RvdHlwZSA9IGV4dGVuZCQoKGltcG9ydCQoQmxvY2ssIHN1cGVyY2xhc3MpLmRpc3BsYXlOYW1lID0gJ0Jsb2NrJywgQmxvY2spLCBzdXBlcmNsYXNzKS5wcm90b3R5cGUsIGNvbnN0cnVjdG9yID0gQmxvY2s7XG4gIGZ1bmN0aW9uIEJsb2NrKGJvZHkpe1xuICAgIHZhciB0aGlzJCA9IHRoaXMgaW5zdGFuY2VvZiBjdG9yJCA/IHRoaXMgOiBuZXcgY3RvciQ7XG4gICAgYm9keSB8fCAoYm9keSA9IFtdKTtcbiAgICBpZiAoJ2xlbmd0aCcgaW4gYm9keSkge1xuICAgICAgdGhpcyQubGluZXMgPSBib2R5O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzJC5saW5lcyA9IFtdO1xuICAgICAgdGhpcyQuYWRkKGJvZHkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcyQ7XG4gIH0gZnVuY3Rpb24gY3RvciQoKXt9IGN0b3IkLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgcHJvdG90eXBlLmNoaWxkcmVuID0gWydsaW5lcyddO1xuICBwcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKXtcbiAgICBkZWxldGUgdGhpcy5iYWNrO1xuICAgIHJldHVybiBzdXBlcmNsYXNzLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtcbiAgfTtcbiAgcHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGl0KXtcbiAgICB2YXIgdGhhdCwgcmVmJDtcbiAgICBpdCA9IGl0LnVucGFyZW4oKTtcbiAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgY2FzZSAhKHRoYXQgPSB0aGlzLmJhY2spOlxuICAgICAgdGhhdC5hZGQoaXQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAhKHRoYXQgPSBpdC5saW5lcyk6XG4gICAgICAocmVmJCA9IHRoaXMubGluZXMpLnB1c2guYXBwbHkocmVmJCwgdGhhdCk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhpcy5saW5lcy5wdXNoKGl0KTtcbiAgICAgIGlmICh0aGF0ID0gKHJlZiQgPSBpdC5iYWNrLCBkZWxldGUgaXQuYmFjaywgcmVmJCkpIHtcbiAgICAgICAgdGhpcy5iYWNrID0gdGhhdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHByb3RvdHlwZS5wcmVwZW5kID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVmJDtcbiAgICAocmVmJCA9IHRoaXMubGluZXMpLnNwbGljZS5hcHBseShyZWYkLCBbdGhpcy5uZWNrKCksIDBdLmNvbmNhdChzbGljZSQuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24odGFyZ2V0LCB0eXBlKXtcbiAgICB2YXIgYXJncztcbiAgICBhcmdzID0gdHlwZSA9PT0gJ3w+JyA/IHRoaXMubGluZXMucG9wKCkgOiB0YXJnZXQ7XG4gICAgaWYgKHRvU3RyaW5nJC5jYWxsKGFyZ3MpLnNsaWNlKDgsIC0xKSAhPT0gJ0FycmF5Jykge1xuICAgICAgYXJncyA9IFthcmdzXTtcbiAgICB9XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnfD4nOlxuICAgICAgdGhpcy5saW5lcy5wdXNoKENhbGwubWFrZSh0YXJnZXQsIGFyZ3MsIHtcbiAgICAgICAgcGlwZTogdHJ1ZVxuICAgICAgfSkpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnPHwnOlxuICAgICAgdGhpcy5saW5lcy5wdXNoKENhbGwubWFrZSh0aGlzLmxpbmVzLnBvcCgpLCBhcmdzKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBwcm90b3R5cGUudW53cmFwID0gZnVuY3Rpb24oKXtcbiAgICBpZiAodGhpcy5saW5lcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpbmVzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG4gIHByb3RvdHlwZS5jaG9tcCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGxpbmVzLCBpLCB0aGF0O1xuICAgIGxpbmVzID0gdGhpcy5saW5lcztcbiAgICBpID0gbGluZXMubGVuZ3RoO1xuICAgIHdoaWxlICh0aGF0ID0gbGluZXNbLS1pXSkge1xuICAgICAgaWYgKCF0aGF0LmNvbW1lbnQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGxpbmVzLmxlbmd0aCA9IGkgKyAxO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBwcm90b3R5cGUubmVjayA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHBvcywgaSQsIHJlZiQsIGxlbiQsIHg7XG4gICAgcG9zID0gMDtcbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gdGhpcy5saW5lcykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIHggPSByZWYkW2kkXTtcbiAgICAgIGlmICghKHguY29tbWVudCB8fCB4IGluc3RhbmNlb2YgTGl0ZXJhbCkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICArK3BvcztcbiAgICB9XG4gICAgcmV0dXJuIHBvcztcbiAgfTtcbiAgcHJvdG90eXBlLmlzQ29tcGxleCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJlZiQ7XG4gICAgcmV0dXJuIHRoaXMubGluZXMubGVuZ3RoID4gMSB8fCAoKHJlZiQgPSB0aGlzLmxpbmVzWzBdKSAhPSBudWxsID8gcmVmJC5pc0NvbXBsZXgoKSA6IHZvaWQgOCk7XG4gIH07XG4gIHByb3RvdHlwZS5kZWxlZ2F0ZShbJ2lzQ2FsbGFibGUnLCAnaXNBcnJheScsICdpc1N0cmluZycsICdpc1JlZ2V4J10sIGZ1bmN0aW9uKGl0KXtcbiAgICB2YXIgcmVmJCwgcmVmMSQ7XG4gICAgcmV0dXJuIChyZWYkID0gKHJlZjEkID0gdGhpcy5saW5lcylbcmVmMSQubGVuZ3RoIC0gMV0pICE9IG51bGwgPyByZWYkW2l0XSgpIDogdm9pZCA4O1xuICB9KTtcbiAgcHJvdG90eXBlLmdldEp1bXAgPSBmdW5jdGlvbihpdCl7XG4gICAgdmFyIGkkLCByZWYkLCBsZW4kLCBub2RlLCB0aGF0O1xuICAgIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSB0aGlzLmxpbmVzKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgbm9kZSA9IHJlZiRbaSRdO1xuICAgICAgaWYgKHRoYXQgPSBub2RlLmdldEp1bXAoaXQpKSB7XG4gICAgICAgIHJldHVybiB0aGF0O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcHJvdG90eXBlLm1ha2VSZXR1cm4gPSBmdW5jdGlvbigpe1xuICAgIHZhciB0aGF0LCByZWYkLCBrZXkkLCByZWYxJDtcbiAgICB0aGlzLmNob21wKCk7XG4gICAgaWYgKHRoYXQgPSAocmVmMSQgPSByZWYkID0gdGhpcy5saW5lcylba2V5JCA9IHJlZjEkLmxlbmd0aCAtIDFdICE9IG51bGwgPyByZWYkW2tleSRdID0gKHJlZiQgPSByZWYkW2tleSRdKS5tYWtlUmV0dXJuLmFwcGx5KHJlZiQsIGFyZ3VtZW50cykgOiB2b2lkIDgpIHtcbiAgICAgIGlmICh0aGF0IGluc3RhbmNlb2YgUmV0dXJuICYmICF0aGF0Lml0KSB7XG4gICAgICAgIC0tdGhpcy5saW5lcy5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZSA9IGZ1bmN0aW9uKG8sIGxldmVsKXtcbiAgICB2YXIgdGFiLCBjb2RlcywgcmVzJCwgaSQsIHJlZiQsIGxlbiQsIG5vZGUsIGNvZGU7XG4gICAgbGV2ZWwgPT0gbnVsbCAmJiAobGV2ZWwgPSBvLmxldmVsKTtcbiAgICBpZiAobGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVFeHByZXNzaW9ucyhvLCBsZXZlbCk7XG4gICAgfVxuICAgIG8uYmxvY2sgPSB0aGlzO1xuICAgIHRhYiA9IG8uaW5kZW50O1xuICAgIHJlcyQgPSBbXTtcbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gdGhpcy5saW5lcykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIG5vZGUgPSByZWYkW2kkXTtcbiAgICAgIG5vZGUgPSBub2RlLnVuZm9sZFNvYWsobykgfHwgbm9kZTtcbiAgICAgIGlmICghKGNvZGUgPSAobm9kZS5mcm9udCA9IHRydWUsIG5vZGUpLmNvbXBpbGUobywgbGV2ZWwpKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIG5vZGUuaXNTdGF0ZW1lbnQoKSB8fCAoY29kZSArPSBub2RlLnRlcm1pbmF0b3IpO1xuICAgICAgcmVzJC5wdXNoKHRhYiArIGNvZGUpO1xuICAgIH1cbiAgICBjb2RlcyA9IHJlcyQ7XG4gICAgcmV0dXJuIGNvZGVzLmpvaW4oJ1xcbicpO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZVJvb3QgPSBmdW5jdGlvbihvcHRpb25zKXtcbiAgICB2YXIgbywgc2F2ZVRvLCByZWYkLCBiYXJlLCBwcmVmaXgsIHJlZjEkLCBjb2RlO1xuICAgIG8gPSAoaW1wb3J0JCh7XG4gICAgICBsZXZlbDogTEVWRUxfVE9QLFxuICAgICAgc2NvcGU6IHRoaXMuc2NvcGUgPSBTY29wZS5yb290ID0gbmV3IFNjb3BlXG4gICAgfSwgb3B0aW9ucykpO1xuICAgIGlmIChzYXZlVG8gPSAocmVmJCA9IG8uc2F2ZVNjb3BlLCBkZWxldGUgby5zYXZlU2NvcGUsIHJlZiQpKSB7XG4gICAgICBvLnNjb3BlID0gc2F2ZVRvLnNhdmVkU2NvcGUgfHwgKHNhdmVUby5zYXZlZFNjb3BlID0gby5zY29wZSk7XG4gICAgfVxuICAgIGRlbGV0ZSBvLmZpbGVuYW1lO1xuICAgIG8uaW5kZW50ID0gKGJhcmUgPSAocmVmJCA9IG8uYmFyZSwgZGVsZXRlIG8uYmFyZSwgcmVmJCkpID8gJycgOiBUQUI7XG4gICAgaWYgKC9eXFxzKig/OlsvI118amF2YXNjcmlwdDopLy50ZXN0KChyZWYkID0gdGhpcy5saW5lc1swXSkgIT0gbnVsbCA/IHJlZiQuY29kZSA6IHZvaWQgOCkpIHtcbiAgICAgIHByZWZpeCA9IHRoaXMubGluZXMuc2hpZnQoKS5jb2RlICsgJ1xcbic7XG4gICAgfVxuICAgIGlmICgocmVmMSQgPSBvLmV2YWwsIGRlbGV0ZSBvLmV2YWwsIHJlZjEkKSAmJiB0aGlzLmNob21wKCkubGluZXMubGVuZ3RoKSB7XG4gICAgICBpZiAoYmFyZSkge1xuICAgICAgICB0aGlzLmxpbmVzLnB1c2goUGFyZW5zKHRoaXMubGluZXMucG9wKCkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWFrZVJldHVybigpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb2RlID0gdGhpcy5jb21waWxlV2l0aERlY2xhcmF0aW9ucyhvKTtcbiAgICBiYXJlIHx8IChjb2RlID0gXCIoZnVuY3Rpb24oKXtcXG5cIiArIGNvZGUgKyBcIlxcbn0pLmNhbGwodGhpcyk7XFxuXCIpO1xuICAgIHJldHVybiBbcHJlZml4XSArIGNvZGU7XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlV2l0aERlY2xhcmF0aW9ucyA9IGZ1bmN0aW9uKG8pe1xuICAgIHZhciBwcmUsIGksIHJlc3QsIHBvc3QsIHRoYXQ7XG4gICAgby5sZXZlbCA9IExFVkVMX1RPUDtcbiAgICBwcmUgPSAnJztcbiAgICBpZiAoaSA9IHRoaXMubmVjaygpKSB7XG4gICAgICByZXN0ID0gdGhpcy5saW5lcy5zcGxpY2UoaSwgOWU5KTtcbiAgICAgIHByZSA9IHRoaXMuY29tcGlsZShvKTtcbiAgICAgIHRoaXMubGluZXMgPSByZXN0O1xuICAgIH1cbiAgICBpZiAoIShwb3N0ID0gdGhpcy5jb21waWxlKG8pKSkge1xuICAgICAgcmV0dXJuIHByZTtcbiAgICB9XG4gICAgcmV0dXJuIChwcmUgJiYgcHJlICsgXCJcXG5cIikgKyAoKHRoYXQgPSB0aGlzLnNjb3BlKSA/IHRoYXQuZW1pdChwb3N0LCBvLmluZGVudCkgOiBwb3N0KTtcbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGVFeHByZXNzaW9ucyA9IGZ1bmN0aW9uKG8sIGxldmVsKXtcbiAgICB2YXIgbGluZXMsIGksIHRoYXQsIGNvZGUsIGxhc3QsIGkkLCBsZW4kLCBub2RlO1xuICAgIGxpbmVzID0gdGhpcy5jaG9tcCgpLmxpbmVzO1xuICAgIGkgPSAtMTtcbiAgICB3aGlsZSAodGhhdCA9IGxpbmVzWysraV0pIHtcbiAgICAgIGlmICh0aGF0LmNvbW1lbnQpIHtcbiAgICAgICAgbGluZXMuc3BsaWNlKGktLSwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbGluZXMubGVuZ3RoKSB7XG4gICAgICBsaW5lcy5wdXNoKExpdGVyYWwoJ3ZvaWQnKSk7XG4gICAgfVxuICAgIGxpbmVzWzBdLmZyb250ID0gdGhpcy5mcm9udDtcbiAgICBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXVsndm9pZCddID0gdGhpc1sndm9pZCddO1xuICAgIGlmICghbGluZXNbMV0pIHtcbiAgICAgIHJldHVybiBsaW5lc1swXS5jb21waWxlKG8sIGxldmVsKTtcbiAgICB9XG4gICAgY29kZSA9ICcnO1xuICAgIGxhc3QgPSBsaW5lcy5wb3AoKTtcbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IGxpbmVzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICBub2RlID0gbGluZXNbaSRdO1xuICAgICAgY29kZSArPSAobm9kZVsndm9pZCddID0gdHJ1ZSwgbm9kZSkuY29tcGlsZShvLCBMRVZFTF9QQVJFTikgKyAnLCAnO1xuICAgIH1cbiAgICBjb2RlICs9IGxhc3QuY29tcGlsZShvLCBMRVZFTF9QQVJFTik7XG4gICAgaWYgKGxldmVsIDwgTEVWRUxfTElTVCkge1xuICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIihcIiArIGNvZGUgKyBcIilcIjtcbiAgICB9XG4gIH07XG4gIHJldHVybiBCbG9jaztcbn0oTm9kZSkpO1xuQXRvbSA9IChmdW5jdGlvbihzdXBlcmNsYXNzKXtcbiAgdmFyIHByb3RvdHlwZSA9IGV4dGVuZCQoKGltcG9ydCQoQXRvbSwgc3VwZXJjbGFzcykuZGlzcGxheU5hbWUgPSAnQXRvbScsIEF0b20pLCBzdXBlcmNsYXNzKS5wcm90b3R5cGUsIGNvbnN0cnVjdG9yID0gQXRvbTtcbiAgcHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICB9O1xuICBwcm90b3R5cGUuaXNDb21wbGV4ID0gTk87XG4gIGZ1bmN0aW9uIEF0b20oKXtcbiAgICBBdG9tLnN1cGVyY2xhc3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuICByZXR1cm4gQXRvbTtcbn0oTm9kZSkpO1xuZXhwb3J0cy5MaXRlcmFsID0gTGl0ZXJhbCA9IChmdW5jdGlvbihzdXBlcmNsYXNzKXtcbiAgdmFyIHByb3RvdHlwZSA9IGV4dGVuZCQoKGltcG9ydCQoTGl0ZXJhbCwgc3VwZXJjbGFzcykuZGlzcGxheU5hbWUgPSAnTGl0ZXJhbCcsIExpdGVyYWwpLCBzdXBlcmNsYXNzKS5wcm90b3R5cGUsIGNvbnN0cnVjdG9yID0gTGl0ZXJhbDtcbiAgZnVuY3Rpb24gTGl0ZXJhbCh2YWx1ZSl7XG4gICAgdmFyIHRoaXMkID0gdGhpcyBpbnN0YW5jZW9mIGN0b3IkID8gdGhpcyA6IG5ldyBjdG9yJDtcbiAgICB0aGlzJC52YWx1ZSA9IHZhbHVlO1xuICAgIGlmICh2YWx1ZS5qcykge1xuICAgICAgcmV0dXJuIEpTKHZhbHVlICsgXCJcIiwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gJ3N1cGVyJykge1xuICAgICAgcmV0dXJuIG5ldyBTdXBlcjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMkO1xuICB9IGZ1bmN0aW9uIGN0b3IkKCl7fSBjdG9yJC5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gIHByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVmJDtcbiAgICByZXR1cm4gKHJlZiQgPSB0aGlzLnZhbHVlKSA9PT0gJ3ZvaWQnIHx8IHJlZiQgPT09ICdudWxsJztcbiAgfTtcbiAgcHJvdG90eXBlLmlzQ2FsbGFibGUgPSBmdW5jdGlvbigpe1xuICAgIHZhciByZWYkO1xuICAgIHJldHVybiAocmVmJCA9IHRoaXMudmFsdWUpID09PSAndGhpcycgfHwgcmVmJCA9PT0gJ2V2YWwnIHx8IHJlZiQgPT09ICcuLic7XG4gIH07XG4gIHByb3RvdHlwZS5pc1N0cmluZyA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIDAgPD0gJ1xcJ1wiJy5pbmRleE9mKCh0aGlzLnZhbHVlICsgXCJcIikuY2hhckF0KCkpO1xuICB9O1xuICBwcm90b3R5cGUuaXNSZWdleCA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuICh0aGlzLnZhbHVlICsgXCJcIikuY2hhckF0KCkgPT09ICcvJztcbiAgfTtcbiAgcHJvdG90eXBlLmlzQ29tcGxleCA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMuaXNSZWdleCgpIHx8IHRoaXMudmFsdWUgPT09ICdkZWJ1Z2dlcic7XG4gIH07XG4gIHByb3RvdHlwZS5pc1doYXQgPSBmdW5jdGlvbigpe1xuICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICBjYXNlICF0aGlzLmlzRW1wdHkoKTpcbiAgICAgIHJldHVybiAnZW1wdHknO1xuICAgIGNhc2UgIXRoaXMuaXNDYWxsYWJsZSgpOlxuICAgICAgcmV0dXJuICdjYWxsYWJsZSc7XG4gICAgY2FzZSAhdGhpcy5pc1N0cmluZygpOlxuICAgICAgcmV0dXJuICdzdHJpbmcnO1xuICAgIGNhc2UgIXRoaXMuaXNSZWdleCgpOlxuICAgICAgcmV0dXJuICdyZWdleCc7XG4gICAgY2FzZSAhdGhpcy5pc0NvbXBsZXgoKTpcbiAgICAgIHJldHVybiAnY29tcGxleCc7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUudmFyTmFtZSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYgKC9eXFx3KyQvLnRlc3QodGhpcy52YWx1ZSkpIHtcbiAgICAgIHJldHVybiAnJCcgKyB0aGlzLnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUubWFrZVJldHVybiA9IGZ1bmN0aW9uKGl0KXtcbiAgICBpZiAoIWl0ICYmIHRoaXMudmFsdWUgPT09ICdkZWJ1Z2dlcicpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3VwZXJjbGFzcy5wcm90b3R5cGUubWFrZVJldHVybi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbihvLCBsZXZlbCl7XG4gICAgdmFyIHZhbCwgcmVmJDtcbiAgICBsZXZlbCA9PSBudWxsICYmIChsZXZlbCA9IG8ubGV2ZWwpO1xuICAgIHN3aXRjaCAodmFsID0gdGhpcy52YWx1ZSArIFwiXCIpIHtcbiAgICBjYXNlICd0aGlzJzpcbiAgICAgIHJldHVybiAoKHJlZiQgPSBvLnNjb3BlLmZ1bikgIT0gbnVsbCA/IHJlZiQuYm91bmQgOiB2b2lkIDgpIHx8IHZhbDtcbiAgICBjYXNlICd2b2lkJzpcbiAgICAgIGlmICghbGV2ZWwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgdmFsICs9ICcgOCc7XG4gICAgICAvLyBmYWxsdGhyb3VnaFxuICAgIGNhc2UgJ251bGwnOlxuICAgICAgaWYgKGxldmVsID09PSBMRVZFTF9DQUxMKSB7XG4gICAgICAgIHRoaXMuY2FycCgnaW52YWxpZCB1c2Ugb2YgJyArIHRoaXMudmFsdWUpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb24nOlxuICAgIGNhc2UgJ3llcyc6XG4gICAgICB2YWwgPSAndHJ1ZSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdvZmYnOlxuICAgIGNhc2UgJ25vJzpcbiAgICAgIHZhbCA9ICdmYWxzZSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICcqJzpcbiAgICAgIHRoaXMuY2FycCgnc3RyYXkgc3RhcicpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnLi4nOlxuICAgICAgaWYgKCEodmFsID0gby5yZWYpKSB7XG4gICAgICAgIHRoaXMuY2FycCgnc3RyYXkgcmVmZXJlbmNlJyk7XG4gICAgICB9XG4gICAgICB0aGlzLmNhc2NhZGVlIHx8ICh2YWwuZXJyZWQgPSB0cnVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2RlYnVnZ2VyJzpcbiAgICAgIGlmIChsZXZlbCkge1xuICAgICAgICByZXR1cm4gXCIoZnVuY3Rpb24oKXsgZGVidWdnZXI7IH0oKSlcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfTtcbiAgcmV0dXJuIExpdGVyYWw7XG59KEF0b20pKTtcbmV4cG9ydHMuVmFyID0gVmFyID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChWYXIsIHN1cGVyY2xhc3MpLmRpc3BsYXlOYW1lID0gJ1ZhcicsIFZhciksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBWYXI7XG4gIGZ1bmN0aW9uIFZhcih2YWx1ZSl7XG4gICAgdmFyIHRoaXMkID0gdGhpcyBpbnN0YW5jZW9mIGN0b3IkID8gdGhpcyA6IG5ldyBjdG9yJDtcbiAgICB0aGlzJC52YWx1ZSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzJDtcbiAgfSBmdW5jdGlvbiBjdG9yJCgpe30gY3RvciQucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuaXNBc3NpZ25hYmxlID0gcHJvdG90eXBlLmlzQ2FsbGFibGUgPSBZRVM7XG4gIHByb3RvdHlwZS5hc3NpZ25zID0gZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCA9PT0gdGhpcy52YWx1ZTtcbiAgfTtcbiAgcHJvdG90eXBlLm1heWJlS2V5ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVmJDtcbiAgICByZXR1cm4gcmVmJCA9IEtleSh0aGlzLnZhbHVlKSwgcmVmJC5saW5lID0gdGhpcy5saW5lLCByZWYkO1xuICB9O1xuICBwcm90b3R5cGUudmFyTmFtZSA9IHByb3RvdHlwZS5zaG93O1xuICBwcm90b3R5cGUuY29tcGlsZSA9IGZ1bmN0aW9uKG8pe1xuICAgIGlmICh0aGlzLnRlbXApIHtcbiAgICAgIHJldHVybiBvLnNjb3BlLmZyZWUodGhpcy52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIFZhcjtcbn0oQXRvbSkpO1xuZXhwb3J0cy5LZXkgPSBLZXkgPSAoZnVuY3Rpb24oc3VwZXJjbGFzcyl7XG4gIHZhciBwcm90b3R5cGUgPSBleHRlbmQkKChpbXBvcnQkKEtleSwgc3VwZXJjbGFzcykuZGlzcGxheU5hbWUgPSAnS2V5JywgS2V5KSwgc3VwZXJjbGFzcykucHJvdG90eXBlLCBjb25zdHJ1Y3RvciA9IEtleTtcbiAgZnVuY3Rpb24gS2V5KG5hbWUsIHJlc2VydmVkKXtcbiAgICB2YXIgdGhpcyQgPSB0aGlzIGluc3RhbmNlb2YgY3RvciQgPyB0aGlzIDogbmV3IGN0b3IkO1xuICAgIHRoaXMkLnJlc2VydmVkID0gcmVzZXJ2ZWQgfHwgbmFtZS5yZXNlcnZlZDtcbiAgICB0aGlzJC5uYW1lID0gJycgKyBuYW1lO1xuICAgIHJldHVybiB0aGlzJDtcbiAgfSBmdW5jdGlvbiBjdG9yJCgpe30gY3RvciQucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuaXNDb21wbGV4ID0gTk87XG4gIHByb3RvdHlwZS5hc3NpZ25zID0gZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCA9PT0gdGhpcy5uYW1lO1xuICB9O1xuICBwcm90b3R5cGUudmFyTmFtZSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIG5hbWU7XG4gICAgbmFtZSA9IHRoaXMubmFtZTtcbiAgICBpZiAodGhpcy5yZXNlcnZlZCB8fCAobmFtZSA9PT0gJ2FyZ3VtZW50cycgfHwgbmFtZSA9PT0gJ2V2YWwnKSkge1xuICAgICAgcmV0dXJuIFwiJFwiICsgbmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZSA9IHByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKXtcbiAgICBpZiAodGhpcy5yZXNlcnZlZCkge1xuICAgICAgcmV0dXJuIFwiJ1wiICsgdGhpcy5uYW1lICsgXCInXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuICB9O1xuICByZXR1cm4gS2V5O1xufShOb2RlKSk7XG5leHBvcnRzLkluZGV4ID0gSW5kZXggPSAoZnVuY3Rpb24oc3VwZXJjbGFzcyl7XG4gIHZhciBwcm90b3R5cGUgPSBleHRlbmQkKChpbXBvcnQkKEluZGV4LCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdJbmRleCcsIEluZGV4KSwgc3VwZXJjbGFzcykucHJvdG90eXBlLCBjb25zdHJ1Y3RvciA9IEluZGV4O1xuICBmdW5jdGlvbiBJbmRleChrZXksIHN5bWJvbCwgaW5pdCl7XG4gICAgdmFyIGssIHRoaXMkID0gdGhpcyBpbnN0YW5jZW9mIGN0b3IkID8gdGhpcyA6IG5ldyBjdG9yJDtcbiAgICBzeW1ib2wgfHwgKHN5bWJvbCA9ICcuJyk7XG4gICAgaWYgKGluaXQgJiYga2V5IGluc3RhbmNlb2YgQXJyKSB7XG4gICAgICBzd2l0Y2ggKGtleS5pdGVtcy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaWYgKCEoKGsgPSBrZXkuaXRlbXNbMF0pIGluc3RhbmNlb2YgU3BsYXQpKSB7XG4gICAgICAgICAga2V5ID0gUGFyZW5zKGspO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoc3ltYm9sKSB7XG4gICAgY2FzZSAnW10nOlxuICAgICAgdGhpcyQudml2aWZ5ID0gQXJyO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAne30nOlxuICAgICAgdGhpcyQudml2aWZ5ID0gT2JqO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmICgnPScgPT09IHN5bWJvbC5zbGljZSgtMSkpIHtcbiAgICAgICAgdGhpcyQuYXNzaWduID0gc3ltYm9sLnNsaWNlKDEpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzJC5rZXkgPSBrZXk7XG4gICAgdGhpcyQuc3ltYm9sID0gc3ltYm9sO1xuICAgIHJldHVybiB0aGlzJDtcbiAgfSBmdW5jdGlvbiBjdG9yJCgpe30gY3RvciQucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY2hpbGRyZW4gPSBbJ2tleSddO1xuICBwcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIFt0aGlzLnNvYWsgPyAnPycgOiB2b2lkIDhdICsgdGhpcy5zeW1ib2w7XG4gIH07XG4gIHByb3RvdHlwZS5pc0NvbXBsZXggPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLmtleS5pc0NvbXBsZXgoKTtcbiAgfTtcbiAgcHJvdG90eXBlLnZhck5hbWUgPSBmdW5jdGlvbigpe1xuICAgIHZhciByZWYkO1xuICAgIHJldHVybiAoKHJlZiQgPSB0aGlzLmtleSkgaW5zdGFuY2VvZiBLZXkgfHwgcmVmJCBpbnN0YW5jZW9mIExpdGVyYWwpICYmIHRoaXMua2V5LnZhck5hbWUoKTtcbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgY29kZTtcbiAgICBjb2RlID0gdGhpcy5rZXkuY29tcGlsZShvLCBMRVZFTF9QQVJFTik7XG4gICAgaWYgKHRoaXMua2V5IGluc3RhbmNlb2YgS2V5ICYmICdcXCcnICE9PSBjb2RlLmNoYXJBdCgwKSkge1xuICAgICAgcmV0dXJuIFwiLlwiICsgY29kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiW1wiICsgY29kZSArIFwiXVwiO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIEluZGV4O1xufShOb2RlKSk7XG5leHBvcnRzLlNsaWNlID0gU2xpY2UgPSAoZnVuY3Rpb24oc3VwZXJjbGFzcyl7XG4gIHZhciBwcm90b3R5cGUgPSBleHRlbmQkKChpbXBvcnQkKFNsaWNlLCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdTbGljZScsIFNsaWNlKSwgc3VwZXJjbGFzcykucHJvdG90eXBlLCBjb25zdHJ1Y3RvciA9IFNsaWNlO1xuICBmdW5jdGlvbiBTbGljZShhcmckKXtcbiAgICB2YXIgdGhpcyQgPSB0aGlzIGluc3RhbmNlb2YgY3RvciQgPyB0aGlzIDogbmV3IGN0b3IkO1xuICAgIHRoaXMkLnR5cGUgPSBhcmckLnR5cGUsIHRoaXMkLnRhcmdldCA9IGFyZyQudGFyZ2V0LCB0aGlzJC5mcm9tID0gYXJnJC5mcm9tLCB0aGlzJC50byA9IGFyZyQudG87XG4gICAgdGhpcyQuZnJvbSA9PSBudWxsICYmICh0aGlzJC5mcm9tID0gTGl0ZXJhbCgwKSk7XG4gICAgaWYgKHRoaXMkLnRvICYmIHRoaXMkLnR5cGUgPT09ICd0bycpIHtcbiAgICAgIHRoaXMkLnRvID0gQmluYXJ5KCcrJywgdGhpcyQudG8sIExpdGVyYWwoJzEnKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzJDtcbiAgfSBmdW5jdGlvbiBjdG9yJCgpe30gY3RvciQucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY2hpbGRyZW4gPSBbJ3RhcmdldCcsICdmcm9tJywgJ3RvJ107XG4gIHByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy50eXBlO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgYXJncztcbiAgICBpZiAodGhpcy50byAmJiB0aGlzLnR5cGUgPT09ICd0bycpIHtcbiAgICAgIHRoaXMudG8gPSBCaW5hcnkoJ3x8JywgdGhpcy50bywgTGl0ZXJhbCgnOWU5JykpO1xuICAgIH1cbiAgICBhcmdzID0gW3RoaXMudGFyZ2V0LCB0aGlzLmZyb21dO1xuICAgIGlmICh0aGlzLnRvKSB7XG4gICAgICBhcmdzLnB1c2godGhpcy50byk7XG4gICAgfVxuICAgIHJldHVybiBDaGFpbihWYXIodXRpbCgnc2xpY2UnKSkpLmFkZChJbmRleChLZXkoJ2NhbGwnKSwgJy4nLCB0cnVlKSkuYWRkKENhbGwoYXJncykpLmNvbXBpbGUobyk7XG4gIH07XG4gIHJldHVybiBTbGljZTtcbn0oTm9kZSkpO1xuZXhwb3J0cy5DaGFpbiA9IENoYWluID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChDaGFpbiwgc3VwZXJjbGFzcykuZGlzcGxheU5hbWUgPSAnQ2hhaW4nLCBDaGFpbiksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBDaGFpbjtcbiAgZnVuY3Rpb24gQ2hhaW4oaGVhZCwgdGFpbHMpe1xuICAgIHZhciB0aGlzJCA9IHRoaXMgaW5zdGFuY2VvZiBjdG9yJCA/IHRoaXMgOiBuZXcgY3RvciQ7XG4gICAgaWYgKCF0YWlscyAmJiBoZWFkIGluc3RhbmNlb2YgQ2hhaW4pIHtcbiAgICAgIHJldHVybiBoZWFkO1xuICAgIH1cbiAgICB0aGlzJC5oZWFkID0gaGVhZDtcbiAgICB0aGlzJC50YWlscyA9IHRhaWxzIHx8IFtdO1xuICAgIHJldHVybiB0aGlzJDtcbiAgfSBmdW5jdGlvbiBjdG9yJCgpe30gY3RvciQucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY2hpbGRyZW4gPSBbJ2hlYWQnLCAndGFpbHMnXTtcbiAgcHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGl0KXtcbiAgICB2YXIgbGFzdCwgcmVmJCwgaW5kZXgsIHJlZjEkLCBiaSwgdGhhdCwgcmVmMiQsIGxvZ2ljcywgY2FsbCwgZjtcbiAgICBpZiAodGhpcy50YWlscy5sZW5ndGgpIHtcbiAgICAgIGxhc3QgPSAocmVmJCA9IHRoaXMudGFpbHMpW3JlZiQubGVuZ3RoIC0gMV07XG4gICAgICBpZiAobGFzdCBpbnN0YW5jZW9mIENhbGwgJiYgKChyZWYkID0gbGFzdC5wYXJ0aWFsaXplZCkgIT0gbnVsbCA/IHJlZiQubGVuZ3RoIDogdm9pZCA4KSA9PT0gMSAmJiBpdC5hcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpbmRleCA9IGxhc3QucGFydGlhbGl6ZWRbMF0uaGVhZC52YWx1ZTtcbiAgICAgICAgZGVsZXRlIGxhc3QucGFydGlhbGl6ZWQ7XG4gICAgICAgIGxhc3QuYXJnc1tpbmRleF0gPSBpdC5hcmdzWzBdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuaGVhZCBpbnN0YW5jZW9mIEV4aXN0ZW5jZSkge1xuICAgICAgcmVmMSQgPSBDaGFpbih0aGlzLmhlYWQuaXQpLCB0aGlzLmhlYWQgPSByZWYxJC5oZWFkLCB0aGlzLnRhaWxzID0gcmVmMSQudGFpbHM7XG4gICAgICBpdC5zb2FrID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy50YWlscy5wdXNoKGl0KTtcbiAgICBiaSA9IHRoaXMuaGVhZCBpbnN0YW5jZW9mIFBhcmVucyAmJiB0aGlzLmhlYWQuaXQgaW5zdGFuY2VvZiBCaW5hcnkgJiYgIXRoaXMuaGVhZC5pdC5wYXJ0aWFsXG4gICAgICA/IHRoaXMuaGVhZC5pdFxuICAgICAgOiB0aGlzLmhlYWQgaW5zdGFuY2VvZiBCaW5hcnkgJiYgIXRoaXMuaGVhZC5wYXJ0aWFsID8gdGhpcy5oZWFkIDogdm9pZCA4O1xuICAgIGlmICh0aGlzLmhlYWQgaW5zdGFuY2VvZiBTdXBlcikge1xuICAgICAgaWYgKCF0aGlzLmhlYWQuY2FsbGVkICYmIGl0IGluc3RhbmNlb2YgQ2FsbCAmJiAhaXQubWV0aG9kKSB7XG4gICAgICAgIGl0Lm1ldGhvZCA9ICcuY2FsbCc7XG4gICAgICAgIGl0LmFyZ3MudW5zaGlmdChMaXRlcmFsKCd0aGlzJykpO1xuICAgICAgICB0aGlzLmhlYWQuY2FsbGVkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMudGFpbHNbMV0gJiYgKChyZWYxJCA9IGl0LmtleSkgIT0gbnVsbCA/IHJlZjEkLm5hbWUgOiB2b2lkIDgpID09PSAncHJvdG90eXBlJykge1xuICAgICAgICB0aGlzLmhlYWQuc3Byb3RvID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoYXQgPSAocmVmMiQgPSBpdC52aXZpZnksIGRlbGV0ZSBpdC52aXZpZnksIHJlZjIkKSkge1xuICAgICAgdGhpcy5oZWFkID0gQXNzaWduKENoYWluKHRoaXMuaGVhZCwgdGhpcy50YWlscy5zcGxpY2UoMCwgOWU5KSksIHRoYXQoKSwgJz0nLCAnfHwnKTtcbiAgICB9IGVsc2UgaWYgKGl0IGluc3RhbmNlb2YgQ2FsbCAmJiB0aGlzLnRhaWxzLmxlbmd0aCA9PT0gMSAmJiBiaSAmJiBpbiQoYmkub3AsIGxvZ2ljcyA9IFsnJiYnLCAnfHwnLCAneG9yJ10pKSB7XG4gICAgICBjYWxsID0gaXQ7XG4gICAgICBmID0gZnVuY3Rpb24oeCwga2V5KXtcbiAgICAgICAgdmFyIHk7XG4gICAgICAgIHkgPSB4W2tleV07XG4gICAgICAgIGlmICh5IGluc3RhbmNlb2YgQmluYXJ5ICYmIGluJCh5Lm9wLCBsb2dpY3MpKSB7XG4gICAgICAgICAgZih5LCAnZmlyc3QnKTtcbiAgICAgICAgICByZXR1cm4gZih5LCAnc2Vjb25kJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHhba2V5XSA9IENoYWluKHkpLmF1dG9Db21wYXJlKGNhbGwuYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBmKGJpLCAnZmlyc3QnKTtcbiAgICAgIGYoYmksICdzZWNvbmQnKTtcbiAgICAgIHJldHVybiBiaTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHByb3RvdHlwZS5hdXRvQ29tcGFyZSA9IGZ1bmN0aW9uKHRhcmdldCl7XG4gICAgdmFyIHRlc3Q7XG4gICAgdGVzdCA9IHRoaXMuaGVhZDtcbiAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgY2FzZSAhKHRlc3QgaW5zdGFuY2VvZiBMaXRlcmFsKTpcbiAgICAgIHJldHVybiBCaW5hcnkoJz09PScsIHRlc3QsIHRhcmdldFswXSk7XG4gICAgY2FzZSAhKHRlc3QgaW5zdGFuY2VvZiBVbmFyeSAmJiB0ZXN0Lml0IGluc3RhbmNlb2YgTGl0ZXJhbCk6XG4gICAgICByZXR1cm4gQmluYXJ5KCc9PT0nLCB0ZXN0LCB0YXJnZXRbMF0pO1xuICAgIGNhc2UgISh0ZXN0IGluc3RhbmNlb2YgQXJyIHx8IHRlc3QgaW5zdGFuY2VvZiBPYmopOlxuICAgICAgcmV0dXJuIEJpbmFyeSgnPT09PScsIHRlc3QsIHRhcmdldFswXSk7XG4gICAgY2FzZSAhKHRlc3QgaW5zdGFuY2VvZiBWYXIgJiYgdGVzdC52YWx1ZSA9PT0gJ18nKTpcbiAgICAgIHJldHVybiBMaXRlcmFsKCd0cnVlJyk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB0aGlzLmFkZChDYWxsKHRhcmdldCkpIHx8IFtdO1xuICAgIH1cbiAgfTtcbiAgcHJvdG90eXBlLmZsaXBJdCA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5mbGlwID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgcHJvdG90eXBlLnVud3JhcCA9IGZ1bmN0aW9uKCl7XG4gICAgaWYgKHRoaXMudGFpbHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuaGVhZDtcbiAgICB9XG4gIH07XG4gIHByb3RvdHlwZS5kZWxlZ2F0ZShbJ2dldEp1bXAnLCAnYXNzaWducycsICdpc1N0YXRlbWVudCcsICdpc1N0cmluZyddLCBmdW5jdGlvbihpdCwgYXJnKXtcbiAgICByZXR1cm4gIXRoaXMudGFpbHMubGVuZ3RoICYmIHRoaXMuaGVhZFtpdF0oYXJnKTtcbiAgfSk7XG4gIHByb3RvdHlwZS5pc0NvbXBsZXggPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLnRhaWxzLmxlbmd0aCB8fCB0aGlzLmhlYWQuaXNDb21wbGV4KCk7XG4gIH07XG4gIHByb3RvdHlwZS5pc0NhbGxhYmxlID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgdGhhdCwgcmVmJDtcbiAgICBpZiAodGhhdCA9IChyZWYkID0gdGhpcy50YWlscylbcmVmJC5sZW5ndGggLSAxXSkge1xuICAgICAgcmV0dXJuICEoKHJlZiQgPSB0aGF0LmtleSkgIT0gbnVsbCAmJiByZWYkLml0ZW1zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuaGVhZC5pc0NhbGxhYmxlKCk7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuaXNBcnJheSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHRoYXQsIHJlZiQ7XG4gICAgaWYgKHRoYXQgPSAocmVmJCA9IHRoaXMudGFpbHMpW3JlZiQubGVuZ3RoIC0gMV0pIHtcbiAgICAgIHJldHVybiB0aGF0LmtleSBpbnN0YW5jZW9mIEFycjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuaGVhZC5pc0FycmF5KCk7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuaXNSZWdleCA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMuaGVhZC52YWx1ZSA9PT0gJ1JlZ0V4cCcgJiYgIXRoaXMudGFpbHNbMV0gJiYgdGhpcy50YWlsc1swXSBpbnN0YW5jZW9mIENhbGw7XG4gIH07XG4gIHByb3RvdHlwZS5pc0Fzc2lnbmFibGUgPSBmdW5jdGlvbigpe1xuICAgIHZhciB0YWlsLCByZWYkLCBpJCwgbGVuJDtcbiAgICBpZiAoISh0YWlsID0gKHJlZiQgPSB0aGlzLnRhaWxzKVtyZWYkLmxlbmd0aCAtIDFdKSkge1xuICAgICAgcmV0dXJuIHRoaXMuaGVhZC5pc0Fzc2lnbmFibGUoKTtcbiAgICB9XG4gICAgaWYgKCEodGFpbCBpbnN0YW5jZW9mIEluZGV4KSB8fCB0YWlsLmtleSBpbnN0YW5jZW9mIExpc3QgfHwgdGFpbC5zeW1ib2wgPT09ICcuficpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHRoaXMudGFpbHMpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICB0YWlsID0gcmVmJFtpJF07XG4gICAgICBpZiAodGFpbC5hc3NpZ24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgcHJvdG90eXBlLmlzU2ltcGxlQWNjZXNzID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy50YWlscy5sZW5ndGggPT09IDEgJiYgIXRoaXMuaGVhZC5pc0NvbXBsZXgoKSAmJiAhdGhpcy50YWlsc1swXS5pc0NvbXBsZXgoKTtcbiAgfTtcbiAgcHJvdG90eXBlLm1ha2VSZXR1cm4gPSBmdW5jdGlvbigpe1xuICAgIHZhciByZWYkO1xuICAgIGlmICh0aGlzLnRhaWxzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHN1cGVyY2xhc3MucHJvdG90eXBlLm1ha2VSZXR1cm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChyZWYkID0gdGhpcy5oZWFkKS5tYWtlUmV0dXJuLmFwcGx5KHJlZiQsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuZ2V0Q2FsbCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHRhaWwsIHJlZiQ7XG4gICAgcmV0dXJuICh0YWlsID0gKHJlZiQgPSB0aGlzLnRhaWxzKVtyZWYkLmxlbmd0aCAtIDFdKSBpbnN0YW5jZW9mIENhbGwgJiYgdGFpbDtcbiAgfTtcbiAgcHJvdG90eXBlLnZhck5hbWUgPSBmdW5jdGlvbigpe1xuICAgIHZhciByZWYkLCByZWYxJDtcbiAgICByZXR1cm4gKHJlZiQgPSAocmVmMSQgPSB0aGlzLnRhaWxzKVtyZWYxJC5sZW5ndGggLSAxXSkgIT0gbnVsbCA/IHJlZiQudmFyTmFtZSgpIDogdm9pZCA4O1xuICB9O1xuICBwcm90b3R5cGUuY2FjaGVSZWZlcmVuY2UgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgbmFtZSwgcmVmJCwgYmFzZSwgcmVmLCBicmVmLCBucmVmO1xuICAgIG5hbWUgPSAocmVmJCA9IHRoaXMudGFpbHMpW3JlZiQubGVuZ3RoIC0gMV07XG4gICAgaWYgKCF0aGlzLmlzQXNzaWduYWJsZSgpKSB7XG4gICAgICByZXR1cm4gdGhpcy51bndyYXAoKS5jYWNoZShvLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudGFpbHMubGVuZ3RoIDwgMiAmJiAhdGhpcy5oZWFkLmlzQ29tcGxleCgpICYmICEobmFtZSAhPSBudWxsICYmIG5hbWUuaXNDb21wbGV4KCkpKSB7XG4gICAgICByZXR1cm4gW3RoaXMsIHRoaXNdO1xuICAgIH1cbiAgICBiYXNlID0gQ2hhaW4odGhpcy5oZWFkLCB0aGlzLnRhaWxzLnNsaWNlKDAsIC0xKSk7XG4gICAgaWYgKGJhc2UuaXNDb21wbGV4KCkpIHtcbiAgICAgIHJlZiA9IG8uc2NvcGUudGVtcG9yYXJ5KCk7XG4gICAgICBiYXNlID0gQ2hhaW4oQXNzaWduKFZhcihyZWYpLCBiYXNlKSk7XG4gICAgICBicmVmID0gKHJlZiQgPSBWYXIocmVmKSwgcmVmJC50ZW1wID0gdHJ1ZSwgcmVmJCk7XG4gICAgfVxuICAgIGlmICghbmFtZSkge1xuICAgICAgcmV0dXJuIFtiYXNlLCBicmVmXTtcbiAgICB9XG4gICAgaWYgKG5hbWUuaXNDb21wbGV4KCkpIHtcbiAgICAgIHJlZiA9IG8uc2NvcGUudGVtcG9yYXJ5KCdrZXknKTtcbiAgICAgIG5hbWUgPSBJbmRleChBc3NpZ24oVmFyKHJlZiksIG5hbWUua2V5KSk7XG4gICAgICBucmVmID0gSW5kZXgoKHJlZiQgPSBWYXIocmVmKSwgcmVmJC50ZW1wID0gdHJ1ZSwgcmVmJCkpO1xuICAgIH1cbiAgICByZXR1cm4gW2Jhc2UuYWRkKG5hbWUpLCBDaGFpbihicmVmIHx8IGJhc2UuaGVhZCwgW25yZWYgfHwgbmFtZV0pXTtcbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGVOb2RlID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIGhlYWQsIHRhaWxzLCB0aGF0LCBpJCwgbGVuJCwgdCwgaGFzUGFydGlhbCwgcHJlLCByZXN0LCBicm9rZW4sIHBhcnRpYWwsIHBvc3QsIGNvbnRleHQsIGlkdCwgZnVuYywgYmFzZSwgbmV3cywgcmVmJDtcbiAgICBpZiAodGhpcy5mbGlwKSB7XG4gICAgICB1dGlsKCdmbGlwJyk7XG4gICAgICB1dGlsKCdjdXJyeScpO1xuICAgIH1cbiAgICBoZWFkID0gdGhpcy5oZWFkLCB0YWlscyA9IHRoaXMudGFpbHM7XG4gICAgaGVhZC5mcm9udCA9IHRoaXMuZnJvbnQ7XG4gICAgaGVhZC5uZXdlZCA9IHRoaXMubmV3ZWQ7XG4gICAgaWYgKCF0YWlscy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBoZWFkLmNvbXBpbGUobyk7XG4gICAgfVxuICAgIGlmICh0aGF0ID0gdGhpcy51bmZvbGRBc3NpZ24obykpIHtcbiAgICAgIHJldHVybiB0aGF0LmNvbXBpbGUobyk7XG4gICAgfVxuICAgIGZvciAoaSQgPSAwLCBsZW4kID0gdGFpbHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIHQgPSB0YWlsc1tpJF07XG4gICAgICBpZiAodC5wYXJ0aWFsaXplZCkge1xuICAgICAgICBoYXNQYXJ0aWFsID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChoYXNQYXJ0aWFsKSB7XG4gICAgICB1dGlsKCdzbGljZScpO1xuICAgICAgcHJlID0gW107XG4gICAgICByZXN0ID0gW107XG4gICAgICBmb3IgKGkkID0gMCwgbGVuJCA9IHRhaWxzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICAgIHQgPSB0YWlsc1tpJF07XG4gICAgICAgIGJyb2tlbiA9IGJyb2tlbiB8fCB0LnBhcnRpYWxpemVkICE9IG51bGw7XG4gICAgICAgIGlmIChicm9rZW4pIHtcbiAgICAgICAgICByZXN0LnB1c2godCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJlLnB1c2godCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXN0ICE9IG51bGwpIHtcbiAgICAgICAgcGFydGlhbCA9IHJlc3RbMF0sIHBvc3QgPSBzbGljZSQuY2FsbChyZXN0LCAxKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudGFpbHMgPSBwcmU7XG4gICAgICBjb250ZXh0ID0gcHJlLmxlbmd0aFxuICAgICAgICA/IENoYWluKGhlYWQsIHNsaWNlJC5jYWxsKHByZSwgMCwgLTEpKVxuICAgICAgICA6IExpdGVyYWwoJ3RoaXMnKTtcbiAgICAgIHJldHVybiBDaGFpbihDaGFpbihWYXIodXRpbCgncGFydGlhbGl6ZScpKSkuYWRkKEluZGV4KEtleSgnYXBwbHknKSkpLmFkZChDYWxsKFtjb250ZXh0LCBBcnIoW3RoaXMsIEFycihwYXJ0aWFsLmFyZ3MpLCBBcnIocGFydGlhbC5wYXJ0aWFsaXplZCldKV0pKSwgcG9zdCkuY29tcGlsZShvKTtcbiAgICB9XG4gICAgaWYgKHRhaWxzWzBdIGluc3RhbmNlb2YgQ2FsbCAmJiAhaGVhZC5pc0NhbGxhYmxlKCkpIHtcbiAgICAgIHRoaXMuY2FycCgnaW52YWxpZCBjYWxsZWUnKTtcbiAgICB9XG4gICAgdGhpcy5leHBhbmRTbGljZShvKTtcbiAgICB0aGlzLmV4cGFuZEJpbmQobyk7XG4gICAgdGhpcy5leHBhbmRTcGxhdChvKTtcbiAgICB0aGlzLmV4cGFuZFN0YXIobyk7XG4gICAgaWYgKHRoaXMuc3BsYXR0ZWROZXdBcmdzKSB7XG4gICAgICBpZHQgPSBvLmluZGVudCArIFRBQjtcbiAgICAgIGZ1bmMgPSBDaGFpbih0aGlzLmhlYWQsIHRhaWxzLnNsaWNlKDAsIC0xKSk7XG4gICAgICByZXR1cm4gXCIoZnVuY3Rpb24oZnVuYywgYXJncywgY3Rvcikge1xcblwiICsgaWR0ICsgXCJjdG9yLnByb3RvdHlwZSA9IGZ1bmMucHJvdG90eXBlO1xcblwiICsgaWR0ICsgXCJ2YXIgY2hpbGQgPSBuZXcgY3RvciwgcmVzdWx0ID0gZnVuYy5hcHBseShjaGlsZCwgYXJncyksIHQ7XFxuXCIgKyBpZHQgKyBcInJldHVybiAodCA9IHR5cGVvZiByZXN1bHQpICA9PSBcXFwib2JqZWN0XFxcIiB8fCB0ID09IFxcXCJmdW5jdGlvblxcXCIgPyByZXN1bHQgfHwgY2hpbGQgOiBjaGlsZDtcXG5cIiArIFRBQiArIFwifSkoXCIgKyBmdW5jLmNvbXBpbGUobykgKyBcIiwgXCIgKyB0aGlzLnNwbGF0dGVkTmV3QXJncyArIFwiLCBmdW5jdGlvbigpe30pXCI7XG4gICAgfVxuICAgIGlmICghdGhpcy50YWlscy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLmhlYWQuY29tcGlsZShvKTtcbiAgICB9XG4gICAgYmFzZSA9IHRoaXMuaGVhZC5jb21waWxlKG8sIExFVkVMX0NBTEwpO1xuICAgIG5ld3MgPSByZXN0ID0gJyc7XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHRoaXMudGFpbHMpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICB0ID0gcmVmJFtpJF07XG4gICAgICBpZiAodFsnbmV3J10pIHtcbiAgICAgICAgbmV3cyArPSAnbmV3ICc7XG4gICAgICB9XG4gICAgICByZXN0ICs9IHQuY29tcGlsZShvKTtcbiAgICB9XG4gICAgaWYgKCcuJyA9PT0gcmVzdC5jaGFyQXQoMCkgJiYgU0lNUExFTlVNLnRlc3QoYmFzZSkpIHtcbiAgICAgIGJhc2UgKz0gJyAnO1xuICAgIH1cbiAgICByZXR1cm4gbmV3cyArIGJhc2UgKyByZXN0O1xuICB9O1xuICBwcm90b3R5cGUudW5mb2xkU29hayA9IGZ1bmN0aW9uKG8pe1xuICAgIHZhciB0aGF0LCByZWYkLCBpJCwgbGVuJCwgaSwgbm9kZSwgcmVmMSQsIGJ1c3QsIHRlc3Q7XG4gICAgaWYgKHRoYXQgPSB0aGlzLmhlYWQudW5mb2xkU29hayhvKSkge1xuICAgICAgKHJlZiQgPSB0aGF0LnRoZW4udGFpbHMpLnB1c2guYXBwbHkocmVmJCwgdGhpcy50YWlscyk7XG4gICAgICByZXR1cm4gdGhhdDtcbiAgICB9XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHRoaXMudGFpbHMpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICBpID0gaSQ7XG4gICAgICBub2RlID0gcmVmJFtpJF07XG4gICAgICBpZiAocmVmMSQgPSBub2RlLnNvYWssIGRlbGV0ZSBub2RlLnNvYWssIHJlZjEkKSB7XG4gICAgICAgIGJ1c3QgPSBDaGFpbih0aGlzLmhlYWQsIHRoaXMudGFpbHMuc3BsaWNlKDAsIGkpKTtcbiAgICAgICAgaWYgKG5vZGUuYXNzaWduICYmICFidXN0LmlzQXNzaWduYWJsZSgpKSB7XG4gICAgICAgICAgbm9kZS5jYXJwKCdpbnZhbGlkIGFjY2Vzc2lnbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpICYmIChub2RlLmFzc2lnbiB8fCBub2RlIGluc3RhbmNlb2YgQ2FsbCkpIHtcbiAgICAgICAgICByZWYxJCA9IGJ1c3QuY2FjaGVSZWZlcmVuY2UobyksIHRlc3QgPSByZWYxJFswXSwgYnVzdCA9IHJlZjEkWzFdO1xuICAgICAgICAgIGlmIChidXN0IGluc3RhbmNlb2YgQ2hhaW4pIHtcbiAgICAgICAgICAgIChyZWYxJCA9IHRoaXMudGFpbHMpLnVuc2hpZnQuYXBwbHkocmVmMSQsIGJ1c3QudGFpbHMpO1xuICAgICAgICAgICAgYnVzdCA9IGJ1c3QuaGVhZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5oZWFkID0gYnVzdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWYxJCA9IGJ1c3QudW53cmFwKCkuY2FjaGUobyksIHRlc3QgPSByZWYxJFswXSwgdGhpcy5oZWFkID0gcmVmMSRbMV07XG4gICAgICAgIH1cbiAgICAgICAgdGVzdCA9IG5vZGUgaW5zdGFuY2VvZiBDYWxsXG4gICAgICAgICAgPyBKUyhcInR5cGVvZiBcIiArIHRlc3QuY29tcGlsZShvLCBMRVZFTF9PUCkgKyBcIiA9PSAnZnVuY3Rpb24nXCIpXG4gICAgICAgICAgOiBFeGlzdGVuY2UodGVzdCk7XG4gICAgICAgIHJldHVybiByZWYxJCA9IElmKHRlc3QsIHRoaXMpLCByZWYxJC5zb2FrID0gdHJ1ZSwgcmVmMSQuY29uZCA9IHRoaXMuY29uZCwgcmVmMSRbJ3ZvaWQnXSA9IHRoaXNbJ3ZvaWQnXSwgcmVmMSQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUudW5mb2xkQXNzaWduID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIHRoYXQsIHJlZiQsIGkkLCBsZW4kLCBpLCBpbmRleCwgb3AsIGxlZnQsIGxlZnRzLCByaXRlcywgaiQsIGxlbjEkLCBub2RlLCByZWYxJDtcbiAgICBpZiAodGhhdCA9IHRoaXMuaGVhZC51bmZvbGRBc3NpZ24obykpIHtcbiAgICAgIChyZWYkID0gdGhhdC5yaWdodC50YWlscykucHVzaC5hcHBseShyZWYkLCB0aGlzLnRhaWxzKTtcbiAgICAgIHJldHVybiB0aGF0O1xuICAgIH1cbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gdGhpcy50YWlscykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIGkgPSBpJDtcbiAgICAgIGluZGV4ID0gcmVmJFtpJF07XG4gICAgICBpZiAob3AgPSBpbmRleC5hc3NpZ24pIHtcbiAgICAgICAgaW5kZXguYXNzaWduID0gJyc7XG4gICAgICAgIGxlZnQgPSBDaGFpbih0aGlzLmhlYWQsIHRoaXMudGFpbHMuc3BsaWNlKDAsIGkpKS5leHBhbmRTbGljZShvKS51bndyYXAoKTtcbiAgICAgICAgaWYgKGxlZnQgaW5zdGFuY2VvZiBBcnIpIHtcbiAgICAgICAgICBsZWZ0cyA9IGxlZnQuaXRlbXM7XG4gICAgICAgICAgcml0ZXMgPSAodGhpcy5oZWFkID0gQXJyKCkpLml0ZW1zO1xuICAgICAgICAgIGZvciAoaiQgPSAwLCBsZW4xJCA9IGxlZnRzLmxlbmd0aDsgaiQgPCBsZW4xJDsgKytqJCkge1xuICAgICAgICAgICAgaSA9IGokO1xuICAgICAgICAgICAgbm9kZSA9IGxlZnRzW2okXTtcbiAgICAgICAgICAgIHJlZjEkID0gQ2hhaW4obm9kZSkuY2FjaGVSZWZlcmVuY2UobyksIHJpdGVzW2ldID0gcmVmMSRbMF0sIGxlZnRzW2ldID0gcmVmMSRbMV07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZjEkID0gQ2hhaW4obGVmdCkuY2FjaGVSZWZlcmVuY2UobyksIGxlZnQgPSByZWYxJFswXSwgdGhpcy5oZWFkID0gcmVmMSRbMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wID09PSAnPScpIHtcbiAgICAgICAgICBvcCA9ICc6PSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZjEkID0gQXNzaWduKGxlZnQsIHRoaXMsIG9wKSwgcmVmMSQuYWNjZXNzID0gdHJ1ZSwgcmVmMSQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuZXhwYW5kU3BsYXQgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgdGFpbHMsIGksIGNhbGwsIGFyZ3MsIGN0eCwgcmVmJDtcbiAgICB0YWlscyA9IHRoaXMudGFpbHM7XG4gICAgaSA9IC0xO1xuICAgIHdoaWxlIChjYWxsID0gdGFpbHNbKytpXSkge1xuICAgICAgaWYgKCEoYXJncyA9IGNhbGwuYXJncykpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjdHggPSBjYWxsLm1ldGhvZCA9PT0gJy5jYWxsJyAmJiAoYXJncyA9IGFyZ3MuY29uY2F0KCkpLnNoaWZ0KCk7XG4gICAgICBpZiAoIShhcmdzID0gU3BsYXQuY29tcGlsZUFycmF5KG8sIGFyZ3MsIHRydWUpKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsWyduZXcnXSkge1xuICAgICAgICB0aGlzLnNwbGF0dGVkTmV3QXJncyA9IGFyZ3M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWN0eCAmJiB0YWlsc1tpIC0gMV0gaW5zdGFuY2VvZiBJbmRleCkge1xuICAgICAgICAgIHJlZiQgPSBDaGFpbih0aGlzLmhlYWQsIHRhaWxzLnNwbGljZSgwLCBpIC0gMSkpLmNhY2hlKG8sIHRydWUpLCB0aGlzLmhlYWQgPSByZWYkWzBdLCBjdHggPSByZWYkWzFdO1xuICAgICAgICAgIGkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGNhbGwubWV0aG9kID0gJy5hcHBseSc7XG4gICAgICAgIGNhbGwuYXJncyA9IFtjdHggfHwgTGl0ZXJhbCgnbnVsbCcpLCBKUyhhcmdzKV07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuZXhwYW5kQmluZCA9IGZ1bmN0aW9uKG8pe1xuICAgIHZhciB0YWlscywgaSwgdGhhdCwgb2JqLCBrZXksIGNhbGw7XG4gICAgdGFpbHMgPSB0aGlzLnRhaWxzO1xuICAgIGkgPSAtMTtcbiAgICB3aGlsZSAodGhhdCA9IHRhaWxzWysraV0pIHtcbiAgICAgIGlmICh0aGF0LnN5bWJvbCAhPT0gJy5+Jykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHRoYXQuc3ltYm9sID0gJyc7XG4gICAgICBvYmogPSBDaGFpbih0aGlzLmhlYWQsIHRhaWxzLnNwbGljZSgwLCBpKSkudW53cmFwKCk7XG4gICAgICBrZXkgPSB0YWlscy5zaGlmdCgpLmtleTtcbiAgICAgIGNhbGwgPSBDYWxsLm1ha2UoVXRpbCgnYmluZCcpLCBbb2JqLCAoa2V5LnJlc2VydmVkID0gdHJ1ZSwga2V5KV0pO1xuICAgICAgdGhpcy5oZWFkID0gdGhpcy5uZXdlZCA/IFBhcmVucyhjYWxsLCB0cnVlKSA6IGNhbGw7XG4gICAgICBpID0gLTE7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuZXhwYW5kU3RhciA9IGZ1bmN0aW9uKG8pe1xuICAgIHZhciB0YWlscywgaSwgdGhhdCwgc3RhcnMsIHJlZiQsIHN1YiwgcmVmLCB0ZW1wcywgdmFsdWUsIGkkLCBsZW4kLCBzdGFyO1xuICAgIHRhaWxzID0gdGhpcy50YWlscztcbiAgICBpID0gLTE7XG4gICAgd2hpbGUgKHRoYXQgPSB0YWlsc1srK2ldKSB7XG4gICAgICBpZiAodGhhdC5hcmdzIHx8IHRoYXQuc3RhcnMgfHwgdGhhdC5rZXkgaW5zdGFuY2VvZiBLZXkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBzdGFycyA9IHRoYXQuc3RhcnMgPSBbXTtcbiAgICAgIHRoYXQuZWFjaENoaWxkKHNlZWspO1xuICAgICAgaWYgKCFzdGFycy5sZW5ndGgpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZWYkID0gQ2hhaW4odGhpcy5oZWFkLCB0YWlscy5zcGxpY2UoMCwgaSkpLnVud3JhcCgpLmNhY2hlKG8pLCBzdWIgPSByZWYkWzBdLCByZWYgPSByZWYkWzFdLCB0ZW1wcyA9IHJlZiRbMl07XG4gICAgICB2YWx1ZSA9IENoYWluKHJlZiwgW0luZGV4KEtleSgnbGVuZ3RoJykpXSkuY29tcGlsZShvKTtcbiAgICAgIGZvciAoaSQgPSAwLCBsZW4kID0gc3RhcnMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgICAgc3RhciA9IHN0YXJzW2kkXTtcbiAgICAgICAgc3Rhci52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBzdGFyLmlzQXNzaWduYWJsZSA9IFlFUztcbiAgICAgIH1cbiAgICAgIHRoaXMuaGVhZCA9IEpTKHN1Yi5jb21waWxlKG8sIExFVkVMX0NBTEwpICsgdGFpbHMuc2hpZnQoKS5jb21waWxlKG8pKTtcbiAgICAgIGlmICh0ZW1wcykge1xuICAgICAgICBvLnNjb3BlLmZyZWUodGVtcHNbMF0pO1xuICAgICAgfVxuICAgICAgaSA9IC0xO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZWVrKGl0KXtcbiAgICAgIGlmIChpdC52YWx1ZSA9PT0gJyonKSB7XG4gICAgICAgIHN0YXJzLnB1c2goaXQpO1xuICAgICAgfSBlbHNlIGlmICghKGl0IGluc3RhbmNlb2YgSW5kZXgpKSB7XG4gICAgICAgIGl0LmVhY2hDaGlsZChzZWVrKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHByb3RvdHlwZS5leHBhbmRTbGljZSA9IGZ1bmN0aW9uKG8sIGFzc2lnbil7XG4gICAgdmFyIHRhaWxzLCBpLCB0YWlsLCByZWYkLCB4O1xuICAgIHRhaWxzID0gdGhpcy50YWlscztcbiAgICBpID0gLTE7XG4gICAgd2hpbGUgKHRhaWwgPSB0YWlsc1srK2ldKSB7XG4gICAgICBpZiAoKHJlZiQgPSB0YWlsLmtleSkgIT0gbnVsbCAmJiByZWYkLml0ZW1zKSB7XG4gICAgICAgIGlmICh0YWlsc1tpICsgMV0gaW5zdGFuY2VvZiBDYWxsKSB7XG4gICAgICAgICAgdGFpbC5jYXJwKCdjYWxsaW5nIGEgc2xpY2UnKTtcbiAgICAgICAgfVxuICAgICAgICB4ID0gdGFpbHMuc3BsaWNlKDAsIGkgKyAxKTtcbiAgICAgICAgeCA9IHgucG9wKCkua2V5LnRvU2xpY2UobywgQ2hhaW4odGhpcy5oZWFkLCB4KS51bndyYXAoKSwgdGFpbC5zeW1ib2wsIGFzc2lnbik7XG4gICAgICAgIHRoaXMuaGVhZCA9ICh4LmZyb250ID0gdGhpcy5mcm9udCwgeCk7XG4gICAgICAgIGkgPSAtMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHJldHVybiBDaGFpbjtcbn0oTm9kZSkpO1xuZXhwb3J0cy5DYWxsID0gQ2FsbCA9IChmdW5jdGlvbihzdXBlcmNsYXNzKXtcbiAgdmFyIHByb3RvdHlwZSA9IGV4dGVuZCQoKGltcG9ydCQoQ2FsbCwgc3VwZXJjbGFzcykuZGlzcGxheU5hbWUgPSAnQ2FsbCcsIENhbGwpLCBzdXBlcmNsYXNzKS5wcm90b3R5cGUsIGNvbnN0cnVjdG9yID0gQ2FsbDtcbiAgZnVuY3Rpb24gQ2FsbChhcmdzKXtcbiAgICB2YXIgc3BsYXQsIGkkLCBsZW4kLCBpLCBhLCByZWYkLCB0aGlzJCA9IHRoaXMgaW5zdGFuY2VvZiBjdG9yJCA/IHRoaXMgOiBuZXcgY3RvciQ7XG4gICAgYXJncyB8fCAoYXJncyA9IFtdKTtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgKHNwbGF0ID0gYXJnc1swXSkgaW5zdGFuY2VvZiBTcGxhdCkge1xuICAgICAgaWYgKHNwbGF0LmZpbGxlcikge1xuICAgICAgICB0aGlzJC5tZXRob2QgPSAnLmNhbGwnO1xuICAgICAgICBhcmdzWzBdID0gTGl0ZXJhbCgndGhpcycpO1xuICAgICAgICBhcmdzWzFdID0gU3BsYXQoTGl0ZXJhbCgnYXJndW1lbnRzJykpO1xuICAgICAgfSBlbHNlIGlmIChzcGxhdC5pdCBpbnN0YW5jZW9mIEFycikge1xuICAgICAgICBhcmdzID0gc3BsYXQuaXQuaXRlbXM7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoaSQgPSAwLCBsZW4kID0gYXJncy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgICBpID0gaSQ7XG4gICAgICAgIGEgPSBhcmdzW2kkXTtcbiAgICAgICAgaWYgKGEudmFsdWUgPT09ICdfJykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBDaGFpbihMaXRlcmFsKCd2b2lkJykpO1xuICAgICAgICAgIGFyZ3NbaV0ucGxhY2Vob2xkZXIgPSB0cnVlO1xuICAgICAgICAgICgocmVmJCA9IHRoaXMkLnBhcnRpYWxpemVkKSAhPSBudWxsXG4gICAgICAgICAgICA/IHJlZiRcbiAgICAgICAgICAgIDogdGhpcyQucGFydGlhbGl6ZWQgPSBbXSkucHVzaChDaGFpbihMaXRlcmFsKGkpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcyQuYXJncyA9IGFyZ3M7XG4gICAgcmV0dXJuIHRoaXMkO1xuICB9IGZ1bmN0aW9uIGN0b3IkKCl7fSBjdG9yJC5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gIHByb3RvdHlwZS5jaGlsZHJlbiA9IFsnYXJncyddO1xuICBwcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIFt0aGlzWyduZXcnXV0gKyBbdGhpcy5tZXRob2RdICsgW3RoaXMuc29hayA/ICc/JyA6IHZvaWQgOF07XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIGNvZGUsIGkkLCByZWYkLCBsZW4kLCBpLCBhO1xuICAgIGNvZGUgPSAodGhpcy5tZXRob2QgfHwgJycpICsgJygnICsgKHRoaXMucGlwZSA/IFwiXFxuXCIgKyBvLmluZGVudCA6ICcnKTtcbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gdGhpcy5hcmdzKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgaSA9IGkkO1xuICAgICAgYSA9IHJlZiRbaSRdO1xuICAgICAgY29kZSArPSAoaSA/ICcsICcgOiAnJykgKyBhLmNvbXBpbGUobywgTEVWRUxfTElTVCk7XG4gICAgfVxuICAgIHJldHVybiBjb2RlICsgJyknO1xuICB9O1xuICBDYWxsLm1ha2UgPSBmdW5jdGlvbihjYWxsZWUsIGFyZ3MsIG9wdHMpe1xuICAgIHZhciBjYWxsO1xuICAgIGNhbGwgPSBDYWxsKGFyZ3MpO1xuICAgIGlmIChvcHRzKSB7XG4gICAgICBpbXBvcnQkKGNhbGwsIG9wdHMpO1xuICAgIH1cbiAgICByZXR1cm4gQ2hhaW4oY2FsbGVlKS5hZGQoY2FsbCk7XG4gIH07XG4gIENhbGwuYmxvY2sgPSBmdW5jdGlvbihmdW4sIGFyZ3MsIG1ldGhvZCl7XG4gICAgdmFyIHJlZiQsIHJlZjEkO1xuICAgIHJldHVybiByZWYkID0gUGFyZW5zKENoYWluKGZ1biwgWyhyZWYxJCA9IENhbGwoYXJncyksIHJlZjEkLm1ldGhvZCA9IG1ldGhvZCwgcmVmMSQpXSksIHRydWUpLCByZWYkLmNhbGxpbmcgPSB0cnVlLCByZWYkO1xuICB9O1xuICBDYWxsLmJhY2sgPSBmdW5jdGlvbihwYXJhbXMsIG5vZGUsIGJvdW5kLCBjdXJyaWVkKXtcbiAgICB2YXIgZnVuLCByZWYkLCBhcmdzLCBpbmRleCwgaSQsIGxlbiQsIGE7XG4gICAgZnVuID0gRnVuKHBhcmFtcywgdm9pZCA4LCBib3VuZCwgY3VycmllZCk7XG4gICAgaWYgKGZ1bi5odXNoZWQgPSBub2RlLm9wID09PSAnIScpIHtcbiAgICAgIG5vZGUgPSBub2RlLml0O1xuICAgIH1cbiAgICBpZiAobm9kZSBpbnN0YW5jZW9mIExhYmVsKSB7XG4gICAgICBmdW4ubmFtZSA9IG5vZGUubGFiZWw7XG4gICAgICBmdW4ubGFiZWxlZCA9IHRydWU7XG4gICAgICBub2RlID0gbm9kZS5pdDtcbiAgICB9XG4gICAgaWYgKCFmdW4uaHVzaGVkICYmIChmdW4uaHVzaGVkID0gbm9kZS5vcCA9PT0gJyEnKSkge1xuICAgICAgbm9kZSA9IG5vZGUuaXQ7XG4gICAgfVxuICAgIGlmICgocmVmJCA9IG5vZGUuZ2V0Q2FsbCgpKSAhPSBudWxsKSB7XG4gICAgICByZWYkLnBhcnRpYWxpemVkID0gbnVsbDtcbiAgICB9XG4gICAgYXJncyA9IChub2RlLmdldENhbGwoKSB8fCAobm9kZSA9IENoYWluKG5vZGUpLmFkZChDYWxsKCkpKS5nZXRDYWxsKCkpLmFyZ3M7XG4gICAgaW5kZXggPSAwO1xuICAgIGZvciAoaSQgPSAwLCBsZW4kID0gYXJncy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgYSA9IGFyZ3NbaSRdO1xuICAgICAgaWYgKGEucGxhY2Vob2xkZXIpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICArK2luZGV4O1xuICAgIH1cbiAgICByZXR1cm4gbm9kZS5iYWNrID0gKGFyZ3NbaW5kZXhdID0gZnVuKS5ib2R5LCBub2RlO1xuICB9O1xuICBDYWxsWydsZXQnXSA9IGZ1bmN0aW9uKGFyZ3MsIGJvZHkpe1xuICAgIHZhciBwYXJhbXMsIHJlcyQsIGkkLCBsZW4kLCBpLCBhLCB0aGF0LCBnb3RUaGlzO1xuICAgIHJlcyQgPSBbXTtcbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IGFyZ3MubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIGkgPSBpJDtcbiAgICAgIGEgPSBhcmdzW2kkXTtcbiAgICAgIGlmICh0aGF0ID0gYS5vcCA9PT0gJz0nICYmICFhLmxvZ2ljICYmIGEucmlnaHQpIHtcbiAgICAgICAgYXJnc1tpXSA9IHRoYXQ7XG4gICAgICAgIGlmIChpID09PSAwICYmIChnb3RUaGlzID0gYS5sZWZ0LnZhbHVlID09PSAndGhpcycpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVzJC5wdXNoKGEubGVmdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXMkLnB1c2goVmFyKGEudmFyTmFtZSgpIHx8IGEuY2FycCgnaW52YWxpZCBcImxldFwiIGFyZ3VtZW50JykpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcGFyYW1zID0gcmVzJDtcbiAgICBnb3RUaGlzIHx8IGFyZ3MudW5zaGlmdChMaXRlcmFsKCd0aGlzJykpO1xuICAgIHJldHVybiB0aGlzLmJsb2NrKEZ1bihwYXJhbXMsIGJvZHkpLCBhcmdzLCAnLmNhbGwnKTtcbiAgfTtcbiAgcmV0dXJuIENhbGw7XG59KE5vZGUpKTtcbkxpc3QgPSAoZnVuY3Rpb24oc3VwZXJjbGFzcyl7XG4gIHZhciBwcm90b3R5cGUgPSBleHRlbmQkKChpbXBvcnQkKExpc3QsIHN1cGVyY2xhc3MpLmRpc3BsYXlOYW1lID0gJ0xpc3QnLCBMaXN0KSwgc3VwZXJjbGFzcykucHJvdG90eXBlLCBjb25zdHJ1Y3RvciA9IExpc3Q7XG4gIHByb3RvdHlwZS5jaGlsZHJlbiA9IFsnaXRlbXMnXTtcbiAgcHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH07XG4gIHByb3RvdHlwZS5uYW1lZCA9IGZ1bmN0aW9uKG5hbWUpe1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gIXRoaXMuaXRlbXMubGVuZ3RoO1xuICB9O1xuICBwcm90b3R5cGUuYXNzaWducyA9IGZ1bmN0aW9uKGl0KXtcbiAgICB2YXIgaSQsIHJlZiQsIGxlbiQsIG5vZGU7XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHRoaXMuaXRlbXMpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICBub2RlID0gcmVmJFtpJF07XG4gICAgICBpZiAobm9kZS5hc3NpZ25zKGl0KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIExpc3QuY29tcGlsZSA9IGZ1bmN0aW9uKG8sIGl0ZW1zLCBkZWVwRXEpe1xuICAgIHZhciBpbmRlbnQsIGxldmVsLCBjb2RlLCBpLCB0aGF0LCB0YXJnZXQ7XG4gICAgc3dpdGNoIChpdGVtcy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6XG4gICAgICByZXR1cm4gJyc7XG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIGl0ZW1zWzBdLmNvbXBpbGUobywgTEVWRUxfTElTVCk7XG4gICAgfVxuICAgIGluZGVudCA9IG8uaW5kZW50LCBsZXZlbCA9IG8ubGV2ZWw7XG4gICAgby5pbmRlbnQgPSBpbmRlbnQgKyBUQUI7XG4gICAgby5sZXZlbCA9IExFVkVMX0xJU1Q7XG4gICAgY29kZSA9IGl0ZW1zW2kgPSAwXS5jb21waWxlKG8pO1xuICAgIHdoaWxlICh0aGF0ID0gaXRlbXNbKytpXSkge1xuICAgICAgY29kZSArPSAnLCAnO1xuICAgICAgdGFyZ2V0ID0gdGhhdDtcbiAgICAgIGlmIChkZWVwRXEpIHtcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFZhciAmJiB0YXJnZXQudmFsdWUgPT09ICdfJykge1xuICAgICAgICAgIHRhcmdldCA9IE9iaihbUHJvcChLZXkoJ19fcGxhY2Vob2xkZXJfXycpLCBMaXRlcmFsKHRydWUpKV0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCBpbnN0YW5jZW9mIE9iaiB8fCB0YXJnZXQgaW5zdGFuY2VvZiBBcnIpIHtcbiAgICAgICAgICB0YXJnZXQuZGVlcEVxID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29kZSArPSB0YXJnZXQuY29tcGlsZShvKTtcbiAgICB9XG4gICAgaWYgKH5jb2RlLmluZGV4T2YoJ1xcbicpKSB7XG4gICAgICBjb2RlID0gXCJcXG5cIiArIG8uaW5kZW50ICsgY29kZSArIFwiXFxuXCIgKyBpbmRlbnQ7XG4gICAgfVxuICAgIG8uaW5kZW50ID0gaW5kZW50O1xuICAgIG8ubGV2ZWwgPSBsZXZlbDtcbiAgICByZXR1cm4gY29kZTtcbiAgfTtcbiAgZnVuY3Rpb24gTGlzdCgpe1xuICAgIExpc3Quc3VwZXJjbGFzcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG4gIHJldHVybiBMaXN0O1xufShOb2RlKSk7XG5leHBvcnRzLk9iaiA9IE9iaiA9IChmdW5jdGlvbihzdXBlcmNsYXNzKXtcbiAgdmFyIHByb3RvdHlwZSA9IGV4dGVuZCQoKGltcG9ydCQoT2JqLCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdPYmonLCBPYmopLCBzdXBlcmNsYXNzKS5wcm90b3R5cGUsIGNvbnN0cnVjdG9yID0gT2JqO1xuICBmdW5jdGlvbiBPYmooaXRlbXMpe1xuICAgIHZhciB0aGlzJCA9IHRoaXMgaW5zdGFuY2VvZiBjdG9yJCA/IHRoaXMgOiBuZXcgY3RvciQ7XG4gICAgdGhpcyQuaXRlbXMgPSBpdGVtcyB8fCBbXTtcbiAgICByZXR1cm4gdGhpcyQ7XG4gIH0gZnVuY3Rpb24gY3RvciQoKXt9IGN0b3IkLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgcHJvdG90eXBlLmFzT2JqID0gVEhJUztcbiAgcHJvdG90eXBlLnRvU2xpY2UgPSBmdW5jdGlvbihvLCBiYXNlLCBzeW1ib2wsIGFzc2lnbil7XG4gICAgdmFyIGl0ZW1zLCByZWYkLCByZWYsIHRlbXBzLCBpJCwgbGVuJCwgaSwgbm9kZSwgbmFtZSwgY2hhaW4sIGxvZ2ljLCBrZXksIHZhbDtcbiAgICBpdGVtcyA9IHRoaXMuaXRlbXM7XG4gICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJlZiQgPSBiYXNlLmNhY2hlKG8pLCBiYXNlID0gcmVmJFswXSwgcmVmID0gcmVmJFsxXSwgdGVtcHMgPSByZWYkWzJdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWYgPSBiYXNlO1xuICAgIH1cbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IGl0ZW1zLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICBpID0gaSQ7XG4gICAgICBub2RlID0gaXRlbXNbaSRdO1xuICAgICAgaWYgKG5vZGUuY29tbWVudCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgUHJvcCB8fCBub2RlIGluc3RhbmNlb2YgU3BsYXQpIHtcbiAgICAgICAgbm9kZVtuYW1lID0gKHJlZiQgPSBub2RlLmNoaWxkcmVuKVtyZWYkLmxlbmd0aCAtIDFdXSA9IGNoYWluID0gQ2hhaW4oYmFzZSwgW0luZGV4KG5vZGVbbmFtZV0ubWF5YmVLZXkoKSldKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChsb2dpYyA9IG5vZGUuZ2V0RGVmYXVsdCgpKSB7XG4gICAgICAgICAgbm9kZSA9IG5vZGUuZmlyc3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBQYXJlbnMpIHtcbiAgICAgICAgICByZWYkID0gbm9kZS5jYWNoZShvLCB0cnVlKSwga2V5ID0gcmVmJFswXSwgbm9kZSA9IHJlZiRbMV07XG4gICAgICAgICAgaWYgKGFzc2lnbikge1xuICAgICAgICAgICAgcmVmJCA9IFtub2RlLCBrZXldLCBrZXkgPSByZWYkWzBdLCBub2RlID0gcmVmJFsxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAga2V5ID0gUGFyZW5zKGtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAga2V5ID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICB2YWwgPSBjaGFpbiA9IENoYWluKGJhc2UsIFtJbmRleChub2RlLm1heWJlS2V5KCksIHN5bWJvbCldKTtcbiAgICAgICAgaWYgKGxvZ2ljKSB7XG4gICAgICAgICAgdmFsID0gKGxvZ2ljLmZpcnN0ID0gdmFsLCBsb2dpYyk7XG4gICAgICAgIH1cbiAgICAgICAgaXRlbXNbaV0gPSBQcm9wKGtleSwgdmFsKTtcbiAgICAgIH1cbiAgICAgIGJhc2UgPSByZWY7XG4gICAgfVxuICAgIGNoYWluIHx8IHRoaXMuY2FycCgnZW1wdHkgc2xpY2UnKTtcbiAgICBpZiAodGVtcHMpIHtcbiAgICAgIChjaGFpbi5oZWFkID0gVmFyKHRlbXBzWzBdKSkudGVtcCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgaXRlbXMsIGNvZGUsIGlkdCwgZGljLCBpJCwgbGVuJCwgaSwgbm9kZSwgbG9naWMsIHJlc3QsIHJlZiQsIG11bHRpLCBrZXksIHZhbDtcbiAgICBpdGVtcyA9IHRoaXMuaXRlbXM7XG4gICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLmZyb250ID8gJyh7fSknIDogJ3t9JztcbiAgICB9XG4gICAgY29kZSA9ICcnO1xuICAgIGlkdCA9ICdcXG4nICsgKG8uaW5kZW50ICs9IFRBQik7XG4gICAgZGljID0ge307XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSBpdGVtcy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgaSA9IGkkO1xuICAgICAgbm9kZSA9IGl0ZW1zW2kkXTtcbiAgICAgIGlmIChub2RlLmNvbW1lbnQpIHtcbiAgICAgICAgY29kZSArPSBpZHQgKyBub2RlLmNvbXBpbGUobyk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGxvZ2ljID0gbm9kZS5nZXREZWZhdWx0KCkpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUuZmlyc3Q7XG4gICAgICB9XG4gICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFNwbGF0IHx8IChub2RlLmtleSB8fCBub2RlKSBpbnN0YW5jZW9mIFBhcmVucykge1xuICAgICAgICByZXN0ID0gaXRlbXMuc2xpY2UoaSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGxvZ2ljKSB7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgUHJvcCkge1xuICAgICAgICAgIG5vZGUudmFsID0gKGxvZ2ljLmZpcnN0ID0gbm9kZS52YWwsIGxvZ2ljKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlID0gUHJvcChub2RlLCAobG9naWMuZmlyc3QgPSBub2RlLCBsb2dpYykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5kZWVwRXEgJiYgbm9kZSBpbnN0YW5jZW9mIFByb3ApIHtcbiAgICAgICAgaWYgKG5vZGUudmFsIGluc3RhbmNlb2YgVmFyICYmIG5vZGUudmFsLnZhbHVlID09PSAnXycpIHtcbiAgICAgICAgICBub2RlLnZhbCA9IE9iaihbUHJvcChLZXkoJ19fcGxhY2Vob2xkZXJfXycpLCBMaXRlcmFsKHRydWUpKV0pO1xuICAgICAgICB9IGVsc2UgaWYgKChyZWYkID0gbm9kZS52YWwpIGluc3RhbmNlb2YgT2JqIHx8IHJlZiQgaW5zdGFuY2VvZiBBcnIpIHtcbiAgICAgICAgICBub2RlLnZhbC5kZWVwRXEgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobXVsdGkpIHtcbiAgICAgICAgY29kZSArPSAnLCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtdWx0aSA9IHRydWU7XG4gICAgICB9XG4gICAgICBjb2RlICs9IGlkdCArIChub2RlIGluc3RhbmNlb2YgUHJvcFxuICAgICAgICA/IChrZXkgPSBub2RlLmtleSwgdmFsID0gbm9kZS52YWwsIG5vZGUuYWNjZXNzb3JcbiAgICAgICAgICA/IG5vZGUuY29tcGlsZUFjY2Vzc29yKG8sIGtleSA9IGtleS5jb21waWxlKG8pKVxuICAgICAgICAgIDogKHZhbC5yaXBOYW1lKGtleSksIChrZXkgPSBrZXkuY29tcGlsZShvKSkgKyBcIjogXCIgKyB2YWwuY29tcGlsZShvLCBMRVZFTF9MSVNUKSkpXG4gICAgICAgIDogKGtleSA9IG5vZGUuY29tcGlsZShvKSkgKyBcIjogXCIgKyBrZXkpO1xuICAgICAgSUQudGVzdChrZXkpIHx8IChrZXkgPSBGdW5jdGlvbihcInJldHVybiBcIiArIGtleSkoKSk7XG4gICAgICBpZiAoIShkaWNba2V5ICsgXCIuXCJdIF49IDEpKSB7XG4gICAgICAgIG5vZGUuY2FycChcImR1cGxpY2F0ZSBwcm9wZXJ0eSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGNvZGUgPSBcIntcIiArIChjb2RlICYmIGNvZGUgKyAnXFxuJyArIHRoaXMudGFiKSArIFwifVwiO1xuICAgIHJlc3QgJiYgKGNvZGUgPSBJbXBvcnQoSlMoY29kZSksIE9iaihyZXN0KSkuY29tcGlsZSgoby5pbmRlbnQgPSB0aGlzLnRhYiwgbykpKTtcbiAgICBpZiAodGhpcy5mcm9udCAmJiAneycgPT09IGNvZGUuY2hhckF0KCkpIHtcbiAgICAgIHJldHVybiBcIihcIiArIGNvZGUgKyBcIilcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfVxuICB9O1xuICByZXR1cm4gT2JqO1xufShMaXN0KSk7XG5leHBvcnRzLlByb3AgPSBQcm9wID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChQcm9wLCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdQcm9wJywgUHJvcCksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBQcm9wO1xuICBmdW5jdGlvbiBQcm9wKGtleSwgdmFsKXtcbiAgICB2YXIgdGhhdCwgaSQsIGxlbiQsIGZ1biwgdGhpcyQgPSB0aGlzIGluc3RhbmNlb2YgY3RvciQgPyB0aGlzIDogbmV3IGN0b3IkO1xuICAgIHRoaXMkLmtleSA9IGtleTtcbiAgICB0aGlzJC52YWwgPSB2YWw7XG4gICAgaWYgKGtleS52YWx1ZSA9PT0gJy4uLicpIHtcbiAgICAgIHJldHVybiBTcGxhdCh0aGlzJC52YWwpO1xuICAgIH1cbiAgICBpZiAodGhhdCA9IHZhbC5nZXRBY2Nlc3NvcnMoKSkge1xuICAgICAgdGhpcyQudmFsID0gdGhhdDtcbiAgICAgIGZvciAoaSQgPSAwLCBsZW4kID0gdGhhdC5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgICBmdW4gPSB0aGF0W2kkXTtcbiAgICAgICAgZnVuLnggPSAoZnVuLmh1c2hlZCA9IGZ1bi5wYXJhbXMubGVuZ3RoKSA/ICdzJyA6ICdnJztcbiAgICAgIH1cbiAgICAgIHRoaXMkWydhY2Nlc3NvciddID0gJ2FjY2Vzc29yJztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMkO1xuICB9IGZ1bmN0aW9uIGN0b3IkKCl7fSBjdG9yJC5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gIHByb3RvdHlwZS5jaGlsZHJlbiA9IFsna2V5JywgJ3ZhbCddO1xuICBwcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMuYWNjZXNzb3I7XG4gIH07XG4gIHByb3RvdHlwZS5hc3NpZ25zID0gZnVuY3Rpb24oaXQpe1xuICAgIHZhciByZWYkO1xuICAgIHJldHVybiB0eXBlb2YgKHJlZiQgPSB0aGlzLnZhbCkuYXNzaWducyA9PSAnZnVuY3Rpb24nID8gcmVmJC5hc3NpZ25zKGl0KSA6IHZvaWQgODtcbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGVBY2Nlc3NvciA9IGZ1bmN0aW9uKG8sIGtleSl7XG4gICAgdmFyIGZ1bnMsIGZ1bjtcbiAgICBmdW5zID0gdGhpcy52YWw7XG4gICAgaWYgKGZ1bnNbMV0gJiYgZnVuc1swXS5wYXJhbXMubGVuZ3RoICsgZnVuc1sxXS5wYXJhbXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICBmdW5zWzBdLmNhcnAoJ2ludmFsaWQgYWNjZXNzb3IgcGFyYW1ldGVyJyk7XG4gICAgfVxuICAgIHJldHVybiAoZnVuY3Rpb24oKXtcbiAgICAgIHZhciBpJCwgcmVmJCwgbGVuJCwgcmVzdWx0cyQgPSBbXTtcbiAgICAgIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSBmdW5zKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgICBmdW4gPSByZWYkW2kkXTtcbiAgICAgICAgZnVuLmFjY2Vzc29yID0gdHJ1ZTtcbiAgICAgICAgcmVzdWx0cyQucHVzaChmdW4ueCArIFwiZXQgXCIgKyBrZXkgKyBmdW4uY29tcGlsZShvLCBMRVZFTF9MSVNUKS5zbGljZSg4KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0cyQ7XG4gICAgfSgpKS5qb2luKCcsXFxuJyArIG8uaW5kZW50KTtcbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGVEZXNjcmlwdG9yID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIG9iaiwgaSQsIHJlZiQsIGxlbiQsIGZ1bjtcbiAgICBvYmogPSBPYmooKTtcbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gdGhpcy52YWwpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICBmdW4gPSByZWYkW2kkXTtcbiAgICAgIG9iai5pdGVtcy5wdXNoKFByb3AoS2V5KGZ1bi54ICsgJ2V0JyksIGZ1bikpO1xuICAgIH1cbiAgICBvYmouaXRlbXMucHVzaChQcm9wKEtleSgnY29uZmlndXJhYmxlJyksIExpdGVyYWwodHJ1ZSkpKTtcbiAgICBvYmouaXRlbXMucHVzaChQcm9wKEtleSgnZW51bWVyYWJsZScpLCBMaXRlcmFsKHRydWUpKSk7XG4gICAgcmV0dXJuIG9iai5jb21waWxlKG8pO1xuICB9O1xuICByZXR1cm4gUHJvcDtcbn0oTm9kZSkpO1xuZXhwb3J0cy5BcnIgPSBBcnIgPSAoZnVuY3Rpb24oc3VwZXJjbGFzcyl7XG4gIHZhciBwcm90b3R5cGUgPSBleHRlbmQkKChpbXBvcnQkKEFyciwgc3VwZXJjbGFzcykuZGlzcGxheU5hbWUgPSAnQXJyJywgQXJyKSwgc3VwZXJjbGFzcykucHJvdG90eXBlLCBjb25zdHJ1Y3RvciA9IEFycjtcbiAgZnVuY3Rpb24gQXJyKGl0ZW1zKXtcbiAgICB2YXIgdGhpcyQgPSB0aGlzIGluc3RhbmNlb2YgY3RvciQgPyB0aGlzIDogbmV3IGN0b3IkO1xuICAgIHRoaXMkLml0ZW1zID0gaXRlbXMgfHwgW107XG4gICAgcmV0dXJuIHRoaXMkO1xuICB9IGZ1bmN0aW9uIGN0b3IkKCl7fSBjdG9yJC5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gIHByb3RvdHlwZS5pc0FycmF5ID0gWUVTO1xuICBwcm90b3R5cGUuYXNPYmogPSBmdW5jdGlvbigpe1xuICAgIHZhciBpLCBpdGVtO1xuICAgIHJldHVybiBPYmooKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgaSQsIHJlZiQsIGxlbiQsIHJlc3VsdHMkID0gW107XG4gICAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gdGhpcy5pdGVtcykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgICAgaSA9IGkkO1xuICAgICAgICBpdGVtID0gcmVmJFtpJF07XG4gICAgICAgIHJlc3VsdHMkLnB1c2goUHJvcChMaXRlcmFsKGkpLCBpdGVtKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0cyQ7XG4gICAgfS5jYWxsKHRoaXMpKSk7XG4gIH07XG4gIHByb3RvdHlwZS50b1NsaWNlID0gZnVuY3Rpb24obywgYmFzZSwgc3ltYm9sKXtcbiAgICB2YXIgaXRlbXMsIHJlZiQsIHJlZiwgaSQsIGxlbiQsIGksIGl0ZW0sIHNwbGF0LCBjaGFpbjtcbiAgICBpdGVtcyA9IHRoaXMuaXRlbXM7XG4gICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJlZiQgPSBiYXNlLmNhY2hlKG8pLCBiYXNlID0gcmVmJFswXSwgcmVmID0gcmVmJFsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVmID0gYmFzZTtcbiAgICB9XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSBpdGVtcy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgaSA9IGkkO1xuICAgICAgaXRlbSA9IGl0ZW1zW2kkXTtcbiAgICAgIGlmIChzcGxhdCA9IGl0ZW0gaW5zdGFuY2VvZiBTcGxhdCkge1xuICAgICAgICBpdGVtID0gaXRlbS5pdDtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtLmlzRW1wdHkoKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNoYWluID0gQ2hhaW4oYmFzZSwgW0luZGV4KGl0ZW0sIHN5bWJvbCldKTtcbiAgICAgIGl0ZW1zW2ldID0gc3BsYXQgPyBTcGxhdChjaGFpbikgOiBjaGFpbjtcbiAgICAgIGJhc2UgPSByZWY7XG4gICAgfVxuICAgIGNoYWluIHx8IHRoaXMuY2FycCgnZW1wdHkgc2xpY2UnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgaXRlbXMsIGNvZGU7XG4gICAgaXRlbXMgPSB0aGlzLml0ZW1zO1xuICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gJ1tdJztcbiAgICB9XG4gICAgaWYgKGNvZGUgPSBTcGxhdC5jb21waWxlQXJyYXkobywgaXRlbXMpKSB7XG4gICAgICByZXR1cm4gdGhpcy5uZXdlZCA/IFwiKFwiICsgY29kZSArIFwiKVwiIDogY29kZTtcbiAgICB9XG4gICAgcmV0dXJuIFwiW1wiICsgTGlzdC5jb21waWxlKG8sIGl0ZW1zLCB0aGlzLmRlZXBFcSkgKyBcIl1cIjtcbiAgfTtcbiAgQXJyLm1heWJlID0gZnVuY3Rpb24obm9kZXMpe1xuICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDEgJiYgIShub2Rlc1swXSBpbnN0YW5jZW9mIFNwbGF0KSkge1xuICAgICAgcmV0dXJuIG5vZGVzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gY29uc3RydWN0b3Iobm9kZXMpO1xuICB9O1xuICBBcnIud3JhcCA9IGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gY29uc3RydWN0b3IoW1NwbGF0KChpdC5pc0FycmF5ID0gWUVTLCBpdCkpXSk7XG4gIH07XG4gIHJldHVybiBBcnI7XG59KExpc3QpKTtcbmV4cG9ydHMuVW5hcnkgPSBVbmFyeSA9IChmdW5jdGlvbihzdXBlcmNsYXNzKXtcbiAgdmFyIHByb3RvdHlwZSA9IGV4dGVuZCQoKGltcG9ydCQoVW5hcnksIHN1cGVyY2xhc3MpLmRpc3BsYXlOYW1lID0gJ1VuYXJ5JywgVW5hcnkpLCBzdXBlcmNsYXNzKS5wcm90b3R5cGUsIGNvbnN0cnVjdG9yID0gVW5hcnk7XG4gIGZ1bmN0aW9uIFVuYXJ5KG9wLCBpdCwgZmxhZyl7XG4gICAgdmFyIHRoYXQsIGkkLCByZWYkLCBsZW4kLCBub2RlLCB0aGlzJCA9IHRoaXMgaW5zdGFuY2VvZiBjdG9yJCA/IHRoaXMgOiBuZXcgY3RvciQ7XG4gICAgaWYgKGl0ICE9IG51bGwpIHtcbiAgICAgIGlmICh0aGF0ID0gIWZsYWcgJiYgaXQudW5hcmllcykge1xuICAgICAgICB0aGF0LnB1c2gob3ApO1xuICAgICAgICByZXR1cm4gaXQ7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICBjYXNlICchJzpcbiAgICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXQgaW5zdGFuY2VvZiBGdW4gJiYgIWl0Lmh1c2hlZCkge1xuICAgICAgICAgIHJldHVybiBpdC5odXNoZWQgPSB0cnVlLCBpdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXQuaW52ZXJ0KCk7XG4gICAgICBjYXNlICcrKyc6XG4gICAgICBjYXNlICctLSc6XG4gICAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgICAgdGhpcyQucG9zdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICduZXcnOlxuICAgICAgICBpZiAoaXQgaW5zdGFuY2VvZiBFeGlzdGVuY2UgJiYgIWl0Lm5lZ2F0ZWQpIHtcbiAgICAgICAgICBpdCA9IENoYWluKGl0KS5hZGQoQ2FsbCgpKTtcbiAgICAgICAgfVxuICAgICAgICBpdC5uZXdlZCA9IHRydWU7XG4gICAgICAgIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSBpdC50YWlscyB8fCAnJykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgICAgICBub2RlID0gcmVmJFtpJF07XG4gICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBDYWxsICYmICFub2RlWyduZXcnXSkge1xuICAgICAgICAgICAgaWYgKG5vZGUubWV0aG9kID09PSAnLmNhbGwnKSB7XG4gICAgICAgICAgICAgIG5vZGUuYXJncy5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZVsnbmV3J10gPSAnbmV3JztcbiAgICAgICAgICAgIG5vZGUubWV0aG9kID0gJyc7XG4gICAgICAgICAgICByZXR1cm4gaXQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnfic6XG4gICAgICAgIGlmIChpdCBpbnN0YW5jZW9mIEZ1biAmJiBpdC5zdGF0ZW1lbnQgJiYgIWl0LmJvdW5kKSB7XG4gICAgICAgICAgcmV0dXJuIGl0LmJvdW5kID0gJ3RoaXMkJywgaXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcyQub3AgPSBvcDtcbiAgICB0aGlzJC5pdCA9IGl0O1xuICAgIHJldHVybiB0aGlzJDtcbiAgfSBmdW5jdGlvbiBjdG9yJCgpe30gY3RvciQucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY2hpbGRyZW4gPSBbJ2l0J107XG4gIHByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gW3RoaXMucG9zdCA/ICdAJyA6IHZvaWQgOF0gKyB0aGlzLm9wO1xuICB9O1xuICBwcm90b3R5cGUuaXNDYWxsYWJsZSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJlZiQ7XG4gICAgcmV0dXJuICgocmVmJCA9IHRoaXMub3ApID09PSAnZG8nIHx8IHJlZiQgPT09ICduZXcnIHx8IHJlZiQgPT09ICdkZWxldGUnKSB8fCB0aGlzLml0ID09IG51bGw7XG4gIH07XG4gIHByb3RvdHlwZS5pc0FycmF5ID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5pdCBpbnN0YW5jZW9mIEFyciAmJiB0aGlzLml0Lml0ZW1zLmxlbmd0aCB8fCB0aGlzLml0IGluc3RhbmNlb2YgQ2hhaW4gJiYgdGhpcy5pdC5pc0FycmF5KCk7XG4gIH07XG4gIHByb3RvdHlwZS5pc1N0cmluZyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJlZiQ7XG4gICAgcmV0dXJuIChyZWYkID0gdGhpcy5vcCkgPT09ICd0eXBlb2YnIHx8IHJlZiQgPT09ICdjbGFzc29mJztcbiAgfTtcbiAgcHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJlZiQ7XG4gICAgaWYgKHRoaXMub3AgPT09ICchJyAmJiAoKHJlZiQgPSB0aGlzLml0Lm9wKSA9PT0gJyEnIHx8IHJlZiQgPT09ICc8JyB8fCByZWYkID09PSAnPicgfHwgcmVmJCA9PT0gJzw9JyB8fCByZWYkID09PSAnPj0nIHx8IHJlZiQgPT09ICdvZicgfHwgcmVmJCA9PT0gJ2luc3RhbmNlb2YnKSkge1xuICAgICAgcmV0dXJuIHRoaXMuaXQ7XG4gICAgfVxuICAgIHJldHVybiBjb25zdHJ1Y3RvcignIScsIHRoaXMsIHRydWUpO1xuICB9O1xuICBwcm90b3R5cGUudW5mb2xkU29hayA9IGZ1bmN0aW9uKG8pe1xuICAgIHZhciByZWYkO1xuICAgIHJldHVybiAoKHJlZiQgPSB0aGlzLm9wKSA9PT0gJysrJyB8fCByZWYkID09PSAnLS0nIHx8IHJlZiQgPT09ICdkZWxldGUnKSAmJiB0aGlzLml0ICE9IG51bGwgJiYgSWYudW5mb2xkU29hayhvLCB0aGlzLCAnaXQnKTtcbiAgfTtcbiAgcHJvdG90eXBlLmdldEFjY2Vzc29ycyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGl0ZW1zO1xuICAgIGlmICh0aGlzLm9wICE9PSAnficpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXQgaW5zdGFuY2VvZiBGdW4pIHtcbiAgICAgIHJldHVybiBbdGhpcy5pdF07XG4gICAgfVxuICAgIGlmICh0aGlzLml0IGluc3RhbmNlb2YgQXJyKSB7XG4gICAgICBpdGVtcyA9IHRoaXMuaXQuaXRlbXM7XG4gICAgICBpZiAoIWl0ZW1zWzJdICYmIGl0ZW1zWzBdIGluc3RhbmNlb2YgRnVuICYmIGl0ZW1zWzFdIGluc3RhbmNlb2YgRnVuKSB7XG4gICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIGNyZW1lbnQoaXQpe1xuICAgIHJldHVybiB7XG4gICAgICAnKysnOiAnaW4nLFxuICAgICAgJy0tJzogJ2RlJ1xuICAgIH1baXRdICsgJ2NyZW1lbnQnO1xuICB9XG4gIHByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8pe1xuICAgIHZhciB0aGF0LCBvcCwgaXQsIHgsIGNvZGU7XG4gICAgaWYgKHRoaXMuaXQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZUFzRnVuYyhvKTtcbiAgICB9XG4gICAgaWYgKHRoYXQgPSB0aGlzLmNvbXBpbGVTcHJlYWQobykpIHtcbiAgICAgIHJldHVybiB0aGF0O1xuICAgIH1cbiAgICBvcCA9IHRoaXMub3AsIGl0ID0gdGhpcy5pdDtcbiAgICBzd2l0Y2ggKG9wKSB7XG4gICAgY2FzZSAnISc6XG4gICAgICBpdC5jb25kID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ25ldyc6XG4gICAgICBpdC5pc0NhbGxhYmxlKCkgfHwgaXQuY2FycCgnaW52YWxpZCBjb25zdHJ1Y3RvcicpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZG8nOlxuICAgICAgaWYgKG8ubGV2ZWwgPT09IExFVkVMX1RPUCAmJiBpdCBpbnN0YW5jZW9mIEZ1biAmJiBpdC5pc1N0YXRlbWVudCgpKSB7XG4gICAgICAgIHJldHVybiBpdC5jb21waWxlKG8pICsgXCIgXCIgKyBVbmFyeSgnZG8nLCBWYXIoaXQubmFtZSkpLmNvbXBpbGUobyk7XG4gICAgICB9XG4gICAgICB4ID0gUGFyZW5zKGl0IGluc3RhbmNlb2YgRXhpc3RlbmNlICYmICFpdC5uZWdhdGVkXG4gICAgICAgID8gQ2hhaW4oaXQpLmFkZChDYWxsKCkpXG4gICAgICAgIDogQ2FsbC5tYWtlKGl0KSk7XG4gICAgICByZXR1cm4gKHguZnJvbnQgPSB0aGlzLmZyb250LCB4Lm5ld2VkID0gdGhpcy5uZXdlZCwgeCkuY29tcGlsZShvKTtcbiAgICBjYXNlICdkZWxldGUnOlxuICAgICAgaWYgKGl0IGluc3RhbmNlb2YgVmFyIHx8ICFpdC5pc0Fzc2lnbmFibGUoKSkge1xuICAgICAgICB0aGlzLmNhcnAoJ2ludmFsaWQgZGVsZXRlJyk7XG4gICAgICB9XG4gICAgICBpZiAoby5sZXZlbCAmJiAhdGhpc1sndm9pZCddKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVQbHVjayhvKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJysrJzpcbiAgICBjYXNlICctLSc6XG4gICAgICBpdC5pc0Fzc2lnbmFibGUoKSB8fCB0aGlzLmNhcnAoJ2ludmFsaWQgJyArIGNyZW1lbnQob3ApKTtcbiAgICAgIGlmICh0aGF0ID0gaXQgaW5zdGFuY2VvZiBWYXIgJiYgby5zY29wZS5jaGVja1JlYWRPbmx5KGl0LnZhbHVlKSkge1xuICAgICAgICB0aGlzLmNhcnAoY3JlbWVudChvcCkgKyBcIiBvZiBcIiArIHRoYXQgKyBcIiBcXFwiXCIgKyBpdC52YWx1ZSArIFwiXFxcIlwiLCBSZWZlcmVuY2VFcnJvcik7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wb3N0KSB7XG4gICAgICAgIGl0LmZyb250ID0gdGhpcy5mcm9udDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ15eJzpcbiAgICAgIHJldHVybiB1dGlsKCdjbG9uZScpICsgXCIoXCIgKyBpdC5jb21waWxlKG8sIExFVkVMX0xJU1QpICsgXCIpXCI7XG4gICAgY2FzZSAnanNkZWxldGUnOlxuICAgICAgcmV0dXJuIFwiZGVsZXRlIFwiICsgaXQuY29tcGlsZShvLCBMRVZFTF9MSVNUKTtcbiAgICBjYXNlICdjbGFzc29mJzpcbiAgICAgIHJldHVybiB1dGlsKCd0b1N0cmluZycpICsgXCIuY2FsbChcIiArIGl0LmNvbXBpbGUobywgTEVWRUxfTElTVCkgKyBcIikuc2xpY2UoOCwgLTEpXCI7XG4gICAgfVxuICAgIGNvZGUgPSBpdC5jb21waWxlKG8sIExFVkVMX09QICsgUFJFQy51bmFyeSk7XG4gICAgaWYgKHRoaXMucG9zdCkge1xuICAgICAgY29kZSArPSBvcDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG9wID09PSAneWllbGRmcm9tJykge1xuICAgICAgICBvcCA9ICd5aWVsZCogJztcbiAgICAgIH1cbiAgICAgIGlmICgob3AgPT09ICduZXcnIHx8IG9wID09PSAndHlwZW9mJyB8fCBvcCA9PT0gJ2RlbGV0ZScgfHwgb3AgPT09ICd5aWVsZCcpIHx8IChvcCA9PT0gJysnIHx8IG9wID09PSAnLScpICYmIG9wID09PSBjb2RlLmNoYXJBdCgpKSB7XG4gICAgICAgIG9wICs9ICcgJztcbiAgICAgIH1cbiAgICAgIGNvZGUgPSBvcCArIGNvZGU7XG4gICAgfVxuICAgIGlmIChvLmxldmVsIDwgTEVWRUxfQ0FMTCkge1xuICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIihcIiArIGNvZGUgKyBcIilcIjtcbiAgICB9XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlU3ByZWFkID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIGl0LCBvcHMsIHRoZW0sIGkkLCBsZW4kLCBpLCBub2RlLCBzcCwgaiQsIG9wLCBsYXQsIHJlZiQ7XG4gICAgaXQgPSB0aGlzLml0O1xuICAgIG9wcyA9IFt0aGlzXTtcbiAgICBmb3IgKDsgaXQgaW5zdGFuY2VvZiBjb25zdHJ1Y3RvcjsgaXQgPSBpdC5pdCkge1xuICAgICAgb3BzLnB1c2goaXQpO1xuICAgIH1cbiAgICBpZiAoISgoaXQgPSBpdC5leHBhbmRTbGljZShvKS51bndyYXAoKSkgaW5zdGFuY2VvZiBBcnIgJiYgKHRoZW0gPSBpdC5pdGVtcykubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IHRoZW0ubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIGkgPSBpJDtcbiAgICAgIG5vZGUgPSB0aGVtW2kkXTtcbiAgICAgIGlmIChzcCA9IG5vZGUgaW5zdGFuY2VvZiBTcGxhdCkge1xuICAgICAgICBub2RlID0gbm9kZS5pdDtcbiAgICAgIH1cbiAgICAgIGZvciAoaiQgPSBvcHMubGVuZ3RoIC0gMTsgaiQgPj0gMDsgLS1qJCkge1xuICAgICAgICBvcCA9IG9wc1tqJF07XG4gICAgICAgIG5vZGUgPSBjb25zdHJ1Y3RvcihvcC5vcCwgbm9kZSwgb3AucG9zdCk7XG4gICAgICB9XG4gICAgICB0aGVtW2ldID0gc3AgPyBsYXQgPSBTcGxhdChub2RlKSA6IG5vZGU7XG4gICAgfVxuICAgIGlmICghbGF0ICYmICh0aGlzWyd2b2lkJ10gfHwgIW8ubGV2ZWwpKSB7XG4gICAgICBpdCA9IChyZWYkID0gQmxvY2sodGhlbSksIHJlZiQuZnJvbnQgPSB0aGlzLmZyb250LCByZWYkWyd2b2lkJ10gPSB0cnVlLCByZWYkKTtcbiAgICB9XG4gICAgcmV0dXJuIGl0LmNvbXBpbGUobywgTEVWRUxfUEFSRU4pO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZVBsdWNrID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIHJlZiQsIGdldCwgZGVsLCBjb2RlLCByZWY7XG4gICAgcmVmJCA9IENoYWluKHRoaXMuaXQpLmNhY2hlUmVmZXJlbmNlKG8pLCBnZXQgPSByZWYkWzBdLCBkZWwgPSByZWYkWzFdO1xuICAgIGNvZGUgPSAocmVmID0gby5zY29wZS50ZW1wb3JhcnkoKSkgKyBcIiA9IFwiICsgZ2V0LmNvbXBpbGUobywgTEVWRUxfTElTVCkgKyBcIiwgZGVsZXRlIFwiICsgZGVsLmNvbXBpbGUobywgTEVWRUxfTElTVCkgKyBcIiwgXCIgKyBvLnNjb3BlLmZyZWUocmVmKTtcbiAgICBpZiAoby5sZXZlbCA8IExFVkVMX0xJU1QpIHtcbiAgICAgIHJldHVybiBjb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCIoXCIgKyBjb2RlICsgXCIpXCI7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZUFzRnVuYyA9IGZ1bmN0aW9uKG8pe1xuICAgIGlmICh0aGlzLm9wID09PSAnIScpIHtcbiAgICAgIHJldHVybiB1dGlsKCdub3QnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiKFwiICsgRnVuKFtdLCBCbG9jayhVbmFyeSh0aGlzLm9wLCBDaGFpbihWYXIoJ2l0JykpKSkpLmNvbXBpbGUobykgKyBcIilcIjtcbiAgICB9XG4gIH07XG4gIHJldHVybiBVbmFyeTtcbn0oTm9kZSkpO1xuZXhwb3J0cy5CaW5hcnkgPSBCaW5hcnkgPSAoZnVuY3Rpb24oc3VwZXJjbGFzcyl7XG4gIHZhciBDT01QQVJFUiwgSU5WRVJTSU9OUywgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChCaW5hcnksIHN1cGVyY2xhc3MpLmRpc3BsYXlOYW1lID0gJ0JpbmFyeScsIEJpbmFyeSksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBCaW5hcnk7XG4gIGZ1bmN0aW9uIEJpbmFyeShvcCwgZmlyc3QsIHNlY29uZCwgZGVzdHJ1Y3R1cmluZyl7XG4gICAgdmFyIGxvZ2ljLCB0aGF0LCByZWYkLCB0aGlzJCA9IHRoaXMgaW5zdGFuY2VvZiBjdG9yJCA/IHRoaXMgOiBuZXcgY3RvciQ7XG4gICAgaWYgKGRlc3RydWN0dXJpbmcpIHtcbiAgICAgIGxvZ2ljID0gb3AubG9naWM7XG4gICAgICBpZiAodG9TdHJpbmckLmNhbGwoZGVzdHJ1Y3R1cmluZykuc2xpY2UoOCwgLTEpID09PSAnU3RyaW5nJykge1xuICAgICAgICBsb2dpYyA9IGRlc3RydWN0dXJpbmc7XG4gICAgICB9XG4gICAgICBvcCA9IChmdW5jdGlvbigpe1xuICAgICAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgICAgIGNhc2UgISh0aGF0ID0gbG9naWMpOlxuICAgICAgICAgIHJldHVybiB0aGF0O1xuICAgICAgICBjYXNlIG9wICE9PSAnPSc6XG4gICAgICAgICAgcmV0dXJuICc/JztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJz0nO1xuICAgICAgICB9XG4gICAgICB9KCkpO1xuICAgIH1cbiAgICB0aGlzJC5wYXJ0aWFsID0gZmlyc3QgPT0gbnVsbCB8fCBzZWNvbmQgPT0gbnVsbDtcbiAgICBpZiAoIXRoaXMkLnBhcnRpYWwpIHtcbiAgICAgIGlmICgnPScgPT09IG9wLmNoYXJBdChvcC5sZW5ndGggLSAxKSAmJiAoKHJlZiQgPSBvcC5jaGFyQXQob3AubGVuZ3RoIC0gMikpICE9PSAnPScgJiYgcmVmJCAhPT0gJzwnICYmIHJlZiQgIT09ICc+JyAmJiByZWYkICE9PSAnIScpKSB7XG4gICAgICAgIHJldHVybiBBc3NpZ24oZmlyc3QudW53cmFwKCksIHNlY29uZCwgb3ApO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChvcCkge1xuICAgICAgY2FzZSAnaW4nOlxuICAgICAgICByZXR1cm4gbmV3IEluKGZpcnN0LCBzZWNvbmQpO1xuICAgICAgY2FzZSAnd2l0aCc6XG4gICAgICAgIHJldHVybiBuZXcgSW1wb3J0KFVuYXJ5KCdeXicsIGZpcnN0KSwgc2Vjb25kLCBmYWxzZSk7XG4gICAgICBjYXNlICc8PDwnOlxuICAgICAgY2FzZSAnPDw8PCc6XG4gICAgICAgIHJldHVybiBJbXBvcnQoZmlyc3QsIHNlY29uZCwgb3AgPT09ICc8PDw8Jyk7XG4gICAgICBjYXNlICc8fCc6XG4gICAgICAgIHJldHVybiBCbG9jayhmaXJzdCkucGlwZShzZWNvbmQsIG9wKTtcbiAgICAgIGNhc2UgJ3w+JzpcbiAgICAgICAgcmV0dXJuIEJsb2NrKHNlY29uZCkucGlwZShmaXJzdCwgJzx8Jyk7XG4gICAgICBjYXNlICcuJzpcbiAgICAgIGNhc2UgJy5+JzpcbiAgICAgICAgcmV0dXJuIENoYWluKGZpcnN0KS5hZGQoSW5kZXgoc2Vjb25kLCBvcCkpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzJC5vcCA9IG9wO1xuICAgIHRoaXMkLmZpcnN0ID0gZmlyc3Q7XG4gICAgdGhpcyQuc2Vjb25kID0gc2Vjb25kO1xuICAgIHJldHVybiB0aGlzJDtcbiAgfSBmdW5jdGlvbiBjdG9yJCgpe30gY3RvciQucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY2hpbGRyZW4gPSBbJ2ZpcnN0JywgJ3NlY29uZCddO1xuICBwcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMub3A7XG4gIH07XG4gIHByb3RvdHlwZS5pc0NhbGxhYmxlID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVmJDtcbiAgICByZXR1cm4gdGhpcy5wYXJ0aWFsIHx8ICgocmVmJCA9IHRoaXMub3ApID09PSAnJiYnIHx8IHJlZiQgPT09ICd8fCcgfHwgcmVmJCA9PT0gJz8nIHx8IHJlZiQgPT09ICc8PCcgfHwgcmVmJCA9PT0gJz4+JykgJiYgdGhpcy5maXJzdC5pc0NhbGxhYmxlKCkgJiYgdGhpcy5zZWNvbmQuaXNDYWxsYWJsZSgpO1xuICB9O1xuICBwcm90b3R5cGUuaXNBcnJheSA9IGZ1bmN0aW9uKCl7XG4gICAgc3dpdGNoICh0aGlzLm9wKSB7XG4gICAgY2FzZSAnKic6XG4gICAgICByZXR1cm4gdGhpcy5maXJzdC5pc0FycmF5KCk7XG4gICAgY2FzZSAnLyc6XG4gICAgICByZXR1cm4gdGhpcy5zZWNvbmQuaXNNYXRjaGVyKCk7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuaXNTdHJpbmcgPSBmdW5jdGlvbigpe1xuICAgIHN3aXRjaCAodGhpcy5vcCkge1xuICAgIGNhc2UgJysnOlxuICAgIGNhc2UgJyonOlxuICAgICAgcmV0dXJuIHRoaXMuZmlyc3QuaXNTdHJpbmcoKSB8fCB0aGlzLnNlY29uZC5pc1N0cmluZygpO1xuICAgIGNhc2UgJy0nOlxuICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kLmlzTWF0Y2hlcigpO1xuICAgIH1cbiAgfTtcbiAgQ09NUEFSRVIgPSAvXig/OlshPV09fFs8Pl0pPT8kLztcbiAgSU5WRVJTSU9OUyA9IHtcbiAgICAnPT09JzogJyE9PScsXG4gICAgJyE9PSc6ICc9PT0nLFxuICAgICc9PSc6ICchPScsXG4gICAgJyE9JzogJz09J1xuICB9O1xuICBwcm90b3R5cGUuaW52ZXJ0ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgdGhhdDtcbiAgICBpZiAodGhhdCA9ICFDT01QQVJFUi50ZXN0KHRoaXMuc2Vjb25kLm9wKSAmJiBJTlZFUlNJT05TW3RoaXMub3BdKSB7XG4gICAgICB0aGlzLm9wID0gdGhhdDtcbiAgICAgIHRoaXMud2FzSW52ZXJ0ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBVbmFyeSgnIScsIFBhcmVucyh0aGlzKSwgdHJ1ZSk7XG4gIH07XG4gIHByb3RvdHlwZS5pbnZlcnRJdCA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5pbnZlcnRlZCA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHByb3RvdHlwZS5nZXREZWZhdWx0ID0gZnVuY3Rpb24oKXtcbiAgICBzd2l0Y2ggKHRoaXMub3ApIHtcbiAgICBjYXNlICc/JzpcbiAgICBjYXNlICd8fCc6XG4gICAgY2FzZSAnJiYnOlxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUueG9yQ2hpbGRyZW4gPSBmdW5jdGlvbih0ZXN0KXtcbiAgICB2YXIgcmVmJCwgcmVmMSQsIGZpcnN0O1xuICAgIGlmICghKCEocmVmJCA9IGZpcnN0ID0gdGVzdCh0aGlzLmZpcnN0KSkgIT09ICEocmVmMSQgPSB0ZXN0KHRoaXMuc2Vjb25kKSkgJiYgKHJlZiQgfHwgcmVmMSQpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZmlyc3RcbiAgICAgID8gW3RoaXMuZmlyc3QsIHRoaXMuc2Vjb25kXVxuICAgICAgOiBbdGhpcy5zZWNvbmQsIHRoaXMuZmlyc3RdO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgdG9wLCByaXRlLCBpdGVtcywgdGhhdCwgcmVmJCwgY29kZSwgbGV2ZWw7XG4gICAgaWYgKHRoaXMucGFydGlhbCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZVBhcnRpYWwobyk7XG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy5vcCkge1xuICAgIGNhc2UgJz8nOlxuICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZUV4aXN0ZW5jZShvKTtcbiAgICBjYXNlICcqJzpcbiAgICAgIGlmICh0aGlzLnNlY29uZC5pc1N0cmluZygpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVKb2luKG8pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZmlyc3QuaXNTdHJpbmcoKSB8fCB0aGlzLmZpcnN0LmlzQXJyYXkoKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21waWxlUmVwZWF0KG8pO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnLSc6XG4gICAgICBpZiAodGhpcy5zZWNvbmQuaXNNYXRjaGVyKCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZVJlbW92ZShvKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJy8nOlxuICAgICAgaWYgKHRoaXMuc2Vjb25kLmlzTWF0Y2hlcigpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVTcGxpdChvKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJyoqJzpcbiAgICBjYXNlICdeJzpcbiAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVQb3cobyk7XG4gICAgY2FzZSAnPD8nOlxuICAgIGNhc2UgJz4/JzpcbiAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVNaW5NYXgobyk7XG4gICAgY2FzZSAnPDwnOlxuICAgIGNhc2UgJz4+JzpcbiAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVDb21wb3NlKG8pO1xuICAgIGNhc2UgJysrJzpcbiAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVDb25jYXQobyk7XG4gICAgY2FzZSAnJSUnOlxuICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZU1vZChvKTtcbiAgICBjYXNlICd4b3InOlxuICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZVhvcihvKTtcbiAgICBjYXNlICcmJic6XG4gICAgY2FzZSAnfHwnOlxuICAgICAgaWYgKHRvcCA9IHRoaXNbJ3ZvaWQnXSB8fCAhby5sZXZlbCkge1xuICAgICAgICB0aGlzLnNlY29uZFsndm9pZCddID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0b3AgfHwgdGhpcy5jb25kKSB7XG4gICAgICAgIHRoaXMuZmlyc3QuY29uZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2Vjb25kLmNvbmQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW5zdGFuY2VvZic6XG4gICAgICByaXRlID0gdGhpcy5zZWNvbmQuZXhwYW5kU2xpY2UobykudW53cmFwKCksIGl0ZW1zID0gcml0ZS5pdGVtcztcbiAgICAgIGlmIChyaXRlIGluc3RhbmNlb2YgQXJyKSB7XG4gICAgICAgIGlmIChpdGVtc1sxXSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVBbnlJbnN0YW5jZU9mKG8sIGl0ZW1zKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlY29uZCA9IGl0ZW1zWzBdIHx8IHJpdGU7XG4gICAgICB9XG4gICAgICB0aGlzLnNlY29uZC5pc0NhbGxhYmxlKCkgfHwgdGhpcy5zZWNvbmQuY2FycCgnaW52YWxpZCBpbnN0YW5jZW9mIG9wZXJhbmQnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJz09PT0nOlxuICAgIGNhc2UgJyE9PT0nOlxuICAgICAgdGhpcy5vcCA9IHRoaXMub3Auc2xpY2UoMCwgMyk7XG4gICAgICAvLyBmYWxsdGhyb3VnaFxuICAgIGNhc2UgJzw9PSc6XG4gICAgY2FzZSAnPj09JzpcbiAgICBjYXNlICc8PD0nOlxuICAgIGNhc2UgJz4+PSc6XG4gICAgICByZXR1cm4gdGhpcy5jb21waWxlRGVlcEVxKG8pO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAoQ09NUEFSRVIudGVzdCh0aGlzLm9wKSkge1xuICAgICAgICBpZiAodGhhdCA9ICgocmVmJCA9IHRoaXMub3ApID09PSAnPT09JyB8fCByZWYkID09PSAnIT09JykgJiYgdGhpcy54b3JDaGlsZHJlbihmdW5jdGlvbihpdCl7XG4gICAgICAgICAgcmV0dXJuIGl0LmlzUmVnZXgoKTtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb21waWxlUmVnZXhFcXVhbHMobywgdGhhdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3AgPT09ICc9PT0nICYmICh0aGlzLmZpcnN0IGluc3RhbmNlb2YgTGl0ZXJhbCAmJiB0aGlzLnNlY29uZCBpbnN0YW5jZW9mIExpdGVyYWwpICYmIHRoaXMuZmlyc3QuaXNXaGF0KCkgIT09IHRoaXMuc2Vjb25kLmlzV2hhdCgpKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9ICd1bmRlZmluZWQnICYmIGNvbnNvbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIldBUk5JTkc6IHN0cmljdCBjb21wYXJpc29uIG9mIHR3byBkaWZmZXJlbnQgdHlwZXMgd2lsbCBhbHdheXMgYmUgZmFsc2U6IFwiICsgdGhpcy5maXJzdC52YWx1ZSArIFwiID09IFwiICsgdGhpcy5zZWNvbmQudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKENPTVBBUkVSLnRlc3QodGhpcy5vcCkgJiYgQ09NUEFSRVIudGVzdCh0aGlzLnNlY29uZC5vcCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZUNoYWluKG8pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmZpcnN0LmZyb250ID0gdGhpcy5mcm9udDtcbiAgICBjb2RlID0gdGhpcy5maXJzdC5jb21waWxlKG8sIGxldmVsID0gTEVWRUxfT1AgKyBQUkVDW3RoaXMub3BdKSArIFwiIFwiICsgdGhpcy5tYXBPcCh0aGlzLm9wKSArIFwiIFwiICsgdGhpcy5zZWNvbmQuY29tcGlsZShvLCBsZXZlbCk7XG4gICAgaWYgKG8ubGV2ZWwgPD0gbGV2ZWwpIHtcbiAgICAgIHJldHVybiBjb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCIoXCIgKyBjb2RlICsgXCIpXCI7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUubWFwT3AgPSBmdW5jdGlvbihvcCl7XG4gICAgdmFyIHRoYXQ7XG4gICAgc3dpdGNoIChmYWxzZSkge1xuICAgIGNhc2UgISh0aGF0ID0gb3AubWF0Y2goL1xcLihbJlxcfFxcXl18PDx8Pj4+PylcXC4vKSk6XG4gICAgICByZXR1cm4gdGhhdFsxXTtcbiAgICBjYXNlIG9wICE9PSAnb2YnOlxuICAgICAgcmV0dXJuICdpbic7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBvcDtcbiAgICB9XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlQ2hhaW4gPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgY29kZSwgbGV2ZWwsIHJlZiQsIHN1YjtcbiAgICBjb2RlID0gdGhpcy5maXJzdC5jb21waWxlKG8sIGxldmVsID0gTEVWRUxfT1AgKyBQUkVDW3RoaXMub3BdKTtcbiAgICByZWYkID0gdGhpcy5zZWNvbmQuZmlyc3QuY2FjaGUobywgdHJ1ZSksIHN1YiA9IHJlZiRbMF0sIHRoaXMuc2Vjb25kLmZpcnN0ID0gcmVmJFsxXTtcbiAgICBjb2RlICs9IFwiIFwiICsgdGhpcy5vcCArIFwiIFwiICsgc3ViLmNvbXBpbGUobywgbGV2ZWwpICsgXCIgJiYgXCIgKyB0aGlzLnNlY29uZC5jb21waWxlKG8sIExFVkVMX09QKTtcbiAgICBpZiAoby5sZXZlbCA8PSBMRVZFTF9PUCkge1xuICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIihcIiArIGNvZGUgKyBcIilcIjtcbiAgICB9XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlRXhpc3RlbmNlID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIHg7XG4gICAgaWYgKHRoaXNbJ3ZvaWQnXSB8fCAhby5sZXZlbCkge1xuICAgICAgeCA9IEJpbmFyeSgnJiYnLCBFeGlzdGVuY2UodGhpcy5maXJzdCwgdHJ1ZSksIHRoaXMuc2Vjb25kKTtcbiAgICAgIHJldHVybiAoeFsndm9pZCddID0gdHJ1ZSwgeCkuY29tcGlsZU5vZGUobyk7XG4gICAgfVxuICAgIHggPSB0aGlzLmZpcnN0LmNhY2hlKG8sIHRydWUpO1xuICAgIHJldHVybiBJZihFeGlzdGVuY2UoeFswXSksIHhbMV0pLmFkZEVsc2UodGhpcy5zZWNvbmQpLmNvbXBpbGVFeHByZXNzaW9uKG8pO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZUFueUluc3RhbmNlT2YgPSBmdW5jdGlvbihvLCBpdGVtcyl7XG4gICAgdmFyIHJlZiQsIHN1YiwgcmVmLCB0ZXN0LCBpJCwgbGVuJCwgaXRlbTtcbiAgICByZWYkID0gdGhpcy5maXJzdC5jYWNoZShvKSwgc3ViID0gcmVmJFswXSwgcmVmID0gcmVmJFsxXSwgdGhpcy50ZW1wcyA9IHJlZiRbMl07XG4gICAgdGVzdCA9IEJpbmFyeSgnaW5zdGFuY2VvZicsIHN1YiwgaXRlbXMuc2hpZnQoKSk7XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSBpdGVtcy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgaXRlbSA9IGl0ZW1zW2kkXTtcbiAgICAgIHRlc3QgPSBCaW5hcnkoJ3x8JywgdGVzdCwgQmluYXJ5KCdpbnN0YW5jZW9mJywgcmVmLCBpdGVtKSk7XG4gICAgfVxuICAgIHJldHVybiBQYXJlbnModGVzdCkuY29tcGlsZShvKTtcbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGVNaW5NYXggPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgbGVmdHMsIHJpdGVzLCB4O1xuICAgIGxlZnRzID0gdGhpcy5maXJzdC5jYWNoZShvLCB0cnVlKTtcbiAgICByaXRlcyA9IHRoaXMuc2Vjb25kLmNhY2hlKG8sIHRydWUpO1xuICAgIHggPSBCaW5hcnkodGhpcy5vcC5jaGFyQXQoKSwgbGVmdHNbMF0sIHJpdGVzWzBdKTtcbiAgICByZXR1cm4gSWYoeCwgbGVmdHNbMV0pLmFkZEVsc2Uocml0ZXNbMV0pLmNvbXBpbGVFeHByZXNzaW9uKG8pO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZU1ldGhvZCA9IGZ1bmN0aW9uKG8sIGtsYXNzLCBtZXRob2QsIGFyZyl7XG4gICAgdmFyIGFyZ3M7XG4gICAgYXJncyA9IFt0aGlzLnNlY29uZF0uY29uY2F0KGFyZyB8fCBbXSk7XG4gICAgaWYgKHRoaXMuZmlyc3RbXCJpc1wiICsga2xhc3NdKCkpIHtcbiAgICAgIHJldHVybiBDaGFpbih0aGlzLmZpcnN0LCBbSW5kZXgoS2V5KG1ldGhvZCkpLCBDYWxsKGFyZ3MpXSkuY29tcGlsZShvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXJncy51bnNoaWZ0KHRoaXMuZmlyc3QpO1xuICAgICAgcmV0dXJuIENhbGwubWFrZShKUyh1dGlsKG1ldGhvZCkgKyAnLmNhbGwnKSwgYXJncykuY29tcGlsZShvKTtcbiAgICB9XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlSm9pbiA9IGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gdGhpcy5jb21waWxlTWV0aG9kKGl0LCAnQXJyYXknLCAnam9pbicpO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZVJlbW92ZSA9IGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gdGhpcy5jb21waWxlTWV0aG9kKGl0LCAnU3RyaW5nJywgJ3JlcGxhY2UnLCBKUyhcIicnXCIpKTtcbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGVTcGxpdCA9IGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gdGhpcy5jb21waWxlTWV0aG9kKGl0LCAnU3RyaW5nJywgJ3NwbGl0Jyk7XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlUmVwZWF0ID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIHgsIG4sIGl0ZW1zLCBhcnIsIHRoYXQsIHJlZnMsIGkkLCBsZW4kLCBpLCBpdGVtLCByZWYkLCBxO1xuICAgIHggPSB0aGlzLmZpcnN0LCBuID0gdGhpcy5zZWNvbmQ7XG4gICAgaXRlbXMgPSAoeCA9IHguZXhwYW5kU2xpY2UobykudW53cmFwKCkpLml0ZW1zO1xuICAgIGFyciA9IHguaXNBcnJheSgpICYmICdBcnJheSc7XG4gICAgaWYgKHRoYXQgPSBpdGVtcyAmJiBTcGxhdC5jb21waWxlQXJyYXkobywgaXRlbXMpKSB7XG4gICAgICB4ID0gSlModGhhdCk7XG4gICAgICBpdGVtcyA9IG51bGw7XG4gICAgfVxuICAgIGlmIChhcnIgJiYgIWl0ZW1zIHx8ICEobiBpbnN0YW5jZW9mIExpdGVyYWwgJiYgbi52YWx1ZSA8IDB4MjApKSB7XG4gICAgICByZXR1cm4gQ2FsbC5tYWtlKFV0aWwoJ3JlcGVhdCcgKyAoYXJyIHx8ICdTdHJpbmcnKSksIFt4LCBuXSkuY29tcGlsZShvKTtcbiAgICB9XG4gICAgbiA9ICtuLnZhbHVlO1xuICAgIGlmICgxIDw9IG4gJiYgbiA8IDIpIHtcbiAgICAgIHJldHVybiB4LmNvbXBpbGUobyk7XG4gICAgfVxuICAgIGlmIChpdGVtcykge1xuICAgICAgaWYgKG4gPCAxKSB7XG4gICAgICAgIHJldHVybiBCbG9jayhpdGVtcykuYWRkKEpTKCdbXScpKS5jb21waWxlKG8pO1xuICAgICAgfVxuICAgICAgcmVmcyA9IFtdO1xuICAgICAgZm9yIChpJCA9IDAsIGxlbiQgPSBpdGVtcy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgICBpID0gaSQ7XG4gICAgICAgIGl0ZW0gPSBpdGVtc1tpJF07XG4gICAgICAgIHJlZiQgPSBpdGVtLmNhY2hlKG8sIDEpLCBpdGVtc1tpXSA9IHJlZiRbMF0sIHJlZnNbcmVmcy5sZW5ndGhdID0gcmVmJFsxXTtcbiAgICAgIH1cbiAgICAgIGl0ZW1zLnB1c2goKHJlZiQgPSBKUygpLCByZWYkLmNvbXBpbGUgPSBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gKHJlcGVhdFN0cmluZyQoXCIsIFwiICsgTGlzdC5jb21waWxlKG8sIHJlZnMpLCBuIC0gMSkpLnNsaWNlKDIpO1xuICAgICAgfSwgcmVmJCkpO1xuICAgICAgcmV0dXJuIHguY29tcGlsZShvKTtcbiAgICB9IGVsc2UgaWYgKHggaW5zdGFuY2VvZiBMaXRlcmFsKSB7XG4gICAgICByZXR1cm4gKHEgPSAoeCA9IHguY29tcGlsZShvKSkuY2hhckF0KCkpICsgcmVwZWF0U3RyaW5nJCh4LnNsaWNlKDEsIC0xKSArIFwiXCIsIG4pICsgcTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG4gPCAxKSB7XG4gICAgICAgIHJldHVybiBCbG9jayh4Lml0KS5hZGQoSlMoXCInJ1wiKSkuY29tcGlsZShvKTtcbiAgICAgIH1cbiAgICAgIHggPSAocmVmcyA9IHguY2FjaGUobywgMSwgTEVWRUxfT1ApKVswXSArIHJlcGVhdFN0cmluZyQoXCIgKyBcIiArIHJlZnNbMV0sIG4gLSAxKTtcbiAgICAgIGlmIChvLmxldmVsIDwgTEVWRUxfT1AgKyBQUkVDWycrJ10pIHtcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCIoXCIgKyB4ICsgXCIpXCI7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZVBvdyA9IGZ1bmN0aW9uKG8pe1xuICAgIHJldHVybiBDYWxsLm1ha2UoSlMoJ01hdGgucG93JyksIFt0aGlzLmZpcnN0LCB0aGlzLnNlY29uZF0pLmNvbXBpbGUobyk7XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlQ29uY2F0ID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIGY7XG4gICAgZiA9IGZ1bmN0aW9uKHgpe1xuICAgICAgc3dpdGNoIChmYWxzZSkge1xuICAgICAgY2FzZSAhKHggaW5zdGFuY2VvZiBCaW5hcnkgJiYgeC5vcCA9PT0gJysrJyk6XG4gICAgICAgIHJldHVybiBmKHguZmlyc3QpLmNvbmNhdChmKHguc2Vjb25kKSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gW3hdO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENoYWluKHRoaXMuZmlyc3QpLmFkZChJbmRleChLZXkoJ2NvbmNhdCcpLCAnLicsIHRydWUpKS5hZGQoQ2FsbChmKHRoaXMuc2Vjb25kKSkpLmNvbXBpbGUobyk7XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlQ29tcG9zZSA9IGZ1bmN0aW9uKG8pe1xuICAgIHZhciBvcCwgZnVuY3Rpb25zLCB4O1xuICAgIG9wID0gdGhpcy5vcDtcbiAgICBmdW5jdGlvbnMgPSBbdGhpcy5maXJzdF07XG4gICAgeCA9IHRoaXMuc2Vjb25kO1xuICAgIHdoaWxlICh4IGluc3RhbmNlb2YgQmluYXJ5ICYmIHgub3AgPT09IG9wKSB7XG4gICAgICBmdW5jdGlvbnMucHVzaCh4LmZpcnN0KTtcbiAgICAgIHggPSB4LnNlY29uZDtcbiAgICB9XG4gICAgZnVuY3Rpb25zLnB1c2goeCk7XG4gICAgaWYgKG9wID09PSAnPDwnKSB7XG4gICAgICBmdW5jdGlvbnMucmV2ZXJzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gQ2hhaW4oVmFyKHV0aWwoJ2NvbXBvc2UnKSkpLmFkZChDYWxsKGZ1bmN0aW9ucykpLmNvbXBpbGUobyk7XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlTW9kID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIHJlZiwgY29kZTtcbiAgICByZWYgPSBvLnNjb3BlLnRlbXBvcmFyeSgpO1xuICAgIGNvZGUgPSBcIigoKFwiICsgdGhpcy5maXJzdC5jb21waWxlKG8pICsgXCIpICUgKFwiICsgcmVmICsgXCIgPSBcIiArIHRoaXMuc2Vjb25kLmNvbXBpbGUobykgKyBcIikgKyBcIiArIHJlZiArIFwiKSAlIFwiICsgcmVmICsgXCIpXCI7XG4gICAgby5zY29wZS5mcmVlKHJlZik7XG4gICAgcmV0dXJuIGNvZGU7XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlUGFydGlhbCA9IGZ1bmN0aW9uKG8pe1xuICAgIHZhciB2aXQsIHgsIHk7XG4gICAgdml0ID0gVmFyKCdpdCcpO1xuICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICBjYXNlICEodGhpcy5maXJzdCA9PSBudWxsICYmIHRoaXMuc2Vjb25kID09IG51bGwpOlxuICAgICAgeCA9IFZhcigneCQnKTtcbiAgICAgIHkgPSBWYXIoJ3kkJyk7XG4gICAgICByZXR1cm4gRnVuKFt4LCB5XSwgQmxvY2soQmluYXJ5KHRoaXMub3AsIHgsIHkpLmludmVydENoZWNrKHRoaXMpKSwgZmFsc2UsIHRydWUpLmNvbXBpbGUobyk7XG4gICAgY2FzZSB0aGlzLmZpcnN0ID09IG51bGw6XG4gICAgICByZXR1cm4gXCIoXCIgKyBGdW4oW3ZpdF0sIEJsb2NrKEJpbmFyeSh0aGlzLm9wLCB0aGlzLmZpcnN0LCB2aXQpLmludmVydENoZWNrKHRoaXMpKSkuY29tcGlsZShvKSArIFwiKVwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCIoXCIgKyBGdW4oW3ZpdF0sIEJsb2NrKEJpbmFyeSh0aGlzLm9wLCB2aXQsIHRoaXMuc2Vjb25kKS5pbnZlcnRDaGVjayh0aGlzKSkpLmNvbXBpbGUobykgKyBcIilcIjtcbiAgICB9XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlUmVnZXhFcXVhbHMgPSBmdW5jdGlvbihvLCBhcmckKXtcbiAgICB2YXIgcmVnZXgsIHRhcmdldCwgbWV0aG9kO1xuICAgIHJlZ2V4ID0gYXJnJFswXSwgdGFyZ2V0ID0gYXJnJFsxXTtcbiAgICBpZiAodGhpcy5vcCA9PT0gJz09PScpIHtcbiAgICAgIG1ldGhvZCA9IHRoaXMud2FzSW52ZXJ0ZWQgPyAndGVzdCcgOiAnZXhlYyc7XG4gICAgICByZXR1cm4gQ2hhaW4ocmVnZXgpLmFkZChJbmRleChLZXkobWV0aG9kKSkpLmFkZChDYWxsKFt0YXJnZXRdKSkuY29tcGlsZShvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFVuYXJ5KCchJywgQ2hhaW4ocmVnZXgpLmFkZChJbmRleChLZXkoJ3Rlc3QnKSkpLmFkZChDYWxsKFt0YXJnZXRdKSkpLmNvbXBpbGUobyk7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZURlZXBFcSA9IGZ1bmN0aW9uKG8pe1xuICAgIHZhciByZWYkLCBuZWdhdGUsIGkkLCBsZW4kLCB4LCByO1xuICAgIGlmICgocmVmJCA9IHRoaXMub3ApID09PSAnPj09JyB8fCByZWYkID09PSAnPj49Jykge1xuICAgICAgcmVmJCA9IFt0aGlzLnNlY29uZCwgdGhpcy5maXJzdF0sIHRoaXMuZmlyc3QgPSByZWYkWzBdLCB0aGlzLnNlY29uZCA9IHJlZiRbMV07XG4gICAgICB0aGlzLm9wID0gdGhpcy5vcCA9PT0gJz49PScgPyAnPD09JyA6ICc8PD0nO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcCA9PT0gJyE9PScpIHtcbiAgICAgIHRoaXMub3AgPSAnPT09JztcbiAgICAgIG5lZ2F0ZSA9IHRydWU7XG4gICAgfVxuICAgIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSBbdGhpcy5maXJzdCwgdGhpcy5zZWNvbmRdKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgeCA9IHJlZiRbaSRdO1xuICAgICAgaWYgKHggaW5zdGFuY2VvZiBPYmogfHwgeCBpbnN0YW5jZW9mIEFycikge1xuICAgICAgICB4LmRlZXBFcSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHIgPSBDaGFpbihWYXIodXRpbCgnZGVlcEVxJykpKS5hZGQoQ2FsbChbdGhpcy5maXJzdCwgdGhpcy5zZWNvbmQsIExpdGVyYWwoXCInXCIgKyB0aGlzLm9wICsgXCInXCIpXSkpO1xuICAgIHJldHVybiAobmVnYXRlID8gVW5hcnkoJyEnLCByKSA6IHIpLmNvbXBpbGUobyk7XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlWG9yID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIGxlZnQsIHJpZ2h0O1xuICAgIGxlZnQgPSBDaGFpbih0aGlzLmZpcnN0KS5jYWNoZVJlZmVyZW5jZShvKTtcbiAgICByaWdodCA9IENoYWluKHRoaXMuc2Vjb25kKS5jYWNoZVJlZmVyZW5jZShvKTtcbiAgICByZXR1cm4gQmluYXJ5KCcmJicsIEJpbmFyeSgnIT09JywgVW5hcnkoJyEnLCBsZWZ0WzBdKSwgVW5hcnkoJyEnLCByaWdodFswXSkpLCBQYXJlbnMoQmluYXJ5KCd8fCcsIGxlZnRbMV0sIHJpZ2h0WzFdKSkpLmNvbXBpbGUobyk7XG4gIH07XG4gIHJldHVybiBCaW5hcnk7XG59KE5vZGUpKTtcbmV4cG9ydHMuQXNzaWduID0gQXNzaWduID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChBc3NpZ24sIHN1cGVyY2xhc3MpLmRpc3BsYXlOYW1lID0gJ0Fzc2lnbicsIEFzc2lnbiksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBBc3NpZ247XG4gIGZ1bmN0aW9uIEFzc2lnbihsZWZ0LCByaXRlLCBvcCwgbG9naWMsIGRlZlBhcmFtKXtcbiAgICB2YXIgdGhpcyQgPSB0aGlzIGluc3RhbmNlb2YgY3RvciQgPyB0aGlzIDogbmV3IGN0b3IkO1xuICAgIHRoaXMkLmxlZnQgPSBsZWZ0O1xuICAgIHRoaXMkLm9wID0gb3AgfHwgJz0nO1xuICAgIHRoaXMkLmxvZ2ljID0gbG9naWMgfHwgdGhpcyQub3AubG9naWM7XG4gICAgdGhpcyQuZGVmUGFyYW0gPSBkZWZQYXJhbTtcbiAgICB0aGlzJC5vcCArPSAnJztcbiAgICB0aGlzJFtyaXRlIGluc3RhbmNlb2YgTm9kZSA/ICdyaWdodCcgOiAndW5hcmllcyddID0gcml0ZTtcbiAgICByZXR1cm4gdGhpcyQ7XG4gIH0gZnVuY3Rpb24gY3RvciQoKXt9IGN0b3IkLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgcHJvdG90eXBlLmNoaWxkcmVuID0gWydsZWZ0JywgJ3JpZ2h0J107XG4gIHByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gW3ZvaWQgOF0uY29uY2F0KHRoaXMudW5hcmllcykucmV2ZXJzZSgpLmpvaW4oJyAnKSArIFt0aGlzLmxvZ2ljXSArIHRoaXMub3A7XG4gIH07XG4gIHByb3RvdHlwZS5hc3NpZ25zID0gZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiB0aGlzLmxlZnQuYXNzaWducyhpdCk7XG4gIH07XG4gIHByb3RvdHlwZS5kZWxlZ2F0ZShbJ2lzQ2FsbGFibGUnLCAnaXNSZWdleCddLCBmdW5jdGlvbihpdCl7XG4gICAgdmFyIHJlZiQ7XG4gICAgcmV0dXJuICgocmVmJCA9IHRoaXMub3ApID09PSAnPScgfHwgcmVmJCA9PT0gJzo9JykgJiYgdGhpcy5yaWdodFtpdF0oKTtcbiAgfSk7XG4gIHByb3RvdHlwZS5pc0FycmF5ID0gZnVuY3Rpb24oKXtcbiAgICBzd2l0Y2ggKHRoaXMub3ApIHtcbiAgICBjYXNlICc9JzpcbiAgICBjYXNlICc6PSc6XG4gICAgICByZXR1cm4gdGhpcy5yaWdodC5pc0FycmF5KCk7XG4gICAgY2FzZSAnLz0nOlxuICAgICAgcmV0dXJuIHRoaXMucmlnaHQuaXNNYXRjaGVyKCk7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuaXNTdHJpbmcgPSBmdW5jdGlvbigpe1xuICAgIHN3aXRjaCAodGhpcy5vcCkge1xuICAgIGNhc2UgJz0nOlxuICAgIGNhc2UgJzo9JzpcbiAgICBjYXNlICcrPSc6XG4gICAgY2FzZSAnKj0nOlxuICAgICAgcmV0dXJuIHRoaXMucmlnaHQuaXNTdHJpbmcoKTtcbiAgICBjYXNlICctPSc6XG4gICAgICByZXR1cm4gdGhpcy5yaWdodC5pc01hdGNoZXIoKTtcbiAgICB9XG4gIH07XG4gIHByb3RvdHlwZS51bmZvbGRTb2FrID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIHRoYXQsIHJlZiQsIHJlZjEkLCByaXRlLCB0ZW1wcztcbiAgICBpZiAodGhpcy5sZWZ0IGluc3RhbmNlb2YgRXhpc3RlbmNlKSB7XG4gICAgICBpZiAodGhhdCA9IChyZWYxJCA9IChyZWYkID0gdGhpcy5sZWZ0ID0gdGhpcy5sZWZ0Lml0KS5uYW1lLCBkZWxldGUgcmVmJC5uYW1lLCByZWYxJCkpIHtcbiAgICAgICAgcml0ZSA9IHRoaXMucmlnaHQ7XG4gICAgICAgIHJpdGUgPSBBc3NpZ24odGhpcy5yaWdodCA9IFZhcih0aGF0KSwgcml0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWYkID0gdGhpcy5yaWdodC5jYWNoZShvKSwgcml0ZSA9IHJlZiRbMF0sIHRoaXMucmlnaHQgPSByZWYkWzFdLCB0ZW1wcyA9IHJlZiRbMl07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVmJCA9IElmKEV4aXN0ZW5jZShyaXRlKSwgdGhpcyksIHJlZiQudGVtcHMgPSB0ZW1wcywgcmVmJC5jb25kID0gdGhpcy5jb25kLCByZWYkWyd2b2lkJ10gPSB0aGlzWyd2b2lkJ10sIHJlZiQ7XG4gICAgfVxuICAgIHJldHVybiBJZi51bmZvbGRTb2FrKG8sIHRoaXMsICdsZWZ0Jyk7XG4gIH07XG4gIHByb3RvdHlwZS51bmZvbGRBc3NpZ24gPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLmFjY2VzcyAmJiB0aGlzO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgbGVmdCwgcmVmJCwgaSQsIGxlbiQsIG9wLCByaWdodCwgcmVmdCwgc2lnbiwgbmFtZSwgbHZhciwgdGhhdCwgcHJvdG9TcGxpdCwgZG90U3BsaXQsIGNvZGUsIGVtcHR5LCByZXM7XG4gICAgaWYgKHRoaXMubGVmdCBpbnN0YW5jZW9mIFNsaWNlICYmIHRoaXMub3AgPT09ICc9Jykge1xuICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZVNwbGljZShvKTtcbiAgICB9XG4gICAgbGVmdCA9IHRoaXMubGVmdC5leHBhbmRTbGljZShvLCB0cnVlKS51bndyYXAoKTtcbiAgICBpZiAoIXRoaXMucmlnaHQpIHtcbiAgICAgIGxlZnQuaXNBc3NpZ25hYmxlKCkgfHwgbGVmdC5jYXJwKCdpbnZhbGlkIHVuYXJ5IGFzc2lnbicpO1xuICAgICAgcmVmJCA9IENoYWluKGxlZnQpLmNhY2hlUmVmZXJlbmNlKG8pLCBsZWZ0ID0gcmVmJFswXSwgdGhpcy5yaWdodCA9IHJlZiRbMV07XG4gICAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gdGhpcy51bmFyaWVzKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgICBvcCA9IHJlZiRbaSRdO1xuICAgICAgICB0aGlzLnJpZ2h0ID0gVW5hcnkob3AsIHRoaXMucmlnaHQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobGVmdC5pc0VtcHR5KCkpIHtcbiAgICAgIHJldHVybiAocmVmJCA9IFBhcmVucyh0aGlzLnJpZ2h0KSwgcmVmJC5mcm9udCA9IHRoaXMuZnJvbnQsIHJlZiQubmV3ZWQgPSB0aGlzLm5ld2VkLCByZWYkKS5jb21waWxlKG8pO1xuICAgIH1cbiAgICBpZiAobGVmdC5nZXREZWZhdWx0KCkpIHtcbiAgICAgIHRoaXMucmlnaHQgPSBCaW5hcnkobGVmdC5vcCwgdGhpcy5yaWdodCwgbGVmdC5zZWNvbmQpO1xuICAgICAgbGVmdCA9IGxlZnQuZmlyc3Q7XG4gICAgfVxuICAgIGlmIChsZWZ0Lml0ZW1zKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb21waWxlRGVzdHJ1Y3R1cmluZyhvLCBsZWZ0KTtcbiAgICB9XG4gICAgbGVmdC5pc0Fzc2lnbmFibGUoKSB8fCBsZWZ0LmNhcnAoJ2ludmFsaWQgYXNzaWduJyk7XG4gICAgaWYgKHRoaXMubG9naWMpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVDb25kaXRpb25hbChvLCBsZWZ0KTtcbiAgICB9XG4gICAgb3AgPSB0aGlzLm9wLCByaWdodCA9IHRoaXMucmlnaHQ7XG4gICAgaWYgKG9wID09PSAnPD89JyB8fCBvcCA9PT0gJz4/PScpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVNaW5NYXgobywgbGVmdCwgcmlnaHQpO1xuICAgIH1cbiAgICBpZiAoKG9wID09PSAnKio9JyB8fCBvcCA9PT0gJ149JyB8fCBvcCA9PT0gJyUlPScgfHwgb3AgPT09ICcrKz0nIHx8IG9wID09PSAnfD49JykgfHwgb3AgPT09ICcqPScgJiYgcmlnaHQuaXNTdHJpbmcoKSB8fCAob3AgPT09ICctPScgfHwgb3AgPT09ICcvPScpICYmIHJpZ2h0LmlzTWF0Y2hlcigpKSB7XG4gICAgICByZWYkID0gQ2hhaW4obGVmdCkuY2FjaGVSZWZlcmVuY2UobyksIGxlZnQgPSByZWYkWzBdLCByZWZ0ID0gcmVmJFsxXTtcbiAgICAgIHJpZ2h0ID0gQmluYXJ5KG9wLnNsaWNlKDAsIC0xKSwgcmVmdCwgcmlnaHQpO1xuICAgICAgb3AgPSAnOj0nO1xuICAgIH1cbiAgICBpZiAob3AgPT09ICcuJi49JyB8fCBvcCA9PT0gJy58Lj0nIHx8IG9wID09PSAnLl4uPScgfHwgb3AgPT09ICcuPDwuPScgfHwgb3AgPT09ICcuPj4uPScgfHwgb3AgPT09ICcuPj4+Lj0nKSB7XG4gICAgICBvcCA9IG9wLnNsaWNlKDEsIC0yKSArICc9JztcbiAgICB9XG4gICAgKHJpZ2h0ID0gcmlnaHQudW5wYXJlbigpKS5yaXBOYW1lKGxlZnQgPSBsZWZ0LnVud3JhcCgpKTtcbiAgICBzaWduID0gb3AucmVwbGFjZSgnOicsICcnKTtcbiAgICBuYW1lID0gKGxlZnQuZnJvbnQgPSB0cnVlLCBsZWZ0KS5jb21waWxlKG8sIExFVkVMX0xJU1QpO1xuICAgIGlmIChsdmFyID0gbGVmdCBpbnN0YW5jZW9mIFZhcikge1xuICAgICAgaWYgKG9wID09PSAnPScpIHtcbiAgICAgICAgby5zY29wZS5kZWNsYXJlKG5hbWUsIGxlZnQsIHRoaXNbJ2NvbnN0J10gfHwgIXRoaXMuZGVmUGFyYW0gJiYgb1snY29uc3QnXSAmJiAnJCcgIT09IG5hbWUuc2xpY2UoLTEpKTtcbiAgICAgIH0gZWxzZSBpZiAodGhhdCA9IG8uc2NvcGUuY2hlY2tSZWFkT25seShuYW1lKSkge1xuICAgICAgICBsZWZ0LmNhcnAoXCJhc3NpZ25tZW50IHRvIFwiICsgdGhhdCArIFwiIFxcXCJcIiArIG5hbWUgKyBcIlxcXCJcIiwgUmVmZXJlbmNlRXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobGVmdCBpbnN0YW5jZW9mIENoYWluICYmIHJpZ2h0IGluc3RhbmNlb2YgRnVuKSB7XG4gICAgICBwcm90b1NwbGl0ID0gbmFtZS5zcGxpdCgnLnByb3RvdHlwZS4nKTtcbiAgICAgIGRvdFNwbGl0ID0gbmFtZS5zcGxpdCgnLicpO1xuICAgICAgaWYgKHByb3RvU3BsaXQubGVuZ3RoID4gMSkge1xuICAgICAgICByaWdodC5pbkNsYXNzID0gcHJvdG9TcGxpdFswXTtcbiAgICAgIH0gZWxzZSBpZiAoZG90U3BsaXQubGVuZ3RoID4gMSkge1xuICAgICAgICByaWdodC5pbkNsYXNzU3RhdGljID0gc2xpY2UkLmNhbGwoZG90U3BsaXQsIDAsIC0xKS5qb2luKCcnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29kZSA9ICFvLmxldmVsICYmIHJpZ2h0IGluc3RhbmNlb2YgV2hpbGUgJiYgIXJpZ2h0WydlbHNlJ10gJiYgKGx2YXIgfHwgbGVmdCBpbnN0YW5jZW9mIENoYWluICYmIGxlZnQuaXNTaW1wbGVBY2Nlc3MoKSlcbiAgICAgID8gKGVtcHR5ID0gcmlnaHQub2JqQ29tcCA/ICd7fScgOiAnW10nLCAocmVzID0gby5zY29wZS50ZW1wb3JhcnkoJ3JlcycpKSArIFwiID0gXCIgKyBlbXB0eSArIFwiO1xcblwiICsgdGhpcy50YWIgKyByaWdodC5tYWtlUmV0dXJuKHJlcykuY29tcGlsZShvKSArIFwiXFxuXCIgKyB0aGlzLnRhYiArIG5hbWUgKyBcIiBcIiArIHNpZ24gKyBcIiBcIiArIG8uc2NvcGUuZnJlZShyZXMpKVxuICAgICAgOiAobmFtZSArIFwiIFwiICsgc2lnbiArIFwiIFwiKSArIHJpZ2h0LmNvbXBpbGUobywgTEVWRUxfTElTVCk7XG4gICAgaWYgKG8ubGV2ZWwgPiBMRVZFTF9MSVNUKSB7XG4gICAgICBjb2RlID0gXCIoXCIgKyBjb2RlICsgXCIpXCI7XG4gICAgfVxuICAgIHJldHVybiBjb2RlO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZUNvbmRpdGlvbmFsID0gZnVuY3Rpb24obywgbGVmdCl7XG4gICAgdmFyIGxlZnRzLCBtb3JwaDtcbiAgICBpZiAobGVmdCBpbnN0YW5jZW9mIFZhciAmJiBpbiQodGhpcy5sb2dpYywgWyc/J10pICYmIHRoaXMub3AgPT09ICc9Jykge1xuICAgICAgby5zY29wZS5kZWNsYXJlKGxlZnQudmFsdWUsIGxlZnQpO1xuICAgIH1cbiAgICBsZWZ0cyA9IENoYWluKGxlZnQpLmNhY2hlUmVmZXJlbmNlKG8pO1xuICAgIG8ubGV2ZWwgKz0gTEVWRUxfT1AgPCBvLmxldmVsO1xuICAgIG1vcnBoID0gQmluYXJ5KHRoaXMubG9naWMsIGxlZnRzWzBdLCAodGhpcy5sb2dpYyA9IGZhbHNlLCB0aGlzLmxlZnQgPSBsZWZ0c1sxXSwgdGhpcykpO1xuICAgIHJldHVybiAobW9ycGhbJ3ZvaWQnXSA9IHRoaXNbJ3ZvaWQnXSwgbW9ycGgpLmNvbXBpbGVOb2RlKG8pO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZU1pbk1heCA9IGZ1bmN0aW9uKG8sIGxlZnQsIHJpZ2h0KXtcbiAgICB2YXIgbGVmdHMsIHJpdGVzLCB0ZXN0LCBwdXQsIHJlZiQ7XG4gICAgbGVmdHMgPSBDaGFpbihsZWZ0KS5jYWNoZVJlZmVyZW5jZShvKTtcbiAgICByaXRlcyA9IHJpZ2h0LmNhY2hlKG8sIHRydWUpO1xuICAgIHRlc3QgPSBCaW5hcnkodGhpcy5vcC5yZXBsYWNlKCc/JywgJycpLCBsZWZ0c1swXSwgcml0ZXNbMF0pO1xuICAgIHB1dCA9IEFzc2lnbihsZWZ0c1sxXSwgcml0ZXNbMV0sICc6PScpO1xuICAgIGlmICh0aGlzWyd2b2lkJ10gfHwgIW8ubGV2ZWwpIHtcbiAgICAgIHJldHVybiBQYXJlbnMoQmluYXJ5KCd8fCcsIHRlc3QsIHB1dCkpLmNvbXBpbGUobyk7XG4gICAgfVxuICAgIHJlZiQgPSB0ZXN0LmZpcnN0LmNhY2hlKG8sIHRydWUpLCB0ZXN0LmZpcnN0ID0gcmVmJFswXSwgbGVmdCA9IHJlZiRbMV07XG4gICAgcmV0dXJuIElmKHRlc3QsIGxlZnQpLmFkZEVsc2UocHV0KS5jb21waWxlRXhwcmVzc2lvbihvKTtcbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGVEZXN0cnVjdHVyaW5nID0gZnVuY3Rpb24obywgbGVmdCl7XG4gICAgdmFyIGl0ZW1zLCBsZW4sIHJldCwgcml0ZSwgdGhhdCwgY2FjaGUsIHJyZWYsIGxpc3QsIGNvZGU7XG4gICAgaXRlbXMgPSBsZWZ0Lml0ZW1zLCBsZW4gPSBpdGVtcy5sZW5ndGg7XG4gICAgcmV0ID0gby5sZXZlbCAmJiAhdGhpc1sndm9pZCddO1xuICAgIHJpdGUgPSB0aGlzLnJpZ2h0LmNvbXBpbGUobywgbGVuID09PSAxID8gTEVWRUxfQ0FMTCA6IExFVkVMX0xJU1QpO1xuICAgIGlmICh0aGF0ID0gbGVmdC5uYW1lKSB7XG4gICAgICBjYWNoZSA9IHRoYXQgKyBcIiA9IFwiICsgcml0ZTtcbiAgICAgIG8uc2NvcGUuZGVjbGFyZShyaXRlID0gdGhhdCwgbGVmdCk7XG4gICAgfSBlbHNlIGlmICgocmV0IHx8IGxlbiA+IDEpICYmICghSUQudGVzdChyaXRlKSB8fCBsZWZ0LmFzc2lnbnMocml0ZSkpKSB7XG4gICAgICBjYWNoZSA9IChycmVmID0gby5zY29wZS50ZW1wb3JhcnkoKSkgKyBcIiA9IFwiICsgcml0ZTtcbiAgICAgIHJpdGUgPSBycmVmO1xuICAgIH1cbiAgICBsaXN0ID0gdGhpc1tcInJlbmRcIiArIGxlZnQuY29uc3RydWN0b3IuZGlzcGxheU5hbWVdKG8sIGl0ZW1zLCByaXRlKTtcbiAgICBpZiAocnJlZikge1xuICAgICAgby5zY29wZS5mcmVlKHJyZWYpO1xuICAgIH1cbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgIGxpc3QudW5zaGlmdChjYWNoZSk7XG4gICAgfVxuICAgIGlmIChyZXQgfHwgIWxpc3QubGVuZ3RoKSB7XG4gICAgICBsaXN0LnB1c2gocml0ZSk7XG4gICAgfVxuICAgIGNvZGUgPSBsaXN0LmpvaW4oJywgJyk7XG4gICAgaWYgKGxpc3QubGVuZ3RoIDwgMiB8fCBvLmxldmVsIDwgTEVWRUxfTElTVCkge1xuICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIihcIiArIGNvZGUgKyBcIilcIjtcbiAgICB9XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlU3BsaWNlID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIHJlZiQsIGZyb21FeHBOb2RlLCBmcm9tRXhwLCByaWdodE5vZGUsIHJpZ2h0LCB0b0V4cDtcbiAgICByZWYkID0gQ2hhaW4odGhpcy5sZWZ0LmZyb20pLmNhY2hlUmVmZXJlbmNlKG8pLCBmcm9tRXhwTm9kZSA9IHJlZiRbMF0sIGZyb21FeHAgPSByZWYkWzFdO1xuICAgIHJlZiQgPSBDaGFpbih0aGlzLnJpZ2h0KS5jYWNoZVJlZmVyZW5jZShvKSwgcmlnaHROb2RlID0gcmVmJFswXSwgcmlnaHQgPSByZWYkWzFdO1xuICAgIHRvRXhwID0gQmluYXJ5KCctJywgdGhpcy5sZWZ0LnRvLCBmcm9tRXhwKTtcbiAgICByZXR1cm4gQmxvY2soW0NoYWluKFZhcih1dGlsKCdzcGxpY2UnKSkpLmFkZChJbmRleChLZXkoJ2FwcGx5JyksICcuJywgdHJ1ZSkpLmFkZChDYWxsKFt0aGlzLmxlZnQudGFyZ2V0LCBDaGFpbihBcnIoW2Zyb21FeHBOb2RlLCB0b0V4cF0pKS5hZGQoSW5kZXgoS2V5KCdjb25jYXQnKSwgJy4nLCB0cnVlKSkuYWRkKENhbGwoW3JpZ2h0Tm9kZV0pKV0pKSwgcmlnaHRdKS5jb21waWxlKG8sIExFVkVMX0xJU1QpO1xuICB9O1xuICBwcm90b3R5cGUucmVuZEFyciA9IGZ1bmN0aW9uKG8sIG5vZGVzLCByaXRlKXtcbiAgICB2YXIgaSQsIGxlbiQsIGksIG5vZGUsIHNraXAsIGxlbiwgdmFsLCBpdmFyLCBzdGFydCwgaW5jLCByY2FjaGUsIHJlZiQsIHJlc3VsdHMkID0gW107XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSBub2Rlcy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgaSA9IGkkO1xuICAgICAgbm9kZSA9IG5vZGVzW2kkXTtcbiAgICAgIGlmIChub2RlLmlzRW1wdHkoKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgU3BsYXQpIHtcbiAgICAgICAgbGVuICYmIG5vZGUuY2FycCgnbXVsdGlwbGUgc3BsYXQgaW4gYW4gYXNzaWdubWVudCcpO1xuICAgICAgICBza2lwID0gKG5vZGUgPSBub2RlLml0KS5pc0VtcHR5KCk7XG4gICAgICAgIGlmIChpICsgMSA9PT0gKGxlbiA9IG5vZGVzLmxlbmd0aCkpIHtcbiAgICAgICAgICBpZiAoc2tpcCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbCA9IEFyci53cmFwKEpTKHV0aWwoJ3NsaWNlJykgKyAnLmNhbGwoJyArIHJpdGUgKyAoaSA/IFwiLCBcIiArIGkgKyBcIilcIiA6ICcpJykpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWwgPSBpdmFyID0gcml0ZSArIFwiLmxlbmd0aCAtIFwiICsgKGxlbiAtIGkgLSAxKTtcbiAgICAgICAgICBpZiAoc2tpcCAmJiBpICsgMiA9PT0gbGVuKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICB0aGlzLnRlbXBzID0gW2l2YXIgPSBvLnNjb3BlLnRlbXBvcmFyeSgnaScpXTtcbiAgICAgICAgICB2YWwgPSBza2lwXG4gICAgICAgICAgICA/IChub2RlID0gVmFyKGl2YXIpLCBWYXIodmFsKSlcbiAgICAgICAgICAgIDogQXJyLndyYXAoSlMoaSArIFwiIDwgKFwiICsgaXZhciArIFwiID0gXCIgKyB2YWwgKyBcIilcXCA/IFwiICsgdXRpbCgnc2xpY2UnKSArIFwiLmNhbGwoXCIgKyByaXRlICsgXCIsIFwiICsgaSArIFwiLCBcIiArIGl2YXIgKyBcIilcXCA6IChcIiArIGl2YXIgKyBcIiA9IFwiICsgaSArIFwiLCBbXSlcIikpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoaW5jID0gaXZhcikgJiYgc3RhcnQgPCBpICYmIChpbmMgKz0gXCIgKyBcIiArIChpIC0gc3RhcnQpKTtcbiAgICAgICAgdmFsID0gQ2hhaW4ocmNhY2hlIHx8IChyY2FjaGUgPSBMaXRlcmFsKHJpdGUpKSwgW0luZGV4KEpTKGluYyB8fCBpKSldKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQXNzaWduKSB7XG4gICAgICAgIG5vZGUgPSBCaW5hcnkobm9kZS5vcCwgbm9kZS5sZWZ0LCBub2RlLnJpZ2h0LCBub2RlLmxvZ2ljIHx8IHRydWUpO1xuICAgICAgfVxuICAgICAgcmVzdWx0cyQucHVzaCgocmVmJCA9IGNsb25lJCh0aGlzKSwgcmVmJC5sZWZ0ID0gbm9kZSwgcmVmJC5yaWdodCA9IHZhbCwgcmVmJFsndm9pZCddID0gdHJ1ZSwgcmVmJCkuY29tcGlsZShvLCBMRVZFTF9QQVJFTikpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cyQ7XG4gIH07XG4gIHByb3RvdHlwZS5yZW5kT2JqID0gZnVuY3Rpb24obywgbm9kZXMsIHJpdGUpe1xuICAgIHZhciBpJCwgbGVuJCwgbm9kZSwgc3BsYXQsIGxvZ2ljLCByZWYkLCBrZXksIHZhbCwgcmNhY2hlLCByZXN1bHRzJCA9IFtdO1xuICAgIGZvciAoaSQgPSAwLCBsZW4kID0gbm9kZXMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIG5vZGUgPSBub2Rlc1tpJF07XG4gICAgICBpZiAoc3BsYXQgPSBub2RlIGluc3RhbmNlb2YgU3BsYXQpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUuaXQ7XG4gICAgICB9XG4gICAgICBpZiAobG9naWMgPSBub2RlLmdldERlZmF1bHQoKSkge1xuICAgICAgICBub2RlID0gbm9kZS5maXJzdDtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgUGFyZW5zKSB7XG4gICAgICAgIHJlZiQgPSBDaGFpbihub2RlLml0KS5jYWNoZVJlZmVyZW5jZShvKSwgbm9kZSA9IHJlZiRbMF0sIGtleSA9IHJlZiRbMV07XG4gICAgICB9IGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBQcm9wKSB7XG4gICAgICAgIG5vZGUgPSAoa2V5ID0gbm9kZS5rZXksIG5vZGUpLnZhbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGtleSA9IG5vZGU7XG4gICAgICB9XG4gICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEtleSkge1xuICAgICAgICBub2RlID0gVmFyKG5vZGUubmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAobG9naWMpIHtcbiAgICAgICAgbm9kZSA9IChsb2dpYy5maXJzdCA9IG5vZGUsIGxvZ2ljKTtcbiAgICAgIH1cbiAgICAgIHZhbCA9IENoYWluKHJjYWNoZSB8fCAocmNhY2hlID0gVmFyKHJpdGUpKSwgW0luZGV4KGtleS5tYXliZUtleSgpKV0pO1xuICAgICAgaWYgKHNwbGF0KSB7XG4gICAgICAgIHZhbCA9IEltcG9ydChPYmooKSwgdmFsKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdHMkLnB1c2goKHJlZiQgPSBjbG9uZSQodGhpcyksIHJlZiQubGVmdCA9IG5vZGUsIHJlZiQucmlnaHQgPSB2YWwsIHJlZiRbJ3ZvaWQnXSA9IHRydWUsIHJlZiQpLmNvbXBpbGUobywgTEVWRUxfUEFSRU4pKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHMkO1xuICB9O1xuICByZXR1cm4gQXNzaWduO1xufShOb2RlKSk7XG5leHBvcnRzLkltcG9ydCA9IEltcG9ydCA9IChmdW5jdGlvbihzdXBlcmNsYXNzKXtcbiAgdmFyIHByb3RvdHlwZSA9IGV4dGVuZCQoKGltcG9ydCQoSW1wb3J0LCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdJbXBvcnQnLCBJbXBvcnQpLCBzdXBlcmNsYXNzKS5wcm90b3R5cGUsIGNvbnN0cnVjdG9yID0gSW1wb3J0O1xuICBmdW5jdGlvbiBJbXBvcnQobGVmdCwgcmlnaHQsIGFsbCl7XG4gICAgdmFyIHRoaXMkID0gdGhpcyBpbnN0YW5jZW9mIGN0b3IkID8gdGhpcyA6IG5ldyBjdG9yJDtcbiAgICB0aGlzJC5sZWZ0ID0gbGVmdDtcbiAgICB0aGlzJC5yaWdodCA9IHJpZ2h0O1xuICAgIHRoaXMkLmFsbCA9IGFsbCAmJiAnQWxsJztcbiAgICBpZiAoIWFsbCAmJiBsZWZ0IGluc3RhbmNlb2YgT2JqICYmIHJpZ2h0Lml0ZW1zKSB7XG4gICAgICByZXR1cm4gT2JqKGxlZnQuaXRlbXMuY29uY2F0KHJpZ2h0LmFzT2JqKCkuaXRlbXMpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMkO1xuICB9IGZ1bmN0aW9uIGN0b3IkKCl7fSBjdG9yJC5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gIHByb3RvdHlwZS5jaGlsZHJlbiA9IFsnbGVmdCcsICdyaWdodCddO1xuICBwcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMuYWxsO1xuICB9O1xuICBwcm90b3R5cGUuZGVsZWdhdGUoWydpc0NhbGxhYmxlJywgJ2lzQXJyYXknXSwgZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiB0aGlzLmxlZnRbaXRdKCk7XG4gIH0pO1xuICBwcm90b3R5cGUudW5mb2xkU29hayA9IGZ1bmN0aW9uKG8pe1xuICAgIHZhciBsZWZ0LCB2YWx1ZSwgcmVmJCwgdGVtcHM7XG4gICAgbGVmdCA9IHRoaXMubGVmdDtcbiAgICBpZiAobGVmdCBpbnN0YW5jZW9mIEV4aXN0ZW5jZSAmJiAhbGVmdC5uZWdhdGVkKSB7XG4gICAgICBpZiAoKGxlZnQgPSBsZWZ0Lml0KSBpbnN0YW5jZW9mIFZhcikge1xuICAgICAgICB2YWx1ZSA9ICh0aGlzLmxlZnQgPSBsZWZ0KS52YWx1ZTtcbiAgICAgICAgaWYgKCFvLnNjb3BlLmNoZWNrKHZhbHVlLCB0cnVlKSkge1xuICAgICAgICAgIGxlZnQgPSBKUyhcInR5cGVvZiBcIiArIHZhbHVlICsgXCIgIT0gJ3VuZGVmaW5lZCcgJiYgXCIgKyB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlZiQgPSBsZWZ0LmNhY2hlKG8pLCBsZWZ0ID0gcmVmJFswXSwgdGhpcy5sZWZ0ID0gcmVmJFsxXSwgdGVtcHMgPSByZWYkWzJdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlZiQgPSBJZihsZWZ0LCB0aGlzKSwgcmVmJC50ZW1wcyA9IHRlbXBzLCByZWYkLnNvYWsgPSB0cnVlLCByZWYkLmNvbmQgPSB0aGlzLmNvbmQsIHJlZiRbJ3ZvaWQnXSA9IHRoaXNbJ3ZvaWQnXSwgcmVmJDtcbiAgICB9XG4gICAgcmV0dXJuIElmLnVuZm9sZFNvYWsobywgdGhpcywgJ2xlZnQnKSB8fCAodGhpc1sndm9pZCddIHx8ICFvLmxldmVsKSAmJiBJZi51bmZvbGRTb2FrKG8sIHRoaXMsICdyaWdodCcpO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgcmlnaHQ7XG4gICAgcmlnaHQgPSB0aGlzLnJpZ2h0O1xuICAgIGlmICghdGhpcy5hbGwpIHtcbiAgICAgIGlmIChyaWdodCBpbnN0YW5jZW9mIENoYWluKSB7XG4gICAgICAgIHJpZ2h0ID0gcmlnaHQudW5mb2xkU29hayhvKSB8fCByaWdodC51bmZvbGRBc3NpZ24obykgfHwgcmlnaHQuZXhwYW5kU2xpY2UobykudW53cmFwKCk7XG4gICAgICB9XG4gICAgICBpZiAocmlnaHQgaW5zdGFuY2VvZiBMaXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVBc3NpZ24obywgcmlnaHQuYXNPYmooKS5pdGVtcyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBDYWxsLm1ha2UoVXRpbChcImltcG9ydFwiICsgKHRoaXMuYWxsIHx8ICcnKSksIFt0aGlzLmxlZnQsIHJpZ2h0XSkuY29tcGlsZU5vZGUobyk7XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlQXNzaWduID0gZnVuY3Rpb24obywgaXRlbXMpe1xuICAgIHZhciB0b3AsIHJlZnQsIHJlZiQsIGxlZnQsIGRlbGltLCBzcGFjZSwgY29kZSwgaSQsIGxlbiQsIGksIG5vZGUsIGNvbSwgbG9naWMsIGR5bmEsIGtleSwgdmFsO1xuICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZWZ0LmNvbXBpbGUobyk7XG4gICAgfVxuICAgIHRvcCA9ICFvLmxldmVsO1xuICAgIGlmIChpdGVtcy5sZW5ndGggPCAyICYmICh0b3AgfHwgdGhpc1sndm9pZCddIHx8IGl0ZW1zWzBdIGluc3RhbmNlb2YgU3BsYXQpKSB7XG4gICAgICByZWZ0ID0gdGhpcy5sZWZ0O1xuICAgICAgaWYgKHJlZnQuaXNDb21wbGV4KCkpIHtcbiAgICAgICAgcmVmdCA9IFBhcmVucyhyZWZ0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVmJCA9IHRoaXMubGVmdC5jYWNoZShvKSwgbGVmdCA9IHJlZiRbMF0sIHJlZnQgPSByZWYkWzFdLCB0aGlzLnRlbXBzID0gcmVmJFsyXTtcbiAgICB9XG4gICAgcmVmJCA9IHRvcFxuICAgICAgPyBbJzsnLCAnXFxuJyArIHRoaXMudGFiXVxuICAgICAgOiBbJywnLCAnICddLCBkZWxpbSA9IHJlZiRbMF0sIHNwYWNlID0gcmVmJFsxXTtcbiAgICBkZWxpbSArPSBzcGFjZTtcbiAgICBjb2RlID0gdGhpcy50ZW1wcyA/IGxlZnQuY29tcGlsZShvLCBMRVZFTF9QQVJFTikgKyBkZWxpbSA6ICcnO1xuICAgIGZvciAoaSQgPSAwLCBsZW4kID0gaXRlbXMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIGkgPSBpJDtcbiAgICAgIG5vZGUgPSBpdGVtc1tpJF07XG4gICAgICBpICYmIChjb2RlICs9IGNvbSA/IHNwYWNlIDogZGVsaW0pO1xuICAgICAgaWYgKGNvbSA9IG5vZGUuY29tbWVudCkge1xuICAgICAgICBjb2RlICs9IG5vZGUuY29tcGlsZShvKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFNwbGF0KSB7XG4gICAgICAgIGNvZGUgKz0gSW1wb3J0KHJlZnQsIG5vZGUuaXQpLmNvbXBpbGUobyk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGxvZ2ljID0gbm9kZS5nZXREZWZhdWx0KCkpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUuZmlyc3Q7XG4gICAgICB9XG4gICAgICBpZiAoZHluYSA9IG5vZGUgaW5zdGFuY2VvZiBQYXJlbnMpIHtcbiAgICAgICAgcmVmJCA9IG5vZGUuaXQuY2FjaGUobywgdHJ1ZSksIGtleSA9IHJlZiRbMF0sIHZhbCA9IHJlZiRbMV07XG4gICAgICB9IGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBQcm9wKSB7XG4gICAgICAgIGtleSA9IG5vZGUua2V5LCB2YWwgPSBub2RlLnZhbDtcbiAgICAgICAgaWYgKG5vZGUuYWNjZXNzb3IpIHtcbiAgICAgICAgICBpZiAoa2V5IGluc3RhbmNlb2YgS2V5KSB7XG4gICAgICAgICAgICBrZXkgPSBKUyhcIidcIiArIGtleS5uYW1lICsgXCInXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb2RlICs9IFwiT2JqZWN0LmRlZmluZVByb3BlcnR5KFwiICsgcmVmdC5jb21waWxlKG8sIExFVkVMX0xJU1QpICsgXCIsIFwiICsga2V5LmNvbXBpbGUobywgTEVWRUxfTElTVCkgKyBcIiwgXCIgKyBub2RlLmNvbXBpbGVEZXNjcmlwdG9yKG8pICsgXCIpXCI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGtleSA9IHZhbCA9IG5vZGU7XG4gICAgICB9XG4gICAgICBkeW5hIHx8IChrZXkgPSBrZXkubWF5YmVLZXkoKSk7XG4gICAgICBsb2dpYyAmJiAodmFsID0gKGxvZ2ljLmZpcnN0ID0gdmFsLCBsb2dpYykpO1xuICAgICAgY29kZSArPSBBc3NpZ24oQ2hhaW4ocmVmdCwgW0luZGV4KGtleSldKSwgdmFsKS5jb21waWxlKG8sIExFVkVMX1BBUkVOKTtcbiAgICB9XG4gICAgaWYgKHRvcCkge1xuICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfVxuICAgIHRoaXNbJ3ZvaWQnXSB8fCBub2RlIGluc3RhbmNlb2YgU3BsYXQgfHwgKGNvZGUgKz0gKGNvbSA/ICcgJyA6ICcsICcpICsgcmVmdC5jb21waWxlKG8sIExFVkVMX1BBUkVOKSk7XG4gICAgaWYgKG8ubGV2ZWwgPCBMRVZFTF9MSVNUKSB7XG4gICAgICByZXR1cm4gY29kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiKFwiICsgY29kZSArIFwiKVwiO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIEltcG9ydDtcbn0oTm9kZSkpO1xuZXhwb3J0cy5JbiA9IEluID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChJbiwgc3VwZXJjbGFzcykuZGlzcGxheU5hbWUgPSAnSW4nLCBJbiksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBJbjtcbiAgaW1wb3J0QWxsJChwcm90b3R5cGUsIGFyZ3VtZW50c1sxXSk7XG4gIGZ1bmN0aW9uIEluKGl0ZW0sIGFycmF5KXtcbiAgICB0aGlzLml0ZW0gPSBpdGVtO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbiAgfVxuICBwcm90b3R5cGUuY2hpbGRyZW4gPSBbJ2l0ZW0nLCAnYXJyYXknXTtcbiAgcHJvdG90eXBlLmNvbXBpbGVOb2RlID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIGFycmF5LCBpdGVtcywgY29kZSwgcmVmJCwgc3ViLCByZWYsIGNtcCwgY25qLCBpJCwgbGVuJCwgaSwgdGVzdDtcbiAgICBpdGVtcyA9IChhcnJheSA9IHRoaXMuYXJyYXkuZXhwYW5kU2xpY2UobykudW53cmFwKCkpLml0ZW1zO1xuICAgIGlmICghKGFycmF5IGluc3RhbmNlb2YgQXJyKSB8fCBpdGVtcy5sZW5ndGggPCAyKSB7XG4gICAgICByZXR1cm4gKHRoaXMubmVnYXRlZCA/ICchJyA6ICcnKSArIFwiXCIgKyB1dGlsKCdpbicpICsgXCIoXCIgKyB0aGlzLml0ZW0uY29tcGlsZShvLCBMRVZFTF9MSVNUKSArIFwiLCBcIiArIGFycmF5LmNvbXBpbGUobywgTEVWRUxfTElTVCkgKyBcIilcIjtcbiAgICB9XG4gICAgY29kZSA9ICcnO1xuICAgIHJlZiQgPSB0aGlzLml0ZW0uY2FjaGUobywgZmFsc2UsIExFVkVMX1BBUkVOKSwgc3ViID0gcmVmJFswXSwgcmVmID0gcmVmJFsxXTtcbiAgICByZWYkID0gdGhpcy5uZWdhdGVkXG4gICAgICA/IFsnICE9PSAnLCAnICYmICddXG4gICAgICA6IFsnID09PSAnLCAnIHx8ICddLCBjbXAgPSByZWYkWzBdLCBjbmogPSByZWYkWzFdO1xuICAgIGZvciAoaSQgPSAwLCBsZW4kID0gaXRlbXMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIGkgPSBpJDtcbiAgICAgIHRlc3QgPSBpdGVtc1tpJF07XG4gICAgICBjb2RlICYmIChjb2RlICs9IGNuaik7XG4gICAgICBpZiAodGVzdCBpbnN0YW5jZW9mIFNwbGF0KSB7XG4gICAgICAgIGNvZGUgKz0gKHJlZiQgPSBuZXcgSW4oVmFyKHJlZiksIHRlc3QuaXQpLCByZWYkLm5lZ2F0ZWQgPSB0aGlzLm5lZ2F0ZWQsIHJlZiQpLmNvbXBpbGUobywgTEVWRUxfVE9QKTtcbiAgICAgICAgaWYgKCEoaSB8fCBzdWIgPT09IHJlZikpIHtcbiAgICAgICAgICBjb2RlID0gXCIoXCIgKyBzdWIgKyBcIiwgXCIgKyBjb2RlICsgXCIpXCI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvZGUgKz0gKGkgfHwgc3ViID09PSByZWZcbiAgICAgICAgICA/IHJlZlxuICAgICAgICAgIDogXCIoXCIgKyBzdWIgKyBcIilcIikgKyBjbXAgKyB0ZXN0LmNvbXBpbGUobywgTEVWRUxfT1AgKyBQUkVDWyc9PSddKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3ViID09PSByZWYgfHwgby5zY29wZS5mcmVlKHJlZik7XG4gICAgaWYgKG8ubGV2ZWwgPCBMRVZFTF9PUCArIFBSRUNbJ3x8J10pIHtcbiAgICAgIHJldHVybiBjb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCIoXCIgKyBjb2RlICsgXCIpXCI7XG4gICAgfVxuICB9O1xuICByZXR1cm4gSW47XG59KE5vZGUsIE5lZ2F0YWJsZSkpO1xuZXhwb3J0cy5FeGlzdGVuY2UgPSBFeGlzdGVuY2UgPSAoZnVuY3Rpb24oc3VwZXJjbGFzcyl7XG4gIHZhciBwcm90b3R5cGUgPSBleHRlbmQkKChpbXBvcnQkKEV4aXN0ZW5jZSwgc3VwZXJjbGFzcykuZGlzcGxheU5hbWUgPSAnRXhpc3RlbmNlJywgRXhpc3RlbmNlKSwgc3VwZXJjbGFzcykucHJvdG90eXBlLCBjb25zdHJ1Y3RvciA9IEV4aXN0ZW5jZTtcbiAgaW1wb3J0QWxsJChwcm90b3R5cGUsIGFyZ3VtZW50c1sxXSk7XG4gIGZ1bmN0aW9uIEV4aXN0ZW5jZShpdCwgbmVnYXRlZCl7XG4gICAgdmFyIHRoaXMkID0gdGhpcyBpbnN0YW5jZW9mIGN0b3IkID8gdGhpcyA6IG5ldyBjdG9yJDtcbiAgICB0aGlzJC5pdCA9IGl0O1xuICAgIHRoaXMkLm5lZ2F0ZWQgPSBuZWdhdGVkO1xuICAgIHJldHVybiB0aGlzJDtcbiAgfSBmdW5jdGlvbiBjdG9yJCgpe30gY3RvciQucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY2hpbGRyZW4gPSBbJ2l0J107XG4gIHByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8pe1xuICAgIHZhciBub2RlLCByZWYkLCBjb2RlLCBvcCwgZXE7XG4gICAgbm9kZSA9IChyZWYkID0gdGhpcy5pdC51bndyYXAoKSwgcmVmJC5mcm9udCA9IHRoaXMuZnJvbnQsIHJlZiQpO1xuICAgIGNvZGUgPSBub2RlLmNvbXBpbGUobywgTEVWRUxfT1AgKyBQUkVDWyc9PSddKTtcbiAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFZhciAmJiAhby5zY29wZS5jaGVjayhjb2RlLCB0cnVlKSkge1xuICAgICAgcmVmJCA9IHRoaXMubmVnYXRlZFxuICAgICAgICA/IFsnfHwnLCAnPSddXG4gICAgICAgIDogWycmJicsICchJ10sIG9wID0gcmVmJFswXSwgZXEgPSByZWYkWzFdO1xuICAgICAgY29kZSA9IFwidHlwZW9mIFwiICsgY29kZSArIFwiIFwiICsgZXEgKyBcIj0gJ3VuZGVmaW5lZCcgXCIgKyBvcCArIFwiIFwiICsgY29kZSArIFwiIFwiICsgZXEgKyBcIj09IG51bGxcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29kZSArPSBcIiBcIiArIChvcCA9IHRoaXMubmVnYXRlZCA/ICc9PScgOiAnIT0nKSArIFwiIG51bGxcIjtcbiAgICB9XG4gICAgaWYgKG8ubGV2ZWwgPCBMRVZFTF9PUCArIFBSRUNbb3BdKSB7XG4gICAgICByZXR1cm4gY29kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiKFwiICsgY29kZSArIFwiKVwiO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIEV4aXN0ZW5jZTtcbn0oTm9kZSwgTmVnYXRhYmxlKSk7XG5leHBvcnRzLkZ1biA9IEZ1biA9IChmdW5jdGlvbihzdXBlcmNsYXNzKXtcbiAgdmFyIHByb3RvdHlwZSA9IGV4dGVuZCQoKGltcG9ydCQoRnVuLCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdGdW4nLCBGdW4pLCBzdXBlcmNsYXNzKS5wcm90b3R5cGUsIGNvbnN0cnVjdG9yID0gRnVuO1xuICBmdW5jdGlvbiBGdW4ocGFyYW1zLCBib2R5LCBib3VuZCwgY3VycmllZCwgaHVzaGVkLCBnZW5lcmF0b3Ipe1xuICAgIHZhciB0aGlzJCA9IHRoaXMgaW5zdGFuY2VvZiBjdG9yJCA/IHRoaXMgOiBuZXcgY3RvciQ7XG4gICAgdGhpcyQucGFyYW1zID0gcGFyYW1zIHx8IFtdO1xuICAgIHRoaXMkLmJvZHkgPSBib2R5IHx8IEJsb2NrKCk7XG4gICAgdGhpcyQuYm91bmQgPSBib3VuZCAmJiAndGhpcyQnO1xuICAgIHRoaXMkLmN1cnJpZWQgPSBjdXJyaWVkIHx8IGZhbHNlO1xuICAgIHRoaXMkLmh1c2hlZCA9IGh1c2hlZCAhPSBudWxsID8gaHVzaGVkIDogZmFsc2U7XG4gICAgdGhpcyQuZ2VuZXJhdG9yID0gZ2VuZXJhdG9yICE9IG51bGwgPyBnZW5lcmF0b3IgOiBmYWxzZTtcbiAgICByZXR1cm4gdGhpcyQ7XG4gIH0gZnVuY3Rpb24gY3RvciQoKXt9IGN0b3IkLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgcHJvdG90eXBlLmNoaWxkcmVuID0gWydwYXJhbXMnLCAnYm9keSddO1xuICBwcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHRoYXQ7XG4gICAgcmV0dXJuIFt0aGlzLm5hbWVdICsgWyh0aGF0ID0gdGhpcy5ib3VuZCkgPyBcIn5cIiArIHRoYXQgOiB2b2lkIDhdO1xuICB9O1xuICBwcm90b3R5cGUubmFtZWQgPSBmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIHRoaXMubmFtZSA9IGl0LCB0aGlzLnN0YXRlbWVudCA9IHRydWUsIHRoaXM7XG4gIH07XG4gIHByb3RvdHlwZS5pc0NhbGxhYmxlID0gWUVTO1xuICBwcm90b3R5cGUuaXNTdGF0ZW1lbnQgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiAhIXRoaXMuc3RhdGVtZW50O1xuICB9O1xuICBwcm90b3R5cGUudHJhdmVyc2VDaGlsZHJlbiA9IGZ1bmN0aW9uKGFyZyQsIHhzY29wZSl7XG4gICAgaWYgKHhzY29wZSkge1xuICAgICAgcmV0dXJuIHN1cGVyY2xhc3MucHJvdG90eXBlLnRyYXZlcnNlQ2hpbGRyZW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH07XG4gIHByb3RvdHlwZS5tYWtlUmV0dXJuID0gZnVuY3Rpb24oKXtcbiAgICBpZiAodGhpcy5zdGF0ZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldHVybnMgPSB0cnVlLCB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3VwZXJjbGFzcy5wcm90b3R5cGUubWFrZVJldHVybi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfTtcbiAgcHJvdG90eXBlLnJpcE5hbWUgPSBmdW5jdGlvbihpdCl7XG4gICAgdGhpcy5uYW1lIHx8ICh0aGlzLm5hbWUgPSBpdC52YXJOYW1lKCkpO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgcHNjb3BlLCBzc2NvcGUsIHNjb3BlLCB0aGF0LCBpbkxvb3AsIHJlZiQsIGJvZHksIG5hbWUsIHRhYiwgY29kZSwgY3VycnlDb2RlQ2hlY2ssIHRoaXMkID0gdGhpcztcbiAgICBwc2NvcGUgPSBvLnNjb3BlO1xuICAgIHNzY29wZSA9IHBzY29wZS5zaGFyZWQgfHwgcHNjb3BlO1xuICAgIHNjb3BlID0gby5zY29wZSA9IHRoaXMuYm9keS5zY29wZSA9IG5ldyBTY29wZSh0aGlzLndyYXBwZXIgPyBwc2NvcGUgOiBzc2NvcGUsIHRoaXMud3JhcHBlciAmJiBzc2NvcGUpO1xuICAgIHNjb3BlLmZ1biA9IHRoaXM7XG4gICAgaWYgKHRoYXQgPSB0aGlzLnByb3RvKSB7XG4gICAgICBzY29wZS5hc3NpZ24oJ3Byb3RvdHlwZScsIHRoYXQuY29tcGlsZShvKSArIFwiLnByb3RvdHlwZVwiKTtcbiAgICB9XG4gICAgaWYgKHRoYXQgPSB0aGlzLmNuYW1lKSB7XG4gICAgICBzY29wZS5hc3NpZ24oJ2NvbnN0cnVjdG9yJywgdGhhdCk7XG4gICAgfVxuICAgIGlmIChpbkxvb3AgPSAocmVmJCA9IG8ubG9vcCwgZGVsZXRlIG8ubG9vcCwgcmVmJCkpIHtcbiAgICAgIG8uaW5kZW50ID0gdGhpcy50YWIgPSAnJztcbiAgICB9XG4gICAgby5pbmRlbnQgKz0gVEFCO1xuICAgIGJvZHkgPSB0aGlzLmJvZHksIG5hbWUgPSB0aGlzLm5hbWUsIHRhYiA9IHRoaXMudGFiO1xuICAgIGNvZGUgPSAnZnVuY3Rpb24nO1xuICAgIGlmICh0aGlzLmdlbmVyYXRvcikge1xuICAgICAgdGhpcy5jdG9yICYmIHRoaXMuY2FycChcImEgY29uc3RydWN0b3IgY2FuJ3QgYmUgYSBnZW5lcmF0b3JcIik7XG4gICAgICB0aGlzLmh1c2hlZCAmJiB0aGlzLmNhcnAoXCJhIGdlbmVyYXRvciBpcyBodXNoZWQgYnkgZGVmYXVsdFwiKTtcbiAgICAgIGNvZGUgKz0gJyonO1xuICAgIH1cbiAgICBpZiAodGhpcy5ib3VuZCA9PT0gJ3RoaXMkJykge1xuICAgICAgaWYgKHRoaXMuY3Rvcikge1xuICAgICAgICBzY29wZS5hc3NpZ24oJ3RoaXMkJywgJ3RoaXMgaW5zdGFuY2VvZiBjdG9yJCA/IHRoaXMgOiBuZXcgY3RvciQnKTtcbiAgICAgICAgYm9keS5saW5lcy5wdXNoKFJldHVybihMaXRlcmFsKCd0aGlzJCcpKSk7XG4gICAgICB9IGVsc2UgaWYgKHRoYXQgPSAocmVmJCA9IHNzY29wZS5mdW4pICE9IG51bGwgPyByZWYkLmJvdW5kIDogdm9pZCA4KSB7XG4gICAgICAgIHRoaXMuYm91bmQgPSB0aGF0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3Njb3BlLmFzc2lnbigndGhpcyQnLCAndGhpcycpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZW1lbnQpIHtcbiAgICAgIG5hbWUgfHwgdGhpcy5jYXJwKCduYW1lbGVzcyBmdW5jdGlvbiBkZWNsYXJhdGlvbicpO1xuICAgICAgcHNjb3BlID09PSBvLmJsb2NrLnNjb3BlIHx8IHRoaXMuY2FycCgnbWlzcGxhY2VkIGZ1bmN0aW9uIGRlY2xhcmF0aW9uJyk7XG4gICAgICB0aGlzLmFjY2Vzc29yICYmIHRoaXMuY2FycCgnbmFtZWQgYWNjZXNzb3InKTtcbiAgICAgIHBzY29wZS5hZGQobmFtZSwgJ2Z1bmN0aW9uJywgdGhpcyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlbWVudCB8fCBuYW1lICYmIHRoaXMubGFiZWxlZCkge1xuICAgICAgY29kZSArPSAnICcgKyBzY29wZS5hZGQobmFtZSwgJ2Z1bmN0aW9uJywgdGhpcyk7XG4gICAgfVxuICAgIHRoaXMuaHVzaGVkIHx8IHRoaXMuY3RvciB8fCB0aGlzLm5ld2VkIHx8IHRoaXMuZ2VuZXJhdG9yIHx8IGJvZHkubWFrZVJldHVybigpO1xuICAgIGNvZGUgKz0gXCIoXCIgKyB0aGlzLmNvbXBpbGVQYXJhbXMobywgc2NvcGUpICsgXCIpe1wiO1xuICAgIGlmICh0aGF0ID0gYm9keS5jb21waWxlV2l0aERlY2xhcmF0aW9ucyhvKSkge1xuICAgICAgY29kZSArPSBcIlxcblwiICsgdGhhdCArIFwiXFxuXCIgKyB0YWI7XG4gICAgfVxuICAgIGNvZGUgKz0gJ30nO1xuICAgIGN1cnJ5Q29kZUNoZWNrID0gZnVuY3Rpb24oKXtcbiAgICAgIGlmICh0aGlzJC5jdXJyaWVkICYmIHRoaXMkLmhhc1NwbGF0cykge1xuICAgICAgICB0aGlzJC5jYXJwKCdjYW5ub3QgY3VycnkgYSBmdW5jdGlvbiB3aXRoIGEgdmFyaWFibGUgbnVtYmVyIG9mIGFyZ3VtZW50cycpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMkLmN1cnJpZWQgJiYgdGhpcyQucGFyYW1zLmxlbmd0aCA+IDEgJiYgIXRoaXMkLmNsYXNzQm91bmQpIHtcbiAgICAgICAgcmV0dXJuICh1dGlsKCdjdXJyeScpICsgXCJcIikgKyAodGhpcyQuYm91bmRcbiAgICAgICAgICA/IFwiKChcIiArIGNvZGUgKyBcIiksIHRydWUpXCJcbiAgICAgICAgICA6IFwiKFwiICsgY29kZSArIFwiKVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb2RlO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGluTG9vcCkge1xuICAgICAgcmV0dXJuIHBzY29wZS5hc3NpZ24ocHNjb3BlLnRlbXBvcmFyeSgnZm4nKSwgY3VycnlDb2RlQ2hlY2soKSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnJldHVybnMpIHtcbiAgICAgIGNvZGUgKz0gXCJcXG5cIiArIHRhYiArIFwicmV0dXJuIFwiICsgbmFtZSArIFwiO1wiO1xuICAgIH0gZWxzZSBpZiAodGhpcy5ib3VuZCAmJiB0aGlzLmN0b3IpIHtcbiAgICAgIGNvZGUgKz0gJyBmdW5jdGlvbiBjdG9yJCgpe30gY3RvciQucHJvdG90eXBlID0gcHJvdG90eXBlOyc7XG4gICAgfVxuICAgIGNvZGUgPSBjdXJyeUNvZGVDaGVjaygpO1xuICAgIGlmICh0aGlzLmZyb250ICYmICF0aGlzLnN0YXRlbWVudCkge1xuICAgICAgcmV0dXJuIFwiKFwiICsgY29kZSArIFwiKVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY29kZTtcbiAgICB9XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlUGFyYW1zID0gZnVuY3Rpb24obywgc2NvcGUpe1xuICAgIHZhciBwYXJhbXMsIGxlbmd0aCwgYm9keSwgaSQsIHAsIGxlbiQsIGksIHNwbGFjZSwgcmVzdCwgdGhhdCwgbmFtZXMsIGFzc2lnbnMsIGRpYywgdnIsIGRmLCB1bmFyaWVzLCBoYXNVbmFyeSwgdiwgcmVmJCwgcmVmMSQ7XG4gICAgcGFyYW1zID0gdGhpcy5wYXJhbXMsIGxlbmd0aCA9IHBhcmFtcy5sZW5ndGgsIGJvZHkgPSB0aGlzLmJvZHk7XG4gICAgZm9yIChpJCA9IHBhcmFtcy5sZW5ndGggLSAxOyBpJCA+PSAwOyAtLWkkKSB7XG4gICAgICBwID0gcGFyYW1zW2kkXTtcbiAgICAgIGlmICghKHAuaXNFbXB0eSgpIHx8IHAuZmlsbGVyKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC0tcGFyYW1zLmxlbmd0aDtcbiAgICB9XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSBwYXJhbXMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIGkgPSBpJDtcbiAgICAgIHAgPSBwYXJhbXNbaSRdO1xuICAgICAgaWYgKHAgaW5zdGFuY2VvZiBTcGxhdCkge1xuICAgICAgICB0aGlzLmhhc1NwbGF0cyA9IHRydWU7XG4gICAgICAgIHNwbGFjZSA9IGk7XG4gICAgICB9IGVsc2UgaWYgKHAub3AgPT09ICc9Jykge1xuICAgICAgICBwYXJhbXNbaV0gPSBCaW5hcnkocC5sb2dpYyB8fCAnPycsIHAubGVmdCwgcC5yaWdodCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzcGxhY2UgIT0gbnVsbCkge1xuICAgICAgcmVzdCA9IHBhcmFtcy5zcGxpY2Uoc3BsYWNlLCA5ZTkpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5hY2Nlc3Nvcikge1xuICAgICAgaWYgKHRoYXQgPSBwYXJhbXNbMV0pIHtcbiAgICAgICAgdGhhdC5jYXJwKCdleGNlc3MgYWNjZXNzb3IgcGFyYW1ldGVyJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghKGxlbmd0aCB8fCB0aGlzLndyYXBwZXIpKSB7XG4gICAgICBpZiAoYm9keS50cmF2ZXJzZUNoaWxkcmVuKGZ1bmN0aW9uKGl0KXtcbiAgICAgICAgcmV0dXJuIGl0LnZhbHVlID09PSAnaXQnIHx8IG51bGw7XG4gICAgICB9KSkge1xuICAgICAgICBwYXJhbXNbMF0gPSBWYXIoJ2l0Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIG5hbWVzID0gW107XG4gICAgYXNzaWducyA9IFtdO1xuICAgIGlmIChwYXJhbXMubGVuZ3RoKSB7XG4gICAgICBkaWMgPSB7fTtcbiAgICAgIGZvciAoaSQgPSAwLCBsZW4kID0gcGFyYW1zLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICAgIHAgPSBwYXJhbXNbaSRdO1xuICAgICAgICB2ciA9IHA7XG4gICAgICAgIGlmIChkZiA9IHZyLmdldERlZmF1bHQoKSkge1xuICAgICAgICAgIHZyID0gdnIuZmlyc3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZyLmlzRW1wdHkoKSkge1xuICAgICAgICAgIHZyID0gVmFyKHNjb3BlLnRlbXBvcmFyeSgnYXJnJykpO1xuICAgICAgICB9IGVsc2UgaWYgKHZyLnZhbHVlID09PSAnLi4nKSB7XG4gICAgICAgICAgdnIgPSBWYXIoby5yZWYgPSBzY29wZS50ZW1wb3JhcnkoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoISh2ciBpbnN0YW5jZW9mIFZhcikpIHtcbiAgICAgICAgICB1bmFyaWVzID0gW107XG4gICAgICAgICAgd2hpbGUgKHZyIGluc3RhbmNlb2YgVW5hcnkpIHtcbiAgICAgICAgICAgIGhhc1VuYXJ5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHVuYXJpZXMucHVzaCh2cik7XG4gICAgICAgICAgICB2ciA9IHZyLml0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB2ID0gVmFyKChyZWYxJCA9IChyZWYkID0gdnIuaXQgfHwgdnIpLm5hbWUsIGRlbGV0ZSByZWYkLm5hbWUsIHJlZjEkKSB8fCB2ci52YXJOYW1lKCkgfHwgc2NvcGUudGVtcG9yYXJ5KCdhcmcnKSk7XG4gICAgICAgICAgYXNzaWducy5wdXNoKEFzc2lnbih2ciwgKGZuJCgpKSkpO1xuICAgICAgICAgIHZyID0gdjtcbiAgICAgICAgfSBlbHNlIGlmIChkZikge1xuICAgICAgICAgIGFzc2lnbnMucHVzaChBc3NpZ24odnIsIHAuc2Vjb25kLCAnPScsIHAub3AsIHRydWUpKTtcbiAgICAgICAgfVxuICAgICAgICBuYW1lcy5wdXNoKHNjb3BlLmFkZCh2ci52YWx1ZSwgJ2FyZycsIHApKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc3QpIHtcbiAgICAgIHdoaWxlIChzcGxhY2UtLSkge1xuICAgICAgICByZXN0LnVuc2hpZnQoQXJyKCkpO1xuICAgICAgfVxuICAgICAgYXNzaWducy5wdXNoKEFzc2lnbihBcnIocmVzdCksIExpdGVyYWwoJ2FyZ3VtZW50cycpKSk7XG4gICAgfVxuICAgIGlmIChhc3NpZ25zLmxlbmd0aCkge1xuICAgICAgKHJlZiQgPSB0aGlzLmJvZHkpLnByZXBlbmQuYXBwbHkocmVmJCwgYXNzaWducyk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lcy5qb2luKCcsICcpO1xuICAgIGZ1bmN0aW9uIGZuJCgpe1xuICAgICAgc3dpdGNoIChmYWxzZSkge1xuICAgICAgY2FzZSAhZGY6XG4gICAgICAgIHJldHVybiBCaW5hcnkocC5vcCwgdiwgcC5zZWNvbmQpO1xuICAgICAgY2FzZSAhaGFzVW5hcnk6XG4gICAgICAgIHJldHVybiBmb2xkKGZ1bmN0aW9uKHgsIHkpe1xuICAgICAgICAgIHkuaXQgPSB4O1xuICAgICAgICAgIHJldHVybiB5O1xuICAgICAgICB9LCB2LCB1bmFyaWVzLnJldmVyc2UoKSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBGdW47XG59KE5vZGUpKTtcbmV4cG9ydHMuQ2xhc3MgPSBDbGFzcyA9IChmdW5jdGlvbihzdXBlcmNsYXNzKXtcbiAgdmFyIHByb3RvdHlwZSA9IGV4dGVuZCQoKGltcG9ydCQoQ2xhc3MsIHN1cGVyY2xhc3MpLmRpc3BsYXlOYW1lID0gJ0NsYXNzJywgQ2xhc3MpLCBzdXBlcmNsYXNzKS5wcm90b3R5cGUsIGNvbnN0cnVjdG9yID0gQ2xhc3M7XG4gIGZ1bmN0aW9uIENsYXNzKGFyZyQpe1xuICAgIHZhciBib2R5O1xuICAgIHRoaXMudGl0bGUgPSBhcmckLnRpdGxlLCB0aGlzLnN1cCA9IGFyZyQuc3VwLCB0aGlzLm1peGlucyA9IGFyZyQubWl4aW5zLCBib2R5ID0gYXJnJC5ib2R5O1xuICAgIHRoaXMuZnVuID0gRnVuKFtdLCBib2R5KTtcbiAgfVxuICBwcm90b3R5cGUuY2hpbGRyZW4gPSBbJ3RpdGxlJywgJ3N1cCcsICdtaXhpbnMnLCAnZnVuJ107XG4gIHByb3RvdHlwZS5pc0NhbGxhYmxlID0gWUVTO1xuICBwcm90b3R5cGUucmlwTmFtZSA9IGZ1bmN0aW9uKGl0KXtcbiAgICB0aGlzLm5hbWUgPSBpdC52YXJOYW1lKCk7XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24obywgbGV2ZWwpe1xuICAgIHZhciBmdW4sIGJvZHksIGxpbmVzLCB0aXRsZSwgYm91bmRGdW5jcywgY3VycmllZEJvdW5kRnVuY3MsIGRlY2wsIG5hbWUsIHByb3RvLCBjdG9yTmFtZSwgY3RvciwgY3RvclBsYWNlLCBpbXBvcnRQcm90b09iaiwgaSQsIGxlbiQsIGksIG5vZGUsIGYsIHZuYW1lLCBhcmdzLCB0aGF0LCBpbXBvcnRzLCByZWYkLCByZXMkLCBjbGFzO1xuICAgIGZ1biA9IHRoaXMuZnVuLCBib2R5ID0gZnVuLmJvZHksIGxpbmVzID0gYm9keS5saW5lcywgdGl0bGUgPSB0aGlzLnRpdGxlO1xuICAgIGJvdW5kRnVuY3MgPSBbXTtcbiAgICBjdXJyaWVkQm91bmRGdW5jcyA9IFtdO1xuICAgIGRlY2wgPSB0aXRsZSAhPSBudWxsID8gdGl0bGUudmFyTmFtZSgpIDogdm9pZCA4O1xuICAgIG5hbWUgPSBkZWNsIHx8IHRoaXMubmFtZTtcbiAgICBpZiAoSUQudGVzdChuYW1lIHx8ICcnKSkge1xuICAgICAgZnVuLmNuYW1lID0gbmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZSA9ICdjb25zdHJ1Y3Rvcic7XG4gICAgfVxuICAgIHByb3RvID0gVmFyKCdwcm90b3R5cGUnKTtcbiAgICBjdG9yTmFtZSA9ICdjb25zdHJ1Y3RvciQkJztcbiAgICBpbXBvcnRQcm90b09iaiA9IGZ1bmN0aW9uKG5vZGUsIGkpe1xuICAgICAgdmFyIGosIHByb3AsIGtleSwgaSQsIHJlZiQsIGxlbiQsIHY7XG4gICAgICBqID0gMDtcbiAgICAgIGZvciAoOyBqIDwgbm9kZS5pdGVtcy5sZW5ndGg7IGorKykge1xuICAgICAgICBwcm9wID0gbm9kZS5pdGVtc1tqXTtcbiAgICAgICAga2V5ID0gcHJvcC5rZXk7XG4gICAgICAgIGlmICgoa2V5IGluc3RhbmNlb2YgS2V5ICYmIGtleS5uYW1lID09PSBjdG9yTmFtZSkgfHwgKGtleSBpbnN0YW5jZW9mIExpdGVyYWwgJiYga2V5LnZhbHVlID09PSBcIidcIiArIGN0b3JOYW1lICsgXCInXCIpKSB7XG4gICAgICAgICAgaWYgKGN0b3IpIHtcbiAgICAgICAgICAgIG5vZGUuY2FycCgncmVkdW5kYW50IGNvbnN0cnVjdG9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN0b3IgPSBwcm9wLnZhbDtcbiAgICAgICAgICBub2RlLml0ZW1zLnNwbGljZShqLS0sIDEpO1xuICAgICAgICAgIGN0b3JQbGFjZSA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEocHJvcC52YWwgaW5zdGFuY2VvZiBGdW4gfHwgcHJvcC5hY2Nlc3NvcikpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5LmlzQ29tcGxleCgpKSB7XG4gICAgICAgICAga2V5ID0gVmFyKG8uc2NvcGUudGVtcG9yYXJ5KCdrZXknKSk7XG4gICAgICAgICAgcHJvcC5rZXkgPSBBc3NpZ24oa2V5LCBwcm9wLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3AudmFsLmJvdW5kKSB7XG4gICAgICAgICAgaWYgKHByb3AudmFsLmN1cnJpZWQpIHtcbiAgICAgICAgICAgIGN1cnJpZWRCb3VuZEZ1bmNzLnB1c2gocHJvcC5rZXkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib3VuZEZ1bmNzLnB1c2gocHJvcC5rZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcm9wLnZhbC5ib3VuZCA9IGZhbHNlO1xuICAgICAgICAgIHByb3AudmFsLmNsYXNzQm91bmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSBbXS5jb25jYXQocHJvcC52YWwpKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgICAgIHYgPSByZWYkW2kkXTtcbiAgICAgICAgICB2Lm1ldGggPSBrZXk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChub2RlLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gSW1wb3J0KHByb3RvLCBub2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsKCd2b2lkJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IGxpbmVzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICBpID0gaSQ7XG4gICAgICBub2RlID0gbGluZXNbaSRdO1xuICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBPYmopIHtcbiAgICAgICAgbGluZXNbaV0gPSBpbXBvcnRQcm90b09iaihub2RlLCBpKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEZ1biAmJiAhbm9kZS5zdGF0ZW1lbnQpIHtcbiAgICAgICAgY3RvciAmJiBub2RlLmNhcnAoJ3JlZHVuZGFudCBjb25zdHJ1Y3RvcicpO1xuICAgICAgICBjdG9yID0gbm9kZTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFzc2lnbiAmJiBub2RlLmxlZnQgaW5zdGFuY2VvZiBDaGFpbiAmJiBub2RlLmxlZnQuaGVhZC52YWx1ZSA9PT0gJ3RoaXMnICYmIG5vZGUucmlnaHQgaW5zdGFuY2VvZiBGdW4pIHtcbiAgICAgICAgbm9kZS5yaWdodC5zdGF0ID0gbm9kZS5sZWZ0LnRhaWxzWzBdLmtleTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUudHJhdmVyc2VDaGlsZHJlbihmbiQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjdG9yIHx8IChjdG9yID0gbGluZXNbbGluZXMubGVuZ3RoXSA9IHRoaXMuc3VwXG4gICAgICA/IEZ1bihbXSwgQmxvY2soQ2hhaW4obmV3IFN1cGVyKS5hZGQoQ2FsbChbU3BsYXQoTGl0ZXJhbCgnYXJndW1lbnRzJykpXSkpKSlcbiAgICAgIDogRnVuKCkpO1xuICAgIGlmICghKGN0b3IgaW5zdGFuY2VvZiBGdW4pKSB7XG4gICAgICBsaW5lcy5zcGxpY2UoY3RvclBsYWNlICsgMSwgMCwgQXNzaWduKFZhcihjdG9yTmFtZSksIGN0b3IpKTtcbiAgICAgIGxpbmVzLnVuc2hpZnQoY3RvciA9IEZ1bihbXSwgQmxvY2soUmV0dXJuKENoYWluKFZhcihjdG9yTmFtZSkpLmFkZChDYWxsKFtTcGxhdCgnYXJndW1lbnRzJywgdHJ1ZSldKSkpKSkpO1xuICAgIH1cbiAgICBjdG9yLm5hbWUgPSBuYW1lO1xuICAgIGN0b3IuY3RvciA9IHRydWU7XG4gICAgY3Rvci5zdGF0ZW1lbnQgPSB0cnVlO1xuICAgIGZvciAoaSQgPSAwLCBsZW4kID0gYm91bmRGdW5jcy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgZiA9IGJvdW5kRnVuY3NbaSRdO1xuICAgICAgY3Rvci5ib2R5LmxpbmVzLnVuc2hpZnQoQXNzaWduKENoYWluKExpdGVyYWwoJ3RoaXMnKSkuYWRkKEluZGV4KGYpKSwgQ2hhaW4oVmFyKHV0aWwoJ2JpbmQnKSkpLmFkZChDYWxsKFtMaXRlcmFsKCd0aGlzJyksIExpdGVyYWwoXCInXCIgKyBmLm5hbWUgKyBcIidcIiksIFZhcigncHJvdG90eXBlJyldKSkpKTtcbiAgICB9XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSBjdXJyaWVkQm91bmRGdW5jcy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgZiA9IGN1cnJpZWRCb3VuZEZ1bmNzW2kkXTtcbiAgICAgIGN0b3IuYm9keS5saW5lcy51bnNoaWZ0KEFzc2lnbihDaGFpbihMaXRlcmFsKCd0aGlzJykpLmFkZChJbmRleChLZXkoXCJfXCIgKyBmLm5hbWUpKSksIENoYWluKFZhcih1dGlsKCdjdXJyeScpKSkuYWRkKENhbGwoW0NoYWluKFZhcigncHJvdG90eXBlJykpLmFkZChJbmRleChmKSksIFZhcigndHJ1ZScpXSkpKSwgQXNzaWduKENoYWluKExpdGVyYWwoJ3RoaXMnKSkuYWRkKEluZGV4KGYpKSwgQ2hhaW4oVmFyKHV0aWwoJ2JpbmQnKSkpLmFkZChDYWxsKFtMaXRlcmFsKCd0aGlzJyksIExpdGVyYWwoXCInX1wiICsgZi5uYW1lICsgXCInXCIpXSkpKSk7XG4gICAgfVxuICAgIGxpbmVzLnB1c2godm5hbWUgPSBmdW4ucHJvdG8gPSBWYXIoZnVuLmJvdW5kID0gbmFtZSkpO1xuICAgIGFyZ3MgPSBbXTtcbiAgICBpZiAodGhhdCA9IHRoaXMuc3VwKSB7XG4gICAgICBhcmdzLnB1c2godGhhdCk7XG4gICAgICBpbXBvcnRzID0gQ2hhaW4oSW1wb3J0KExpdGVyYWwoJ3RoaXMnKSwgVmFyKCdzdXBlcmNsYXNzJykpKTtcbiAgICAgIGZ1bi5wcm90byA9IFV0aWwuRXh0ZW5kcyhmdW4uY25hbWUgPyBCbG9jayhbQXNzaWduKGltcG9ydHMuYWRkKEluZGV4KEtleSgnZGlzcGxheU5hbWUnKSkpLCBMaXRlcmFsKFwiJ1wiICsgbmFtZSArIFwiJ1wiKSksIExpdGVyYWwobmFtZSldKSA6IGltcG9ydHMsIChyZWYkID0gZnVuLnBhcmFtcylbcmVmJC5sZW5ndGhdID0gVmFyKCdzdXBlcmNsYXNzJykpO1xuICAgIH1cbiAgICBpZiAodGhhdCA9IHRoaXMubWl4aW5zKSB7XG4gICAgICByZXMkID0gW107XG4gICAgICBmb3IgKGkkID0gMCwgbGVuJCA9IHRoYXQubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgICAgYXJnc1thcmdzLmxlbmd0aF0gPSB0aGF0W2kkXTtcbiAgICAgICAgcmVzJC5wdXNoKEltcG9ydChwcm90bywgSlMoXCJhcmd1bWVudHNbXCIgKyAoYXJncy5sZW5ndGggLSAxKSArIFwiXVwiKSwgdHJ1ZSkpO1xuICAgICAgfVxuICAgICAgaW1wb3J0cyA9IHJlcyQ7XG4gICAgICBib2R5LnByZXBlbmQuYXBwbHkoYm9keSwgaW1wb3J0cyk7XG4gICAgfVxuICAgIGlmIChmdW4uY25hbWUgJiYgIXRoaXMuc3VwKSB7XG4gICAgICBib2R5LnByZXBlbmQoTGl0ZXJhbChuYW1lICsgXCIuZGlzcGxheU5hbWUgPSAnXCIgKyBuYW1lICsgXCInXCIpKTtcbiAgICB9XG4gICAgY2xhcyA9IFBhcmVucyhDYWxsLm1ha2UoZnVuLCBhcmdzKSwgdHJ1ZSk7XG4gICAgaWYgKGRlY2wgJiYgdGl0bGUuaXNDb21wbGV4KCkpIHtcbiAgICAgIGNsYXMgPSBBc3NpZ24odm5hbWUsIGNsYXMpO1xuICAgIH1cbiAgICBpZiAodGl0bGUpIHtcbiAgICAgIGNsYXMgPSBBc3NpZ24odGl0bGUsIGNsYXMpO1xuICAgIH1cbiAgICByZXR1cm4gY2xhcy5jb21waWxlKG8sIGxldmVsKTtcbiAgICBmdW5jdGlvbiBmbiQoaXQpe1xuICAgICAgdmFyIGkkLCByZWYkLCBsZW4kLCBrLCBjaGlsZDtcbiAgICAgIGlmIChpdCBpbnN0YW5jZW9mIEJsb2NrKSB7XG4gICAgICAgIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSBpdC5saW5lcykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgICAgICBrID0gaSQ7XG4gICAgICAgICAgY2hpbGQgPSByZWYkW2kkXTtcbiAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBPYmopIHtcbiAgICAgICAgICAgIGl0LmxpbmVzW2tdID0gaW1wb3J0UHJvdG9PYmooY2hpbGQsIGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIENsYXNzO1xufShOb2RlKSk7XG5leHBvcnRzLlN1cGVyID0gU3VwZXIgPSAoZnVuY3Rpb24oc3VwZXJjbGFzcyl7XG4gIHZhciBwcm90b3R5cGUgPSBleHRlbmQkKChpbXBvcnQkKFN1cGVyLCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdTdXBlcicsIFN1cGVyKSwgc3VwZXJjbGFzcykucHJvdG90eXBlLCBjb25zdHJ1Y3RvciA9IFN1cGVyO1xuICBmdW5jdGlvbiBTdXBlcigpe31cbiAgcHJvdG90eXBlLmlzQ2FsbGFibGUgPSBZRVM7XG4gIHByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIHNjb3BlLCB0aGF0LCByZXN1bHQsIHJlZiQ7XG4gICAgc2NvcGUgPSBvLnNjb3BlO1xuICAgIGlmICghdGhpcy5zcHJvdG8pIHtcbiAgICAgIGZvciAoOyB0aGF0ID0gIXNjb3BlLmdldCgnc3VwZXJjbGFzcycpICYmIHNjb3BlLmZ1bjsgc2NvcGUgPSBzY29wZS5wYXJlbnQpIHtcbiAgICAgICAgcmVzdWx0ID0gdGhhdDtcbiAgICAgICAgaWYgKHRoYXQgPSByZXN1bHQubWV0aCkge1xuICAgICAgICAgIHJldHVybiAnc3VwZXJjbGFzcy5wcm90b3R5cGUnICsgSW5kZXgodGhhdCkuY29tcGlsZShvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhhdCA9IHJlc3VsdC5zdGF0KSB7XG4gICAgICAgICAgcmV0dXJuICdzdXBlcmNsYXNzJyArIEluZGV4KHRoYXQpLmNvbXBpbGUobyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoYXQgPSBzY29wZS5mdW4uaW5DbGFzcykge1xuICAgICAgICAgIHJldHVybiB0aGF0ICsgXCIuc3VwZXJjbGFzcy5wcm90b3R5cGUuXCIgKyBzY29wZS5mdW4ubmFtZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGF0ID0gc2NvcGUuZnVuLmluQ2xhc3NTdGF0aWMpIHtcbiAgICAgICAgICByZXR1cm4gdGhhdCArIFwiLnN1cGVyY2xhc3MuXCIgKyBzY29wZS5mdW4ubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoYXQgPSAocmVmJCA9IG8uc2NvcGUuZnVuKSAhPSBudWxsID8gcmVmJC5uYW1lIDogdm9pZCA4KSB7XG4gICAgICAgIHJldHVybiB0aGF0ICsgXCIuc3VwZXJjbGFzc1wiO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJ3N1cGVyY2xhc3MnO1xuICB9O1xuICByZXR1cm4gU3VwZXI7XG59KE5vZGUpKTtcbmV4cG9ydHMuUGFyZW5zID0gUGFyZW5zID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChQYXJlbnMsIHN1cGVyY2xhc3MpLmRpc3BsYXlOYW1lID0gJ1BhcmVucycsIFBhcmVucyksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBQYXJlbnM7XG4gIGZ1bmN0aW9uIFBhcmVucyhpdCwga2VlcCwgc3RyaW5nKXtcbiAgICB2YXIgdGhpcyQgPSB0aGlzIGluc3RhbmNlb2YgY3RvciQgPyB0aGlzIDogbmV3IGN0b3IkO1xuICAgIHRoaXMkLml0ID0gaXQ7XG4gICAgdGhpcyQua2VlcCA9IGtlZXA7XG4gICAgdGhpcyQuc3RyaW5nID0gc3RyaW5nO1xuICAgIHJldHVybiB0aGlzJDtcbiAgfSBmdW5jdGlvbiBjdG9yJCgpe30gY3RvciQucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY2hpbGRyZW4gPSBbJ2l0J107XG4gIHByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5zdHJpbmcgJiYgJ1wiXCInO1xuICB9O1xuICBwcm90b3R5cGUuZGVsZWdhdGUoWydpc0NvbXBsZXgnLCAnaXNDYWxsYWJsZScsICdpc0FycmF5JywgJ2lzUmVnZXgnXSwgZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiB0aGlzLml0W2l0XSgpO1xuICB9KTtcbiAgcHJvdG90eXBlLmlzU3RyaW5nID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5zdHJpbmcgfHwgdGhpcy5pdC5pc1N0cmluZygpO1xuICB9O1xuICBwcm90b3R5cGUudW5wYXJlbiA9IGZ1bmN0aW9uKCl7XG4gICAgaWYgKHRoaXMua2VlcCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLml0LnVucGFyZW4oKTtcbiAgICB9XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24obywgbGV2ZWwpe1xuICAgIHZhciBpdDtcbiAgICBsZXZlbCA9PSBudWxsICYmIChsZXZlbCA9IG8ubGV2ZWwpO1xuICAgIGl0ID0gdGhpcy5pdDtcbiAgICBpdC5jb25kIHx8IChpdC5jb25kID0gdGhpcy5jb25kKSwgaXRbJ3ZvaWQnXSB8fCAoaXRbJ3ZvaWQnXSA9IHRoaXNbJ3ZvaWQnXSk7XG4gICAgaWYgKHRoaXMuY2FsbGluZyAmJiAoIWxldmVsIHx8IHRoaXNbJ3ZvaWQnXSkpIHtcbiAgICAgIGl0LmhlYWQuaHVzaGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCEodGhpcy5rZWVwIHx8IHRoaXMubmV3ZWQgfHwgbGV2ZWwgPj0gTEVWRUxfT1AgKyBQUkVDW2l0Lm9wXSkpIHtcbiAgICAgIHJldHVybiAoaXQuZnJvbnQgPSB0aGlzLmZyb250LCBpdCkuY29tcGlsZShvLCBsZXZlbCB8fCBMRVZFTF9QQVJFTik7XG4gICAgfVxuICAgIGlmIChpdC5pc1N0YXRlbWVudCgpKSB7XG4gICAgICByZXR1cm4gaXQuY29tcGlsZUNsb3N1cmUobyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIihcIiArIGl0LmNvbXBpbGUobywgTEVWRUxfUEFSRU4pICsgXCIpXCI7XG4gICAgfVxuICB9O1xuICByZXR1cm4gUGFyZW5zO1xufShOb2RlKSk7XG5leHBvcnRzLlNwbGF0ID0gU3BsYXQgPSAoZnVuY3Rpb24oc3VwZXJjbGFzcyl7XG4gIHZhciByZWYkLCBwcm90b3R5cGUgPSBleHRlbmQkKChpbXBvcnQkKFNwbGF0LCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdTcGxhdCcsIFNwbGF0KSwgc3VwZXJjbGFzcykucHJvdG90eXBlLCBjb25zdHJ1Y3RvciA9IFNwbGF0O1xuICBmdW5jdGlvbiBTcGxhdChpdCwgZmlsbGVyKXtcbiAgICB2YXIgdGhpcyQgPSB0aGlzIGluc3RhbmNlb2YgY3RvciQgPyB0aGlzIDogbmV3IGN0b3IkO1xuICAgIHRoaXMkLml0ID0gaXQ7XG4gICAgdGhpcyQuZmlsbGVyID0gZmlsbGVyO1xuICAgIHJldHVybiB0aGlzJDtcbiAgfSBmdW5jdGlvbiBjdG9yJCgpe30gY3RvciQucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICByZWYkID0gUGFyZW5zLnByb3RvdHlwZSwgcHJvdG90eXBlLmNoaWxkcmVuID0gcmVmJC5jaGlsZHJlbiwgcHJvdG90eXBlLmlzQ29tcGxleCA9IHJlZiQuaXNDb21wbGV4O1xuICBwcm90b3R5cGUuaXNBc3NpZ25hYmxlID0gWUVTO1xuICBwcm90b3R5cGUuYXNzaWducyA9IGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gdGhpcy5pdC5hc3NpZ25zKGl0KTtcbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLmNhcnAoJ2ludmFsaWQgc3BsYXQnKTtcbiAgfTtcbiAgU3BsYXQuY29tcGlsZUFycmF5ID0gZnVuY3Rpb24obywgbGlzdCwgYXBwbHkpe1xuICAgIHZhciBpbmRleCwgaSQsIGxlbiQsIG5vZGUsIGFyZ3MsIGF0b21zLCByZWYkO1xuICAgIGV4cGFuZChsaXN0KTtcbiAgICBpbmRleCA9IDA7XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSBsaXN0Lmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICBub2RlID0gbGlzdFtpJF07XG4gICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFNwbGF0KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgKytpbmRleDtcbiAgICB9XG4gICAgaWYgKGluZGV4ID49IGxpc3QubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGlmICghbGlzdFsxXSkge1xuICAgICAgcmV0dXJuIChhcHBseSA/IE9iamVjdCA6IGVuc3VyZUFycmF5KShsaXN0WzBdLml0KS5jb21waWxlKG8sIExFVkVMX0xJU1QpO1xuICAgIH1cbiAgICBhcmdzID0gW107XG4gICAgYXRvbXMgPSBbXTtcbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gbGlzdC5zcGxpY2UoaW5kZXgsIDllOSkpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICBub2RlID0gcmVmJFtpJF07XG4gICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFNwbGF0KSB7XG4gICAgICAgIGlmIChhdG9tcy5sZW5ndGgpIHtcbiAgICAgICAgICBhcmdzLnB1c2goQXJyKGF0b21zLnNwbGljZSgwLCA5ZTkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgYXJncy5wdXNoKGVuc3VyZUFycmF5KG5vZGUuaXQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF0b21zLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhdG9tcy5sZW5ndGgpIHtcbiAgICAgIGFyZ3MucHVzaChBcnIoYXRvbXMpKTtcbiAgICB9XG4gICAgcmV0dXJuIChpbmRleFxuICAgICAgPyBBcnIobGlzdClcbiAgICAgIDogYXJncy5zaGlmdCgpKS5jb21waWxlKG8sIExFVkVMX0NBTEwpICsgKFwiLmNvbmNhdChcIiArIExpc3QuY29tcGlsZShvLCBhcmdzKSArIFwiKVwiKTtcbiAgfTtcbiAgZnVuY3Rpb24gZXhwYW5kKG5vZGVzKXtcbiAgICB2YXIgaW5kZXgsIG5vZGUsIGl0O1xuICAgIGluZGV4ID0gLTE7XG4gICAgd2hpbGUgKG5vZGUgPSBub2Rlc1srK2luZGV4XSkge1xuICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBTcGxhdCkge1xuICAgICAgICBpdCA9IG5vZGUuaXQ7XG4gICAgICAgIGlmIChpdC5pc0VtcHR5KCkpIHtcbiAgICAgICAgICBub2Rlcy5zcGxpY2UoaW5kZXgtLSwgMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXQgaW5zdGFuY2VvZiBBcnIpIHtcbiAgICAgICAgICBub2Rlcy5zcGxpY2UuYXBwbHkobm9kZXMsIFtpbmRleCwgMV0uY29uY2F0KHNsaWNlJC5jYWxsKGV4cGFuZChpdC5pdGVtcykpKSk7XG4gICAgICAgICAgaW5kZXggKz0gaXQuaXRlbXMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZXM7XG4gIH1cbiAgZnVuY3Rpb24gZW5zdXJlQXJyYXkobm9kZSl7XG4gICAgaWYgKG5vZGUuaXNBcnJheSgpKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIENhbGwubWFrZShKUyh1dGlsKCdzbGljZScpICsgJy5jYWxsJyksIFtub2RlXSk7XG4gIH1cbiAgcmV0dXJuIFNwbGF0O1xufShOb2RlKSk7XG5leHBvcnRzLkp1bXAgPSBKdW1wID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChKdW1wLCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdKdW1wJywgSnVtcCksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBKdW1wO1xuICBmdW5jdGlvbiBKdW1wKHZlcmIsIGxhYmVsKXtcbiAgICB0aGlzLnZlcmIgPSB2ZXJiO1xuICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcbiAgfVxuICBwcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHRoYXQ7XG4gICAgcmV0dXJuICh0aGlzLnZlcmIgfHwgJycpICsgKCh0aGF0ID0gdGhpcy5sYWJlbCkgPyAnICcgKyB0aGF0IDogJycpO1xuICB9O1xuICBwcm90b3R5cGUuaXNTdGF0ZW1lbnQgPSBZRVM7XG4gIHByb3RvdHlwZS5tYWtlUmV0dXJuID0gVEhJUztcbiAgcHJvdG90eXBlLmdldEp1bXAgPSBmdW5jdGlvbihjdHgpe1xuICAgIHZhciB0aGF0LCByZWYkO1xuICAgIGN0eCB8fCAoY3R4ID0ge30pO1xuICAgIGlmICghY3R4W3RoaXMudmVyYl0pIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhhdCA9IHRoaXMubGFiZWwpIHtcbiAgICAgIHJldHVybiAhaW4kKHRoYXQsIChyZWYkID0gY3R4LmxhYmVscykgIT0gbnVsbFxuICAgICAgICA/IHJlZiRcbiAgICAgICAgOiBjdHgubGFiZWxzID0gW10pICYmIHRoaXM7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgdGhhdCwgcmVmJDtcbiAgICBpZiAodGhhdCA9IHRoaXMubGFiZWwpIHtcbiAgICAgIGluJCh0aGF0LCAocmVmJCA9IG8ubGFiZWxzKSAhPSBudWxsXG4gICAgICAgID8gcmVmJFxuICAgICAgICA6IG8ubGFiZWxzID0gW10pIHx8IHRoaXMuY2FycChcInVua25vd24gbGFiZWwgXFxcIlwiICsgdGhhdCArIFwiXFxcIlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb1t0aGlzLnZlcmJdIHx8IHRoaXMuY2FycChcInN0cmF5IFwiICsgdGhpcy52ZXJiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2hvdygpICsgJzsnO1xuICB9O1xuICBKdW1wLmV4dGVuZGVkID0gZnVuY3Rpb24oc3ViKXtcbiAgICBzdWIucHJvdG90eXBlLmNoaWxkcmVuID0gWydpdCddO1xuICAgIHRoaXNbc3ViLmRpc3BsYXlOYW1lLnRvTG93ZXJDYXNlKCldID0gc3ViO1xuICB9O1xuICByZXR1cm4gSnVtcDtcbn0oTm9kZSkpO1xuZXhwb3J0cy5UaHJvdyA9IFRocm93ID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChUaHJvdywgc3VwZXJjbGFzcykuZGlzcGxheU5hbWUgPSAnVGhyb3cnLCBUaHJvdyksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBUaHJvdztcbiAgZnVuY3Rpb24gVGhyb3coaXQpe1xuICAgIHZhciB0aGlzJCA9IHRoaXMgaW5zdGFuY2VvZiBjdG9yJCA/IHRoaXMgOiBuZXcgY3RvciQ7XG4gICAgdGhpcyQuaXQgPSBpdDtcbiAgICByZXR1cm4gdGhpcyQ7XG4gIH0gZnVuY3Rpb24gY3RvciQoKXt9IGN0b3IkLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgcHJvdG90eXBlLmdldEp1bXAgPSBWT0lEO1xuICBwcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgcmVmJDtcbiAgICByZXR1cm4gXCJ0aHJvdyBcIiArICgoKHJlZiQgPSB0aGlzLml0KSAhPSBudWxsID8gcmVmJC5jb21waWxlKG8sIExFVkVMX1BBUkVOKSA6IHZvaWQgOCkgfHwgJ251bGwnKSArIFwiO1wiO1xuICB9O1xuICByZXR1cm4gVGhyb3c7XG59KEp1bXApKTtcbmV4cG9ydHMuUmV0dXJuID0gUmV0dXJuID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChSZXR1cm4sIHN1cGVyY2xhc3MpLmRpc3BsYXlOYW1lID0gJ1JldHVybicsIFJldHVybiksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBSZXR1cm47XG4gIGZ1bmN0aW9uIFJldHVybihpdCl7XG4gICAgdmFyIHRoaXMkID0gdGhpcyBpbnN0YW5jZW9mIGN0b3IkID8gdGhpcyA6IG5ldyBjdG9yJDtcbiAgICBpZiAoaXQgJiYgaXQudmFsdWUgIT09ICd2b2lkJykge1xuICAgICAgdGhpcyQuaXQgPSBpdDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMkO1xuICB9IGZ1bmN0aW9uIGN0b3IkKCl7fSBjdG9yJC5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gIHByb3RvdHlwZS5nZXRKdW1wID0gVEhJUztcbiAgcHJvdG90eXBlLmNvbXBpbGVOb2RlID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIHRoYXQ7XG4gICAgcmV0dXJuIFwicmV0dXJuXCIgKyAoKHRoYXQgPSB0aGlzLml0KSA/ICcgJyArIHRoYXQuY29tcGlsZShvLCBMRVZFTF9QQVJFTikgOiAnJykgKyBcIjtcIjtcbiAgfTtcbiAgcmV0dXJuIFJldHVybjtcbn0oSnVtcCkpO1xuZXhwb3J0cy5XaGlsZSA9IFdoaWxlID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChXaGlsZSwgc3VwZXJjbGFzcykuZGlzcGxheU5hbWUgPSAnV2hpbGUnLCBXaGlsZSksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBXaGlsZTtcbiAgZnVuY3Rpb24gV2hpbGUodGVzdCwgdW4sIG1vZGUpe1xuICAgIHRoaXMudW4gPSB1bjtcbiAgICBtb2RlICYmIChtb2RlIGluc3RhbmNlb2YgTm9kZVxuICAgICAgPyB0aGlzLnVwZGF0ZSA9IG1vZGVcbiAgICAgIDogdGhpcy5wb3N0ID0gdHJ1ZSk7XG4gICAgaWYgKHRoaXMucG9zdCB8fCB0ZXN0LnZhbHVlICE9PSAnJyArICF1bikge1xuICAgICAgdGhpcy50ZXN0ID0gdGVzdDtcbiAgICB9XG4gIH1cbiAgcHJvdG90eXBlLmNoaWxkcmVuID0gWyd0ZXN0JywgJ2JvZHknLCAndXBkYXRlJywgJ2Vsc2UnXTtcbiAgcHJvdG90eXBlLmFTb3VyY2UgPSAndGVzdCc7XG4gIHByb3RvdHlwZS5hVGFyZ2V0cyA9IFsnYm9keScsICd1cGRhdGUnXTtcbiAgcHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiBbdGhpcy51biA/ICchJyA6IHZvaWQgOCwgdGhpcy5wb3N0ID8gJ2RvJyA6IHZvaWQgOF0uam9pbignJyk7XG4gIH07XG4gIHByb3RvdHlwZS5pc1N0YXRlbWVudCA9IHByb3RvdHlwZS5pc0FycmF5ID0gWUVTO1xuICBwcm90b3R5cGUubWFrZUNvbXByZWhlbnNpb24gPSBmdW5jdGlvbih0b0FkZCwgbG9vcHMpe1xuICAgIHRoaXMuaXNDb21wcmVoZW5zaW9uID0gdHJ1ZTtcbiAgICB3aGlsZSAobG9vcHMubGVuZ3RoKSB7XG4gICAgICB0b0FkZCA9IGxvb3BzLnBvcCgpLmFkZEJvZHkoQmxvY2sodG9BZGQpKTtcbiAgICAgIGlmICghdG9BZGQuaXNDb21wcmVoZW5zaW9uKSB7XG4gICAgICAgIHRvQWRkLmluQ29tcHJlaGVuc2lvbiA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFkZEJvZHkoQmxvY2sodG9BZGQpKTtcbiAgfTtcbiAgcHJvdG90eXBlLmdldEp1bXAgPSBmdW5jdGlvbihjdHgpe1xuICAgIHZhciBpJCwgcmVmJCwgcmVmMSQsIGxlbiQsIG5vZGU7XG4gICAgY3R4IHx8IChjdHggPSB7fSk7XG4gICAgY3R4Wydjb250aW51ZSddID0gdHJ1ZTtcbiAgICBjdHhbJ2JyZWFrJ10gPSB0cnVlO1xuICAgIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSAoKHJlZjEkID0gdGhpcy5ib2R5KSAhPSBudWxsID8gcmVmMSQubGluZXMgOiB2b2lkIDgpIHx8IFtdKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgbm9kZSA9IHJlZiRbaSRdO1xuICAgICAgaWYgKG5vZGUuZ2V0SnVtcChjdHgpKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcHJvdG90eXBlLmFkZEJvZHkgPSBmdW5jdGlvbihib2R5KXtcbiAgICB2YXIgdG9wO1xuICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgaWYgKHRoaXMuZ3VhcmQpIHtcbiAgICAgIHRoaXMuYm9keSA9IEJsb2NrKElmKHRoaXMuZ3VhcmQsIHRoaXMuYm9keSkpO1xuICAgIH1cbiAgICB0b3AgPSB0aGlzLmJvZHkubGluZXNbMF07XG4gICAgaWYgKCh0b3AgIT0gbnVsbCA/IHRvcC52ZXJiIDogdm9pZCA4KSA9PT0gJ2NvbnRpbnVlJyAmJiAhdG9wLmxhYmVsKSB7XG4gICAgICB0aGlzLmJvZHkubGluZXMubGVuZ3RoID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHByb3RvdHlwZS5hZGRHdWFyZCA9IGZ1bmN0aW9uKGd1YXJkKXtcbiAgICB0aGlzLmd1YXJkID0gZ3VhcmQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHByb3RvdHlwZS5hZGRPYmpDb21wID0gZnVuY3Rpb24ob2JqQ29tcCl7XG4gICAgdGhpcy5vYmpDb21wID0gb2JqQ29tcCAhPSBudWxsID8gb2JqQ29tcCA6IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHByb3RvdHlwZS5tYWtlUmV0dXJuID0gZnVuY3Rpb24oaXQpe1xuICAgIHZhciBsYXN0LCByZWYkLCByZWYxJCwgcmVmMiQ7XG4gICAgaWYgKHRoaXMuaGFzUmV0dXJuZWQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAoaXQpIHtcbiAgICAgIGlmICh0aGlzLm9iakNvbXApIHtcbiAgICAgICAgdGhpcy5ib2R5ID0gQmxvY2sodGhpcy5ib2R5Lm1ha2VSZXR1cm4oaXQsIHRydWUpKTtcbiAgICAgICAgaWYgKHRoaXMuZ3VhcmQpIHtcbiAgICAgICAgICB0aGlzLmJvZHkgPSBJZih0aGlzLmd1YXJkLCB0aGlzLmJvZHkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoISh0aGlzLmJvZHkgfHwgdGhpcy5pbmRleCkpIHtcbiAgICAgICAgICB0aGlzLmFkZEJvZHkoQmxvY2soVmFyKHRoaXMuaW5kZXggPSAncmlkeCQnKSkpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3QgPSAocmVmJCA9IHRoaXMuYm9keS5saW5lcykgIT0gbnVsbCA/IHJlZiRbcmVmJC5sZW5ndGggLSAxXSA6IHZvaWQgODtcbiAgICAgICAgaWYgKCh0aGlzLmlzQ29tcHJlaGVuc2lvbiB8fCB0aGlzLmluQ29tcHJlaGVuc2lvbikgJiYgIShsYXN0ICE9IG51bGwgJiYgbGFzdC5pc0NvbXByZWhlbnNpb24pKSB7XG4gICAgICAgICAgKHJlZjEkID0gdGhpcy5ib2R5KS5tYWtlUmV0dXJuLmFwcGx5KHJlZjEkLCBhcmd1bWVudHMpO1xuICAgICAgICAgIGlmICgocmVmMSQgPSB0aGlzWydlbHNlJ10pICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlZjEkLm1ha2VSZXR1cm4uYXBwbHkocmVmMSQsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaGFzUmV0dXJuZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucmVzVmFyID0gaXQ7XG4gICAgICAgICAgaWYgKChyZWYyJCA9IHRoaXNbJ2Vsc2UnXSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmVmMiQubWFrZVJldHVybi5hcHBseShyZWYyJCwgYXJndW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nZXRKdW1wKCkgfHwgKHRoaXMucmV0dXJucyA9IHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGVOb2RlID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIHRlc3QsIHJlZiQsIGhlYWQsIHRoYXQ7XG4gICAgby5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLnRlc3QgJiYgKHRoaXMudW5cbiAgICAgID8gdGhpcy50ZXN0ID0gdGhpcy50ZXN0LmludmVydCgpXG4gICAgICA6IHRoaXMuYW5hcGhvcml6ZSgpKTtcbiAgICBpZiAodGhpcy5wb3N0KSB7XG4gICAgICByZXR1cm4gJ2RvIHsnICsgdGhpcy5jb21waWxlQm9keSgoby5pbmRlbnQgKz0gVEFCLCBvKSk7XG4gICAgfVxuICAgIHRlc3QgPSAoKHJlZiQgPSB0aGlzLnRlc3QpICE9IG51bGwgPyByZWYkLmNvbXBpbGUobywgTEVWRUxfUEFSRU4pIDogdm9pZCA4KSB8fCAnJztcbiAgICBpZiAoISh0aGlzLnVwZGF0ZSB8fCB0aGlzWydlbHNlJ10pKSB7XG4gICAgICBoZWFkID0gdGVzdCA/IFwid2hpbGUgKFwiICsgdGVzdCA6ICdmb3IgKDs7JztcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZCA9ICdmb3IgKCc7XG4gICAgICBpZiAodGhpc1snZWxzZSddKSB7XG4gICAgICAgIGhlYWQgKz0gKHRoaXMueWV0ID0gby5zY29wZS50ZW1wb3JhcnkoJ3lldCcpKSArIFwiID0gdHJ1ZVwiO1xuICAgICAgfVxuICAgICAgaGVhZCArPSBcIjtcIiArICh0ZXN0ICYmICcgJyArIHRlc3QpICsgXCI7XCI7XG4gICAgICBpZiAodGhhdCA9IHRoaXMudXBkYXRlKSB7XG4gICAgICAgIGhlYWQgKz0gJyAnICsgdGhhdC5jb21waWxlKG8sIExFVkVMX1BBUkVOKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhlYWQgKyAnKSB7JyArIHRoaXMuY29tcGlsZUJvZHkoKG8uaW5kZW50ICs9IFRBQiwgbykpO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZUJvZHkgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgbGluZXMsIHlldCwgdGFiLCBjb2RlLCByZXQsIG1pZCwgZW1wdHksIHJlc3VsdE5hbWUsIGxhc3QsIGhhc0xvb3AsIHJlcywgdGVtcCwga2V5JCwgcmVmJCwgdGhhdDtcbiAgICBvWydicmVhayddID0gb1snY29udGludWUnXSA9IHRydWU7XG4gICAgbGluZXMgPSB0aGlzLmJvZHkubGluZXMsIHlldCA9IHRoaXMueWV0LCB0YWIgPSB0aGlzLnRhYjtcbiAgICBjb2RlID0gcmV0ID0gbWlkID0gJyc7XG4gICAgZW1wdHkgPSB0aGlzLm9iakNvbXAgPyAne30nIDogJ1tdJztcbiAgICByZXN1bHROYW1lID0gdGhpcy5vYmpDb21wID8gJ3Jlc3VsdE9iaiQnIDogJ3Jlc3VsdHMkJztcbiAgICBsYXN0ID0gbGluZXMgIT0gbnVsbCA/IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdIDogdm9pZCA4O1xuICAgIGlmICghKCh0aGlzLmlzQ29tcHJlaGVuc2lvbiB8fCB0aGlzLmluQ29tcHJlaGVuc2lvbikgJiYgIShsYXN0ICE9IG51bGwgJiYgbGFzdC5pc0NvbXByZWhlbnNpb24pKSkge1xuICAgICAgaWYgKGxhc3QgIT0gbnVsbCkge1xuICAgICAgICBsYXN0LnRyYXZlcnNlQ2hpbGRyZW4oZnVuY3Rpb24oaXQpe1xuICAgICAgICAgIHZhciByZWYkO1xuICAgICAgICAgIGlmIChpdCBpbnN0YW5jZW9mIEJsb2NrICYmIChyZWYkID0gaXQubGluZXMpW3JlZiQubGVuZ3RoIC0gMV0gaW5zdGFuY2VvZiBXaGlsZSkge1xuICAgICAgICAgICAgaGFzTG9vcCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJldHVybnMgJiYgIXRoaXMucmVzVmFyKSB7XG4gICAgICAgIHRoaXMucmVzVmFyID0gcmVzID0gby5zY29wZS5hc3NpZ24ocmVzdWx0TmFtZSwgZW1wdHkpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucmVzVmFyICYmIChsYXN0IGluc3RhbmNlb2YgV2hpbGUgfHwgaGFzTG9vcCkpIHtcbiAgICAgICAgdGVtcCA9IG8uc2NvcGUudGVtcG9yYXJ5KCdscmVzdWx0Jyk7XG4gICAgICAgIGxpbmVzLnVuc2hpZnQoQXNzaWduKFZhcih0ZW1wKSwgbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ub2JqQ29tcFxuICAgICAgICAgID8gT2JqKClcbiAgICAgICAgICA6IEFycigpLCAnPScpKTtcbiAgICAgICAgaWYgKGxpbmVzW2tleSQgPSBsaW5lcy5sZW5ndGggLSAxXSAhPSBudWxsKSB7XG4gICAgICAgICAgbGluZXNba2V5JF0gPSBsaW5lc1trZXkkXS5tYWtlUmV0dXJuKHRlbXApO1xuICAgICAgICB9XG4gICAgICAgIG1pZCArPSBUQUIgKyBcIlwiICsgQ2hhaW4oVmFyKHRoaXMucmVzVmFyKSkuYWRkKEluZGV4KEtleSgncHVzaCcpLCAnLicsIHRydWUpKS5hZGQoQ2FsbChbQ2hhaW4oVmFyKHRlbXApKV0pKS5jb21waWxlKG8pICsgXCI7XFxuXCIgKyB0aGlzLnRhYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGFzUmV0dXJuZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5yZXNWYXIpIHtcbiAgICAgICAgICB0aGlzLmJvZHkubWFrZVJldHVybih0aGlzLnJlc1Zhcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMucmV0dXJucykge1xuICAgICAgaWYgKHRoaXMub2JqQ29tcCkge1xuICAgICAgICB0aGlzLmJvZHkgPSBCbG9jayh0aGlzLmJvZHkubWFrZVJldHVybihyZXN1bHROYW1lLCB0cnVlKSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5ndWFyZCAmJiB0aGlzLm9iakNvbXApIHtcbiAgICAgICAgdGhpcy5ib2R5ID0gSWYodGhpcy5ndWFyZCwgdGhpcy5ib2R5KTtcbiAgICAgIH1cbiAgICAgIGlmICgoIWxhc3QgaW5zdGFuY2VvZiBXaGlsZSAmJiAhdGhpcy5oYXNSZXR1cm5lZCkgfHwgdGhpcy5pc0NvbXByZWhlbnNpb24gfHwgdGhpcy5pbkNvbXByZWhlbnNpb24pIHtcbiAgICAgICAgaWYgKGxpbmVzW2tleSQgPSBsaW5lcy5sZW5ndGggLSAxXSAhPSBudWxsKSB7XG4gICAgICAgICAgbGluZXNba2V5JF0gPSBsaW5lc1trZXkkXS5tYWtlUmV0dXJuKHJlcyA9IG8uc2NvcGUuYXNzaWduKHJlc3VsdE5hbWUsIGVtcHR5KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldCArPSBcIlxcblwiICsgdGhpcy50YWIgKyBcInJldHVybiBcIiArIChyZXMgfHwgZW1wdHkpICsgXCI7XCI7XG4gICAgICBpZiAoKHJlZiQgPSB0aGlzWydlbHNlJ10pICE9IG51bGwpIHtcbiAgICAgICAgcmVmJC5tYWtlUmV0dXJuKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHlldCAmJiBsaW5lcy51bnNoaWZ0KEpTKHlldCArIFwiID0gZmFsc2U7XCIpKTtcbiAgICBpZiAodGhhdCA9IHRoaXMuYm9keS5jb21waWxlKG8sIExFVkVMX1RPUCkpIHtcbiAgICAgIGNvZGUgKz0gXCJcXG5cIiArIHRoYXQgKyBcIlxcblwiICsgdGFiO1xuICAgIH1cbiAgICBjb2RlICs9IG1pZDtcbiAgICBjb2RlICs9ICd9JztcbiAgICBpZiAodGhpcy5wb3N0KSB7XG4gICAgICBjb2RlICs9IFwiIHdoaWxlIChcIiArIHRoaXMudGVzdC5jb21waWxlKChvLnRhYiA9IHRhYiwgbyksIExFVkVMX1BBUkVOKSArIFwiKTtcIjtcbiAgICB9XG4gICAgaWYgKHlldCkge1xuICAgICAgY29kZSArPSBcIiBpZiAoXCIgKyB5ZXQgKyBcIikgXCIgKyB0aGlzLmNvbXBpbGVCbG9jayhvLCBCbG9jayh0aGlzWydlbHNlJ10pKTtcbiAgICAgIG8uc2NvcGUuZnJlZSh5ZXQpO1xuICAgIH1cbiAgICByZXR1cm4gY29kZSArIHJldDtcbiAgfTtcbiAgcmV0dXJuIFdoaWxlO1xufShOb2RlKSk7XG5leHBvcnRzLkZvciA9IEZvciA9IChmdW5jdGlvbihzdXBlcmNsYXNzKXtcbiAgdmFyIHByb3RvdHlwZSA9IGV4dGVuZCQoKGltcG9ydCQoRm9yLCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdGb3InLCBGb3IpLCBzdXBlcmNsYXNzKS5wcm90b3R5cGUsIGNvbnN0cnVjdG9yID0gRm9yO1xuICBmdW5jdGlvbiBGb3IoaXQpe1xuICAgIHZhciBpJCwgeCQsIHJlZiQsIGxlbiQ7XG4gICAgaW1wb3J0QWxsJCh0aGlzLCBpdCk7XG4gICAgaWYgKHRoaXMuaXRlbSBpbnN0YW5jZW9mIFZhciAmJiAhdGhpcy5pdGVtLnZhbHVlKSB7XG4gICAgICB0aGlzLml0ZW0gPSBudWxsO1xuICAgIH1cbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gdGhpcy5raW5kIHx8IFtdKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgeCQgPSByZWYkW2kkXTtcbiAgICAgIHRoaXNbeCRdID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3duICYmICF0aGlzLm9iamVjdCkge1xuICAgICAgdGhpcy5jYXJwKCdgZm9yIG93bmAgcmVxdWlyZXMgYG9mYCcpO1xuICAgIH1cbiAgfVxuICBwcm90b3R5cGUuY2hpbGRyZW4gPSBbJ2l0ZW0nLCAnc291cmNlJywgJ2Zyb20nLCAndG8nLCAnc3RlcCcsICdib2R5J107XG4gIHByb3RvdHlwZS5hU291cmNlID0gbnVsbDtcbiAgcHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiAodGhpcy5raW5kLmNvbmNhdCh0aGlzLmluZGV4KSkuam9pbignICcpO1xuICB9O1xuICBwcm90b3R5cGUuYWRkQm9keSA9IGZ1bmN0aW9uKGJvZHkpe1xuICAgIHZhciByZWYkLCB4JCwgdGhhdCwgdGhpcyQgPSB0aGlzO1xuICAgIGlmICh0aGlzWydsZXQnXSkge1xuICAgICAgaWYgKHJlZiQgPSB0aGlzLnJlZiwgZGVsZXRlIHRoaXMucmVmLCByZWYkKSB7XG4gICAgICAgIHRoaXMuaXRlbSA9IExpdGVyYWwoJy4uJyk7XG4gICAgICB9XG4gICAgICBib2R5ID0gQmxvY2soQ2FsbFsnbGV0J10oKHgkID0gW10sICh0aGF0ID0gdGhpcy5pbmRleCkgJiYgeCQucHVzaChBc3NpZ24oVmFyKHRoYXQpLCBMaXRlcmFsKCdpbmRleCQkJykpKSwgKHRoYXQgPSB0aGlzLml0ZW0pICYmIHgkLnB1c2goQXNzaWduKHRoYXQsIExpdGVyYWwoJ2l0ZW0kJCcpKSksIHgkKSwgYm9keSkpO1xuICAgIH1cbiAgICBzdXBlcmNsYXNzLnByb3RvdHlwZS5hZGRCb2R5LmNhbGwodGhpcywgYm9keSk7XG4gICAgaWYgKHRoaXMuZ3VhcmQgJiYgdGhpc1snbGV0J10gJiYgKHRoaXMuaW5kZXggfHwgdGhpcy5pdGVtKSkge1xuICAgICAgdGhpcy5ib2R5LmxpbmVzWzBdWydpZiddLnRyYXZlcnNlQ2hpbGRyZW4oZnVuY3Rpb24oaXQpe1xuICAgICAgICBpZiAoaXQgaW5zdGFuY2VvZiBWYXIpIHtcbiAgICAgICAgICBpZiAodGhpcyQuaW5kZXggJiYgaXQudmFsdWUgPT09IHRoaXMkLmluZGV4KSB7XG4gICAgICAgICAgICBpdC52YWx1ZSA9ICdpbmRleCQkJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMkLml0ZW0gJiYgaXQudmFsdWUgPT09IHRoaXMkLml0ZW0udmFsdWUpIHtcbiAgICAgICAgICAgIGl0LnZhbHVlID0gJ2l0ZW0kJCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXNbJ2xldCddKSB7XG4gICAgICBkZWxldGUgdGhpcy5pbmRleDtcbiAgICAgIGRlbGV0ZSB0aGlzLml0ZW07XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgdGVtcHMsIGlkeCwgcmVmJCwgcHZhciwgc3RlcCwgdHZhciwgdGFpbCwgZnZhciwgdmFycywgZXEsIGNvbmQsIHN2YXIsIHNyY1BhcnQsIGx2YXIsIGhlYWQsIHRoYXQsIGJvZHk7XG4gICAgby5sb29wID0gdHJ1ZTtcbiAgICB0ZW1wcyA9IHRoaXMudGVtcHMgPSBbXTtcbiAgICBpZiAodGhpcy5vYmplY3QgJiYgdGhpcy5pbmRleCkge1xuICAgICAgby5zY29wZS5kZWNsYXJlKGlkeCA9IHRoaXMuaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wcy5wdXNoKGlkeCA9IG8uc2NvcGUudGVtcG9yYXJ5KCdpJykpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuYm9keSkge1xuICAgICAgdGhpcy5hZGRCb2R5KEJsb2NrKFZhcihpZHgpKSk7XG4gICAgfVxuICAgIGlmICghdGhpcy5vYmplY3QpIHtcbiAgICAgIHJlZiQgPSAodGhpcy5zdGVwIHx8IExpdGVyYWwoMSkpLmNvbXBpbGVMb29wUmVmZXJlbmNlKG8sICdzdGVwJyksIHB2YXIgPSByZWYkWzBdLCBzdGVwID0gcmVmJFsxXTtcbiAgICAgIHB2YXIgPT09IHN0ZXAgfHwgdGVtcHMucHVzaChwdmFyKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZnJvbSkge1xuICAgICAgcmVmJCA9IHRoaXMudG8uY29tcGlsZUxvb3BSZWZlcmVuY2UobywgJ3RvJyksIHR2YXIgPSByZWYkWzBdLCB0YWlsID0gcmVmJFsxXTtcbiAgICAgIGZ2YXIgPSB0aGlzLmZyb20uY29tcGlsZShvLCBMRVZFTF9MSVNUKTtcbiAgICAgIHZhcnMgPSBpZHggKyBcIiA9IFwiICsgZnZhcjtcbiAgICAgIGlmICh0YWlsICE9PSB0dmFyKSB7XG4gICAgICAgIHZhcnMgKz0gXCIsIFwiICsgdGFpbDtcbiAgICAgICAgdGVtcHMucHVzaCh0dmFyKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5zdGVwICYmICtmdmFyID4gK3R2YXIpIHtcbiAgICAgICAgcHZhciA9IHN0ZXAgPSAtMTtcbiAgICAgIH1cbiAgICAgIGVxID0gdGhpcy5vcCA9PT0gJ3RpbCcgPyAnJyA6ICc9JztcbiAgICAgIGNvbmQgPSArcHZhclxuICAgICAgICA/IGlkeCArIFwiIFwiICsgJzw+Jy5jaGFyQXQocHZhciA8IDApICsgZXEgKyBcIiBcIiArIHR2YXJcbiAgICAgICAgOiBwdmFyICsgXCIgPCAwID8gXCIgKyBpZHggKyBcIiA+XCIgKyBlcSArIFwiIFwiICsgdHZhciArIFwiIDogXCIgKyBpZHggKyBcIiA8XCIgKyBlcSArIFwiIFwiICsgdHZhcjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMucmVmKSB7XG4gICAgICAgIHRoaXMuaXRlbSA9IFZhcihvLnNjb3BlLnRlbXBvcmFyeSgneCcpKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLml0ZW0gfHwgdGhpcy5vYmplY3QgJiYgdGhpcy5vd24gfHwgdGhpc1snbGV0J10pIHtcbiAgICAgICAgcmVmJCA9IHRoaXMuc291cmNlLmNvbXBpbGVMb29wUmVmZXJlbmNlKG8sICdyZWYnLCAhdGhpcy5vYmplY3QpLCBzdmFyID0gcmVmJFswXSwgc3JjUGFydCA9IHJlZiRbMV07XG4gICAgICAgIHN2YXIgPT09IHNyY1BhcnQgfHwgdGVtcHMucHVzaChzdmFyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN2YXIgPSBzcmNQYXJ0ID0gdGhpcy5zb3VyY2UuY29tcGlsZShvLCBMRVZFTF9QQVJFTik7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMub2JqZWN0KSB7XG4gICAgICAgIGlmICgwID4gcHZhciAmJiB+fnB2YXIgPT09ICtwdmFyKSB7XG4gICAgICAgICAgdmFycyA9IGlkeCArIFwiID0gXCIgKyBzcmNQYXJ0ICsgXCIubGVuZ3RoIC0gMVwiO1xuICAgICAgICAgIGNvbmQgPSBpZHggKyBcIiA+PSAwXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcHMucHVzaChsdmFyID0gby5zY29wZS50ZW1wb3JhcnkoJ2xlbicpKTtcbiAgICAgICAgICB2YXJzID0gaWR4ICsgXCIgPSAwLCBcIiArIGx2YXIgKyBcIiA9IFwiICsgc3JjUGFydCArIFwiLmxlbmd0aFwiO1xuICAgICAgICAgIGNvbmQgPSBpZHggKyBcIiA8IFwiICsgbHZhcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzWydlbHNlJ10gJiYgKHRoaXMueWV0ID0gby5zY29wZS50ZW1wb3JhcnkoJ3lldCcpKTtcbiAgICBoZWFkID0gJ2ZvciAoJztcbiAgICBpZiAodGhpcy5vYmplY3QpIHtcbiAgICAgIGhlYWQgKz0gaWR4ICsgXCIgaW4gXCI7XG4gICAgfVxuICAgIGlmICh0aGF0ID0gdGhpcy55ZXQpIHtcbiAgICAgIGhlYWQgKz0gdGhhdCArIFwiID0gdHJ1ZSwgXCI7XG4gICAgfVxuICAgIGlmICh0aGlzLm9iamVjdCkge1xuICAgICAgaGVhZCArPSBzcmNQYXJ0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGVwID09PSBwdmFyIHx8ICh2YXJzICs9ICcsICcgKyBzdGVwKTtcbiAgICAgIGhlYWQgKz0gKHZhcnMgKyBcIjsgXCIgKyBjb25kICsgXCI7IFwiKSArICgxID09IE1hdGguYWJzKHB2YXIpXG4gICAgICAgID8gKHB2YXIgPCAwID8gJy0tJyA6ICcrKycpICsgaWR4XG4gICAgICAgIDogaWR4ICsgKHB2YXIgPCAwXG4gICAgICAgICAgPyAnIC09ICcgKyBwdmFyLnNsaWNlKDEpXG4gICAgICAgICAgOiAnICs9ICcgKyBwdmFyKSk7XG4gICAgfVxuICAgIHRoaXMub3duICYmIChoZWFkICs9IFwiKSBpZiAoXCIgKyBvLnNjb3BlLmFzc2lnbignb3duJCcsICd7fS5oYXNPd25Qcm9wZXJ0eScpICsgXCIuY2FsbChcIiArIHN2YXIgKyBcIiwgXCIgKyBpZHggKyBcIilcIik7XG4gICAgaGVhZCArPSAnKSB7JztcbiAgICBpZiAodGhpc1snbGV0J10pIHtcbiAgICAgIHRoaXMuYm9keS50cmF2ZXJzZUNoaWxkcmVuKGZ1bmN0aW9uKGl0KXtcbiAgICAgICAgc3dpdGNoIChpdC52YWx1ZSkge1xuICAgICAgICBjYXNlICdpbmRleCQkJzpcbiAgICAgICAgICBpdC52YWx1ZSA9IGlkeDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaXRlbSQkJzpcbiAgICAgICAgICBpdC52YWx1ZSA9IHN2YXIgKyBcIltcIiArIGlkeCArIFwiXVwiO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgby5pbmRlbnQgKz0gVEFCO1xuICAgIGlmICh0aGlzLmluZGV4ICYmICF0aGlzLm9iamVjdCkge1xuICAgICAgaGVhZCArPSAnXFxuJyArIG8uaW5kZW50ICsgQXNzaWduKFZhcih0aGlzLmluZGV4KSwgSlMoaWR4KSkuY29tcGlsZShvLCBMRVZFTF9UT1ApICsgJzsnO1xuICAgIH1cbiAgICBpZiAodGhpcy5pdGVtICYmICF0aGlzLml0ZW0uaXNFbXB0eSgpKSB7XG4gICAgICBoZWFkICs9ICdcXG4nICsgby5pbmRlbnQgKyBBc3NpZ24odGhpcy5pdGVtLCBKUyhzdmFyICsgXCJbXCIgKyBpZHggKyBcIl1cIikpLmNvbXBpbGUobywgTEVWRUxfVE9QKSArICc7JztcbiAgICB9XG4gICAgaWYgKHRoaXMucmVmKSB7XG4gICAgICBvLnJlZiA9IHRoaXMuaXRlbS52YWx1ZTtcbiAgICB9XG4gICAgYm9keSA9IHRoaXMuY29tcGlsZUJvZHkobyk7XG4gICAgaWYgKCh0aGlzLml0ZW0gfHwgKHRoaXMuaW5kZXggJiYgIXRoaXMub2JqZWN0KSkgJiYgJ30nID09PSBib2R5LmNoYXJBdCgwKSkge1xuICAgICAgaGVhZCArPSAnXFxuJyArIHRoaXMudGFiO1xuICAgIH1cbiAgICByZXR1cm4gaGVhZCArIGJvZHk7XG4gIH07XG4gIHJldHVybiBGb3I7XG59KFdoaWxlKSk7XG5leHBvcnRzLlRyeSA9IFRyeSA9IChmdW5jdGlvbihzdXBlcmNsYXNzKXtcbiAgdmFyIHByb3RvdHlwZSA9IGV4dGVuZCQoKGltcG9ydCQoVHJ5LCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdUcnknLCBUcnkpLCBzdXBlcmNsYXNzKS5wcm90b3R5cGUsIGNvbnN0cnVjdG9yID0gVHJ5O1xuICBmdW5jdGlvbiBUcnkoYXR0ZW1wdCwgdGhyb3duLCByZWNvdmVyeSwgZW5zdXJlKXtcbiAgICB2YXIgcmVmJDtcbiAgICB0aGlzLmF0dGVtcHQgPSBhdHRlbXB0O1xuICAgIHRoaXMudGhyb3duID0gdGhyb3duO1xuICAgIHRoaXMucmVjb3ZlcnkgPSByZWNvdmVyeTtcbiAgICB0aGlzLmVuc3VyZSA9IGVuc3VyZTtcbiAgICBpZiAoKHJlZiQgPSB0aGlzLnJlY292ZXJ5KSAhPSBudWxsKSB7XG4gICAgICByZWYkLmxpbmVzLnVuc2hpZnQoQXNzaWduKHRoaXMudGhyb3duIHx8IFZhcignZScpLCBWYXIoJ2UkJykpKTtcbiAgICB9XG4gIH1cbiAgcHJvdG90eXBlLmNoaWxkcmVuID0gWydhdHRlbXB0JywgJ3JlY292ZXJ5JywgJ2Vuc3VyZSddO1xuICBwcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMudGhyb3duO1xuICB9O1xuICBwcm90b3R5cGUuaXNTdGF0ZW1lbnQgPSBZRVM7XG4gIHByb3RvdHlwZS5pc0NhbGxhYmxlID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVmJDtcbiAgICByZXR1cm4gKChyZWYkID0gdGhpcy5yZWNvdmVyeSkgIT0gbnVsbCA/IHJlZiQuaXNDYWxsYWJsZSgpIDogdm9pZCA4KSAmJiB0aGlzLmF0dGVtcHQuaXNDYWxsYWJsZSgpO1xuICB9O1xuICBwcm90b3R5cGUuZ2V0SnVtcCA9IGZ1bmN0aW9uKGl0KXtcbiAgICB2YXIgcmVmJDtcbiAgICByZXR1cm4gdGhpcy5hdHRlbXB0LmdldEp1bXAoaXQpIHx8ICgocmVmJCA9IHRoaXMucmVjb3ZlcnkpICE9IG51bGwgPyByZWYkLmdldEp1bXAoaXQpIDogdm9pZCA4KTtcbiAgfTtcbiAgcHJvdG90eXBlLm1ha2VSZXR1cm4gPSBmdW5jdGlvbigpe1xuICAgIHZhciByZWYkO1xuICAgIHRoaXMuYXR0ZW1wdCA9IChyZWYkID0gdGhpcy5hdHRlbXB0KS5tYWtlUmV0dXJuLmFwcGx5KHJlZiQsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHRoaXMucmVjb3ZlcnkgIT0gbnVsbCkge1xuICAgICAgdGhpcy5yZWNvdmVyeSA9IChyZWYkID0gdGhpcy5yZWNvdmVyeSkubWFrZVJldHVybi5hcHBseShyZWYkLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGVOb2RlID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIGNvZGUsIHRoYXQ7XG4gICAgby5pbmRlbnQgKz0gVEFCO1xuICAgIGNvZGUgPSAndHJ5ICcgKyB0aGlzLmNvbXBpbGVCbG9jayhvLCB0aGlzLmF0dGVtcHQpO1xuICAgIGlmICh0aGF0ID0gdGhpcy5yZWNvdmVyeSB8fCAhdGhpcy5lbnN1cmUgJiYgSlMoJycpKSB7XG4gICAgICBjb2RlICs9ICcgY2F0Y2ggKGUkKSAnICsgdGhpcy5jb21waWxlQmxvY2sobywgdGhhdCk7XG4gICAgfVxuICAgIGlmICh0aGF0ID0gdGhpcy5lbnN1cmUpIHtcbiAgICAgIGNvZGUgKz0gJyBmaW5hbGx5ICcgKyB0aGlzLmNvbXBpbGVCbG9jayhvLCB0aGF0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvZGU7XG4gIH07XG4gIHJldHVybiBUcnk7XG59KE5vZGUpKTtcbmV4cG9ydHMuU3dpdGNoID0gU3dpdGNoID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChTd2l0Y2gsIHN1cGVyY2xhc3MpLmRpc3BsYXlOYW1lID0gJ1N3aXRjaCcsIFN3aXRjaCksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBTd2l0Y2g7XG4gIGZ1bmN0aW9uIFN3aXRjaCh0eXBlLCB0b3BpYywgY2FzZXMsICRkZWZhdWx0KXtcbiAgICB2YXIgbGFzdCwgcmVmJDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMudG9waWMgPSB0b3BpYztcbiAgICB0aGlzLmNhc2VzID0gY2FzZXM7XG4gICAgdGhpc1snZGVmYXVsdCddID0gJGRlZmF1bHQ7XG4gICAgaWYgKHR5cGUgPT09ICdtYXRjaCcpIHtcbiAgICAgIGlmICh0b3BpYykge1xuICAgICAgICB0aGlzLnRhcmdldCA9IEFycih0b3BpYyk7XG4gICAgICB9XG4gICAgICB0aGlzLnRvcGljID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRvcGljKSB7XG4gICAgICAgIGlmICh0b3BpYy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdGhyb3cgXCJjYW4ndCBoYXZlIG1vcmUgdGhhbiBvbmUgdG9waWMgaW4gc3dpdGNoIHN0YXRlbWVudFwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9waWMgPSB0aGlzLnRvcGljWzBdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5jYXNlcy5sZW5ndGggJiYgKGxhc3QgPSAocmVmJCA9IHRoaXMuY2FzZXMpW3JlZiQubGVuZ3RoIC0gMV0pLnRlc3RzLmxlbmd0aCA9PT0gMSAmJiBsYXN0LnRlc3RzWzBdIGluc3RhbmNlb2YgVmFyICYmIGxhc3QudGVzdHNbMF0udmFsdWUgPT09ICdfJykge1xuICAgICAgdGhpcy5jYXNlcy5wb3AoKTtcbiAgICAgIHRoaXNbJ2RlZmF1bHQnXSA9IGxhc3QuYm9keTtcbiAgICB9XG4gIH1cbiAgcHJvdG90eXBlLmNoaWxkcmVuID0gWyd0b3BpYycsICdjYXNlcycsICdkZWZhdWx0J107XG4gIHByb3RvdHlwZS5hU291cmNlID0gJ3RvcGljJztcbiAgcHJvdG90eXBlLmFUYXJnZXRzID0gWydjYXNlcycsICdkZWZhdWx0J107XG4gIHByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy50eXBlO1xuICB9O1xuICBwcm90b3R5cGUuaXNTdGF0ZW1lbnQgPSBZRVM7XG4gIHByb3RvdHlwZS5pc0NhbGxhYmxlID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgaSQsIHJlZiQsIGxlbiQsIGM7XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHRoaXMuY2FzZXMpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICBjID0gcmVmJFtpJF07XG4gICAgICBpZiAoIWMuaXNDYWxsYWJsZSgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXNbJ2RlZmF1bHQnXSkge1xuICAgICAgcmV0dXJuIHRoaXNbJ2RlZmF1bHQnXS5pc0NhbGxhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcbiAgcHJvdG90eXBlLmdldEp1bXAgPSBmdW5jdGlvbihjdHgpe1xuICAgIHZhciBpJCwgcmVmJCwgbGVuJCwgYywgdGhhdDtcbiAgICBjdHggfHwgKGN0eCA9IHt9KTtcbiAgICBjdHhbJ2JyZWFrJ10gPSB0cnVlO1xuICAgIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSB0aGlzLmNhc2VzKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgYyA9IHJlZiRbaSRdO1xuICAgICAgaWYgKHRoYXQgPSBjLmJvZHkuZ2V0SnVtcChjdHgpKSB7XG4gICAgICAgIHJldHVybiB0aGF0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKHJlZiQgPSB0aGlzWydkZWZhdWx0J10pICE9IG51bGwgPyByZWYkLmdldEp1bXAoY3R4KSA6IHZvaWQgODtcbiAgfTtcbiAgcHJvdG90eXBlLm1ha2VSZXR1cm4gPSBmdW5jdGlvbigpe1xuICAgIHZhciBpJCwgcmVmJCwgbGVuJCwgYztcbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gdGhpcy5jYXNlcykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIGMgPSByZWYkW2kkXTtcbiAgICAgIGMubWFrZVJldHVybi5hcHBseShjLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBpZiAoKHJlZiQgPSB0aGlzWydkZWZhdWx0J10pICE9IG51bGwpIHtcbiAgICAgIHJlZiQubWFrZVJldHVybi5hcHBseShyZWYkLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGVOb2RlID0gZnVuY3Rpb24obyl7XG4gICAgdmFyIHRhYiwgcmVmJCwgdGFyZ2V0Tm9kZSwgdGFyZ2V0LCB0b3BpYywgdCwgY29kZSwgc3RvcCwgaSQsIGxlbiQsIGksIGMsIHRoYXQ7XG4gICAgdGFiID0gdGhpcy50YWI7XG4gICAgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICByZWYkID0gQ2hhaW4odGhpcy50YXJnZXQpLmNhY2hlUmVmZXJlbmNlKG8pLCB0YXJnZXROb2RlID0gcmVmJFswXSwgdGFyZ2V0ID0gcmVmJFsxXTtcbiAgICB9XG4gICAgdG9waWMgPSB0aGlzLnR5cGUgPT09ICdtYXRjaCdcbiAgICAgID8gKHQgPSB0YXJnZXRcbiAgICAgICAgPyBbdGFyZ2V0Tm9kZV1cbiAgICAgICAgOiBbXSwgQmxvY2sodC5jb25jYXQoW0xpdGVyYWwoJ2ZhbHNlJyldKSkuY29tcGlsZShvLCBMRVZFTF9QQVJFTikpXG4gICAgICA6ICEhdGhpcy50b3BpYyAmJiB0aGlzLmFuYXBob3JpemUoKS5jb21waWxlKG8sIExFVkVMX1BBUkVOKTtcbiAgICBjb2RlID0gXCJzd2l0Y2ggKFwiICsgdG9waWMgKyBcIikge1xcblwiO1xuICAgIHN0b3AgPSB0aGlzWydkZWZhdWx0J10gfHwgdGhpcy5jYXNlcy5sZW5ndGggLSAxO1xuICAgIG9bJ2JyZWFrJ10gPSB0cnVlO1xuICAgIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSB0aGlzLmNhc2VzKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgaSA9IGkkO1xuICAgICAgYyA9IHJlZiRbaSRdO1xuICAgICAgY29kZSArPSBjLmNvbXBpbGVDYXNlKG8sIHRhYiwgaSA9PT0gc3RvcCwgdGhpcy50eXBlID09PSAnbWF0Y2gnIHx8ICF0b3BpYywgdGhpcy50eXBlLCB0YXJnZXQpO1xuICAgIH1cbiAgICBpZiAodGhpc1snZGVmYXVsdCddKSB7XG4gICAgICBvLmluZGVudCA9IHRhYiArIFRBQjtcbiAgICAgIGlmICh0aGF0ID0gdGhpc1snZGVmYXVsdCddLmNvbXBpbGUobywgTEVWRUxfVE9QKSkge1xuICAgICAgICBjb2RlICs9IHRhYiArIChcImRlZmF1bHQ6XFxuXCIgKyB0aGF0ICsgXCJcXG5cIik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb2RlICsgdGFiICsgJ30nO1xuICB9O1xuICByZXR1cm4gU3dpdGNoO1xufShOb2RlKSk7XG5leHBvcnRzLkNhc2UgPSBDYXNlID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChDYXNlLCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdDYXNlJywgQ2FzZSksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBDYXNlO1xuICBmdW5jdGlvbiBDYXNlKHRlc3RzLCBib2R5KXtcbiAgICB0aGlzLnRlc3RzID0gdGVzdHM7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgfVxuICBwcm90b3R5cGUuY2hpbGRyZW4gPSBbJ3Rlc3RzJywgJ2JvZHknXTtcbiAgcHJvdG90eXBlLmlzQ2FsbGFibGUgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLmJvZHkuaXNDYWxsYWJsZSgpO1xuICB9O1xuICBwcm90b3R5cGUubWFrZVJldHVybiA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJlZiQsIHJlZjEkO1xuICAgIGlmICgoKHJlZiQgPSAocmVmMSQgPSB0aGlzLmJvZHkubGluZXMpW3JlZjEkLmxlbmd0aCAtIDFdKSAhPSBudWxsID8gcmVmJC52YWx1ZSA6IHZvaWQgOCkgIT09ICdmYWxsdGhyb3VnaCcpIHtcbiAgICAgIChyZWYxJCA9IHRoaXMuYm9keSkubWFrZVJldHVybi5hcHBseShyZWYxJCwgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlQ2FzZSA9IGZ1bmN0aW9uKG8sIHRhYiwgbm9iciwgYm9vbCwgdHlwZSwgdGFyZ2V0KXtcbiAgICB2YXIgdGVzdHMsIGkkLCByZWYkLCBsZW4kLCB0ZXN0LCBqJCwgcmVmMSQsIGxlbjEkLCB0LCBpLCB0YXIsIGJpbmFyeSwgdGhhdCwgY29kZSwgbGluZXMsIGxhc3QsIGZ0O1xuICAgIHRlc3RzID0gW107XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHRoaXMudGVzdHMpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICB0ZXN0ID0gcmVmJFtpJF07XG4gICAgICB0ZXN0ID0gdGVzdC5leHBhbmRTbGljZShvKS51bndyYXAoKTtcbiAgICAgIGlmICh0ZXN0IGluc3RhbmNlb2YgQXJyICYmIHR5cGUgIT09ICdtYXRjaCcpIHtcbiAgICAgICAgZm9yIChqJCA9IDAsIGxlbjEkID0gKHJlZjEkID0gdGVzdC5pdGVtcykubGVuZ3RoOyBqJCA8IGxlbjEkOyArK2okKSB7XG4gICAgICAgICAgdCA9IHJlZjEkW2okXTtcbiAgICAgICAgICB0ZXN0cy5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXN0cy5wdXNoKHRlc3QpO1xuICAgICAgfVxuICAgIH1cbiAgICB0ZXN0cy5sZW5ndGggfHwgdGVzdHMucHVzaChMaXRlcmFsKCd2b2lkJykpO1xuICAgIGlmICh0eXBlID09PSAnbWF0Y2gnKSB7XG4gICAgICBmb3IgKGkkID0gMCwgbGVuJCA9IHRlc3RzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICAgIGkgPSBpJDtcbiAgICAgICAgdGVzdCA9IHRlc3RzW2kkXTtcbiAgICAgICAgdGFyID0gQ2hhaW4odGFyZ2V0KS5hZGQoSW5kZXgoTGl0ZXJhbChpKSwgJy4nLCB0cnVlKSk7XG4gICAgICAgIHRlc3RzW2ldID0gQ2hhaW4odGVzdCkuYXV0b0NvbXBhcmUodGFyZ2V0ID8gW3Rhcl0gOiBudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJvb2wpIHtcbiAgICAgIGJpbmFyeSA9IHR5cGUgPT09ICdtYXRjaCcgPyAnJiYnIDogJ3x8JztcbiAgICAgIHQgPSB0ZXN0c1swXTtcbiAgICAgIGkgPSAwO1xuICAgICAgd2hpbGUgKHRoYXQgPSB0ZXN0c1srK2ldKSB7XG4gICAgICAgIHQgPSBCaW5hcnkoYmluYXJ5LCB0LCB0aGF0KTtcbiAgICAgIH1cbiAgICAgIHRlc3RzID0gWyh0aGlzLnQgPSB0LCB0aGlzLmFTb3VyY2UgPSAndCcsIHRoaXMuYVRhcmdldHMgPSBbJ2JvZHknXSwgdGhpcykuYW5hcGhvcml6ZSgpLmludmVydCgpXTtcbiAgICB9XG4gICAgY29kZSA9ICcnO1xuICAgIGZvciAoaSQgPSAwLCBsZW4kID0gdGVzdHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIHQgPSB0ZXN0c1tpJF07XG4gICAgICBjb2RlICs9IHRhYiArIChcImNhc2UgXCIgKyB0LmNvbXBpbGUobywgTEVWRUxfUEFSRU4pICsgXCI6XFxuXCIpO1xuICAgIH1cbiAgICBsaW5lcyA9IHRoaXMuYm9keS5saW5lcztcbiAgICBsYXN0ID0gbGluZXNbbGluZXMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGZ0ID0gKGxhc3QgIT0gbnVsbCA/IGxhc3QudmFsdWUgOiB2b2lkIDgpID09PSAnZmFsbHRocm91Z2gnKSB7XG4gICAgICBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXSA9IEpTKCcvLyBmYWxsdGhyb3VnaCcpO1xuICAgIH1cbiAgICBvLmluZGVudCA9IHRhYiArPSBUQUI7XG4gICAgaWYgKHRoYXQgPSB0aGlzLmJvZHkuY29tcGlsZShvLCBMRVZFTF9UT1ApKSB7XG4gICAgICBjb2RlICs9IHRoYXQgKyAnXFxuJztcbiAgICB9XG4gICAgaWYgKCEobm9iciB8fCBmdCB8fCBsYXN0IGluc3RhbmNlb2YgSnVtcCkpIHtcbiAgICAgIGNvZGUgKz0gdGFiICsgJ2JyZWFrO1xcbic7XG4gICAgfVxuICAgIHJldHVybiBjb2RlO1xuICB9O1xuICByZXR1cm4gQ2FzZTtcbn0oTm9kZSkpO1xuZXhwb3J0cy5JZiA9IElmID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChJZiwgc3VwZXJjbGFzcykuZGlzcGxheU5hbWUgPSAnSWYnLCBJZiksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBJZjtcbiAgZnVuY3Rpb24gSWYoJGlmLCB0aGVuLCB1bil7XG4gICAgdmFyIHRoaXMkID0gdGhpcyBpbnN0YW5jZW9mIGN0b3IkID8gdGhpcyA6IG5ldyBjdG9yJDtcbiAgICB0aGlzJFsnaWYnXSA9ICRpZjtcbiAgICB0aGlzJC50aGVuID0gdGhlbjtcbiAgICB0aGlzJC51biA9IHVuO1xuICAgIHJldHVybiB0aGlzJDtcbiAgfSBmdW5jdGlvbiBjdG9yJCgpe30gY3RvciQucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY2hpbGRyZW4gPSBbJ2lmJywgJ3RoZW4nLCAnZWxzZSddO1xuICBwcm90b3R5cGUuYVNvdXJjZSA9ICdpZic7XG4gIHByb3RvdHlwZS5hVGFyZ2V0cyA9IFsndGhlbiddO1xuICBwcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMudW4gJiYgJyEnO1xuICB9O1xuICBwcm90b3R5cGUudGVybWluYXRvciA9ICcnO1xuICBwcm90b3R5cGUuZGVsZWdhdGUoWydpc0NhbGxhYmxlJywgJ2lzQXJyYXknLCAnaXNTdHJpbmcnLCAnaXNSZWdleCddLCBmdW5jdGlvbihpdCl7XG4gICAgdmFyIHJlZiQ7XG4gICAgcmV0dXJuICgocmVmJCA9IHRoaXNbJ2Vsc2UnXSkgIT0gbnVsbCA/IHJlZiRbaXRdKCkgOiB2b2lkIDgpICYmIHRoaXMudGhlbltpdF0oKTtcbiAgfSk7XG4gIHByb3RvdHlwZS5nZXRKdW1wID0gZnVuY3Rpb24oaXQpe1xuICAgIHZhciByZWYkO1xuICAgIHJldHVybiB0aGlzLnRoZW4uZ2V0SnVtcChpdCkgfHwgKChyZWYkID0gdGhpc1snZWxzZSddKSAhPSBudWxsID8gcmVmJC5nZXRKdW1wKGl0KSA6IHZvaWQgOCk7XG4gIH07XG4gIHByb3RvdHlwZS5tYWtlUmV0dXJuID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVmJDtcbiAgICB0aGlzLnRoZW4gPSAocmVmJCA9IHRoaXMudGhlbikubWFrZVJldHVybi5hcHBseShyZWYkLCBhcmd1bWVudHMpO1xuICAgIGlmICh0aGlzWydlbHNlJ10gIT0gbnVsbCkge1xuICAgICAgdGhpc1snZWxzZSddID0gKHJlZiQgPSB0aGlzWydlbHNlJ10pLm1ha2VSZXR1cm4uYXBwbHkocmVmJCwgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8pe1xuICAgIGlmICh0aGlzLnVuKSB7XG4gICAgICB0aGlzWydpZiddID0gdGhpc1snaWYnXS5pbnZlcnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zb2FrIHx8IHRoaXMuYW5hcGhvcml6ZSgpO1xuICAgIH1cbiAgICBpZiAoby5sZXZlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZUV4cHJlc3Npb24obyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVTdGF0ZW1lbnQobyk7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZVN0YXRlbWVudCA9IGZ1bmN0aW9uKG8pe1xuICAgIHZhciBjb2RlLCBlbHM7XG4gICAgY29kZSA9IFwiaWYgKFwiICsgdGhpc1snaWYnXS5jb21waWxlKG8sIExFVkVMX1BBUkVOKSArIFwiKSBcIjtcbiAgICBvLmluZGVudCArPSBUQUI7XG4gICAgY29kZSArPSB0aGlzLmNvbXBpbGVCbG9jayhvLCBCbG9jayh0aGlzLnRoZW4pKTtcbiAgICBpZiAoIShlbHMgPSB0aGlzWydlbHNlJ10pKSB7XG4gICAgICByZXR1cm4gY29kZTtcbiAgICB9XG4gICAgcmV0dXJuIGNvZGUgKyAnIGVsc2UgJyArIChlbHMgaW5zdGFuY2VvZiBjb25zdHJ1Y3RvclxuICAgICAgPyBlbHMuY29tcGlsZSgoby5pbmRlbnQgPSB0aGlzLnRhYiwgbyksIExFVkVMX1RPUClcbiAgICAgIDogdGhpcy5jb21waWxlQmxvY2sobywgZWxzKSk7XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKG8pe1xuICAgIHZhciB0aG4sIGVscywgY29kZSwgcGFkO1xuICAgIHRobiA9IHRoaXMudGhlbiwgZWxzID0gdGhpc1snZWxzZSddIHx8IExpdGVyYWwoJ3ZvaWQnKTtcbiAgICB0aGlzWyd2b2lkJ10gJiYgKHRoblsndm9pZCddID0gZWxzWyd2b2lkJ10gPSB0cnVlKTtcbiAgICBpZiAoIXRoaXNbJ2Vsc2UnXSAmJiAodGhpcy5jb25kIHx8IHRoaXNbJ3ZvaWQnXSkpIHtcbiAgICAgIHJldHVybiBQYXJlbnMoQmluYXJ5KCcmJicsIHRoaXNbJ2lmJ10sIHRobikpLmNvbXBpbGUobyk7XG4gICAgfVxuICAgIGNvZGUgPSB0aGlzWydpZiddLmNvbXBpbGUobywgTEVWRUxfQ09ORCk7XG4gICAgcGFkID0gZWxzLmlzQ29tcGxleCgpID8gJ1xcbicgKyAoby5pbmRlbnQgKz0gVEFCKSA6ICcgJztcbiAgICBjb2RlICs9IHBhZCArIFwiPyBcIiArIHRobi5jb21waWxlKG8sIExFVkVMX0xJU1QpICsgXCJcIiArIHBhZCArIFwiOiBcIiArIGVscy5jb21waWxlKG8sIExFVkVMX0xJU1QpO1xuICAgIGlmIChvLmxldmVsIDwgTEVWRUxfQ09ORCkge1xuICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIihcIiArIGNvZGUgKyBcIilcIjtcbiAgICB9XG4gIH07XG4gIElmLnVuZm9sZFNvYWsgPSBmdW5jdGlvbihvLCBwYXJlbnQsIG5hbWUpe1xuICAgIHZhciB0aGF0O1xuICAgIGlmICh0aGF0ID0gcGFyZW50W25hbWVdLnVuZm9sZFNvYWsobykpIHtcbiAgICAgIHBhcmVudFtuYW1lXSA9IHRoYXQudGhlbjtcbiAgICAgIHJldHVybiB0aGF0LmNvbmQgPSBwYXJlbnQuY29uZCwgdGhhdFsndm9pZCddID0gcGFyZW50Wyd2b2lkJ10sIHRoYXQudGhlbiA9IENoYWluKHBhcmVudCksIHRoYXQ7XG4gICAgfVxuICB9O1xuICByZXR1cm4gSWY7XG59KE5vZGUpKTtcbmV4cG9ydHMuTGFiZWwgPSBMYWJlbCA9IChmdW5jdGlvbihzdXBlcmNsYXNzKXtcbiAgdmFyIHJlZiQsIHByb3RvdHlwZSA9IGV4dGVuZCQoKGltcG9ydCQoTGFiZWwsIHN1cGVyY2xhc3MpLmRpc3BsYXlOYW1lID0gJ0xhYmVsJywgTGFiZWwpLCBzdXBlcmNsYXNzKS5wcm90b3R5cGUsIGNvbnN0cnVjdG9yID0gTGFiZWw7XG4gIGZ1bmN0aW9uIExhYmVsKGxhYmVsLCBpdCl7XG4gICAgdmFyIGZ1bjtcbiAgICB0aGlzLmxhYmVsID0gbGFiZWwgfHwgJ18nO1xuICAgIHRoaXMuaXQgPSBpdDtcbiAgICBpZiAoZnVuID0gKGl0IGluc3RhbmNlb2YgRnVuIHx8IGl0IGluc3RhbmNlb2YgQ2xhc3MpICYmIGl0IHx8IGl0LmNhbGxpbmcgJiYgaXQuaXQuaGVhZCkge1xuICAgICAgZnVuLm5hbWUgfHwgKGZ1bi5uYW1lID0gdGhpcy5sYWJlbCwgZnVuLmxhYmVsZWQgPSB0cnVlKTtcbiAgICAgIHJldHVybiBpdDtcbiAgICB9XG4gIH1cbiAgcmVmJCA9IFBhcmVucy5wcm90b3R5cGUsIHByb3RvdHlwZS5jaGlsZHJlbiA9IHJlZiQuY2hpbGRyZW4sIHByb3RvdHlwZS5pc0NhbGxhYmxlID0gcmVmJC5pc0NhbGxhYmxlLCBwcm90b3R5cGUuaXNBcnJheSA9IHJlZiQuaXNBcnJheTtcbiAgcHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLmxhYmVsO1xuICB9O1xuICBwcm90b3R5cGUuaXNTdGF0ZW1lbnQgPSBZRVM7XG4gIHByb3RvdHlwZS5nZXRKdW1wID0gZnVuY3Rpb24oY3R4KXtcbiAgICB2YXIgcmVmJDtcbiAgICBjdHggfHwgKGN0eCA9IHt9KTtcbiAgICAoKHJlZiQgPSBjdHgubGFiZWxzKSAhPSBudWxsXG4gICAgICA/IHJlZiRcbiAgICAgIDogY3R4LmxhYmVscyA9IFtdKS5wdXNoKHRoaXMubGFiZWwpO1xuICAgIHJldHVybiB0aGlzLml0LmdldEp1bXAoKGN0eFsnYnJlYWsnXSA9IHRydWUsIGN0eCkpO1xuICB9O1xuICBwcm90b3R5cGUubWFrZVJldHVybiA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJlZiQ7XG4gICAgdGhpcy5pdCA9IChyZWYkID0gdGhpcy5pdCkubWFrZVJldHVybi5hcHBseShyZWYkLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBwcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgbGFiZWwsIGl0LCBsYWJlbHM7XG4gICAgbGFiZWwgPSB0aGlzLmxhYmVsLCBpdCA9IHRoaXMuaXQ7XG4gICAgbGFiZWxzID0gby5sYWJlbHMgPSBzbGljZSQuY2FsbChvLmxhYmVscyB8fCBbXSk7XG4gICAgaWYgKGluJChsYWJlbCwgbGFiZWxzKSkge1xuICAgICAgdGhpcy5jYXJwKFwiZHVwbGljYXRlIGxhYmVsIFxcXCJcIiArIGxhYmVsICsgXCJcXFwiXCIpO1xuICAgIH1cbiAgICBsYWJlbHMucHVzaChsYWJlbCk7XG4gICAgaXQuaXNTdGF0ZW1lbnQoKSB8fCAoaXQgPSBCbG9jayhpdCkpO1xuICAgIHJldHVybiAobGFiZWwgKyBcIjogXCIpICsgKGl0IGluc3RhbmNlb2YgQmxvY2tcbiAgICAgID8gKG8uaW5kZW50ICs9IFRBQiwgdGhpcy5jb21waWxlQmxvY2sobywgaXQpKVxuICAgICAgOiBpdC5jb21waWxlKG8pKTtcbiAgfTtcbiAgcmV0dXJuIExhYmVsO1xufShOb2RlKSk7XG5leHBvcnRzLkNhc2NhZGUgPSBDYXNjYWRlID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChDYXNjYWRlLCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdDYXNjYWRlJywgQ2FzY2FkZSksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBDYXNjYWRlO1xuICBmdW5jdGlvbiBDYXNjYWRlKGlucHV0LCBvdXRwdXQsIHByb2cxKXtcbiAgICB2YXIgdGhpcyQgPSB0aGlzIGluc3RhbmNlb2YgY3RvciQgPyB0aGlzIDogbmV3IGN0b3IkO1xuICAgIHRoaXMkLmlucHV0ID0gaW5wdXQ7XG4gICAgdGhpcyQub3V0cHV0ID0gb3V0cHV0O1xuICAgIHRoaXMkLnByb2cxID0gcHJvZzE7XG4gICAgcmV0dXJuIHRoaXMkO1xuICB9IGZ1bmN0aW9uIGN0b3IkKCl7fSBjdG9yJC5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gIHByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5wcm9nMTtcbiAgfTtcbiAgcHJvdG90eXBlLmNoaWxkcmVuID0gWydpbnB1dCcsICdvdXRwdXQnXTtcbiAgcHJvdG90eXBlLnRlcm1pbmF0b3IgPSAnJztcbiAgcHJvdG90eXBlLmRlbGVnYXRlKFsnaXNDYWxsYWJsZScsICdpc0FycmF5JywgJ2lzU3RyaW5nJywgJ2lzUmVnZXgnXSwgZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiB0aGlzW3RoaXMucHJvZzEgPyAnaW5wdXQnIDogJ291dHB1dCddW2l0XSgpO1xuICB9KTtcbiAgcHJvdG90eXBlLmdldEp1bXAgPSBmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIHRoaXMub3V0cHV0LmdldEp1bXAoaXQpO1xuICB9O1xuICBwcm90b3R5cGUubWFrZVJldHVybiA9IGZ1bmN0aW9uKHJldCl7XG4gICAgdGhpcy5yZXQgPSByZXQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8pe1xuICAgIHZhciBsZXZlbCwgaW5wdXQsIG91dHB1dCwgcHJvZzEsIHJlZiwgcmVmJCwgY29kZSwgb3V0O1xuICAgIGxldmVsID0gby5sZXZlbDtcbiAgICBpbnB1dCA9IHRoaXMuaW5wdXQsIG91dHB1dCA9IHRoaXMub3V0cHV0LCBwcm9nMSA9IHRoaXMucHJvZzEsIHJlZiA9IHRoaXMucmVmO1xuICAgIGlmIChwcm9nMSAmJiAoJ3JldCcgaW4gdGhpcyB8fCBsZXZlbCAmJiAhdGhpc1sndm9pZCddKSkge1xuICAgICAgb3V0cHV0LmFkZCgocmVmJCA9IExpdGVyYWwoJy4uJyksIHJlZiQuY2FzY2FkZWUgPSB0cnVlLCByZWYkKSk7XG4gICAgfVxuICAgIGlmICgncmV0JyBpbiB0aGlzKSB7XG4gICAgICBvdXRwdXQgPSBvdXRwdXQubWFrZVJldHVybih0aGlzLnJldCk7XG4gICAgfVxuICAgIGlmIChyZWYpIHtcbiAgICAgIHByb2cxIHx8IChvdXRwdXQgPSBBc3NpZ24oVmFyKHJlZiksIG91dHB1dCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWYgPSBvLnNjb3BlLnRlbXBvcmFyeSgneCcpO1xuICAgIH1cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBDYXNjYWRlKSB7XG4gICAgICBpbnB1dC5yZWYgPSByZWY7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0ICYmIChpbnB1dCA9IEFzc2lnbihWYXIocmVmKSwgaW5wdXQpKTtcbiAgICB9XG4gICAgby5sZXZlbCAmJiAoby5sZXZlbCA9IExFVkVMX1BBUkVOKTtcbiAgICBjb2RlID0gaW5wdXQuY29tcGlsZShvKTtcbiAgICBvdXQgPSBCbG9jayhvdXRwdXQpLmNvbXBpbGUoKG8ucmVmID0gbmV3IFN0cmluZyhyZWYpLCBvKSk7XG4gICAgaWYgKHByb2cxID09PSAnY2FzY2FkZScgJiYgIW8ucmVmLmVycmVkKSB7XG4gICAgICB0aGlzLmNhcnAoXCJ1bnJlZmVycmVkIGNhc2NhZGVlXCIpO1xuICAgIH1cbiAgICBpZiAoIWxldmVsKSB7XG4gICAgICByZXR1cm4gY29kZSArIFwiXCIgKyBpbnB1dC50ZXJtaW5hdG9yICsgXCJcXG5cIiArIG91dDtcbiAgICB9XG4gICAgY29kZSArPSBcIiwgXCIgKyBvdXQ7XG4gICAgaWYgKGxldmVsID4gTEVWRUxfUEFSRU4pIHtcbiAgICAgIHJldHVybiBcIihcIiArIGNvZGUgKyBcIilcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfVxuICB9O1xuICByZXR1cm4gQ2FzY2FkZTtcbn0oTm9kZSkpO1xuZXhwb3J0cy5KUyA9IEpTID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChKUywgc3VwZXJjbGFzcykuZGlzcGxheU5hbWUgPSAnSlMnLCBKUyksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBKUztcbiAgZnVuY3Rpb24gSlMoY29kZSwgbGl0ZXJhbCwgY29tbWVudCl7XG4gICAgdmFyIHRoaXMkID0gdGhpcyBpbnN0YW5jZW9mIGN0b3IkID8gdGhpcyA6IG5ldyBjdG9yJDtcbiAgICB0aGlzJC5jb2RlID0gY29kZTtcbiAgICB0aGlzJC5saXRlcmFsID0gbGl0ZXJhbDtcbiAgICB0aGlzJC5jb21tZW50ID0gY29tbWVudDtcbiAgICByZXR1cm4gdGhpcyQ7XG4gIH0gZnVuY3Rpb24gY3RvciQoKXt9IGN0b3IkLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgcHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbigpe1xuICAgIGlmICh0aGlzLmNvbW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImBcIiArIHRoaXMuY29kZSArIFwiYFwiO1xuICAgIH1cbiAgfTtcbiAgcHJvdG90eXBlLnRlcm1pbmF0b3IgPSAnJztcbiAgcHJvdG90eXBlLmlzQXNzaWduYWJsZSA9IHByb3RvdHlwZS5pc0NhbGxhYmxlID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gIXRoaXMuY29tbWVudDtcbiAgfTtcbiAgcHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbihpdCl7XG4gICAgaWYgKHRoaXMubGl0ZXJhbCkge1xuICAgICAgcmV0dXJuIGVudGFiKHRoaXMuY29kZSwgaXQuaW5kZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuY29kZTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBKUztcbn0oTm9kZSkpO1xuZXhwb3J0cy5SZXF1aXJlID0gUmVxdWlyZSA9IChmdW5jdGlvbihzdXBlcmNsYXNzKXtcbiAgdmFyIHByb3RvdHlwZSA9IGV4dGVuZCQoKGltcG9ydCQoUmVxdWlyZSwgc3VwZXJjbGFzcykuZGlzcGxheU5hbWUgPSAnUmVxdWlyZScsIFJlcXVpcmUpLCBzdXBlcmNsYXNzKS5wcm90b3R5cGUsIGNvbnN0cnVjdG9yID0gUmVxdWlyZTtcbiAgZnVuY3Rpb24gUmVxdWlyZShib2R5KXtcbiAgICB2YXIgdGhpcyQgPSB0aGlzIGluc3RhbmNlb2YgY3RvciQgPyB0aGlzIDogbmV3IGN0b3IkO1xuICAgIHRoaXMkLmJvZHkgPSBib2R5O1xuICAgIHJldHVybiB0aGlzJDtcbiAgfSBmdW5jdGlvbiBjdG9yJCgpe30gY3RvciQucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY2hpbGRyZW4gPSBbJ2JvZHknXTtcbiAgcHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbihvKXtcbiAgICB2YXIgZ2V0VmFsdWUsIHByb2Nlc3NJdGVtLCBpdGVtLCB0aGlzJCA9IHRoaXM7XG4gICAgZ2V0VmFsdWUgPSBmdW5jdGlvbihpdGVtLCB0aHJvd0Vycm9yKXtcbiAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgIGNhc2UgIShpdGVtIGluc3RhbmNlb2YgS2V5KTpcbiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZTtcbiAgICAgIGNhc2UgIShpdGVtIGluc3RhbmNlb2YgVmFyKTpcbiAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7XG4gICAgICBjYXNlICEoaXRlbSBpbnN0YW5jZW9mIExpdGVyYWwpOlxuICAgICAgICByZXR1cm4gaXRlbS52YWx1ZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmICh0aHJvd0Vycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMkLmNhcnAoJ2ludmFsaWQgcmVxdWlyZSEgYXJndW1lbnQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcHJvY2Vzc0l0ZW0gPSBmdW5jdGlvbihpdGVtKXtcbiAgICAgIHZhciByZWYkLCBhc2csIHZhbHVlLCBhc2dWYWx1ZSwgdG9Bc2csIG1haW47XG4gICAgICByZWYkID0gKGZ1bmN0aW9uKCl7XG4gICAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgY2FzZSAhKGl0ZW0gaW5zdGFuY2VvZiBQcm9wKTpcbiAgICAgICAgICByZXR1cm4gW2l0ZW0udmFsLCBpdGVtLmtleV07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIFtpdGVtLCBpdGVtXTtcbiAgICAgICAgfVxuICAgICAgfSgpKSwgYXNnID0gcmVmJFswXSwgdmFsdWUgPSByZWYkWzFdO1xuICAgICAgYXNnVmFsdWUgPSBnZXRWYWx1ZShhc2cpO1xuICAgICAgdG9Bc2cgPSB0b1N0cmluZyQuY2FsbChhc2dWYWx1ZSkuc2xpY2UoOCwgLTEpID09PSAnU3RyaW5nJyA/IFZhcihuYW1lRnJvbVBhdGgoYXNnVmFsdWUpKSA6IGFzZztcbiAgICAgIHZhbHVlID0gc3RyaXBTdHJpbmcoZ2V0VmFsdWUodmFsdWUsIHRydWUpKTtcbiAgICAgIG1haW4gPSBDaGFpbihWYXIoJ3JlcXVpcmUnKSkuYWRkKENhbGwoW0xpdGVyYWwoXCInXCIgKyB2YWx1ZSArIFwiJ1wiKV0pKTtcbiAgICAgIHJldHVybiBBc3NpZ24odG9Bc2csIG1haW4pLmNvbXBpbGUobyk7XG4gICAgfTtcbiAgICBpZiAodGhpcy5ib2R5Lml0ZW1zICE9IG51bGwpIHtcbiAgICAgIHJldHVybiAoZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGkkLCByZWYkLCBsZW4kLCByZXN1bHRzJCA9IFtdO1xuICAgICAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gdGhpcy5ib2R5Lml0ZW1zKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgICAgIGl0ZW0gPSByZWYkW2kkXTtcbiAgICAgICAgICByZXN1bHRzJC5wdXNoKHByb2Nlc3NJdGVtKGl0ZW0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cyQ7XG4gICAgICB9LmNhbGwodGhpcykpLmpvaW4oXCI7XFxuXCIgKyBvLmluZGVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwcm9jZXNzSXRlbSh0aGlzLmJvZHkpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIFJlcXVpcmU7XG59KE5vZGUpKTtcbmV4cG9ydHMuVXRpbCA9IFV0aWwgPSAoZnVuY3Rpb24oc3VwZXJjbGFzcyl7XG4gIHZhciBwcm90b3R5cGUgPSBleHRlbmQkKChpbXBvcnQkKFV0aWwsIHN1cGVyY2xhc3MpLmRpc3BsYXlOYW1lID0gJ1V0aWwnLCBVdGlsKSwgc3VwZXJjbGFzcykucHJvdG90eXBlLCBjb25zdHJ1Y3RvciA9IFV0aWw7XG4gIGZ1bmN0aW9uIFV0aWwodmVyYil7XG4gICAgdmFyIHRoaXMkID0gdGhpcyBpbnN0YW5jZW9mIGN0b3IkID8gdGhpcyA6IG5ldyBjdG9yJDtcbiAgICB0aGlzJC52ZXJiID0gdmVyYjtcbiAgICByZXR1cm4gdGhpcyQ7XG4gIH0gZnVuY3Rpb24gY3RvciQoKXt9IGN0b3IkLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgcHJvdG90eXBlLnNob3cgPSBKdW1wLnByb3RvdHlwZS5zaG93O1xuICBwcm90b3R5cGUuaXNDYWxsYWJsZSA9IFlFUztcbiAgcHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiB1dGlsKHRoaXMudmVyYik7XG4gIH07XG4gIFV0aWwuRXh0ZW5kcyA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIENhbGwubWFrZShVdGlsKCdleHRlbmQnKSwgW2FyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdXSk7XG4gIH07XG4gIHJldHVybiBVdGlsO1xufShOb2RlKSk7XG5leHBvcnRzLlZhcnMgPSBWYXJzID0gKGZ1bmN0aW9uKHN1cGVyY2xhc3Mpe1xuICB2YXIgcHJvdG90eXBlID0gZXh0ZW5kJCgoaW1wb3J0JChWYXJzLCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdWYXJzJywgVmFycyksIHN1cGVyY2xhc3MpLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBWYXJzO1xuICBmdW5jdGlvbiBWYXJzKHZhcnMpe1xuICAgIHZhciB0aGlzJCA9IHRoaXMgaW5zdGFuY2VvZiBjdG9yJCA/IHRoaXMgOiBuZXcgY3RvciQ7XG4gICAgdGhpcyQudmFycyA9IHZhcnM7XG4gICAgcmV0dXJuIHRoaXMkO1xuICB9IGZ1bmN0aW9uIGN0b3IkKCl7fSBjdG9yJC5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gIHByb3RvdHlwZS5jaGlsZHJlbiA9IFsndmFycyddO1xuICBwcm90b3R5cGUubWFrZVJldHVybiA9IFRISVM7XG4gIHByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24obywgbGV2ZWwpe1xuICAgIHZhciBpJCwgcmVmJCwgbGVuJCwgdiwgdmFsdWU7XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHRoaXMudmFycykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIHYgPSByZWYkW2kkXSwgdmFsdWUgPSB2LnZhbHVlO1xuICAgICAgaWYgKCEodiBpbnN0YW5jZW9mIFZhcikpIHtcbiAgICAgICAgdi5jYXJwKCdpbnZhbGlkIHZhcmlhYmxlIGRlY2xhcmF0aW9uJyk7XG4gICAgICB9XG4gICAgICBpZiAoby5zY29wZS5jaGVjayh2YWx1ZSkpIHtcbiAgICAgICAgdi5jYXJwKFwicmVkZWNsYXJhdGlvbiBvZiBcXFwiXCIgKyB2YWx1ZSArIFwiXFxcIlwiKTtcbiAgICAgIH1cbiAgICAgIG8uc2NvcGUuZGVjbGFyZSh2YWx1ZSwgdik7XG4gICAgfVxuICAgIHJldHVybiBMaXRlcmFsKCd2b2lkJykuY29tcGlsZShvLCBsZXZlbCk7XG4gIH07XG4gIHJldHVybiBWYXJzO1xufShOb2RlKSk7XG5leHBvcnRzLkwgPSBmdW5jdGlvbih5eWxpbmVubywgbm9kZSl7XG4gIHJldHVybiBub2RlLmxpbmUgPSB5eWxpbmVubyArIDEsIG5vZGU7XG59O1xuZXhwb3J0cy5EZWNsID0gZnVuY3Rpb24odHlwZSwgbm9kZXMsIGxubyl7XG4gIGlmICghbm9kZXNbMF0pIHtcbiAgICB0aHJvdyBTeW50YXhFcnJvcihcImVtcHR5IFwiICsgdHlwZSArIFwiIG9uIGxpbmUgXCIgKyBsbm8pO1xuICB9XG4gIHJldHVybiBERUNMU1t0eXBlXShub2Rlcyk7XG59O1xuREVDTFMgPSB7XG4gICdleHBvcnQnOiBmdW5jdGlvbihsaW5lcyl7XG4gICAgdmFyIGksIG91dCwgbm9kZSwgdGhhdCwgcmVmJDtcbiAgICBpID0gLTE7XG4gICAgb3V0ID0gVXRpbCgnb3V0Jyk7XG4gICAgd2hpbGUgKG5vZGUgPSBsaW5lc1srK2ldKSB7XG4gICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEJsb2NrKSB7XG4gICAgICAgIGxpbmVzLnNwbGljZS5hcHBseShsaW5lcywgW2ktLSwgMV0uY29uY2F0KHNsaWNlJC5jYWxsKG5vZGUubGluZXMpKSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoYXQgPSBub2RlIGluc3RhbmNlb2YgRnVuICYmIG5vZGUubmFtZSkge1xuICAgICAgICBsaW5lcy5zcGxpY2UoaSsrLCAwLCBBc3NpZ24oQ2hhaW4ob3V0LCBbSW5kZXgoS2V5KHRoYXQpKV0pLCBWYXIodGhhdCkpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBsaW5lc1tpXSA9ICh0aGF0ID0gbm9kZS52YXJOYW1lKCkgfHwgbm9kZSBpbnN0YW5jZW9mIEFzc2lnbiAmJiBub2RlLmxlZnQudmFyTmFtZSgpIHx8IG5vZGUgaW5zdGFuY2VvZiBDbGFzcyAmJiAoKHJlZiQgPSBub2RlLnRpdGxlKSAhPSBudWxsID8gcmVmJC52YXJOYW1lKCkgOiB2b2lkIDgpKVxuICAgICAgICA/IEFzc2lnbihDaGFpbihvdXQsIFtJbmRleChLZXkodGhhdCkpXSksIG5vZGUpXG4gICAgICAgIDogSW1wb3J0KG91dCwgbm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBCbG9jayhsaW5lcyk7XG4gIH0sXG4gICdpbXBvcnQnOiBmdW5jdGlvbihsaW5lcywgYWxsKXtcbiAgICB2YXIgaSQsIGxlbiQsIGksIGxpbmU7XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSBsaW5lcy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgaSA9IGkkO1xuICAgICAgbGluZSA9IGxpbmVzW2kkXTtcbiAgICAgIGxpbmVzW2ldID0gSW1wb3J0KExpdGVyYWwoJ3RoaXMnKSwgbGluZSwgYWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIEJsb2NrKGxpbmVzKTtcbiAgfSxcbiAgaW1wb3J0QWxsOiBmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIHRoaXNbJ2ltcG9ydCddKGl0LCB0cnVlKTtcbiAgfSxcbiAgJ2NvbnN0JzogZnVuY3Rpb24obGluZXMpe1xuICAgIHZhciBpJCwgbGVuJCwgbm9kZTtcbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IGxpbmVzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICBub2RlID0gbGluZXNbaSRdO1xuICAgICAgbm9kZS5vcCA9PT0gJz0nIHx8IG5vZGUuY2FycCgnaW52YWxpZCBjb25zdGFudCB2YXJpYWJsZSBkZWNsYXJhdGlvbicpO1xuICAgICAgbm9kZVsnY29uc3QnXSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBCbG9jayhsaW5lcyk7XG4gIH0sXG4gICd2YXInOiBWYXJzXG59O1xuZnVuY3Rpb24gU2NvcGUocGFyZW50LCBzaGFyZWQpe1xuICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgdGhpcy5zaGFyZWQgPSBzaGFyZWQ7XG4gIHRoaXMudmFyaWFibGVzID0ge307XG59XG5yZWYkID0gU2NvcGUucHJvdG90eXBlO1xucmVmJC5SRUFEX09OTFkgPSB7XG4gICdjb25zdCc6ICdjb25zdGFudCcsXG4gICdmdW5jdGlvbic6ICdmdW5jdGlvbicsXG4gIHVuZGVmaW5lZDogJ3VuZGVjbGFyZWQnXG59O1xucmVmJC5hZGQgPSBmdW5jdGlvbihuYW1lLCB0eXBlLCBub2RlKXtcbiAgdmFyIHQsIHRoYXQ7XG4gIGlmIChub2RlICYmICh0ID0gdGhpcy52YXJpYWJsZXNbbmFtZSArIFwiLlwiXSkpIHtcbiAgICBpZiAodGhhdCA9IHRoaXMuUkVBRF9PTkxZW3RdIHx8IHRoaXMuUkVBRF9PTkxZW3R5cGVdKSB7XG4gICAgICBub2RlLmNhcnAoXCJyZWRlY2xhcmF0aW9uIG9mIFwiICsgdGhhdCArIFwiIFxcXCJcIiArIG5hbWUgKyBcIlxcXCJcIik7XG4gICAgfSBlbHNlIGlmICh0ID09PSB0eXBlICYmIHR5cGUgPT09ICdhcmcnKSB7XG4gICAgICBub2RlLmNhcnAoXCJkdXBsaWNhdGUgcGFyYW1ldGVyIFxcXCJcIiArIG5hbWUgKyBcIlxcXCJcIik7XG4gICAgfSBlbHNlIGlmICh0ID09PSAndXB2YXInKSB7XG4gICAgICBub2RlLmNhcnAoXCJhY2NpZGVudGFsIHNoYWRvdyBvZiBcXFwiXCIgKyBuYW1lICsgXCJcXFwiXCIpO1xuICAgIH1cbiAgICBpZiAodCA9PT0gJ2FyZycgfHwgdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuICB9XG4gIHRoaXMudmFyaWFibGVzW25hbWUgKyBcIi5cIl0gPSB0eXBlO1xuICByZXR1cm4gbmFtZTtcbn07XG5yZWYkLmdldCA9IGZ1bmN0aW9uKG5hbWUpe1xuICByZXR1cm4gdGhpcy52YXJpYWJsZXNbbmFtZSArIFwiLlwiXTtcbn07XG5yZWYkLmRlY2xhcmUgPSBmdW5jdGlvbihuYW1lLCBub2RlLCBjb25zdGFudCl7XG4gIHZhciB0aGF0LCBzY29wZTtcbiAgaWYgKHRoYXQgPSB0aGlzLnNoYXJlZCkge1xuICAgIGlmICh0aGlzLmNoZWNrKG5hbWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNjb3BlID0gdGhhdDtcbiAgfSBlbHNlIHtcbiAgICBzY29wZSA9IHRoaXM7XG4gIH1cbiAgcmV0dXJuIHNjb3BlLmFkZChuYW1lLCBjb25zdGFudCA/ICdjb25zdCcgOiAndmFyJywgbm9kZSk7XG59O1xucmVmJC5hc3NpZ24gPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSl7XG4gIHJldHVybiB0aGlzLmFkZChuYW1lLCB7XG4gICAgdmFsdWU6IHZhbHVlXG4gIH0pO1xufTtcbnJlZiQudGVtcG9yYXJ5ID0gZnVuY3Rpb24obmFtZSl7XG4gIHZhciByZWYkO1xuICBuYW1lIHx8IChuYW1lID0gJ3JlZicpO1xuICB3aGlsZSAoKHJlZiQgPSB0aGlzLnZhcmlhYmxlc1tuYW1lICsgXCIkLlwiXSkgIT09ICdyZXVzZScgJiYgcmVmJCAhPT0gdm9pZCA4KSB7XG4gICAgbmFtZSA9IG5hbWUubGVuZ3RoIDwgMiAmJiBuYW1lIDwgJ3onXG4gICAgICA/IFN0cmluZy5mcm9tQ2hhckNvZGUobmFtZS5jaGFyQ29kZUF0KCkgKyAxKVxuICAgICAgOiBuYW1lLnJlcGxhY2UoL1xcZCokLywgZm4kKTtcbiAgfVxuICByZXR1cm4gdGhpcy5hZGQobmFtZSArICckJywgJ3ZhcicpO1xuICBmdW5jdGlvbiBmbiQoaXQpe1xuICAgIHJldHVybiArK2l0O1xuICB9XG59O1xucmVmJC5mcmVlID0gZnVuY3Rpb24obmFtZSl7XG4gIHJldHVybiB0aGlzLmFkZChuYW1lLCAncmV1c2UnKTtcbn07XG5yZWYkLmNoZWNrID0gZnVuY3Rpb24obmFtZSwgYWJvdmUpe1xuICB2YXIgdHlwZSwgcmVmJDtcbiAgaWYgKCh0eXBlID0gdGhpcy52YXJpYWJsZXNbbmFtZSArIFwiLlwiXSkgfHwgIWFib3ZlKSB7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cbiAgcmV0dXJuIChyZWYkID0gdGhpcy5wYXJlbnQpICE9IG51bGwgPyByZWYkLmNoZWNrKG5hbWUsIGFib3ZlKSA6IHZvaWQgODtcbn07XG5yZWYkLmNoZWNrUmVhZE9ubHkgPSBmdW5jdGlvbihuYW1lKXtcbiAgdmFyIHRoYXQsIHJlZiQsIGtleSQ7XG4gIGlmICh0aGF0ID0gdGhpcy5SRUFEX09OTFlbdGhpcy5jaGVjayhuYW1lLCB0cnVlKV0pIHtcbiAgICByZXR1cm4gdGhhdDtcbiAgfVxuICAocmVmJCA9IHRoaXMudmFyaWFibGVzKVtrZXkkID0gbmFtZSArIFwiLlwiXSB8fCAocmVmJFtrZXkkXSA9ICd1cHZhcicpO1xuICByZXR1cm4gJyc7XG59O1xucmVmJC5lbWl0ID0gZnVuY3Rpb24oY29kZSwgdGFiKXtcbiAgdmFyIHZycywgYXNuLCBmdW4sIG5hbWUsIHJlZiQsIHR5cGUsIHRoYXQsIHZhbDtcbiAgdnJzID0gW107XG4gIGFzbiA9IFtdO1xuICBmdW4gPSBbXTtcbiAgZm9yIChuYW1lIGluIHJlZiQgPSB0aGlzLnZhcmlhYmxlcykge1xuICAgIHR5cGUgPSByZWYkW25hbWVdO1xuICAgIG5hbWUgPSBuYW1lLnNsaWNlKDAsIC0xKTtcbiAgICBpZiAodHlwZSA9PT0gJ3ZhcicgfHwgdHlwZSA9PT0gJ2NvbnN0JyB8fCB0eXBlID09PSAncmV1c2UnKSB7XG4gICAgICB2cnMucHVzaChuYW1lKTtcbiAgICB9IGVsc2UgaWYgKHRoYXQgPSB0eXBlLnZhbHVlKSB7XG4gICAgICBpZiAofih2YWwgPSBlbnRhYih0aGF0LCB0YWIpKS5sYXN0SW5kZXhPZignZnVuY3Rpb24oJywgMCkpIHtcbiAgICAgICAgZnVuLnB1c2goXCJmdW5jdGlvbiBcIiArIG5hbWUgKyB2YWwuc2xpY2UoOCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNuLnB1c2gobmFtZSArIFwiID0gXCIgKyB2YWwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAodGhhdCA9IHZycy5jb25jYXQoYXNuKS5qb2luKCcsICcpKSB7XG4gICAgY29kZSA9IHRhYiArIFwidmFyIFwiICsgdGhhdCArIFwiO1xcblwiICsgY29kZTtcbiAgfVxuICBpZiAodGhhdCA9IGZ1bi5qb2luKFwiXFxuXCIgKyB0YWIpKSB7XG4gICAgcmV0dXJuIGNvZGUgKyBcIlxcblwiICsgdGFiICsgdGhhdDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29kZTtcbiAgfVxufTtcbmZ1bmN0aW9uIFlFUygpe1xuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIE5PKCl7XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIFRISVMoKXtcbiAgcmV0dXJuIHRoaXM7XG59XG5mdW5jdGlvbiBWT0lEKCl7fVxuVVRJTFMgPSB7XG4gIGNsb25lOiAnZnVuY3Rpb24oaXQpe1xcbiAgZnVuY3Rpb24gZnVuKCl7fSBmdW4ucHJvdG90eXBlID0gaXQ7XFxuICByZXR1cm4gbmV3IGZ1bjtcXG59JyxcbiAgZXh0ZW5kOiAnZnVuY3Rpb24oc3ViLCBzdXApe1xcbiAgZnVuY3Rpb24gZnVuKCl7fSBmdW4ucHJvdG90eXBlID0gKHN1Yi5zdXBlcmNsYXNzID0gc3VwKS5wcm90b3R5cGU7XFxuICAoc3ViLnByb3RvdHlwZSA9IG5ldyBmdW4pLmNvbnN0cnVjdG9yID0gc3ViO1xcbiAgaWYgKHR5cGVvZiBzdXAuZXh0ZW5kZWQgPT0gXFwnZnVuY3Rpb25cXCcpIHN1cC5leHRlbmRlZChzdWIpO1xcbiAgcmV0dXJuIHN1YjtcXG59JyxcbiAgYmluZDogJ2Z1bmN0aW9uKG9iaiwga2V5LCB0YXJnZXQpe1xcbiAgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiAodGFyZ2V0IHx8IG9iailba2V5XS5hcHBseShvYmosIGFyZ3VtZW50cykgfTtcXG59JyxcbiAgJ2ltcG9ydCc6ICdmdW5jdGlvbihvYmosIHNyYyl7XFxuICB2YXIgb3duID0ge30uaGFzT3duUHJvcGVydHk7XFxuICBmb3IgKHZhciBrZXkgaW4gc3JjKSBpZiAob3duLmNhbGwoc3JjLCBrZXkpKSBvYmpba2V5XSA9IHNyY1trZXldO1xcbiAgcmV0dXJuIG9iajtcXG59JyxcbiAgaW1wb3J0QWxsOiAnZnVuY3Rpb24ob2JqLCBzcmMpe1xcbiAgZm9yICh2YXIga2V5IGluIHNyYykgb2JqW2tleV0gPSBzcmNba2V5XTtcXG4gIHJldHVybiBvYmo7XFxufScsXG4gIHJlcGVhdFN0cmluZzogJ2Z1bmN0aW9uKHN0ciwgbil7XFxuICBmb3IgKHZhciByID0gXFwnXFwnOyBuID4gMDsgKG4gPj49IDEpICYmIChzdHIgKz0gc3RyKSkgaWYgKG4gJiAxKSByICs9IHN0cjtcXG4gIHJldHVybiByO1xcbn0nLFxuICByZXBlYXRBcnJheTogJ2Z1bmN0aW9uKGFyciwgbil7XFxuICBmb3IgKHZhciByID0gW107IG4gPiAwOyAobiA+Pj0gMSkgJiYgKGFyciA9IGFyci5jb25jYXQoYXJyKSkpXFxuICAgIGlmIChuICYgMSkgci5wdXNoLmFwcGx5KHIsIGFycik7XFxuICByZXR1cm4gcjtcXG59JyxcbiAgJ2luJzogJ2Z1bmN0aW9uKHgsIHhzKXtcXG4gIHZhciBpID0gLTEsIGwgPSB4cy5sZW5ndGggPj4+IDA7XFxuICB3aGlsZSAoKytpIDwgbCkgaWYgKHggPT09IHhzW2ldKSByZXR1cm4gdHJ1ZTtcXG4gIHJldHVybiBmYWxzZTtcXG59JyxcbiAgb3V0OiAndHlwZW9mIGV4cG9ydHMgIT0gXFwndW5kZWZpbmVkXFwnICYmIGV4cG9ydHMgfHwgdGhpcycsXG4gIGN1cnJ5OiAnZnVuY3Rpb24oZiwgYm91bmQpe1xcbiAgdmFyIGNvbnRleHQsXFxuICBfY3VycnkgPSBmdW5jdGlvbihhcmdzKSB7XFxuICAgIHJldHVybiBmLmxlbmd0aCA+IDEgPyBmdW5jdGlvbigpe1xcbiAgICAgIHZhciBwYXJhbXMgPSBhcmdzID8gYXJncy5jb25jYXQoKSA6IFtdO1xcbiAgICAgIGNvbnRleHQgPSBib3VuZCA/IGNvbnRleHQgfHwgdGhpcyA6IHRoaXM7XFxuICAgICAgcmV0dXJuIHBhcmFtcy5wdXNoLmFwcGx5KHBhcmFtcywgYXJndW1lbnRzKSA8XFxuICAgICAgICAgIGYubGVuZ3RoICYmIGFyZ3VtZW50cy5sZW5ndGggP1xcbiAgICAgICAgX2N1cnJ5LmNhbGwoY29udGV4dCwgcGFyYW1zKSA6IGYuYXBwbHkoY29udGV4dCwgcGFyYW1zKTtcXG4gICAgfSA6IGY7XFxuICB9O1xcbiAgcmV0dXJuIF9jdXJyeSgpO1xcbn0nLFxuICBmbGlwOiAnZnVuY3Rpb24oZil7XFxuICByZXR1cm4gY3VycnkkKGZ1bmN0aW9uICh4LCB5KSB7IHJldHVybiBmKHksIHgpOyB9KTtcXG59JyxcbiAgcGFydGlhbGl6ZTogJ2Z1bmN0aW9uKGYsIGFyZ3MsIHdoZXJlKXtcXG4gIHZhciBjb250ZXh0ID0gdGhpcztcXG4gIHJldHVybiBmdW5jdGlvbigpe1xcbiAgICB2YXIgcGFyYW1zID0gc2xpY2UkLmNhbGwoYXJndW1lbnRzKSwgaSxcXG4gICAgICAgIGxlbiA9IHBhcmFtcy5sZW5ndGgsIHdsZW4gPSB3aGVyZS5sZW5ndGgsXFxuICAgICAgICB0YSA9IGFyZ3MgPyBhcmdzLmNvbmNhdCgpIDogW10sIHR3ID0gd2hlcmUgPyB3aGVyZS5jb25jYXQoKSA6IFtdO1xcbiAgICBmb3IoaSA9IDA7IGkgPCBsZW47ICsraSkgeyB0YVt0d1swXV0gPSBwYXJhbXNbaV07IHR3LnNoaWZ0KCk7IH1cXG4gICAgcmV0dXJuIGxlbiA8IHdsZW4gJiYgbGVuID9cXG4gICAgICBwYXJ0aWFsaXplJC5hcHBseShjb250ZXh0LCBbZiwgdGEsIHR3XSkgOiBmLmFwcGx5KGNvbnRleHQsIHRhKTtcXG4gIH07XFxufScsXG4gIG5vdDogJ2Z1bmN0aW9uKHgpeyByZXR1cm4gIXg7IH0nLFxuICBjb21wb3NlOiAnZnVuY3Rpb24oKSB7XFxuICB2YXIgZnVuY3Rpb25zID0gYXJndW1lbnRzO1xcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xcbiAgICB2YXIgaSwgcmVzdWx0O1xcbiAgICByZXN1bHQgPSBmdW5jdGlvbnNbMF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcXG4gICAgZm9yIChpID0gMTsgaSA8IGZ1bmN0aW9ucy5sZW5ndGg7ICsraSkge1xcbiAgICAgIHJlc3VsdCA9IGZ1bmN0aW9uc1tpXShyZXN1bHQpO1xcbiAgICB9XFxuICAgIHJldHVybiByZXN1bHQ7XFxuICB9O1xcbn0nLFxuICBkZWVwRXE6ICdmdW5jdGlvbih4LCB5LCB0eXBlKXtcXG4gIHZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nLCBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5LFxcbiAgICAgIGhhcyA9IGZ1bmN0aW9uIChvYmosIGtleSkgeyByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7IH07XFxuICB2YXIgZmlyc3QgPSB0cnVlO1xcbiAgcmV0dXJuIGVxKHgsIHksIFtdKTtcXG4gIGZ1bmN0aW9uIGVxKGEsIGIsIHN0YWNrKSB7XFxuICAgIHZhciBjbGFzc05hbWUsIGxlbmd0aCwgc2l6ZSwgcmVzdWx0LCBhbGVuZ3RoLCBibGVuZ3RoLCByLCBrZXksIHJlZiwgc2l6ZUI7XFxuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSB7IHJldHVybiBhID09PSBiOyB9XFxuICAgIGlmIChhLl9fcGxhY2Vob2xkZXJfXyB8fCBiLl9fcGxhY2Vob2xkZXJfXykgeyByZXR1cm4gdHJ1ZTsgfVxcbiAgICBpZiAoYSA9PT0gYikgeyByZXR1cm4gYSAhPT0gMCB8fCAxIC8gYSA9PSAxIC8gYjsgfVxcbiAgICBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKGEpO1xcbiAgICBpZiAodG9TdHJpbmcuY2FsbChiKSAhPSBjbGFzc05hbWUpIHsgcmV0dXJuIGZhbHNlOyB9XFxuICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XFxuICAgICAgY2FzZSBcXCdbb2JqZWN0IFN0cmluZ11cXCc6IHJldHVybiBhID09IFN0cmluZyhiKTtcXG4gICAgICBjYXNlIFxcJ1tvYmplY3QgTnVtYmVyXVxcJzpcXG4gICAgICAgIHJldHVybiBhICE9ICthID8gYiAhPSArYiA6IChhID09IDAgPyAxIC8gYSA9PSAxIC8gYiA6IGEgPT0gK2IpO1xcbiAgICAgIGNhc2UgXFwnW29iamVjdCBEYXRlXVxcJzpcXG4gICAgICBjYXNlIFxcJ1tvYmplY3QgQm9vbGVhbl1cXCc6XFxuICAgICAgICByZXR1cm4gK2EgPT0gK2I7XFxuICAgICAgY2FzZSBcXCdbb2JqZWN0IFJlZ0V4cF1cXCc6XFxuICAgICAgICByZXR1cm4gYS5zb3VyY2UgPT0gYi5zb3VyY2UgJiZcXG4gICAgICAgICAgICAgICBhLmdsb2JhbCA9PSBiLmdsb2JhbCAmJlxcbiAgICAgICAgICAgICAgIGEubXVsdGlsaW5lID09IGIubXVsdGlsaW5lICYmXFxuICAgICAgICAgICAgICAgYS5pZ25vcmVDYXNlID09IGIuaWdub3JlQ2FzZTtcXG4gICAgfVxcbiAgICBpZiAodHlwZW9mIGEgIT0gXFwnb2JqZWN0XFwnIHx8IHR5cGVvZiBiICE9IFxcJ29iamVjdFxcJykgeyByZXR1cm4gZmFsc2U7IH1cXG4gICAgbGVuZ3RoID0gc3RhY2subGVuZ3RoO1xcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHsgaWYgKHN0YWNrW2xlbmd0aF0gPT0gYSkgeyByZXR1cm4gdHJ1ZTsgfSB9XFxuICAgIHN0YWNrLnB1c2goYSk7XFxuICAgIHNpemUgPSAwO1xcbiAgICByZXN1bHQgPSB0cnVlO1xcbiAgICBpZiAoY2xhc3NOYW1lID09IFxcJ1tvYmplY3QgQXJyYXldXFwnKSB7XFxuICAgICAgYWxlbmd0aCA9IGEubGVuZ3RoO1xcbiAgICAgIGJsZW5ndGggPSBiLmxlbmd0aDtcXG4gICAgICBpZiAoZmlyc3QpIHtcXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xcbiAgICAgICAgY2FzZSBcXCc9PT1cXCc6IHJlc3VsdCA9IGFsZW5ndGggPT09IGJsZW5ndGg7IGJyZWFrO1xcbiAgICAgICAgY2FzZSBcXCc8PT1cXCc6IHJlc3VsdCA9IGFsZW5ndGggPD0gYmxlbmd0aDsgYnJlYWs7XFxuICAgICAgICBjYXNlIFxcJzw8PVxcJzogcmVzdWx0ID0gYWxlbmd0aCA8IGJsZW5ndGg7IGJyZWFrO1xcbiAgICAgICAgfVxcbiAgICAgICAgc2l6ZSA9IGFsZW5ndGg7XFxuICAgICAgICBmaXJzdCA9IGZhbHNlO1xcbiAgICAgIH0gZWxzZSB7XFxuICAgICAgICByZXN1bHQgPSBhbGVuZ3RoID09PSBibGVuZ3RoO1xcbiAgICAgICAgc2l6ZSA9IGFsZW5ndGg7XFxuICAgICAgfVxcbiAgICAgIGlmIChyZXN1bHQpIHtcXG4gICAgICAgIHdoaWxlIChzaXplLS0pIHtcXG4gICAgICAgICAgaWYgKCEocmVzdWx0ID0gc2l6ZSBpbiBhID09IHNpemUgaW4gYiAmJiBlcShhW3NpemVdLCBiW3NpemVdLCBzdGFjaykpKXsgYnJlYWs7IH1cXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIH0gZWxzZSB7XFxuICAgICAgaWYgKFxcJ2NvbnN0cnVjdG9yXFwnIGluIGEgIT0gXFwnY29uc3RydWN0b3JcXCcgaW4gYiB8fCBhLmNvbnN0cnVjdG9yICE9IGIuY29uc3RydWN0b3IpIHtcXG4gICAgICAgIHJldHVybiBmYWxzZTtcXG4gICAgICB9XFxuICAgICAgZm9yIChrZXkgaW4gYSkge1xcbiAgICAgICAgaWYgKGhhcyhhLCBrZXkpKSB7XFxuICAgICAgICAgIHNpemUrKztcXG4gICAgICAgICAgaWYgKCEocmVzdWx0ID0gaGFzKGIsIGtleSkgJiYgZXEoYVtrZXldLCBiW2tleV0sIHN0YWNrKSkpIHsgYnJlYWs7IH1cXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgaWYgKHJlc3VsdCkge1xcbiAgICAgICAgc2l6ZUIgPSAwO1xcbiAgICAgICAgZm9yIChrZXkgaW4gYikge1xcbiAgICAgICAgICBpZiAoaGFzKGIsIGtleSkpIHsgKytzaXplQjsgfVxcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKGZpcnN0KSB7XFxuICAgICAgICAgIGlmICh0eXBlID09PSBcXCc8PD1cXCcpIHtcXG4gICAgICAgICAgICByZXN1bHQgPSBzaXplIDwgc2l6ZUI7XFxuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXFwnPD09XFwnKSB7XFxuICAgICAgICAgICAgcmVzdWx0ID0gc2l6ZSA8PSBzaXplQlxcbiAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIHJlc3VsdCA9IHNpemUgPT09IHNpemVCO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xcbiAgICAgICAgICByZXN1bHQgPSBzaXplID09PSBzaXplQjtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIH1cXG4gICAgc3RhY2sucG9wKCk7XFxuICAgIHJldHVybiByZXN1bHQ7XFxuICB9XFxufScsXG4gIHNwbGl0OiBcIicnLnNwbGl0XCIsXG4gIHJlcGxhY2U6IFwiJycucmVwbGFjZVwiLFxuICB0b1N0cmluZzogJ3t9LnRvU3RyaW5nJyxcbiAgam9pbjogJ1tdLmpvaW4nLFxuICBzbGljZTogJ1tdLnNsaWNlJyxcbiAgc3BsaWNlOiAnW10uc3BsaWNlJ1xufTtcbkxFVkVMX1RPUCA9IDA7XG5MRVZFTF9QQVJFTiA9IDE7XG5MRVZFTF9MSVNUID0gMjtcbkxFVkVMX0NPTkQgPSAzO1xuTEVWRUxfT1AgPSA0O1xuTEVWRUxfQ0FMTCA9IDU7XG4oZnVuY3Rpb24oKXtcbiAgdGhpc1snJiYnXSA9IHRoaXNbJ3x8J10gPSB0aGlzWyd4b3InXSA9IDAuMjtcbiAgdGhpc1snLiYuJ10gPSB0aGlzWycuXi4nXSA9IHRoaXNbJy58LiddID0gMC4zO1xuICB0aGlzWyc9PSddID0gdGhpc1snIT0nXSA9IHRoaXNbJ349J10gPSB0aGlzWychfj0nXSA9IHRoaXNbJz09PSddID0gdGhpc1snIT09J10gPSAwLjQ7XG4gIHRoaXNbJzwnXSA9IHRoaXNbJz4nXSA9IHRoaXNbJzw9J10gPSB0aGlzWyc+PSddID0gdGhpcy5vZiA9IHRoaXNbJ2luc3RhbmNlb2YnXSA9IDAuNTtcbiAgdGhpc1snPDw9J10gPSB0aGlzWyc+Pj0nXSA9IHRoaXNbJzw9PSddID0gdGhpc1snPj09J10gPSB0aGlzWycrKyddID0gMC41O1xuICB0aGlzWycuPDwuJ10gPSB0aGlzWycuPj4uJ10gPSB0aGlzWycuPj4+LiddID0gMC42O1xuICB0aGlzWycrJ10gPSB0aGlzWyctJ10gPSAwLjc7XG4gIHRoaXNbJyonXSA9IHRoaXNbJy8nXSA9IHRoaXNbJyUnXSA9IDAuODtcbn0uY2FsbChQUkVDID0ge1xuICB1bmFyeTogMC45XG59KSk7XG5UQUIgPSAnICAnO1xuSUQgPSAvXig/IVxcZClbXFx3JFxceEFBLVxcdUZGRENdKyQvO1xuU0lNUExFTlVNID0gL15cXGQrJC87XG5mdW5jdGlvbiB1dGlsKGl0KXtcbiAgcmV0dXJuIFNjb3BlLnJvb3QuYXNzaWduKGl0ICsgJyQnLCBVVElMU1tpdF0pO1xufVxuZnVuY3Rpb24gZW50YWIoY29kZSwgdGFiKXtcbiAgcmV0dXJuIGNvZGUucmVwbGFjZSgvXFxuL2csICdcXG4nICsgdGFiKTtcbn1cbmZ1bmN0aW9uIGltcG9ydCQob2JqLCBzcmMpe1xuICB2YXIgb3duID0ge30uaGFzT3duUHJvcGVydHk7XG4gIGZvciAodmFyIGtleSBpbiBzcmMpIGlmIChvd24uY2FsbChzcmMsIGtleSkpIG9ialtrZXldID0gc3JjW2tleV07XG4gIHJldHVybiBvYmo7XG59XG5mdW5jdGlvbiBjbG9uZSQoaXQpe1xuICBmdW5jdGlvbiBmdW4oKXt9IGZ1bi5wcm90b3R5cGUgPSBpdDtcbiAgcmV0dXJuIG5ldyBmdW47XG59XG5mdW5jdGlvbiBleHRlbmQkKHN1Yiwgc3VwKXtcbiAgZnVuY3Rpb24gZnVuKCl7fSBmdW4ucHJvdG90eXBlID0gKHN1Yi5zdXBlcmNsYXNzID0gc3VwKS5wcm90b3R5cGU7XG4gIChzdWIucHJvdG90eXBlID0gbmV3IGZ1bikuY29uc3RydWN0b3IgPSBzdWI7XG4gIGlmICh0eXBlb2Ygc3VwLmV4dGVuZGVkID09ICdmdW5jdGlvbicpIHN1cC5leHRlbmRlZChzdWIpO1xuICByZXR1cm4gc3ViO1xufVxuZnVuY3Rpb24gaW4kKHgsIHhzKXtcbiAgdmFyIGkgPSAtMSwgbCA9IHhzLmxlbmd0aCA+Pj4gMDtcbiAgd2hpbGUgKCsraSA8IGwpIGlmICh4ID09PSB4c1tpXSkgcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJlcGVhdFN0cmluZyQoc3RyLCBuKXtcbiAgZm9yICh2YXIgciA9ICcnOyBuID4gMDsgKG4gPj49IDEpICYmIChzdHIgKz0gc3RyKSkgaWYgKG4gJiAxKSByICs9IHN0cjtcbiAgcmV0dXJuIHI7XG59XG5mdW5jdGlvbiBpbXBvcnRBbGwkKG9iaiwgc3JjKXtcbiAgZm9yICh2YXIga2V5IGluIHNyYykgb2JqW2tleV0gPSBzcmNba2V5XTtcbiAgcmV0dXJuIG9iajtcbn0iLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxudmFyIGxleGVyLCBwYXJzZXIsIGFzdDtcbmxleGVyID0gcmVxdWlyZSgnLi9sZXhlcicpO1xucGFyc2VyID0gcmVxdWlyZSgnLi9wYXJzZXInKS5wYXJzZXI7XG5hc3QgPSByZXF1aXJlKCcuL2FzdCcpO1xucGFyc2VyLnl5ID0gYXN0O1xucGFyc2VyLmxleGVyID0ge1xuICBsZXg6IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJlZiQsIHRhZztcbiAgICByZWYkID0gdGhpcy50b2tlbnNbKyt0aGlzLnBvc10gfHwgWycnXSwgdGFnID0gcmVmJFswXSwgdGhpcy55eXRleHQgPSByZWYkWzFdLCB0aGlzLnl5bGluZW5vID0gcmVmJFsyXTtcbiAgICByZXR1cm4gdGFnO1xuICB9LFxuICBzZXRJbnB1dDogZnVuY3Rpb24oaXQpe1xuICAgIHRoaXMucG9zID0gLTE7XG4gICAgcmV0dXJuIHRoaXMudG9rZW5zID0gaXQ7XG4gIH0sXG4gIHVwY29taW5nSW5wdXQ6IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuICcnO1xuICB9XG59O1xuZXhwb3J0cy5WRVJTSU9OID0gJzEuMy4xJztcbmV4cG9ydHMuY29tcGlsZSA9IGZ1bmN0aW9uKGNvZGUsIG9wdGlvbnMpe1xuICB2YXIgb3V0cHV0LCBlLCB0aGF0O1xuICBvcHRpb25zID09IG51bGwgJiYgKG9wdGlvbnMgPSB7fSk7XG4gIG9wdGlvbnMuaGVhZGVyID09IG51bGwgJiYgKG9wdGlvbnMuaGVhZGVyID0gdHJ1ZSk7XG4gIHRyeSB7XG4gICAgb3V0cHV0ID0gcGFyc2VyLnBhcnNlKGxleGVyLmxleChjb2RlKSkuY29tcGlsZVJvb3Qob3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMuaGVhZGVyKSB7XG4gICAgICBvdXRwdXQgPSBcIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IFwiICsgZXhwb3J0cy5WRVJTSU9OICsgXCJcXG5cIiArIG91dHB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfSBjYXRjaCAoZSQpIHtcbiAgICBlID0gZSQ7XG4gICAgaWYgKHRoYXQgPSBvcHRpb25zLmZpbGVuYW1lKSB7XG4gICAgICBlLm1lc3NhZ2UgKz0gXCJcXG5hdCBcIiArIHRoYXQ7XG4gICAgfVxuICAgIHRocm93IGU7XG4gIH1cbn07XG5leHBvcnRzLmFzdCA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHBhcnNlci5wYXJzZSh0eXBlb2YgaXQgPT09ICdzdHJpbmcnID8gbGV4ZXIubGV4KGl0KSA6IGl0KTtcbn07XG5leHBvcnRzLnRva2VucyA9IGxleGVyLmxleDtcbmV4cG9ydHMubGV4ID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gbGV4ZXIubGV4KGl0LCB7XG4gICAgcmF3OiB0cnVlXG4gIH0pO1xufTtcbmV4cG9ydHMucnVuID0gZnVuY3Rpb24oY29kZSwgb3B0aW9ucyl7XG4gIHZhciByZWYkO1xuICByZXR1cm4gRnVuY3Rpb24oZXhwb3J0cy5jb21waWxlKGNvZGUsIChyZWYkID0ge30sIGltcG9ydCQocmVmJCwgb3B0aW9ucyksIHJlZiQuYmFyZSA9IHRydWUsIHJlZiQpKSkoKTtcbn07XG5leHBvcnRzLnRva2Vucy5yZXdyaXRlID0gbGV4ZXIucmV3cml0ZTtcbmltcG9ydEFsbCQoZXhwb3J0cy5hc3QsIHBhcnNlci55eSk7XG5pZiAocmVxdWlyZS5leHRlbnNpb25zKSB7XG4gIHJlcXVpcmUoJy4vbm9kZScpKGV4cG9ydHMpO1xufSBlbHNlIHtcbiAgZXhwb3J0cy5yZXF1aXJlID0gcmVxdWlyZTtcbn1cbmZ1bmN0aW9uIGltcG9ydCQob2JqLCBzcmMpe1xuICB2YXIgb3duID0ge30uaGFzT3duUHJvcGVydHk7XG4gIGZvciAodmFyIGtleSBpbiBzcmMpIGlmIChvd24uY2FsbChzcmMsIGtleSkpIG9ialtrZXldID0gc3JjW2tleV07XG4gIHJldHVybiBvYmo7XG59XG5mdW5jdGlvbiBpbXBvcnRBbGwkKG9iaiwgc3JjKXtcbiAgZm9yICh2YXIga2V5IGluIHNyYykgb2JqW2tleV0gPSBzcmNba2V5XTtcbiAgcmV0dXJuIG9iajtcbn0iLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxudmFyIHN0cmluZywgVEFCUywgdW5saW5lcywgZW5saW5lcywgZW5zbGFzaCwgcmVzbGFzaCwgY2FtZWxpemUsIGNoYXJhY3RlciwgS0VZV09SRFNfU0hBUkVELCBLRVlXT1JEU19VTlVTRUQsIEpTX0tFWVdPUkRTLCBMU19LRVlXT1JEUywgSUQsIFNZTUJPTCwgU1BBQ0UsIE1VTFRJREVOVCwgU0lNUExFU1RSLCBKU1RPS0VOLCBCU1RPS0VOLCBOVU1CRVIsIE5VTUJFUl9PTUlULCBSRUdFWCwgSEVSRUdFWF9PTUlULCBMQVNUREVOVCwgSU5MSU5FREVOVCwgTk9OQVNDSUksIE9QRU5FUlMsIENMT1NFUlMsIElOVkVSU0VTLCBpLCBvLCBjLCBDSEFJTiwgQVJHLCBCTE9DS19VU0VSUywgc2xpY2UkID0gW10uc2xpY2U7XG5leHBvcnRzLmxleCA9IGZ1bmN0aW9uKGNvZGUsIG9wdGlvbnMpe1xuICByZXR1cm4gY2xvbmUkKGV4cG9ydHMpLnRva2VuaXplKGNvZGUgfHwgJycsIG9wdGlvbnMgfHwge30pO1xufTtcbmV4cG9ydHMucmV3cml0ZSA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIHJlZiQ7XG4gIGl0IHx8IChpdCA9IHRoaXMudG9rZW5zKTtcbiAgZmlyc3RQYXNzKGl0KTtcbiAgYWRkSW1wbGljaXRJbmRlbnRhdGlvbihpdCk7XG4gIHJld3JpdGVCbG9ja2xlc3MoaXQpO1xuICBhZGRJbXBsaWNpdFBhcmVudGhlc2VzKGl0KTtcbiAgYWRkSW1wbGljaXRCcmFjZXMoaXQpO1xuICBleHBhbmRMaXRlcmFscyhpdCk7XG4gIGlmICgoKHJlZiQgPSBpdFswXSkgIT0gbnVsbCA/IHJlZiRbMF0gOiB2b2lkIDgpID09PSAnTkVXTElORScpIHtcbiAgICBpdC5zaGlmdCgpO1xuICB9XG4gIHJldHVybiBpdDtcbn07XG5leHBvcnRzLnRva2VuaXplID0gZnVuY3Rpb24oY29kZSwgbyl7XG4gIHZhciBpLCBjLCB0aGF0O1xuICB0aGlzLmludGVyIHx8IChjb2RlID0gY29kZS5yZXBsYWNlKC9bXFxyXFx1MjAyOFxcdTIwMjlcXHVGRUZGXS9nLCAnJykpO1xuICBjb2RlID0gJ1xcbicgKyBjb2RlO1xuICB0aGlzLnRva2VucyA9IFt0aGlzLmxhc3QgPSBbJ05FV0xJTkUnLCAnXFxuJywgMF1dO1xuICB0aGlzLmxpbmUgPSB+LW8ubGluZTtcbiAgdGhpcy5kZW50cyA9IFtdO1xuICB0aGlzLmNsb3NlcyA9IFtdO1xuICB0aGlzLnBhcmVucyA9IFtdO1xuICB0aGlzLmZsYWdzID0gW107XG4gIGkgPSAwO1xuICB3aGlsZSAoYyA9IGNvZGUuY2hhckF0KGkpKSB7XG4gICAgc3dpdGNoIChjKSB7XG4gICAgY2FzZSAnICc6XG4gICAgICBpICs9IHRoaXMuZG9TcGFjZShjb2RlLCBpKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ1xcbic6XG4gICAgICBpICs9IHRoaXMuZG9MaW5lKGNvZGUsIGkpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnXFxcXCc6XG4gICAgICBpICs9IHRoaXMuZG9CYWNrc2xhc2goY29kZSwgaSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdcXCcnOlxuICAgIGNhc2UgJ1wiJzpcbiAgICAgIGkgKz0gdGhpcy5kb1N0cmluZyhjb2RlLCBpLCBjKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCIwXCI6XG4gICAgY2FzZSBcIjFcIjpcbiAgICBjYXNlIFwiMlwiOlxuICAgIGNhc2UgXCIzXCI6XG4gICAgY2FzZSBcIjRcIjpcbiAgICBjYXNlIFwiNVwiOlxuICAgIGNhc2UgXCI2XCI6XG4gICAgY2FzZSBcIjdcIjpcbiAgICBjYXNlIFwiOFwiOlxuICAgIGNhc2UgXCI5XCI6XG4gICAgICBpICs9IHRoaXMuZG9OdW1iZXIoY29kZSwgaSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICcvJzpcbiAgICAgIHN3aXRjaCAoY29kZS5jaGFyQXQoaSArIDEpKSB7XG4gICAgICBjYXNlICcqJzpcbiAgICAgICAgaSArPSB0aGlzLmRvQ29tbWVudChjb2RlLCBpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcvJzpcbiAgICAgICAgaSArPSB0aGlzLmRvSGVyZWdleChjb2RlLCBpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpICs9IHRoaXMuZG9SZWdleChjb2RlLCBpKSB8fCB0aGlzLmRvTGl0ZXJhbChjb2RlLCBpKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2AnOlxuICAgICAgaWYgKCdgJyA9PT0gY29kZS5jaGFyQXQoaSArIDEpKSB7XG4gICAgICAgIGkgKz0gdGhpcy5kb0pTKGNvZGUsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSArPSB0aGlzLmRvTGl0ZXJhbChjb2RlLCBpKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpICs9IHRoaXMuZG9JRChjb2RlLCBpKSB8fCB0aGlzLmRvTGl0ZXJhbChjb2RlLCBpKSB8fCB0aGlzLmRvU3BhY2UoY29kZSwgaSk7XG4gICAgfVxuICB9XG4gIHRoaXMuZGVkZW50KHRoaXMuZGVudCk7XG4gIGlmICh0aGF0ID0gdGhpcy5jbG9zZXMucG9wKCkpIHtcbiAgICB0aGlzLmNhcnAoXCJtaXNzaW5nIGBcIiArIHRoYXQgKyBcImBcIik7XG4gIH1cbiAgaWYgKHRoaXMuaW50ZXIpIHtcbiAgICB0aGlzLnJlc3QgPT0gbnVsbCAmJiB0aGlzLmNhcnAoJ3VudGVybWluYXRlZCBpbnRlcnBvbGF0aW9uJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5sYXN0LnNwYWNlZCA9IHRydWU7XG4gICAgdGhpcy5uZXdsaW5lKCk7XG4gIH1cbiAgby5yYXcgfHwgdGhpcy5yZXdyaXRlKCk7XG4gIHJldHVybiB0aGlzLnRva2Vucztcbn07XG5leHBvcnRzLmRlbnQgPSAwO1xuZXhwb3J0cy5pZGVudGlmaWVycyA9IHt9O1xuZXhwb3J0cy5oYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuZXhwb3J0cy5jaGVja0NvbnNpc3RlbmN5ID0gZnVuY3Rpb24oY2FtZWwsIGlkKXtcbiAgaWYgKHRoaXMuaGFzT3duLmNhbGwodGhpcy5pZGVudGlmaWVycywgY2FtZWwpICYmIHRoaXMuaWRlbnRpZmllcnNbY2FtZWxdICE9PSBpZCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIkluY29uc2lzdGVudCB1c2Ugb2YgXCIgKyBjYW1lbCArIFwiIGFzIFwiICsgaWQgKyBcIiBvbiBsaW5lIFwiICsgKC1+dGhpcy5saW5lKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMuaWRlbnRpZmllcnNbY2FtZWxdID0gaWQ7XG4gIH1cbn07XG5leHBvcnRzLmRvSUQgPSBmdW5jdGlvbihjb2RlLCBpbmRleCl7XG4gIHZhciByZWdleE1hdGNoLCBpbnB1dCwgaWQsIGUsIGxhc3QsIHJlZiQsIHRhZywgcmVmMSQsIHRoYXQ7XG4gIGlucHV0ID0gKHJlZ2V4TWF0Y2ggPSAoSUQubGFzdEluZGV4ID0gaW5kZXgsIElEKS5leGVjKGNvZGUpKVswXTtcbiAgaWYgKCFpbnB1dCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlkID0gY2FtZWxpemUocmVnZXhNYXRjaFsxXSk7XG4gIGlmICgvLS8udGVzdChyZWdleE1hdGNoWzFdKSkge1xuICAgIHRoaXMuY2hlY2tDb25zaXN0ZW5jeShpZCwgcmVnZXhNYXRjaFsxXSk7XG4gIH1cbiAgaWYgKE5PTkFTQ0lJLnRlc3QoaWQpKSB7XG4gICAgdHJ5IHtcbiAgICAgIEZ1bmN0aW9uKFwidmFyIFwiICsgaWQpO1xuICAgIH0gY2F0Y2ggKGUkKSB7XG4gICAgICBlID0gZSQ7XG4gICAgICB0aGlzLmNhcnAoXCJpbnZhbGlkIGlkZW50aWZpZXIgXFxcIlwiICsgaWQgKyBcIlxcXCJcIik7XG4gICAgfVxuICB9XG4gIGxhc3QgPSB0aGlzLmxhc3Q7XG4gIGlmIChyZWdleE1hdGNoWzJdIHx8IGxhc3RbMF0gPT09ICdET1QnIHx8IHRoaXMuYWRpKCkpIHtcbiAgICB0aGlzLnRva2VuKCdJRCcsIGluJChpZCwgSlNfS0VZV09SRFMpID8gKHJlZiQgPSBPYmplY3QoaWQpLCByZWYkLnJlc2VydmVkID0gdHJ1ZSwgcmVmJCkgOiBpZCk7XG4gICAgaWYgKHJlZ2V4TWF0Y2hbMl0pIHtcbiAgICAgIHRoaXMudG9rZW4oJzonLCAnOicpO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXQubGVuZ3RoO1xuICB9XG4gIHN3aXRjaCAoaWQpIHtcbiAgY2FzZSAndHJ1ZSc6XG4gIGNhc2UgJ2ZhbHNlJzpcbiAgY2FzZSAnb24nOlxuICBjYXNlICdvZmYnOlxuICBjYXNlICd5ZXMnOlxuICBjYXNlICdubyc6XG4gIGNhc2UgJ251bGwnOlxuICBjYXNlICd2b2lkJzpcbiAgY2FzZSAnYXJndW1lbnRzJzpcbiAgY2FzZSAnZGVidWdnZXInOlxuICAgIHRhZyA9ICdMSVRFUkFMJztcbiAgICBicmVhaztcbiAgY2FzZSAnbmV3JzpcbiAgY2FzZSAnZG8nOlxuICBjYXNlICd0eXBlb2YnOlxuICBjYXNlICdkZWxldGUnOlxuICAgIHRhZyA9ICdVTkFSWSc7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ3lpZWxkJzpcbiAgICB0YWcgPSAnWUlFTEQnO1xuICAgIGJyZWFrO1xuICBjYXNlICdyZXR1cm4nOlxuICBjYXNlICd0aHJvdyc6XG4gICAgdGFnID0gJ0hVUkwnO1xuICAgIGJyZWFrO1xuICBjYXNlICdicmVhayc6XG4gIGNhc2UgJ2NvbnRpbnVlJzpcbiAgICB0YWcgPSAnSlVNUCc7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ3RoaXMnOlxuICBjYXNlICdldmFsJzpcbiAgY2FzZSAnc3VwZXInOlxuICAgIHJldHVybiB0aGlzLnRva2VuKCdMSVRFUkFMJywgaWQsIHRydWUpLmxlbmd0aDtcbiAgY2FzZSAnZm9yJzpcbiAgICBpZCA9IFtdO1xuICAgIHRoaXMuZnNldCgnZm9yJywgdHJ1ZSk7XG4gICAgdGhpcy5mc2V0KCd0bycsIGZhbHNlKTtcbiAgICBicmVhaztcbiAgY2FzZSAndGhlbic6XG4gICAgdGhpcy5mc2V0KCdmb3InLCBmYWxzZSk7XG4gICAgdGhpcy5mc2V0KCd0bycsIGZhbHNlKTtcbiAgICBicmVhaztcbiAgY2FzZSAnY2F0Y2gnOlxuICBjYXNlICdmdW5jdGlvbic6XG4gICAgaWQgPSAnJztcbiAgICBicmVhaztcbiAgY2FzZSAnaW4nOlxuICBjYXNlICdvZic6XG4gICAgaWYgKHRoaXMuZmdldCgnZm9yJykpIHtcbiAgICAgIHRoaXMuZnNldCgnZm9yJywgZmFsc2UpO1xuICAgICAgaWYgKGlkID09PSAnaW4nKSB7XG4gICAgICAgIHRoaXMuZnNldCgnYnknLCB0cnVlKTtcbiAgICAgICAgaWQgPSAnJztcbiAgICAgICAgaWYgKGxhc3RbMF0gPT09ICdJRCcgJiYgKChyZWYkID0gKHJlZjEkID0gdGhpcy50b2tlbnMpW3JlZjEkLmxlbmd0aCAtIDJdWzBdKSA9PT0gJywnIHx8IHJlZiQgPT09ICddJyB8fCByZWYkID09PSAnfScpKSB7XG4gICAgICAgICAgaWQgPSB0aGlzLnRva2Vucy5wb3AoKVsxXTtcbiAgICAgICAgICBpZiAoKHJlZiQgPSB0aGlzLnRva2VucylbcmVmJC5sZW5ndGggLSAxXVswXSA9PT0gJywnKSB7XG4gICAgICAgICAgICB0aGlzLnRva2Vucy5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBmYWxsdGhyb3VnaFxuICBjYXNlICdpbnN0YW5jZW9mJzpcbiAgICBpZiAobGFzdFsxXSA9PT0gJyEnKSB7XG4gICAgICBpZCA9IHRoaXMudG9rZW5zLnBvcCgpWzFdICsgaWQ7XG4gICAgfVxuICAgIHRhZyA9IChyZWYkID0gdGhpcy50b2tlbnMpW3JlZiQubGVuZ3RoIC0gMV1bMF0gPT09ICcoJyA/ICdCSU9QUicgOiAnUkVMQVRJT04nO1xuICAgIGJyZWFrO1xuICBjYXNlICdub3QnOlxuICAgIGlmIChsYXN0LmFsaWFzICYmIGxhc3RbMV0gPT09ICc9PT0nKSB7XG4gICAgICByZXR1cm4gbGFzdFsxXSA9ICchPT0nLCAzO1xuICAgIH1cbiAgICB0YWcgPSAnVU5BUlknO1xuICAgIGlkID0gJyEnO1xuICAgIGJyZWFrO1xuICBjYXNlICdhbmQnOlxuICBjYXNlICdvcic6XG4gIGNhc2UgJ3hvcic6XG4gIGNhc2UgJ2lzJzpcbiAgY2FzZSAnaXNudCc6XG4gICAgdGhpcy51bmxpbmUoKTtcbiAgICB0YWcgPSBpZCA9PT0gJ2lzJyB8fCBpZCA9PT0gJ2lzbnQnID8gJ0NPTVBBUkUnIDogJ0xPR0lDJztcbiAgICBpZiAobGFzdFswXSA9PT0gJygnKSB7XG4gICAgICB0YWcgPSAnQklPUCc7XG4gICAgfVxuICAgIHRoaXMudG9rZW4odGFnLCAoZnVuY3Rpb24oKXtcbiAgICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgIGNhc2UgJ2lzJzpcbiAgICAgICAgcmV0dXJuICc9PT0nO1xuICAgICAgY2FzZSAnaXNudCc6XG4gICAgICAgIHJldHVybiAnIT09JztcbiAgICAgIGNhc2UgJ29yJzpcbiAgICAgICAgcmV0dXJuICd8fCc7XG4gICAgICBjYXNlICdhbmQnOlxuICAgICAgICByZXR1cm4gJyYmJztcbiAgICAgIGNhc2UgJ3hvcic6XG4gICAgICAgIHJldHVybiAneG9yJztcbiAgICAgIH1cbiAgICB9KCkpKTtcbiAgICB0aGlzLmxhc3QuYWxpYXMgPSB0cnVlO1xuICAgIHJldHVybiBpZC5sZW5ndGg7XG4gIGNhc2UgJ3VubGVzcyc6XG4gICAgdGFnID0gJ0lGJztcbiAgICBicmVhaztcbiAgY2FzZSAndW50aWwnOlxuICAgIHRhZyA9ICdXSElMRSc7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ2ltcG9ydCc6XG4gICAgaWYgKGxhc3RbMF0gPT09ICcoJykge1xuICAgICAgaWQgPSAnPDw8JztcbiAgICAgIHRhZyA9ICdCSU9QJztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGFibGUodGhpcy50b2tlbnMpKSB7XG4gICAgICAgIGlkID0gJzw8PCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YWcgPSAnREVDTCc7XG4gICAgICB9XG4gICAgfVxuICAgIGJyZWFrO1xuICBjYXNlICdleHBvcnQnOlxuICBjYXNlICdjb25zdCc6XG4gIGNhc2UgJ3Zhcic6XG4gICAgdGFnID0gJ0RFQ0wnO1xuICAgIGJyZWFrO1xuICBjYXNlICd3aXRoJzpcbiAgICB0YWcgPSAoZnVuY3Rpb24oKXtcbiAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgIGNhc2UgIWFibGUodGhpcy50b2tlbnMpOlxuICAgICAgICByZXR1cm4gJ0NMT05FUE9SVCc7XG4gICAgICBjYXNlIGxhc3RbMF0gIT09ICcoJzpcbiAgICAgICAgcmV0dXJuICdCSU9QJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnV0lUSCc7XG4gICAgICB9XG4gICAgfS5jYWxsKHRoaXMpKTtcbiAgICBicmVhaztcbiAgY2FzZSAnd2hlbic6XG4gICAgdGhpcy5mc2V0KCdmb3InLCBmYWxzZSk7XG4gICAgdGFnID0gJ0NBU0UnO1xuICAgIC8vIGZhbGx0aHJvdWdoXG4gIGNhc2UgJ2Nhc2UnOlxuICAgIGlmICh0aGlzLmRvQ2FzZSgpKSB7XG4gICAgICByZXR1cm4gaW5wdXQubGVuZ3RoO1xuICAgIH1cbiAgICBicmVhaztcbiAgY2FzZSAnbWF0Y2gnOlxuICAgIHRhZyA9ICdTV0lUQ0gnO1xuICAgIGJyZWFrO1xuICBjYXNlICdsb29wJzpcbiAgICB0aGlzLnRva2VuKCdXSElMRScsIGlkKTtcbiAgICB0aGlzLnRva2VuKCdMSVRFUkFMJywgJ3RydWUnKTtcbiAgICByZXR1cm4gaW5wdXQubGVuZ3RoO1xuICBjYXNlICdsZXQnOlxuICBjYXNlICdvd24nOlxuICAgIGlmIChsYXN0WzBdID09PSAnRk9SJyAmJiAhaW4kKGlkLCBsYXN0WzFdKSkge1xuICAgICAgbGFzdFsxXS5wdXNoKGlkKTtcbiAgICAgIHJldHVybiAzO1xuICAgIH1cbiAgICAvLyBmYWxsdGhyb3VnaFxuICBkZWZhdWx0OlxuICAgIGlmIChpbiQoaWQsIEtFWVdPUkRTX1NIQVJFRCkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoaW4kKGlkLCBLRVlXT1JEU19VTlVTRUQpKSB7XG4gICAgICB0aGlzLmNhcnAoXCJyZXNlcnZlZCB3b3JkIFxcXCJcIiArIGlkICsgXCJcXFwiXCIpO1xuICAgIH1cbiAgICBpZiAoIWxhc3RbMV0gJiYgKChyZWYkID0gbGFzdFswXSkgPT09ICdGVU5DVElPTicgfHwgcmVmJCA9PT0gJ0dFTkVSQVRPUicgfHwgcmVmJCA9PT0gJ0xBQkVMJykpIHtcbiAgICAgIGxhc3RbMV0gPSBpZDtcbiAgICAgIGxhc3Quc3BhY2VkID0gZmFsc2U7XG4gICAgICByZXR1cm4gaW5wdXQubGVuZ3RoO1xuICAgIH1cbiAgICB0YWcgPSAnSUQnO1xuICAgIHN3aXRjaCAoaWQpIHtcbiAgICBjYXNlICdvdGhlcndpc2UnOlxuICAgICAgaWYgKChyZWYkID0gbGFzdFswXSkgPT09ICdDQVNFJyB8fCByZWYkID09PSAnfCcpIHtcbiAgICAgICAgbGFzdFswXSA9ICdERUZBVUxUJztcbiAgICAgICAgcmV0dXJuIGlkLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2FsbCc6XG4gICAgICBpZiAodGhhdCA9IGxhc3RbMV0gPT09ICc8PDwnICYmICc8JyB8fCBsYXN0WzFdID09PSAnaW1wb3J0JyAmJiAnQWxsJykge1xuICAgICAgICBsYXN0WzFdICs9IHRoYXQ7XG4gICAgICAgIHJldHVybiAzO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZnJvbSc6XG4gICAgICBpZiAobGFzdFsxXSA9PT0gJ3lpZWxkJykge1xuICAgICAgICBsYXN0WzFdICs9ICdmcm9tJztcbiAgICAgICAgcmV0dXJuIDQ7XG4gICAgICB9XG4gICAgICB0aGlzLmZvcmFuZ2UoKSAmJiAodGFnID0gJ0ZST00nKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RvJzpcbiAgICBjYXNlICd0aWwnOlxuICAgICAgdGhpcy5mb3JhbmdlKCkgJiYgdGhpcy50b2tlbnMucHVzaChbJ0ZST00nLCAnJywgdGhpcy5saW5lXSwgWydTVFJOVU0nLCAnMCcsIHRoaXMubGluZV0pO1xuICAgICAgaWYgKHRoaXMuZmdldCgnZnJvbScpKSB7XG4gICAgICAgIHRoaXMuZnNldCgnZnJvbScsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5mc2V0KCdieScsIHRydWUpO1xuICAgICAgICB0YWcgPSAnVE8nO1xuICAgICAgfSBlbHNlIGlmICghbGFzdC5jYWxsYWJsZSAmJiBsYXN0WzBdID09PSAnU1RSTlVNJyAmJiAocmVmJCA9IHRoaXMudG9rZW5zKVtyZWYkLmxlbmd0aCAtIDJdWzBdID09PSAnWycpIHtcbiAgICAgICAgbGFzdFswXSA9ICdSQU5HRSc7XG4gICAgICAgIGxhc3Qub3AgPSBpZDtcbiAgICAgICAgcmV0dXJuIGlkLmxlbmd0aDtcbiAgICAgIH0gZWxzZSBpZiAoaW4kKCddJywgdGhpcy5jbG9zZXMpKSB7XG4gICAgICAgIHRoaXMudG9rZW4oJ1RPJywgaWQpO1xuICAgICAgICByZXR1cm4gaWQubGVuZ3RoO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYnknOlxuICAgICAgaWYgKGxhc3RbMF0gPT09ICdTVFJOVU0nICYmIChyZWYkID0gdGhpcy50b2tlbnMpW3JlZiQubGVuZ3RoIC0gMl1bMF0gPT09ICdSQU5HRScgJiYgKHJlZiQgPSB0aGlzLnRva2VucylbcmVmJC5sZW5ndGggLSAzXVswXSA9PT0gJ1snKSB7XG4gICAgICAgIHRhZyA9ICdSQU5HRV9CWSc7XG4gICAgICB9IGVsc2UgaWYgKGluJCgnXScsIHRoaXMuY2xvc2VzKSkge1xuICAgICAgICB0YWcgPSAnQlknO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmZnZXQoJ2J5JykpIHtcbiAgICAgICAgdGFnID0gJ0JZJztcbiAgICAgICAgdGhpcy5mc2V0KCdieScsIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2V2ZXInOlxuICAgICAgaWYgKGxhc3RbMF0gPT09ICdGT1InKSB7XG4gICAgICAgIHRoaXMuZnNldCgnZm9yJywgZmFsc2UpO1xuICAgICAgICBsYXN0WzBdID0gJ1dISUxFJztcbiAgICAgICAgdGFnID0gJ0xJVEVSQUwnO1xuICAgICAgICBpZCA9ICd0cnVlJztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdGFnIHx8ICh0YWcgPSByZWdleE1hdGNoWzFdLnRvVXBwZXJDYXNlKCkpO1xuICBpZiAoKHRhZyA9PT0gJ0NPTVBBUkUnIHx8IHRhZyA9PT0gJ0xPR0lDJyB8fCB0YWcgPT09ICdSRUxBVElPTicpICYmIGxhc3RbMF0gPT09ICcoJykge1xuICAgIHRhZyA9IHRhZyA9PT0gJ1JFTEFUSU9OJyA/ICdCSU9QUicgOiAnQklPUCc7XG4gIH1cbiAgaWYgKHRhZyA9PT0gJ1RIRU4nIHx8IHRhZyA9PT0gJ0lGJyB8fCB0YWcgPT09ICdXSElMRScpIHtcbiAgICB0aGlzLmZzZXQoJ2ZvcicsIGZhbHNlKTtcbiAgICB0aGlzLmZzZXQoJ2J5JywgZmFsc2UpO1xuICB9XG4gIGlmICh0YWcgPT09ICdSRUxBVElPTicgfHwgdGFnID09PSAnVEhFTicgfHwgdGFnID09PSAnRUxTRScgfHwgdGFnID09PSAnQ0FTRScgfHwgdGFnID09PSAnREVGQVVMVCcgfHwgdGFnID09PSAnQ0FUQ0gnIHx8IHRhZyA9PT0gJ0ZJTkFMTFknIHx8IHRhZyA9PT0gJ0lOJyB8fCB0YWcgPT09ICdPRicgfHwgdGFnID09PSAnRlJPTScgfHwgdGFnID09PSAnVE8nIHx8IHRhZyA9PT0gJ0JZJyB8fCB0YWcgPT09ICdFWFRFTkRTJyB8fCB0YWcgPT09ICdJTVBMRU1FTlRTJyB8fCB0YWcgPT09ICdXSEVSRScpIHtcbiAgICB0aGlzLnVubGluZSgpO1xuICB9XG4gIHRoaXMudG9rZW4odGFnLCBpZCk7XG4gIHJldHVybiBpbnB1dC5sZW5ndGg7XG59O1xuZXhwb3J0cy5kb051bWJlciA9IGZ1bmN0aW9uKGNvZGUsIGxhc3RJbmRleCl7XG4gIHZhciBpbnB1dCwgcmVnZXhNYXRjaCwgbGFzdCwgcmFkaXgsIG51bSwgcm51bSwgYm91bmQsIHJlZiQ7XG4gIE5VTUJFUi5sYXN0SW5kZXggPSBsYXN0SW5kZXg7XG4gIGlmICghKGlucHV0ID0gKHJlZ2V4TWF0Y2ggPSBOVU1CRVIuZXhlYyhjb2RlKSlbMF0pKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgbGFzdCA9IHRoaXMubGFzdDtcbiAgaWYgKHJlZ2V4TWF0Y2hbNV0gJiYgKGxhc3RbMF0gPT09ICdET1QnIHx8IHRoaXMuYWRpKCkpKSB7XG4gICAgdGhpcy50b2tlbignU1RSTlVNJywgcmVnZXhNYXRjaFs0XS5yZXBsYWNlKE5VTUJFUl9PTUlULCAnJykpO1xuICAgIHJldHVybiByZWdleE1hdGNoWzRdLmxlbmd0aDtcbiAgfVxuICBpZiAocmFkaXggPSByZWdleE1hdGNoWzFdKSB7XG4gICAgbnVtID0gcGFyc2VJbnQocm51bSA9IHJlZ2V4TWF0Y2hbMl0ucmVwbGFjZShOVU1CRVJfT01JVCwgJycpLCByYWRpeCk7XG4gICAgYm91bmQgPSBmYWxzZTtcbiAgICBpZiAocmFkaXggPiAzNiB8fCByYWRpeCA8IDIpIHtcbiAgICAgIGlmICgvWzAtOV0vLmV4ZWMocm51bSkpIHtcbiAgICAgICAgdGhpcy5jYXJwKFwiaW52YWxpZCBudW1iZXIgYmFzZSBcIiArIHJhZGl4ICsgXCIgKHdpdGggbnVtYmVyIFwiICsgcm51bSArIFwiKSxiYXNlIG11c3QgYmUgZnJvbSAyIHRvIDM2XCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYm91bmQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNOYU4obnVtKSB8fCBudW0gPT09IHBhcnNlSW50KHJudW0uc2xpY2UoMCwgLTEpLCByYWRpeCkpIHtcbiAgICAgIHRoaXMuc3RybnVtKHJlZ2V4TWF0Y2hbMV0pO1xuICAgICAgdGhpcy50b2tlbignRE9UJywgJy5+Jyk7XG4gICAgICB0aGlzLnRva2VuKCdJRCcsIHJlZ2V4TWF0Y2hbMl0pO1xuICAgICAgcmV0dXJuIGlucHV0Lmxlbmd0aDtcbiAgICB9XG4gICAgbnVtICs9ICcnO1xuICB9IGVsc2Uge1xuICAgIG51bSA9IChyZWdleE1hdGNoWzNdIHx8IGlucHV0KS5yZXBsYWNlKE5VTUJFUl9PTUlULCAnJyk7XG4gICAgaWYgKHJlZ2V4TWF0Y2hbM10gJiYgbnVtLmNoYXJBdCgpID09PSAnMCcgJiYgKChyZWYkID0gbnVtLmNoYXJBdCgxKSkgIT09ICcnICYmIHJlZiQgIT09ICcuJykpIHtcbiAgICAgIHRoaXMuY2FycChcImRlcHJlY2F0ZWQgb2N0YWwgbGl0ZXJhbCBcIiArIHJlZ2V4TWF0Y2hbNF0pO1xuICAgIH1cbiAgfVxuICBpZiAoIWxhc3Quc3BhY2VkICYmIGxhc3RbMF0gPT09ICcrLScpIHtcbiAgICBsYXN0WzBdID0gJ1NUUk5VTSc7XG4gICAgbGFzdFsxXSArPSBudW07XG4gICAgcmV0dXJuIGlucHV0Lmxlbmd0aDtcbiAgfVxuICB0aGlzLnN0cm51bShudW0pO1xuICByZXR1cm4gaW5wdXQubGVuZ3RoO1xufTtcbmV4cG9ydHMuZG9TdHJpbmcgPSBmdW5jdGlvbihjb2RlLCBpbmRleCwgcSl7XG4gIHZhciBwYXJ0cywgc3RyO1xuICBpZiAocSA9PT0gY29kZS5jaGFyQXQoaW5kZXggKyAxKSkge1xuICAgIHJldHVybiBxID09PSBjb2RlLmNoYXJBdChpbmRleCArIDIpXG4gICAgICA/IHRoaXMuZG9IZXJlZG9jKGNvZGUsIGluZGV4LCBxKVxuICAgICAgOiAodGhpcy5zdHJudW0ocSArIHEpLCAyKTtcbiAgfVxuICBpZiAocSA9PT0gJ1wiJykge1xuICAgIHBhcnRzID0gdGhpcy5pbnRlcnBvbGF0ZShjb2RlLCBpbmRleCwgcSk7XG4gICAgdGhpcy5hZGRJbnRlcnBvbGF0ZWQocGFydHMsIHVubGluZXMpO1xuICAgIHJldHVybiAxICsgcGFydHMuc2l6ZTtcbiAgfVxuICBzdHIgPSAoU0lNUExFU1RSLmxhc3RJbmRleCA9IGluZGV4LCBTSU1QTEVTVFIpLmV4ZWMoY29kZSlbMF0gfHwgdGhpcy5jYXJwKCd1bnRlcm1pbmF0ZWQgc3RyaW5nJyk7XG4gIHRoaXMuc3RybnVtKHVubGluZXModGhpcy5zdHJpbmcocSwgc3RyLnNsaWNlKDEsIC0xKSkpKTtcbiAgcmV0dXJuIHRoaXMuY291bnRMaW5lcyhzdHIpLmxlbmd0aDtcbn07XG5leHBvcnRzLmRvSGVyZWRvYyA9IGZ1bmN0aW9uKGNvZGUsIGluZGV4LCBxKXtcbiAgdmFyIGVuZCwgcmF3LCBkb2MsIHBhcnRzLCB0YWJzLCBpJCwgbGVuJCwgaSwgdDtcbiAgaWYgKHEgPT09ICdcXCcnKSB7XG4gICAgfihlbmQgPSBjb2RlLmluZGV4T2YocSArIHEgKyBxLCBpbmRleCArIDMpKSB8fCB0aGlzLmNhcnAoJ3VudGVybWluYXRlZCBoZXJlZG9jJyk7XG4gICAgcmF3ID0gY29kZS5zbGljZShpbmRleCArIDMsIGVuZCk7XG4gICAgZG9jID0gcmF3LnJlcGxhY2UoTEFTVERFTlQsICcnKTtcbiAgICB0aGlzLnN0cm51bShlbmxpbmVzKHRoaXMuc3RyaW5nKHEsIGxjaG9tcChkZXRhYihkb2MsIGhlcmV0YWJzKGRvYykpKSkpKTtcbiAgICByZXR1cm4gdGhpcy5jb3VudExpbmVzKHJhdykubGVuZ3RoICsgNjtcbiAgfVxuICBwYXJ0cyA9IHRoaXMuaW50ZXJwb2xhdGUoY29kZSwgaW5kZXgsIHEgKyBxICsgcSk7XG4gIHRhYnMgPSBoZXJldGFicyhjb2RlLnNsaWNlKGluZGV4ICsgMywgaW5kZXggKyBwYXJ0cy5zaXplKS5yZXBsYWNlKExBU1RERU5ULCAnJykpO1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IHBhcnRzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgaSA9IGkkO1xuICAgIHQgPSBwYXJ0c1tpJF07XG4gICAgaWYgKHRbMF0gPT09ICdTJykge1xuICAgICAgaWYgKGkgKyAxID09PSBwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgdFsxXSA9IHRbMV0ucmVwbGFjZShMQVNUREVOVCwgJycpO1xuICAgICAgfVxuICAgICAgdFsxXSA9IGRldGFiKHRbMV0sIHRhYnMpO1xuICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgdFsxXSA9IGxjaG9tcCh0WzFdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdGhpcy5hZGRJbnRlcnBvbGF0ZWQocGFydHMsIGVubGluZXMpO1xuICByZXR1cm4gMyArIHBhcnRzLnNpemU7XG59O1xuZXhwb3J0cy5kb0NvbW1lbnQgPSBmdW5jdGlvbihjb2RlLCBpbmRleCl7XG4gIHZhciBjb21tZW50LCBlbmQsIHJlZiQ7XG4gIGNvbW1lbnQgPSB+KGVuZCA9IGNvZGUuaW5kZXhPZignKi8nLCBpbmRleCArIDIpKVxuICAgID8gY29kZS5zbGljZShpbmRleCwgZW5kICsgMilcbiAgICA6IGNvZGUuc2xpY2UoaW5kZXgpICsgJyovJztcbiAgaWYgKChyZWYkID0gdGhpcy5sYXN0WzBdKSA9PT0gJ05FV0xJTkUnIHx8IHJlZiQgPT09ICdJTkRFTlQnIHx8IHJlZiQgPT09ICdUSEVOJykge1xuICAgIHRoaXMudG9rZW4oJ0NPTU1FTlQnLCBkZXRhYihjb21tZW50LCB0aGlzLmRlbnQpKTtcbiAgICB0aGlzLnRva2VuKCdORVdMSU5FJywgJ1xcbicpO1xuICB9XG4gIHJldHVybiB0aGlzLmNvdW50TGluZXMoY29tbWVudCkubGVuZ3RoO1xufTtcbmV4cG9ydHMuZG9KUyA9IGZ1bmN0aW9uKGNvZGUsIGxhc3RJbmRleCl7XG4gIHZhciBqcywgcmVmJDtcbiAgSlNUT0tFTi5sYXN0SW5kZXggPSBsYXN0SW5kZXg7XG4gIGpzID0gSlNUT0tFTi5leGVjKGNvZGUpWzBdIHx8IHRoaXMuY2FycCgndW50ZXJtaW5hdGVkIEpTIGxpdGVyYWwnKTtcbiAgdGhpcy50b2tlbignTElURVJBTCcsIChyZWYkID0gT2JqZWN0KGRldGFiKGpzLnNsaWNlKDIsIC0yKSwgdGhpcy5kZW50KSksIHJlZiQuanMgPSB0cnVlLCByZWYkKSwgdHJ1ZSk7XG4gIHJldHVybiB0aGlzLmNvdW50TGluZXMoanMpLmxlbmd0aDtcbn07XG5leHBvcnRzLmRvUmVnZXggPSBmdW5jdGlvbihjb2RlLCBpbmRleCl7XG4gIHZhciBkaXZpc2libGUsIHJlZiQsIGlucHV0LCBib2R5LCBmbGFnO1xuICBpZiAoZGl2aXNpYmxlID0gYWJsZSh0aGlzLnRva2VucykgfHwgdGhpcy5sYXN0WzBdID09PSAnQ1JFTUVOVCcpIHtcbiAgICBpZiAoIXRoaXMubGFzdC5zcGFjZWQgfHwgKChyZWYkID0gY29kZS5jaGFyQXQoaW5kZXggKyAxKSkgPT09ICcgJyB8fCByZWYkID09PSAnPScpKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gIH1cbiAgcmVmJCA9IChSRUdFWC5sYXN0SW5kZXggPSBpbmRleCwgUkVHRVgpLmV4ZWMoY29kZSksIGlucHV0ID0gcmVmJFswXSwgYm9keSA9IHJlZiRbMV0sIGZsYWcgPSByZWYkWzJdO1xuICBpZiAoaW5wdXQpIHtcbiAgICB0aGlzLnJlZ2V4KGJvZHksIGZsYWcpO1xuICB9IGVsc2UgaWYgKCFkaXZpc2libGUgJiYgdGhpcy5sYXN0WzBdICE9PSAnKCcpIHtcbiAgICB0aGlzLmNhcnAoJ3VudGVybWluYXRlZCByZWdleCcpO1xuICB9XG4gIHJldHVybiBpbnB1dC5sZW5ndGg7XG59O1xuZXhwb3J0cy5kb0hlcmVnZXggPSBmdW5jdGlvbihjb2RlLCBpbmRleCl7XG4gIHZhciB0b2tlbnMsIGxhc3QsIHBhcnRzLCByZXN0LCBmbGFnLCBpJCwgaSwgdCwgZHluYWZsYWcsIGxlbiQsIHZhbCwgb25lO1xuICB0b2tlbnMgPSB0aGlzLnRva2VucywgbGFzdCA9IHRoaXMubGFzdDtcbiAgcGFydHMgPSB0aGlzLmludGVycG9sYXRlKGNvZGUsIGluZGV4LCAnLy8nKTtcbiAgcmVzdCA9IGNvZGUuc2xpY2UoaW5kZXggKyAyICsgcGFydHMuc2l6ZSk7XG4gIGZsYWcgPSB0aGlzLnZhbGlkYXRlKC9eKD86W2dpbXldezEsNH18Wz8kXT8pLy5leGVjKHJlc3QpWzBdKTtcbiAgaWYgKHBhcnRzWzFdKSB7XG4gICAgaWYgKGZsYWcgPT09ICckJykge1xuICAgICAgdGhpcy5hZGkoKTtcbiAgICAgIHRoaXMudG9rZW4oJygnLCAnXCInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdG9rZW5zLnB1c2goWydJRCcsICdSZWdFeHAnLCBsYXN0WzJdXSwgWydDQUxMKCcsICcnLCBsYXN0WzJdXSk7XG4gICAgICBpZiAoZmxhZyA9PT0gJz8nKSB7XG4gICAgICAgIGZvciAoaSQgPSBwYXJ0cy5sZW5ndGggLSAxOyBpJCA+PSAwOyAtLWkkKSB7XG4gICAgICAgICAgaSA9IGkkO1xuICAgICAgICAgIHQgPSBwYXJ0c1tpJF07XG4gICAgICAgICAgaWYgKHRbMF0gPT09ICdUT0tFTlMnKSB7XG4gICAgICAgICAgICBkeW5hZmxhZyA9IHBhcnRzLnNwbGljZShpLCAxKVswXVsxXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IHBhcnRzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICBpID0gaSQ7XG4gICAgICB0ID0gcGFydHNbaSRdO1xuICAgICAgaWYgKHRbMF0gPT09ICdUT0tFTlMnKSB7XG4gICAgICAgIHRva2Vucy5wdXNoLmFwcGx5KHRva2VucywgdFsxXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSB0WzFdLnJlcGxhY2UoSEVSRUdFWF9PTUlULCAnJyk7XG4gICAgICAgIGlmIChvbmUgJiYgIXZhbCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIG9uZSA9IHRva2Vucy5wdXNoKCh0WzBdID0gJ1NUUk5VTScsIHRbMV0gPSB0aGlzLnN0cmluZygnXFwnJywgZW5zbGFzaCh2YWwpKSwgdCkpO1xuICAgICAgfVxuICAgICAgdG9rZW5zLnB1c2goWycrLScsICcrJywgdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXVsyXV0pO1xuICAgIH1cbiAgICAtLXRva2Vucy5sZW5ndGg7XG4gICAgaWYgKGR5bmFmbGFnIHx8IGZsYWcgPj0gJ2cnKSB7XG4gICAgICB0aGlzLnRva2VuKCcsJywgJywnKTtcbiAgICAgIGlmIChkeW5hZmxhZykge1xuICAgICAgICB0b2tlbnMucHVzaC5hcHBseSh0b2tlbnMsIGR5bmFmbGFnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudG9rZW4oJ1NUUk5VTScsIFwiJ1wiICsgZmxhZyArIFwiJ1wiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50b2tlbihmbGFnID09PSAnJCcgPyAnKScgOiAnKUNBTEwnLCAnJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5yZWdleChyZXNsYXNoKHBhcnRzWzBdWzFdLnJlcGxhY2UoSEVSRUdFWF9PTUlULCAnJykpLCBmbGFnKTtcbiAgfVxuICByZXR1cm4gMiArIHBhcnRzLnNpemUgKyBmbGFnLmxlbmd0aDtcbn07XG5leHBvcnRzLmRvQmFja3NsYXNoID0gZnVuY3Rpb24oY29kZSwgbGFzdEluZGV4KXtcbiAgdmFyIHJlZiQsIGlucHV0LCB3b3JkO1xuICBCU1RPS0VOLmxhc3RJbmRleCA9IGxhc3RJbmRleDtcbiAgcmVmJCA9IEJTVE9LRU4uZXhlYyhjb2RlKSwgaW5wdXQgPSByZWYkWzBdLCB3b3JkID0gcmVmJFsxXTtcbiAgaWYgKHdvcmQpIHtcbiAgICB0aGlzLnN0cm51bSh0aGlzLnN0cmluZygnXFwnJywgd29yZCkpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuY291bnRMaW5lcyhpbnB1dCk7XG4gIH1cbiAgcmV0dXJuIGlucHV0Lmxlbmd0aDtcbn07XG5leHBvcnRzLmRvTGluZSA9IGZ1bmN0aW9uKGNvZGUsIGluZGV4KXtcbiAgdmFyIHJlZiQsIGlucHV0LCB0YWJzLCBsZW5ndGgsIGxhc3QsIHRoYXQsIGRlbHRhLCB0YWcsIHZhbDtcbiAgcmVmJCA9IChNVUxUSURFTlQubGFzdEluZGV4ID0gaW5kZXgsIE1VTFRJREVOVCkuZXhlYyhjb2RlKSwgaW5wdXQgPSByZWYkWzBdLCB0YWJzID0gcmVmJFsxXTtcbiAgbGVuZ3RoID0gdGhpcy5jb3VudExpbmVzKGlucHV0KS5sZW5ndGg7XG4gIGxhc3QgPSB0aGlzLmxhc3Q7XG4gIGxhc3QuZW9sID0gdHJ1ZTtcbiAgbGFzdC5zcGFjZWQgPSB0cnVlO1xuICBpZiAoaW5kZXggKyBsZW5ndGggPj0gY29kZS5sZW5ndGgpIHtcbiAgICByZXR1cm4gbGVuZ3RoO1xuICB9XG4gIGlmICh0aGF0ID0gdGFicyAmJiAodGhpcy5lbWVuZGVyIHx8ICh0aGlzLmVtZW5kZXIgPSBSZWdFeHAoJ1teJyArIHRhYnMuY2hhckF0KCkgKyAnXScpKSkuZXhlYyh0YWJzKSkge1xuICAgIHRoaXMuY2FycChcImNvbnRhbWluYXRlZCBpbmRlbnQgXCIgKyBlc2NhcGUodGhhdCkpO1xuICB9XG4gIGlmICgwID4gKGRlbHRhID0gdGFicy5sZW5ndGggLSB0aGlzLmRlbnQpKSB7XG4gICAgdGhpcy5kZWRlbnQoLWRlbHRhKTtcbiAgICB0aGlzLm5ld2xpbmUoKTtcbiAgfSBlbHNlIHtcbiAgICB0YWcgPSBsYXN0WzBdLCB2YWwgPSBsYXN0WzFdO1xuICAgIGlmICh0YWcgPT09ICdBU1NJR04nICYmICgocmVmJCA9IHZhbCArICcnKSAhPT0gJz0nICYmIHJlZiQgIT09ICc6PScgJiYgcmVmJCAhPT0gJys9JykgfHwgdmFsID09PSAnKysnICYmIChyZWYkID0gdGhpcy50b2tlbnMpW3JlZiQubGVuZ3RoIC0gMl0uc3BhY2VkIHx8ICh0YWcgPT09ICcrLScgfHwgdGFnID09PSAnUElQRScgfHwgdGFnID09PSAnQkFDS1BJUEUnIHx8IHRhZyA9PT0gJ0RPVCcgfHwgdGFnID09PSAnTE9HSUMnIHx8IHRhZyA9PT0gJ01BVEgnIHx8IHRhZyA9PT0gJ0NPTVBBUkUnIHx8IHRhZyA9PT0gJ1JFTEFUSU9OJyB8fCB0YWcgPT09ICdTSElGVCcgfHwgdGFnID09PSAnSU4nIHx8IHRhZyA9PT0gJ09GJyB8fCB0YWcgPT09ICdUTycgfHwgdGFnID09PSAnQlknIHx8IHRhZyA9PT0gJ0ZST00nIHx8IHRhZyA9PT0gJ0VYVEVORFMnIHx8IHRhZyA9PT0gJ0lNUExFTUVOVFMnKSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gICAgaWYgKGRlbHRhKSB7XG4gICAgICB0aGlzLmluZGVudChkZWx0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubmV3bGluZSgpO1xuICAgIH1cbiAgfVxuICB0aGlzLmZzZXQoJ2ZvcicsIGZhbHNlKTtcbiAgdGhpcy5mc2V0KCdieScsIGZhbHNlKTtcbiAgcmV0dXJuIGxlbmd0aDtcbn07XG5leHBvcnRzLmRvU3BhY2UgPSBmdW5jdGlvbihjb2RlLCBsYXN0SW5kZXgpe1xuICB2YXIgaW5wdXQ7XG4gIFNQQUNFLmxhc3RJbmRleCA9IGxhc3RJbmRleDtcbiAgaWYgKGlucHV0ID0gU1BBQ0UuZXhlYyhjb2RlKVswXSkge1xuICAgIHRoaXMubGFzdC5zcGFjZWQgPSB0cnVlO1xuICB9XG4gIHJldHVybiBpbnB1dC5sZW5ndGg7XG59O1xuZXhwb3J0cy5kb0Nhc2UgPSBmdW5jdGlvbigpe1xuICB2YXIgcmVmJCwgcmVmMSQ7XG4gIHRoaXMuc2VlbkZvciA9IGZhbHNlO1xuICBpZiAoKChyZWYkID0gdGhpcy5sYXN0WzBdKSA9PT0gJ0FTU0lHTicgfHwgcmVmJCA9PT0gJy0+JyB8fCByZWYkID09PSAnOicpIHx8ICh0aGlzLmxhc3RbMF0gPT09ICdJTkRFTlQnICYmICgocmVmJCA9IChyZWYxJCA9IHRoaXMudG9rZW5zKVtyZWYxJC5sZW5ndGggLSAyXVswXSkgPT09ICdBU1NJR04nIHx8IHJlZiQgPT09ICctPicgfHwgcmVmJCA9PT0gJzonKSkpIHtcbiAgICB0aGlzLnRva2VuKCdTV0lUQ0gnLCAnc3dpdGNoJyk7XG4gICAgdGhpcy5saW5lKys7XG4gICAgcmV0dXJuIHRoaXMudG9rZW4oJ0NBU0UnLCAnY2FzZScpO1xuICB9XG59O1xuZXhwb3J0cy5kb0xpdGVyYWwgPSBmdW5jdGlvbihjb2RlLCBpbmRleCl7XG4gIHZhciBzeW0sIHRhZywgdmFsLCByZWYkLCB0aGF0O1xuICBpZiAoIShzeW0gPSAoU1lNQk9MLmxhc3RJbmRleCA9IGluZGV4LCBTWU1CT0wpLmV4ZWMoY29kZSlbMF0pKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgc3dpdGNoICh0YWcgPSB2YWwgPSBzeW0pIHtcbiAgY2FzZSAnfCc6XG4gICAgdGFnID0gJ0NBU0UnO1xuICAgIGlmICh0aGlzLmRvQ2FzZSgpKSB7XG4gICAgICByZXR1cm4gc3ltLmxlbmd0aDtcbiAgICB9XG4gICAgYnJlYWs7XG4gIGNhc2UgJ3w+JzpcbiAgICB0YWcgPSAnUElQRSc7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ2AnOlxuICAgIHRhZyA9ICdCQUNLVElDSyc7XG4gICAgYnJlYWs7XG4gIGNhc2UgJzw8JzpcbiAgY2FzZSAnPj4nOlxuICAgIHRhZyA9ICdDT01QT1NFJztcbiAgICBicmVhaztcbiAgY2FzZSAnPHwnOlxuICAgIHRhZyA9ICdCQUNLUElQRSc7XG4gICAgYnJlYWs7XG4gIGNhc2UgJysnOlxuICBjYXNlICctJzpcbiAgICB0YWcgPSAnKy0nO1xuICAgIGJyZWFrO1xuICBjYXNlICcmJic6XG4gIGNhc2UgJ3x8JzpcbiAgICB0YWcgPSAnTE9HSUMnO1xuICAgIGJyZWFrO1xuICBjYXNlICcuJi4nOlxuICBjYXNlICcufC4nOlxuICBjYXNlICcuXi4nOlxuICAgIHRhZyA9ICdCSVRXSVNFJztcbiAgICBicmVhaztcbiAgY2FzZSAnXl4nOlxuICAgIHRhZyA9ICdDTE9ORSc7XG4gICAgYnJlYWs7XG4gIGNhc2UgJyoqJzpcbiAgY2FzZSAnXic6XG4gICAgdGFnID0gJ1BPV0VSJztcbiAgICBicmVhaztcbiAgY2FzZSAnPyc6XG4gICAgaWYgKHRoaXMubGFzdFswXSA9PT0gJygnKSB7XG4gICAgICB0aGlzLnRva2VuKCdQQVJBTSgnLCAnKCcpO1xuICAgICAgdGhpcy50b2tlbignKVBBUkFNJywgJyknKTtcbiAgICAgIHRoaXMudG9rZW4oJy0+JywgJy0+Jyk7XG4gICAgICB0aGlzLnRva2VuKCdJRCcsICdpdCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5sYXN0LnNwYWNlZCkge1xuICAgICAgICB0YWcgPSAnTE9HSUMnO1xuICAgICAgfVxuICAgIH1cbiAgICBicmVhaztcbiAgY2FzZSAnLyc6XG4gIGNhc2UgJyUnOlxuICBjYXNlICclJSc6XG4gICAgdGFnID0gJ01BVEgnO1xuICAgIGJyZWFrO1xuICBjYXNlICcrKyc6XG4gIGNhc2UgJy0tJzpcbiAgICB0YWcgPSAnQ1JFTUVOVCc7XG4gICAgYnJlYWs7XG4gIGNhc2UgJzw8PCc6XG4gIGNhc2UgJzw8PDwnOlxuICAgIHRhZyA9ICdJTVBPUlQnO1xuICAgIGJyZWFrO1xuICBjYXNlICc7JzpcbiAgICB0YWcgPSAnTkVXTElORSc7XG4gICAgdGhpcy5mc2V0KCdieScsIGZhbHNlKTtcbiAgICBicmVhaztcbiAgY2FzZSAnLi4nOlxuICAgIHRoaXMudG9rZW4oJ0xJVEVSQUwnLCAnLi4nLCB0cnVlKTtcbiAgICByZXR1cm4gMjtcbiAgY2FzZSAnLic6XG4gICAgaWYgKHRoaXMubGFzdFsxXSA9PT0gJz8nKSB7XG4gICAgICB0aGlzLmxhc3RbMF0gPSAnPyc7XG4gICAgfVxuICAgIHRhZyA9ICdET1QnO1xuICAgIGJyZWFrO1xuICBjYXNlICcsJzpcbiAgICBzd2l0Y2ggKHRoaXMubGFzdFswXSkge1xuICAgIGNhc2UgJywnOlxuICAgIGNhc2UgJ1snOlxuICAgIGNhc2UgJygnOlxuICAgIGNhc2UgJ0NBTEwoJzpcbiAgICAgIHRoaXMudG9rZW4oJ0xJVEVSQUwnLCAndm9pZCcpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnRk9SJzpcbiAgICBjYXNlICdPV04nOlxuICAgICAgdGhpcy50b2tlbignSUQnLCAnJyk7XG4gICAgfVxuICAgIGJyZWFrO1xuICBjYXNlICchPSc6XG4gIGNhc2UgJ349JzpcbiAgICBpZiAoIShhYmxlKHRoaXMudG9rZW5zKSB8fCAoKHJlZiQgPSB0aGlzLmxhc3RbMF0pID09PSAnKCcgfHwgcmVmJCA9PT0gJ0NSRU1FTlQnKSkpIHtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2godmFsID09PSAnIT0nXG4gICAgICAgID8gWydVTkFSWScsICchJywgdGhpcy5saW5lXVxuICAgICAgICA6IFsnVU5BUlknLCAnficsIHRoaXMubGluZV0sIFsnQVNTSUdOJywgJz0nLCB0aGlzLmxpbmVdKTtcbiAgICAgIHJldHVybiAyO1xuICAgIH1cbiAgICAvLyBmYWxsdGhyb3VnaFxuICBjYXNlICchfj0nOlxuICBjYXNlICc9PSc6XG4gICAgdmFsID0gKGZ1bmN0aW9uKCl7XG4gICAgICBzd2l0Y2ggKHZhbCkge1xuICAgICAgY2FzZSAnfj0nOlxuICAgICAgICByZXR1cm4gJz09JztcbiAgICAgIGNhc2UgJyF+PSc6XG4gICAgICAgIHJldHVybiAnIT0nO1xuICAgICAgY2FzZSAnPT0nOlxuICAgICAgICByZXR1cm4gJz09PSc7XG4gICAgICBjYXNlICchPSc6XG4gICAgICAgIHJldHVybiAnIT09JztcbiAgICAgIH1cbiAgICB9KCkpO1xuICAgIHRhZyA9ICdDT01QQVJFJztcbiAgICBicmVhaztcbiAgY2FzZSAnPT09JzpcbiAgY2FzZSAnIT09JzpcbiAgICB2YWwgKz0gJz0nO1xuICAgIC8vIGZhbGx0aHJvdWdoXG4gIGNhc2UgJzwnOlxuICBjYXNlICc+JzpcbiAgY2FzZSAnPD0nOlxuICBjYXNlICc+PSc6XG4gIGNhc2UgJzw9PSc6XG4gIGNhc2UgJz49PSc6XG4gIGNhc2UgJz4+PSc6XG4gIGNhc2UgJzw8PSc6XG4gICAgdGFnID0gJ0NPTVBBUkUnO1xuICAgIGJyZWFrO1xuICBjYXNlICcuPDwuJzpcbiAgY2FzZSAnLj4+Lic6XG4gIGNhc2UgJy4+Pj4uJzpcbiAgY2FzZSAnPD8nOlxuICBjYXNlICc+Pyc6XG4gICAgdGFnID0gJ1NISUZUJztcbiAgICBicmVhaztcbiAgY2FzZSAnKCc6XG4gICAgaWYgKCEoKChyZWYkID0gdGhpcy5sYXN0WzBdKSA9PT0gJ0ZVTkNUSU9OJyB8fCByZWYkID09PSAnR0VORVJBVE9SJyB8fCByZWYkID09PSAnTEVUJykgfHwgdGhpcy5hYmxlKHRydWUpIHx8IHRoaXMubGFzdFsxXSA9PT0gJy5AJykpIHtcbiAgICAgIHRoaXMudG9rZW4oJygnLCAnKCcpO1xuICAgICAgdGhpcy5jbG9zZXMucHVzaCgnKScpO1xuICAgICAgdGhpcy5wYXJlbnMucHVzaCh0aGlzLmxhc3QpO1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHRhZyA9ICdDQUxMKCc7XG4gICAgdGhpcy5jbG9zZXMucHVzaCgnKUNBTEwnKTtcbiAgICBicmVhaztcbiAgY2FzZSAnWyc6XG4gIGNhc2UgJ3snOlxuICAgIHRoaXMuYWRpKCk7XG4gICAgdGhpcy5jbG9zZXMucHVzaCgnXX0nLmNoYXJBdCh2YWwgPT09ICd7JykpO1xuICAgIGJyZWFrO1xuICBjYXNlICd9JzpcbiAgICBpZiAodGhpcy5pbnRlciAmJiB2YWwgIT09IChyZWYkID0gdGhpcy5jbG9zZXMpW3JlZiQubGVuZ3RoIC0gMV0pIHtcbiAgICAgIHRoaXMucmVzdCA9IGNvZGUuc2xpY2UoaW5kZXggKyAxKTtcbiAgICAgIHJldHVybiA5ZTk7XG4gICAgfVxuICAgIC8vIGZhbGx0aHJvdWdoXG4gIGNhc2UgJ10nOlxuICBjYXNlICcpJzpcbiAgICBpZiAodGFnID09PSAnKScgJiYgKChyZWYkID0gdGhpcy5sYXN0WzBdKSA9PT0gJystJyB8fCByZWYkID09PSAnQ09NUEFSRScgfHwgcmVmJCA9PT0gJ0xPR0lDJyB8fCByZWYkID09PSAnTUFUSCcgfHwgcmVmJCA9PT0gJ1BPV0VSJyB8fCByZWYkID09PSAnU0hJRlQnIHx8IHJlZiQgPT09ICdCSVRXSVNFJyB8fCByZWYkID09PSAnQ09OQ0FUJyB8fCByZWYkID09PSAnQ09NUE9TRScgfHwgcmVmJCA9PT0gJ1JFTEFUSU9OJyB8fCByZWYkID09PSAnUElQRScgfHwgcmVmJCA9PT0gJ0JBQ0tQSVBFJyB8fCByZWYkID09PSAnSU1QT1JUJyB8fCByZWYkID09PSAnQ0xPTkVQT1JUJyB8fCByZWYkID09PSAnQVNTSUdOJykpIHtcbiAgICAgIChyZWYkID0gdGhpcy50b2tlbnMpW3JlZiQubGVuZ3RoIC0gMV1bMF0gPSAoZnVuY3Rpb24oKXtcbiAgICAgICAgc3dpdGNoICh0aGlzLmxhc3RbMF0pIHtcbiAgICAgICAgY2FzZSAnUkVMQVRJT04nOlxuICAgICAgICAgIHJldHVybiAnQklPUFInO1xuICAgICAgICBjYXNlICdQSVBFJzpcbiAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMoZmFsc2UsIC0xKTtcbiAgICAgICAgICByZXR1cm4gJ0JJT1BQJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ0JJT1AnO1xuICAgICAgICB9XG4gICAgICB9LmNhbGwodGhpcykpO1xuICAgIH1cbiAgICBpZiAoJyknID09PSAodGFnID0gdmFsID0gdGhpcy5wYWlyKHZhbCkpKSB7XG4gICAgICB0aGlzLmxwYXIgPSB0aGlzLnBhcmVucy5wb3AoKTtcbiAgICB9XG4gICAgYnJlYWs7XG4gIGNhc2UgJz0nOlxuICBjYXNlICc6JzpcbiAgICBpZiAodmFsID09PSAnOicpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5sYXN0WzBdKSB7XG4gICAgICBjYXNlICdJRCc6XG4gICAgICBjYXNlICdTVFJOVU0nOlxuICAgICAgY2FzZSAnKSc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnLi4uJzpcbiAgICAgICAgdGhpcy5sYXN0WzBdID0gJ1NUUk5VTSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGFnID0gJ0xBQkVMJztcbiAgICAgICAgdmFsID0gJyc7XG4gICAgICB9XG4gICAgICB0aGlzLnRva2VuKHRhZywgdmFsKTtcbiAgICAgIHJldHVybiBzeW0ubGVuZ3RoO1xuICAgIH1cbiAgICAvLyBmYWxsdGhyb3VnaFxuICBjYXNlICc6PSc6XG4gIGNhc2UgJys9JzpcbiAgY2FzZSAnLT0nOlxuICBjYXNlICcqPSc6XG4gIGNhc2UgJy89JzpcbiAgY2FzZSAnJT0nOlxuICBjYXNlICclJT0nOlxuICBjYXNlICc8Pz0nOlxuICBjYXNlICc+Pz0nOlxuICBjYXNlICcqKj0nOlxuICBjYXNlICdePSc6XG4gIGNhc2UgJy4mLj0nOlxuICBjYXNlICcufC49JzpcbiAgY2FzZSAnLl4uPSc6XG4gIGNhc2UgJy48PC49JzpcbiAgY2FzZSAnLj4+Lj0nOlxuICBjYXNlICcuPj4+Lj0nOlxuICBjYXNlICcrKz0nOlxuICBjYXNlICd8Pj0nOlxuICAgIGlmICh0aGlzLmxhc3RbMV0gPT09ICcuJyB8fCB0aGlzLmxhc3RbMF0gPT09ICc/JyAmJiB0aGlzLmFkaSgpKSB7XG4gICAgICB0aGlzLmxhc3RbMV0gKz0gdmFsO1xuICAgICAgcmV0dXJuIHZhbC5sZW5ndGg7XG4gICAgfVxuICAgIGlmICh0aGlzLmxhc3RbMF0gPT09ICdMT0dJQycpIHtcbiAgICAgICh2YWwgPSBPYmplY3QodmFsKSkubG9naWMgPSB0aGlzLnRva2Vucy5wb3AoKVsxXTtcbiAgICB9IGVsc2UgaWYgKCh2YWwgPT09ICcrPScgfHwgdmFsID09PSAnLT0nKSAmJiAhYWJsZSh0aGlzLnRva2VucykgJiYgKChyZWYkID0gdGhpcy5sYXN0WzBdKSAhPT0gJystJyAmJiByZWYkICE9PSAnVU5BUlknICYmIHJlZiQgIT09ICdMQUJFTCcpKSB7XG4gICAgICB0aGlzLnRva2VuKCdVTkFSWScsIHZhbC5jaGFyQXQoKSk7XG4gICAgICB2YWwgPSAnPSc7XG4gICAgfVxuICAgIHRhZyA9ICdBU1NJR04nO1xuICAgIGJyZWFrO1xuICBjYXNlICc6Oj0nOlxuICAgIHRoaXMudG9rZW4oJ0RPVCcsICcuJyk7XG4gICAgdGhpcy50b2tlbignSUQnLCAncHJvdG90eXBlJyk7XG4gICAgdGhpcy50b2tlbignSU1QT1JUJywgJzw8Jyk7XG4gICAgcmV0dXJuIHN5bS5sZW5ndGg7XG4gIGNhc2UgJyonOlxuICAgIGlmICh0aGlzLmxhc3RbMF0gPT09ICdGVU5DVElPTicpIHtcbiAgICAgIHRoaXMubGFzdFswXSA9ICdHRU5FUkFUT1InO1xuICAgICAgcmV0dXJuIHN5bS5sZW5ndGg7XG4gICAgfVxuICAgIGlmICh0aGF0ID0gKChyZWYkID0gdGhpcy5sYXN0WzBdKSA9PT0gJ05FV0xJTkUnIHx8IHJlZiQgPT09ICdJTkRFTlQnIHx8IHJlZiQgPT09ICdUSEVOJyB8fCByZWYkID09PSAnPT4nKSAmJiAoSU5MSU5FREVOVC5sYXN0SW5kZXggPSBpbmRleCArIDEsIElOTElORURFTlQpLmV4ZWMoY29kZSlbMF0ubGVuZ3RoKSB7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKFsnTElURVJBTCcsICd2b2lkJywgdGhpcy5saW5lXSwgWydBU1NJR04nLCAnPScsIHRoaXMubGluZV0pO1xuICAgICAgdGhpcy5pbmRlbnQoaW5kZXggKyB0aGF0IC0gMSAtIHRoaXMuZGVudCAtIGNvZGUubGFzdEluZGV4T2YoJ1xcbicsIGluZGV4IC0gMSkpO1xuICAgICAgcmV0dXJuIHRoYXQ7XG4gICAgfVxuICAgIHRhZyA9IGFibGUodGhpcy50b2tlbnMpIHx8IHRoaXMubGFzdFswXSA9PT0gJ0NSRU1FTlQnICYmIGFibGUodGhpcy50b2tlbnMsIHRoaXMudG9rZW5zLmxlbmd0aCAtIDEpIHx8IHRoaXMubGFzdFswXSA9PT0gJygnID8gJ01BVEgnIDogJ1NUUk5VTSc7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ0AnOlxuICAgIHRoaXMuYWRpKCk7XG4gICAgaWYgKHRoaXMubGFzdFswXSA9PT0gJ0RPVCcgJiYgdGhpcy5sYXN0WzFdID09PSAnLicgJiYgKHJlZiQgPSB0aGlzLnRva2VucylbcmVmJC5sZW5ndGggLSAyXVswXSA9PT0gJ0lEJyAmJiAocmVmJCA9IHRoaXMudG9rZW5zKVtyZWYkLmxlbmd0aCAtIDJdWzFdID09PSAnY29uc3RydWN0b3InKSB7XG4gICAgICB0aGlzLnRva2Vucy5wb3AoKTtcbiAgICAgIHRoaXMudG9rZW5zLnBvcCgpO1xuICAgICAgdGhpcy50b2tlbignTElURVJBTCcsICd0aGlzJywgdHJ1ZSk7XG4gICAgICB0aGlzLmFkaSgpO1xuICAgICAgdGhpcy50b2tlbignSUQnLCAnY29uc3RydWN0b3InLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50b2tlbignTElURVJBTCcsICd0aGlzJywgdHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiAxO1xuICBjYXNlICdAQCc6XG4gICAgdGhpcy5hZGkoKTtcbiAgICB0aGlzLnRva2VuKCdJRCcsICdjb25zdHJ1Y3RvcicsIHRydWUpO1xuICAgIHJldHVybiAyO1xuICBjYXNlICcmJzpcbiAgICB0aGlzLnRva2VuKCdMSVRFUkFMJywgJ2FyZ3VtZW50cycpO1xuICAgIHJldHVybiAxO1xuICBjYXNlICchJzpcbiAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmICghdGhpcy5sYXN0LnNwYWNlZCkge1xuICAgICAgICBpZiAodGhpcy5sYXN0WzFdID09PSAncmVxdWlyZScpIHtcbiAgICAgICAgICB0aGlzLmxhc3RbMF0gPSAnUkVRVUlSRSc7XG4gICAgICAgICAgdGhpcy5sYXN0WzFdID0gJ3JlcXVpcmUhJztcbiAgICAgICAgfSBlbHNlIGlmIChhYmxlKHRoaXMudG9rZW5zLCBudWxsLCB0cnVlKSkge1xuICAgICAgICAgIHRoaXMudG9rZW4oJ0NBTEwoJywgJyEnKTtcbiAgICAgICAgICB0aGlzLnRva2VuKCcpQ0FMTCcsICcpJyk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5sYXN0WzFdID09PSAndHlwZW9mJykge1xuICAgICAgICAgIHRoaXMubGFzdFsxXSA9ICdjbGFzc29mJztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxhc3RbMV0gPT09ICdkZWxldGUnKSB7XG4gICAgICAgICAgdGhpcy5sYXN0WzFdID0gJ2pzZGVsZXRlJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGFnID0gJ1VOQVJZJztcbiAgICBicmVhaztcbiAgY2FzZSAnJic6XG4gICAgaWYgKCFhYmxlKHRoaXMudG9rZW5zKSkge1xuICAgICAgdGFnID0gJ0xJVEVSQUwnO1xuICAgIH1cbiAgICBicmVhaztcbiAgY2FzZSAnfCc6XG4gICAgdGFnID0gJ0JJVFdJU0UnO1xuICAgIGJyZWFrO1xuICBjYXNlICd+JzpcbiAgICBpZiAodGhpcy5kb3RjYXQodmFsKSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHRhZyA9ICdVTkFSWSc7XG4gICAgYnJlYWs7XG4gIGNhc2UgJzo6JzpcbiAgICB0aGlzLmFkaSgpO1xuICAgIHZhbCA9ICdwcm90b3R5cGUnO1xuICAgIHRhZyA9ICdJRCc7XG4gICAgYnJlYWs7XG4gIGNhc2UgJz0+JzpcbiAgICB0aGlzLnVubGluZSgpO1xuICAgIHRoaXMuZnNldCgnZm9yJywgZmFsc2UpO1xuICAgIHRhZyA9ICdUSEVOJztcbiAgICBicmVhaztcbiAgZGVmYXVsdDpcbiAgICBpZiAoL14hPyg/Oi0tP3x+fj8pPlxcKj8kLy50ZXN0KHZhbCkpIHtcbiAgICAgIHRoaXMucGFyYW1ldGVycyh0YWcgPSAnLT4nKTtcbiAgICB9IGVsc2UgaWYgKC9ePCg/Oi0tP3x+fj8pJC8udGVzdCh2YWwpKSB7XG4gICAgICB0aGlzLnBhcmFtZXRlcnModGFnID0gJzwtJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXRjaCAodmFsLmNoYXJBdCgwKSkge1xuICAgICAgY2FzZSAnKCc6XG4gICAgICAgIHRoaXMudG9rZW4oJ0NBTEwoJywgJygnKTtcbiAgICAgICAgdGFnID0gJylDQUxMJztcbiAgICAgICAgdmFsID0gJyknO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzwnOlxuICAgICAgICBpZiAodmFsLmxlbmd0aCA8IDQpIHtcbiAgICAgICAgICB0aGlzLmNhcnAoJ3VudGVybWluYXRlZCB3b3JkcycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9rZW4oJ1dPUkRTJywgdmFsLnNsaWNlKDIsIC0yKSwgdGhpcy5hZGkoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvdW50TGluZXModmFsKS5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICgodGFnID09PSAnKy0nIHx8IHRhZyA9PT0gJ0NPTVBBUkUnIHx8IHRhZyA9PT0gJ0xPR0lDJyB8fCB0YWcgPT09ICdNQVRIJyB8fCB0YWcgPT09ICdQT1dFUicgfHwgdGFnID09PSAnU0hJRlQnIHx8IHRhZyA9PT0gJ0JJVFdJU0UnIHx8IHRhZyA9PT0gJ0NPTkNBVCcgfHwgdGFnID09PSAnQ09NUE9TRScgfHwgdGFnID09PSAnUkVMQVRJT04nIHx8IHRhZyA9PT0gJ1BJUEUnIHx8IHRhZyA9PT0gJ0JBQ0tQSVBFJyB8fCB0YWcgPT09ICdJTVBPUlQnKSAmJiB0aGlzLmxhc3RbMF0gPT09ICcoJykge1xuICAgIHRhZyA9IHRhZyA9PT0gJ0JBQ0tQSVBFJyA/ICdCSU9QQlAnIDogJ0JJT1AnO1xuICB9XG4gIGlmICh0YWcgPT09ICcsJyB8fCB0YWcgPT09ICdDQVNFJyB8fCB0YWcgPT09ICdQSVBFJyB8fCB0YWcgPT09ICdCQUNLUElQRScgfHwgdGFnID09PSAnRE9UJyB8fCB0YWcgPT09ICdMT0dJQycgfHwgdGFnID09PSAnQ09NUEFSRScgfHwgdGFnID09PSAnTUFUSCcgfHwgdGFnID09PSAnUE9XRVInIHx8IHRhZyA9PT0gJ0lNUE9SVCcgfHwgdGFnID09PSAnU0hJRlQnIHx8IHRhZyA9PT0gJ0JJVFdJU0UnKSB7XG4gICAgdGhpcy51bmxpbmUoKTtcbiAgfVxuICB0aGlzLnRva2VuKHRhZywgdmFsKTtcbiAgcmV0dXJuIHN5bS5sZW5ndGg7XG59O1xuZXhwb3J0cy50b2tlbiA9IGZ1bmN0aW9uKHRhZywgdmFsdWUsIGNhbGxhYmxlKXtcbiAgdGhpcy50b2tlbnMucHVzaCh0aGlzLmxhc3QgPSBbdGFnLCB2YWx1ZSwgdGhpcy5saW5lXSk7XG4gIGlmIChjYWxsYWJsZSkge1xuICAgIHRoaXMubGFzdC5jYWxsYWJsZSA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcbmV4cG9ydHMuaW5kZW50ID0gZnVuY3Rpb24oZGVsdGEpe1xuICB0aGlzLmRlbnQgKz0gZGVsdGE7XG4gIHRoaXMuZGVudHMucHVzaCh0aGlzLnRva2VuKCdJTkRFTlQnLCBkZWx0YSkpO1xuICB0aGlzLmNsb3Nlcy5wdXNoKCdERURFTlQnKTtcbn07XG5leHBvcnRzLmRlZGVudCA9IGZ1bmN0aW9uKGRlYnQpe1xuICB2YXIgZGVudDtcbiAgdGhpcy5kZW50IC09IGRlYnQ7XG4gIHdoaWxlIChkZWJ0ID4gMCAmJiAoZGVudCA9IHRoaXMuZGVudHMucG9wKCkpKSB7XG4gICAgaWYgKGRlYnQgPCBkZW50ICYmICF0aGlzLmludGVyKSB7XG4gICAgICB0aGlzLmNhcnAoXCJ1bm1hdGNoZWQgZGVkZW50IChcIiArIGRlYnQgKyBcIiBmb3IgXCIgKyBkZW50ICsgXCIpXCIpO1xuICAgIH1cbiAgICB0aGlzLnBhaXIoJ0RFREVOVCcpO1xuICAgIGRlYnQgLT0gdHlwZW9mIGRlbnQgPT09ICdudW1iZXInID8gdGhpcy50b2tlbignREVERU5UJywgZGVudCkgOiBkZW50O1xuICB9XG59O1xuZXhwb3J0cy5uZXdsaW5lID0gZnVuY3Rpb24oKXtcbiAgdmFyIHJlZiQ7XG4gIHRoaXMubGFzdFsxXSA9PT0gJ1xcbicgfHwgdGhpcy50b2tlbnMucHVzaCh0aGlzLmxhc3QgPSAocmVmJCA9IFsnTkVXTElORScsICdcXG4nLCB0aGlzLmxpbmVdLCByZWYkLnNwYWNlZCA9IHRydWUsIHJlZiQpKTtcbn07XG5leHBvcnRzLnVubGluZSA9IGZ1bmN0aW9uKCl7XG4gIHZhciByZWYkO1xuICBpZiAoIXRoaXMudG9rZW5zWzFdKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN3aXRjaCAodGhpcy5sYXN0WzBdKSB7XG4gIGNhc2UgJ0lOREVOVCc6XG4gICAgKHJlZiQgPSB0aGlzLmRlbnRzKVtyZWYkLmxlbmd0aCAtIDFdICs9ICcnO1xuICAgIC8vIGZhbGx0aHJvdWdoXG4gIGNhc2UgJ05FV0xJTkUnOlxuICAgIHRoaXMudG9rZW5zLmxlbmd0aC0tO1xuICB9XG59O1xuZXhwb3J0cy5wYXJhbWV0ZXJzID0gZnVuY3Rpb24oYXJyb3csIG9mZnNldCl7XG4gIHZhciBpJCwgcmVmJCwgaSwgdCwgcmVmMSQ7XG4gIGlmICh0aGlzLmxhc3RbMF0gPT09ICcpJyAmJiAnKScgPT09IHRoaXMubGFzdFsxXSkge1xuICAgIHRoaXMubHBhclswXSA9ICdQQVJBTSgnO1xuICAgIHRoaXMubGFzdFswXSA9ICcpUEFSQU0nO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoYXJyb3cgPT09ICctPicpIHtcbiAgICB0aGlzLnRva2VuKCdQQVJBTSgnLCAnJyk7XG4gIH0gZWxzZSB7XG4gICAgZm9yIChpJCA9IChyZWYkID0gdGhpcy50b2tlbnMpLmxlbmd0aCAtIDE7IGkkID49IDA7IC0taSQpIHtcbiAgICAgIGkgPSBpJDtcbiAgICAgIHQgPSByZWYkW2kkXTtcbiAgICAgIGlmICgocmVmMSQgPSB0WzBdKSA9PT0gJ05FV0xJTkUnIHx8IHJlZjEkID09PSAnSU5ERU5UJyB8fCByZWYxJCA9PT0gJ1RIRU4nIHx8IHJlZjEkID09PSAnPT4nIHx8IHJlZjEkID09PSAnKCcpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudG9rZW5zLnNwbGljZShpICsgMSwgMCwgWydQQVJBTSgnLCAnJywgdFsyXV0pO1xuICB9XG4gIGlmIChvZmZzZXQpIHtcbiAgICB0aGlzLnRva2Vucy5zcGxpY2UodGhpcy50b2tlbnMubGVuZ3RoICsgb2Zmc2V0LCAwLCBbJylQQVJBTScsICcnLCB0WzJdXSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy50b2tlbignKVBBUkFNJywgJycpO1xuICB9XG59O1xuZXhwb3J0cy5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uKHN0ciwgaWR4LCBlbmQpe1xuICB2YXIgcGFydHMsIGVuZDAsIHBvcywgaSwgY2gsIGMxLCBpZCwgc3RyaW5naWZpZWQsIGxlbmd0aCwgdGFnLCBlLCBkZWx0YSwgbmVzdGVkLCBjbG9uZSwgcmVmJDtcbiAgcGFydHMgPSBbXTtcbiAgZW5kMCA9IGVuZC5jaGFyQXQoMCk7XG4gIHBvcyA9IDA7XG4gIGkgPSAtMTtcbiAgc3RyID0gc3RyLnNsaWNlKGlkeCArIGVuZC5sZW5ndGgpO1xuICB3aGlsZSAoY2ggPSBzdHIuY2hhckF0KCsraSkpIHtcbiAgICBzd2l0Y2ggKGNoKSB7XG4gICAgY2FzZSBlbmQwOlxuICAgICAgaWYgKGVuZCAhPT0gc3RyLnNsaWNlKGksIGkgKyBlbmQubGVuZ3RoKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHBhcnRzLnB1c2goWydTJywgdGhpcy5jb3VudExpbmVzKHN0ci5zbGljZSgwLCBpKSksIHRoaXMubGluZV0pO1xuICAgICAgcmV0dXJuIHBhcnRzLnNpemUgPSBwb3MgKyBpICsgZW5kLmxlbmd0aCwgcGFydHM7XG4gICAgY2FzZSAnIyc6XG4gICAgICBjMSA9IHN0ci5jaGFyQXQoaSArIDEpO1xuICAgICAgaWQgPSBpbiQoYzEsIFsnQCddKSAmJiBjMSB8fCAoSUQubGFzdEluZGV4ID0gaSArIDEsIElEKS5leGVjKHN0cilbMV07XG4gICAgICBpZiAoIShpZCB8fCBjMSA9PT0gJ3snKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgKytpO1xuICAgICAgLy8gZmFsbHRocm91Z2hcbiAgICBkZWZhdWx0OlxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChpIHx8IG5lc3RlZCAmJiAhc3RyaW5naWZpZWQpIHtcbiAgICAgIHN0cmluZ2lmaWVkID0gcGFydHMucHVzaChbJ1MnLCB0aGlzLmNvdW50TGluZXMoc3RyLnNsaWNlKDAsIGkpKSwgdGhpcy5saW5lXSk7XG4gICAgfVxuICAgIGlmIChpZCkge1xuICAgICAgbGVuZ3RoID0gaWQubGVuZ3RoO1xuICAgICAgaWYgKGlkID09PSAnQCcpIHtcbiAgICAgICAgaWQgPSAndGhpcyc7XG4gICAgICB9XG4gICAgICBpZiAoaW4kKGlkLCBbJ3RoaXMnXSkpIHtcbiAgICAgICAgdGFnID0gJ0xJVEVSQUwnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWQgPSBjYW1lbGl6ZShpZCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgRnVuY3Rpb24oXCIndXNlIHN0cmljdCc7IHZhciBcIiArIGlkKTtcbiAgICAgICAgfSBjYXRjaCAoZSQpIHtcbiAgICAgICAgICBlID0gZSQ7XG4gICAgICAgICAgdGhpcy5jYXJwKFwiaW52YWxpZCB2YXJpYWJsZSBpbnRlcnBvbGF0aW9uIFxcXCJcIiArIGlkICsgXCJcXFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRhZyA9ICdJRCc7XG4gICAgICB9XG4gICAgICBzdHIgPSBzdHIuc2xpY2UoZGVsdGEgPSBpICsgMSArIGxlbmd0aCk7XG4gICAgICBwYXJ0cy5wdXNoKFsnVE9LRU5TJywgbmVzdGVkID0gW1t0YWcsIGlkLCB0aGlzLmxpbmVdXV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbG9uZSA9IChyZWYkID0gY2xvbmUkKGV4cG9ydHMpLCByZWYkLmludGVyID0gdHJ1ZSwgcmVmJC5lbWVuZGVyID0gdGhpcy5lbWVuZGVyLCByZWYkKTtcbiAgICAgIG5lc3RlZCA9IGNsb25lLnRva2VuaXplKHN0ci5zbGljZShpICsgMiksIHtcbiAgICAgICAgbGluZTogdGhpcy5saW5lLFxuICAgICAgICByYXc6IHRydWVcbiAgICAgIH0pO1xuICAgICAgZGVsdGEgPSBzdHIubGVuZ3RoIC0gY2xvbmUucmVzdC5sZW5ndGg7XG4gICAgICBzdHIgPSBjbG9uZS5yZXN0LCB0aGlzLmxpbmUgPSBjbG9uZS5saW5lO1xuICAgICAgd2hpbGUgKCgocmVmJCA9IG5lc3RlZFswXSkgIT0gbnVsbCA/IHJlZiRbMF0gOiB2b2lkIDgpID09PSAnTkVXTElORScpIHtcbiAgICAgICAgbmVzdGVkLnNoaWZ0KCk7XG4gICAgICB9XG4gICAgICBpZiAobmVzdGVkLmxlbmd0aCkge1xuICAgICAgICBuZXN0ZWQudW5zaGlmdChbJygnLCAnKCcsIG5lc3RlZFswXVsyXV0pO1xuICAgICAgICBuZXN0ZWQucHVzaChbJyknLCAnKScsIHRoaXMubGluZV0pO1xuICAgICAgICBwYXJ0cy5wdXNoKFsnVE9LRU5TJywgbmVzdGVkXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHBvcyArPSBkZWx0YTtcbiAgICBpID0gLTE7XG4gIH1cbiAgdGhpcy5jYXJwKFwibWlzc2luZyBgXCIgKyBlbmQgKyBcImBcIik7XG59O1xuZXhwb3J0cy5hZGRJbnRlcnBvbGF0ZWQgPSBmdW5jdGlvbihwYXJ0cywgbmxpbmVzKXtcbiAgdmFyIHRva2VucywgbGFzdCwgcmVmJCwgbGVmdCwgcmlnaHQsIGpvaW50LCBjYWxsYWJsZSwgaSQsIGxlbiQsIGksIHQ7XG4gIGlmICghcGFydHNbMV0pIHtcbiAgICByZXR1cm4gdGhpcy5zdHJudW0obmxpbmVzKHRoaXMuc3RyaW5nKCdcIicsIHBhcnRzWzBdWzFdKSkpO1xuICB9XG4gIHRva2VucyA9IHRoaXMudG9rZW5zLCBsYXN0ID0gdGhpcy5sYXN0O1xuICByZWYkID0gIWxhc3Quc3BhY2VkICYmIGxhc3RbMV0gPT09ICclJ1xuICAgID8gKC0tdG9rZW5zLmxlbmd0aCwgdGhpcy5sYXN0ID0gbGFzdCA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV0sIFsnWycsICddJywgWycsJywgJywnXV0pXG4gICAgOiBbJygnLCAnKScsIFsnKy0nLCAnKyddXSwgbGVmdCA9IHJlZiRbMF0sIHJpZ2h0ID0gcmVmJFsxXSwgam9pbnQgPSByZWYkWzJdO1xuICBjYWxsYWJsZSA9IHRoaXMuYWRpKCk7XG4gIHRva2Vucy5wdXNoKFtsZWZ0LCAnXCInLCBsYXN0WzJdXSk7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0gcGFydHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICBpID0gaSQ7XG4gICAgdCA9IHBhcnRzW2kkXTtcbiAgICBpZiAodFswXSA9PT0gJ1RPS0VOUycpIHtcbiAgICAgIHRva2Vucy5wdXNoLmFwcGx5KHRva2VucywgdFsxXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpID4gMSAmJiAhdFsxXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHRva2Vucy5wdXNoKFsnU1RSTlVNJywgbmxpbmVzKHRoaXMuc3RyaW5nKCdcIicsIHRbMV0pKSwgdFsyXV0pO1xuICAgIH1cbiAgICB0b2tlbnMucHVzaChqb2ludC5jb25jYXQodG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXVsyXSkpO1xuICB9XG4gIC0tdG9rZW5zLmxlbmd0aDtcbiAgdGhpcy50b2tlbihyaWdodCwgJycsIGNhbGxhYmxlKTtcbn07XG5leHBvcnRzLnN0cm51bSA9IGZ1bmN0aW9uKGl0KXtcbiAgdGhpcy50b2tlbignU1RSTlVNJywgaXQsIHRoaXMuYWRpKCkgfHwgdGhpcy5sYXN0WzBdID09PSAnRE9UJyk7XG59O1xuZXhwb3J0cy5yZWdleCA9IGZ1bmN0aW9uKGJvZHksIGZsYWcpe1xuICB2YXIgZTtcbiAgdHJ5IHtcbiAgICBSZWdFeHAoYm9keSk7XG4gIH0gY2F0Y2ggKGUkKSB7XG4gICAgZSA9IGUkO1xuICAgIHRoaXMuY2FycChlLm1lc3NhZ2UpO1xuICB9XG4gIGlmIChmbGFnID09PSAnJCcpIHtcbiAgICByZXR1cm4gdGhpcy5zdHJudW0odGhpcy5zdHJpbmcoJ1xcJycsIGVuc2xhc2goYm9keSkpKTtcbiAgfVxuICByZXR1cm4gdGhpcy50b2tlbignTElURVJBTCcsIFwiL1wiICsgKGJvZHkgfHwgJyg/OiknKSArIFwiL1wiICsgdGhpcy52YWxpZGF0ZShmbGFnKSk7XG59O1xuZXhwb3J0cy5hZGkgPSBmdW5jdGlvbigpe1xuICBpZiAodGhpcy5sYXN0LnNwYWNlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIWFibGUodGhpcy50b2tlbnMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiB0aGlzLnRva2VuKCdET1QnLCAnLicpO1xufTtcbmV4cG9ydHMuZG90Y2F0ID0gZnVuY3Rpb24oaXQpe1xuICBpZiAodGhpcy5sYXN0WzFdID09PSAnLicgfHwgdGhpcy5hZGkoKSkge1xuICAgIHJldHVybiB0aGlzLmxhc3RbMV0gKz0gaXQ7XG4gIH1cbn07XG5leHBvcnRzLnBhaXIgPSBmdW5jdGlvbihpdCl7XG4gIHZhciB3YW50ZWQsIHJlZiQ7XG4gIGlmICghKGl0ID09PSAod2FudGVkID0gKHJlZiQgPSB0aGlzLmNsb3NlcylbcmVmJC5sZW5ndGggLSAxXSkgfHwgJylDQUxMJyA9PT0gd2FudGVkICYmIGl0ID09PSAnKScpKSB7XG4gICAgaWYgKCdERURFTlQnICE9PSB3YW50ZWQpIHtcbiAgICAgIHRoaXMuY2FycChcInVubWF0Y2hlZCBgXCIgKyBpdCArIFwiYFwiKTtcbiAgICB9XG4gICAgdGhpcy5kZWRlbnQoKHJlZiQgPSB0aGlzLmRlbnRzKVtyZWYkLmxlbmd0aCAtIDFdKTtcbiAgICByZXR1cm4gdGhpcy5wYWlyKGl0KTtcbiAgfVxuICB0aGlzLnVubGluZSgpO1xuICByZXR1cm4gdGhpcy5jbG9zZXMucG9wKCk7XG59O1xuZXhwb3J0cy5hYmxlID0gZnVuY3Rpb24oY2FsbCl7XG4gIHJldHVybiAhdGhpcy5sYXN0LnNwYWNlZCAmJiBhYmxlKHRoaXMudG9rZW5zLCBudWxsLCBjYWxsKTtcbn07XG5leHBvcnRzLmNvdW50TGluZXMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBwb3M7XG4gIHdoaWxlIChwb3MgPSAxICsgaXQuaW5kZXhPZignXFxuJywgcG9zKSkge1xuICAgICsrdGhpcy5saW5lO1xuICB9XG4gIHJldHVybiBpdDtcbn07XG5leHBvcnRzLmZvcmFuZ2UgPSBmdW5jdGlvbigpe1xuICB2YXIgcmVmJCwgcmVmMSQsIHJlZjIkO1xuICBpZiAoKChyZWYkID0gKHJlZjEkID0gdGhpcy50b2tlbnMpW3JlZjEkLmxlbmd0aCAtIDIgLSAoKHJlZjIkID0gdGhpcy5sYXN0WzBdKSA9PT0gJ05FV0xJTkUnIHx8IHJlZjIkID09PSAnSU5ERU5UJyldKSAhPSBudWxsID8gcmVmJFswXSA6IHZvaWQgOCkgPT09ICdGT1InIHx8IHRoaXMubGFzdFswXSA9PT0gJ0ZPUicpIHtcbiAgICB0aGlzLmZzZXQoJ2ZvcicsIGZhbHNlKTtcbiAgICB0aGlzLmZzZXQoJ2Zyb20nLCB0cnVlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5leHBvcnRzLnZhbGlkYXRlID0gZnVuY3Rpb24oZmxhZyl7XG4gIHZhciB0aGF0O1xuICBpZiAodGhhdCA9IGZsYWcgJiYgLyguKS4qXFwxLy5leGVjKGZsYWcpKSB7XG4gICAgdGhpcy5jYXJwKFwiZHVwbGljYXRlIHJlZ2V4IGZsYWcgYFwiICsgdGhhdFsxXSArIFwiYFwiKTtcbiAgfVxuICByZXR1cm4gZmxhZztcbn07XG5leHBvcnRzLmZnZXQgPSBmdW5jdGlvbihrZXkpe1xuICB2YXIgcmVmJDtcbiAgcmV0dXJuIChyZWYkID0gdGhpcy5mbGFnc1t0aGlzLmNsb3Nlcy5sZW5ndGhdKSAhPSBudWxsID8gcmVmJFtrZXldIDogdm9pZCA4O1xufTtcbmV4cG9ydHMuZnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsKXtcbiAgdmFyIHJlZiQsIGtleSQ7XG4gICgocmVmJCA9IHRoaXMuZmxhZ3MpW2tleSQgPSB0aGlzLmNsb3Nlcy5sZW5ndGhdIHx8IChyZWYkW2tleSRdID0ge30pKVtrZXldID0gdmFsO1xufTtcbmV4cG9ydHMuY2FycCA9IGZ1bmN0aW9uKGl0KXtcbiAgY2FycChpdCwgdGhpcy5saW5lKTtcbn07XG5leHBvcnRzLnN0cmluZyA9IGZ1bmN0aW9uKHEsIGJvZHkpe1xuICByZXR1cm4gc3RyaW5nKHEsIGJvZHksIHRoaXMubGluZSk7XG59O1xuZnVuY3Rpb24gY2FycChtc2csIGxubyl7XG4gIHRocm93IFN5bnRheEVycm9yKG1zZyArIFwiIG9uIGxpbmUgXCIgKyAoLX5sbm8pKTtcbn1cbmZ1bmN0aW9uIGFibGUodG9rZW5zLCBpLCBjYWxsKXtcbiAgdmFyIHRva2VuLCB0YWc7XG4gIGkgPT0gbnVsbCAmJiAoaSA9IHRva2Vucy5sZW5ndGgpO1xuICB0YWcgPSAodG9rZW4gPSB0b2tlbnNbaSAtIDFdKVswXTtcbiAgcmV0dXJuICh0YWcgPT09ICdJRCcgfHwgdGFnID09PSAnXScgfHwgdGFnID09PSAnPycpIHx8IChjYWxsXG4gICAgPyB0b2tlbi5jYWxsYWJsZSB8fCAodGFnID09PSAnKScgfHwgdGFnID09PSAnKUNBTEwnIHx8IHRhZyA9PT0gJ0JJT1BCUCcpICYmIHRva2VuWzFdXG4gICAgOiB0YWcgPT09ICd9JyB8fCB0YWcgPT09ICcpJyB8fCB0YWcgPT09ICcpQ0FMTCcgfHwgdGFnID09PSAnU1RSTlVNJyB8fCB0YWcgPT09ICdMSVRFUkFMJyB8fCB0YWcgPT09ICdXT1JEUycpO1xufVxuc3RyaW5nID0gKGZ1bmN0aW9uKHJlKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHEsIGJvZHksIGxubyl7XG4gICAgYm9keSA9IGJvZHkucmVwbGFjZShyZSwgZnVuY3Rpb24oaXQsIG9jdCwgeHUsIHJlc3Qpe1xuICAgICAgaWYgKGl0ID09PSBxIHx8IGl0ID09PSAnXFxcXCcpIHtcbiAgICAgICAgcmV0dXJuICdcXFxcJyArIGl0O1xuICAgICAgfVxuICAgICAgaWYgKG9jdCkge1xuICAgICAgICByZXR1cm4gJ1xcXFx4JyArICgweDEwMCArIHBhcnNlSW50KG9jdCwgOCkpLnRvU3RyaW5nKDE2KS5zbGljZSgxKTtcbiAgICAgIH1cbiAgICAgIGlmICh4dSkge1xuICAgICAgICBjYXJwKCdtYWxmb3JtZWQgY2hhcmFjdGVyIGVzY2FwZSBzZXF1ZW5jZScsIGxubyk7XG4gICAgICB9XG4gICAgICBpZiAoIXJlc3QgfHwgcSA9PT0gcmVzdCkge1xuICAgICAgICByZXR1cm4gaXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcSArIGJvZHkgKyBxO1xuICB9O1xufS5jYWxsKHRoaXMsIC9bJ1wiXXxcXFxcKD86KFswLTNdP1swLTddezJ9fFsxLTddfDAoPz1bODldKSl8eFtcXGRBLUZhLWZdezJ9fHVbXFxkQS1GYS1mXXs0fXwoW3h1XSl8W1xcXFwwYmZucnR2XXxbXlxcblxcU118KFtcXHdcXFddKSk/L2cpKTtcbmZ1bmN0aW9uIGhlcmV0YWJzKGRvYyl7XG4gIHZhciBkZW50LCB0aGF0LCByZWYkO1xuICBkZW50ID0gMCAvIDA7XG4gIHdoaWxlICh0aGF0ID0gVEFCUy5leGVjKGRvYykpIHtcbiAgICBkZW50IDw9IChyZWYkID0gdGhhdFswXS5sZW5ndGggLSAxKSB8fCAoZGVudCA9IHJlZiQpO1xuICB9XG4gIHJldHVybiBkZW50O1xufVxuVEFCUyA9IC9cXG4oPyEkKVteXFxuXFxTXSovbWc7XG5mdW5jdGlvbiBkZXRhYihzdHIsIGxlbil7XG4gIGlmIChsZW4pIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoZGV0YWJbbGVuXSB8fCAoZGV0YWJbbGVuXSA9IFJlZ0V4cCgnXFxcXG5bXlxcXFxuXFxcXFNdezEsJyArIGxlbiArICd9JywgJ2cnKSksICdcXG4nKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG51bmxpbmVzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQucmVwbGFjZSgvXFxuW15cXG5cXFNdKi9nLCAnJyk7XG59O1xuZW5saW5lcyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0LnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKTtcbn07XG5lbnNsYXNoID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKTtcbn07XG5yZXNsYXNoID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQucmVwbGFjZSgvKFxcXFwuKXxcXC8vZywgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gYXJndW1lbnRzWzFdIHx8ICdcXFxcLyc7XG4gIH0pO1xufTtcbmNhbWVsaXplID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQucmVwbGFjZSgvLVthLXpdL2lnLCBmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIGl0LmNoYXJBdCgxKS50b1VwcGVyQ2FzZSgpO1xuICB9KTtcbn07XG5mdW5jdGlvbiBsY2hvbXAoaXQpe1xuICByZXR1cm4gaXQuc2xpY2UoMSArIGl0Lmxhc3RJbmRleE9mKCdcXG4nLCAwKSk7XG59XG5mdW5jdGlvbiBkZWNvZGUodmFsLCBsbm8pe1xuICBpZiAoIWlzTmFOKHZhbCkpIHtcbiAgICByZXR1cm4gWyt2YWxdO1xuICB9XG4gIHZhbCA9IHZhbC5sZW5ndGggPiA4XG4gICAgPyAnbmcnXG4gICAgOiBGdW5jdGlvbigncmV0dXJuICcgKyB2YWwpKCk7XG4gIHZhbC5sZW5ndGggPT09IDEgfHwgY2FycCgnYmFkIHN0cmluZyBpbiByYW5nZScsIGxubyk7XG4gIHJldHVybiBbdmFsLmNoYXJDb2RlQXQoKSwgdHJ1ZV07XG59XG5mdW5jdGlvbiB1eHh4eChpdCl7XG4gIHJldHVybiAnXCJcXFxcdScgKyAoJzAwMCcgKyBpdC50b1N0cmluZygxNikpLnNsaWNlKC00KSArICdcIic7XG59XG5jaGFyYWN0ZXIgPSB0eXBlb2YgSlNPTiA9PSAndW5kZWZpbmVkJyB8fCBKU09OID09PSBudWxsXG4gID8gdXh4eHhcbiAgOiBmdW5jdGlvbihpdCl7XG4gICAgc3dpdGNoIChpdCkge1xuICAgIGNhc2UgMHgyMDI4OlxuICAgIGNhc2UgMHgyMDI5OlxuICAgICAgcmV0dXJuIHV4eHh4KGl0KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFN0cmluZy5mcm9tQ2hhckNvZGUoaXQpKTtcbiAgICB9XG4gIH07XG5mdW5jdGlvbiBmaXJzdFBhc3ModG9rZW5zKXtcbiAgdmFyIHByZXYsIGksIHRva2VuLCB0YWcsIHZhbCwgbGluZSwgbmV4dCwgdHMsIHBhcmVucywgaSQsIGo7XG4gIHByZXYgPSBbJ05FV0xJTkUnLCAnXFxuJywgMF07XG4gIGkgPSAwO1xuICB3aGlsZSAodG9rZW4gPSB0b2tlbnNbKytpXSkge1xuICAgIHRhZyA9IHRva2VuWzBdLCB2YWwgPSB0b2tlblsxXSwgbGluZSA9IHRva2VuWzJdO1xuICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICBjYXNlICEodGFnID09PSAnQVNTSUdOJyAmJiBpbiQocHJldlsxXSwgTFNfS0VZV09SRFMpICYmIHRva2Vuc1tpIC0gMl1bMF0gIT09ICdET1QnKTpcbiAgICAgIGNhcnAoXCJjYW5ub3QgYXNzaWduIHRvIHJlc2VydmVkIHdvcmQgXFxcIlwiICsgcHJldlsxXSArIFwiXFxcIlwiLCBsaW5lKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgISh0YWcgPT09ICdET1QnICYmIHByZXZbMF0gPT09ICddJyAmJiB0b2tlbnNbaSAtIDJdWzBdID09PSAnWycgJiYgdG9rZW5zW2kgLSAzXVswXSA9PT0gJ0RPVCcpOlxuICAgICAgdG9rZW5zLnNwbGljZShpIC0gMiwgMyk7XG4gICAgICB0b2tlbnNbaSAtIDNdWzFdID0gJ1tdJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgISh0YWcgPT09ICdET1QnICYmIHByZXZbMF0gPT09ICd9JyAmJiB0b2tlbnNbaSAtIDJdWzBdID09PSAneycgJiYgdG9rZW5zW2kgLSAzXVswXSA9PT0gJ0RPVCcpOlxuICAgICAgdG9rZW5zLnNwbGljZShpIC0gMiwgMyk7XG4gICAgICB0b2tlbnNbaSAtIDNdWzFdID0gJ3t9JztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgISh2YWwgPT09ICcuJyAmJiB0b2tlbi5zcGFjZWQgJiYgcHJldi5zcGFjZWQpOlxuICAgICAgdG9rZW5zW2ldID0gWydDT01QT1NFJywgJzw8JywgbGluZV07XG4gICAgICBicmVhaztcbiAgICBjYXNlIHZhbCAhPT0gJysrJzpcbiAgICAgIGlmICghKG5leHQgPSB0b2tlbnNbaSArIDFdKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRzID0gWydJRCcsICdMSVRFUkFMJywgJ1NUUk5VTSddO1xuICAgICAgaWYgKHByZXYuc3BhY2VkICYmIHRva2VuLnNwYWNlZCB8fCAhKHByZXYuc3BhY2VkIHx8IHRva2VuLnNwYWNlZCkgJiYgaW4kKHByZXZbMF0sIHRzKSAmJiBpbiQobmV4dFswXSwgdHMpKSB7XG4gICAgICAgIHRva2Vuc1tpXVswXSA9ICdDT05DQVQnO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZbMF0gPT09ICcoJyAmJiBuZXh0WzBdID09PSAnKScgfHwgcHJldlswXSA9PT0gJygnICYmIHRva2VuLnNwYWNlZCB8fCBuZXh0WzBdID09PSAnKScgJiYgcHJldi5zcGFjZWQpIHtcbiAgICAgICAgdG9rZW5zW2ldWzBdID0gJ0JJT1AnO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSB0YWcgIT09ICdET1QnOlxuICAgICAgbmV4dCA9IHRva2Vuc1tpICsgMV07XG4gICAgICBpZiAocHJldlswXSA9PT0gJygnICYmIG5leHRbMF0gPT09ICcpJykge1xuICAgICAgICB0b2tlbnNbaV1bMF0gPSAnQklPUCc7XG4gICAgICB9IGVsc2UgaWYgKHByZXZbMF0gPT09ICcoJykge1xuICAgICAgICB0b2tlbnMuc3BsaWNlKGksIDAsIFsnUEFSQU0oJywgJygnLCBsaW5lXSwgWycpUEFSQU0nLCAnKScsIGxpbmVdLCBbJy0+JywgJy0+JywgbGluZV0sIFsnSUQnLCAnaXQnLCBsaW5lXSk7XG4gICAgICB9IGVsc2UgaWYgKG5leHRbMF0gPT09ICcpJykge1xuICAgICAgICB0b2tlbnMuc3BsaWNlKGkgKyAxLCAwLCBbJ1snLCAnWycsIGxpbmVdLCBbJ0lEJywgJ2l0JywgbGluZV0sIFsnXScsICddJywgbGluZV0pO1xuICAgICAgICBwYXJlbnMgPSAxO1xuICAgICAgICBMT09QOiBmb3IgKGkkID0gaSArIDE7IGkkID49IDA7IC0taSQpIHtcbiAgICAgICAgICBqID0gaSQ7XG4gICAgICAgICAgc3dpdGNoICh0b2tlbnNbal1bMF0pIHtcbiAgICAgICAgICBjYXNlICcpJzpcbiAgICAgICAgICAgICsrcGFyZW5zO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnKCc6XG4gICAgICAgICAgICBpZiAoLS1wYXJlbnMgPT09IDApIHtcbiAgICAgICAgICAgICAgdG9rZW5zLnNwbGljZShqICsgMSwgMCwgWydQQVJBTSgnLCAnKCcsIGxpbmVdLCBbJ0lEJywgJ2l0JywgbGluZV0sIFsnKVBBUkFNJywgJyknLCBsaW5lXSwgWyctPicsICctPicsIGxpbmVdKTtcbiAgICAgICAgICAgICAgYnJlYWsgTE9PUDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcHJldiA9IHRva2VuO1xuICAgIGNvbnRpbnVlO1xuICB9XG59XG5mdW5jdGlvbiByZXdyaXRlQmxvY2tsZXNzKHRva2Vucyl7XG4gIHZhciBpJCwgbGVuJCwgaSwgdG9rZW4sIHRhZztcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB0b2tlbnMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICBpID0gaSQ7XG4gICAgdG9rZW4gPSB0b2tlbnNbaSRdLCB0YWcgPSB0b2tlblswXTtcbiAgICBpZiAodGFnID09PSAnSUYnIHx8IHRhZyA9PT0gJ0NMQVNTJyB8fCB0YWcgPT09ICdDQVRDSCcpIHtcbiAgICAgIGRldGVjdEVuZCh0b2tlbnMsIGkgKyAxLCBvaywgZ28pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBvayhpdCl7XG4gICAgdmFyIHJlZiQ7XG4gICAgcmV0dXJuIChyZWYkID0gaXRbMF0pID09PSAnTkVXTElORScgfHwgcmVmJCA9PT0gJ0lOREVOVCc7XG4gIH1cbiAgZnVuY3Rpb24gZ28oaXQsIGkpe1xuICAgIHZhciBsbm87XG4gICAgaWYgKHRhZyA9PT0gJ0lGJykge1xuICAgICAgaWYgKGl0WzBdICE9PSAnSU5ERU5UJyB8fCAhaXRbMV0gJiYgIWl0LnRoZW4gfHwgaW4kKHRva2Vuc1tpIC0gMV1bMF0sIEJMT0NLX1VTRVJTKSkge1xuICAgICAgICB0b2tlblswXSA9ICdQT1NUX0lGJztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGl0WzBdICE9PSAnSU5ERU5UJykge1xuICAgICAgdG9rZW5zLnNwbGljZShpLCAwLCBbJ0lOREVOVCcsIDAsIGxubyA9IHRva2Vuc1tpIC0gMV1bMl1dLCBbJ0RFREVOVCcsIDAsIGxub10pO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gYWRkSW1wbGljaXRJbmRlbnRhdGlvbih0b2tlbnMpe1xuICB2YXIgaSwgdG9rZW4sIHRhZywgbmV4dCwgaW5kZW50LCBkZWRlbnQsIHJlZiQsIHJlZjEkLCBpZHg7XG4gIGkgPSAwO1xuICB3aGlsZSAodG9rZW4gPSB0b2tlbnNbKytpXSkge1xuICAgIHRhZyA9IHRva2VuWzBdO1xuICAgIGlmICh0YWcgIT09ICctPicgJiYgdGFnICE9PSAnVEhFTicgJiYgdGFnICE9PSAnRUxTRScgJiYgdGFnICE9PSAnREVGQVVMVCcgJiYgdGFnICE9PSAnVFJZJyAmJiB0YWcgIT09ICdGSU5BTExZJyAmJiB0YWcgIT09ICdERUNMJykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHN3aXRjaCAobmV4dCA9IHRva2Vuc1tpICsgMV1bMF0pIHtcbiAgICBjYXNlICdJRic6XG4gICAgICBpZiAodGFnID09PSAnRUxTRScpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdJTkRFTlQnOlxuICAgIGNhc2UgJ1RIRU4nOlxuICAgICAgaWYgKHRhZyA9PT0gJ1RIRU4nKSB7XG4gICAgICAgIHRva2Vucy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpbmRlbnQgPSBbJ0lOREVOVCcsIDAsIHRva2VuWzJdXTtcbiAgICBkZWRlbnQgPSBbJ0RFREVOVCcsIDBdO1xuICAgIGlmICh0YWcgPT09ICdUSEVOJykge1xuICAgICAgKHRva2Vuc1tpXSA9IGluZGVudCkudGhlbiA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRva2Vucy5zcGxpY2UoKytpLCAwLCBpbmRlbnQpO1xuICAgIH1cbiAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgY2FzZSB0YWcgIT09ICdERUNMJzpcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgbmV4dCAhPT0gJ0RPVCcgJiYgbmV4dCAhPT0gJz8nICYmIG5leHQgIT09ICcsJyAmJiBuZXh0ICE9PSAnUElQRScgJiYgbmV4dCAhPT0gJ0JBQ0tQSVBFJzpcbiAgICAgIC0taTtcbiAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgY2FzZSAhKChuZXh0ID09PSAnSUQnIHx8IG5leHQgPT09ICdTVFJOVU0nIHx8IG5leHQgPT09ICdMSVRFUkFMJykgJiYgJywnID09PSAoKHJlZiQgPSB0b2tlbnNbaSArIDJdKSAhPSBudWxsID8gcmVmJFswXSA6IHZvaWQgOCkpOlxuICAgICAgZ28oMCwgaSArPSAyKTtcbiAgICAgICsraTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIGNhc2UgISgobmV4dCA9PT0gJygnIHx8IG5leHQgPT09ICdbJyB8fCBuZXh0ID09PSAneycpICYmICcsJyA9PT0gKChyZWYxJCA9IHRva2Vuc1tpZHggPSAxICsgaW5kZXhPZlBhaXIodG9rZW5zLCBpICsgMSldKSAhPSBudWxsID8gcmVmMSRbMF0gOiB2b2lkIDgpKTpcbiAgICAgIGdvKDAsIGlkeCk7XG4gICAgICArK2k7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgZGV0ZWN0RW5kKHRva2VucywgaSArIDEsIG9rLCBnbyk7XG4gIH1cbiAgZnVuY3Rpb24gb2sodG9rZW4sIGkpe1xuICAgIHZhciB0MCwgdDtcbiAgICB0MCA9IHRva2VuWzBdO1xuICAgIHQgPSB0YWc7XG4gICAgaWYgKHRhZyA9PT0gdDAgfHwgdGFnID09PSAnVEhFTicgJiYgdDAgPT09ICdTV0lUQ0gnKSB7XG4gICAgICB0YWcgPSAnJztcbiAgICB9XG4gICAgc3dpdGNoICh0MCkge1xuICAgIGNhc2UgJ05FV0xJTkUnOlxuICAgICAgcmV0dXJuIHRva2VuWzFdICE9PSAnOyc7XG4gICAgY2FzZSAnRE9UJzpcbiAgICBjYXNlICc/JzpcbiAgICBjYXNlICcsJzpcbiAgICBjYXNlICdQSVBFJzpcbiAgICBjYXNlICdCQUNLUElQRSc6XG4gICAgICByZXR1cm4gdG9rZW5zW2kgLSAxXS5lb2w7XG4gICAgY2FzZSAnRUxTRSc6XG4gICAgICByZXR1cm4gdCA9PT0gJ1RIRU4nO1xuICAgIGNhc2UgJ0NBVENIJzpcbiAgICAgIHJldHVybiB0ID09PSAnVFJZJztcbiAgICBjYXNlICdGSU5BTExZJzpcbiAgICAgIHJldHVybiB0ID09PSAnVFJZJyB8fCB0ID09PSAnQ0FUQ0gnIHx8IHQgPT09ICdUSEVOJztcbiAgICBjYXNlICdDQVNFJzpcbiAgICBjYXNlICdERUZBVUxUJzpcbiAgICAgIHJldHVybiB0ID09PSAnQ0FTRScgfHwgdCA9PT0gJ1RIRU4nO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnbyhhcmckLCBpKXtcbiAgICB2YXIgcHJldjtcbiAgICBwcmV2ID0gdG9rZW5zW2kgLSAxXTtcbiAgICB0b2tlbnMuc3BsaWNlKHByZXZbMF0gPT09ICcsJyA/IGkgLSAxIDogaSwgMCwgKGRlZGVudFsyXSA9IHByZXZbMl0sIGRlZGVudCkpO1xuICB9XG59XG5mdW5jdGlvbiBhZGRJbXBsaWNpdFBhcmVudGhlc2VzKHRva2Vucyl7XG4gIHZhciBpLCBicmFja2V0cywgdG9rZW4sIGVuZGksIHJlZiQsIHRwYWlyLCB0YWcsIHByZXYsIHJlZjEkLCBza2lwQmxvY2ssIHNlZW5Td2l0Y2g7XG4gIGkgPSAwO1xuICBicmFja2V0cyA9IFtdO1xuICB3aGlsZSAodG9rZW4gPSB0b2tlbnNbKytpXSkge1xuICAgIGlmICh0b2tlblsxXSA9PT0gJ2RvJyAmJiB0b2tlbnNbaSArIDFdWzBdID09PSAnSU5ERU5UJykge1xuICAgICAgZW5kaSA9IGluZGV4T2ZQYWlyKHRva2VucywgaSArIDEpO1xuICAgICAgaWYgKHRva2Vuc1tlbmRpICsgMV1bMF0gPT09ICdORVdMSU5FJyAmJiAoKHJlZiQgPSB0b2tlbnNbZW5kaSArIDJdKSAhPSBudWxsID8gcmVmJFswXSA6IHZvaWQgOCkgPT09ICdXSElMRScpIHtcbiAgICAgICAgdG9rZW5bMF0gPSAnRE8nO1xuICAgICAgICB0b2tlbnNbZW5kaSArIDJdLmRvbmUgPSB0cnVlO1xuICAgICAgICB0b2tlbnMuc3BsaWNlKGVuZGkgKyAxLCAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICh0b2tlbiA9IHRva2Vuc1sxICsgaV0pWzBdID0gJygnO1xuICAgICAgICAodHBhaXIgPSB0b2tlbnNbZW5kaV0pWzBdID0gJyknO1xuICAgICAgICB0b2tlbi5kb2Jsb2NrID0gdHJ1ZTtcbiAgICAgICAgdG9rZW5zLnNwbGljZShpLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGFnID0gdG9rZW5bMF07XG4gICAgcHJldiA9IHRva2Vuc1tpIC0gMV07XG4gICAgdGFnID09PSAnWycgJiYgYnJhY2tldHMucHVzaChwcmV2WzBdID09PSAnRE9UJyk7XG4gICAgaWYgKHByZXZbMF0gPT09ICddJykge1xuICAgICAgaWYgKGJyYWNrZXRzLnBvcCgpKSB7XG4gICAgICAgIHByZXYuaW5kZXggPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghKCgocmVmMSQgPSBwcmV2WzBdKSA9PT0gJ0ZVTkNUSU9OJyB8fCByZWYxJCA9PT0gJ0dFTkVSQVRPUicgfHwgcmVmMSQgPT09ICdMRVQnIHx8IHJlZjEkID09PSAnV0hFUkUnKSB8fCBwcmV2LnNwYWNlZCAmJiBhYmxlKHRva2VucywgaSwgdHJ1ZSkpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHRva2VuLmRvYmxvY2spIHtcbiAgICAgIHRva2VuWzBdID0gJ0NBTEwoJztcbiAgICAgIHRwYWlyWzBdID0gJylDQUxMJztcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoIWV4cCh0b2tlbikpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAodGFnID09PSAnQ1JFTUVOVCcpIHtcbiAgICAgIGlmICh0b2tlbi5zcGFjZWQgfHwgIWluJCgocmVmMSQgPSB0b2tlbnNbaSArIDFdKSAhPSBudWxsID8gcmVmMSRbMF0gOiB2b2lkIDgsIENIQUlOKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2tpcEJsb2NrID0gc2VlblN3aXRjaCA9IGZhbHNlO1xuICAgIHRva2Vucy5zcGxpY2UoaSsrLCAwLCBbJ0NBTEwoJywgJycsIHRva2VuWzJdXSk7XG4gICAgZGV0ZWN0RW5kKHRva2VucywgaSwgb2ssIGdvKTtcbiAgfVxuICBmdW5jdGlvbiBleHAodG9rZW4pe1xuICAgIHZhciB0YWc7XG4gICAgdGFnID0gdG9rZW5bMF07XG4gICAgcmV0dXJuIGluJCh0YWcsIEFSRykgfHwgIXRva2VuLnNwYWNlZCAmJiAodGFnID09PSAnKy0nIHx8IHRhZyA9PT0gJ0NMT05FJyk7XG4gIH1cbiAgZnVuY3Rpb24gb2sodG9rZW4sIGkpe1xuICAgIHZhciB0YWcsIHJlZiQsIHByZTtcbiAgICB0YWcgPSB0b2tlblswXTtcbiAgICBpZiAodGFnID09PSAnUE9TVF9JRicgfHwgdGFnID09PSAnUElQRScgfHwgdGFnID09PSAnQkFDS1BJUEUnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFza2lwQmxvY2spIHtcbiAgICAgIGlmICh0b2tlbi5hbGlhcyAmJiAoKHJlZiQgPSB0b2tlblsxXSkgPT09ICcmJicgfHwgcmVmJCA9PT0gJ3x8JyB8fCByZWYkID09PSAneG9yJykgfHwgKHRhZyA9PT0gJ1RPJyB8fCB0YWcgPT09ICdCWScgfHwgdGFnID09PSAnSU1QTEVNRU5UUycpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBwcmUgPSB0b2tlbnNbaSAtIDFdO1xuICAgIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSAnTkVXTElORSc6XG4gICAgICByZXR1cm4gcHJlWzBdICE9PSAnLCc7XG4gICAgY2FzZSAnRE9UJzpcbiAgICBjYXNlICc/JzpcbiAgICAgIHJldHVybiAhc2tpcEJsb2NrICYmIChwcmUuc3BhY2VkIHx8IHByZVswXSA9PT0gJ0RFREVOVCcpO1xuICAgIGNhc2UgJ1NXSVRDSCc6XG4gICAgICBzZWVuU3dpdGNoID0gdHJ1ZTtcbiAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgY2FzZSAnSUYnOlxuICAgIGNhc2UgJ0NMQVNTJzpcbiAgICBjYXNlICdGVU5DVElPTic6XG4gICAgY2FzZSAnR0VORVJBVE9SJzpcbiAgICBjYXNlICdMRVQnOlxuICAgIGNhc2UgJ1dJVEgnOlxuICAgIGNhc2UgJ0NBVENIJzpcbiAgICAgIHNraXBCbG9jayA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdDQVNFJzpcbiAgICAgIGlmIChzZWVuU3dpdGNoKSB7XG4gICAgICAgIHNraXBCbG9jayA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ0lOREVOVCc6XG4gICAgICBpZiAoc2tpcEJsb2NrKSB7XG4gICAgICAgIHJldHVybiBza2lwQmxvY2sgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhaW4kKHByZVswXSwgQkxPQ0tfVVNFUlMpO1xuICAgIGNhc2UgJ1dISUxFJzpcbiAgICAgIGlmICh0b2tlbi5kb25lKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgY2FzZSAnRk9SJzpcbiAgICAgIHNraXBCbG9jayA9IHRydWU7XG4gICAgICByZXR1cm4gYWJsZSh0b2tlbnMsIGkpIHx8IHByZVswXSA9PT0gJ0NSRU1FTlQnIHx8IHByZVswXSA9PT0gJy4uLicgJiYgcHJlLnNwYWNlZDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIGdvKHRva2VuLCBpKXtcbiAgICB0b2tlbnMuc3BsaWNlKGksIDAsIFsnKUNBTEwnLCAnJywgdG9rZW5zW2kgLSAxXVsyXV0pO1xuICB9XG59XG5mdW5jdGlvbiBhZGRJbXBsaWNpdEJyYWNlcyh0b2tlbnMpe1xuICB2YXIgc3RhY2ssIGksIHRva2VuLCB0YWcsIHN0YXJ0LCBwYXJlbiwgaW5kZXgsIHByZSwgcmVmJCwgaW5saW5lLCByZWYxJDtcbiAgc3RhY2sgPSBbXTtcbiAgaSA9IDA7XG4gIHdoaWxlICh0b2tlbiA9IHRva2Vuc1srK2ldKSB7XG4gICAgaWYgKCc6JyAhPT0gKHRhZyA9IHRva2VuWzBdKSkge1xuICAgICAgc3dpdGNoIChmYWxzZSkge1xuICAgICAgY2FzZSAhaW4kKHRhZywgQ0xPU0VSUyk6XG4gICAgICAgIHN0YXJ0ID0gc3RhY2sucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAhaW4kKHRhZywgT1BFTkVSUyk6XG4gICAgICAgIGlmICh0YWcgPT09ICdJTkRFTlQnICYmIHRva2Vuc1tpIC0gMV1bMF0gPT09ICd7Jykge1xuICAgICAgICAgIHRhZyA9ICd7JztcbiAgICAgICAgfVxuICAgICAgICBzdGFjay5wdXNoKFt0YWcsIGldKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBwYXJlbiA9IHRva2Vuc1tpIC0gMV1bMF0gPT09ICcpJztcbiAgICBpbmRleCA9IHBhcmVuXG4gICAgICA/IHN0YXJ0WzFdXG4gICAgICA6IGkgLSAxO1xuICAgIHByZSA9IHRva2Vuc1tpbmRleCAtIDFdO1xuICAgIGlmICghKCgocmVmJCA9IHByZVswXSkgPT09ICc6JyB8fCByZWYkID09PSAnQVNTSUdOJyB8fCByZWYkID09PSAnSU1QT1JUJykgfHwgKChyZWYkID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0pICE9IG51bGwgPyByZWYkWzBdIDogdm9pZCA4KSAhPT0gJ3snKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHN0YWNrLnB1c2goWyd7J10pO1xuICAgIGlubGluZSA9ICFwcmUuZG9ibG9jayAmJiAoKHJlZjEkID0gcHJlWzBdKSAhPT0gJ05FV0xJTkUnICYmIHJlZjEkICE9PSAnSU5ERU5UJyk7XG4gICAgd2hpbGUgKCgocmVmMSQgPSB0b2tlbnNbaW5kZXggLSAyXSkgIT0gbnVsbCA/IHJlZjEkWzBdIDogdm9pZCA4KSA9PT0gJ0NPTU1FTlQnKSB7XG4gICAgICBpbmRleCAtPSAyO1xuICAgIH1cbiAgICB0b2tlbnMuc3BsaWNlKGluZGV4LCAwLCBbJ3snLCAneycsIHRva2Vuc1tpbmRleF1bMl1dKTtcbiAgICBkZXRlY3RFbmQodG9rZW5zLCArK2kgKyAxLCBvaywgZ28pO1xuICB9XG4gIGZ1bmN0aW9uIG9rKHRva2VuLCBpKXtcbiAgICB2YXIgdGFnLCB0MSwgcmVmJCwgcmVmMSQ7XG4gICAgc3dpdGNoICh0YWcgPSB0b2tlblswXSkge1xuICAgIGNhc2UgJywnOlxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnTkVXTElORSc6XG4gICAgICBpZiAoaW5saW5lKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnREVERU5UJzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNhc2UgJ1BPU1RfSUYnOlxuICAgIGNhc2UgJ0ZPUic6XG4gICAgY2FzZSAnV0hJTEUnOlxuICAgICAgcmV0dXJuIGlubGluZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0MSA9IChyZWYkID0gdG9rZW5zW2kgKyAxXSkgIT0gbnVsbCA/IHJlZiRbMF0gOiB2b2lkIDg7XG4gICAgcmV0dXJuIHQxICE9PSAodGFnID09PSAnLCcgPyAnTkVXTElORScgOiAnQ09NTUVOVCcpICYmICc6JyAhPT0gKChyZWYxJCA9IHRva2Vuc1t0MSA9PT0gJygnXG4gICAgICA/IDEgKyBpbmRleE9mUGFpcih0b2tlbnMsIGkgKyAxKVxuICAgICAgOiBpICsgMl0pICE9IG51bGwgPyByZWYxJFswXSA6IHZvaWQgOCk7XG4gIH1cbiAgZnVuY3Rpb24gZ28odG9rZW4sIGkpe1xuICAgIHRva2Vucy5zcGxpY2UoaSwgMCwgWyd9JywgJycsIHRva2VuWzJdXSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGV4cGFuZExpdGVyYWxzKHRva2Vucyl7XG4gIHZhciBpLCBmcm9tTnVtLCB0b2tlbiwgc2lnLCByZWYkLCByZWYxJCwgbG5vLCByZWYyJCwgcmVmMyQsIHJlZjQkLCBjaGFyLCB0b051bSwgdG9jaGFyLCBieU51bSwgYnlwLCByZWY1JCwgdHMsIGVuYywgYWRkLCBpJCwgbiwgcmVmNiQsIHJlZjckLCBsZW4kLCB3b3JkLCB0aGF0O1xuICBpID0gMDtcbiAgd2hpbGUgKHRva2VuID0gdG9rZW5zWysraV0pIHtcbiAgICBzd2l0Y2ggKHRva2VuWzBdKSB7XG4gICAgY2FzZSAnU1RSTlVNJzpcbiAgICAgIGlmICh+Jy0rJy5pbmRleE9mKHNpZyA9IHRva2VuWzFdLmNoYXJBdCgwKSkpIHtcbiAgICAgICAgdG9rZW5bMV0gPSB0b2tlblsxXS5zbGljZSgxKTtcbiAgICAgICAgdG9rZW5zLnNwbGljZShpKyssIDAsIFsnKy0nLCBzaWcsIHRva2VuWzJdXSk7XG4gICAgICB9XG4gICAgICBpZiAodG9rZW4uY2FsbGFibGUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdUTyc6XG4gICAgY2FzZSAnVElMJzpcbiAgICAgIGlmICghKHRva2Vuc1tpIC0gMV1bMF0gPT09ICdbJyAmJiAoKHRva2Vuc1tpICsgMl1bMF0gPT09ICddJyAmJiAoKChyZWYkID0gdG9rZW5zW2kgKyAxXVsxXS5jaGFyQXQoMCkpID09PSAnXFwnJyB8fCByZWYkID09PSAnXCInKSB8fCArdG9rZW5zW2kgKyAxXVsxXSA+PSAwKSkgfHwgKHRva2Vuc1tpICsgMl1bMF0gPT09ICdCWScgJiYgKChyZWYkID0gdG9rZW5zW2kgKyAzXSkgIT0gbnVsbCA/IHJlZiRbMF0gOiB2b2lkIDgpID09PSAnU1RSTlVNJyAmJiAoKHJlZjEkID0gdG9rZW5zW2kgKyA0XSkgIT0gbnVsbCA/IHJlZjEkWzBdIDogdm9pZCA4KSA9PT0gJ10nKSkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRva2Vuc1tpICsgMl1bMF0gPT09ICdCWScpIHtcbiAgICAgICAgdG9rZW5zW2kgKyAyXVswXSA9ICdSQU5HRV9CWSc7XG4gICAgICB9XG4gICAgICB0b2tlbi5vcCA9IHRva2VuWzFdO1xuICAgICAgZnJvbU51bSA9IDA7XG4gICAgICAvLyBmYWxsdGhyb3VnaFxuICAgIGNhc2UgJ1JBTkdFJzpcbiAgICAgIGxubyA9IHRva2VuWzJdO1xuICAgICAgaWYgKGZyb21OdW0gIT0gbnVsbCB8fCAodG9rZW5zW2kgLSAxXVswXSA9PT0gJ1snICYmIHRva2Vuc1tpICsgMV1bMF0gPT09ICdTVFJOVU0nICYmICgodG9rZW5zW2kgKyAyXVswXSA9PT0gJ10nICYmICgoKHJlZjIkID0gdG9rZW5zW2kgKyAxXVsxXS5jaGFyQXQoMCkpID09PSAnXFwnJyB8fCByZWYyJCA9PT0gJ1wiJykgfHwgK3Rva2Vuc1tpICsgMV1bMV0gPj0gMCkpIHx8ICh0b2tlbnNbaSArIDJdWzBdID09PSAnUkFOR0VfQlknICYmICgocmVmMiQgPSB0b2tlbnNbaSArIDNdKSAhPSBudWxsID8gcmVmMiRbMF0gOiB2b2lkIDgpID09PSAnU1RSTlVNJyAmJiAoKHJlZjMkID0gdG9rZW5zW2kgKyA0XSkgIT0gbnVsbCA/IHJlZjMkWzBdIDogdm9pZCA4KSA9PT0gJ10nKSkpKSB7XG4gICAgICAgIGlmIChmcm9tTnVtID09IG51bGwpIHtcbiAgICAgICAgICByZWY0JCA9IGRlY29kZSh0b2tlblsxXSwgbG5vKSwgZnJvbU51bSA9IHJlZjQkWzBdLCBjaGFyID0gcmVmNCRbMV07XG4gICAgICAgIH1cbiAgICAgICAgcmVmNCQgPSBkZWNvZGUodG9rZW5zW2kgKyAxXVsxXSwgbG5vKSwgdG9OdW0gPSByZWY0JFswXSwgdG9jaGFyID0gcmVmNCRbMV07XG4gICAgICAgIGlmICh0b051bSA9PSBudWxsIHx8IGNoYXIgXiB0b2NoYXIpIHtcbiAgICAgICAgICBjYXJwKCdiYWQgXCJ0b1wiIGluIHJhbmdlJywgbG5vKTtcbiAgICAgICAgfVxuICAgICAgICBieU51bSA9IDE7XG4gICAgICAgIGlmIChieXAgPSAoKHJlZjQkID0gdG9rZW5zW2kgKyAyXSkgIT0gbnVsbCA/IHJlZjQkWzBdIDogdm9pZCA4KSA9PT0gJ1JBTkdFX0JZJykge1xuICAgICAgICAgIGlmICghKGJ5TnVtID0gKygocmVmNSQgPSB0b2tlbnNbaSArIDNdKSAhPSBudWxsID8gcmVmNSRbMV0gOiB2b2lkIDgpKSkge1xuICAgICAgICAgICAgY2FycCgnYmFkIFwiYnlcIiBpbiByYW5nZScsIHRva2Vuc1tpICsgMl1bMl0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChmcm9tTnVtID4gdG9OdW0pIHtcbiAgICAgICAgICBieU51bSA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHRzID0gW107XG4gICAgICAgIGVuYyA9IGNoYXIgPyBjaGFyYWN0ZXIgOiBTdHJpbmc7XG4gICAgICAgIGFkZCA9IGZuJDtcbiAgICAgICAgaWYgKHRva2VuLm9wID09PSAndG8nKSB7XG4gICAgICAgICAgZm9yIChpJCA9IGZyb21OdW07IGJ5TnVtIDwgMCA/IGkkID49IHRvTnVtIDogaSQgPD0gdG9OdW07IGkkICs9IGJ5TnVtKSB7XG4gICAgICAgICAgICBuID0gaSQ7XG4gICAgICAgICAgICBhZGQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChpJCA9IGZyb21OdW07IGJ5TnVtIDwgMCA/IGkkID4gdG9OdW0gOiBpJCA8IHRvTnVtOyBpJCArPSBieU51bSkge1xuICAgICAgICAgICAgbiA9IGkkO1xuICAgICAgICAgICAgYWRkKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRzLnBvcCgpIHx8IGNhcnAoJ2VtcHR5IHJhbmdlJywgbG5vKTtcbiAgICAgICAgdG9rZW5zLnNwbGljZS5hcHBseSh0b2tlbnMsIFtpLCAyICsgMiAqIGJ5cF0uY29uY2F0KHNsaWNlJC5jYWxsKHRzKSkpO1xuICAgICAgICBpICs9IHRzLmxlbmd0aCAtIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2tlblswXSA9ICdTVFJOVU0nO1xuICAgICAgICBpZiAoKChyZWY2JCA9IHRva2Vuc1tpICsgMl0pICE9IG51bGwgPyByZWY2JFswXSA6IHZvaWQgOCkgPT09ICdSQU5HRV9CWScpIHtcbiAgICAgICAgICB0b2tlbnMuc3BsaWNlKGkgKyAyLCAxLCBbJ0JZJywgJ2J5JywgbG5vXSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW5zLnNwbGljZShpICsgMSwgMCwgWydUTycsIHRva2VuLm9wLCBsbm9dKTtcbiAgICAgIH1cbiAgICAgIGZyb21OdW0gPSBudWxsO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnV09SRFMnOlxuICAgICAgdHMgPSBbWydbJywgJ1snLCBsbm8gPSB0b2tlblsyXV1dO1xuICAgICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmNyQgPSB0b2tlblsxXS5tYXRjaCgvXFxTKy9nKSB8fCAnJykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgICAgd29yZCA9IHJlZjckW2kkXTtcbiAgICAgICAgdHMucHVzaChbJ1NUUk5VTScsIHN0cmluZygnXFwnJywgd29yZCwgbG5vKSwgbG5vXSwgWycsJywgJywnLCBsbm9dKTtcbiAgICAgIH1cbiAgICAgIHRva2Vucy5zcGxpY2UuYXBwbHkodG9rZW5zLCBbaSwgMV0uY29uY2F0KHNsaWNlJC5jYWxsKHRzKSwgW1snXScsICddJywgbG5vXV0pKTtcbiAgICAgIGkgKz0gdHMubGVuZ3RoO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnSU5ERU5UJzpcbiAgICAgIGlmICh0aGF0ID0gdG9rZW5zW2kgLSAxXSkge1xuICAgICAgICBpZiAodGhhdFsxXSA9PT0gJ25ldycpIHtcbiAgICAgICAgICB0b2tlbnMuc3BsaWNlKGkrKywgMCwgWydQQVJBTSgnLCAnJywgdG9rZW5bMl1dLCBbJylQQVJBTScsICcnLCB0b2tlblsyXV0sIFsnLT4nLCAnJywgdG9rZW5bMl1dKTtcbiAgICAgICAgfSBlbHNlIGlmICgocmVmNyQgPSB0aGF0WzBdKSA9PT0gJ0ZVTkNUSU9OJyB8fCByZWY3JCA9PT0gJ0dFTkVSQVRPUicgfHwgcmVmNyQgPT09ICdMRVQnKSB7XG4gICAgICAgICAgdG9rZW5zLnNwbGljZShpLCAwLCBbJ0NBTEwoJywgJycsIHRva2VuWzJdXSwgWycpQ0FMTCcsICcnLCB0b2tlblsyXV0pO1xuICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgY2FzZSAnTElURVJBTCc6XG4gICAgY2FzZSAnfSc6XG4gICAgICBicmVhaztcbiAgICBjYXNlICcpJzpcbiAgICBjYXNlICcpQ0FMTCc6XG4gICAgICBpZiAodG9rZW5bMV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICddJzpcbiAgICAgIGlmICh0b2tlbi5pbmRleCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ0NSRU1FTlQnOlxuICAgICAgaWYgKCFhYmxlKHRva2VucywgaSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdCSU9QJzpcbiAgICAgIGlmICghdG9rZW4uc3BhY2VkICYmICgocmVmNyQgPSB0b2tlblsxXSkgPT09ICcrJyB8fCByZWY3JCA9PT0gJy0nKSAmJiB0b2tlbnNbaSArIDFdWzBdICE9PSAnKScpIHtcbiAgICAgICAgdG9rZW5zW2ldWzBdID0gJystJztcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHRva2VuLnNwYWNlZCAmJiBpbiQodG9rZW5zW2kgKyAxXVswXSwgQVJHKSkge1xuICAgICAgdG9rZW5zLnNwbGljZSgrK2ksIDAsIFsnLCcsICcsJywgdG9rZW5bMl1dKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZm4kKCl7XG4gICAgaWYgKDB4MTAwMDAgPCB0cy5wdXNoKFsnU1RSTlVNJywgZW5jKG4pLCBsbm9dLCBbJywnLCAnLCcsIGxub10pKSB7XG4gICAgICBjYXJwKCdyYW5nZSBsaW1pdCBleGNlZWRlZCcsIGxubyk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBkZXRlY3RFbmQodG9rZW5zLCBpLCBvaywgZ28pe1xuICB2YXIgbGV2ZWxzLCB0b2tlbiwgdGFnO1xuICBsZXZlbHMgPSAwO1xuICBmb3IgKDsgdG9rZW4gPSB0b2tlbnNbaV07ICsraSkge1xuICAgIGlmICghbGV2ZWxzICYmIG9rKHRva2VuLCBpKSkge1xuICAgICAgcmV0dXJuIGdvKHRva2VuLCBpKTtcbiAgICB9XG4gICAgdGFnID0gdG9rZW5bMF07XG4gICAgaWYgKDAgPiAobGV2ZWxzICs9IGluJCh0YWcsIE9QRU5FUlMpIHx8IC1pbiQodGFnLCBDTE9TRVJTKSkpIHtcbiAgICAgIHJldHVybiBnbyh0b2tlbiwgaSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBpbmRleE9mUGFpcih0b2tlbnMsIGkpe1xuICB2YXIgbGV2ZWwsIGVuZCwgc3RhcnQsIHRoYXQ7XG4gIGxldmVsID0gMTtcbiAgZW5kID0gSU5WRVJTRVNbc3RhcnQgPSB0b2tlbnNbaV1bMF1dO1xuICB3aGlsZSAodGhhdCA9IHRva2Vuc1srK2ldKSB7XG4gICAgc3dpdGNoICh0aGF0WzBdKSB7XG4gICAgY2FzZSBzdGFydDpcbiAgICAgICsrbGV2ZWw7XG4gICAgICBicmVhaztcbiAgICBjYXNlIGVuZDpcbiAgICAgIGlmICghLS1sZXZlbCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuS0VZV09SRFNfU0hBUkVEID0gWyd0cnVlJywgJ2ZhbHNlJywgJ251bGwnLCAndGhpcycsICd2b2lkJywgJ3N1cGVyJywgJ3JldHVybicsICd0aHJvdycsICdicmVhaycsICdjb250aW51ZScsICdpZicsICdlbHNlJywgJ2ZvcicsICd3aGlsZScsICdzd2l0Y2gnLCAnY2FzZScsICdkZWZhdWx0JywgJ3RyeScsICdjYXRjaCcsICdmaW5hbGx5JywgJ2Z1bmN0aW9uJywgJ2NsYXNzJywgJ2V4dGVuZHMnLCAnaW1wbGVtZW50cycsICduZXcnLCAnZG8nLCAnZGVsZXRlJywgJ3R5cGVvZicsICdpbicsICdpbnN0YW5jZW9mJywgJ2xldCcsICd3aXRoJywgJ3ZhcicsICdjb25zdCcsICdpbXBvcnQnLCAnZXhwb3J0JywgJ2RlYnVnZ2VyJywgJ3lpZWxkJ107XG5LRVlXT1JEU19VTlVTRUQgPSBbJ2VudW0nLCAnaW50ZXJmYWNlJywgJ3BhY2thZ2UnLCAncHJpdmF0ZScsICdwcm90ZWN0ZWQnLCAncHVibGljJywgJ3N0YXRpYyddO1xuSlNfS0VZV09SRFMgPSBLRVlXT1JEU19TSEFSRUQuY29uY2F0KEtFWVdPUkRTX1VOVVNFRCk7XG5MU19LRVlXT1JEUyA9IFsneG9yJywgJ21hdGNoJywgJ3doZXJlJ107XG5JRCA9IC8oKD8hXFxzKVthLXpfJFxceEFBLVxcdUZGRENdKD86KD8hXFxzKVtcXHckXFx4QUEtXFx1RkZEQ118LVthLXpdKSopKFteXFxuXFxTXSo6KD8hWzo9XSkpP3wvaWc7XG5TWU1CT0wgPSAvWy1cXC9eXT18WyUrOipdezEsMn09fFxcfD49fFxcLig/OlsmXFx8XFxeXXw8PHw+Pj4/KVxcLj0/fFxcLnsxLDN9fFxcXlxcXnw8KD86LS0/fH5+Pyl8IT8oPzotLT98fn4/KT5cXCo/fChbLSsmfDpdKVxcMXwlJXwmfFxcKFteXFxuXFxTXSpcXCl8WyE9XT09P3whP1xcfj18QEA/fDxcXFsoPzpbXFxzXFxTXSo/XFxdPik/fDw8PDw/fDxcXHx8Wzw+XT09fDw8PXw+Pj18PDx8Pj58Wzw+XVxcPz89P3xcXHw+fFxcfHw9PnxcXCpcXCp8XFxefGB8W15cXHMjXT8vZztcblNQQUNFID0gL1teXFxuXFxTXSooPzojLiopPy9nO1xuTVVMVElERU5UID0gLyg/OlxccyojLiopKig/OlxcbihbXlxcblxcU10qKSkqL2c7XG5TSU1QTEVTVFIgPSAvJ1teXFxcXCddKig/OlxcXFxbXFxzXFxTXVteXFxcXCddKikqJ3wvZztcbkpTVE9LRU4gPSAvYGBbXlxcXFxgXSooPzpcXFxcW1xcc1xcU11bXlxcXFxgXSopKmBgfC9nO1xuQlNUT0tFTiA9IFJlZ0V4cCgnXFxcXFxcXFwoPzooXFxcXFNbXlxcXFxzLDspfVxcXFxdXSopfCg/OicgKyBTUEFDRS5zb3VyY2UgKyAnXFxcXG4/KSopJywgJ2cnKTtcbk5VTUJFUiA9IC8weFtcXGRBLUZhLWZdW1xcZEEtRmEtZl9dKnwoXFxkKil+KFtcXGRBLVphLXpdXFx3Kil8KChcXGRbXFxkX10qKShcXC5cXGRbXFxkX10qKT8oPzplWystXT9cXGRbXFxkX10qKT8pWyRcXHddKnwvZztcbk5VTUJFUl9PTUlUID0gL18rL2c7XG5SRUdFWCA9IC9cXC8oW15bXFwvXFxuXFxcXF0qKD86KD86XFxcXC58XFxbW15cXF1cXG5cXFxcXSooPzpcXFxcLlteXFxdXFxuXFxcXF0qKSpcXF0pW15bXFwvXFxuXFxcXF0qKSopXFwvKFtnaW15XXsxLDR9fFxcJD8pfC9nO1xuSEVSRUdFWF9PTUlUID0gL1xccysoPzojLiopPy9nO1xuTEFTVERFTlQgPSAvXFxuW15cXG5cXFNdKiQvO1xuSU5MSU5FREVOVCA9IC9bXlxcblxcU10qW14jXFxzXT8vZztcbk5PTkFTQ0lJID0gL1tcXHg4MC1cXHVGRkZGXS87XG5PUEVORVJTID0gWycoJywgJ1snLCAneycsICdDQUxMKCcsICdQQVJBTSgnLCAnSU5ERU5UJ107XG5DTE9TRVJTID0gWycpJywgJ10nLCAnfScsICcpQ0FMTCcsICcpUEFSQU0nLCAnREVERU5UJ107XG5JTlZFUlNFUyA9IGltcG9ydCQoKGZ1bmN0aW9uKCl7XG4gIHZhciBpJCwgcmVmJCwgbGVuJCwgcmVzdWx0T2JqJCA9IHt9O1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gT1BFTkVSUykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICBpID0gaSQ7XG4gICAgbyA9IHJlZiRbaSRdO1xuICAgIHJlc3VsdE9iaiRbb10gPSBDTE9TRVJTW2ldO1xuICB9XG4gIHJldHVybiByZXN1bHRPYmokO1xufSgpKSwgKGZ1bmN0aW9uKCl7XG4gIHZhciBpJCwgcmVmJCwgbGVuJCwgcmVzdWx0T2JqJCA9IHt9O1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gQ0xPU0VSUykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICBpID0gaSQ7XG4gICAgYyA9IHJlZiRbaSRdO1xuICAgIHJlc3VsdE9iaiRbY10gPSBPUEVORVJTW2ldO1xuICB9XG4gIHJldHVybiByZXN1bHRPYmokO1xufSgpKSk7XG5DSEFJTiA9IFsnKCcsICd7JywgJ1snLCAnSUQnLCAnU1RSTlVNJywgJ0xJVEVSQUwnLCAnTEVUJywgJ1dJVEgnLCAnV09SRFMnXTtcbkFSRyA9IENIQUlOLmNvbmNhdChbJy4uLicsICdVTkFSWScsICdDUkVNRU5UJywgJ1BBUkFNKCcsICdGVU5DVElPTicsICdHRU5FUkFUT1InLCAnSUYnLCAnU1dJVENIJywgJ1RSWScsICdDTEFTUycsICdSQU5HRScsICdMQUJFTCcsICdERUNMJywgJ0RPJywgJ0JJT1BCUCddKTtcbkJMT0NLX1VTRVJTID0gWycsJywgJzonLCAnLT4nLCAnRUxTRScsICdBU1NJR04nLCAnSU1QT1JUJywgJ1VOQVJZJywgJ0RFRkFVTFQnLCAnVFJZJywgJ0ZJTkFMTFknLCAnSFVSTCcsICdERUNMJywgJ0RPJywgJ0xFVCcsICdGVU5DVElPTicsICdHRU5FUkFUT1InXTtcbmZ1bmN0aW9uIGNsb25lJChpdCl7XG4gIGZ1bmN0aW9uIGZ1bigpe30gZnVuLnByb3RvdHlwZSA9IGl0O1xuICByZXR1cm4gbmV3IGZ1bjtcbn1cbmZ1bmN0aW9uIGluJCh4LCB4cyl7XG4gIHZhciBpID0gLTEsIGwgPSB4cy5sZW5ndGggPj4+IDA7XG4gIHdoaWxlICgrK2kgPCBsKSBpZiAoeCA9PT0geHNbaV0pIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpbXBvcnQkKG9iaiwgc3JjKXtcbiAgdmFyIG93biA9IHt9Lmhhc093blByb3BlcnR5O1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSBpZiAob3duLmNhbGwoc3JjLCBrZXkpKSBvYmpba2V5XSA9IHNyY1trZXldO1xuICByZXR1cm4gb2JqO1xufSIsIihmdW5jdGlvbiAocHJvY2Vzcyl7XG4vLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxudmFyIHNwbGl0JCA9ICcnLnNwbGl0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihMaXZlU2NyaXB0KXtcbiAgdmFyIGZzLCBwYXRoO1xuICBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG4gIExpdmVTY3JpcHQucnVuID0gZnVuY3Rpb24oY29kZSwgb3B0aW9ucywganMpe1xuICAgIHZhciBmaWxlbmFtZSwgbWFpbiwgZGlybmFtZSwgcmVmJCwgZTtcbiAgICBpZiAob3B0aW9ucyAhPSBudWxsKSB7XG4gICAgICBmaWxlbmFtZSA9IG9wdGlvbnMuZmlsZW5hbWU7XG4gICAgfVxuICAgIG1haW4gPSByZXF1aXJlLm1haW47XG4gICAgaWYgKGZpbGVuYW1lKSB7XG4gICAgICBkaXJuYW1lID0gcGF0aC5kaXJuYW1lKGZzLnJlYWxwYXRoU3luYyhmaWxlbmFtZSA9IHByb2Nlc3MuYXJndlsxXSA9IHBhdGgucmVzb2x2ZShmaWxlbmFtZSkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGlybmFtZSA9IGZpbGVuYW1lID0gJy4nO1xuICAgIH1cbiAgICBtYWluLnBhdGhzID0gbWFpbi5jb25zdHJ1Y3Rvci5fbm9kZU1vZHVsZVBhdGhzKGRpcm5hbWUpO1xuICAgIG1haW4uZmlsZW5hbWUgPSBmaWxlbmFtZTtcbiAgICBqcyB8fCAoY29kZSA9IExpdmVTY3JpcHQuY29tcGlsZShjb2RlLCAocmVmJCA9IHt9LCBpbXBvcnQkKHJlZiQsIG9wdGlvbnMpLCByZWYkLmJhcmUgPSB0cnVlLCByZWYkKSkpO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbWFpbi5fY29tcGlsZShjb2RlLCBmaWxlbmFtZSk7XG4gICAgfSBjYXRjaCAoZSQpIHtcbiAgICAgIGUgPSBlJDtcbiAgICAgIHRocm93IGhhY2tUcmFjZShlLCBjb2RlLCBmaWxlbmFtZSk7XG4gICAgfVxuICB9O1xuICBpbXBvcnRBbGwkKExpdmVTY3JpcHQsIHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuICByZXF1aXJlLmV4dGVuc2lvbnNbJy5scyddID0gZnVuY3Rpb24obW9kdWxlLCBmaWxlbmFtZSl7XG4gICAgdmFyIGpzLCBlO1xuICAgIGpzID0gTGl2ZVNjcmlwdC5jb21waWxlKGZzLnJlYWRGaWxlU3luYyhmaWxlbmFtZSwgJ3V0ZjgnKSwge1xuICAgICAgZmlsZW5hbWU6IGZpbGVuYW1lLFxuICAgICAgYmFyZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbW9kdWxlLl9jb21waWxlKGpzLCBmaWxlbmFtZSk7XG4gICAgfSBjYXRjaCAoZSQpIHtcbiAgICAgIGUgPSBlJDtcbiAgICAgIHRocm93IGhhY2tUcmFjZShlLCBqcywgZmlsZW5hbWUpO1xuICAgIH1cbiAgfTtcbn07XG5mdW5jdGlvbiBoYWNrVHJhY2UoZXJyb3IsIGpzLCBmaWxlbmFtZSl7XG4gIHZhciBzdGFjaywgdHJhY2VzLCBpJCwgbGVuJCwgaSwgdHJhY2UsIGluZGV4LCBsbm8sIGVuZCwgbGVuZ3RoLCBsaW5lcywgaiQsIHJlZiQsIG47XG4gIGlmIChlcnJvciAhPSBudWxsKSB7XG4gICAgc3RhY2sgPSBlcnJvci5zdGFjaztcbiAgfVxuICBpZiAoIXN0YWNrKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG4gIHRyYWNlcyA9IHNwbGl0JC5jYWxsKHN0YWNrLCAnXFxuJyk7XG4gIGlmICghKHRyYWNlcy5sZW5ndGggPiAxKSkge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuICBmb3IgKGkkID0gMCwgbGVuJCA9IHRyYWNlcy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIGkgPSBpJDtcbiAgICB0cmFjZSA9IHRyYWNlc1tpJF07XG4gICAgaWYgKDAgPiAoaW5kZXggPSB0cmFjZS5pbmRleE9mKFwiKFwiICsgZmlsZW5hbWUgKyBcIjpcIikpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbG5vID0gKC86KFxcZCspOi8uZXhlYyh0cmFjZS5zbGljZShpbmRleCArIGZpbGVuYW1lLmxlbmd0aCkpIHx8ICcnKVsxXTtcbiAgICBpZiAoIShsbm8gPSArbG5vKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxlbmd0aCA9ICgnJyArIChlbmQgPSBsbm8gKyA0KSkubGVuZ3RoO1xuICAgIGxpbmVzIHx8IChsaW5lcyA9IHNwbGl0JC5jYWxsKGpzLCAnXFxuJykpO1xuICAgIGZvciAoaiQgPSAxID4gKHJlZiQgPSBsbm8gLSA0KSA/IDEgOiByZWYkOyBqJCA8PSBlbmQ7ICsraiQpIHtcbiAgICAgIG4gPSBqJDtcbiAgICAgIHRyYWNlc1tpXSArPSBcIlxcblwiICsgKCcgICAgJyArIG4pLnNsaWNlKC1sZW5ndGgpICsgXCJcIiArICd8KycuY2hhckF0KG4gPT09IGxubykgKyBcIiBcIiArIFtsaW5lc1tuIC0gMV1dO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZXJyb3Iuc3RhY2sgPSB0cmFjZXMuam9pbignXFxuJyksIGVycm9yO1xufVxuZnVuY3Rpb24gaW1wb3J0JChvYmosIHNyYyl7XG4gIHZhciBvd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbiAgZm9yICh2YXIga2V5IGluIHNyYykgaWYgKG93bi5jYWxsKHNyYywga2V5KSkgb2JqW2tleV0gPSBzcmNba2V5XTtcbiAgcmV0dXJuIG9iajtcbn1cbmZ1bmN0aW9uIGltcG9ydEFsbCQob2JqLCBzcmMpe1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSBvYmpba2V5XSA9IHNyY1trZXldO1xuICByZXR1cm4gb2JqO1xufVxufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJykpIiwiZXhwb3J0cy5wYXJzZXIgPSB7dHJhY2U6IGZ1bmN0aW9uIHRyYWNlKCkgeyB9LFxueXk6IHt9LFxuc3ltYm9sc186IHtcImVycm9yXCI6MixcIkNoYWluXCI6MyxcIklEXCI6NCxcIlBhcmVudGhldGljYWxcIjo1LFwiTGlzdFwiOjYsXCJTVFJOVU1cIjo3LFwiTElURVJBTFwiOjgsXCJET1RcIjo5LFwiS2V5XCI6MTAsXCJDQUxMKFwiOjExLFwiQXJnTGlzdFwiOjEyLFwiT3B0Q29tbWFcIjoxMyxcIilDQUxMXCI6MTQsXCI/XCI6MTUsXCJMRVRcIjoxNixcIkJsb2NrXCI6MTcsXCJbXCI6MTgsXCJFeHByZXNzaW9uXCI6MTksXCJMb29wSGVhZHNcIjoyMCxcIl1cIjoyMSxcIkRFREVOVFwiOjIyLFwie1wiOjIzLFwifVwiOjI0LFwiKFwiOjI1LFwiQklPUFwiOjI2LFwiKVwiOjI3LFwiQklPUFJcIjoyOCxcIkJJT1BCUFwiOjI5LFwiQklPUFBcIjozMCxcIlBBUkFNKFwiOjMxLFwiKVBBUkFNXCI6MzIsXCJVTkFSWVwiOjMzLFwiQ1JFTUVOVFwiOjM0LFwiQkFDS1RJQ0tcIjozNSxcIlRPXCI6MzYsXCJCWVwiOjM3LFwiV0lUSFwiOjM4LFwiRk9SXCI6MzksXCJQcm9wZXJ0aWVzXCI6NDAsXCJMQUJFTFwiOjQxLFwiS2V5QmFzZVwiOjQyLFwiQXJnXCI6NDMsXCIsXCI6NDQsXCJORVdMSU5FXCI6NDUsXCJJTkRFTlRcIjo0NixcIi4uLlwiOjQ3LFwiTGluZXNcIjo0OCxcIkxpbmVcIjo0OSxcIjwtXCI6NTAsXCJDT01NRU5UXCI6NTEsXCJSRVFVSVJFXCI6NTIsXCJDTE9ORVBPUlRcIjo1MyxcIkFTU0lHTlwiOjU0LFwiSU1QT1JUXCI6NTUsXCIrLVwiOjU2LFwiQ0xPTkVcIjo1NyxcIllJRUxEXCI6NTgsXCJDT01QQVJFXCI6NTksXCJMT0dJQ1wiOjYwLFwiTUFUSFwiOjYxLFwiUE9XRVJcIjo2MixcIlNISUZUXCI6NjMsXCJCSVRXSVNFXCI6NjQsXCJDT05DQVRcIjo2NSxcIkNPTVBPU0VcIjo2NixcIlJFTEFUSU9OXCI6NjcsXCJQSVBFXCI6NjgsXCJCQUNLUElQRVwiOjY5LFwiIT9cIjo3MCxcIi0+XCI6NzEsXCJGVU5DVElPTlwiOjcyLFwiR0VORVJBVE9SXCI6NzMsXCJJRlwiOjc0LFwiRWxzZVwiOjc1LFwiUE9TVF9JRlwiOjc2LFwiTG9vcEhlYWRcIjo3NyxcIkRPXCI6NzgsXCJXSElMRVwiOjc5LFwiQ0FTRVwiOjgwLFwiSFVSTFwiOjgxLFwiSlVNUFwiOjgyLFwiU1dJVENIXCI6ODMsXCJFeHByc1wiOjg0LFwiQ2FzZXNcIjo4NSxcIkRFRkFVTFRcIjo4NixcIkVMU0VcIjo4NyxcIlRSWVwiOjg4LFwiQ0FUQ0hcIjo4OSxcIkZJTkFMTFlcIjo5MCxcIkNMQVNTXCI6OTEsXCJPcHRFeHRlbmRzXCI6OTIsXCJPcHRJbXBsZW1lbnRzXCI6OTMsXCJFWFRFTkRTXCI6OTQsXCJERUNMXCI6OTUsXCJLZXlWYWx1ZVwiOjk2LFwiUHJvcGVydHlcIjo5NyxcIjpcIjo5OCxcIkJvZHlcIjo5OSxcIklOXCI6MTAwLFwiT0ZcIjoxMDEsXCJGUk9NXCI6MTAyLFwiSU1QTEVNRU5UU1wiOjEwMyxcIlJvb3RcIjoxMDQsXCIkYWNjZXB0XCI6MCxcIiRlbmRcIjoxfSxcbnRlcm1pbmFsc186IHsyOlwiZXJyb3JcIiw0OlwiSURcIiw3OlwiU1RSTlVNXCIsODpcIkxJVEVSQUxcIiw5OlwiRE9UXCIsMTE6XCJDQUxMKFwiLDE0OlwiKUNBTExcIiwxNTpcIj9cIiwxNjpcIkxFVFwiLDE4OlwiW1wiLDIxOlwiXVwiLDIyOlwiREVERU5UXCIsMjM6XCJ7XCIsMjQ6XCJ9XCIsMjU6XCIoXCIsMjY6XCJCSU9QXCIsMjc6XCIpXCIsMjg6XCJCSU9QUlwiLDI5OlwiQklPUEJQXCIsMzA6XCJCSU9QUFwiLDMxOlwiUEFSQU0oXCIsMzI6XCIpUEFSQU1cIiwzMzpcIlVOQVJZXCIsMzQ6XCJDUkVNRU5UXCIsMzU6XCJCQUNLVElDS1wiLDM2OlwiVE9cIiwzNzpcIkJZXCIsMzg6XCJXSVRIXCIsMzk6XCJGT1JcIiw0MTpcIkxBQkVMXCIsNDQ6XCIsXCIsNDU6XCJORVdMSU5FXCIsNDY6XCJJTkRFTlRcIiw0NzpcIi4uLlwiLDUwOlwiPC1cIiw1MTpcIkNPTU1FTlRcIiw1MjpcIlJFUVVJUkVcIiw1MzpcIkNMT05FUE9SVFwiLDU0OlwiQVNTSUdOXCIsNTU6XCJJTVBPUlRcIiw1NjpcIistXCIsNTc6XCJDTE9ORVwiLDU4OlwiWUlFTERcIiw1OTpcIkNPTVBBUkVcIiw2MDpcIkxPR0lDXCIsNjE6XCJNQVRIXCIsNjI6XCJQT1dFUlwiLDYzOlwiU0hJRlRcIiw2NDpcIkJJVFdJU0VcIiw2NTpcIkNPTkNBVFwiLDY2OlwiQ09NUE9TRVwiLDY3OlwiUkVMQVRJT05cIiw2ODpcIlBJUEVcIiw2OTpcIkJBQ0tQSVBFXCIsNzA6XCIhP1wiLDcxOlwiLT5cIiw3MjpcIkZVTkNUSU9OXCIsNzM6XCJHRU5FUkFUT1JcIiw3NDpcIklGXCIsNzY6XCJQT1NUX0lGXCIsNzg6XCJET1wiLDc5OlwiV0hJTEVcIiw4MDpcIkNBU0VcIiw4MTpcIkhVUkxcIiw4MjpcIkpVTVBcIiw4MzpcIlNXSVRDSFwiLDg2OlwiREVGQVVMVFwiLDg3OlwiRUxTRVwiLDg4OlwiVFJZXCIsODk6XCJDQVRDSFwiLDkwOlwiRklOQUxMWVwiLDkxOlwiQ0xBU1NcIiw5NDpcIkVYVEVORFNcIiw5NTpcIkRFQ0xcIiw5ODpcIjpcIiwxMDA6XCJJTlwiLDEwMTpcIk9GXCIsMTAyOlwiRlJPTVwiLDEwMzpcIklNUExFTUVOVFNcIn0sXG5wcm9kdWN0aW9uc186IFswLFszLDFdLFszLDFdLFszLDFdLFszLDFdLFszLDFdLFszLDNdLFszLDNdLFszLDVdLFszLDJdLFszLDZdLFszLDRdLFszLDVdLFszLDddLFszLDNdLFszLDRdLFszLDRdLFszLDNdLFszLDRdLFszLDRdLFszLDNdLFszLDddLFszLDNdLFszLDddLFszLDNdLFszLDNdLFszLDVdLFszLDZdLFszLDZdLFszLDVdLFszLDddLFszLDRdLFszLDZdLFszLDddLFszLDZdLFszLDZdLFszLDVdLFszLDNdLFszLDNdLFs2LDRdLFs2LDRdLFs2LDVdLFs2LDVdLFsxMCwxXSxbMTAsMV0sWzQyLDFdLFs0MiwxXSxbMTIsMF0sWzEyLDFdLFsxMiwzXSxbMTIsNF0sWzEyLDZdLFs0MywxXSxbNDMsMl0sWzQzLDFdLFsxMywwXSxbMTMsMV0sWzQ4LDBdLFs0OCwxXSxbNDgsM10sWzQ4LDJdLFs0OSwxXSxbNDksMl0sWzQ5LDZdLFs0OSwxXSxbNDksMV0sWzQ5LDJdLFsxNywzXSxbMTksM10sWzE5LDNdLFsxOSw1XSxbMTksMV0sWzE5LDNdLFsxOSw2XSxbMTksM10sWzE5LDZdLFsxOSwyXSxbMTksMl0sWzE5LDNdLFsxOSwzXSxbMTksM10sWzE5LDJdLFsxOSwyXSxbMTksMl0sWzE5LDJdLFsxOSw1XSxbMTksM10sWzE5LDNdLFsxOSwzXSxbMTksM10sWzE5LDNdLFsxOSwzXSxbMTksM10sWzE5LDNdLFsxOSwzXSxbMTksM10sWzE5LDNdLFsxOSwzXSxbMTksMl0sWzE5LDZdLFsxOSw2XSxbMTksNl0sWzE5LDRdLFsxOSwzXSxbMTksM10sWzE5LDRdLFsxOSw2XSxbMTksMl0sWzE5LDVdLFsxOSwxXSxbMTksMV0sWzE5LDJdLFsxOSwzXSxbMTksNV0sWzE5LDVdLFsxOSwyXSxbMTksNF0sWzE5LDRdLFsxOSwyXSxbMTksMl0sWzE5LDRdLFsxOSw2XSxbMTksNV0sWzE5LDddLFsxOSw0XSxbMTksNV0sWzE5LDRdLFsxOSwzXSxbMTksMl0sWzE5LDJdLFsxOSw1XSxbODQsMV0sWzg0LDNdLFs5NiwxXSxbOTYsMV0sWzk2LDNdLFs5NiwzXSxbOTYsNV0sWzk2LDVdLFs5NywzXSxbOTcsNl0sWzk3LDFdLFs5NywzXSxbOTcsM10sWzk3LDJdLFs5NywyXSxbOTcsMl0sWzk3LDFdLFs0MCwwXSxbNDAsMV0sWzQwLDNdLFs0MCw0XSxbNDAsNF0sWzUsM10sWzk5LDFdLFs5OSwxXSxbOTksM10sWzc1LDBdLFs3NSwyXSxbNzUsNV0sWzc3LDRdLFs3Nyw2XSxbNzcsNl0sWzc3LDhdLFs3NywyXSxbNzcsNF0sWzc3LDRdLFs3Nyw2XSxbNzcsNF0sWzc3LDZdLFs3Nyw2XSxbNzcsOF0sWzc3LDZdLFs3Nyw1XSxbNzcsOF0sWzc3LDddLFs3Nyw4XSxbNzcsMTBdLFs3NywxMF0sWzc3LDJdLFs3Nyw0XSxbNzcsNF0sWzc3LDZdLFsyMCwxXSxbMjAsMl0sWzIwLDNdLFsyMCwzXSxbODUsM10sWzg1LDRdLFs5MiwyXSxbOTIsMF0sWzkzLDJdLFs5MywwXSxbMTA0LDFdXSxcbnBlcmZvcm1BY3Rpb246IGZ1bmN0aW9uIGFub255bW91cyh5eXRleHQseXlsZW5nLHl5bGluZW5vLHl5LHl5c3RhdGUsJCRcbi8qKi8pIHtcblxudmFyICQwID0gJCQubGVuZ3RoIC0gMTtcbnN3aXRjaCAoeXlzdGF0ZSkge1xuY2FzZSAxOnRoaXMuJCA9IHl5LkNoYWluKHl5LkwoeXlsaW5lbm8sIHl5LlZhcigkJFskMF0pKSk7XG5icmVhaztcbmNhc2UgMjpcbmNhc2UgMzp0aGlzLiQgPSB5eS5DaGFpbigkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDQ6XG5jYXNlIDU6dGhpcy4kID0geXkuQ2hhaW4oeXkuTCh5eWxpbmVubywgeXkuTGl0ZXJhbCgkJFskMF0pKSk7XG5icmVhaztcbmNhc2UgNjpcbmNhc2UgNzp0aGlzLiQgPSAkJFskMC0yXS5hZGQoeXkuSW5kZXgoJCRbJDBdLCAkJFskMC0xXSwgdHJ1ZSkpO1xuYnJlYWs7XG5jYXNlIDg6dGhpcy4kID0gJCRbJDAtNF0uYWRkKHl5LkNhbGwoJCRbJDAtMl0pKTtcbmJyZWFrO1xuY2FzZSA5OnRoaXMuJCA9IHl5LkNoYWluKHl5LkV4aXN0ZW5jZSgkJFskMC0xXS51bndyYXAoKSkpO1xuYnJlYWs7XG5jYXNlIDEwOnRoaXMuJCA9IHl5LkNoYWluKHl5LkNhbGxbJ2xldCddKCQkWyQwLTNdLCAkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSAxMTp0aGlzLiQgPSB5eS5DaGFpbigkJFskMC0xXVswXS5tYWtlQ29tcHJlaGVuc2lvbigkJFskMC0yXSwgJCRbJDAtMV0uc2xpY2UoMSkpKTtcbmJyZWFrO1xuY2FzZSAxMjp0aGlzLiQgPSB5eS5DaGFpbigkJFskMC0yXVswXS5tYWtlQ29tcHJlaGVuc2lvbigkJFskMC0zXSwgJCRbJDAtMl0uc2xpY2UoMSkpKTtcbmJyZWFrO1xuY2FzZSAxMzp0aGlzLiQgPSB5eS5DaGFpbigkJFskMC0xXVswXS5hZGRPYmpDb21wKCkubWFrZUNvbXByZWhlbnNpb24oeXkuTCh5eWxpbmVubywgeXkuQXJyKCQkWyQwLTRdKSksICQkWyQwLTFdLnNsaWNlKDEpKSk7XG5icmVhaztcbmNhc2UgMTQ6dGhpcy4kID0geXkuQ2hhaW4oeXkuQmluYXJ5KCQkWyQwLTFdKSk7XG5icmVhaztcbmNhc2UgMTU6dGhpcy4kID0geXkuQ2hhaW4oeXkuQmluYXJ5KCQkWyQwLTJdLCB2b2lkIDgsICQkWyQwLTFdKSk7XG5icmVhaztcbmNhc2UgMTY6dGhpcy4kID0geXkuQ2hhaW4oeXkuQmluYXJ5KCQkWyQwLTFdLCAkJFskMC0yXSkpO1xuYnJlYWs7XG5jYXNlIDE3OnRoaXMuJCA9IHl5LkNoYWluKCchJyA9PT0gJCRbJDAtMV0uY2hhckF0KDApXG4gICAgICAgID8geXkuQmluYXJ5KCQkWyQwLTFdLnNsaWNlKDEpKS5pbnZlcnRJdCgpXG4gICAgICAgIDogeXkuQmluYXJ5KCQkWyQwLTFdKSk7XG5icmVhaztcbmNhc2UgMTg6dGhpcy4kID0geXkuQ2hhaW4oJyEnID09PSAkJFskMC0yXS5jaGFyQXQoMClcbiAgICAgICAgPyB5eS5CaW5hcnkoJCRbJDAtMl0uc2xpY2UoMSksIHZvaWQgOCwgJCRbJDAtMV0pLmludmVydEl0KClcbiAgICAgICAgOiB5eS5CaW5hcnkoJCRbJDAtMl0sIHZvaWQgOCwgJCRbJDAtMV0pKTtcbmJyZWFrO1xuY2FzZSAxOTp0aGlzLiQgPSB5eS5DaGFpbignIScgPT09ICQkWyQwLTFdLmNoYXJBdCgwKVxuICAgICAgICA/IHl5LkJpbmFyeSgkJFskMC0xXS5zbGljZSgxKSwgJCRbJDAtMl0pLmludmVydEl0KClcbiAgICAgICAgOiB5eS5CaW5hcnkoJCRbJDAtMV0sICQkWyQwLTJdKSk7XG5icmVhaztcbmNhc2UgMjA6dGhpcy4kID0geXkuQ2hhaW4oeXkuQmluYXJ5KCQkWyQwLTFdKSk7XG5icmVhaztcbmNhc2UgMjE6dGhpcy4kID0geXkuQ2hhaW4oeXkuQmluYXJ5KCQkWyQwLTVdLCB2b2lkIDgsICQkWyQwLTNdKSk7XG5icmVhaztcbmNhc2UgMjI6dGhpcy4kID0geXkuQ2hhaW4oeXkuQmluYXJ5KCQkWyQwLTFdKSk7XG5icmVhaztcbmNhc2UgMjM6dGhpcy4kID0geXkuQ2hhaW4oeXkuQmluYXJ5KCQkWyQwLTFdLCAkJFskMC00XSkpO1xuYnJlYWs7XG5jYXNlIDI0OlxuY2FzZSAyNTp0aGlzLiQgPSB5eS5DaGFpbih5eS5VbmFyeSgkJFskMC0xXSkpO1xuYnJlYWs7XG5jYXNlIDI2OnRoaXMuJCA9IHl5LkNoYWluKCQkWyQwLTJdKTtcbmJyZWFrO1xuY2FzZSAyNzp0aGlzLiQgPSB5eS5DaGFpbigkJFskMC0yXS5hZGQoeXkuQ2FsbChbJCRbJDAtNF1dKSkpO1xuYnJlYWs7XG5jYXNlIDI4OnRoaXMuJCA9IHl5LkNoYWluKHl5LkNoYWluKHl5LlZhcignZmxpcCQnKSkuYWRkKHl5LkNhbGwoWyQkWyQwLTNdXSkpKS5mbGlwSXQoKS5hZGQoeXkuQ2FsbChbJCRbJDAtMV1dKSk7XG5icmVhaztcbmNhc2UgMjk6dGhpcy4kID0geXkuQ2hhaW4obmV3IHl5LkZvcih7XG4gICAgICAgIGZyb206ICQkWyQwLTNdLFxuICAgICAgICBvcDogJCRbJDAtMl0sXG4gICAgICAgIHRvOiAkJFskMC0xXSxcbiAgICAgICAgaW5Db21wcmVoZW5zaW9uOiB0cnVlXG4gICAgICB9KSk7XG5icmVhaztcbmNhc2UgMzA6dGhpcy4kID0geXkuQ2hhaW4obmV3IHl5LkZvcih7XG4gICAgICAgIGZyb206ICQkWyQwLTVdLFxuICAgICAgICBvcDogJCRbJDAtNF0sXG4gICAgICAgIHRvOiAkJFskMC0zXSxcbiAgICAgICAgc3RlcDogJCRbJDAtMV0sXG4gICAgICAgIGluQ29tcHJlaGVuc2lvbjogdHJ1ZVxuICAgICAgfSkpO1xuYnJlYWs7XG5jYXNlIDMxOnRoaXMuJCA9IHl5LkNoYWluKG5ldyB5eS5Gb3Ioe1xuICAgICAgICBmcm9tOiB5eS5DaGFpbih5eS5MaXRlcmFsKDApKSxcbiAgICAgICAgb3A6ICQkWyQwLTJdLFxuICAgICAgICB0bzogJCRbJDAtMV0sXG4gICAgICAgIGluQ29tcHJlaGVuc2lvbjogdHJ1ZVxuICAgICAgfSkpO1xuYnJlYWs7XG5jYXNlIDMyOnRoaXMuJCA9IHl5LkNoYWluKG5ldyB5eS5Gb3Ioe1xuICAgICAgICBmcm9tOiB5eS5DaGFpbih5eS5MaXRlcmFsKDApKSxcbiAgICAgICAgb3A6ICQkWyQwLTRdLFxuICAgICAgICB0bzogJCRbJDAtM10sXG4gICAgICAgIHN0ZXA6ICQkWyQwLTFdLFxuICAgICAgICBpbkNvbXByZWhlbnNpb246IHRydWVcbiAgICAgIH0pKTtcbmJyZWFrO1xuY2FzZSAzMzp0aGlzLiQgPSB5eS5DaGFpbih5eS5TbGljZSh7XG4gICAgICAgIHR5cGU6ICQkWyQwLTJdLFxuICAgICAgICB0YXJnZXQ6ICQkWyQwLTZdLFxuICAgICAgICBmcm9tOiAkJFskMC0zXSxcbiAgICAgICAgdG86ICQkWyQwLTFdXG4gICAgICB9KSk7XG5icmVhaztcbmNhc2UgMzQ6dGhpcy4kID0geXkuQ2hhaW4oeXkuU2xpY2Uoe1xuICAgICAgICB0eXBlOiAkJFskMC0xXSxcbiAgICAgICAgdGFyZ2V0OiAkJFskMC01XSxcbiAgICAgICAgZnJvbTogJCRbJDAtMl1cbiAgICAgIH0pKTtcbmJyZWFrO1xuY2FzZSAzNTp0aGlzLiQgPSB5eS5DaGFpbih5eS5TbGljZSh7XG4gICAgICAgIHR5cGU6ICQkWyQwLTJdLFxuICAgICAgICB0YXJnZXQ6ICQkWyQwLTVdLFxuICAgICAgICB0bzogJCRbJDAtMV1cbiAgICAgIH0pKTtcbmJyZWFrO1xuY2FzZSAzNjp0aGlzLiQgPSB5eS5DaGFpbih5eS5TbGljZSh7XG4gICAgICAgIHR5cGU6ICQkWyQwLTFdLFxuICAgICAgICB0YXJnZXQ6ICQkWyQwLTRdXG4gICAgICB9KSk7XG5icmVhaztcbmNhc2UgMzc6dGhpcy4kID0geXkuQ2hhaW4oeXkuQ2FzY2FkZSgkJFskMC0xXSwgJCRbJDBdLCAnd2l0aCcpKTtcbmJyZWFrO1xuY2FzZSAzODp0aGlzLiQgPSB5eS5DaGFpbihuZXcgeXkuRm9yKHtcbiAgICAgICAga2luZDogJCRbJDAtMl0sXG4gICAgICAgIHNvdXJjZTogJCRbJDAtMV0sXG4gICAgICAgIGJvZHk6ICQkWyQwXSxcbiAgICAgICAgcmVmOiB0cnVlXG4gICAgICB9KS5hZGRCb2R5KCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDM5OnRoaXMuJCA9IHl5LkwoeXlsaW5lbm8sIHl5LkFycigkJFskMC0yXSkpO1xuYnJlYWs7XG5jYXNlIDQwOnRoaXMuJCA9IHl5LkwoeXlsaW5lbm8sIHl5Lk9iaigkJFskMC0yXSkpO1xuYnJlYWs7XG5jYXNlIDQxOnRoaXMuJCA9IHl5LkwoeXlsaW5lbm8sIHl5LkFycigkJFskMC0zXSkpLm5hbWVkKCQkWyQwXSk7XG5icmVhaztcbmNhc2UgNDI6dGhpcy4kID0geXkuTCh5eWxpbmVubywgeXkuT2JqKCQkWyQwLTNdKSkubmFtZWQoJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSA0NTp0aGlzLiQgPSB5eS5MKHl5bGluZW5vLCB5eS5LZXkoJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgNDY6dGhpcy4kID0geXkuTCh5eWxpbmVubywgeXkuTGl0ZXJhbCgkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSA0Nzp0aGlzLiQgPSBbXTtcbmJyZWFrO1xuY2FzZSA0ODp0aGlzLiQgPSBbJCRbJDBdXTtcbmJyZWFrO1xuY2FzZSA0OTp0aGlzLiQgPSAkJFskMC0yXS5jb25jYXQoJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSA1MDp0aGlzLiQgPSAkJFskMC0zXS5jb25jYXQoJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSA1MTp0aGlzLiQgPSAkJFskMC01XS5jb25jYXQoJCRbJDAtMl0pO1xuYnJlYWs7XG5jYXNlIDUzOnRoaXMuJCA9IHl5LlNwbGF0KCQkWyQwXSk7XG5icmVhaztcbmNhc2UgNTQ6dGhpcy4kID0geXkuU3BsYXQoeXkuTCh5eWxpbmVubywgeXkuQXJyKCkpLCB0cnVlKTtcbmJyZWFrO1xuY2FzZSA1Nzp0aGlzLiQgPSB5eS5MKHl5bGluZW5vLCB5eS5CbG9jaygpKTtcbmJyZWFrO1xuY2FzZSA1ODp0aGlzLiQgPSB5eS5CbG9jaygkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDU5OnRoaXMuJCA9ICQkWyQwLTJdLmFkZCgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDYyOnRoaXMuJCA9IHl5LkNhc2NhZGUoJCRbJDAtMV0sICQkWyQwXSwgJ2Nhc2NhZGUnKTtcbmJyZWFrO1xuY2FzZSA2Mzp0aGlzLiQgPSB5eS5DYWxsLmJhY2soJCRbJDAtNF0sICQkWyQwXSwgJCRbJDAtMV0uY2hhckF0KDEpID09PSAnficsICQkWyQwLTFdLmxlbmd0aCA9PT0gMyk7XG5icmVhaztcbmNhc2UgNjQ6dGhpcy4kID0geXkuTCh5eWxpbmVubywgeXkuSlMoJCRbJDBdLCB0cnVlLCB0cnVlKSk7XG5icmVhaztcbmNhc2UgNjU6dGhpcy4kID0geXkuTCh5eWxpbmVubywgeXkuVGhyb3coeXkuSlMoXCJFcnJvcigndW5pbXBsZW1lbnRlZCcpXCIpKSk7XG5icmVhaztcbmNhc2UgNjY6dGhpcy4kID0geXkuUmVxdWlyZSgkJFskMF0udW53cmFwKCkpO1xuYnJlYWs7XG5jYXNlIDY3OnRoaXMuJCA9ICQkWyQwLTFdO1xuYnJlYWs7XG5jYXNlIDY4OnRoaXMuJCA9IHl5LkltcG9ydCh5eS5VbmFyeSgnXl4nLCAkJFskMC0yXSwge1xuICAgICAgICBwcmVjOiAneXkuVU5BUlknXG4gICAgICB9KSwgJCRbJDBdLCBmYWxzZSk7XG5icmVhaztcbmNhc2UgNjk6dGhpcy4kID0geXkuSW1wb3J0KHl5LlVuYXJ5KCdeXicsICQkWyQwLTJdLCB7XG4gICAgICAgIHByZWM6ICd5eS5VTkFSWSdcbiAgICAgIH0pLCAkJFskMF0udW53cmFwKCksIGZhbHNlKTtcbmJyZWFrO1xuY2FzZSA3MDp0aGlzLiQgPSAkJFskMC0yXS5hZGQoeXkuQ2FsbChbJCRbJDAtNF0sICQkWyQwXV0pKTtcbmJyZWFrO1xuY2FzZSA3MTp0aGlzLiQgPSAkJFskMF0udW53cmFwKCk7XG5icmVhaztcbmNhc2UgNzI6dGhpcy4kID0geXkuQXNzaWduKCQkWyQwLTJdLnVud3JhcCgpLCAkJFskMF0sICQkWyQwLTFdKTtcbmJyZWFrO1xuY2FzZSA3Mzp0aGlzLiQgPSB5eS5Bc3NpZ24oJCRbJDAtNV0udW53cmFwKCksIHl5LkFyci5tYXliZSgkJFskMC0yXSksICQkWyQwLTRdKTtcbmJyZWFrO1xuY2FzZSA3NDp0aGlzLiQgPSB5eS5JbXBvcnQoJCRbJDAtMl0sICQkWyQwXSwgJCRbJDAtMV0gPT09ICc8PDw8Jyk7XG5icmVhaztcbmNhc2UgNzU6dGhpcy4kID0geXkuSW1wb3J0KCQkWyQwLTVdLCB5eS5BcnIubWF5YmUoJCRbJDAtMl0pLCAkJFskMC00XSA9PT0gJzw8PDwnKTtcbmJyZWFrO1xuY2FzZSA3Njp0aGlzLiQgPSB5eS5VbmFyeSgkJFskMC0xXSwgJCRbJDBdLnVud3JhcCgpKTtcbmJyZWFrO1xuY2FzZSA3Nzp0aGlzLiQgPSB5eS5VbmFyeSgkJFskMF0sICQkWyQwLTFdLnVud3JhcCgpLCB0cnVlKTtcbmJyZWFrO1xuY2FzZSA3ODpcbmNhc2UgNzk6XG5jYXNlIDgwOnRoaXMuJCA9IHl5LkFzc2lnbigkJFskMF0udW53cmFwKCksIFskJFskMC0yXV0sICQkWyQwLTFdKTtcbmJyZWFrO1xuY2FzZSA4MTpcbmNhc2UgODI6XG5jYXNlIDgzOlxuY2FzZSA4NDp0aGlzLiQgPSB5eS5VbmFyeSgkJFskMC0xXSwgJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSA4NTp0aGlzLiQgPSB5eS5VbmFyeSgkJFskMC00XSwgeXkuQXJyLm1heWJlKCQkWyQwLTJdKSk7XG5icmVhaztcbmNhc2UgODY6XG5jYXNlIDg3OlxuY2FzZSA4ODpcbmNhc2UgODk6XG5jYXNlIDkwOlxuY2FzZSA5MTpcbmNhc2UgOTI6XG5jYXNlIDkzOlxuY2FzZSA5NDp0aGlzLiQgPSB5eS5CaW5hcnkoJCRbJDAtMV0sICQkWyQwLTJdLCAkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDk1OnRoaXMuJCA9ICchJyA9PT0gJCRbJDAtMV0uY2hhckF0KDApXG4gICAgICAgID8geXkuQmluYXJ5KCQkWyQwLTFdLnNsaWNlKDEpLCAkJFskMC0yXSwgJCRbJDBdKS5pbnZlcnQoKVxuICAgICAgICA6IHl5LkJpbmFyeSgkJFskMC0xXSwgJCRbJDAtMl0sICQkWyQwXSk7XG5icmVhaztcbmNhc2UgOTY6dGhpcy4kID0geXkuQmxvY2soJCRbJDAtMl0pLnBpcGUoJCRbJDBdLCAkJFskMC0xXSk7XG5icmVhaztcbmNhc2UgOTc6dGhpcy4kID0geXkuQmxvY2soJCRbJDAtMl0pLnBpcGUoWyQkWyQwXV0sICQkWyQwLTFdKTtcbmJyZWFrO1xuY2FzZSA5ODp0aGlzLiQgPSB5eS5FeGlzdGVuY2UoJCRbJDAtMV0udW53cmFwKCksIHRydWUpO1xuYnJlYWs7XG5jYXNlIDk5OnRoaXMuJCA9IHl5LkwoeXlsaW5lbm8sIHl5LkZ1bigkJFskMC00XSwgJCRbJDBdLCAvfi8udGVzdCgkJFskMC0xXSksIC8tLXx+fi8udGVzdCgkJFskMC0xXSksIC8hLy50ZXN0KCQkWyQwLTFdKSwgL1xcKi8udGVzdCgkJFskMC0xXSkpKTtcbmJyZWFrO1xuY2FzZSAxMDA6dGhpcy4kID0geXkuTCh5eWxpbmVubywgeXkuRnVuKCQkWyQwLTNdLCAkJFskMF0pLm5hbWVkKCQkWyQwLTVdKSk7XG5icmVhaztcbmNhc2UgMTAxOnRoaXMuJCA9IHl5LkwoeXlsaW5lbm8sIHl5LkZ1bigkJFskMC0zXSwgJCRbJDBdLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCB0cnVlKS5uYW1lZCgkJFskMC01XSkpO1xuYnJlYWs7XG5jYXNlIDEwMjp0aGlzLiQgPSB5eS5JZigkJFskMC0yXSwgJCRbJDAtMV0sICQkWyQwLTNdID09PSAndW5sZXNzJykuYWRkRWxzZSgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDEwMzp0aGlzLiQgPSB5eS5JZigkJFskMF0sICQkWyQwLTJdLCAkJFskMC0xXSA9PT0gJ3VubGVzcycpO1xuYnJlYWs7XG5jYXNlIDEwNDp0aGlzLiQgPSAkJFskMC0yXS5hZGRCb2R5KCQkWyQwLTFdKS5hZGRFbHNlKCQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTA1OnRoaXMuJCA9IG5ldyB5eS5XaGlsZSgkJFskMF0sICQkWyQwLTFdID09PSAndW50aWwnLCB0cnVlKS5hZGRCb2R5KCQkWyQwLTJdKTtcbmJyZWFrO1xuY2FzZSAxMDY6dGhpcy4kID0gbmV3IHl5LldoaWxlKCQkWyQwLTJdLCAkJFskMC0zXSA9PT0gJ3VudGlsJywgdHJ1ZSkuYWRkR3VhcmQoJCRbJDBdKS5hZGRCb2R5KCQkWyQwLTRdKTtcbmJyZWFrO1xuY2FzZSAxMDc6dGhpcy4kID0geXkuSnVtcFskJFskMC0xXV0oJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSAxMDg6dGhpcy4kID0geXkuSnVtcFskJFskMC00XV0oeXkuQXJyLm1heWJlKCQkWyQwLTJdKSk7XG5icmVhaztcbmNhc2UgMTA5OnRoaXMuJCA9IHl5LkwoeXlsaW5lbm8sIHl5Lkp1bXBbJCRbJDBdXSgpKTtcbmJyZWFrO1xuY2FzZSAxMTA6dGhpcy4kID0geXkuTCh5eWxpbmVubywgbmV3IHl5Lkp1bXAoJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTExOnRoaXMuJCA9IHl5LkwoeXlsaW5lbm8sIG5ldyB5eS5KdW1wKCQkWyQwLTFdLCAkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSAxMTI6dGhpcy4kID0gbmV3IHl5LlN3aXRjaCgkJFskMC0yXSwgJCRbJDAtMV0sICQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTEzOlxuY2FzZSAxMTQ6dGhpcy4kID0gbmV3IHl5LlN3aXRjaCgkJFskMC00XSwgJCRbJDAtM10sICQkWyQwLTJdLCAkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDExNTp0aGlzLiQgPSBuZXcgeXkuU3dpdGNoKCQkWyQwLTFdLCBudWxsLCAkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDExNjpcbmNhc2UgMTE3OnRoaXMuJCA9IG5ldyB5eS5Td2l0Y2goJCRbJDAtM10sIG51bGwsICQkWyQwLTJdLCAkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDExODp0aGlzLiQgPSBuZXcgeXkuU3dpdGNoKCQkWyQwLTFdLCBudWxsLCBbXSwgJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSAxMTk6dGhpcy4kID0gbmV3IHl5LlRyeSgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDEyMDp0aGlzLiQgPSBuZXcgeXkuVHJ5KCQkWyQwLTJdLCB2b2lkIDgsICQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTIxOnRoaXMuJCA9IG5ldyB5eS5UcnkoJCRbJDAtNF0sIHZvaWQgOCwgJCRbJDAtMl0sICQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTIyOnRoaXMuJCA9IG5ldyB5eS5UcnkoJCRbJDAtM10sICQkWyQwLTFdLCAkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDEyMzp0aGlzLiQgPSBuZXcgeXkuVHJ5KCQkWyQwLTVdLCAkJFskMC0zXSwgJCRbJDAtMl0sICQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTI0OnRoaXMuJCA9IG5ldyB5eS5UcnkoJCRbJDAtMl0sIHZvaWQgOCwgdm9pZCA4LCAkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDEyNTp0aGlzLiQgPSBuZXcgeXkuQ2xhc3Moe1xuICAgICAgICB0aXRsZTogJCRbJDAtM10udW53cmFwKCksXG4gICAgICAgIHN1cDogJCRbJDAtMl0sXG4gICAgICAgIG1peGluczogJCRbJDAtMV0sXG4gICAgICAgIGJvZHk6ICQkWyQwXVxuICAgICAgfSk7XG5icmVhaztcbmNhc2UgMTI2OnRoaXMuJCA9IG5ldyB5eS5DbGFzcyh7XG4gICAgICAgIHN1cDogJCRbJDAtMl0sXG4gICAgICAgIG1peGluczogJCRbJDAtMV0sXG4gICAgICAgIGJvZHk6ICQkWyQwXVxuICAgICAgfSk7XG5icmVhaztcbmNhc2UgMTI3OnRoaXMuJCA9IHl5LlV0aWwuRXh0ZW5kcygkJFskMC0yXS51bndyYXAoKSwgJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSAxMjg6XG5jYXNlIDEyOTp0aGlzLiQgPSBuZXcgeXkuTGFiZWwoJCRbJDAtMV0sICQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTMwOnRoaXMuJCA9IHl5LkRlY2woJCRbJDAtNF0sICQkWyQwLTJdLCB5eWxpbmVubyArIDEpO1xuYnJlYWs7XG5jYXNlIDEzMTp0aGlzLiQgPSBbJCRbJDBdXTtcbmJyZWFrO1xuY2FzZSAxMzI6dGhpcy4kID0gJCRbJDAtMl0uY29uY2F0KCQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTM0OnRoaXMuJCA9IHl5LlByb3AoeXkuTCh5eWxpbmVubywgeXkuS2V5KCQkWyQwXSwgJCRbJDBdICE9PSAnYXJndW1lbnRzJyAmJiAkJFskMF0gIT09ICdldmFsJykpLCB5eS5MKHl5bGluZW5vLCB5eS5MaXRlcmFsKCQkWyQwXSkpKTtcbmJyZWFrO1xuY2FzZSAxMzU6dGhpcy4kID0geXkuUHJvcCgkJFskMF0sIHl5LkNoYWluKCQkWyQwLTJdLCBbeXkuSW5kZXgoJCRbJDBdLCAkJFskMC0xXSldKSk7XG5icmVhaztcbmNhc2UgMTM2OnRoaXMuJCA9IHl5LlByb3AoJCRbJDBdLCB5eS5DaGFpbih5eS5MKHl5bGluZW5vLCB5eS5MaXRlcmFsKCQkWyQwLTJdKSksIFt5eS5JbmRleCgkJFskMF0sICQkWyQwLTFdKV0pKTtcbmJyZWFrO1xuY2FzZSAxMzc6dGhpcy4kID0geXkuUHJvcCh5eS5MKHl5bGluZW5vLCB5eS5LZXkoJCRbJDBdKSksIHl5LkwoeXlsaW5lbm8sIHl5Lk9iaigkJFskMC0zXSkubmFtZWQoJCRbJDBdKSkpO1xuYnJlYWs7XG5jYXNlIDEzODp0aGlzLiQgPSB5eS5Qcm9wKHl5LkwoeXlsaW5lbm8sIHl5LktleSgkJFskMF0pKSwgeXkuTCh5eWxpbmVubywgeXkuQXJyKCQkWyQwLTNdKS5uYW1lZCgkJFskMF0pKSk7XG5icmVhaztcbmNhc2UgMTM5OnRoaXMuJCA9IHl5LlByb3AoJCRbJDAtMl0sICQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTQwOnRoaXMuJCA9IHl5LlByb3AoJCRbJDAtNV0sIHl5LkFyci5tYXliZSgkJFskMC0yXSkpO1xuYnJlYWs7XG5jYXNlIDE0Mjp0aGlzLiQgPSB5eS5CaW5hcnkoJCRbJDAtMV0sICQkWyQwLTJdLCAkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDE0Mzp0aGlzLiQgPSB5eS5CaW5hcnkoJCRbJDAtMV0sICQkWyQwLTJdLCAkJFskMF0sIHRydWUpO1xuYnJlYWs7XG5jYXNlIDE0NDp0aGlzLiQgPSB5eS5Qcm9wKCQkWyQwXS5tYXliZUtleSgpLCB5eS5MKHl5bGluZW5vLCB5eS5MaXRlcmFsKCQkWyQwLTFdID09PSAnKycpKSk7XG5icmVhaztcbmNhc2UgMTQ1OnRoaXMuJCA9IHl5LlByb3AoeXkuTCh5eWxpbmVubywgeXkuS2V5KCQkWyQwXSwgdHJ1ZSkpLCB5eS5MKHl5bGluZW5vLCB5eS5MaXRlcmFsKCQkWyQwLTFdID09PSAnKycpKSk7XG5icmVhaztcbmNhc2UgMTQ2OnRoaXMuJCA9IHl5LlNwbGF0KCQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTQ3OnRoaXMuJCA9IHl5LkwoeXlsaW5lbm8sIHl5LkpTKCQkWyQwXSwgdHJ1ZSwgdHJ1ZSkpO1xuYnJlYWs7XG5jYXNlIDE0ODp0aGlzLiQgPSBbXTtcbmJyZWFrO1xuY2FzZSAxNDk6dGhpcy4kID0gWyQkWyQwXV07XG5icmVhaztcbmNhc2UgMTUwOnRoaXMuJCA9ICQkWyQwLTJdLmNvbmNhdCgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDE1MTp0aGlzLiQgPSAkJFskMC0zXS5jb25jYXQoJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSAxNTI6dGhpcy4kID0gJCRbJDAtMl07XG5icmVhaztcbmNhc2UgMTUzOnRoaXMuJCA9IHl5LlBhcmVucygkJFskMC0xXS5jaG9tcCgpLnVud3JhcCgpLCBmYWxzZSwgJCRbJDAtMl0gPT09ICdcIicpO1xuYnJlYWs7XG5jYXNlIDE1Njp0aGlzLiQgPSAkJFskMC0yXS5hZGQoJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSAxNTc6dGhpcy4kID0gbnVsbDtcbmJyZWFrO1xuY2FzZSAxNTg6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDE1OTp0aGlzLiQgPSB5eS5JZigkJFskMC0yXSwgJCRbJDAtMV0sICQkWyQwLTNdID09PSAndW5sZXNzJykuYWRkRWxzZSgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDE2MDp0aGlzLiQgPSBuZXcgeXkuRm9yKHtcbiAgICAgICAga2luZDogJCRbJDAtM10sXG4gICAgICAgIGl0ZW06ICQkWyQwLTJdLnVud3JhcCgpLFxuICAgICAgICBpbmRleDogJCRbJDAtMV0sXG4gICAgICAgIHNvdXJjZTogJCRbJDBdXG4gICAgICB9KTtcbmJyZWFrO1xuY2FzZSAxNjE6dGhpcy4kID0gbmV3IHl5LkZvcih7XG4gICAgICAgIGtpbmQ6ICQkWyQwLTVdLFxuICAgICAgICBpdGVtOiAkJFskMC00XS51bndyYXAoKSxcbiAgICAgICAgaW5kZXg6ICQkWyQwLTNdLFxuICAgICAgICBzb3VyY2U6ICQkWyQwLTJdLFxuICAgICAgICBndWFyZDogJCRbJDBdXG4gICAgICB9KTtcbmJyZWFrO1xuY2FzZSAxNjI6dGhpcy4kID0gbmV3IHl5LkZvcih7XG4gICAgICAgIGtpbmQ6ICQkWyQwLTVdLFxuICAgICAgICBpdGVtOiAkJFskMC00XS51bndyYXAoKSxcbiAgICAgICAgaW5kZXg6ICQkWyQwLTNdLFxuICAgICAgICBzb3VyY2U6ICQkWyQwLTJdLFxuICAgICAgICBzdGVwOiAkJFskMF1cbiAgICAgIH0pO1xuYnJlYWs7XG5jYXNlIDE2Mzp0aGlzLiQgPSBuZXcgeXkuRm9yKHtcbiAgICAgICAga2luZDogJCRbJDAtN10sXG4gICAgICAgIGl0ZW06ICQkWyQwLTZdLnVud3JhcCgpLFxuICAgICAgICBpbmRleDogJCRbJDAtNV0sXG4gICAgICAgIHNvdXJjZTogJCRbJDAtNF0sXG4gICAgICAgIHN0ZXA6ICQkWyQwLTJdLFxuICAgICAgICBndWFyZDogJCRbJDBdXG4gICAgICB9KTtcbmJyZWFrO1xuY2FzZSAxNjQ6dGhpcy4kID0gbmV3IHl5LkZvcih7XG4gICAgICAgIGtpbmQ6ICQkWyQwLTFdLFxuICAgICAgICBzb3VyY2U6ICQkWyQwXSxcbiAgICAgICAgcmVmOiB0cnVlXG4gICAgICB9KTtcbmJyZWFrO1xuY2FzZSAxNjU6dGhpcy4kID0gbmV3IHl5LkZvcih7XG4gICAgICAgIGtpbmQ6ICQkWyQwLTNdLFxuICAgICAgICBzb3VyY2U6ICQkWyQwLTJdLFxuICAgICAgICByZWY6IHRydWUsXG4gICAgICAgIGd1YXJkOiAkJFskMF1cbiAgICAgIH0pO1xuYnJlYWs7XG5jYXNlIDE2Njp0aGlzLiQgPSBuZXcgeXkuRm9yKHtcbiAgICAgICAga2luZDogJCRbJDAtM10sXG4gICAgICAgIHNvdXJjZTogJCRbJDAtMl0sXG4gICAgICAgIHJlZjogdHJ1ZSxcbiAgICAgICAgc3RlcDogJCRbJDBdXG4gICAgICB9KTtcbmJyZWFrO1xuY2FzZSAxNjc6dGhpcy4kID0gbmV3IHl5LkZvcih7XG4gICAgICAgIGtpbmQ6ICQkWyQwLTVdLFxuICAgICAgICBzb3VyY2U6ICQkWyQwLTRdLFxuICAgICAgICByZWY6IHRydWUsXG4gICAgICAgIHN0ZXA6ICQkWyQwLTJdLFxuICAgICAgICBndWFyZDogJCRbJDBdXG4gICAgICB9KTtcbmJyZWFrO1xuY2FzZSAxNjg6dGhpcy4kID0gbmV3IHl5LkZvcih7XG4gICAgICAgIG9iamVjdDogdHJ1ZSxcbiAgICAgICAga2luZDogJCRbJDAtM10sXG4gICAgICAgIGluZGV4OiAkJFskMC0yXSxcbiAgICAgICAgc291cmNlOiAkJFskMF1cbiAgICAgIH0pO1xuYnJlYWs7XG5jYXNlIDE2OTp0aGlzLiQgPSBuZXcgeXkuRm9yKHtcbiAgICAgICAgb2JqZWN0OiB0cnVlLFxuICAgICAgICBraW5kOiAkJFskMC01XSxcbiAgICAgICAgaW5kZXg6ICQkWyQwLTRdLFxuICAgICAgICBzb3VyY2U6ICQkWyQwLTJdLFxuICAgICAgICBndWFyZDogJCRbJDBdXG4gICAgICB9KTtcbmJyZWFrO1xuY2FzZSAxNzA6dGhpcy4kID0gbmV3IHl5LkZvcih7XG4gICAgICAgIG9iamVjdDogdHJ1ZSxcbiAgICAgICAga2luZDogJCRbJDAtNV0sXG4gICAgICAgIGluZGV4OiAkJFskMC00XSxcbiAgICAgICAgaXRlbTogJCRbJDAtMl0udW53cmFwKCksXG4gICAgICAgIHNvdXJjZTogJCRbJDBdXG4gICAgICB9KTtcbmJyZWFrO1xuY2FzZSAxNzE6dGhpcy4kID0gbmV3IHl5LkZvcih7XG4gICAgICAgIG9iamVjdDogdHJ1ZSxcbiAgICAgICAga2luZDogJCRbJDAtN10sXG4gICAgICAgIGluZGV4OiAkJFskMC02XSxcbiAgICAgICAgaXRlbTogJCRbJDAtNF0udW53cmFwKCksXG4gICAgICAgIHNvdXJjZTogJCRbJDAtMl0sXG4gICAgICAgIGd1YXJkOiAkJFskMF1cbiAgICAgIH0pO1xuYnJlYWs7XG5jYXNlIDE3Mjp0aGlzLiQgPSBuZXcgeXkuRm9yKHtcbiAgICAgICAga2luZDogJCRbJDAtNV0sXG4gICAgICAgIGluZGV4OiAkJFskMC00XSxcbiAgICAgICAgZnJvbTogJCRbJDAtMl0sXG4gICAgICAgIG9wOiAkJFskMC0xXSxcbiAgICAgICAgdG86ICQkWyQwXVxuICAgICAgfSk7XG5icmVhaztcbmNhc2UgMTczOnRoaXMuJCA9IG5ldyB5eS5Gb3Ioe1xuICAgICAgICBraW5kOiAkJFskMC00XSxcbiAgICAgICAgZnJvbTogJCRbJDAtMl0sXG4gICAgICAgIG9wOiAkJFskMC0xXSxcbiAgICAgICAgdG86ICQkWyQwXVxuICAgICAgfSk7XG5icmVhaztcbmNhc2UgMTc0OnRoaXMuJCA9IG5ldyB5eS5Gb3Ioe1xuICAgICAgICBraW5kOiAkJFskMC03XSxcbiAgICAgICAgaW5kZXg6ICQkWyQwLTZdLFxuICAgICAgICBmcm9tOiAkJFskMC00XSxcbiAgICAgICAgb3A6ICQkWyQwLTNdLFxuICAgICAgICB0bzogJCRbJDAtMl0sXG4gICAgICAgIGd1YXJkOiAkJFskMF1cbiAgICAgIH0pO1xuYnJlYWs7XG5jYXNlIDE3NTp0aGlzLiQgPSBuZXcgeXkuRm9yKHtcbiAgICAgICAga2luZDogJCRbJDAtNl0sXG4gICAgICAgIGZyb206ICQkWyQwLTRdLFxuICAgICAgICBvcDogJCRbJDAtM10sXG4gICAgICAgIHRvOiAkJFskMC0yXSxcbiAgICAgICAgZ3VhcmQ6ICQkWyQwXVxuICAgICAgfSk7XG5icmVhaztcbmNhc2UgMTc2OnRoaXMuJCA9IG5ldyB5eS5Gb3Ioe1xuICAgICAgICBraW5kOiAkJFskMC03XSxcbiAgICAgICAgaW5kZXg6ICQkWyQwLTZdLFxuICAgICAgICBmcm9tOiAkJFskMC00XSxcbiAgICAgICAgb3A6ICQkWyQwLTNdLFxuICAgICAgICB0bzogJCRbJDAtMl0sXG4gICAgICAgIHN0ZXA6ICQkWyQwXVxuICAgICAgfSk7XG5icmVhaztcbmNhc2UgMTc3OnRoaXMuJCA9IG5ldyB5eS5Gb3Ioe1xuICAgICAgICBraW5kOiAkJFskMC05XSxcbiAgICAgICAgaW5kZXg6ICQkWyQwLThdLFxuICAgICAgICBmcm9tOiAkJFskMC02XSxcbiAgICAgICAgb3A6ICQkWyQwLTVdLFxuICAgICAgICB0bzogJCRbJDAtNF0sXG4gICAgICAgIHN0ZXA6ICQkWyQwLTJdLFxuICAgICAgICBndWFyZDogJCRbJDBdXG4gICAgICB9KTtcbmJyZWFrO1xuY2FzZSAxNzg6dGhpcy4kID0gbmV3IHl5LkZvcih7XG4gICAgICAgIGtpbmQ6ICQkWyQwLTldLFxuICAgICAgICBpbmRleDogJCRbJDAtOF0sXG4gICAgICAgIGZyb206ICQkWyQwLTZdLFxuICAgICAgICBvcDogJCRbJDAtNV0sXG4gICAgICAgIHRvOiAkJFskMC00XSxcbiAgICAgICAgZ3VhcmQ6ICQkWyQwLTJdLFxuICAgICAgICBzdGVwOiAkJFskMF1cbiAgICAgIH0pO1xuYnJlYWs7XG5jYXNlIDE3OTp0aGlzLiQgPSBuZXcgeXkuV2hpbGUoJCRbJDBdLCAkJFskMC0xXSA9PT0gJ3VudGlsJyk7XG5icmVhaztcbmNhc2UgMTgwOnRoaXMuJCA9IG5ldyB5eS5XaGlsZSgkJFskMC0yXSwgJCRbJDAtM10gPT09ICd1bnRpbCcpLmFkZEd1YXJkKCQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTgxOnRoaXMuJCA9IG5ldyB5eS5XaGlsZSgkJFskMC0yXSwgJCRbJDAtM10gPT09ICd1bnRpbCcsICQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTgyOnRoaXMuJCA9IG5ldyB5eS5XaGlsZSgkJFskMC00XSwgJCRbJDAtNV0gPT09ICd1bnRpbCcsICQkWyQwLTJdKS5hZGRHdWFyZCgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDE4Mzp0aGlzLiQgPSBbJCRbJDBdXTtcbmJyZWFrO1xuY2FzZSAxODQ6dGhpcy4kID0gJCRbJDAtMV0uY29uY2F0KCQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTg1OlxuY2FzZSAxODY6dGhpcy4kID0gJCRbJDAtMl0uY29uY2F0KCQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTg3OnRoaXMuJCA9IFtuZXcgeXkuQ2FzZSgkJFskMC0xXSwgJCRbJDBdKV07XG5icmVhaztcbmNhc2UgMTg4OnRoaXMuJCA9ICQkWyQwLTNdLmNvbmNhdChuZXcgeXkuQ2FzZSgkJFskMC0xXSwgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTg5OnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAxOTA6dGhpcy4kID0gbnVsbDtcbmJyZWFrO1xuY2FzZSAxOTE6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDE5Mjp0aGlzLiQgPSBudWxsO1xuYnJlYWs7XG5jYXNlIDE5MzpyZXR1cm4gdGhpcy4kXG59XG59LFxudGFibGU6IFt7MTpbMiw1N10sMzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE3OjQsMTg6WzEsMzZdLDE5OjcsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw4XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDQ1OlsyLDU3XSw0NjpbMSw2XSw0NzpbMSwxMF0sNDg6Myw0OTo1LDUxOlsxLDldLDUyOlsxLDExXSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldLDk5OjIsMTA0OjF9LHsxOlszXX0sezE6WzIsMTkzXX0sezE6WzIsMTU0XSwyNzpbMiwxNTRdLDQ1OlsxLDQyXX0sezE6WzIsMTU1XSwyNzpbMiwxNTVdLDQ1OlsxLDQzXX0sezE6WzIsNThdLDIyOlsyLDU4XSwyNzpbMiw1OF0sNDU6WzIsNThdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTo3LDIyOlsyLDU3XSwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDhdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNDU6WzIsNTddLDQ3OlsxLDEwXSw0ODo0NCw0OTo1LDUxOlsxLDldLDUyOlsxLDExXSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MTpbMiw2MV0sMTc6NDUsMjI6WzIsNjFdLDI3OlsyLDYxXSwzNTpbMSw0Nl0sNDU6WzIsNjFdLDQ2OlsxLDZdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxMjo2MSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjYzLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMyOlsyLDQ3XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDQzOjYyLDQ0OlsyLDQ3XSw0NTpbMiw0N10sNDY6WzIsNDddLDQ3OlsxLDY0XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MTpbMiw2NF0sMjI6WzIsNjRdLDI3OlsyLDY0XSw0NTpbMiw2NF19LHsxOlsyLDY1XSwyMjpbMiw2NV0sMjc6WzIsNjVdLDQ1OlsyLDY1XX0sezM6NjYsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMjM6WzEsMzddLDI1OlsxLDM4XSwzODpbMSwzOV0sMzk6WzEsNjddfSx7MTpbMiw3MV0sOTpbMSw3M10sMTE6WzEsNzRdLDE0OlsyLDcxXSwxNTpbMSw3NV0sMjE6WzIsNzFdLDIyOlsyLDcxXSwyNDpbMiw3MV0sMjY6WzIsNzFdLDI3OlsyLDcxXSwyODpbMiw3MV0sMzI6WzIsNzFdLDM0OlsxLDcwXSwzNTpbMiw3MV0sMzY6WzIsNzFdLDM3OlsyLDcxXSwzOTpbMiw3MV0sNDQ6WzIsNzFdLDQ1OlsyLDcxXSw0NjpbMiw3MV0sNTM6WzEsNjhdLDU0OlsxLDY5XSw1NTpbMiw3MV0sNTY6WzIsNzFdLDU5OlsyLDcxXSw2MDpbMiw3MV0sNjE6WzIsNzFdLDYyOlsyLDcxXSw2MzpbMiw3MV0sNjQ6WzIsNzFdLDY1OlsyLDcxXSw2NjpbMiw3MV0sNjc6WzIsNzFdLDY4OlsyLDcxXSw2OTpbMiw3MV0sNzA6WzEsNzFdLDc2OlsyLDcxXSw3OTpbMiw3MV0sODA6WzIsNzFdLDk0OlsxLDcyXSwxMDM6WzIsNzFdfSx7Mzo3Niw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwyMzpbMSwzN10sMjU6WzEsMzhdLDM4OlsxLDM5XSwzOTpbMSw2N119LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5Ojc4LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNDY6WzEsNzldLDU0OlsxLDc3XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTo4MSwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU0OlsxLDgwXSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTo4MywyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU0OlsxLDgyXSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTo4NCwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxMTpbMSw4NV19LHsxMTpbMSw4Nl19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5Ojg3LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezE3Ojg4LDQ2OlsxLDZdfSx7MTc6ODksNDY6WzEsNl19LHsxOlsyLDEwOV0sMzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTQ6WzIsMTA5XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjkwLDIxOlsyLDEwOV0sMjI6WzIsMTA5XSwyMzpbMSwzN10sMjQ6WzIsMTA5XSwyNTpbMSwzOF0sMjY6WzIsMTA5XSwyNzpbMiwxMDldLDI4OlsyLDEwOV0sMzE6WzEsNjVdLDMyOlsyLDEwOV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzNTpbMiwxMDldLDM2OlsyLDEwOV0sMzc6WzIsMTA5XSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw0NDpbMiwxMDldLDQ1OlsyLDEwOV0sNDY6WzEsOTFdLDU1OlsyLDEwOV0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNTk6WzIsMTA5XSw2MDpbMiwxMDldLDYxOlsyLDEwOV0sNjI6WzIsMTA5XSw2MzpbMiwxMDldLDY0OlsyLDEwOV0sNjU6WzIsMTA5XSw2NjpbMiwxMDldLDY3OlsyLDEwOV0sNjg6WzIsMTA5XSw2OTpbMiwxMDldLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc2OlsyLDEwOV0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MDpbMiwxMDldLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldLDEwMzpbMiwxMDldfSx7MTpbMiwxMTBdLDQ6WzEsOTJdLDE0OlsyLDExMF0sMjE6WzIsMTEwXSwyMjpbMiwxMTBdLDI0OlsyLDExMF0sMjY6WzIsMTEwXSwyNzpbMiwxMTBdLDI4OlsyLDExMF0sMzI6WzIsMTEwXSwzNTpbMiwxMTBdLDM2OlsyLDExMF0sMzc6WzIsMTEwXSwzOTpbMiwxMTBdLDQ0OlsyLDExMF0sNDU6WzIsMTEwXSw0NjpbMiwxMTBdLDU1OlsyLDExMF0sNTY6WzIsMTEwXSw1OTpbMiwxMTBdLDYwOlsyLDExMF0sNjE6WzIsMTEwXSw2MjpbMiwxMTBdLDYzOlsyLDExMF0sNjQ6WzIsMTEwXSw2NTpbMiwxMTBdLDY2OlsyLDExMF0sNjc6WzIsMTEwXSw2ODpbMiwxMTBdLDY5OlsyLDExMF0sNzY6WzIsMTEwXSw3OTpbMiwxMTBdLDgwOlsyLDExMF0sMTAzOlsyLDExMF19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTc6OTUsMTg6WzEsMzZdLDE5Ojk2LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNDY6WzEsNl0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MDpbMSw5N10sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODQ6OTMsODU6OTQsODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxNzo5OCw0NjpbMSw2XX0sezM6OTksNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMjM6WzEsMzddLDI1OlsxLDM4XSwzODpbMSwzOV0sMzk6WzEsNjddLDQ2OlsyLDE5MF0sOTI6MTAwLDk0OlsxLDEwMV0sMTAzOlsyLDE5MF19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTc6MTAzLDE4OlsxLDM2XSwxOToxMDIsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw0NjpbMSw2XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7NDY6WzEsMTA0XX0sezE6WzIsMV0sOTpbMiwxXSwxMTpbMiwxXSwxNDpbMiwxXSwxNTpbMiwxXSwyMTpbMiwxXSwyMjpbMiwxXSwyNDpbMiwxXSwyNjpbMiwxXSwyNzpbMiwxXSwyODpbMiwxXSwzMjpbMiwxXSwzNDpbMiwxXSwzNTpbMiwxXSwzNjpbMiwxXSwzNzpbMiwxXSwzOTpbMiwxXSw0NDpbMiwxXSw0NTpbMiwxXSw0NjpbMiwxXSw1MzpbMiwxXSw1NDpbMiwxXSw1NTpbMiwxXSw1NjpbMiwxXSw1OTpbMiwxXSw2MDpbMiwxXSw2MTpbMiwxXSw2MjpbMiwxXSw2MzpbMiwxXSw2NDpbMiwxXSw2NTpbMiwxXSw2NjpbMiwxXSw2NzpbMiwxXSw2ODpbMiwxXSw2OTpbMiwxXSw3MDpbMiwxXSw3NjpbMiwxXSw3OTpbMiwxXSw4MDpbMiwxXSw5NDpbMiwxXSwxMDE6WzIsMV0sMTAzOlsyLDFdfSx7MTpbMiwyXSw5OlsyLDJdLDExOlsyLDJdLDE0OlsyLDJdLDE1OlsyLDJdLDIxOlsyLDJdLDIyOlsyLDJdLDI0OlsyLDJdLDI2OlsyLDJdLDI3OlsyLDJdLDI4OlsyLDJdLDMyOlsyLDJdLDM0OlsyLDJdLDM1OlsyLDJdLDM2OlsyLDJdLDM3OlsyLDJdLDM5OlsyLDJdLDQ0OlsyLDJdLDQ1OlsyLDJdLDQ2OlsyLDJdLDUzOlsyLDJdLDU0OlsyLDJdLDU1OlsyLDJdLDU2OlsyLDJdLDU5OlsyLDJdLDYwOlsyLDJdLDYxOlsyLDJdLDYyOlsyLDJdLDYzOlsyLDJdLDY0OlsyLDJdLDY1OlsyLDJdLDY2OlsyLDJdLDY3OlsyLDJdLDY4OlsyLDJdLDY5OlsyLDJdLDcwOlsyLDJdLDc2OlsyLDJdLDc5OlsyLDJdLDgwOlsyLDJdLDk0OlsyLDJdLDEwMDpbMiwyXSwxMDE6WzIsMl0sMTAzOlsyLDJdfSx7MTpbMiwzXSw5OlsyLDNdLDExOlsyLDNdLDE0OlsyLDNdLDE1OlsyLDNdLDIxOlsyLDNdLDIyOlsyLDNdLDI0OlsyLDNdLDI2OlsyLDNdLDI3OlsyLDNdLDI4OlsyLDNdLDMyOlsyLDNdLDM0OlsyLDNdLDM1OlsyLDNdLDM2OlsyLDNdLDM3OlsyLDNdLDM5OlsyLDNdLDQ0OlsyLDNdLDQ1OlsyLDNdLDQ2OlsyLDNdLDUzOlsyLDNdLDU0OlsyLDNdLDU1OlsyLDNdLDU2OlsyLDNdLDU5OlsyLDNdLDYwOlsyLDNdLDYxOlsyLDNdLDYyOlsyLDNdLDYzOlsyLDNdLDY0OlsyLDNdLDY1OlsyLDNdLDY2OlsyLDNdLDY3OlsyLDNdLDY4OlsyLDNdLDY5OlsyLDNdLDcwOlsyLDNdLDc2OlsyLDNdLDc5OlsyLDNdLDgwOlsyLDNdLDk0OlsyLDNdLDEwMDpbMiwzXSwxMDE6WzIsM10sMTAzOlsyLDNdfSx7MTpbMiw0XSw5OlsyLDRdLDExOlsyLDRdLDE0OlsyLDRdLDE1OlsyLDRdLDIxOlsyLDRdLDIyOlsyLDRdLDI0OlsyLDRdLDI2OlsyLDRdLDI3OlsyLDRdLDI4OlsyLDRdLDMyOlsyLDRdLDM0OlsyLDRdLDM1OlsyLDRdLDM2OlsyLDRdLDM3OlsyLDRdLDM5OlsyLDRdLDQ0OlsyLDRdLDQ1OlsyLDRdLDQ2OlsyLDRdLDUzOlsyLDRdLDU0OlsyLDRdLDU1OlsyLDRdLDU2OlsyLDRdLDU5OlsyLDRdLDYwOlsyLDRdLDYxOlsyLDRdLDYyOlsyLDRdLDYzOlsyLDRdLDY0OlsyLDRdLDY1OlsyLDRdLDY2OlsyLDRdLDY3OlsyLDRdLDY4OlsyLDRdLDY5OlsyLDRdLDcwOlsyLDRdLDc2OlsyLDRdLDc5OlsyLDRdLDgwOlsyLDRdLDk0OlsyLDRdLDEwMDpbMiw0XSwxMDE6WzIsNF0sMTAzOlsyLDRdfSx7MTpbMiw1XSw5OlsyLDVdLDExOlsyLDVdLDE0OlsyLDVdLDE1OlsyLDVdLDIxOlsyLDVdLDIyOlsyLDVdLDI0OlsyLDVdLDI2OlsyLDVdLDI3OlsyLDVdLDI4OlsyLDVdLDMyOlsyLDVdLDM0OlsyLDVdLDM1OlsyLDVdLDM2OlsyLDVdLDM3OlsyLDVdLDM5OlsyLDVdLDQ0OlsyLDVdLDQ1OlsyLDVdLDQ2OlsyLDVdLDUzOlsyLDVdLDU0OlsyLDVdLDU1OlsyLDVdLDU2OlsyLDVdLDU5OlsyLDVdLDYwOlsyLDVdLDYxOlsyLDVdLDYyOlsyLDVdLDYzOlsyLDVdLDY0OlsyLDVdLDY1OlsyLDVdLDY2OlsyLDVdLDY3OlsyLDVdLDY4OlsyLDVdLDY5OlsyLDVdLDcwOlsyLDVdLDc2OlsyLDVdLDc5OlsyLDVdLDgwOlsyLDVdLDk0OlsyLDVdLDEwMDpbMiw1XSwxMDE6WzIsNV0sMTAzOlsyLDVdfSx7MTE6WzEsMTA1XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDEyOjEwOCwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjEwNiwyMTpbMiw0N10sMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzNjpbMSwxMDddLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDQzOjYyLDQ0OlsyLDQ3XSw0NTpbMiw0N10sNDY6WzIsNDddLDQ3OlsxLDY0XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7NDpbMSwxMjJdLDU6MTE5LDc6WzEsMTIzXSw4OlsxLDEyMF0sMTA6MTEzLDE4OlsxLDEwOV0sMjM6WzEsMTIxXSwyNDpbMiwxNDhdLDI1OlsxLDEyNF0sNDA6MTEwLDQyOjExOCw0NDpbMiwxNDhdLDQ1OlsyLDE0OF0sNDY6WzEsMTEyXSw0NzpbMSwxMTZdLDUxOlsxLDExN10sNTY6WzEsMTE1XSw5NjoxMTQsOTc6MTExfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE3OjQsMTg6WzEsMzZdLDE5OjEyNiwyMzpbMSwzN10sMjU6WzEsMzhdLDI2OlsxLDEyNV0sMjc6WzIsNTddLDI4OlsxLDEyN10sMjk6WzEsMTI4XSwzMDpbMSwxMjldLDMxOlsxLDEzMF0sMzM6WzEsMTMxXSwzNDpbMSwxMzJdLDM1OlsxLDEzM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNDU6WzIsNTddLDQ2OlsxLDZdLDQ3OlsxLDEwXSw0ODozLDQ5OjUsNTE6WzEsOV0sNTI6WzEsMTFdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV0sOTk6MTM0fSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxMzUsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMzcsNDpbMSwxMzhdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjEzNiwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV0sMTAyOlsxLDEzOV19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjE0MCwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxOlsyLDYwXSwzOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjcsMjI6WzIsNjBdLDIzOlsxLDM3XSwyNTpbMSwzOF0sMjc6WzIsNjBdLDMxOlsxLDhdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNDU6WzIsNjBdLDQ3OlsxLDEwXSw0OToxNDEsNTE6WzEsOV0sNTI6WzEsMTFdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxOlsyLDU3XSwzOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjcsMjM6WzEsMzddLDI1OlsxLDM4XSwyNzpbMiw1N10sMzE6WzEsOF0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw0NTpbMiw1N10sNDc6WzEsMTBdLDQ4OjE0Miw0OTo1LDUxOlsxLDldLDUyOlsxLDExXSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MjI6WzEsMTQzXSw0NTpbMSw0Ml19LHsxOlsyLDYyXSwyMjpbMiw2Ml0sMjc6WzIsNjJdLDQ1OlsyLDYyXX0sezM6MTQ0LDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzg6WzEsMzldLDM5OlsxLDY3XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6MTQ1LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNDY6WzEsMTQ2XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNDcsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNDgsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNDksMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNTAsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNTEsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNTIsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNTMsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNTQsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNTUsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNTYsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNTcsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNTgsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNTksMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MTM6MTYwLDMyOlsyLDU1XSw0NDpbMSwxNjFdLDQ1OlsyLDU1XSw0NjpbMiw1NV19LHsxNDpbMiw0OF0sMjE6WzIsNDhdLDIyOlsyLDQ4XSwzMjpbMiw0OF0sNDQ6WzIsNDhdLDQ1OlsyLDQ4XSw0NjpbMiw0OF19LHsxNDpbMiw1Ml0sMjE6WzIsNTJdLDIyOlsyLDUyXSwzMjpbMiw1Ml0sMzU6WzEsNDZdLDQ0OlsyLDUyXSw0NTpbMiw1Ml0sNDY6WzIsNTJdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNDpbMiw1NF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNjIsMjE6WzIsNTRdLDIyOlsyLDU0XSwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMjpbMiw1NF0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw0NDpbMiw1NF0sNDU6WzIsNTRdLDQ2OlsyLDU0XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTI6MTYzLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NjMsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzI6WzIsNDddLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNDM6NjIsNDQ6WzIsNDddLDQ1OlsyLDQ3XSw0NjpbMiw0N10sNDc6WzEsNjRdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxOlsyLDY2XSw5OlsxLDczXSwxMTpbMSw3NF0sMTU6WzEsNzVdLDIyOlsyLDY2XSwyNzpbMiw2Nl0sNDU6WzIsNjZdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToxNjQsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE3OjE2NiwxODpbMSwzNl0sMTk6MTY1LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNDY6WzEsNl0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6MTY3LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNDY6WzEsMTY4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MTpbMiw3N10sMTQ6WzIsNzddLDIxOlsyLDc3XSwyMjpbMiw3N10sMjQ6WzIsNzddLDI2OlsyLDc3XSwyNzpbMiw3N10sMjg6WzIsNzddLDMyOlsyLDc3XSwzNTpbMiw3N10sMzY6WzIsNzddLDM3OlsyLDc3XSwzOTpbMiw3N10sNDQ6WzIsNzddLDQ1OlsyLDc3XSw0NjpbMiw3N10sNTU6WzIsNzddLDU2OlsyLDc3XSw1OTpbMiw3N10sNjA6WzIsNzddLDYxOlsyLDc3XSw2MjpbMiw3N10sNjM6WzIsNzddLDY0OlsyLDc3XSw2NTpbMiw3N10sNjY6WzIsNzddLDY3OlsyLDc3XSw2ODpbMiw3N10sNjk6WzIsNzddLDc2OlsyLDc3XSw3OTpbMiw3N10sODA6WzIsNzddLDEwMzpbMiw3N119LHsxOlsyLDk4XSwxNDpbMiw5OF0sMjE6WzIsOThdLDIyOlsyLDk4XSwyNDpbMiw5OF0sMjY6WzIsOThdLDI3OlsyLDk4XSwyODpbMiw5OF0sMzI6WzIsOThdLDM1OlsyLDk4XSwzNjpbMiw5OF0sMzc6WzIsOThdLDM5OlsyLDk4XSw0NDpbMiw5OF0sNDU6WzIsOThdLDQ2OlsyLDk4XSw1NTpbMiw5OF0sNTY6WzIsOThdLDU5OlsyLDk4XSw2MDpbMiw5OF0sNjE6WzIsOThdLDYyOlsyLDk4XSw2MzpbMiw5OF0sNjQ6WzIsOThdLDY1OlsyLDk4XSw2NjpbMiw5OF0sNjc6WzIsOThdLDY4OlsyLDk4XSw2OTpbMiw5OF0sNzY6WzIsOThdLDc5OlsyLDk4XSw4MDpbMiw5OF0sMTAzOlsyLDk4XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6MTY5LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezQ6WzEsMTIyXSw1OjExOSw2OjE3MSw3OlsxLDEyM10sMTA6MTcwLDE4OlsxLDE3Ml0sMjM6WzEsMTczXSwyNTpbMSwxMjRdLDQyOjExOH0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDEyOjE3NCwxNDpbMiw0N10sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTo2MywyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDQzOjYyLDQ0OlsyLDQ3XSw0NTpbMiw0N10sNDY6WzIsNDddLDQ3OlsxLDY0XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MTpbMiw5XSw5OlsyLDldLDExOlsyLDldLDE0OlsyLDldLDE1OlsyLDldLDIxOlsyLDldLDIyOlsyLDldLDI0OlsyLDldLDI2OlsyLDldLDI3OlsyLDldLDI4OlsyLDldLDMyOlsyLDldLDM0OlsyLDldLDM1OlsyLDldLDM2OlsyLDldLDM3OlsyLDldLDM5OlsyLDldLDQ0OlsyLDldLDQ1OlsyLDldLDQ2OlsyLDldLDUzOlsyLDldLDU0OlsyLDldLDU1OlsyLDldLDU2OlsyLDldLDU5OlsyLDldLDYwOlsyLDldLDYxOlsyLDldLDYyOlsyLDldLDYzOlsyLDldLDY0OlsyLDldLDY1OlsyLDldLDY2OlsyLDldLDY3OlsyLDldLDY4OlsyLDldLDY5OlsyLDldLDcwOlsyLDldLDc2OlsyLDldLDc5OlsyLDldLDgwOlsyLDldLDk0OlsyLDldLDEwMDpbMiw5XSwxMDE6WzIsOV0sMTAzOlsyLDldfSx7MTpbMiw3Nl0sOTpbMSw3M10sMTE6WzEsNzRdLDE0OlsyLDc2XSwxNTpbMSw3NV0sMjE6WzIsNzZdLDIyOlsyLDc2XSwyNDpbMiw3Nl0sMjY6WzIsNzZdLDI3OlsyLDc2XSwyODpbMiw3Nl0sMzI6WzIsNzZdLDM1OlsyLDc2XSwzNjpbMiw3Nl0sMzc6WzIsNzZdLDM5OlsyLDc2XSw0NDpbMiw3Nl0sNDU6WzIsNzZdLDQ2OlsyLDc2XSw1NTpbMiw3Nl0sNTY6WzIsNzZdLDU5OlsyLDc2XSw2MDpbMiw3Nl0sNjE6WzIsNzZdLDYyOlsyLDc2XSw2MzpbMiw3Nl0sNjQ6WzIsNzZdLDY1OlsyLDc2XSw2NjpbMiw3Nl0sNjc6WzIsNzZdLDY4OlsyLDc2XSw2OTpbMiw3Nl0sNzY6WzIsNzZdLDc5OlsyLDc2XSw4MDpbMiw3Nl0sMTAzOlsyLDc2XX0sezM6MTc1LDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzg6WzEsMzldLDM5OlsxLDY3XX0sezE6WzIsODFdLDE0OlsyLDgxXSwyMTpbMiw4MV0sMjI6WzIsODFdLDI0OlsyLDgxXSwyNjpbMiw4MV0sMjc6WzIsODFdLDI4OlsyLDgxXSwzMjpbMiw4MV0sMzU6WzEsNDZdLDM2OlsyLDgxXSwzNzpbMiw4MV0sMzk6WzIsODFdLDQ0OlsyLDgxXSw0NTpbMiw4MV0sNDY6WzIsODFdLDU1OlsyLDgxXSw1NjpbMiw4MV0sNTk6WzIsODFdLDYwOlsyLDgxXSw2MTpbMiw4MV0sNjI6WzEsNTJdLDYzOlsyLDgxXSw2NDpbMiw4MV0sNjU6WzIsODFdLDY2OlsxLDU2XSw2NzpbMiw4MV0sNjg6WzIsODFdLDY5OlsyLDgxXSw3NjpbMiw4MV0sNzk6WzIsODFdLDgwOlsyLDgxXSwxMDM6WzIsODFdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTI6MTc2LDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NjMsMjI6WzIsNDddLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNDM6NjIsNDQ6WzIsNDddLDQ1OlsyLDQ3XSw0NjpbMiw0N10sNDc6WzEsNjRdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHszOjE3Nyw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwyMzpbMSwzN10sMjU6WzEsMzhdLDM4OlsxLDM5XSwzOTpbMSw2N119LHsxOlsyLDgzXSwxNDpbMiw4M10sMjE6WzIsODNdLDIyOlsyLDgzXSwyNDpbMiw4M10sMjY6WzIsODNdLDI3OlsyLDgzXSwyODpbMiw4M10sMzI6WzIsODNdLDM1OlsxLDQ2XSwzNjpbMiw4M10sMzc6WzIsODNdLDM5OlsyLDgzXSw0NDpbMiw4M10sNDU6WzIsODNdLDQ2OlsyLDgzXSw1NTpbMiw4M10sNTY6WzIsODNdLDU5OlsyLDgzXSw2MDpbMiw4M10sNjE6WzIsODNdLDYyOlsxLDUyXSw2MzpbMiw4M10sNjQ6WzIsODNdLDY1OlsyLDgzXSw2NjpbMSw1Nl0sNjc6WzIsODNdLDY4OlsyLDgzXSw2OTpbMiw4M10sNzY6WzIsODNdLDc5OlsyLDgzXSw4MDpbMiw4M10sMTAzOlsyLDgzXX0sezM6MTc4LDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzg6WzEsMzldLDM5OlsxLDY3XX0sezE6WzIsODRdLDE0OlsyLDg0XSwyMTpbMiw4NF0sMjI6WzIsODRdLDI0OlsyLDg0XSwyNjpbMiw4NF0sMjc6WzIsODRdLDI4OlsyLDg0XSwzMjpbMiw4NF0sMzU6WzEsNDZdLDM2OlsyLDg0XSwzNzpbMiw4NF0sMzk6WzIsODRdLDQ0OlsyLDg0XSw0NTpbMiw4NF0sNDY6WzIsODRdLDU1OlsyLDg0XSw1NjpbMiw4NF0sNTk6WzIsODRdLDYwOlsyLDg0XSw2MTpbMiw4NF0sNjI6WzEsNTJdLDYzOlsyLDg0XSw2NDpbMiw4NF0sNjU6WzIsODRdLDY2OlsxLDU2XSw2NzpbMiw4NF0sNjg6WzIsODRdLDY5OlsyLDg0XSw3NjpbMiw4NF0sNzk6WzIsODRdLDgwOlsyLDg0XSwxMDM6WzIsODRdfSx7MTpbMiw4Ml0sMTQ6WzIsODJdLDIxOlsyLDgyXSwyMjpbMiw4Ml0sMjQ6WzIsODJdLDI2OlsyLDgyXSwyNzpbMiw4Ml0sMjg6WzIsODJdLDMyOlsyLDgyXSwzNTpbMSw0Nl0sMzY6WzIsODJdLDM3OlsyLDgyXSwzOTpbMiw4Ml0sNDQ6WzIsODJdLDQ1OlsyLDgyXSw0NjpbMiw4Ml0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsyLDgyXSw3OTpbMiw4Ml0sODA6WzIsODJdLDEwMzpbMiw4Ml19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxMjoxNzksMTQ6WzIsNDddLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NjMsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw0Mzo2Miw0NDpbMiw0N10sNDU6WzIsNDddLDQ2OlsyLDQ3XSw0NzpbMSw2NF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDEyOjE4MCwxNDpbMiw0N10sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTo2MywyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDQzOjYyLDQ0OlsyLDQ3XSw0NTpbMiw0N10sNDY6WzIsNDddLDQ3OlsxLDY0XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MTc6MTgxLDM1OlsxLDQ2XSw0NjpbMSw2XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdfSx7MTpbMiwxNTddLDE0OlsyLDE1N10sMjE6WzIsMTU3XSwyMjpbMiwxNTddLDI0OlsyLDE1N10sMjY6WzIsMTU3XSwyNzpbMiwxNTddLDI4OlsyLDE1N10sMzI6WzIsMTU3XSwzNTpbMiwxNTddLDM2OlsyLDE1N10sMzc6WzIsMTU3XSwzOTpbMiwxNTddLDQ0OlsyLDE1N10sNDU6WzIsMTU3XSw0NjpbMiwxNTddLDU1OlsyLDE1N10sNTY6WzIsMTU3XSw1OTpbMiwxNTddLDYwOlsyLDE1N10sNjE6WzIsMTU3XSw2MjpbMiwxNTddLDYzOlsyLDE1N10sNjQ6WzIsMTU3XSw2NTpbMiwxNTddLDY2OlsyLDE1N10sNjc6WzIsMTU3XSw2ODpbMiwxNTddLDY5OlsyLDE1N10sNzU6MTgyLDc2OlsyLDE1N10sNzk6WzIsMTU3XSw4MDpbMiwxNTddLDg3OlsxLDE4M10sMTAzOlsyLDE1N119LHs3OTpbMSwxODRdfSx7MTpbMiwxMDddLDE0OlsyLDEwN10sMjE6WzIsMTA3XSwyMjpbMiwxMDddLDI0OlsyLDEwN10sMjY6WzIsMTA3XSwyNzpbMiwxMDddLDI4OlsyLDEwN10sMzI6WzIsMTA3XSwzNTpbMSw0Nl0sMzY6WzIsMTA3XSwzNzpbMiwxMDddLDM5OlsyLDEwN10sNDQ6WzIsMTA3XSw0NTpbMiwxMDddLDQ2OlsyLDEwN10sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsyLDEwN10sNzk6WzIsMTA3XSw4MDpbMiwxMDddLDEwMzpbMiwxMDddfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTI6MTg1LDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NjMsMjI6WzIsNDddLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNDM6NjIsNDQ6WzIsNDddLDQ1OlsyLDQ3XSw0NjpbMiw0N10sNDc6WzEsNjRdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxOlsyLDExMV0sMTQ6WzIsMTExXSwyMTpbMiwxMTFdLDIyOlsyLDExMV0sMjQ6WzIsMTExXSwyNjpbMiwxMTFdLDI3OlsyLDExMV0sMjg6WzIsMTExXSwzMjpbMiwxMTFdLDM1OlsyLDExMV0sMzY6WzIsMTExXSwzNzpbMiwxMTFdLDM5OlsyLDExMV0sNDQ6WzIsMTExXSw0NTpbMiwxMTFdLDQ2OlsyLDExMV0sNTU6WzIsMTExXSw1NjpbMiwxMTFdLDU5OlsyLDExMV0sNjA6WzIsMTExXSw2MTpbMiwxMTFdLDYyOlsyLDExMV0sNjM6WzIsMTExXSw2NDpbMiwxMTFdLDY1OlsyLDExMV0sNjY6WzIsMTExXSw2NzpbMiwxMTFdLDY4OlsyLDExMV0sNjk6WzIsMTExXSw3NjpbMiwxMTFdLDc5OlsyLDExMV0sODA6WzIsMTExXSwxMDM6WzIsMTExXX0sezQ0OlsxLDE4N10sODA6WzEsOTddLDg1OjE4Nn0sezE6WzIsMTE1XSwxNDpbMiwxMTVdLDIxOlsyLDExNV0sMjI6WzIsMTE1XSwyNDpbMiwxMTVdLDI2OlsyLDExNV0sMjc6WzIsMTE1XSwyODpbMiwxMTVdLDMyOlsyLDExNV0sMzU6WzIsMTE1XSwzNjpbMiwxMTVdLDM3OlsyLDExNV0sMzk6WzIsMTE1XSw0NDpbMiwxMTVdLDQ1OlsyLDExNV0sNDY6WzIsMTE1XSw1NTpbMiwxMTVdLDU2OlsyLDExNV0sNTk6WzIsMTE1XSw2MDpbMiwxMTVdLDYxOlsyLDExNV0sNjI6WzIsMTE1XSw2MzpbMiwxMTVdLDY0OlsyLDExNV0sNjU6WzIsMTE1XSw2NjpbMiwxMTVdLDY3OlsyLDExNV0sNjg6WzIsMTE1XSw2OTpbMiwxMTVdLDc2OlsyLDExNV0sNzk6WzIsMTE1XSw4MDpbMSwxOTBdLDg2OlsxLDE4OF0sODc6WzEsMTg5XSwxMDM6WzIsMTE1XX0sezE6WzIsMTE4XSwxNDpbMiwxMThdLDIxOlsyLDExOF0sMjI6WzIsMTE4XSwyNDpbMiwxMThdLDI2OlsyLDExOF0sMjc6WzIsMTE4XSwyODpbMiwxMThdLDMyOlsyLDExOF0sMzU6WzIsMTE4XSwzNjpbMiwxMThdLDM3OlsyLDExOF0sMzk6WzIsMTE4XSw0NDpbMiwxMThdLDQ1OlsyLDExOF0sNDY6WzIsMTE4XSw1NTpbMiwxMThdLDU2OlsyLDExOF0sNTk6WzIsMTE4XSw2MDpbMiwxMThdLDYxOlsyLDExOF0sNjI6WzIsMTE4XSw2MzpbMiwxMThdLDY0OlsyLDExOF0sNjU6WzIsMTE4XSw2NjpbMiwxMThdLDY3OlsyLDExOF0sNjg6WzIsMTE4XSw2OTpbMiwxMThdLDc2OlsyLDExOF0sNzk6WzIsMTE4XSw4MDpbMiwxMThdLDEwMzpbMiwxMThdfSx7MzU6WzEsNDZdLDQ0OlsyLDEzMV0sNDY6WzIsMTMxXSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdLDgwOlsyLDEzMV19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5Ojk2LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4NDoxOTEsODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxOlsyLDExOV0sMTQ6WzIsMTE5XSwyMTpbMiwxMTldLDIyOlsyLDExOV0sMjQ6WzIsMTE5XSwyNjpbMiwxMTldLDI3OlsyLDExOV0sMjg6WzIsMTE5XSwzMjpbMiwxMTldLDM1OlsyLDExOV0sMzY6WzIsMTE5XSwzNzpbMiwxMTldLDM5OlsyLDExOV0sNDQ6WzIsMTE5XSw0NTpbMiwxMTldLDQ2OlsyLDExOV0sNTU6WzIsMTE5XSw1NjpbMiwxMTldLDU5OlsyLDExOV0sNjA6WzIsMTE5XSw2MTpbMiwxMTldLDYyOlsyLDExOV0sNjM6WzIsMTE5XSw2NDpbMiwxMTldLDY1OlsyLDExOV0sNjY6WzIsMTE5XSw2NzpbMiwxMTldLDY4OlsyLDExOV0sNjk6WzIsMTE5XSw3NjpbMiwxMTldLDc5OlsyLDExOV0sODA6WzIsMTE5XSw4OTpbMSwxOTJdLDkwOlsxLDE5M10sMTAzOlsyLDExOV19LHs5OlsxLDczXSwxMTpbMSw3NF0sMTU6WzEsNzVdLDQ2OlsyLDE5MF0sOTI6MTk0LDk0OlsxLDEwMV0sMTAzOlsyLDE5MF19LHs0NjpbMiwxOTJdLDkzOjE5NSwxMDM6WzEsMTk2XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6MTk3LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezE6WzIsMTI4XSwxNDpbMiwxMjhdLDIxOlsyLDEyOF0sMjI6WzIsMTI4XSwyNDpbMiwxMjhdLDI2OlsyLDEyOF0sMjc6WzIsMTI4XSwyODpbMiwxMjhdLDMyOlsyLDEyOF0sMzU6WzEsNDZdLDM2OlsyLDEyOF0sMzc6WzIsMTI4XSwzOTpbMiwxMjhdLDQ0OlsyLDEyOF0sNDU6WzIsMTI4XSw0NjpbMiwxMjhdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzIsMTI4XSw2OTpbMiwxMjhdLDc2OlsyLDEyOF0sNzk6WzIsMTI4XSw4MDpbMiwxMjhdLDEwMzpbMiwxMjhdfSx7MTpbMiwxMjldLDE0OlsyLDEyOV0sMjE6WzIsMTI5XSwyMjpbMiwxMjldLDI0OlsyLDEyOV0sMjY6WzIsMTI5XSwyNzpbMiwxMjldLDI4OlsyLDEyOV0sMzI6WzIsMTI5XSwzNTpbMiwxMjldLDM2OlsyLDEyOV0sMzc6WzIsMTI5XSwzOTpbMiwxMjldLDQ0OlsyLDEyOV0sNDU6WzIsMTI5XSw0NjpbMiwxMjldLDU1OlsyLDEyOV0sNTY6WzIsMTI5XSw1OTpbMiwxMjldLDYwOlsyLDEyOV0sNjE6WzIsMTI5XSw2MjpbMiwxMjldLDYzOlsyLDEyOV0sNjQ6WzIsMTI5XSw2NTpbMiwxMjldLDY2OlsyLDEyOV0sNjc6WzIsMTI5XSw2ODpbMiwxMjldLDY5OlsyLDEyOV0sNzY6WzIsMTI5XSw3OTpbMiwxMjldLDgwOlsyLDEyOV0sMTAzOlsyLDEyOV19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxMjoxOTgsMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTo2MywyMjpbMiw0N10sMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw0Mzo2Miw0NDpbMiw0N10sNDU6WzIsNDddLDQ2OlsyLDQ3XSw0NzpbMSw2NF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDEyOjE5OSwxNDpbMiw0N10sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTo2MywyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDQzOjYyLDQ0OlsyLDQ3XSw0NTpbMiw0N10sNDY6WzIsNDddLDQ3OlsxLDY0XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MjA6MjAwLDIxOlsyLDUyXSwzNTpbMSw0Nl0sMzY6WzEsMjAxXSwzOTpbMSwyMDNdLDQ0OlsyLDUyXSw0NTpbMiw1Ml0sNDY6WzIsNTJdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF0sNzc6MjAyLDc5OlsxLDQxXX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6MjA0LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezEzOjIwNSwyMTpbMiw1NV0sNDQ6WzEsMTYxXSw0NTpbMiw1NV0sNDY6WzIsNTVdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTI6MjA2LDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NjMsMjE6WzIsNDddLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNDM6NjIsNDQ6WzIsNDddLDQ1OlsyLDQ3XSw0NjpbMiw0N10sNDc6WzEsNjRdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxMzoyMDcsMjQ6WzIsNTVdLDQ0OlsxLDIwOF0sNDU6WzIsNTVdfSx7MjI6WzIsMTQ5XSwyNDpbMiwxNDldLDQ0OlsyLDE0OV0sNDU6WzIsMTQ5XX0sezQ6WzEsMTIyXSw1OjExOSw3OlsxLDEyM10sODpbMSwxMjBdLDEwOjExMywxODpbMSwyMTBdLDIyOlsyLDE0OF0sMjM6WzEsMTIxXSwyNTpbMSwxMjRdLDQwOjIwOSw0MjoxMTgsNDQ6WzIsMTQ4XSw0NTpbMiwxNDhdLDQ2OlsxLDExMl0sNDc6WzEsMTE2XSw1MTpbMSwxMTddLDU2OlsxLDExNV0sOTY6MTE0LDk3OjExMX0sezk6WzEsMjEyXSwyMjpbMiwxMzNdLDI0OlsyLDEzM10sNDQ6WzIsMTMzXSw0NTpbMiwxMzNdLDU0OlsyLDEzM10sNjA6WzIsMTMzXSw5ODpbMSwyMTFdfSx7MjI6WzIsMTQxXSwyNDpbMiwxNDFdLDQ0OlsyLDE0MV0sNDU6WzIsMTQxXSw1NDpbMSwyMTRdLDYwOlsxLDIxM119LHs0OlsxLDEyMl0sNToxMTksNzpbMSwxMjNdLDg6WzEsMjE2XSwxMDoyMTUsMjU6WzEsMTI0XSw0MjoxMTh9LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjIxNywyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsyMjpbMiwxNDddLDI0OlsyLDE0N10sNDQ6WzIsMTQ3XSw0NTpbMiwxNDddfSx7MTpbMiw0M10sOTpbMiw0M10sMTE6WzIsNDNdLDE0OlsyLDQzXSwxNTpbMiw0M10sMjE6WzIsNDNdLDIyOlsyLDQzXSwyNDpbMiw0M10sMjY6WzIsNDNdLDI3OlsyLDQzXSwyODpbMiw0M10sMzI6WzIsNDNdLDM0OlsyLDQzXSwzNTpbMiw0M10sMzY6WzIsNDNdLDM3OlsyLDQzXSwzOTpbMiw0M10sNDQ6WzIsNDNdLDQ1OlsyLDQzXSw0NjpbMiw0M10sNTM6WzIsNDNdLDU0OlsyLDQzXSw1NTpbMiw0M10sNTY6WzIsNDNdLDU5OlsyLDQzXSw2MDpbMiw0M10sNjE6WzIsNDNdLDYyOlsyLDQzXSw2MzpbMiw0M10sNjQ6WzIsNDNdLDY1OlsyLDQzXSw2NjpbMiw0M10sNjc6WzIsNDNdLDY4OlsyLDQzXSw2OTpbMiw0M10sNzA6WzIsNDNdLDc2OlsyLDQzXSw3OTpbMiw0M10sODA6WzIsNDNdLDk0OlsyLDQzXSw5ODpbMiw0M10sMTAwOlsyLDQzXSwxMDE6WzIsNDNdLDEwMzpbMiw0M119LHsxOlsyLDQ0XSw5OlsyLDQ0XSwxMTpbMiw0NF0sMTQ6WzIsNDRdLDE1OlsyLDQ0XSwyMTpbMiw0NF0sMjI6WzIsNDRdLDI0OlsyLDQ0XSwyNjpbMiw0NF0sMjc6WzIsNDRdLDI4OlsyLDQ0XSwzMjpbMiw0NF0sMzQ6WzIsNDRdLDM1OlsyLDQ0XSwzNjpbMiw0NF0sMzc6WzIsNDRdLDM5OlsyLDQ0XSw0NDpbMiw0NF0sNDU6WzIsNDRdLDQ2OlsyLDQ0XSw1MzpbMiw0NF0sNTQ6WzIsNDRdLDU1OlsyLDQ0XSw1NjpbMiw0NF0sNTk6WzIsNDRdLDYwOlsyLDQ0XSw2MTpbMiw0NF0sNjI6WzIsNDRdLDYzOlsyLDQ0XSw2NDpbMiw0NF0sNjU6WzIsNDRdLDY2OlsyLDQ0XSw2NzpbMiw0NF0sNjg6WzIsNDRdLDY5OlsyLDQ0XSw3MDpbMiw0NF0sNzY6WzIsNDRdLDc5OlsyLDQ0XSw4MDpbMiw0NF0sOTQ6WzIsNDRdLDk4OlsyLDQ0XSwxMDA6WzIsNDRdLDEwMTpbMiw0NF0sMTAzOlsyLDQ0XX0sezk6WzEsMjE4XSwyMjpbMiwxMzRdLDI0OlsyLDEzNF0sNDQ6WzIsMTM0XSw0NTpbMiwxMzRdLDU0OlsyLDEzNF0sNjA6WzIsMTM0XX0sezQ6WzEsMTIyXSw1OjExOSw3OlsxLDEyM10sODpbMSwxMjBdLDEwOjExMywxODpbMSwyMTBdLDIzOlsxLDEyMV0sMjQ6WzIsMTQ4XSwyNTpbMSwxMjRdLDQwOjIxOSw0MjoxMTgsNDQ6WzIsMTQ4XSw0NTpbMiwxNDhdLDQ2OlsxLDExMl0sNDc6WzEsMTE2XSw1MTpbMSwxMTddLDU2OlsxLDExNV0sOTY6MTE0LDk3OjExMX0sezE6WzIsNDVdLDk6WzIsNDVdLDExOlsyLDQ1XSwxNDpbMiw0NV0sMTU6WzIsNDVdLDIxOlsyLDQ1XSwyMjpbMiw0NV0sMjQ6WzIsNDVdLDI2OlsyLDQ1XSwyNzpbMiw0NV0sMjg6WzIsNDVdLDMyOlsyLDQ1XSwzNDpbMiw0NV0sMzU6WzIsNDVdLDM2OlsyLDQ1XSwzNzpbMiw0NV0sMzk6WzIsNDVdLDQ0OlsyLDQ1XSw0NTpbMiw0NV0sNDY6WzIsNDVdLDUzOlsyLDQ1XSw1NDpbMiw0NV0sNTU6WzIsNDVdLDU2OlsyLDQ1XSw1OTpbMiw0NV0sNjA6WzIsNDVdLDYxOlsyLDQ1XSw2MjpbMiw0NV0sNjM6WzIsNDVdLDY0OlsyLDQ1XSw2NTpbMiw0NV0sNjY6WzIsNDVdLDY3OlsyLDQ1XSw2ODpbMiw0NV0sNjk6WzIsNDVdLDcwOlsyLDQ1XSw3NjpbMiw0NV0sNzk6WzIsNDVdLDgwOlsyLDQ1XSw5NDpbMiw0NV0sOTg6WzIsNDVdLDEwMDpbMiw0NV0sMTAxOlsyLDQ1XSwxMDM6WzIsNDVdfSx7MTpbMiw0Nl0sOTpbMiw0Nl0sMTE6WzIsNDZdLDE0OlsyLDQ2XSwxNTpbMiw0Nl0sMjE6WzIsNDZdLDIyOlsyLDQ2XSwyNDpbMiw0Nl0sMjY6WzIsNDZdLDI3OlsyLDQ2XSwyODpbMiw0Nl0sMzI6WzIsNDZdLDM0OlsyLDQ2XSwzNTpbMiw0Nl0sMzY6WzIsNDZdLDM3OlsyLDQ2XSwzOTpbMiw0Nl0sNDQ6WzIsNDZdLDQ1OlsyLDQ2XSw0NjpbMiw0Nl0sNTM6WzIsNDZdLDU0OlsyLDQ2XSw1NTpbMiw0Nl0sNTY6WzIsNDZdLDU5OlsyLDQ2XSw2MDpbMiw0Nl0sNjE6WzIsNDZdLDYyOlsyLDQ2XSw2MzpbMiw0Nl0sNjQ6WzIsNDZdLDY1OlsyLDQ2XSw2NjpbMiw0Nl0sNjc6WzIsNDZdLDY4OlsyLDQ2XSw2OTpbMiw0Nl0sNzA6WzIsNDZdLDc2OlsyLDQ2XSw3OTpbMiw0Nl0sODA6WzIsNDZdLDk0OlsyLDQ2XSw5ODpbMiw0Nl0sMTAwOlsyLDQ2XSwxMDE6WzIsNDZdLDEwMzpbMiw0Nl19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTc6NCwxODpbMSwzNl0sMTk6NywyMzpbMSwzN10sMjU6WzEsMzhdLDI3OlsyLDU3XSwzMTpbMSw4XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDQ1OlsyLDU3XSw0NjpbMSw2XSw0NzpbMSwxMF0sNDg6Myw0OTo1LDUxOlsxLDldLDUyOlsxLDExXSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldLDk5OjEzNH0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6MjIxLDIzOlsxLDM3XSwyNTpbMSwzOF0sMjc6WzEsMjIwXSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MTc6NDUsMjY6WzEsMjIyXSwyNzpbMiw2MV0sMjg6WzEsMjIzXSwzNTpbMSwyMjRdLDQ1OlsyLDYxXSw0NjpbMSw2XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToyMjYsMjM6WzEsMzddLDI1OlsxLDM4XSwyNzpbMSwyMjVdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxMTpbMSwyMjhdLDI3OlsxLDIyN119LHsyNzpbMSwyMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTI6MjMwLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NjMsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzI6WzIsNDddLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNDM6NjIsNDQ6WzIsNDddLDQ1OlsyLDQ3XSw0NjpbMiw0N10sNDc6WzEsNjRdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5Ojc4LDIzOlsxLDM3XSwyNTpbMSwzOF0sMjc6WzEsMjMxXSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw0NjpbMSw3OV0sNTQ6WzEsNzddLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHszOjc2LDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDIzOlsxLDM3XSwyNTpbMSwzOF0sMjc6WzEsMjMyXSwzODpbMSwzOV0sMzk6WzEsNjddfSx7MzoyMzMsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMjM6WzEsMzddLDI1OlsxLDM4XSwzODpbMSwzOV0sMzk6WzEsNjddfSx7Mjc6WzEsMjM0XX0sezE3OjIzNSwzNTpbMSw0Nl0sNDY6WzEsNl0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXX0sezE3OjIzNiwzNTpbMSw0Nl0sMzc6WzEsMjM4XSw0NjpbMSw2XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdLDgwOlsxLDIzN119LHs5OlsxLDczXSwxMTpbMSw3NF0sMTU6WzEsNzVdLDIxOlsyLDcxXSwyMjpbMiw3MV0sMjQ6WzIsNzFdLDM0OlsxLDcwXSwzNTpbMiw3MV0sMzc6WzIsNzFdLDM5OlsyLDcxXSw0NTpbMiw3MV0sNDY6WzIsNzFdLDUzOlsxLDY4XSw1NDpbMSw2OV0sNTU6WzIsNzFdLDU2OlsyLDcxXSw1OTpbMiw3MV0sNjA6WzIsNzFdLDYxOlsyLDcxXSw2MjpbMiw3MV0sNjM6WzIsNzFdLDY0OlsyLDcxXSw2NTpbMiw3MV0sNjY6WzIsNzFdLDY3OlsyLDcxXSw2ODpbMiw3MV0sNjk6WzIsNzFdLDcwOlsxLDcxXSw3NjpbMiw3MV0sNzk6WzIsNzFdLDgwOlsyLDcxXSw5NDpbMSw3Ml0sMTAwOlsxLDIzOV19LHs5OlsyLDFdLDExOlsyLDFdLDE1OlsyLDFdLDIxOlsyLDFdLDIyOlsyLDFdLDI0OlsyLDFdLDM0OlsyLDFdLDM1OlsyLDFdLDM3OlsyLDFdLDM5OlsyLDFdLDQ0OlsxLDI0MV0sNDU6WzIsMV0sNDY6WzIsMV0sNTM6WzIsMV0sNTQ6WzIsMV0sNTU6WzIsMV0sNTY6WzIsMV0sNTk6WzIsMV0sNjA6WzIsMV0sNjE6WzIsMV0sNjI6WzIsMV0sNjM6WzIsMV0sNjQ6WzIsMV0sNjU6WzIsMV0sNjY6WzIsMV0sNjc6WzIsMV0sNjg6WzIsMV0sNjk6WzIsMV0sNzA6WzIsMV0sNzY6WzIsMV0sNzk6WzIsMV0sODA6WzIsMV0sOTQ6WzIsMV0sMTAwOlsyLDFdLDEwMTpbMSwyNDBdLDEwMjpbMSwyNDJdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToyNDMsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MjE6WzIsMTc5XSwyMjpbMiwxNzldLDI0OlsyLDE3OV0sMzU6WzEsNDZdLDM5OlsyLDE3OV0sNDQ6WzEsMjQ1XSw0NTpbMiwxNzldLDQ2OlsyLDE3OV0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXSw3OTpbMiwxNzldLDgwOlsxLDI0NF19LHsxOlsyLDU5XSwyMjpbMiw1OV0sMjc6WzIsNTldLDQ1OlsyLDU5XX0sezE6WzIsMTU2XSwyNzpbMiwxNTZdLDQ1OlsxLDQyXX0sezE6WzIsNjddLDk6WzIsNjddLDExOlsyLDY3XSwxNDpbMiw2N10sMTU6WzIsNjddLDIxOlsyLDY3XSwyMjpbMiw2N10sMjQ6WzIsNjddLDI2OlsyLDY3XSwyNzpbMiw2N10sMjg6WzIsNjddLDMyOlsyLDY3XSwzNDpbMiw2N10sMzU6WzIsNjddLDM2OlsyLDY3XSwzNzpbMiw2N10sMzk6WzIsNjddLDQ0OlsyLDY3XSw0NTpbMiw2N10sNDY6WzIsNjddLDUzOlsyLDY3XSw1NDpbMiw2N10sNTU6WzIsNjddLDU2OlsyLDY3XSw1OTpbMiw2N10sNjA6WzIsNjddLDYxOlsyLDY3XSw2MjpbMiw2N10sNjM6WzIsNjddLDY0OlsyLDY3XSw2NTpbMiw2N10sNjY6WzIsNjddLDY3OlsyLDY3XSw2ODpbMiw2N10sNjk6WzIsNjddLDcwOlsyLDY3XSw3NjpbMiw2N10sNzk6WzIsNjddLDgwOlsyLDY3XSw4NjpbMiw2N10sODc6WzIsNjddLDg5OlsyLDY3XSw5MDpbMiw2N10sOTQ6WzIsNjddLDEwMDpbMiw2N10sMTAxOlsyLDY3XSwxMDM6WzIsNjddfSx7OTpbMSw3M10sMTE6WzEsNzRdLDE1OlsxLDc1XSwzNTpbMSwyNDZdfSx7MTpbMiw3NF0sMTQ6WzIsNzRdLDIxOlsyLDc0XSwyMjpbMiw3NF0sMjQ6WzIsNzRdLDI2OlsyLDc0XSwyNzpbMiw3NF0sMjg6WzIsNzRdLDMyOlsyLDc0XSwzNTpbMSw0Nl0sMzY6WzIsNzRdLDM3OlsyLDc0XSwzOTpbMiw3NF0sNDQ6WzIsNzRdLDQ1OlsyLDc0XSw0NjpbMiw3NF0sNTU6WzIsNzRdLDU2OlsxLDQ4XSw1OTpbMiw3NF0sNjA6WzIsNzRdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzIsNzRdLDY0OlsyLDc0XSw2NTpbMiw3NF0sNjY6WzEsNTZdLDY3OlsyLDc0XSw2ODpbMiw3NF0sNjk6WzIsNzRdLDc2OlsyLDc0XSw3OTpbMiw3NF0sODA6WzIsNzRdLDEwMzpbMiw3NF19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxMjoyNDcsMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTo2MywyMjpbMiw0N10sMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw0Mzo2Miw0NDpbMiw0N10sNDU6WzIsNDddLDQ2OlsyLDQ3XSw0NzpbMSw2NF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezE6WzIsODZdLDE0OlsyLDg2XSwyMTpbMiw4Nl0sMjI6WzIsODZdLDI0OlsyLDg2XSwyNjpbMiw4Nl0sMjc6WzIsODZdLDI4OlsyLDg2XSwzMjpbMiw4Nl0sMzU6WzEsNDZdLDM2OlsyLDg2XSwzNzpbMiw4Nl0sMzk6WzIsODZdLDQ0OlsyLDg2XSw0NTpbMiw4Nl0sNDY6WzIsODZdLDU1OlsyLDg2XSw1NjpbMiw4Nl0sNTk6WzIsODZdLDYwOlsyLDg2XSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsyLDg2XSw2NDpbMiw4Nl0sNjU6WzIsODZdLDY2OlsxLDU2XSw2NzpbMiw4Nl0sNjg6WzIsODZdLDY5OlsyLDg2XSw3NjpbMiw4Nl0sNzk6WzIsODZdLDgwOlsyLDg2XSwxMDM6WzIsODZdfSx7MTpbMiw4N10sMTQ6WzIsODddLDIxOlsyLDg3XSwyMjpbMiw4N10sMjQ6WzIsODddLDI2OlsyLDg3XSwyNzpbMiw4N10sMjg6WzIsODddLDMyOlsyLDg3XSwzNTpbMSw0Nl0sMzY6WzIsODddLDM3OlsyLDg3XSwzOTpbMiw4N10sNDQ6WzIsODddLDQ1OlsyLDg3XSw0NjpbMiw4N10sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzIsODddLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsyLDg3XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMiw4N10sNjk6WzIsODddLDc2OlsyLDg3XSw3OTpbMiw4N10sODA6WzIsODddLDEwMzpbMiw4N119LHsxOlsyLDg4XSwxNDpbMiw4OF0sMjE6WzIsODhdLDIyOlsyLDg4XSwyNDpbMiw4OF0sMjY6WzIsODhdLDI3OlsyLDg4XSwyODpbMiw4OF0sMzI6WzIsODhdLDM1OlsxLDQ2XSwzNjpbMiw4OF0sMzc6WzIsODhdLDM5OlsyLDg4XSw0NDpbMiw4OF0sNDU6WzIsODhdLDQ2OlsyLDg4XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsyLDg4XSw2OTpbMiw4OF0sNzY6WzIsODhdLDc5OlsyLDg4XSw4MDpbMiw4OF0sMTAzOlsyLDg4XX0sezE6WzIsODldLDE0OlsyLDg5XSwyMTpbMiw4OV0sMjI6WzIsODldLDI0OlsyLDg5XSwyNjpbMiw4OV0sMjc6WzIsODldLDI4OlsyLDg5XSwzMjpbMiw4OV0sMzU6WzEsNDZdLDM2OlsyLDg5XSwzNzpbMiw4OV0sMzk6WzIsODldLDQ0OlsyLDg5XSw0NTpbMiw4OV0sNDY6WzIsODldLDU1OlsyLDg5XSw1NjpbMiw4OV0sNTk6WzIsODldLDYwOlsyLDg5XSw2MTpbMiw4OV0sNjI6WzEsNTJdLDYzOlsyLDg5XSw2NDpbMiw4OV0sNjU6WzIsODldLDY2OlsxLDU2XSw2NzpbMiw4OV0sNjg6WzIsODldLDY5OlsyLDg5XSw3NjpbMiw4OV0sNzk6WzIsODldLDgwOlsyLDg5XSwxMDM6WzIsODldfSx7MTpbMiw5MF0sMTQ6WzIsOTBdLDIxOlsyLDkwXSwyMjpbMiw5MF0sMjQ6WzIsOTBdLDI2OlsyLDkwXSwyNzpbMiw5MF0sMjg6WzIsOTBdLDMyOlsyLDkwXSwzNTpbMSw0Nl0sMzY6WzIsOTBdLDM3OlsyLDkwXSwzOTpbMiw5MF0sNDQ6WzIsOTBdLDQ1OlsyLDkwXSw0NjpbMiw5MF0sNTU6WzIsOTBdLDU2OlsyLDkwXSw1OTpbMiw5MF0sNjA6WzIsOTBdLDYxOlsyLDkwXSw2MjpbMSw1Ml0sNjM6WzIsOTBdLDY0OlsyLDkwXSw2NTpbMiw5MF0sNjY6WzEsNTZdLDY3OlsyLDkwXSw2ODpbMiw5MF0sNjk6WzIsOTBdLDc2OlsyLDkwXSw3OTpbMiw5MF0sODA6WzIsOTBdLDEwMzpbMiw5MF19LHsxOlsyLDkxXSwxNDpbMiw5MV0sMjE6WzIsOTFdLDIyOlsyLDkxXSwyNDpbMiw5MV0sMjY6WzIsOTFdLDI3OlsyLDkxXSwyODpbMiw5MV0sMzI6WzIsOTFdLDM1OlsxLDQ2XSwzNjpbMiw5MV0sMzc6WzIsOTFdLDM5OlsyLDkxXSw0NDpbMiw5MV0sNDU6WzIsOTFdLDQ2OlsyLDkxXSw1NTpbMiw5MV0sNTY6WzEsNDhdLDU5OlsyLDkxXSw2MDpbMiw5MV0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMiw5MV0sNjQ6WzIsOTFdLDY1OlsyLDkxXSw2NjpbMSw1Nl0sNjc6WzIsOTFdLDY4OlsyLDkxXSw2OTpbMiw5MV0sNzY6WzIsOTFdLDc5OlsyLDkxXSw4MDpbMiw5MV0sMTAzOlsyLDkxXX0sezE6WzIsOTJdLDE0OlsyLDkyXSwyMTpbMiw5Ml0sMjI6WzIsOTJdLDI0OlsyLDkyXSwyNjpbMiw5Ml0sMjc6WzIsOTJdLDI4OlsyLDkyXSwzMjpbMiw5Ml0sMzU6WzEsNDZdLDM2OlsyLDkyXSwzNzpbMiw5Ml0sMzk6WzIsOTJdLDQ0OlsyLDkyXSw0NTpbMiw5Ml0sNDY6WzIsOTJdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsyLDkyXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMiw5Ml0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzIsOTJdLDY5OlsyLDkyXSw3NjpbMiw5Ml0sNzk6WzIsOTJdLDgwOlsyLDkyXSwxMDM6WzIsOTJdfSx7MTpbMiw5M10sMTQ6WzIsOTNdLDIxOlsyLDkzXSwyMjpbMiw5M10sMjQ6WzIsOTNdLDI2OlsyLDkzXSwyNzpbMiw5M10sMjg6WzIsOTNdLDMyOlsyLDkzXSwzNTpbMSw0Nl0sMzY6WzIsOTNdLDM3OlsyLDkzXSwzOTpbMiw5M10sNDQ6WzIsOTNdLDQ1OlsyLDkzXSw0NjpbMiw5M10sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMiw5M10sNjA6WzIsOTNdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsyLDkzXSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsyLDkzXSw2ODpbMiw5M10sNjk6WzIsOTNdLDc2OlsyLDkzXSw3OTpbMiw5M10sODA6WzIsOTNdLDEwMzpbMiw5M119LHsxOlsyLDk0XSwxNDpbMiw5NF0sMjE6WzIsOTRdLDIyOlsyLDk0XSwyNDpbMiw5NF0sMjY6WzIsOTRdLDI3OlsyLDk0XSwyODpbMiw5NF0sMzI6WzIsOTRdLDM1OlsxLDQ2XSwzNjpbMiw5NF0sMzc6WzIsOTRdLDM5OlsyLDk0XSw0NDpbMiw5NF0sNDU6WzIsOTRdLDQ2OlsyLDk0XSw1NTpbMiw5NF0sNTY6WzIsOTRdLDU5OlsyLDk0XSw2MDpbMiw5NF0sNjE6WzIsOTRdLDYyOlsyLDk0XSw2MzpbMiw5NF0sNjQ6WzIsOTRdLDY1OlsyLDk0XSw2NjpbMSw1Nl0sNjc6WzIsOTRdLDY4OlsyLDk0XSw2OTpbMiw5NF0sNzY6WzIsOTRdLDc5OlsyLDk0XSw4MDpbMiw5NF0sMTAzOlsyLDk0XX0sezE6WzIsOTVdLDE0OlsyLDk1XSwyMTpbMiw5NV0sMjI6WzIsOTVdLDI0OlsyLDk1XSwyNjpbMiw5NV0sMjc6WzIsOTVdLDI4OlsyLDk1XSwzMjpbMiw5NV0sMzU6WzEsNDZdLDM2OlsyLDk1XSwzNzpbMiw5NV0sMzk6WzIsOTVdLDQ0OlsyLDk1XSw0NTpbMiw5NV0sNDY6WzIsOTVdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzIsOTVdLDYwOlsyLDk1XSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMiw5NV0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMiw5NV0sNjg6WzIsOTVdLDY5OlsyLDk1XSw3NjpbMiw5NV0sNzk6WzIsOTVdLDgwOlsyLDk1XSwxMDM6WzIsOTVdfSx7MTpbMiw5Nl0sMTQ6WzIsOTZdLDIxOlsyLDk2XSwyMjpbMiw5Nl0sMjQ6WzIsOTZdLDI2OlsyLDk2XSwyNzpbMiw5Nl0sMjg6WzIsOTZdLDMyOlsyLDk2XSwzNTpbMSw0Nl0sMzY6WzIsOTZdLDM3OlsyLDk2XSwzOTpbMiw5Nl0sNDQ6WzIsOTZdLDQ1OlsyLDk2XSw0NjpbMiw5Nl0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMiw5Nl0sNjk6WzIsOTZdLDc2OlsyLDk2XSw3OTpbMiw5Nl0sODA6WzIsOTZdLDEwMzpbMiw5Nl19LHsxOlsyLDk3XSwxNDpbMiw5N10sMjE6WzIsOTddLDIyOlsyLDk3XSwyNDpbMiw5N10sMjY6WzIsOTddLDI3OlsyLDk3XSwyODpbMiw5N10sMzI6WzIsOTddLDM1OlsxLDQ2XSwzNjpbMiw5N10sMzc6WzIsOTddLDM5OlsyLDk3XSw0NDpbMiw5N10sNDU6WzIsOTddLDQ2OlsyLDk3XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzIsOTddLDc5OlsyLDk3XSw4MDpbMiw5N10sMTAzOlsyLDk3XX0sezE6WzIsMTAzXSwxNDpbMiwxMDNdLDIxOlsyLDEwM10sMjI6WzIsMTAzXSwyNDpbMiwxMDNdLDI2OlsyLDEwM10sMjc6WzIsMTAzXSwyODpbMiwxMDNdLDMyOlsyLDEwM10sMzU6WzEsNDZdLDM2OlsyLDEwM10sMzc6WzIsMTAzXSwzOTpbMiwxMDNdLDQ0OlsyLDEwM10sNDU6WzIsMTAzXSw0NjpbMiwxMDNdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMiwxMDNdLDc5OlsyLDEwM10sODA6WzIsMTAzXSwxMDM6WzIsMTAzXX0sezMyOlsxLDI0OF0sNDU6WzEsMjQ5XSw0NjpbMSwyNTBdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTQ6WzIsNTZdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NjMsMjE6WzIsNTZdLDIyOlsyLDU2XSwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMjpbMiw1Nl0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw0MzoyNTEsNDU6WzIsNTZdLDQ2OlsyLDU2XSw0NzpbMSw2NF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezE0OlsyLDUzXSwyMTpbMiw1M10sMjI6WzIsNTNdLDMyOlsyLDUzXSwzNTpbMSw0Nl0sNDQ6WzIsNTNdLDQ1OlsyLDUzXSw0NjpbMiw1M10sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXX0sezEzOjI1MiwzMjpbMiw1NV0sNDQ6WzEsMTYxXSw0NTpbMiw1NV0sNDY6WzIsNTVdfSx7MTc6MjM2LDM1OlsxLDQ2XSw0NjpbMSw2XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdfSx7MTpbMiw2OF0sMTQ6WzIsNjhdLDIxOlsyLDY4XSwyMjpbMiw2OF0sMjQ6WzIsNjhdLDI2OlsyLDY4XSwyNzpbMiw2OF0sMjg6WzIsNjhdLDMyOlsyLDY4XSwzNTpbMSw0Nl0sMzY6WzIsNjhdLDM3OlsyLDY4XSwzOTpbMiw2OF0sNDQ6WzIsNjhdLDQ1OlsyLDY4XSw0NjpbMiw2OF0sNTU6WzIsNjhdLDU2OlsxLDQ4XSw1OTpbMiw2OF0sNjA6WzIsNjhdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzIsNjhdLDY0OlsyLDY4XSw2NTpbMiw2OF0sNjY6WzEsNTZdLDY3OlsyLDY4XSw2ODpbMiw2OF0sNjk6WzIsNjhdLDc2OlsyLDY4XSw3OTpbMiw2OF0sODA6WzIsNjhdLDEwMzpbMiw2OF19LHsxOlsyLDY5XSwxNDpbMiw2OV0sMjE6WzIsNjldLDIyOlsyLDY5XSwyNDpbMiw2OV0sMjY6WzIsNjldLDI3OlsyLDY5XSwyODpbMiw2OV0sMzI6WzIsNjldLDM1OlsyLDY5XSwzNjpbMiw2OV0sMzc6WzIsNjldLDM5OlsyLDY5XSw0NDpbMiw2OV0sNDU6WzIsNjldLDQ2OlsyLDY5XSw1NTpbMiw2OV0sNTY6WzIsNjldLDU5OlsyLDY5XSw2MDpbMiw2OV0sNjE6WzIsNjldLDYyOlsyLDY5XSw2MzpbMiw2OV0sNjQ6WzIsNjldLDY1OlsyLDY5XSw2NjpbMiw2OV0sNjc6WzIsNjldLDY4OlsyLDY5XSw2OTpbMiw2OV0sNzY6WzIsNjldLDc5OlsyLDY5XSw4MDpbMiw2OV0sMTAzOlsyLDY5XX0sezE6WzIsNzJdLDE0OlsyLDcyXSwyMTpbMiw3Ml0sMjI6WzIsNzJdLDI0OlsyLDcyXSwyNjpbMiw3Ml0sMjc6WzIsNzJdLDI4OlsyLDcyXSwzMjpbMiw3Ml0sMzU6WzEsNDZdLDM2OlsyLDcyXSwzNzpbMiw3Ml0sMzk6WzIsNzJdLDQ0OlsyLDcyXSw0NTpbMiw3Ml0sNDY6WzIsNzJdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMiw3Ml0sNzk6WzIsNzJdLDgwOlsyLDcyXSwxMDM6WzIsNzJdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTI6MjUzLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NjMsMjI6WzIsNDddLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNDM6NjIsNDQ6WzIsNDddLDQ1OlsyLDQ3XSw0NjpbMiw0N10sNDc6WzEsNjRdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxOlsyLDEyN10sMTQ6WzIsMTI3XSwyMTpbMiwxMjddLDIyOlsyLDEyN10sMjQ6WzIsMTI3XSwyNjpbMiwxMjddLDI3OlsyLDEyN10sMjg6WzIsMTI3XSwzMjpbMiwxMjddLDM1OlsxLDQ2XSwzNjpbMiwxMjddLDM3OlsyLDEyN10sMzk6WzIsMTI3XSw0NDpbMiwxMjddLDQ1OlsyLDEyN10sNDY6WzIsMTI3XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsyLDEyN10sNjk6WzIsMTI3XSw3NjpbMiwxMjddLDc5OlsyLDEyN10sODA6WzIsMTI3XSwxMDM6WzIsMTI3XX0sezE6WzIsNl0sOTpbMiw2XSwxMTpbMiw2XSwxNDpbMiw2XSwxNTpbMiw2XSwyMTpbMiw2XSwyMjpbMiw2XSwyNDpbMiw2XSwyNjpbMiw2XSwyNzpbMiw2XSwyODpbMiw2XSwzMjpbMiw2XSwzNDpbMiw2XSwzNTpbMiw2XSwzNjpbMiw2XSwzNzpbMiw2XSwzOTpbMiw2XSw0NDpbMiw2XSw0NTpbMiw2XSw0NjpbMiw2XSw1MzpbMiw2XSw1NDpbMiw2XSw1NTpbMiw2XSw1NjpbMiw2XSw1OTpbMiw2XSw2MDpbMiw2XSw2MTpbMiw2XSw2MjpbMiw2XSw2MzpbMiw2XSw2NDpbMiw2XSw2NTpbMiw2XSw2NjpbMiw2XSw2NzpbMiw2XSw2ODpbMiw2XSw2OTpbMiw2XSw3MDpbMiw2XSw3NjpbMiw2XSw3OTpbMiw2XSw4MDpbMiw2XSw5NDpbMiw2XSwxMDA6WzIsNl0sMTAxOlsyLDZdLDEwMzpbMiw2XX0sezE6WzIsN10sOTpbMiw3XSwxMTpbMiw3XSwxNDpbMiw3XSwxNTpbMiw3XSwyMTpbMiw3XSwyMjpbMiw3XSwyNDpbMiw3XSwyNjpbMiw3XSwyNzpbMiw3XSwyODpbMiw3XSwzMjpbMiw3XSwzNDpbMiw3XSwzNTpbMiw3XSwzNjpbMiw3XSwzNzpbMiw3XSwzOTpbMiw3XSw0NDpbMiw3XSw0NTpbMiw3XSw0NjpbMiw3XSw1MzpbMiw3XSw1NDpbMiw3XSw1NTpbMiw3XSw1NjpbMiw3XSw1OTpbMiw3XSw2MDpbMiw3XSw2MTpbMiw3XSw2MjpbMiw3XSw2MzpbMiw3XSw2NDpbMiw3XSw2NTpbMiw3XSw2NjpbMiw3XSw2NzpbMiw3XSw2ODpbMiw3XSw2OTpbMiw3XSw3MDpbMiw3XSw3NjpbMiw3XSw3OTpbMiw3XSw4MDpbMiw3XSw5NDpbMiw3XSwxMDA6WzIsN10sMTAxOlsyLDddLDEwMzpbMiw3XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDEyOjEwOCwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjI1NCwyMTpbMiw0N10sMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzNjpbMSwyNTVdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDQzOjYyLDQ0OlsyLDQ3XSw0NTpbMiw0N10sNDY6WzIsNDddLDQ3OlsxLDY0XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7NDpbMSwxMjJdLDU6MTE5LDc6WzEsMTIzXSw4OlsxLDEyMF0sMTA6MTEzLDE4OlsxLDIxMF0sMjM6WzEsMTIxXSwyNDpbMiwxNDhdLDI1OlsxLDEyNF0sNDA6MTEwLDQyOjExOCw0NDpbMiwxNDhdLDQ1OlsyLDE0OF0sNDY6WzEsMTEyXSw0NzpbMSwxMTZdLDUxOlsxLDExN10sNTY6WzEsMTE1XSw5NjoxMTQsOTc6MTExfSx7MTM6MjU2LDE0OlsyLDU1XSw0NDpbMSwxNjFdLDQ1OlsyLDU1XSw0NjpbMiw1NV19LHsxOlsyLDc4XSw5OlsxLDczXSwxMTpbMSw3NF0sMTQ6WzIsNzhdLDE1OlsxLDc1XSwyMTpbMiw3OF0sMjI6WzIsNzhdLDI0OlsyLDc4XSwyNjpbMiw3OF0sMjc6WzIsNzhdLDI4OlsyLDc4XSwzMjpbMiw3OF0sMzU6WzIsNzhdLDM2OlsyLDc4XSwzNzpbMiw3OF0sMzk6WzIsNzhdLDQ0OlsyLDc4XSw0NTpbMiw3OF0sNDY6WzIsNzhdLDU1OlsyLDc4XSw1NjpbMiw3OF0sNTk6WzIsNzhdLDYwOlsyLDc4XSw2MTpbMiw3OF0sNjI6WzIsNzhdLDYzOlsyLDc4XSw2NDpbMiw3OF0sNjU6WzIsNzhdLDY2OlsyLDc4XSw2NzpbMiw3OF0sNjg6WzIsNzhdLDY5OlsyLDc4XSw3NjpbMiw3OF0sNzk6WzIsNzhdLDgwOlsyLDc4XSwxMDM6WzIsNzhdfSx7MTM6MjU3LDIyOlsyLDU1XSw0NDpbMSwxNjFdLDQ1OlsyLDU1XSw0NjpbMiw1NV19LHsxOlsyLDc5XSw5OlsxLDczXSwxMTpbMSw3NF0sMTQ6WzIsNzldLDE1OlsxLDc1XSwyMTpbMiw3OV0sMjI6WzIsNzldLDI0OlsyLDc5XSwyNjpbMiw3OV0sMjc6WzIsNzldLDI4OlsyLDc5XSwzMjpbMiw3OV0sMzU6WzIsNzldLDM2OlsyLDc5XSwzNzpbMiw3OV0sMzk6WzIsNzldLDQ0OlsyLDc5XSw0NTpbMiw3OV0sNDY6WzIsNzldLDU1OlsyLDc5XSw1NjpbMiw3OV0sNTk6WzIsNzldLDYwOlsyLDc5XSw2MTpbMiw3OV0sNjI6WzIsNzldLDYzOlsyLDc5XSw2NDpbMiw3OV0sNjU6WzIsNzldLDY2OlsyLDc5XSw2NzpbMiw3OV0sNjg6WzIsNzldLDY5OlsyLDc5XSw3NjpbMiw3OV0sNzk6WzIsNzldLDgwOlsyLDc5XSwxMDM6WzIsNzldfSx7MTpbMiw4MF0sOTpbMSw3M10sMTE6WzEsNzRdLDE0OlsyLDgwXSwxNTpbMSw3NV0sMjE6WzIsODBdLDIyOlsyLDgwXSwyNDpbMiw4MF0sMjY6WzIsODBdLDI3OlsyLDgwXSwyODpbMiw4MF0sMzI6WzIsODBdLDM1OlsyLDgwXSwzNjpbMiw4MF0sMzc6WzIsODBdLDM5OlsyLDgwXSw0NDpbMiw4MF0sNDU6WzIsODBdLDQ2OlsyLDgwXSw1NTpbMiw4MF0sNTY6WzIsODBdLDU5OlsyLDgwXSw2MDpbMiw4MF0sNjE6WzIsODBdLDYyOlsyLDgwXSw2MzpbMiw4MF0sNjQ6WzIsODBdLDY1OlsyLDgwXSw2NjpbMiw4MF0sNjc6WzIsODBdLDY4OlsyLDgwXSw2OTpbMiw4MF0sNzY6WzIsODBdLDc5OlsyLDgwXSw4MDpbMiw4MF0sMTAzOlsyLDgwXX0sezEzOjI1OCwxNDpbMiw1NV0sNDQ6WzEsMTYxXSw0NTpbMiw1NV0sNDY6WzIsNTVdfSx7MTM6MjU5LDE0OlsyLDU1XSw0NDpbMSwxNjFdLDQ1OlsyLDU1XSw0NjpbMiw1NV19LHsxOlsyLDE1N10sMTQ6WzIsMTU3XSwyMTpbMiwxNTddLDIyOlsyLDE1N10sMjQ6WzIsMTU3XSwyNjpbMiwxNTddLDI3OlsyLDE1N10sMjg6WzIsMTU3XSwzMjpbMiwxNTddLDM1OlsyLDE1N10sMzY6WzIsMTU3XSwzNzpbMiwxNTddLDM5OlsyLDE1N10sNDQ6WzIsMTU3XSw0NTpbMiwxNTddLDQ2OlsyLDE1N10sNTU6WzIsMTU3XSw1NjpbMiwxNTddLDU5OlsyLDE1N10sNjA6WzIsMTU3XSw2MTpbMiwxNTddLDYyOlsyLDE1N10sNjM6WzIsMTU3XSw2NDpbMiwxNTddLDY1OlsyLDE1N10sNjY6WzIsMTU3XSw2NzpbMiwxNTddLDY4OlsyLDE1N10sNjk6WzIsMTU3XSw3NToyNjAsNzY6WzIsMTU3XSw3OTpbMiwxNTddLDgwOlsyLDE1N10sODc6WzEsMTgzXSwxMDM6WzIsMTU3XX0sezE6WzIsMTA0XSwxNDpbMiwxMDRdLDIxOlsyLDEwNF0sMjI6WzIsMTA0XSwyNDpbMiwxMDRdLDI2OlsyLDEwNF0sMjc6WzIsMTA0XSwyODpbMiwxMDRdLDMyOlsyLDEwNF0sMzU6WzIsMTA0XSwzNjpbMiwxMDRdLDM3OlsyLDEwNF0sMzk6WzIsMTA0XSw0NDpbMiwxMDRdLDQ1OlsyLDEwNF0sNDY6WzIsMTA0XSw1NTpbMiwxMDRdLDU2OlsyLDEwNF0sNTk6WzIsMTA0XSw2MDpbMiwxMDRdLDYxOlsyLDEwNF0sNjI6WzIsMTA0XSw2MzpbMiwxMDRdLDY0OlsyLDEwNF0sNjU6WzIsMTA0XSw2NjpbMiwxMDRdLDY3OlsyLDEwNF0sNjg6WzIsMTA0XSw2OTpbMiwxMDRdLDc2OlsyLDEwNF0sNzk6WzIsMTA0XSw4MDpbMiwxMDRdLDEwMzpbMiwxMDRdfSx7MTc6MjYxLDQ2OlsxLDZdLDc0OlsxLDI2Ml19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjI2MywyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxMzoyNjQsMjI6WzIsNTVdLDQ0OlsxLDE2MV0sNDU6WzIsNTVdLDQ2OlsyLDU1XX0sezE6WzIsMTEyXSwxNDpbMiwxMTJdLDIxOlsyLDExMl0sMjI6WzIsMTEyXSwyNDpbMiwxMTJdLDI2OlsyLDExMl0sMjc6WzIsMTEyXSwyODpbMiwxMTJdLDMyOlsyLDExMl0sMzU6WzIsMTEyXSwzNjpbMiwxMTJdLDM3OlsyLDExMl0sMzk6WzIsMTEyXSw0NDpbMiwxMTJdLDQ1OlsyLDExMl0sNDY6WzIsMTEyXSw1NTpbMiwxMTJdLDU2OlsyLDExMl0sNTk6WzIsMTEyXSw2MDpbMiwxMTJdLDYxOlsyLDExMl0sNjI6WzIsMTEyXSw2MzpbMiwxMTJdLDY0OlsyLDExMl0sNjU6WzIsMTEyXSw2NjpbMiwxMTJdLDY3OlsyLDExMl0sNjg6WzIsMTEyXSw2OTpbMiwxMTJdLDc2OlsyLDExMl0sNzk6WzIsMTEyXSw4MDpbMSwxOTBdLDg2OlsxLDI2NV0sODc6WzEsMjY2XSwxMDM6WzIsMTEyXX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6MjY3LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezE3OjI2OCw0NjpbMSw2XX0sezE3OjI2OSw0NjpbMSw2XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6OTYsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg0OjI3MCw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezE3OjI3MSw0NDpbMSwxODddLDQ2OlsxLDZdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE3OjI3MiwxODpbMSwzNl0sMTk6NjMsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw0MzoyNzMsNDY6WzEsNl0sNDc6WzEsNjRdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxNzoyNzQsNDY6WzEsNl19LHs0NjpbMiwxOTJdLDkzOjI3NSwxMDM6WzEsMTk2XX0sezE3OjI3Niw0NjpbMSw2XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6OTYsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg0OjI3Nyw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezM1OlsxLDQ2XSw0NjpbMiwxODldLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF0sMTAzOlsyLDE4OV19LHsxMzoyNzgsMjI6WzIsNTVdLDQ0OlsxLDE2MV0sNDU6WzIsNTVdLDQ2OlsyLDU1XX0sezEzOjI3OSwxNDpbMiw1NV0sNDQ6WzEsMTYxXSw0NTpbMiw1NV0sNDY6WzIsNTVdfSx7MjE6WzEsMjgwXSwyMjpbMSwyODFdLDM5OlsxLDIwM10sNDU6WzEsMjgzXSw0NjpbMSwyODRdLDc3OjI4Miw3OTpbMSw0MV19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjI4NSwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsyMTpbMiwxODNdLDIyOlsyLDE4M10sMjQ6WzIsMTgzXSwzOTpbMiwxODNdLDQ1OlsyLDE4M10sNDY6WzIsMTgzXSw3OTpbMiwxODNdfSx7MzoxMzcsNDpbMSwxMzhdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjI4NiwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV0sMTAyOlsxLDEzOV19LHsyMTpbMSwyODddLDM1OlsxLDQ2XSwzNzpbMSwyODhdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF19LHsyMTpbMSwyODldLDQ1OlsxLDI0OV0sNDY6WzEsMjUwXX0sezEzOjI5MCwyMTpbMiw1NV0sNDQ6WzEsMTYxXSw0NTpbMiw1NV0sNDY6WzIsNTVdfSx7MjQ6WzEsMjkxXSw0NTpbMSwyOTJdfSx7NDpbMSwxMjJdLDU6MTE5LDc6WzEsMTIzXSw4OlsxLDEyMF0sMTA6MTEzLDE4OlsxLDIxMF0sMjI6WzIsNTZdLDIzOlsxLDEyMV0sMjQ6WzIsNTZdLDI1OlsxLDEyNF0sNDI6MTE4LDQ1OlsyLDU2XSw0NzpbMSwxMTZdLDUxOlsxLDExN10sNTY6WzEsMTE1XSw5NjoxMTQsOTc6MjkzfSx7MTM6Mjk0LDIyOlsyLDU1XSw0NDpbMSwyMDhdLDQ1OlsyLDU1XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDEyOjI5NSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjYzLDIxOlsyLDQ3XSwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDQzOjYyLDQ0OlsyLDQ3XSw0NTpbMiw0N10sNDY6WzIsNDddLDQ3OlsxLDY0XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOToyOTYsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw0NjpbMSwyOTddLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHs0OlsxLDEyMl0sNzpbMSwxMjNdLDQyOjI5OH0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6Mjk5LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6MzAwLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezIyOlsyLDE0NF0sMjQ6WzIsMTQ0XSw0NDpbMiwxNDRdLDQ1OlsyLDE0NF19LHsyMjpbMiwxNDVdLDI0OlsyLDE0NV0sNDQ6WzIsMTQ1XSw0NTpbMiwxNDVdfSx7MjI6WzIsMTQ2XSwyNDpbMiwxNDZdLDM1OlsxLDQ2XSw0NDpbMiwxNDZdLDQ1OlsyLDE0Nl0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXX0sezQ6WzEsMTIyXSw3OlsxLDEyM10sNDI6MzAxfSx7MTM6MzAyLDI0OlsyLDU1XSw0NDpbMSwyMDhdLDQ1OlsyLDU1XX0sezE6WzIsMTRdLDk6WzIsMTRdLDExOlsyLDE0XSwxNDpbMiwxNF0sMTU6WzIsMTRdLDIxOlsyLDE0XSwyMjpbMiwxNF0sMjQ6WzIsMTRdLDI2OlsyLDE0XSwyNzpbMiwxNF0sMjg6WzIsMTRdLDMyOlsyLDE0XSwzNDpbMiwxNF0sMzU6WzIsMTRdLDM2OlsyLDE0XSwzNzpbMiwxNF0sMzk6WzIsMTRdLDQ0OlsyLDE0XSw0NTpbMiwxNF0sNDY6WzIsMTRdLDUzOlsyLDE0XSw1NDpbMiwxNF0sNTU6WzIsMTRdLDU2OlsyLDE0XSw1OTpbMiwxNF0sNjA6WzIsMTRdLDYxOlsyLDE0XSw2MjpbMiwxNF0sNjM6WzIsMTRdLDY0OlsyLDE0XSw2NTpbMiwxNF0sNjY6WzIsMTRdLDY3OlsyLDE0XSw2ODpbMiwxNF0sNjk6WzIsMTRdLDcwOlsyLDE0XSw3NjpbMiwxNF0sNzk6WzIsMTRdLDgwOlsyLDE0XSw5NDpbMiwxNF0sMTAwOlsyLDE0XSwxMDE6WzIsMTRdLDEwMzpbMiwxNF19LHsyNzpbMSwzMDNdLDM1OlsxLDQ2XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdfSx7Mjc6WzEsMzA0XX0sezI3OlsxLDMwNV19LHszOjMwNiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwyMzpbMSwzN10sMjU6WzEsMzhdLDM4OlsxLDM5XSwzOTpbMSw2N119LHsxOlsyLDE3XSw5OlsyLDE3XSwxMTpbMiwxN10sMTQ6WzIsMTddLDE1OlsyLDE3XSwyMTpbMiwxN10sMjI6WzIsMTddLDI0OlsyLDE3XSwyNjpbMiwxN10sMjc6WzIsMTddLDI4OlsyLDE3XSwzMjpbMiwxN10sMzQ6WzIsMTddLDM1OlsyLDE3XSwzNjpbMiwxN10sMzc6WzIsMTddLDM5OlsyLDE3XSw0NDpbMiwxN10sNDU6WzIsMTddLDQ2OlsyLDE3XSw1MzpbMiwxN10sNTQ6WzIsMTddLDU1OlsyLDE3XSw1NjpbMiwxN10sNTk6WzIsMTddLDYwOlsyLDE3XSw2MTpbMiwxN10sNjI6WzIsMTddLDYzOlsyLDE3XSw2NDpbMiwxN10sNjU6WzIsMTddLDY2OlsyLDE3XSw2NzpbMiwxN10sNjg6WzIsMTddLDY5OlsyLDE3XSw3MDpbMiwxN10sNzY6WzIsMTddLDc5OlsyLDE3XSw4MDpbMiwxN10sOTQ6WzIsMTddLDEwMDpbMiwxN10sMTAxOlsyLDE3XSwxMDM6WzIsMTddfSx7Mjc6WzEsMzA3XSwzNTpbMSw0Nl0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXX0sezE6WzIsMjBdLDk6WzIsMjBdLDExOlsyLDIwXSwxNDpbMiwyMF0sMTU6WzIsMjBdLDIxOlsyLDIwXSwyMjpbMiwyMF0sMjQ6WzIsMjBdLDI2OlsyLDIwXSwyNzpbMiwyMF0sMjg6WzIsMjBdLDMyOlsyLDIwXSwzNDpbMiwyMF0sMzU6WzIsMjBdLDM2OlsyLDIwXSwzNzpbMiwyMF0sMzk6WzIsMjBdLDQ0OlsyLDIwXSw0NTpbMiwyMF0sNDY6WzIsMjBdLDUzOlsyLDIwXSw1NDpbMiwyMF0sNTU6WzIsMjBdLDU2OlsyLDIwXSw1OTpbMiwyMF0sNjA6WzIsMjBdLDYxOlsyLDIwXSw2MjpbMiwyMF0sNjM6WzIsMjBdLDY0OlsyLDIwXSw2NTpbMiwyMF0sNjY6WzIsMjBdLDY3OlsyLDIwXSw2ODpbMiwyMF0sNjk6WzIsMjBdLDcwOlsyLDIwXSw3NjpbMiwyMF0sNzk6WzIsMjBdLDgwOlsyLDIwXSw5NDpbMiwyMF0sMTAwOlsyLDIwXSwxMDE6WzIsMjBdLDEwMzpbMiwyMF19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxMjozMDgsMTQ6WzIsNDddLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NjMsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw0Mzo2Miw0NDpbMiw0N10sNDU6WzIsNDddLDQ2OlsyLDQ3XSw0NzpbMSw2NF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezE6WzIsMjJdLDk6WzIsMjJdLDExOlsyLDIyXSwxNDpbMiwyMl0sMTU6WzIsMjJdLDIxOlsyLDIyXSwyMjpbMiwyMl0sMjQ6WzIsMjJdLDI2OlsyLDIyXSwyNzpbMiwyMl0sMjg6WzIsMjJdLDMyOlsyLDIyXSwzNDpbMiwyMl0sMzU6WzIsMjJdLDM2OlsyLDIyXSwzNzpbMiwyMl0sMzk6WzIsMjJdLDQ0OlsyLDIyXSw0NTpbMiwyMl0sNDY6WzIsMjJdLDUzOlsyLDIyXSw1NDpbMiwyMl0sNTU6WzIsMjJdLDU2OlsyLDIyXSw1OTpbMiwyMl0sNjA6WzIsMjJdLDYxOlsyLDIyXSw2MjpbMiwyMl0sNjM6WzIsMjJdLDY0OlsyLDIyXSw2NTpbMiwyMl0sNjY6WzIsMjJdLDY3OlsyLDIyXSw2ODpbMiwyMl0sNjk6WzIsMjJdLDcwOlsyLDIyXSw3NjpbMiwyMl0sNzk6WzIsMjJdLDgwOlsyLDIyXSw5NDpbMiwyMl0sMTAwOlsyLDIyXSwxMDE6WzIsMjJdLDEwMzpbMiwyMl19LHsxMzozMDksMzI6WzIsNTVdLDQ0OlsxLDE2MV0sNDU6WzIsNTVdLDQ2OlsyLDU1XX0sezE6WzIsMjRdLDk6WzIsMjRdLDExOlsyLDI0XSwxNDpbMiwyNF0sMTU6WzIsMjRdLDIxOlsyLDI0XSwyMjpbMiwyNF0sMjQ6WzIsMjRdLDI2OlsyLDI0XSwyNzpbMiwyNF0sMjg6WzIsMjRdLDMyOlsyLDI0XSwzNDpbMiwyNF0sMzU6WzIsMjRdLDM2OlsyLDI0XSwzNzpbMiwyNF0sMzk6WzIsMjRdLDQ0OlsyLDI0XSw0NTpbMiwyNF0sNDY6WzIsMjRdLDUzOlsyLDI0XSw1NDpbMiwyNF0sNTU6WzIsMjRdLDU2OlsyLDI0XSw1OTpbMiwyNF0sNjA6WzIsMjRdLDYxOlsyLDI0XSw2MjpbMiwyNF0sNjM6WzIsMjRdLDY0OlsyLDI0XSw2NTpbMiwyNF0sNjY6WzIsMjRdLDY3OlsyLDI0XSw2ODpbMiwyNF0sNjk6WzIsMjRdLDcwOlsyLDI0XSw3NjpbMiwyNF0sNzk6WzIsMjRdLDgwOlsyLDI0XSw5NDpbMiwyNF0sMTAwOlsyLDI0XSwxMDE6WzIsMjRdLDEwMzpbMiwyNF19LHsxOlsyLDI1XSw5OlsyLDI1XSwxMTpbMiwyNV0sMTQ6WzIsMjVdLDE1OlsyLDI1XSwyMTpbMiwyNV0sMjI6WzIsMjVdLDI0OlsyLDI1XSwyNjpbMiwyNV0sMjc6WzIsMjVdLDI4OlsyLDI1XSwzMjpbMiwyNV0sMzQ6WzIsMjVdLDM1OlsyLDI1XSwzNjpbMiwyNV0sMzc6WzIsMjVdLDM5OlsyLDI1XSw0NDpbMiwyNV0sNDU6WzIsMjVdLDQ2OlsyLDI1XSw1MzpbMiwyNV0sNTQ6WzIsMjVdLDU1OlsyLDI1XSw1NjpbMiwyNV0sNTk6WzIsMjVdLDYwOlsyLDI1XSw2MTpbMiwyNV0sNjI6WzIsMjVdLDYzOlsyLDI1XSw2NDpbMiwyNV0sNjU6WzIsMjVdLDY2OlsyLDI1XSw2NzpbMiwyNV0sNjg6WzIsMjVdLDY5OlsyLDI1XSw3MDpbMiwyNV0sNzY6WzIsMjVdLDc5OlsyLDI1XSw4MDpbMiwyNV0sOTQ6WzIsMjVdLDEwMDpbMiwyNV0sMTAxOlsyLDI1XSwxMDM6WzIsMjVdfSx7OTpbMSw3M10sMTE6WzEsNzRdLDE1OlsxLDc1XSwzNTpbMSwzMTBdfSx7MTpbMiwxNTNdLDk6WzIsMTUzXSwxMTpbMiwxNTNdLDE0OlsyLDE1M10sMTU6WzIsMTUzXSwyMTpbMiwxNTNdLDIyOlsyLDE1M10sMjQ6WzIsMTUzXSwyNjpbMiwxNTNdLDI3OlsyLDE1M10sMjg6WzIsMTUzXSwzMjpbMiwxNTNdLDM0OlsyLDE1M10sMzU6WzIsMTUzXSwzNjpbMiwxNTNdLDM3OlsyLDE1M10sMzk6WzIsMTUzXSw0NDpbMiwxNTNdLDQ1OlsyLDE1M10sNDY6WzIsMTUzXSw1MzpbMiwxNTNdLDU0OlsyLDE1M10sNTU6WzIsMTUzXSw1NjpbMiwxNTNdLDU5OlsyLDE1M10sNjA6WzIsMTUzXSw2MTpbMiwxNTNdLDYyOlsyLDE1M10sNjM6WzIsMTUzXSw2NDpbMiwxNTNdLDY1OlsyLDE1M10sNjY6WzIsMTUzXSw2NzpbMiwxNTNdLDY4OlsyLDE1M10sNjk6WzIsMTUzXSw3MDpbMiwxNTNdLDc2OlsyLDE1M10sNzk6WzIsMTUzXSw4MDpbMiwxNTNdLDk0OlsyLDE1M10sOTg6WzIsMTUzXSwxMDA6WzIsMTUzXSwxMDE6WzIsMTUzXSwxMDM6WzIsMTUzXX0sezE6WzIsMzddLDk6WzIsMzddLDExOlsyLDM3XSwxNDpbMiwzN10sMTU6WzIsMzddLDIxOlsyLDM3XSwyMjpbMiwzN10sMjQ6WzIsMzddLDI2OlsyLDM3XSwyNzpbMiwzN10sMjg6WzIsMzddLDMyOlsyLDM3XSwzNDpbMiwzN10sMzU6WzIsMzddLDM2OlsyLDM3XSwzNzpbMiwzN10sMzk6WzIsMzddLDQ0OlsyLDM3XSw0NTpbMiwzN10sNDY6WzIsMzddLDUzOlsyLDM3XSw1NDpbMiwzN10sNTU6WzIsMzddLDU2OlsyLDM3XSw1OTpbMiwzN10sNjA6WzIsMzddLDYxOlsyLDM3XSw2MjpbMiwzN10sNjM6WzIsMzddLDY0OlsyLDM3XSw2NTpbMiwzN10sNjY6WzIsMzddLDY3OlsyLDM3XSw2ODpbMiwzN10sNjk6WzIsMzddLDcwOlsyLDM3XSw3NjpbMiwzN10sNzk6WzIsMzddLDgwOlsyLDM3XSw5NDpbMiwzN10sMTAwOlsyLDM3XSwxMDE6WzIsMzddLDEwMzpbMiwzN119LHsxOlsyLDM4XSw5OlsyLDM4XSwxMTpbMiwzOF0sMTQ6WzIsMzhdLDE1OlsyLDM4XSwyMTpbMiwzOF0sMjI6WzIsMzhdLDI0OlsyLDM4XSwyNjpbMiwzOF0sMjc6WzIsMzhdLDI4OlsyLDM4XSwzMjpbMiwzOF0sMzQ6WzIsMzhdLDM1OlsyLDM4XSwzNjpbMiwzOF0sMzc6WzIsMzhdLDM5OlsyLDM4XSw0NDpbMiwzOF0sNDU6WzIsMzhdLDQ2OlsyLDM4XSw1MzpbMiwzOF0sNTQ6WzIsMzhdLDU1OlsyLDM4XSw1NjpbMiwzOF0sNTk6WzIsMzhdLDYwOlsyLDM4XSw2MTpbMiwzOF0sNjI6WzIsMzhdLDYzOlsyLDM4XSw2NDpbMiwzOF0sNjU6WzIsMzhdLDY2OlsyLDM4XSw2NzpbMiwzOF0sNjg6WzIsMzhdLDY5OlsyLDM4XSw3MDpbMiwzOF0sNzY6WzIsMzhdLDc5OlsyLDM4XSw4MDpbMiwzOF0sOTQ6WzIsMzhdLDEwMDpbMiwzOF0sMTAxOlsyLDM4XSwxMDM6WzIsMzhdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTozMTEsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTozMTIsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTozMTMsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTozMTQsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzozMTUsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMjM6WzEsMzddLDI1OlsxLDM4XSwzODpbMSwzOV0sMzk6WzEsNjddfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTozMTYsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MzU6WzEsNDZdLDM2OlsxLDMxN10sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6MzE4LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6MzE5LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6MzIwLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezEzOjMyMSwyMjpbMiw1NV0sNDQ6WzEsMTYxXSw0NTpbMiw1NV0sNDY6WzIsNTVdfSx7NTA6WzEsMzIyXSw3MTpbMSwzMjNdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTo2MywyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDQzOjMyNCw0NzpbMSw2NF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDEyOjMyNSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjYzLDIyOlsyLDQ3XSwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDQzOjYyLDQ0OlsyLDQ3XSw0NTpbMiw0N10sNDY6WzIsNDddLDQ3OlsxLDY0XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MTQ6WzIsNDldLDIxOlsyLDQ5XSwyMjpbMiw0OV0sMzI6WzIsNDldLDQ0OlsyLDQ5XSw0NTpbMiw0OV0sNDY6WzIsNDldfSx7MzI6WzEsMzI2XSw0NTpbMSwyNDldLDQ2OlsxLDI1MF19LHsxMzozMjcsMjI6WzIsNTVdLDQ0OlsxLDE2MV0sNDU6WzIsNTVdLDQ2OlsyLDU1XX0sezIxOlsyLDUyXSwzNTpbMSw0Nl0sMzY6WzEsMzI4XSw0NDpbMiw1Ml0sNDU6WzIsNTJdLDQ2OlsyLDUyXSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTozMjksMjE6WzEsMzMwXSwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxNDpbMSwzMzFdLDQ1OlsxLDI0OV0sNDY6WzEsMjUwXX0sezIyOlsxLDMzMl0sNDU6WzEsMjQ5XSw0NjpbMSwyNTBdfSx7MTQ6WzEsMzMzXSw0NTpbMSwyNDldLDQ2OlsxLDI1MF19LHsxNDpbMSwzMzRdLDQ1OlsxLDI0OV0sNDY6WzEsMjUwXX0sezE6WzIsMTAyXSwxNDpbMiwxMDJdLDIxOlsyLDEwMl0sMjI6WzIsMTAyXSwyNDpbMiwxMDJdLDI2OlsyLDEwMl0sMjc6WzIsMTAyXSwyODpbMiwxMDJdLDMyOlsyLDEwMl0sMzU6WzIsMTAyXSwzNjpbMiwxMDJdLDM3OlsyLDEwMl0sMzk6WzIsMTAyXSw0NDpbMiwxMDJdLDQ1OlsyLDEwMl0sNDY6WzIsMTAyXSw1NTpbMiwxMDJdLDU2OlsyLDEwMl0sNTk6WzIsMTAyXSw2MDpbMiwxMDJdLDYxOlsyLDEwMl0sNjI6WzIsMTAyXSw2MzpbMiwxMDJdLDY0OlsyLDEwMl0sNjU6WzIsMTAyXSw2NjpbMiwxMDJdLDY3OlsyLDEwMl0sNjg6WzIsMTAyXSw2OTpbMiwxMDJdLDc2OlsyLDEwMl0sNzk6WzIsMTAyXSw4MDpbMiwxMDJdLDEwMzpbMiwxMDJdfSx7MTpbMiwxNThdLDE0OlsyLDE1OF0sMjE6WzIsMTU4XSwyMjpbMiwxNThdLDI0OlsyLDE1OF0sMjY6WzIsMTU4XSwyNzpbMiwxNThdLDI4OlsyLDE1OF0sMzI6WzIsMTU4XSwzNTpbMiwxNThdLDM2OlsyLDE1OF0sMzc6WzIsMTU4XSwzOTpbMiwxNThdLDQ0OlsyLDE1OF0sNDU6WzIsMTU4XSw0NjpbMiwxNThdLDU1OlsyLDE1OF0sNTY6WzIsMTU4XSw1OTpbMiwxNThdLDYwOlsyLDE1OF0sNjE6WzIsMTU4XSw2MjpbMiwxNThdLDYzOlsyLDE1OF0sNjQ6WzIsMTU4XSw2NTpbMiwxNThdLDY2OlsyLDE1OF0sNjc6WzIsMTU4XSw2ODpbMiwxNThdLDY5OlsyLDE1OF0sNzY6WzIsMTU4XSw3OTpbMiwxNThdLDgwOlsyLDE1OF0sMTAzOlsyLDE1OF19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjMzNSwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxOlsyLDEwNV0sMTQ6WzIsMTA1XSwyMTpbMiwxMDVdLDIyOlsyLDEwNV0sMjQ6WzIsMTA1XSwyNjpbMiwxMDVdLDI3OlsyLDEwNV0sMjg6WzIsMTA1XSwzMjpbMiwxMDVdLDM1OlsxLDQ2XSwzNjpbMiwxMDVdLDM3OlsyLDEwNV0sMzk6WzIsMTA1XSw0NDpbMiwxMDVdLDQ1OlsyLDEwNV0sNDY6WzIsMTA1XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsyLDEwNV0sNjk6WzIsMTA1XSw3NjpbMiwxMDVdLDc5OlsyLDEwNV0sODA6WzEsMzM2XSwxMDM6WzIsMTA1XX0sezIyOlsxLDMzN10sNDU6WzEsMjQ5XSw0NjpbMSwyNTBdfSx7MTc6MzM4LDQ2OlsxLDZdfSx7MTc6MzM5LDQ2OlsxLDZdfSx7MzU6WzEsNDZdLDQ0OlsyLDEzMl0sNDY6WzIsMTMyXSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdLDgwOlsyLDEzMl19LHsxOlsyLDExNl0sMTQ6WzIsMTE2XSwyMTpbMiwxMTZdLDIyOlsyLDExNl0sMjQ6WzIsMTE2XSwyNjpbMiwxMTZdLDI3OlsyLDExNl0sMjg6WzIsMTE2XSwzMjpbMiwxMTZdLDM1OlsyLDExNl0sMzY6WzIsMTE2XSwzNzpbMiwxMTZdLDM5OlsyLDExNl0sNDQ6WzIsMTE2XSw0NTpbMiwxMTZdLDQ2OlsyLDExNl0sNTU6WzIsMTE2XSw1NjpbMiwxMTZdLDU5OlsyLDExNl0sNjA6WzIsMTE2XSw2MTpbMiwxMTZdLDYyOlsyLDExNl0sNjM6WzIsMTE2XSw2NDpbMiwxMTZdLDY1OlsyLDExNl0sNjY6WzIsMTE2XSw2NzpbMiwxMTZdLDY4OlsyLDExNl0sNjk6WzIsMTE2XSw3NjpbMiwxMTZdLDc5OlsyLDExNl0sODA6WzIsMTE2XSwxMDM6WzIsMTE2XX0sezE6WzIsMTE3XSwxNDpbMiwxMTddLDIxOlsyLDExN10sMjI6WzIsMTE3XSwyNDpbMiwxMTddLDI2OlsyLDExN10sMjc6WzIsMTE3XSwyODpbMiwxMTddLDMyOlsyLDExN10sMzU6WzIsMTE3XSwzNjpbMiwxMTddLDM3OlsyLDExN10sMzk6WzIsMTE3XSw0NDpbMiwxMTddLDQ1OlsyLDExN10sNDY6WzIsMTE3XSw1NTpbMiwxMTddLDU2OlsyLDExN10sNTk6WzIsMTE3XSw2MDpbMiwxMTddLDYxOlsyLDExN10sNjI6WzIsMTE3XSw2MzpbMiwxMTddLDY0OlsyLDExN10sNjU6WzIsMTE3XSw2NjpbMiwxMTddLDY3OlsyLDExN10sNjg6WzIsMTE3XSw2OTpbMiwxMTddLDc2OlsyLDExN10sNzk6WzIsMTE3XSw4MDpbMiwxMTddLDEwMzpbMiwxMTddfSx7MTc6MzQwLDQ0OlsxLDE4N10sNDY6WzEsNl19LHsxOlsyLDE4N10sMTQ6WzIsMTg3XSwyMTpbMiwxODddLDIyOlsyLDE4N10sMjQ6WzIsMTg3XSwyNjpbMiwxODddLDI3OlsyLDE4N10sMjg6WzIsMTg3XSwzMjpbMiwxODddLDM1OlsyLDE4N10sMzY6WzIsMTg3XSwzNzpbMiwxODddLDM5OlsyLDE4N10sNDQ6WzIsMTg3XSw0NTpbMiwxODddLDQ2OlsyLDE4N10sNTU6WzIsMTg3XSw1NjpbMiwxODddLDU5OlsyLDE4N10sNjA6WzIsMTg3XSw2MTpbMiwxODddLDYyOlsyLDE4N10sNjM6WzIsMTg3XSw2NDpbMiwxODddLDY1OlsyLDE4N10sNjY6WzIsMTg3XSw2NzpbMiwxODddLDY4OlsyLDE4N10sNjk6WzIsMTg3XSw3NjpbMiwxODddLDc5OlsyLDE4N10sODA6WzIsMTg3XSw4NjpbMiwxODddLDg3OlsyLDE4N10sMTAzOlsyLDE4N119LHsxOlsyLDEyMF0sMTQ6WzIsMTIwXSwyMTpbMiwxMjBdLDIyOlsyLDEyMF0sMjQ6WzIsMTIwXSwyNjpbMiwxMjBdLDI3OlsyLDEyMF0sMjg6WzIsMTIwXSwzMjpbMiwxMjBdLDM1OlsyLDEyMF0sMzY6WzIsMTIwXSwzNzpbMiwxMjBdLDM5OlsyLDEyMF0sNDQ6WzIsMTIwXSw0NTpbMiwxMjBdLDQ2OlsyLDEyMF0sNTU6WzIsMTIwXSw1NjpbMiwxMjBdLDU5OlsyLDEyMF0sNjA6WzIsMTIwXSw2MTpbMiwxMjBdLDYyOlsyLDEyMF0sNjM6WzIsMTIwXSw2NDpbMiwxMjBdLDY1OlsyLDEyMF0sNjY6WzIsMTIwXSw2NzpbMiwxMjBdLDY4OlsyLDEyMF0sNjk6WzIsMTIwXSw3NjpbMiwxMjBdLDc5OlsyLDEyMF0sODA6WzIsMTIwXSw5MDpbMSwzNDFdLDEwMzpbMiwxMjBdfSx7MTc6MzQyLDQ2OlsxLDZdfSx7MTpbMiwxMjRdLDE0OlsyLDEyNF0sMjE6WzIsMTI0XSwyMjpbMiwxMjRdLDI0OlsyLDEyNF0sMjY6WzIsMTI0XSwyNzpbMiwxMjRdLDI4OlsyLDEyNF0sMzI6WzIsMTI0XSwzNTpbMiwxMjRdLDM2OlsyLDEyNF0sMzc6WzIsMTI0XSwzOTpbMiwxMjRdLDQ0OlsyLDEyNF0sNDU6WzIsMTI0XSw0NjpbMiwxMjRdLDU1OlsyLDEyNF0sNTY6WzIsMTI0XSw1OTpbMiwxMjRdLDYwOlsyLDEyNF0sNjE6WzIsMTI0XSw2MjpbMiwxMjRdLDYzOlsyLDEyNF0sNjQ6WzIsMTI0XSw2NTpbMiwxMjRdLDY2OlsyLDEyNF0sNjc6WzIsMTI0XSw2ODpbMiwxMjRdLDY5OlsyLDEyNF0sNzY6WzIsMTI0XSw3OTpbMiwxMjRdLDgwOlsyLDEyNF0sMTAzOlsyLDEyNF19LHsxNzozNDMsNDY6WzEsNl19LHsxOlsyLDEyNl0sMTQ6WzIsMTI2XSwyMTpbMiwxMjZdLDIyOlsyLDEyNl0sMjQ6WzIsMTI2XSwyNjpbMiwxMjZdLDI3OlsyLDEyNl0sMjg6WzIsMTI2XSwzMjpbMiwxMjZdLDM1OlsyLDEyNl0sMzY6WzIsMTI2XSwzNzpbMiwxMjZdLDM5OlsyLDEyNl0sNDQ6WzIsMTI2XSw0NTpbMiwxMjZdLDQ2OlsyLDEyNl0sNTU6WzIsMTI2XSw1NjpbMiwxMjZdLDU5OlsyLDEyNl0sNjA6WzIsMTI2XSw2MTpbMiwxMjZdLDYyOlsyLDEyNl0sNjM6WzIsMTI2XSw2NDpbMiwxMjZdLDY1OlsyLDEyNl0sNjY6WzIsMTI2XSw2NzpbMiwxMjZdLDY4OlsyLDEyNl0sNjk6WzIsMTI2XSw3NjpbMiwxMjZdLDc5OlsyLDEyNl0sODA6WzIsMTI2XSwxMDM6WzIsMTI2XX0sezQ0OlsxLDE4N10sNDY6WzIsMTkxXX0sezIyOlsxLDM0NF0sNDU6WzEsMjQ5XSw0NjpbMSwyNTBdfSx7MTQ6WzEsMzQ1XSw0NTpbMSwyNDldLDQ2OlsxLDI1MF19LHsxOlsyLDExXSw5OlsyLDExXSwxMTpbMiwxMV0sMTQ6WzIsMTFdLDE1OlsyLDExXSwyMTpbMiwxMV0sMjI6WzIsMTFdLDI0OlsyLDExXSwyNjpbMiwxMV0sMjc6WzIsMTFdLDI4OlsyLDExXSwzMjpbMiwxMV0sMzQ6WzIsMTFdLDM1OlsyLDExXSwzNjpbMiwxMV0sMzc6WzIsMTFdLDM5OlsyLDExXSw0NDpbMiwxMV0sNDU6WzIsMTFdLDQ2OlsyLDExXSw1MzpbMiwxMV0sNTQ6WzIsMTFdLDU1OlsyLDExXSw1NjpbMiwxMV0sNTk6WzIsMTFdLDYwOlsyLDExXSw2MTpbMiwxMV0sNjI6WzIsMTFdLDYzOlsyLDExXSw2NDpbMiwxMV0sNjU6WzIsMTFdLDY2OlsyLDExXSw2NzpbMiwxMV0sNjg6WzIsMTFdLDY5OlsyLDExXSw3MDpbMiwxMV0sNzY6WzIsMTFdLDc5OlsyLDExXSw4MDpbMiwxMV0sOTQ6WzIsMTFdLDEwMDpbMiwxMV0sMTAxOlsyLDExXSwxMDM6WzIsMTFdfSx7MjE6WzEsMzQ2XX0sezIxOlsyLDE4NF0sMjI6WzIsMTg0XSwyNDpbMiwxODRdLDM5OlsyLDE4NF0sNDU6WzIsMTg0XSw0NjpbMiwxODRdLDc5OlsyLDE4NF19LHszOTpbMSwyMDNdLDc3OjM0Nyw3OTpbMSw0MV19LHszOTpbMSwyMDNdLDc3OjM0OCw3OTpbMSw0MV19LHsyMTpbMSwzNDldLDM1OlsxLDQ2XSwzNzpbMSwzNTBdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF19LHsyMTpbMiwxNjRdLDIyOlsyLDE2NF0sMjQ6WzIsMTY0XSwzNTpbMSw0Nl0sMzc6WzEsMjM4XSwzOTpbMiwxNjRdLDQ1OlsyLDE2NF0sNDY6WzIsMTY0XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdLDc5OlsyLDE2NF0sODA6WzEsMjM3XX0sezE6WzIsMzFdLDk6WzIsMzFdLDExOlsyLDMxXSwxNDpbMiwzMV0sMTU6WzIsMzFdLDIxOlsyLDMxXSwyMjpbMiwzMV0sMjQ6WzIsMzFdLDI2OlsyLDMxXSwyNzpbMiwzMV0sMjg6WzIsMzFdLDMyOlsyLDMxXSwzNDpbMiwzMV0sMzU6WzIsMzFdLDM2OlsyLDMxXSwzNzpbMiwzMV0sMzk6WzIsMzFdLDQ0OlsyLDMxXSw0NTpbMiwzMV0sNDY6WzIsMzFdLDUzOlsyLDMxXSw1NDpbMiwzMV0sNTU6WzIsMzFdLDU2OlsyLDMxXSw1OTpbMiwzMV0sNjA6WzIsMzFdLDYxOlsyLDMxXSw2MjpbMiwzMV0sNjM6WzIsMzFdLDY0OlsyLDMxXSw2NTpbMiwzMV0sNjY6WzIsMzFdLDY3OlsyLDMxXSw2ODpbMiwzMV0sNjk6WzIsMzFdLDcwOlsyLDMxXSw3NjpbMiwzMV0sNzk6WzIsMzFdLDgwOlsyLDMxXSw5NDpbMiwzMV0sMTAwOlsyLDMxXSwxMDE6WzIsMzFdLDEwMzpbMiwzMV19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjM1MSwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxOlsyLDM5XSw5OlsyLDM5XSwxMTpbMiwzOV0sMTQ6WzIsMzldLDE1OlsyLDM5XSwyMTpbMiwzOV0sMjI6WzIsMzldLDI0OlsyLDM5XSwyNjpbMiwzOV0sMjc6WzIsMzldLDI4OlsyLDM5XSwzMjpbMiwzOV0sMzQ6WzIsMzldLDM1OlsyLDM5XSwzNjpbMiwzOV0sMzc6WzIsMzldLDM5OlsyLDM5XSw0MTpbMSwzNTJdLDQ0OlsyLDM5XSw0NTpbMiwzOV0sNDY6WzIsMzldLDUzOlsyLDM5XSw1NDpbMiwzOV0sNTU6WzIsMzldLDU2OlsyLDM5XSw1OTpbMiwzOV0sNjA6WzIsMzldLDYxOlsyLDM5XSw2MjpbMiwzOV0sNjM6WzIsMzldLDY0OlsyLDM5XSw2NTpbMiwzOV0sNjY6WzIsMzldLDY3OlsyLDM5XSw2ODpbMiwzOV0sNjk6WzIsMzldLDcwOlsyLDM5XSw3NjpbMiwzOV0sNzk6WzIsMzldLDgwOlsyLDM5XSw5NDpbMiwzOV0sMTAwOlsyLDM5XSwxMDE6WzIsMzldLDEwMzpbMiwzOV19LHsyMTpbMSwzNTNdLDQ1OlsxLDI0OV0sNDY6WzEsMjUwXX0sezE6WzIsNDBdLDk6WzIsNDBdLDExOlsyLDQwXSwxNDpbMiw0MF0sMTU6WzIsNDBdLDIxOlsyLDQwXSwyMjpbMiw0MF0sMjQ6WzIsNDBdLDI2OlsyLDQwXSwyNzpbMiw0MF0sMjg6WzIsNDBdLDMyOlsyLDQwXSwzNDpbMiw0MF0sMzU6WzIsNDBdLDM2OlsyLDQwXSwzNzpbMiw0MF0sMzk6WzIsNDBdLDQxOlsxLDM1NF0sNDQ6WzIsNDBdLDQ1OlsyLDQwXSw0NjpbMiw0MF0sNTM6WzIsNDBdLDU0OlsyLDQwXSw1NTpbMiw0MF0sNTY6WzIsNDBdLDU5OlsyLDQwXSw2MDpbMiw0MF0sNjE6WzIsNDBdLDYyOlsyLDQwXSw2MzpbMiw0MF0sNjQ6WzIsNDBdLDY1OlsyLDQwXSw2NjpbMiw0MF0sNjc6WzIsNDBdLDY4OlsyLDQwXSw2OTpbMiw0MF0sNzA6WzIsNDBdLDc2OlsyLDQwXSw3OTpbMiw0MF0sODA6WzIsNDBdLDk0OlsyLDQwXSwxMDA6WzIsNDBdLDEwMTpbMiw0MF0sMTAzOlsyLDQwXX0sezQ6WzEsMTIyXSw1OjExOSw3OlsxLDEyM10sODpbMSwxMjBdLDEwOjExMywxODpbMSwyMTBdLDIzOlsxLDEyMV0sMjU6WzEsMTI0XSw0MjoxMTgsNDc6WzEsMTE2XSw1MTpbMSwxMTddLDU2OlsxLDExNV0sOTY6MTE0LDk3OjM1NX0sezIyOlsyLDE1MF0sMjQ6WzIsMTUwXSw0NDpbMiwxNTBdLDQ1OlsyLDE1MF19LHsyMjpbMSwzNTZdLDQ1OlsxLDI5Ml19LHsxMzozNTcsMjE6WzIsNTVdLDQ0OlsxLDE2MV0sNDU6WzIsNTVdLDQ2OlsyLDU1XX0sezIyOlsyLDEzOV0sMjQ6WzIsMTM5XSwzNTpbMSw0Nl0sNDQ6WzIsMTM5XSw0NTpbMiwxMzldLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxMjozNTgsMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTo2MywyMjpbMiw0N10sMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw0Mzo2Miw0NDpbMiw0N10sNDU6WzIsNDddLDQ2OlsyLDQ3XSw0NzpbMSw2NF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezIyOlsyLDEzNV0sMjQ6WzIsMTM1XSw0NDpbMiwxMzVdLDQ1OlsyLDEzNV0sNTQ6WzIsMTM1XSw2MDpbMiwxMzVdfSx7MjI6WzIsMTQyXSwyNDpbMiwxNDJdLDM1OlsxLDQ2XSw0NDpbMiwxNDJdLDQ1OlsyLDE0Ml0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXX0sezIyOlsyLDE0M10sMjQ6WzIsMTQzXSwzNTpbMSw0Nl0sNDQ6WzIsMTQzXSw0NTpbMiwxNDNdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF19LHsyMjpbMiwxMzZdLDI0OlsyLDEzNl0sNDQ6WzIsMTM2XSw0NTpbMiwxMzZdLDU0OlsyLDEzNl0sNjA6WzIsMTM2XX0sezI0OlsxLDM1OV0sNDU6WzEsMjkyXX0sezE6WzIsMTVdLDk6WzIsMTVdLDExOlsyLDE1XSwxNDpbMiwxNV0sMTU6WzIsMTVdLDIxOlsyLDE1XSwyMjpbMiwxNV0sMjQ6WzIsMTVdLDI2OlsyLDE1XSwyNzpbMiwxNV0sMjg6WzIsMTVdLDMyOlsyLDE1XSwzNDpbMiwxNV0sMzU6WzIsMTVdLDM2OlsyLDE1XSwzNzpbMiwxNV0sMzk6WzIsMTVdLDQ0OlsyLDE1XSw0NTpbMiwxNV0sNDY6WzIsMTVdLDUzOlsyLDE1XSw1NDpbMiwxNV0sNTU6WzIsMTVdLDU2OlsyLDE1XSw1OTpbMiwxNV0sNjA6WzIsMTVdLDYxOlsyLDE1XSw2MjpbMiwxNV0sNjM6WzIsMTVdLDY0OlsyLDE1XSw2NTpbMiwxNV0sNjY6WzIsMTVdLDY3OlsyLDE1XSw2ODpbMiwxNV0sNjk6WzIsMTVdLDcwOlsyLDE1XSw3NjpbMiwxNV0sNzk6WzIsMTVdLDgwOlsyLDE1XSw5NDpbMiwxNV0sMTAwOlsyLDE1XSwxMDE6WzIsMTVdLDEwMzpbMiwxNV19LHsxOlsyLDE2XSw5OlsyLDE2XSwxMTpbMiwxNl0sMTQ6WzIsMTZdLDE1OlsyLDE2XSwyMTpbMiwxNl0sMjI6WzIsMTZdLDI0OlsyLDE2XSwyNjpbMiwxNl0sMjc6WzIsMTZdLDI4OlsyLDE2XSwzMjpbMiwxNl0sMzQ6WzIsMTZdLDM1OlsyLDE2XSwzNjpbMiwxNl0sMzc6WzIsMTZdLDM5OlsyLDE2XSw0NDpbMiwxNl0sNDU6WzIsMTZdLDQ2OlsyLDE2XSw1MzpbMiwxNl0sNTQ6WzIsMTZdLDU1OlsyLDE2XSw1NjpbMiwxNl0sNTk6WzIsMTZdLDYwOlsyLDE2XSw2MTpbMiwxNl0sNjI6WzIsMTZdLDYzOlsyLDE2XSw2NDpbMiwxNl0sNjU6WzIsMTZdLDY2OlsyLDE2XSw2NzpbMiwxNl0sNjg6WzIsMTZdLDY5OlsyLDE2XSw3MDpbMiwxNl0sNzY6WzIsMTZdLDc5OlsyLDE2XSw4MDpbMiwxNl0sOTQ6WzIsMTZdLDEwMDpbMiwxNl0sMTAxOlsyLDE2XSwxMDM6WzIsMTZdfSx7MTpbMiwxOV0sOTpbMiwxOV0sMTE6WzIsMTldLDE0OlsyLDE5XSwxNTpbMiwxOV0sMjE6WzIsMTldLDIyOlsyLDE5XSwyNDpbMiwxOV0sMjY6WzIsMTldLDI3OlsyLDE5XSwyODpbMiwxOV0sMzI6WzIsMTldLDM0OlsyLDE5XSwzNTpbMiwxOV0sMzY6WzIsMTldLDM3OlsyLDE5XSwzOTpbMiwxOV0sNDQ6WzIsMTldLDQ1OlsyLDE5XSw0NjpbMiwxOV0sNTM6WzIsMTldLDU0OlsyLDE5XSw1NTpbMiwxOV0sNTY6WzIsMTldLDU5OlsyLDE5XSw2MDpbMiwxOV0sNjE6WzIsMTldLDYyOlsyLDE5XSw2MzpbMiwxOV0sNjQ6WzIsMTldLDY1OlsyLDE5XSw2NjpbMiwxOV0sNjc6WzIsMTldLDY4OlsyLDE5XSw2OTpbMiwxOV0sNzA6WzIsMTldLDc2OlsyLDE5XSw3OTpbMiwxOV0sODA6WzIsMTldLDk0OlsyLDE5XSwxMDA6WzIsMTldLDEwMTpbMiwxOV0sMTAzOlsyLDE5XX0sezk6WzEsNzNdLDExOlsxLDc0XSwxNTpbMSw3NV0sMzU6WzEsMzYwXX0sezE6WzIsMThdLDk6WzIsMThdLDExOlsyLDE4XSwxNDpbMiwxOF0sMTU6WzIsMThdLDIxOlsyLDE4XSwyMjpbMiwxOF0sMjQ6WzIsMThdLDI2OlsyLDE4XSwyNzpbMiwxOF0sMjg6WzIsMThdLDMyOlsyLDE4XSwzNDpbMiwxOF0sMzU6WzIsMThdLDM2OlsyLDE4XSwzNzpbMiwxOF0sMzk6WzIsMThdLDQ0OlsyLDE4XSw0NTpbMiwxOF0sNDY6WzIsMThdLDUzOlsyLDE4XSw1NDpbMiwxOF0sNTU6WzIsMThdLDU2OlsyLDE4XSw1OTpbMiwxOF0sNjA6WzIsMThdLDYxOlsyLDE4XSw2MjpbMiwxOF0sNjM6WzIsMThdLDY0OlsyLDE4XSw2NTpbMiwxOF0sNjY6WzIsMThdLDY3OlsyLDE4XSw2ODpbMiwxOF0sNjk6WzIsMThdLDcwOlsyLDE4XSw3NjpbMiwxOF0sNzk6WzIsMThdLDgwOlsyLDE4XSw5NDpbMiwxOF0sMTAwOlsyLDE4XSwxMDE6WzIsMThdLDEwMzpbMiwxOF19LHsxMzozNjEsMTQ6WzIsNTVdLDQ0OlsxLDE2MV0sNDU6WzIsNTVdLDQ2OlsyLDU1XX0sezMyOlsxLDM2Ml0sNDU6WzEsMjQ5XSw0NjpbMSwyNTBdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTozNjQsMjM6WzEsMzddLDI1OlsxLDM4XSwyNzpbMSwzNjNdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsyMTpbMiwxNjVdLDIyOlsyLDE2NV0sMjQ6WzIsMTY1XSwzNTpbMSw0Nl0sMzk6WzIsMTY1XSw0NTpbMiwxNjVdLDQ2OlsyLDE2NV0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXSw3OTpbMiwxNjVdfSx7MjE6WzIsMTY2XSwyMjpbMiwxNjZdLDI0OlsyLDE2Nl0sMzU6WzEsNDZdLDM5OlsyLDE2Nl0sNDU6WzIsMTY2XSw0NjpbMiwxNjZdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF0sNzk6WzIsMTY2XSw4MDpbMSwzNjVdfSx7MjE6WzIsMTYwXSwyMjpbMiwxNjBdLDI0OlsyLDE2MF0sMzU6WzEsNDZdLDM3OlsxLDM2N10sMzk6WzIsMTYwXSw0NTpbMiwxNjBdLDQ2OlsyLDE2MF0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXSw3OTpbMiwxNjBdLDgwOlsxLDM2Nl19LHsyMTpbMiwxNjhdLDIyOlsyLDE2OF0sMjQ6WzIsMTY4XSwzNTpbMSw0Nl0sMzk6WzIsMTY4XSw0NTpbMiwxNjhdLDQ2OlsyLDE2OF0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXSw3OTpbMiwxNjhdLDgwOlsxLDM2OF19LHs5OlsxLDczXSwxMTpbMSw3NF0sMTU6WzEsNzVdLDEwMTpbMSwzNjldfSx7MzU6WzEsNDZdLDM2OlsxLDM3MF0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6MzcxLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezIxOlsyLDE4MF0sMjI6WzIsMTgwXSwyNDpbMiwxODBdLDM1OlsxLDQ2XSwzOTpbMiwxODBdLDQ1OlsyLDE4MF0sNDY6WzIsMTgwXSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdLDc5OlsyLDE4MF19LHsyMTpbMiwxODFdLDIyOlsyLDE4MV0sMjQ6WzIsMTgxXSwzNTpbMSw0Nl0sMzk6WzIsMTgxXSw0NTpbMiwxODFdLDQ2OlsyLDE4MV0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXSw3OTpbMiwxODFdLDgwOlsxLDM3Ml19LHsxOlsyLDcwXSwxNDpbMiw3MF0sMjE6WzIsNzBdLDIyOlsyLDcwXSwyNDpbMiw3MF0sMjY6WzIsNzBdLDI3OlsyLDcwXSwyODpbMiw3MF0sMzI6WzIsNzBdLDM1OlsyLDcwXSwzNjpbMiw3MF0sMzc6WzIsNzBdLDM5OlsyLDcwXSw0NDpbMiw3MF0sNDU6WzIsNzBdLDQ2OlsyLDcwXSw1NTpbMiw3MF0sNTY6WzIsNzBdLDU5OlsyLDcwXSw2MDpbMiw3MF0sNjE6WzIsNzBdLDYyOlsyLDcwXSw2MzpbMiw3MF0sNjQ6WzIsNzBdLDY1OlsyLDcwXSw2NjpbMiw3MF0sNjc6WzIsNzBdLDY4OlsyLDcwXSw2OTpbMiw3MF0sNzY6WzIsNzBdLDc5OlsyLDcwXSw4MDpbMiw3MF0sMTAzOlsyLDcwXX0sezIyOlsxLDM3M10sNDU6WzEsMjQ5XSw0NjpbMSwyNTBdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTozNzQsMjM6WzEsMzddLDI1OlsxLDM4XSwzMTpbMSw2NV0sMzM6WzEsMTRdLDM0OlsxLDEzXSwzODpbMSwzOV0sMzk6WzEsNDBdLDQxOlsxLDI4XSw1NjpbMSwxNV0sNTc6WzEsMTZdLDU4OlsxLDE3XSw3MjpbMSwxOF0sNzM6WzEsMTldLDc0OlsxLDIwXSw3NzoyMSw3ODpbMSwyMl0sNzk6WzEsNDFdLDgxOlsxLDIzXSw4MjpbMSwyNF0sODM6WzEsMjVdLDg4OlsxLDI2XSw5MTpbMSwyN10sOTU6WzEsMjldfSx7MTc6Mzc1LDQ2OlsxLDZdfSx7MTQ6WzIsNTBdLDIxOlsyLDUwXSwyMjpbMiw1MF0sMzI6WzIsNTBdLDQ0OlsyLDUwXSw0NTpbMiw1MF0sNDY6WzIsNTBdfSx7MTM6Mzc2LDIyOlsyLDU1XSw0NDpbMSwxNjFdLDQ1OlsyLDU1XSw0NjpbMiw1NV19LHs3MTpbMSwzMjNdfSx7MjI6WzEsMzc3XSw0NTpbMSwyNDldLDQ2OlsxLDI1MF19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjM3OCwyMTpbMSwzNzldLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezIxOlsxLDM4MF0sMzU6WzEsNDZdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF19LHsxOlsyLDM2XSw5OlsyLDM2XSwxMTpbMiwzNl0sMTQ6WzIsMzZdLDE1OlsyLDM2XSwyMTpbMiwzNl0sMjI6WzIsMzZdLDI0OlsyLDM2XSwyNjpbMiwzNl0sMjc6WzIsMzZdLDI4OlsyLDM2XSwzMjpbMiwzNl0sMzQ6WzIsMzZdLDM1OlsyLDM2XSwzNjpbMiwzNl0sMzc6WzIsMzZdLDM5OlsyLDM2XSw0NDpbMiwzNl0sNDU6WzIsMzZdLDQ2OlsyLDM2XSw1MzpbMiwzNl0sNTQ6WzIsMzZdLDU1OlsyLDM2XSw1NjpbMiwzNl0sNTk6WzIsMzZdLDYwOlsyLDM2XSw2MTpbMiwzNl0sNjI6WzIsMzZdLDYzOlsyLDM2XSw2NDpbMiwzNl0sNjU6WzIsMzZdLDY2OlsyLDM2XSw2NzpbMiwzNl0sNjg6WzIsMzZdLDY5OlsyLDM2XSw3MDpbMiwzNl0sNzY6WzIsMzZdLDc5OlsyLDM2XSw4MDpbMiwzNl0sOTQ6WzIsMzZdLDEwMDpbMiwzNl0sMTAxOlsyLDM2XSwxMDM6WzIsMzZdfSx7MTpbMiw4XSw5OlsyLDhdLDExOlsyLDhdLDE0OlsyLDhdLDE1OlsyLDhdLDIxOlsyLDhdLDIyOlsyLDhdLDI0OlsyLDhdLDI2OlsyLDhdLDI3OlsyLDhdLDI4OlsyLDhdLDMyOlsyLDhdLDM0OlsyLDhdLDM1OlsyLDhdLDM2OlsyLDhdLDM3OlsyLDhdLDM5OlsyLDhdLDQ0OlsyLDhdLDQ1OlsyLDhdLDQ2OlsyLDhdLDUzOlsyLDhdLDU0OlsyLDhdLDU1OlsyLDhdLDU2OlsyLDhdLDU5OlsyLDhdLDYwOlsyLDhdLDYxOlsyLDhdLDYyOlsyLDhdLDYzOlsyLDhdLDY0OlsyLDhdLDY1OlsyLDhdLDY2OlsyLDhdLDY3OlsyLDhdLDY4OlsyLDhdLDY5OlsyLDhdLDcwOlsyLDhdLDc2OlsyLDhdLDc5OlsyLDhdLDgwOlsyLDhdLDk0OlsyLDhdLDEwMDpbMiw4XSwxMDE6WzIsOF0sMTAzOlsyLDhdfSx7MTpbMiw4NV0sMTQ6WzIsODVdLDIxOlsyLDg1XSwyMjpbMiw4NV0sMjQ6WzIsODVdLDI2OlsyLDg1XSwyNzpbMiw4NV0sMjg6WzIsODVdLDMyOlsyLDg1XSwzNTpbMiw4NV0sMzY6WzIsODVdLDM3OlsyLDg1XSwzOTpbMiw4NV0sNDQ6WzIsODVdLDQ1OlsyLDg1XSw0NjpbMiw4NV0sNTU6WzIsODVdLDU2OlsyLDg1XSw1OTpbMiw4NV0sNjA6WzIsODVdLDYxOlsyLDg1XSw2MjpbMiw4NV0sNjM6WzIsODVdLDY0OlsyLDg1XSw2NTpbMiw4NV0sNjY6WzIsODVdLDY3OlsyLDg1XSw2ODpbMiw4NV0sNjk6WzIsODVdLDc2OlsyLDg1XSw3OTpbMiw4NV0sODA6WzIsODVdLDEwMzpbMiw4NV19LHsxNzozODEsNDY6WzEsNl19LHsxNzozODIsNDY6WzEsNl19LHsxNzozODMsMzU6WzEsNDZdLDQ2OlsxLDZdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjM4NCwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxOlsyLDEwOF0sMTQ6WzIsMTA4XSwyMTpbMiwxMDhdLDIyOlsyLDEwOF0sMjQ6WzIsMTA4XSwyNjpbMiwxMDhdLDI3OlsyLDEwOF0sMjg6WzIsMTA4XSwzMjpbMiwxMDhdLDM1OlsyLDEwOF0sMzY6WzIsMTA4XSwzNzpbMiwxMDhdLDM5OlsyLDEwOF0sNDQ6WzIsMTA4XSw0NTpbMiwxMDhdLDQ2OlsyLDEwOF0sNTU6WzIsMTA4XSw1NjpbMiwxMDhdLDU5OlsyLDEwOF0sNjA6WzIsMTA4XSw2MTpbMiwxMDhdLDYyOlsyLDEwOF0sNjM6WzIsMTA4XSw2NDpbMiwxMDhdLDY1OlsyLDEwOF0sNjY6WzIsMTA4XSw2NzpbMiwxMDhdLDY4OlsyLDEwOF0sNjk6WzIsMTA4XSw3NjpbMiwxMDhdLDc5OlsyLDEwOF0sODA6WzIsMTA4XSwxMDM6WzIsMTA4XX0sezE6WzIsMTEzXSwxNDpbMiwxMTNdLDIxOlsyLDExM10sMjI6WzIsMTEzXSwyNDpbMiwxMTNdLDI2OlsyLDExM10sMjc6WzIsMTEzXSwyODpbMiwxMTNdLDMyOlsyLDExM10sMzU6WzIsMTEzXSwzNjpbMiwxMTNdLDM3OlsyLDExM10sMzk6WzIsMTEzXSw0NDpbMiwxMTNdLDQ1OlsyLDExM10sNDY6WzIsMTEzXSw1NTpbMiwxMTNdLDU2OlsyLDExM10sNTk6WzIsMTEzXSw2MDpbMiwxMTNdLDYxOlsyLDExM10sNjI6WzIsMTEzXSw2MzpbMiwxMTNdLDY0OlsyLDExM10sNjU6WzIsMTEzXSw2NjpbMiwxMTNdLDY3OlsyLDExM10sNjg6WzIsMTEzXSw2OTpbMiwxMTNdLDc2OlsyLDExM10sNzk6WzIsMTEzXSw4MDpbMiwxMTNdLDEwMzpbMiwxMTNdfSx7MTpbMiwxMTRdLDE0OlsyLDExNF0sMjE6WzIsMTE0XSwyMjpbMiwxMTRdLDI0OlsyLDExNF0sMjY6WzIsMTE0XSwyNzpbMiwxMTRdLDI4OlsyLDExNF0sMzI6WzIsMTE0XSwzNTpbMiwxMTRdLDM2OlsyLDExNF0sMzc6WzIsMTE0XSwzOTpbMiwxMTRdLDQ0OlsyLDExNF0sNDU6WzIsMTE0XSw0NjpbMiwxMTRdLDU1OlsyLDExNF0sNTY6WzIsMTE0XSw1OTpbMiwxMTRdLDYwOlsyLDExNF0sNjE6WzIsMTE0XSw2MjpbMiwxMTRdLDYzOlsyLDExNF0sNjQ6WzIsMTE0XSw2NTpbMiwxMTRdLDY2OlsyLDExNF0sNjc6WzIsMTE0XSw2ODpbMiwxMTRdLDY5OlsyLDExNF0sNzY6WzIsMTE0XSw3OTpbMiwxMTRdLDgwOlsyLDExNF0sMTAzOlsyLDExNF19LHsxOlsyLDE4OF0sMTQ6WzIsMTg4XSwyMTpbMiwxODhdLDIyOlsyLDE4OF0sMjQ6WzIsMTg4XSwyNjpbMiwxODhdLDI3OlsyLDE4OF0sMjg6WzIsMTg4XSwzMjpbMiwxODhdLDM1OlsyLDE4OF0sMzY6WzIsMTg4XSwzNzpbMiwxODhdLDM5OlsyLDE4OF0sNDQ6WzIsMTg4XSw0NTpbMiwxODhdLDQ2OlsyLDE4OF0sNTU6WzIsMTg4XSw1NjpbMiwxODhdLDU5OlsyLDE4OF0sNjA6WzIsMTg4XSw2MTpbMiwxODhdLDYyOlsyLDE4OF0sNjM6WzIsMTg4XSw2NDpbMiwxODhdLDY1OlsyLDE4OF0sNjY6WzIsMTg4XSw2NzpbMiwxODhdLDY4OlsyLDE4OF0sNjk6WzIsMTg4XSw3NjpbMiwxODhdLDc5OlsyLDE4OF0sODA6WzIsMTg4XSw4NjpbMiwxODhdLDg3OlsyLDE4OF0sMTAzOlsyLDE4OF19LHsxNzozODUsNDY6WzEsNl19LHsxOlsyLDEyMl0sMTQ6WzIsMTIyXSwyMTpbMiwxMjJdLDIyOlsyLDEyMl0sMjQ6WzIsMTIyXSwyNjpbMiwxMjJdLDI3OlsyLDEyMl0sMjg6WzIsMTIyXSwzMjpbMiwxMjJdLDM1OlsyLDEyMl0sMzY6WzIsMTIyXSwzNzpbMiwxMjJdLDM5OlsyLDEyMl0sNDQ6WzIsMTIyXSw0NTpbMiwxMjJdLDQ2OlsyLDEyMl0sNTU6WzIsMTIyXSw1NjpbMiwxMjJdLDU5OlsyLDEyMl0sNjA6WzIsMTIyXSw2MTpbMiwxMjJdLDYyOlsyLDEyMl0sNjM6WzIsMTIyXSw2NDpbMiwxMjJdLDY1OlsyLDEyMl0sNjY6WzIsMTIyXSw2NzpbMiwxMjJdLDY4OlsyLDEyMl0sNjk6WzIsMTIyXSw3NjpbMiwxMjJdLDc5OlsyLDEyMl0sODA6WzIsMTIyXSw5MDpbMSwzODZdLDEwMzpbMiwxMjJdfSx7MTpbMiwxMjVdLDE0OlsyLDEyNV0sMjE6WzIsMTI1XSwyMjpbMiwxMjVdLDI0OlsyLDEyNV0sMjY6WzIsMTI1XSwyNzpbMiwxMjVdLDI4OlsyLDEyNV0sMzI6WzIsMTI1XSwzNTpbMiwxMjVdLDM2OlsyLDEyNV0sMzc6WzIsMTI1XSwzOTpbMiwxMjVdLDQ0OlsyLDEyNV0sNDU6WzIsMTI1XSw0NjpbMiwxMjVdLDU1OlsyLDEyNV0sNTY6WzIsMTI1XSw1OTpbMiwxMjVdLDYwOlsyLDEyNV0sNjE6WzIsMTI1XSw2MjpbMiwxMjVdLDYzOlsyLDEyNV0sNjQ6WzIsMTI1XSw2NTpbMiwxMjVdLDY2OlsyLDEyNV0sNjc6WzIsMTI1XSw2ODpbMiwxMjVdLDY5OlsyLDEyNV0sNzY6WzIsMTI1XSw3OTpbMiwxMjVdLDgwOlsyLDEyNV0sMTAzOlsyLDEyNV19LHsxOlsyLDEzMF0sMTQ6WzIsMTMwXSwyMTpbMiwxMzBdLDIyOlsyLDEzMF0sMjQ6WzIsMTMwXSwyNjpbMiwxMzBdLDI3OlsyLDEzMF0sMjg6WzIsMTMwXSwzMjpbMiwxMzBdLDM1OlsyLDEzMF0sMzY6WzIsMTMwXSwzNzpbMiwxMzBdLDM5OlsyLDEzMF0sNDQ6WzIsMTMwXSw0NTpbMiwxMzBdLDQ2OlsyLDEzMF0sNTU6WzIsMTMwXSw1NjpbMiwxMzBdLDU5OlsyLDEzMF0sNjA6WzIsMTMwXSw2MTpbMiwxMzBdLDYyOlsyLDEzMF0sNjM6WzIsMTMwXSw2NDpbMiwxMzBdLDY1OlsyLDEzMF0sNjY6WzIsMTMwXSw2NzpbMiwxMzBdLDY4OlsyLDEzMF0sNjk6WzIsMTMwXSw3NjpbMiwxMzBdLDc5OlsyLDEzMF0sODA6WzIsMTMwXSwxMDM6WzIsMTMwXX0sezE3OjM4Nyw0NjpbMSw2XX0sezE6WzIsMTJdLDk6WzIsMTJdLDExOlsyLDEyXSwxNDpbMiwxMl0sMTU6WzIsMTJdLDIxOlsyLDEyXSwyMjpbMiwxMl0sMjQ6WzIsMTJdLDI2OlsyLDEyXSwyNzpbMiwxMl0sMjg6WzIsMTJdLDMyOlsyLDEyXSwzNDpbMiwxMl0sMzU6WzIsMTJdLDM2OlsyLDEyXSwzNzpbMiwxMl0sMzk6WzIsMTJdLDQ0OlsyLDEyXSw0NTpbMiwxMl0sNDY6WzIsMTJdLDUzOlsyLDEyXSw1NDpbMiwxMl0sNTU6WzIsMTJdLDU2OlsyLDEyXSw1OTpbMiwxMl0sNjA6WzIsMTJdLDYxOlsyLDEyXSw2MjpbMiwxMl0sNjM6WzIsMTJdLDY0OlsyLDEyXSw2NTpbMiwxMl0sNjY6WzIsMTJdLDY3OlsyLDEyXSw2ODpbMiwxMl0sNjk6WzIsMTJdLDcwOlsyLDEyXSw3NjpbMiwxMl0sNzk6WzIsMTJdLDgwOlsyLDEyXSw5NDpbMiwxMl0sMTAwOlsyLDEyXSwxMDE6WzIsMTJdLDEwMzpbMiwxMl19LHsyMTpbMiwxODVdLDIyOlsyLDE4NV0sMjQ6WzIsMTg1XSwzOTpbMiwxODVdLDQ1OlsyLDE4NV0sNDY6WzIsMTg1XSw3OTpbMiwxODVdfSx7MjE6WzIsMTg2XSwyMjpbMiwxODZdLDI0OlsyLDE4Nl0sMzk6WzIsMTg2XSw0NTpbMiwxODZdLDQ2OlsyLDE4Nl0sNzk6WzIsMTg2XX0sezE6WzIsMjldLDk6WzIsMjldLDExOlsyLDI5XSwxNDpbMiwyOV0sMTU6WzIsMjldLDIxOlsyLDI5XSwyMjpbMiwyOV0sMjQ6WzIsMjldLDI2OlsyLDI5XSwyNzpbMiwyOV0sMjg6WzIsMjldLDMyOlsyLDI5XSwzNDpbMiwyOV0sMzU6WzIsMjldLDM2OlsyLDI5XSwzNzpbMiwyOV0sMzk6WzIsMjldLDQ0OlsyLDI5XSw0NTpbMiwyOV0sNDY6WzIsMjldLDUzOlsyLDI5XSw1NDpbMiwyOV0sNTU6WzIsMjldLDU2OlsyLDI5XSw1OTpbMiwyOV0sNjA6WzIsMjldLDYxOlsyLDI5XSw2MjpbMiwyOV0sNjM6WzIsMjldLDY0OlsyLDI5XSw2NTpbMiwyOV0sNjY6WzIsMjldLDY3OlsyLDI5XSw2ODpbMiwyOV0sNjk6WzIsMjldLDcwOlsyLDI5XSw3NjpbMiwyOV0sNzk6WzIsMjldLDgwOlsyLDI5XSw5NDpbMiwyOV0sMTAwOlsyLDI5XSwxMDE6WzIsMjldLDEwMzpbMiwyOV19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjM4OCwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsyMTpbMSwzODldLDM1OlsxLDQ2XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdfSx7MTpbMiw0MV0sOTpbMiw0MV0sMTE6WzIsNDFdLDE0OlsyLDQxXSwxNTpbMiw0MV0sMjE6WzIsNDFdLDIyOlsyLDQxXSwyNDpbMiw0MV0sMjY6WzIsNDFdLDI3OlsyLDQxXSwyODpbMiw0MV0sMzI6WzIsNDFdLDM0OlsyLDQxXSwzNTpbMiw0MV0sMzY6WzIsNDFdLDM3OlsyLDQxXSwzOTpbMiw0MV0sNDQ6WzIsNDFdLDQ1OlsyLDQxXSw0NjpbMiw0MV0sNTM6WzIsNDFdLDU0OlsyLDQxXSw1NTpbMiw0MV0sNTY6WzIsNDFdLDU5OlsyLDQxXSw2MDpbMiw0MV0sNjE6WzIsNDFdLDYyOlsyLDQxXSw2MzpbMiw0MV0sNjQ6WzIsNDFdLDY1OlsyLDQxXSw2NjpbMiw0MV0sNjc6WzIsNDFdLDY4OlsyLDQxXSw2OTpbMiw0MV0sNzA6WzIsNDFdLDc2OlsyLDQxXSw3OTpbMiw0MV0sODA6WzIsNDFdLDk0OlsyLDQxXSwxMDA6WzIsNDFdLDEwMTpbMiw0MV0sMTAzOlsyLDQxXX0sezIwOjM5MCwzOTpbMSwyMDNdLDQxOlsxLDM5MV0sNzc6MjAyLDc5OlsxLDQxXX0sezE6WzIsNDJdLDk6WzIsNDJdLDExOlsyLDQyXSwxNDpbMiw0Ml0sMTU6WzIsNDJdLDIxOlsyLDQyXSwyMjpbMiw0Ml0sMjQ6WzIsNDJdLDI2OlsyLDQyXSwyNzpbMiw0Ml0sMjg6WzIsNDJdLDMyOlsyLDQyXSwzNDpbMiw0Ml0sMzU6WzIsNDJdLDM2OlsyLDQyXSwzNzpbMiw0Ml0sMzk6WzIsNDJdLDQ0OlsyLDQyXSw0NTpbMiw0Ml0sNDY6WzIsNDJdLDUzOlsyLDQyXSw1NDpbMiw0Ml0sNTU6WzIsNDJdLDU2OlsyLDQyXSw1OTpbMiw0Ml0sNjA6WzIsNDJdLDYxOlsyLDQyXSw2MjpbMiw0Ml0sNjM6WzIsNDJdLDY0OlsyLDQyXSw2NTpbMiw0Ml0sNjY6WzIsNDJdLDY3OlsyLDQyXSw2ODpbMiw0Ml0sNjk6WzIsNDJdLDcwOlsyLDQyXSw3NjpbMiw0Ml0sNzk6WzIsNDJdLDgwOlsyLDQyXSw5NDpbMiw0Ml0sMTAwOlsyLDQyXSwxMDE6WzIsNDJdLDEwMzpbMiw0Ml19LHsyMjpbMiwxNTFdLDI0OlsyLDE1MV0sNDQ6WzIsMTUxXSw0NTpbMiwxNTFdfSx7MjI6WzIsMTUyXSwyNDpbMiwxNTJdLDQ0OlsyLDE1Ml0sNDU6WzIsMTUyXX0sezIxOlsxLDM5Ml0sNDU6WzEsMjQ5XSw0NjpbMSwyNTBdfSx7MTM6MzkzLDIyOlsyLDU1XSw0NDpbMSwxNjFdLDQ1OlsyLDU1XSw0NjpbMiw1NV19LHs0MTpbMSwzOTRdfSx7MzoxMiw0OlsxLDMwXSw1OjMxLDY6MzIsNzpbMSwzM10sODpbMSwzNF0sMTY6WzEsMzVdLDE4OlsxLDM2XSwxOTozMjAsMjM6WzEsMzddLDI1OlsxLDM4XSwyNzpbMSwzOTVdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxNDpbMSwzOTZdLDQ1OlsxLDI0OV0sNDY6WzEsMjUwXX0sezMwOlsxLDM5N10sNTA6WzEsMzIyXSw3MTpbMSwzMjNdfSx7MTpbMiwyNl0sOTpbMiwyNl0sMTE6WzIsMjZdLDE0OlsyLDI2XSwxNTpbMiwyNl0sMjE6WzIsMjZdLDIyOlsyLDI2XSwyNDpbMiwyNl0sMjY6WzIsMjZdLDI3OlsyLDI2XSwyODpbMiwyNl0sMzI6WzIsMjZdLDM0OlsyLDI2XSwzNTpbMiwyNl0sMzY6WzIsMjZdLDM3OlsyLDI2XSwzOTpbMiwyNl0sNDQ6WzIsMjZdLDQ1OlsyLDI2XSw0NjpbMiwyNl0sNTM6WzIsMjZdLDU0OlsyLDI2XSw1NTpbMiwyNl0sNTY6WzIsMjZdLDU5OlsyLDI2XSw2MDpbMiwyNl0sNjE6WzIsMjZdLDYyOlsyLDI2XSw2MzpbMiwyNl0sNjQ6WzIsMjZdLDY1OlsyLDI2XSw2NjpbMiwyNl0sNjc6WzIsMjZdLDY4OlsyLDI2XSw2OTpbMiwyNl0sNzA6WzIsMjZdLDc2OlsyLDI2XSw3OTpbMiwyNl0sODA6WzIsMjZdLDk0OlsyLDI2XSwxMDA6WzIsMjZdLDEwMTpbMiwyNl0sMTAzOlsyLDI2XX0sezI3OlsxLDM5OF0sMzU6WzEsNDZdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjM5OSwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjQwMCwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjQwMSwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjQwMiwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjQwMywyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjQwNCwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsyMTpbMiwxNzNdLDIyOlsyLDE3M10sMjQ6WzIsMTczXSwzNTpbMSw0Nl0sMzk6WzIsMTczXSw0NTpbMiwxNzNdLDQ2OlsyLDE3M10sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXSw3OTpbMiwxNzNdLDgwOlsxLDQwNV19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjQwNiwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsxOlsyLDc1XSwxNDpbMiw3NV0sMjE6WzIsNzVdLDIyOlsyLDc1XSwyNDpbMiw3NV0sMjY6WzIsNzVdLDI3OlsyLDc1XSwyODpbMiw3NV0sMzI6WzIsNzVdLDM1OlsyLDc1XSwzNjpbMiw3NV0sMzc6WzIsNzVdLDM5OlsyLDc1XSw0NDpbMiw3NV0sNDU6WzIsNzVdLDQ2OlsyLDc1XSw1NTpbMiw3NV0sNTY6WzIsNzVdLDU5OlsyLDc1XSw2MDpbMiw3NV0sNjE6WzIsNzVdLDYyOlsyLDc1XSw2MzpbMiw3NV0sNjQ6WzIsNzVdLDY1OlsyLDc1XSw2NjpbMiw3NV0sNjc6WzIsNzVdLDY4OlsyLDc1XSw2OTpbMiw3NV0sNzY6WzIsNzVdLDc5OlsyLDc1XSw4MDpbMiw3NV0sMTAzOlsyLDc1XX0sezE6WzIsNjNdLDIyOlsyLDYzXSwyNzpbMiw2M10sMzU6WzEsNDZdLDQ1OlsyLDYzXSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdfSx7MTpbMiw5OV0sMTQ6WzIsOTldLDIxOlsyLDk5XSwyMjpbMiw5OV0sMjQ6WzIsOTldLDI2OlsyLDk5XSwyNzpbMiw5OV0sMjg6WzIsOTldLDMyOlsyLDk5XSwzNTpbMiw5OV0sMzY6WzIsOTldLDM3OlsyLDk5XSwzOTpbMiw5OV0sNDQ6WzIsOTldLDQ1OlsyLDk5XSw0NjpbMiw5OV0sNTU6WzIsOTldLDU2OlsyLDk5XSw1OTpbMiw5OV0sNjA6WzIsOTldLDYxOlsyLDk5XSw2MjpbMiw5OV0sNjM6WzIsOTldLDY0OlsyLDk5XSw2NTpbMiw5OV0sNjY6WzIsOTldLDY3OlsyLDk5XSw2ODpbMiw5OV0sNjk6WzIsOTldLDc2OlsyLDk5XSw3OTpbMiw5OV0sODA6WzIsOTldLDEwMzpbMiw5OV19LHsyMjpbMSw0MDddLDQ1OlsxLDI0OV0sNDY6WzEsMjUwXX0sezE6WzIsNzNdLDE0OlsyLDczXSwyMTpbMiw3M10sMjI6WzIsNzNdLDI0OlsyLDczXSwyNjpbMiw3M10sMjc6WzIsNzNdLDI4OlsyLDczXSwzMjpbMiw3M10sMzU6WzIsNzNdLDM2OlsyLDczXSwzNzpbMiw3M10sMzk6WzIsNzNdLDQ0OlsyLDczXSw0NTpbMiw3M10sNDY6WzIsNzNdLDU1OlsyLDczXSw1NjpbMiw3M10sNTk6WzIsNzNdLDYwOlsyLDczXSw2MTpbMiw3M10sNjI6WzIsNzNdLDYzOlsyLDczXSw2NDpbMiw3M10sNjU6WzIsNzNdLDY2OlsyLDczXSw2NzpbMiw3M10sNjg6WzIsNzNdLDY5OlsyLDczXSw3NjpbMiw3M10sNzk6WzIsNzNdLDgwOlsyLDczXSwxMDM6WzIsNzNdfSx7MjE6WzEsNDA4XSwzNTpbMSw0Nl0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXX0sezE6WzIsMzRdLDk6WzIsMzRdLDExOlsyLDM0XSwxNDpbMiwzNF0sMTU6WzIsMzRdLDIxOlsyLDM0XSwyMjpbMiwzNF0sMjQ6WzIsMzRdLDI2OlsyLDM0XSwyNzpbMiwzNF0sMjg6WzIsMzRdLDMyOlsyLDM0XSwzNDpbMiwzNF0sMzU6WzIsMzRdLDM2OlsyLDM0XSwzNzpbMiwzNF0sMzk6WzIsMzRdLDQ0OlsyLDM0XSw0NTpbMiwzNF0sNDY6WzIsMzRdLDUzOlsyLDM0XSw1NDpbMiwzNF0sNTU6WzIsMzRdLDU2OlsyLDM0XSw1OTpbMiwzNF0sNjA6WzIsMzRdLDYxOlsyLDM0XSw2MjpbMiwzNF0sNjM6WzIsMzRdLDY0OlsyLDM0XSw2NTpbMiwzNF0sNjY6WzIsMzRdLDY3OlsyLDM0XSw2ODpbMiwzNF0sNjk6WzIsMzRdLDcwOlsyLDM0XSw3NjpbMiwzNF0sNzk6WzIsMzRdLDgwOlsyLDM0XSw5NDpbMiwzNF0sMTAwOlsyLDM0XSwxMDE6WzIsMzRdLDEwMzpbMiwzNF19LHsxOlsyLDM1XSw5OlsyLDM1XSwxMTpbMiwzNV0sMTQ6WzIsMzVdLDE1OlsyLDM1XSwyMTpbMiwzNV0sMjI6WzIsMzVdLDI0OlsyLDM1XSwyNjpbMiwzNV0sMjc6WzIsMzVdLDI4OlsyLDM1XSwzMjpbMiwzNV0sMzQ6WzIsMzVdLDM1OlsyLDM1XSwzNjpbMiwzNV0sMzc6WzIsMzVdLDM5OlsyLDM1XSw0NDpbMiwzNV0sNDU6WzIsMzVdLDQ2OlsyLDM1XSw1MzpbMiwzNV0sNTQ6WzIsMzVdLDU1OlsyLDM1XSw1NjpbMiwzNV0sNTk6WzIsMzVdLDYwOlsyLDM1XSw2MTpbMiwzNV0sNjI6WzIsMzVdLDYzOlsyLDM1XSw2NDpbMiwzNV0sNjU6WzIsMzVdLDY2OlsyLDM1XSw2NzpbMiwzNV0sNjg6WzIsMzVdLDY5OlsyLDM1XSw3MDpbMiwzNV0sNzY6WzIsMzVdLDc5OlsyLDM1XSw4MDpbMiwzNV0sOTQ6WzIsMzVdLDEwMDpbMiwzNV0sMTAxOlsyLDM1XSwxMDM6WzIsMzVdfSx7MTpbMiwxMDBdLDE0OlsyLDEwMF0sMjE6WzIsMTAwXSwyMjpbMiwxMDBdLDI0OlsyLDEwMF0sMjY6WzIsMTAwXSwyNzpbMiwxMDBdLDI4OlsyLDEwMF0sMzI6WzIsMTAwXSwzNTpbMiwxMDBdLDM2OlsyLDEwMF0sMzc6WzIsMTAwXSwzOTpbMiwxMDBdLDQ0OlsyLDEwMF0sNDU6WzIsMTAwXSw0NjpbMiwxMDBdLDU1OlsyLDEwMF0sNTY6WzIsMTAwXSw1OTpbMiwxMDBdLDYwOlsyLDEwMF0sNjE6WzIsMTAwXSw2MjpbMiwxMDBdLDYzOlsyLDEwMF0sNjQ6WzIsMTAwXSw2NTpbMiwxMDBdLDY2OlsyLDEwMF0sNjc6WzIsMTAwXSw2ODpbMiwxMDBdLDY5OlsyLDEwMF0sNzY6WzIsMTAwXSw3OTpbMiwxMDBdLDgwOlsyLDEwMF0sMTAzOlsyLDEwMF19LHsxOlsyLDEwMV0sMTQ6WzIsMTAxXSwyMTpbMiwxMDFdLDIyOlsyLDEwMV0sMjQ6WzIsMTAxXSwyNjpbMiwxMDFdLDI3OlsyLDEwMV0sMjg6WzIsMTAxXSwzMjpbMiwxMDFdLDM1OlsyLDEwMV0sMzY6WzIsMTAxXSwzNzpbMiwxMDFdLDM5OlsyLDEwMV0sNDQ6WzIsMTAxXSw0NTpbMiwxMDFdLDQ2OlsyLDEwMV0sNTU6WzIsMTAxXSw1NjpbMiwxMDFdLDU5OlsyLDEwMV0sNjA6WzIsMTAxXSw2MTpbMiwxMDFdLDYyOlsyLDEwMV0sNjM6WzIsMTAxXSw2NDpbMiwxMDFdLDY1OlsyLDEwMV0sNjY6WzIsMTAxXSw2NzpbMiwxMDFdLDY4OlsyLDEwMV0sNjk6WzIsMTAxXSw3NjpbMiwxMDFdLDc5OlsyLDEwMV0sODA6WzIsMTAxXSwxMDM6WzIsMTAxXX0sezE6WzIsMTU3XSwxNDpbMiwxNTddLDIxOlsyLDE1N10sMjI6WzIsMTU3XSwyNDpbMiwxNTddLDI2OlsyLDE1N10sMjc6WzIsMTU3XSwyODpbMiwxNTddLDMyOlsyLDE1N10sMzU6WzIsMTU3XSwzNjpbMiwxNTddLDM3OlsyLDE1N10sMzk6WzIsMTU3XSw0NDpbMiwxNTddLDQ1OlsyLDE1N10sNDY6WzIsMTU3XSw1NTpbMiwxNTddLDU2OlsyLDE1N10sNTk6WzIsMTU3XSw2MDpbMiwxNTddLDYxOlsyLDE1N10sNjI6WzIsMTU3XSw2MzpbMiwxNTddLDY0OlsyLDE1N10sNjU6WzIsMTU3XSw2NjpbMiwxNTddLDY3OlsyLDE1N10sNjg6WzIsMTU3XSw2OTpbMiwxNTddLDc1OjQwOSw3NjpbMiwxNTddLDc5OlsyLDE1N10sODA6WzIsMTU3XSw4NzpbMSwxODNdLDEwMzpbMiwxNTddfSx7MTpbMiwxMDZdLDE0OlsyLDEwNl0sMjE6WzIsMTA2XSwyMjpbMiwxMDZdLDI0OlsyLDEwNl0sMjY6WzIsMTA2XSwyNzpbMiwxMDZdLDI4OlsyLDEwNl0sMzI6WzIsMTA2XSwzNTpbMSw0Nl0sMzY6WzIsMTA2XSwzNzpbMiwxMDZdLDM5OlsyLDEwNl0sNDQ6WzIsMTA2XSw0NTpbMiwxMDZdLDQ2OlsyLDEwNl0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMiwxMDZdLDY5OlsyLDEwNl0sNzY6WzIsMTA2XSw3OTpbMiwxMDZdLDgwOlsyLDEwNl0sMTAzOlsyLDEwNl19LHsxOlsyLDEyMV0sMTQ6WzIsMTIxXSwyMTpbMiwxMjFdLDIyOlsyLDEyMV0sMjQ6WzIsMTIxXSwyNjpbMiwxMjFdLDI3OlsyLDEyMV0sMjg6WzIsMTIxXSwzMjpbMiwxMjFdLDM1OlsyLDEyMV0sMzY6WzIsMTIxXSwzNzpbMiwxMjFdLDM5OlsyLDEyMV0sNDQ6WzIsMTIxXSw0NTpbMiwxMjFdLDQ2OlsyLDEyMV0sNTU6WzIsMTIxXSw1NjpbMiwxMjFdLDU5OlsyLDEyMV0sNjA6WzIsMTIxXSw2MTpbMiwxMjFdLDYyOlsyLDEyMV0sNjM6WzIsMTIxXSw2NDpbMiwxMjFdLDY1OlsyLDEyMV0sNjY6WzIsMTIxXSw2NzpbMiwxMjFdLDY4OlsyLDEyMV0sNjk6WzIsMTIxXSw3NjpbMiwxMjFdLDc5OlsyLDEyMV0sODA6WzIsMTIxXSwxMDM6WzIsMTIxXX0sezE3OjQxMCw0NjpbMSw2XX0sezE6WzIsMTBdLDk6WzIsMTBdLDExOlsyLDEwXSwxNDpbMiwxMF0sMTU6WzIsMTBdLDIxOlsyLDEwXSwyMjpbMiwxMF0sMjQ6WzIsMTBdLDI2OlsyLDEwXSwyNzpbMiwxMF0sMjg6WzIsMTBdLDMyOlsyLDEwXSwzNDpbMiwxMF0sMzU6WzIsMTBdLDM2OlsyLDEwXSwzNzpbMiwxMF0sMzk6WzIsMTBdLDQ0OlsyLDEwXSw0NTpbMiwxMF0sNDY6WzIsMTBdLDUzOlsyLDEwXSw1NDpbMiwxMF0sNTU6WzIsMTBdLDU2OlsyLDEwXSw1OTpbMiwxMF0sNjA6WzIsMTBdLDYxOlsyLDEwXSw2MjpbMiwxMF0sNjM6WzIsMTBdLDY0OlsyLDEwXSw2NTpbMiwxMF0sNjY6WzIsMTBdLDY3OlsyLDEwXSw2ODpbMiwxMF0sNjk6WzIsMTBdLDcwOlsyLDEwXSw3NjpbMiwxMF0sNzk6WzIsMTBdLDgwOlsyLDEwXSw5NDpbMiwxMF0sMTAwOlsyLDEwXSwxMDE6WzIsMTBdLDEwMzpbMiwxMF19LHsyMTpbMSw0MTFdLDM1OlsxLDQ2XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdfSx7MTpbMiwzMl0sOTpbMiwzMl0sMTE6WzIsMzJdLDE0OlsyLDMyXSwxNTpbMiwzMl0sMjE6WzIsMzJdLDIyOlsyLDMyXSwyNDpbMiwzMl0sMjY6WzIsMzJdLDI3OlsyLDMyXSwyODpbMiwzMl0sMzI6WzIsMzJdLDM0OlsyLDMyXSwzNTpbMiwzMl0sMzY6WzIsMzJdLDM3OlsyLDMyXSwzOTpbMiwzMl0sNDQ6WzIsMzJdLDQ1OlsyLDMyXSw0NjpbMiwzMl0sNTM6WzIsMzJdLDU0OlsyLDMyXSw1NTpbMiwzMl0sNTY6WzIsMzJdLDU5OlsyLDMyXSw2MDpbMiwzMl0sNjE6WzIsMzJdLDYyOlsyLDMyXSw2MzpbMiwzMl0sNjQ6WzIsMzJdLDY1OlsyLDMyXSw2NjpbMiwzMl0sNjc6WzIsMzJdLDY4OlsyLDMyXSw2OTpbMiwzMl0sNzA6WzIsMzJdLDc2OlsyLDMyXSw3OTpbMiwzMl0sODA6WzIsMzJdLDk0OlsyLDMyXSwxMDA6WzIsMzJdLDEwMTpbMiwzMl0sMTAzOlsyLDMyXX0sezI0OlsxLDQxMl0sMzk6WzEsMjAzXSw0NTpbMSwyODNdLDQ2OlsxLDI4NF0sNzc6MjgyLDc5OlsxLDQxXX0sezIyOlsyLDEzOF0sMjQ6WzIsMTM4XSw0NDpbMiwxMzhdLDQ1OlsyLDEzOF0sNTQ6WzIsMTM4XSw2MDpbMiwxMzhdfSx7NDE6WzEsMzkxXX0sezIyOlsxLDQxM10sNDU6WzEsMjQ5XSw0NjpbMSwyNTBdfSx7MjI6WzIsMTM3XSwyNDpbMiwxMzddLDQ0OlsyLDEzN10sNDU6WzIsMTM3XSw1NDpbMiwxMzddLDYwOlsyLDEzN119LHsxOlsyLDI3XSw5OlsyLDI3XSwxMTpbMiwyN10sMTQ6WzIsMjddLDE1OlsyLDI3XSwyMTpbMiwyN10sMjI6WzIsMjddLDI0OlsyLDI3XSwyNjpbMiwyN10sMjc6WzIsMjddLDI4OlsyLDI3XSwzMjpbMiwyN10sMzQ6WzIsMjddLDM1OlsyLDI3XSwzNjpbMiwyN10sMzc6WzIsMjddLDM5OlsyLDI3XSw0NDpbMiwyN10sNDU6WzIsMjddLDQ2OlsyLDI3XSw1MzpbMiwyN10sNTQ6WzIsMjddLDU1OlsyLDI3XSw1NjpbMiwyN10sNTk6WzIsMjddLDYwOlsyLDI3XSw2MTpbMiwyN10sNjI6WzIsMjddLDYzOlsyLDI3XSw2NDpbMiwyN10sNjU6WzIsMjddLDY2OlsyLDI3XSw2NzpbMiwyN10sNjg6WzIsMjddLDY5OlsyLDI3XSw3MDpbMiwyN10sNzY6WzIsMjddLDc5OlsyLDI3XSw4MDpbMiwyN10sOTQ6WzIsMjddLDEwMDpbMiwyN10sMTAxOlsyLDI3XSwxMDM6WzIsMjddfSx7Mjc6WzEsNDE0XX0sezI3OlsxLDQxNV19LHsxOlsyLDI4XSw5OlsyLDI4XSwxMTpbMiwyOF0sMTQ6WzIsMjhdLDE1OlsyLDI4XSwyMTpbMiwyOF0sMjI6WzIsMjhdLDI0OlsyLDI4XSwyNjpbMiwyOF0sMjc6WzIsMjhdLDI4OlsyLDI4XSwzMjpbMiwyOF0sMzQ6WzIsMjhdLDM1OlsyLDI4XSwzNjpbMiwyOF0sMzc6WzIsMjhdLDM5OlsyLDI4XSw0NDpbMiwyOF0sNDU6WzIsMjhdLDQ2OlsyLDI4XSw1MzpbMiwyOF0sNTQ6WzIsMjhdLDU1OlsyLDI4XSw1NjpbMiwyOF0sNTk6WzIsMjhdLDYwOlsyLDI4XSw2MTpbMiwyOF0sNjI6WzIsMjhdLDYzOlsyLDI4XSw2NDpbMiwyOF0sNjU6WzIsMjhdLDY2OlsyLDI4XSw2NzpbMiwyOF0sNjg6WzIsMjhdLDY5OlsyLDI4XSw3MDpbMiwyOF0sNzY6WzIsMjhdLDc5OlsyLDI4XSw4MDpbMiwyOF0sOTQ6WzIsMjhdLDEwMDpbMiwyOF0sMTAxOlsyLDI4XSwxMDM6WzIsMjhdfSx7MjE6WzIsMTY3XSwyMjpbMiwxNjddLDI0OlsyLDE2N10sMzU6WzEsNDZdLDM5OlsyLDE2N10sNDU6WzIsMTY3XSw0NjpbMiwxNjddLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF0sNzk6WzIsMTY3XX0sezIxOlsyLDE2MV0sMjI6WzIsMTYxXSwyNDpbMiwxNjFdLDM1OlsxLDQ2XSwzOTpbMiwxNjFdLDQ1OlsyLDE2MV0sNDY6WzIsMTYxXSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdLDc5OlsyLDE2MV19LHsyMTpbMiwxNjJdLDIyOlsyLDE2Ml0sMjQ6WzIsMTYyXSwzNTpbMSw0Nl0sMzk6WzIsMTYyXSw0NTpbMiwxNjJdLDQ2OlsyLDE2Ml0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXSw3OTpbMiwxNjJdLDgwOlsxLDQxNl19LHsyMTpbMiwxNjldLDIyOlsyLDE2OV0sMjQ6WzIsMTY5XSwzNTpbMSw0Nl0sMzk6WzIsMTY5XSw0NTpbMiwxNjldLDQ2OlsyLDE2OV0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXSw3OTpbMiwxNjldfSx7MjE6WzIsMTcwXSwyMjpbMiwxNzBdLDI0OlsyLDE3MF0sMzU6WzEsNDZdLDM5OlsyLDE3MF0sNDU6WzIsMTcwXSw0NjpbMiwxNzBdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF0sNzk6WzIsMTcwXSw4MDpbMSw0MTddfSx7MjE6WzIsMTcyXSwyMjpbMiwxNzJdLDI0OlsyLDE3Ml0sMzU6WzEsNDZdLDM3OlsxLDQxOV0sMzk6WzIsMTcyXSw0NTpbMiwxNzJdLDQ2OlsyLDE3Ml0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXSw3OTpbMiwxNzJdLDgwOlsxLDQxOF19LHszOjEyLDQ6WzEsMzBdLDU6MzEsNjozMiw3OlsxLDMzXSw4OlsxLDM0XSwxNjpbMSwzNV0sMTg6WzEsMzZdLDE5OjQyMCwyMzpbMSwzN10sMjU6WzEsMzhdLDMxOlsxLDY1XSwzMzpbMSwxNF0sMzQ6WzEsMTNdLDM4OlsxLDM5XSwzOTpbMSw0MF0sNDE6WzEsMjhdLDU2OlsxLDE1XSw1NzpbMSwxNl0sNTg6WzEsMTddLDcyOlsxLDE4XSw3MzpbMSwxOV0sNzQ6WzEsMjBdLDc3OjIxLDc4OlsxLDIyXSw3OTpbMSw0MV0sODE6WzEsMjNdLDgyOlsxLDI0XSw4MzpbMSwyNV0sODg6WzEsMjZdLDkxOlsxLDI3XSw5NTpbMSwyOV19LHsyMTpbMiwxODJdLDIyOlsyLDE4Ml0sMjQ6WzIsMTgyXSwzNTpbMSw0Nl0sMzk6WzIsMTgyXSw0NTpbMiwxODJdLDQ2OlsyLDE4Ml0sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXSw3OTpbMiwxODJdfSx7MTQ6WzIsNTFdLDIxOlsyLDUxXSwyMjpbMiw1MV0sMzI6WzIsNTFdLDQ0OlsyLDUxXSw0NTpbMiw1MV0sNDY6WzIsNTFdfSx7MTpbMiwzM10sOTpbMiwzM10sMTE6WzIsMzNdLDE0OlsyLDMzXSwxNTpbMiwzM10sMjE6WzIsMzNdLDIyOlsyLDMzXSwyNDpbMiwzM10sMjY6WzIsMzNdLDI3OlsyLDMzXSwyODpbMiwzM10sMzI6WzIsMzNdLDM0OlsyLDMzXSwzNTpbMiwzM10sMzY6WzIsMzNdLDM3OlsyLDMzXSwzOTpbMiwzM10sNDQ6WzIsMzNdLDQ1OlsyLDMzXSw0NjpbMiwzM10sNTM6WzIsMzNdLDU0OlsyLDMzXSw1NTpbMiwzM10sNTY6WzIsMzNdLDU5OlsyLDMzXSw2MDpbMiwzM10sNjE6WzIsMzNdLDYyOlsyLDMzXSw2MzpbMiwzM10sNjQ6WzIsMzNdLDY1OlsyLDMzXSw2NjpbMiwzM10sNjc6WzIsMzNdLDY4OlsyLDMzXSw2OTpbMiwzM10sNzA6WzIsMzNdLDc2OlsyLDMzXSw3OTpbMiwzM10sODA6WzIsMzNdLDk0OlsyLDMzXSwxMDA6WzIsMzNdLDEwMTpbMiwzM10sMTAzOlsyLDMzXX0sezE6WzIsMTU5XSwxNDpbMiwxNTldLDIxOlsyLDE1OV0sMjI6WzIsMTU5XSwyNDpbMiwxNTldLDI2OlsyLDE1OV0sMjc6WzIsMTU5XSwyODpbMiwxNTldLDMyOlsyLDE1OV0sMzU6WzIsMTU5XSwzNjpbMiwxNTldLDM3OlsyLDE1OV0sMzk6WzIsMTU5XSw0NDpbMiwxNTldLDQ1OlsyLDE1OV0sNDY6WzIsMTU5XSw1NTpbMiwxNTldLDU2OlsyLDE1OV0sNTk6WzIsMTU5XSw2MDpbMiwxNTldLDYxOlsyLDE1OV0sNjI6WzIsMTU5XSw2MzpbMiwxNTldLDY0OlsyLDE1OV0sNjU6WzIsMTU5XSw2NjpbMiwxNTldLDY3OlsyLDE1OV0sNjg6WzIsMTU5XSw2OTpbMiwxNTldLDc2OlsyLDE1OV0sNzk6WzIsMTU5XSw4MDpbMiwxNTldLDEwMzpbMiwxNTldfSx7MTpbMiwxMjNdLDE0OlsyLDEyM10sMjE6WzIsMTIzXSwyMjpbMiwxMjNdLDI0OlsyLDEyM10sMjY6WzIsMTIzXSwyNzpbMiwxMjNdLDI4OlsyLDEyM10sMzI6WzIsMTIzXSwzNTpbMiwxMjNdLDM2OlsyLDEyM10sMzc6WzIsMTIzXSwzOTpbMiwxMjNdLDQ0OlsyLDEyM10sNDU6WzIsMTIzXSw0NjpbMiwxMjNdLDU1OlsyLDEyM10sNTY6WzIsMTIzXSw1OTpbMiwxMjNdLDYwOlsyLDEyM10sNjE6WzIsMTIzXSw2MjpbMiwxMjNdLDYzOlsyLDEyM10sNjQ6WzIsMTIzXSw2NTpbMiwxMjNdLDY2OlsyLDEyM10sNjc6WzIsMTIzXSw2ODpbMiwxMjNdLDY5OlsyLDEyM10sNzY6WzIsMTIzXSw3OTpbMiwxMjNdLDgwOlsyLDEyM10sMTAzOlsyLDEyM119LHsxOlsyLDMwXSw5OlsyLDMwXSwxMTpbMiwzMF0sMTQ6WzIsMzBdLDE1OlsyLDMwXSwyMTpbMiwzMF0sMjI6WzIsMzBdLDI0OlsyLDMwXSwyNjpbMiwzMF0sMjc6WzIsMzBdLDI4OlsyLDMwXSwzMjpbMiwzMF0sMzQ6WzIsMzBdLDM1OlsyLDMwXSwzNjpbMiwzMF0sMzc6WzIsMzBdLDM5OlsyLDMwXSw0NDpbMiwzMF0sNDU6WzIsMzBdLDQ2OlsyLDMwXSw1MzpbMiwzMF0sNTQ6WzIsMzBdLDU1OlsyLDMwXSw1NjpbMiwzMF0sNTk6WzIsMzBdLDYwOlsyLDMwXSw2MTpbMiwzMF0sNjI6WzIsMzBdLDYzOlsyLDMwXSw2NDpbMiwzMF0sNjU6WzIsMzBdLDY2OlsyLDMwXSw2NzpbMiwzMF0sNjg6WzIsMzBdLDY5OlsyLDMwXSw3MDpbMiwzMF0sNzY6WzIsMzBdLDc5OlsyLDMwXSw4MDpbMiwzMF0sOTQ6WzIsMzBdLDEwMDpbMiwzMF0sMTAxOlsyLDMwXSwxMDM6WzIsMzBdfSx7MTpbMiwxM10sOTpbMiwxM10sMTE6WzIsMTNdLDE0OlsyLDEzXSwxNTpbMiwxM10sMjE6WzIsMTNdLDIyOlsyLDEzXSwyNDpbMiwxM10sMjY6WzIsMTNdLDI3OlsyLDEzXSwyODpbMiwxM10sMzI6WzIsMTNdLDM0OlsyLDEzXSwzNTpbMiwxM10sMzY6WzIsMTNdLDM3OlsyLDEzXSwzOTpbMiwxM10sNDQ6WzIsMTNdLDQ1OlsyLDEzXSw0NjpbMiwxM10sNTM6WzIsMTNdLDU0OlsyLDEzXSw1NTpbMiwxM10sNTY6WzIsMTNdLDU5OlsyLDEzXSw2MDpbMiwxM10sNjE6WzIsMTNdLDYyOlsyLDEzXSw2MzpbMiwxM10sNjQ6WzIsMTNdLDY1OlsyLDEzXSw2NjpbMiwxM10sNjc6WzIsMTNdLDY4OlsyLDEzXSw2OTpbMiwxM10sNzA6WzIsMTNdLDc2OlsyLDEzXSw3OTpbMiwxM10sODA6WzIsMTNdLDk0OlsyLDEzXSwxMDA6WzIsMTNdLDEwMTpbMiwxM10sMTAzOlsyLDEzXX0sezIyOlsyLDE0MF0sMjQ6WzIsMTQwXSw0NDpbMiwxNDBdLDQ1OlsyLDE0MF19LHsxOlsyLDIxXSw5OlsyLDIxXSwxMTpbMiwyMV0sMTQ6WzIsMjFdLDE1OlsyLDIxXSwyMTpbMiwyMV0sMjI6WzIsMjFdLDI0OlsyLDIxXSwyNjpbMiwyMV0sMjc6WzIsMjFdLDI4OlsyLDIxXSwzMjpbMiwyMV0sMzQ6WzIsMjFdLDM1OlsyLDIxXSwzNjpbMiwyMV0sMzc6WzIsMjFdLDM5OlsyLDIxXSw0NDpbMiwyMV0sNDU6WzIsMjFdLDQ2OlsyLDIxXSw1MzpbMiwyMV0sNTQ6WzIsMjFdLDU1OlsyLDIxXSw1NjpbMiwyMV0sNTk6WzIsMjFdLDYwOlsyLDIxXSw2MTpbMiwyMV0sNjI6WzIsMjFdLDYzOlsyLDIxXSw2NDpbMiwyMV0sNjU6WzIsMjFdLDY2OlsyLDIxXSw2NzpbMiwyMV0sNjg6WzIsMjFdLDY5OlsyLDIxXSw3MDpbMiwyMV0sNzY6WzIsMjFdLDc5OlsyLDIxXSw4MDpbMiwyMV0sOTQ6WzIsMjFdLDEwMDpbMiwyMV0sMTAxOlsyLDIxXSwxMDM6WzIsMjFdfSx7MTpbMiwyM10sOTpbMiwyM10sMTE6WzIsMjNdLDE0OlsyLDIzXSwxNTpbMiwyM10sMjE6WzIsMjNdLDIyOlsyLDIzXSwyNDpbMiwyM10sMjY6WzIsMjNdLDI3OlsyLDIzXSwyODpbMiwyM10sMzI6WzIsMjNdLDM0OlsyLDIzXSwzNTpbMiwyM10sMzY6WzIsMjNdLDM3OlsyLDIzXSwzOTpbMiwyM10sNDQ6WzIsMjNdLDQ1OlsyLDIzXSw0NjpbMiwyM10sNTM6WzIsMjNdLDU0OlsyLDIzXSw1NTpbMiwyM10sNTY6WzIsMjNdLDU5OlsyLDIzXSw2MDpbMiwyM10sNjE6WzIsMjNdLDYyOlsyLDIzXSw2MzpbMiwyM10sNjQ6WzIsMjNdLDY1OlsyLDIzXSw2NjpbMiwyM10sNjc6WzIsMjNdLDY4OlsyLDIzXSw2OTpbMiwyM10sNzA6WzIsMjNdLDc2OlsyLDIzXSw3OTpbMiwyM10sODA6WzIsMjNdLDk0OlsyLDIzXSwxMDA6WzIsMjNdLDEwMTpbMiwyM10sMTAzOlsyLDIzXX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NDIxLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NDIyLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NDIzLDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NDI0LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezIxOlsyLDE3NV0sMjI6WzIsMTc1XSwyNDpbMiwxNzVdLDM1OlsxLDQ2XSwzOTpbMiwxNzVdLDQ1OlsyLDE3NV0sNDY6WzIsMTc1XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdLDc5OlsyLDE3NV19LHsyMTpbMiwxNjNdLDIyOlsyLDE2M10sMjQ6WzIsMTYzXSwzNTpbMSw0Nl0sMzk6WzIsMTYzXSw0NTpbMiwxNjNdLDQ2OlsyLDE2M10sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXSw3OTpbMiwxNjNdfSx7MjE6WzIsMTcxXSwyMjpbMiwxNzFdLDI0OlsyLDE3MV0sMzU6WzEsNDZdLDM5OlsyLDE3MV0sNDU6WzIsMTcxXSw0NjpbMiwxNzFdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF0sNzk6WzIsMTcxXX0sezIxOlsyLDE3NF0sMjI6WzIsMTc0XSwyNDpbMiwxNzRdLDM1OlsxLDQ2XSwzNzpbMSw0MjVdLDM5OlsyLDE3NF0sNDU6WzIsMTc0XSw0NjpbMiwxNzRdLDU1OlsxLDQ3XSw1NjpbMSw0OF0sNTk6WzEsNDldLDYwOlsxLDUwXSw2MTpbMSw1MV0sNjI6WzEsNTJdLDYzOlsxLDUzXSw2NDpbMSw1NF0sNjU6WzEsNTVdLDY2OlsxLDU2XSw2NzpbMSw1N10sNjg6WzEsNThdLDY5OlsxLDU5XSw3NjpbMSw2MF0sNzk6WzIsMTc0XX0sezIxOlsyLDE3Nl0sMjI6WzIsMTc2XSwyNDpbMiwxNzZdLDM1OlsxLDQ2XSwzOTpbMiwxNzZdLDQ1OlsyLDE3Nl0sNDY6WzIsMTc2XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdLDc5OlsyLDE3Nl0sODA6WzEsNDI2XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NDI3LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezM6MTIsNDpbMSwzMF0sNTozMSw2OjMyLDc6WzEsMzNdLDg6WzEsMzRdLDE2OlsxLDM1XSwxODpbMSwzNl0sMTk6NDI4LDIzOlsxLDM3XSwyNTpbMSwzOF0sMzE6WzEsNjVdLDMzOlsxLDE0XSwzNDpbMSwxM10sMzg6WzEsMzldLDM5OlsxLDQwXSw0MTpbMSwyOF0sNTY6WzEsMTVdLDU3OlsxLDE2XSw1ODpbMSwxN10sNzI6WzEsMThdLDczOlsxLDE5XSw3NDpbMSwyMF0sNzc6MjEsNzg6WzEsMjJdLDc5OlsxLDQxXSw4MTpbMSwyM10sODI6WzEsMjRdLDgzOlsxLDI1XSw4ODpbMSwyNl0sOTE6WzEsMjddLDk1OlsxLDI5XX0sezIxOlsyLDE3OF0sMjI6WzIsMTc4XSwyNDpbMiwxNzhdLDM1OlsxLDQ2XSwzOTpbMiwxNzhdLDQ1OlsyLDE3OF0sNDY6WzIsMTc4XSw1NTpbMSw0N10sNTY6WzEsNDhdLDU5OlsxLDQ5XSw2MDpbMSw1MF0sNjE6WzEsNTFdLDYyOlsxLDUyXSw2MzpbMSw1M10sNjQ6WzEsNTRdLDY1OlsxLDU1XSw2NjpbMSw1Nl0sNjc6WzEsNTddLDY4OlsxLDU4XSw2OTpbMSw1OV0sNzY6WzEsNjBdLDc5OlsyLDE3OF19LHsyMTpbMiwxNzddLDIyOlsyLDE3N10sMjQ6WzIsMTc3XSwzNTpbMSw0Nl0sMzk6WzIsMTc3XSw0NTpbMiwxNzddLDQ2OlsyLDE3N10sNTU6WzEsNDddLDU2OlsxLDQ4XSw1OTpbMSw0OV0sNjA6WzEsNTBdLDYxOlsxLDUxXSw2MjpbMSw1Ml0sNjM6WzEsNTNdLDY0OlsxLDU0XSw2NTpbMSw1NV0sNjY6WzEsNTZdLDY3OlsxLDU3XSw2ODpbMSw1OF0sNjk6WzEsNTldLDc2OlsxLDYwXSw3OTpbMiwxNzddfV0sXG5kZWZhdWx0QWN0aW9uczogezI6WzIsMTkzXX0sXG5wYXJzZUVycm9yOiBmdW5jdGlvbiBwYXJzZUVycm9yKHN0ciwgaGFzaCkge1xuICAgIHRocm93IG5ldyBFcnJvcihzdHIpO1xufSxcbnBhcnNlOiBmdW5jdGlvbiBwYXJzZShpbnB1dCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgc3RhY2sgPSBbMF0sXG4gICAgICAgIHZzdGFjayA9IFtudWxsXSwgLy8gc2VtYW50aWMgdmFsdWUgc3RhY2tcbiAgICAgICAgdGFibGUgPSB0aGlzLnRhYmxlLFxuICAgICAgICB5eXRleHQgPSAnJyxcbiAgICAgICAgeXlsaW5lbm8gPSAwLFxuICAgICAgICB5eWxlbmcgPSAwLFxuICAgICAgICByZWNvdmVyaW5nID0gMCxcbiAgICAgICAgVEVSUk9SID0gMixcbiAgICAgICAgRU9GID0gMTtcblxuICAgIC8vdGhpcy5yZWR1Y3Rpb25Db3VudCA9IHRoaXMuc2hpZnRDb3VudCA9IDA7XG5cbiAgICB0aGlzLmxleGVyLnNldElucHV0KGlucHV0KTtcbiAgICB0aGlzLmxleGVyLnl5ID0gdGhpcy55eTtcbiAgICB0aGlzLnl5LmxleGVyID0gdGhpcy5sZXhlcjtcblxuICAgIGlmICh0eXBlb2YgdGhpcy55eS5wYXJzZUVycm9yID09PSAnZnVuY3Rpb24nKVxuICAgICAgICB0aGlzLnBhcnNlRXJyb3IgPSB0aGlzLnl5LnBhcnNlRXJyb3I7XG5cbiAgICBmdW5jdGlvbiBwb3BTdGFjayAobikge1xuICAgICAgICBzdGFjay5sZW5ndGggPSBzdGFjay5sZW5ndGggLSAyKm47XG4gICAgICAgIHZzdGFjay5sZW5ndGggPSB2c3RhY2subGVuZ3RoIC0gbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsZXgoKSB7XG4gICAgICAgIHZhciB0b2tlbjtcbiAgICAgICAgdG9rZW4gPSBzZWxmLmxleGVyLmxleCgpIHx8IDE7IC8vICRlbmQgPSAxXG4gICAgICAgIC8vIGlmIHRva2VuIGlzbid0IGl0cyBudW1lcmljIHZhbHVlLCBjb252ZXJ0XG4gICAgICAgIGlmICh0eXBlb2YgdG9rZW4gIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHNlbGYuc3ltYm9sc19bdG9rZW5dIHx8IHRva2VuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9O1xuXG4gICAgdmFyIHN5bWJvbCwgcHJlRXJyb3JTeW1ib2wsIHN0YXRlLCBhY3Rpb24sIGEsIHIsIHl5dmFsPXt9LHAsbGVuLG5ld1N0YXRlLCBleHBlY3RlZDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAvLyByZXRyZWl2ZSBzdGF0ZSBudW1iZXIgZnJvbSB0b3Agb2Ygc3RhY2tcbiAgICAgICAgc3RhdGUgPSBzdGFja1tzdGFjay5sZW5ndGgtMV07XG5cbiAgICAgICAgLy8gdXNlIGRlZmF1bHQgYWN0aW9ucyBpZiBhdmFpbGFibGVcbiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdEFjdGlvbnNbc3RhdGVdKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSB0aGlzLmRlZmF1bHRBY3Rpb25zW3N0YXRlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzeW1ib2wgPT0gbnVsbClcbiAgICAgICAgICAgICAgICBzeW1ib2wgPSBsZXgoKTtcbiAgICAgICAgICAgIC8vIHJlYWQgYWN0aW9uIGZvciBjdXJyZW50IHN0YXRlIGFuZCBmaXJzdCBpbnB1dFxuICAgICAgICAgICAgYWN0aW9uID0gdGFibGVbc3RhdGVdICYmIHRhYmxlW3N0YXRlXVtzeW1ib2xdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxlIHBhcnNlIGVycm9yXG4gICAgICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAndW5kZWZpbmVkJyB8fCAhYWN0aW9uLmxlbmd0aCB8fCAhYWN0aW9uWzBdKSB7XG5cbiAgICAgICAgICAgIGlmICghcmVjb3ZlcmluZykge1xuICAgICAgICAgICAgICAgIC8vIFJlcG9ydCBlcnJvclxuICAgICAgICAgICAgICAgIGV4cGVjdGVkID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChwIGluIHRhYmxlW3N0YXRlXSkgaWYgKHRoaXMudGVybWluYWxzX1twXSAmJiBwID4gMikge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3RlZC5wdXNoKFwiJ1wiK3RoaXMudGVybWluYWxzX1twXStcIidcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBlcnJTdHIgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sZXhlci5zaG93UG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyU3RyID0gJ1BhcnNlIGVycm9yIG9uIGxpbmUgJysoeXlsaW5lbm8rMSkrXCI6XFxuXCIrdGhpcy5sZXhlci5zaG93UG9zaXRpb24oKSsnXFxuRXhwZWN0aW5nICcrZXhwZWN0ZWQuam9pbignLCAnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlcnJTdHIgPSAnUGFyc2UgZXJyb3Igb24gbGluZSAnKyh5eWxpbmVubysxKStcIjogVW5leHBlY3RlZCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN5bWJvbCA9PSAxIC8qRU9GKi8gPyBcImVuZCBvZiBpbnB1dFwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCInXCIrKHRoaXMudGVybWluYWxzX1tzeW1ib2xdIHx8IHN5bWJvbCkrXCInXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZUVycm9yKGVyclN0cixcbiAgICAgICAgICAgICAgICAgICAge3RleHQ6IHRoaXMubGV4ZXIubWF0Y2gsIHRva2VuOiB0aGlzLnRlcm1pbmFsc19bc3ltYm9sXSB8fCBzeW1ib2wsIGxpbmU6IHRoaXMubGV4ZXIueXlsaW5lbm8sIGV4cGVjdGVkOiBleHBlY3RlZH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBqdXN0IHJlY292ZXJlZCBmcm9tIGFub3RoZXIgZXJyb3JcbiAgICAgICAgICAgIGlmIChyZWNvdmVyaW5nID09IDMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ltYm9sID09IEVPRikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyU3RyIHx8ICdQYXJzaW5nIGhhbHRlZC4nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBkaXNjYXJkIGN1cnJlbnQgbG9va2FoZWFkIGFuZCBncmFiIGFub3RoZXJcbiAgICAgICAgICAgICAgICB5eWxlbmcgPSB0aGlzLmxleGVyLnl5bGVuZztcbiAgICAgICAgICAgICAgICB5eXRleHQgPSB0aGlzLmxleGVyLnl5dGV4dDtcbiAgICAgICAgICAgICAgICB5eWxpbmVubyA9IHRoaXMubGV4ZXIueXlsaW5lbm87XG4gICAgICAgICAgICAgICAgc3ltYm9sID0gbGV4KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRyeSB0byByZWNvdmVyIGZyb20gZXJyb3JcbiAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIGVycm9yIHJlY292ZXJ5IHJ1bGUgaW4gdGhpcyBzdGF0ZVxuICAgICAgICAgICAgICAgIGlmICgoVEVSUk9SLnRvU3RyaW5nKCkpIGluIHRhYmxlW3N0YXRlXSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyclN0ciB8fCAnUGFyc2luZyBoYWx0ZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBvcFN0YWNrKDEpO1xuICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoLTFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBwcmVFcnJvclN5bWJvbCA9IHN5bWJvbDsgLy8gc2F2ZSB0aGUgbG9va2FoZWFkIHRva2VuXG4gICAgICAgICAgICBzeW1ib2wgPSBURVJST1I7ICAgICAgICAgLy8gaW5zZXJ0IGdlbmVyaWMgZXJyb3Igc3ltYm9sIGFzIG5ldyBsb29rYWhlYWRcbiAgICAgICAgICAgIHN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoLTFdO1xuICAgICAgICAgICAgYWN0aW9uID0gdGFibGVbc3RhdGVdICYmIHRhYmxlW3N0YXRlXVtURVJST1JdO1xuICAgICAgICAgICAgcmVjb3ZlcmluZyA9IDM7IC8vIGFsbG93IDMgcmVhbCBzeW1ib2xzIHRvIGJlIHNoaWZ0ZWQgYmVmb3JlIHJlcG9ydGluZyBhIG5ldyBlcnJvclxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcyBzaG91bGRuJ3QgaGFwcGVuLCB1bmxlc3MgcmVzb2x2ZSBkZWZhdWx0cyBhcmUgb2ZmXG4gICAgICAgIGlmIChhY3Rpb25bMF0gaW5zdGFuY2VvZiBBcnJheSAmJiBhY3Rpb24ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJzZSBFcnJvcjogbXVsdGlwbGUgYWN0aW9ucyBwb3NzaWJsZSBhdCBzdGF0ZTogJytzdGF0ZSsnLCB0b2tlbjogJytzeW1ib2wpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChhY3Rpb25bMF0pIHtcblxuICAgICAgICAgICAgY2FzZSAxOiAvLyBzaGlmdFxuICAgICAgICAgICAgICAgIC8vdGhpcy5zaGlmdENvdW50Kys7XG5cbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHN5bWJvbCk7XG4gICAgICAgICAgICAgICAgdnN0YWNrLnB1c2godGhpcy5sZXhlci55eXRleHQpO1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goYWN0aW9uWzFdKTsgLy8gcHVzaCBzdGF0ZVxuICAgICAgICAgICAgICAgIHN5bWJvbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKCFwcmVFcnJvclN5bWJvbCkgeyAvLyBub3JtYWwgZXhlY3V0aW9uL25vIGVycm9yXG4gICAgICAgICAgICAgICAgICAgIHl5bGVuZyA9IHRoaXMubGV4ZXIueXlsZW5nO1xuICAgICAgICAgICAgICAgICAgICB5eXRleHQgPSB0aGlzLmxleGVyLnl5dGV4dDtcbiAgICAgICAgICAgICAgICAgICAgeXlsaW5lbm8gPSB0aGlzLmxleGVyLnl5bGluZW5vO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVjb3ZlcmluZyA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvdmVyaW5nLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gZXJyb3IganVzdCBvY2N1cnJlZCwgcmVzdW1lIG9sZCBsb29rYWhlYWQgZi8gYmVmb3JlIGVycm9yXG4gICAgICAgICAgICAgICAgICAgIHN5bWJvbCA9IHByZUVycm9yU3ltYm9sO1xuICAgICAgICAgICAgICAgICAgICBwcmVFcnJvclN5bWJvbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDI6IC8vIHJlZHVjZVxuICAgICAgICAgICAgICAgIC8vdGhpcy5yZWR1Y3Rpb25Db3VudCsrO1xuXG4gICAgICAgICAgICAgICAgbGVuID0gdGhpcy5wcm9kdWN0aW9uc19bYWN0aW9uWzFdXVsxXTtcblxuICAgICAgICAgICAgICAgIC8vIHBlcmZvcm0gc2VtYW50aWMgYWN0aW9uXG4gICAgICAgICAgICAgICAgeXl2YWwuJCA9IHZzdGFja1t2c3RhY2subGVuZ3RoLWxlbl07IC8vIGRlZmF1bHQgdG8gJCQgPSAkMVxuICAgICAgICAgICAgICAgIHIgPSB0aGlzLnBlcmZvcm1BY3Rpb24uY2FsbCh5eXZhbCwgeXl0ZXh0LCB5eWxlbmcsIHl5bGluZW5vLCB0aGlzLnl5LCBhY3Rpb25bMV0sIHZzdGFjayk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHBvcCBvZmYgc3RhY2tcbiAgICAgICAgICAgICAgICBpZiAobGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrID0gc3RhY2suc2xpY2UoMCwtMSpsZW4qMik7XG4gICAgICAgICAgICAgICAgICAgIHZzdGFjayA9IHZzdGFjay5zbGljZSgwLCAtMSpsZW4pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2godGhpcy5wcm9kdWN0aW9uc19bYWN0aW9uWzFdXVswXSk7ICAgIC8vIHB1c2ggbm9udGVybWluYWwgKHJlZHVjZSlcbiAgICAgICAgICAgICAgICB2c3RhY2sucHVzaCh5eXZhbC4kKTtcbiAgICAgICAgICAgICAgICAvLyBnb3RvIG5ldyBzdGF0ZSA9IHRhYmxlW1NUQVRFXVtOT05URVJNSU5BTF1cbiAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IHRhYmxlW3N0YWNrW3N0YWNrLmxlbmd0aC0yXV1bc3RhY2tbc3RhY2subGVuZ3RoLTFdXTtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5ld1N0YXRlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAzOiAvLyBhY2NlcHRcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59fTtcblxuIiwiLy8gR2VuZXJhdGVkIGJ5IExpdmVTY3JpcHQgMS4zLjFcbnZhciBwYXRoLCBzdHJpcFN0cmluZywgbmFtZUZyb21QYXRoO1xucGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbnN0cmlwU3RyaW5nID0gZnVuY3Rpb24odmFsKXtcbiAgdmFyIHRoYXQ7XG4gIGlmICh0aGF0ID0gL15bJ1wiXSguKilbJ1wiXSQvLmV4ZWModmFsLnRyaW0oKSkpIHtcbiAgICByZXR1cm4gdGhhdFsxXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG59O1xubmFtZUZyb21QYXRoID0gZnVuY3Rpb24obW9kdWxlUGF0aCl7XG4gIHJldHVybiBwYXRoLmJhc2VuYW1lKHN0cmlwU3RyaW5nKG1vZHVsZVBhdGgpKS5zcGxpdCgnLicpWzBdLnJlcGxhY2UoLy1bYS16XS9pZywgZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdC5jaGFyQXQoMSkudG9VcHBlckNhc2UoKTtcbiAgfSk7XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIG5hbWVGcm9tUGF0aDogbmFtZUZyb21QYXRoLFxuICBzdHJpcFN0cmluZzogc3RyaXBTdHJpbmdcbn07IixudWxsLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfVxuICAgICAgdGhyb3cgVHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LicpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXG4gICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG07XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcilcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlXG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXG4gIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7XG4gICAgdmFyIG07XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG4gICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBpbiBJRSAxMFxuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXR1cm4gdGhpcztcblxuICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgcG9zaXRpb24gPSAtMTtcblxuICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcbiAgICAgIChpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cbiAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBMSUZPIG9yZGVyXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSBbXTtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xuICBlbHNlXG4gICAgcmV0ID0gdGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk7XG4gIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCFlbWl0dGVyLl9ldmVudHMgfHwgIWVtaXR0ZXIuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSAwO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKGVtaXR0ZXIuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gMTtcbiAgZWxzZVxuICAgIHJldCA9IGVtaXR0ZXIuX2V2ZW50c1t0eXBlXS5sZW5ndGg7XG4gIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG4iLCIoZnVuY3Rpb24gKHByb2Nlc3Mpe1xuLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZVxuLy8gbXVzdCBiZSBubyBzbGFzaGVzLCBlbXB0eSBlbGVtZW50cywgb3IgZGV2aWNlIG5hbWVzIChjOlxcKSBpbiB0aGUgYXJyYXlcbi8vIChzbyBhbHNvIG5vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoZXMgLSBpdCBkb2VzIG5vdCBkaXN0aW5ndWlzaFxuLy8gcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzKVxuZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkocGFydHMsIGFsbG93QWJvdmVSb290KSB7XG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBwYXJ0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciBsYXN0ID0gcGFydHNbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBwYXJ0cy51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuLy8gU3BsaXQgYSBmaWxlbmFtZSBpbnRvIFtyb290LCBkaXIsIGJhc2VuYW1lLCBleHRdLCB1bml4IHZlcnNpb25cbi8vICdyb290JyBpcyBqdXN0IGEgc2xhc2gsIG9yIG5vdGhpbmcuXG52YXIgc3BsaXRQYXRoUmUgPVxuICAgIC9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvO1xudmFyIHNwbGl0UGF0aCA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XG4gIHJldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKTtcbn07XG5cbi8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzb2x2ZWRQYXRoID0gJycsXG4gICAgICByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG5cbiAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICB2YXIgcGF0aCA9IChpID49IDApID8gYXJndW1lbnRzW2ldIDogcHJvY2Vzcy5jd2QoKTtcblxuICAgIC8vIFNraXAgZW1wdHkgYW5kIGludmFsaWQgZW50cmllc1xuICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfSBlbHNlIGlmICghcGF0aCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbiAgfVxuXG4gIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihyZXNvbHZlZFBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhcmVzb2x2ZWRBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIHJldHVybiAoKHJlc29sdmVkQWJzb2x1dGUgPyAnLycgOiAnJykgKyByZXNvbHZlZFBhdGgpIHx8ICcuJztcbn07XG5cbi8vIHBhdGgubm9ybWFsaXplKHBhdGgpXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIGlzQWJzb2x1dGUgPSBleHBvcnRzLmlzQWJzb2x1dGUocGF0aCksXG4gICAgICB0cmFpbGluZ1NsYXNoID0gc3Vic3RyKHBhdGgsIC0xKSA9PT0gJy8nO1xuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICBwYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhaXNBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIGlmICghcGF0aCAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHBhdGggPSAnLic7XG4gIH1cbiAgaWYgKHBhdGggJiYgdHJhaWxpbmdTbGFzaCkge1xuICAgIHBhdGggKz0gJy8nO1xuICB9XG5cbiAgcmV0dXJuIChpc0Fic29sdXRlID8gJy8nIDogJycpICsgcGF0aDtcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuaXNBYnNvbHV0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLyc7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmpvaW4gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhdGhzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgcmV0dXJuIGV4cG9ydHMubm9ybWFsaXplKGZpbHRlcihwYXRocywgZnVuY3Rpb24ocCwgaW5kZXgpIHtcbiAgICBpZiAodHlwZW9mIHAgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5qb2luIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbiAgfSkuam9pbignLycpKTtcbn07XG5cblxuLy8gcGF0aC5yZWxhdGl2ZShmcm9tLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVsYXRpdmUgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICBmcm9tID0gZXhwb3J0cy5yZXNvbHZlKGZyb20pLnN1YnN0cigxKTtcbiAgdG8gPSBleHBvcnRzLnJlc29sdmUodG8pLnN1YnN0cigxKTtcblxuICBmdW5jdGlvbiB0cmltKGFycikge1xuICAgIHZhciBzdGFydCA9IDA7XG4gICAgZm9yICg7IHN0YXJ0IDwgYXJyLmxlbmd0aDsgc3RhcnQrKykge1xuICAgICAgaWYgKGFycltzdGFydF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gYXJyLmxlbmd0aCAtIDE7XG4gICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkge1xuICAgICAgaWYgKGFycltlbmRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0ID4gZW5kKSByZXR1cm4gW107XG4gICAgcmV0dXJuIGFyci5zbGljZShzdGFydCwgZW5kIC0gc3RhcnQgKyAxKTtcbiAgfVxuXG4gIHZhciBmcm9tUGFydHMgPSB0cmltKGZyb20uc3BsaXQoJy8nKSk7XG4gIHZhciB0b1BhcnRzID0gdHJpbSh0by5zcGxpdCgnLycpKTtcblxuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oZnJvbVBhcnRzLmxlbmd0aCwgdG9QYXJ0cy5sZW5ndGgpO1xuICB2YXIgc2FtZVBhcnRzTGVuZ3RoID0gbGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGZyb21QYXJ0c1tpXSAhPT0gdG9QYXJ0c1tpXSkge1xuICAgICAgc2FtZVBhcnRzTGVuZ3RoID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvdXRwdXRQYXJ0cyA9IFtdO1xuICBmb3IgKHZhciBpID0gc2FtZVBhcnRzTGVuZ3RoOyBpIDwgZnJvbVBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgb3V0cHV0UGFydHMucHVzaCgnLi4nKTtcbiAgfVxuXG4gIG91dHB1dFBhcnRzID0gb3V0cHV0UGFydHMuY29uY2F0KHRvUGFydHMuc2xpY2Uoc2FtZVBhcnRzTGVuZ3RoKSk7XG5cbiAgcmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oJy8nKTtcbn07XG5cbmV4cG9ydHMuc2VwID0gJy8nO1xuZXhwb3J0cy5kZWxpbWl0ZXIgPSAnOic7XG5cbmV4cG9ydHMuZGlybmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIHJlc3VsdCA9IHNwbGl0UGF0aChwYXRoKSxcbiAgICAgIHJvb3QgPSByZXN1bHRbMF0sXG4gICAgICBkaXIgPSByZXN1bHRbMV07XG5cbiAgaWYgKCFyb290ICYmICFkaXIpIHtcbiAgICAvLyBObyBkaXJuYW1lIHdoYXRzb2V2ZXJcbiAgICByZXR1cm4gJy4nO1xuICB9XG5cbiAgaWYgKGRpcikge1xuICAgIC8vIEl0IGhhcyBhIGRpcm5hbWUsIHN0cmlwIHRyYWlsaW5nIHNsYXNoXG4gICAgZGlyID0gZGlyLnN1YnN0cigwLCBkaXIubGVuZ3RoIC0gMSk7XG4gIH1cblxuICByZXR1cm4gcm9vdCArIGRpcjtcbn07XG5cblxuZXhwb3J0cy5iYXNlbmFtZSA9IGZ1bmN0aW9uKHBhdGgsIGV4dCkge1xuICB2YXIgZiA9IHNwbGl0UGF0aChwYXRoKVsyXTtcbiAgLy8gVE9ETzogbWFrZSB0aGlzIGNvbXBhcmlzb24gY2FzZS1pbnNlbnNpdGl2ZSBvbiB3aW5kb3dzP1xuICBpZiAoZXh0ICYmIGYuc3Vic3RyKC0xICogZXh0Lmxlbmd0aCkgPT09IGV4dCkge1xuICAgIGYgPSBmLnN1YnN0cigwLCBmLmxlbmd0aCAtIGV4dC5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBmO1xufTtcblxuXG5leHBvcnRzLmV4dG5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBzcGxpdFBhdGgocGF0aClbM107XG59O1xuXG5mdW5jdGlvbiBmaWx0ZXIgKHhzLCBmKSB7XG4gICAgaWYgKHhzLmZpbHRlcikgcmV0dXJuIHhzLmZpbHRlcihmKTtcbiAgICB2YXIgcmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZih4c1tpXSwgaSwgeHMpKSByZXMucHVzaCh4c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFN0cmluZy5wcm90b3R5cGUuc3Vic3RyIC0gbmVnYXRpdmUgaW5kZXggZG9uJ3Qgd29yayBpbiBJRThcbnZhciBzdWJzdHIgPSAnYWInLnN1YnN0cigtMSkgPT09ICdiJ1xuICAgID8gZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikgeyByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKSB9XG4gICAgOiBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7XG4gICAgICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gc3RyLmxlbmd0aCArIHN0YXJ0O1xuICAgICAgICByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKTtcbiAgICB9XG47XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpKSIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbnByb2Nlc3MubmV4dFRpY2sgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjYW5TZXRJbW1lZGlhdGUgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgICYmIHdpbmRvdy5zZXRJbW1lZGlhdGU7XG4gICAgdmFyIGNhblBvc3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgICYmIHdpbmRvdy5wb3N0TWVzc2FnZSAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lclxuICAgIDtcblxuICAgIGlmIChjYW5TZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmKSB7IHJldHVybiB3aW5kb3cuc2V0SW1tZWRpYXRlKGYpIH07XG4gICAgfVxuXG4gICAgaWYgKGNhblBvc3QpIHtcbiAgICAgICAgdmFyIHF1ZXVlID0gW107XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gZXYuc291cmNlO1xuICAgICAgICAgICAgaWYgKChzb3VyY2UgPT09IHdpbmRvdyB8fCBzb3VyY2UgPT09IG51bGwpICYmIGV2LmRhdGEgPT09ICdwcm9jZXNzLXRpY2snKSB7XG4gICAgICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZuID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBuZXh0VGljayhmbikge1xuICAgICAgICAgICAgcXVldWUucHVzaChmbik7XG4gICAgICAgICAgICB3aW5kb3cucG9zdE1lc3NhZ2UoJ3Byb2Nlc3MtdGljaycsICcqJyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZm4sIDApO1xuICAgIH07XG59KSgpO1xuXG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn1cblxuLy8gVE9ETyhzaHR5bG1hbilcbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuIiwidmFyIGluZGV4T2YgPSByZXF1aXJlKCdpbmRleG9mJyk7XG5cbnZhciBPYmplY3Rfa2V5cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICBpZiAoT2JqZWN0LmtleXMpIHJldHVybiBPYmplY3Qua2V5cyhvYmopXG4gICAgZWxzZSB7XG4gICAgICAgIHZhciByZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgcmVzLnB1c2goa2V5KVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbn07XG5cbnZhciBmb3JFYWNoID0gZnVuY3Rpb24gKHhzLCBmbikge1xuICAgIGlmICh4cy5mb3JFYWNoKSByZXR1cm4geHMuZm9yRWFjaChmbilcbiAgICBlbHNlIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm4oeHNbaV0sIGksIHhzKTtcbiAgICB9XG59O1xuXG52YXIgZGVmaW5lUHJvcCA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfJywge30pO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24ob2JqLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgbmFtZSwge1xuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihvYmosIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICBvYmpbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICB9XG59KCkpO1xuXG52YXIgZ2xvYmFscyA9IFsnQXJyYXknLCAnQm9vbGVhbicsICdEYXRlJywgJ0Vycm9yJywgJ0V2YWxFcnJvcicsICdGdW5jdGlvbicsXG4nSW5maW5pdHknLCAnSlNPTicsICdNYXRoJywgJ05hTicsICdOdW1iZXInLCAnT2JqZWN0JywgJ1JhbmdlRXJyb3InLFxuJ1JlZmVyZW5jZUVycm9yJywgJ1JlZ0V4cCcsICdTdHJpbmcnLCAnU3ludGF4RXJyb3InLCAnVHlwZUVycm9yJywgJ1VSSUVycm9yJyxcbidkZWNvZGVVUkknLCAnZGVjb2RlVVJJQ29tcG9uZW50JywgJ2VuY29kZVVSSScsICdlbmNvZGVVUklDb21wb25lbnQnLCAnZXNjYXBlJyxcbidldmFsJywgJ2lzRmluaXRlJywgJ2lzTmFOJywgJ3BhcnNlRmxvYXQnLCAncGFyc2VJbnQnLCAndW5kZWZpbmVkJywgJ3VuZXNjYXBlJ107XG5cbmZ1bmN0aW9uIENvbnRleHQoKSB7fVxuQ29udGV4dC5wcm90b3R5cGUgPSB7fTtcblxudmFyIFNjcmlwdCA9IGV4cG9ydHMuU2NyaXB0ID0gZnVuY3Rpb24gTm9kZVNjcmlwdCAoY29kZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTY3JpcHQpKSByZXR1cm4gbmV3IFNjcmlwdChjb2RlKTtcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xufTtcblxuU2NyaXB0LnByb3RvdHlwZS5ydW5JbkNvbnRleHQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgIGlmICghKGNvbnRleHQgaW5zdGFuY2VvZiBDb250ZXh0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwibmVlZHMgYSAnY29udGV4dCcgYXJndW1lbnQuXCIpO1xuICAgIH1cbiAgICBcbiAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgaWYgKCFpZnJhbWUuc3R5bGUpIGlmcmFtZS5zdHlsZSA9IHt9O1xuICAgIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIFxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICBcbiAgICB2YXIgd2luID0gaWZyYW1lLmNvbnRlbnRXaW5kb3c7XG4gICAgdmFyIHdFdmFsID0gd2luLmV2YWwsIHdFeGVjU2NyaXB0ID0gd2luLmV4ZWNTY3JpcHQ7XG5cbiAgICBpZiAoIXdFdmFsICYmIHdFeGVjU2NyaXB0KSB7XG4gICAgICAgIC8vIHdpbi5ldmFsKCkgbWFnaWNhbGx5IGFwcGVhcnMgd2hlbiB0aGlzIGlzIGNhbGxlZCBpbiBJRTpcbiAgICAgICAgd0V4ZWNTY3JpcHQuY2FsbCh3aW4sICdudWxsJyk7XG4gICAgICAgIHdFdmFsID0gd2luLmV2YWw7XG4gICAgfVxuICAgIFxuICAgIGZvckVhY2goT2JqZWN0X2tleXMoY29udGV4dCksIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgd2luW2tleV0gPSBjb250ZXh0W2tleV07XG4gICAgfSk7XG4gICAgZm9yRWFjaChnbG9iYWxzLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChjb250ZXh0W2tleV0pIHtcbiAgICAgICAgICAgIHdpbltrZXldID0gY29udGV4dFtrZXldO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgdmFyIHdpbktleXMgPSBPYmplY3Rfa2V5cyh3aW4pO1xuXG4gICAgdmFyIHJlcyA9IHdFdmFsLmNhbGwod2luLCB0aGlzLmNvZGUpO1xuICAgIFxuICAgIGZvckVhY2goT2JqZWN0X2tleXMod2luKSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAvLyBBdm9pZCBjb3B5aW5nIGNpcmN1bGFyIG9iamVjdHMgbGlrZSBgdG9wYCBhbmQgYHdpbmRvd2AgYnkgb25seVxuICAgICAgICAvLyB1cGRhdGluZyBleGlzdGluZyBjb250ZXh0IHByb3BlcnRpZXMgb3IgbmV3IHByb3BlcnRpZXMgaW4gdGhlIGB3aW5gXG4gICAgICAgIC8vIHRoYXQgd2FzIG9ubHkgaW50cm9kdWNlZCBhZnRlciB0aGUgZXZhbC5cbiAgICAgICAgaWYgKGtleSBpbiBjb250ZXh0IHx8IGluZGV4T2Yod2luS2V5cywga2V5KSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnRleHRba2V5XSA9IHdpbltrZXldO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmb3JFYWNoKGdsb2JhbHMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIGNvbnRleHQpKSB7XG4gICAgICAgICAgICBkZWZpbmVQcm9wKGNvbnRleHQsIGtleSwgd2luW2tleV0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgIFxuICAgIHJldHVybiByZXM7XG59O1xuXG5TY3JpcHQucHJvdG90eXBlLnJ1bkluVGhpc0NvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGV2YWwodGhpcy5jb2RlKTsgLy8gbWF5YmUuLi5cbn07XG5cblNjcmlwdC5wcm90b3R5cGUucnVuSW5OZXdDb250ZXh0ID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICB2YXIgY3R4ID0gU2NyaXB0LmNyZWF0ZUNvbnRleHQoY29udGV4dCk7XG4gICAgdmFyIHJlcyA9IHRoaXMucnVuSW5Db250ZXh0KGN0eCk7XG5cbiAgICBmb3JFYWNoKE9iamVjdF9rZXlzKGN0eCksIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgY29udGV4dFtrZXldID0gY3R4W2tleV07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzO1xufTtcblxuZm9yRWFjaChPYmplY3Rfa2V5cyhTY3JpcHQucHJvdG90eXBlKSwgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBleHBvcnRzW25hbWVdID0gU2NyaXB0W25hbWVdID0gZnVuY3Rpb24gKGNvZGUpIHtcbiAgICAgICAgdmFyIHMgPSBTY3JpcHQoY29kZSk7XG4gICAgICAgIHJldHVybiBzW25hbWVdLmFwcGx5KHMsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgfTtcbn0pO1xuXG5leHBvcnRzLmNyZWF0ZVNjcmlwdCA9IGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgcmV0dXJuIGV4cG9ydHMuU2NyaXB0KGNvZGUpO1xufTtcblxuZXhwb3J0cy5jcmVhdGVDb250ZXh0ID0gU2NyaXB0LmNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgIHZhciBjb3B5ID0gbmV3IENvbnRleHQoKTtcbiAgICBpZih0eXBlb2YgY29udGV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yRWFjaChPYmplY3Rfa2V5cyhjb250ZXh0KSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgY29weVtrZXldID0gY29udGV4dFtrZXldO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvcHk7XG59O1xuIiwiXG52YXIgaW5kZXhPZiA9IFtdLmluZGV4T2Y7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYXJyLCBvYmope1xuICBpZiAoaW5kZXhPZikgcmV0dXJuIGFyci5pbmRleE9mKG9iaik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKGFycltpXSA9PT0gb2JqKSByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gLTE7XG59OyIsIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cDovL2NvZGVtaXJyb3IubmV0L0xJQ0VOU0VcblxuLy8gVGhpcyBpcyBDb2RlTWlycm9yIChodHRwOi8vY29kZW1pcnJvci5uZXQpLCBhIGNvZGUgZWRpdG9yXG4vLyBpbXBsZW1lbnRlZCBpbiBKYXZhU2NyaXB0IG9uIHRvcCBvZiB0aGUgYnJvd3NlcidzIERPTS5cbi8vXG4vLyBZb3UgY2FuIGZpbmQgc29tZSB0ZWNobmljYWwgYmFja2dyb3VuZCBmb3Igc29tZSBvZiB0aGUgY29kZSBiZWxvd1xuLy8gYXQgaHR0cDovL21hcmlqbmhhdmVyYmVrZS5ubC9ibG9nLyNjbS1pbnRlcm5hbHMgLlxuXG4oZnVuY3Rpb24obW9kKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIikgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IG1vZCgpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICByZXR1cm4gZGVmaW5lKFtdLCBtb2QpO1xuICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52XG4gICAgdGhpcy5Db2RlTWlycm9yID0gbW9kKCk7XG59KShmdW5jdGlvbigpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLy8gQlJPV1NFUiBTTklGRklOR1xuXG4gIC8vIEtsdWRnZXMgZm9yIGJ1Z3MgYW5kIGJlaGF2aW9yIGRpZmZlcmVuY2VzIHRoYXQgY2FuJ3QgYmUgZmVhdHVyZVxuICAvLyBkZXRlY3RlZCBhcmUgZW5hYmxlZCBiYXNlZCBvbiB1c2VyQWdlbnQgZXRjIHNuaWZmaW5nLlxuXG4gIHZhciBnZWNrbyA9IC9nZWNrb1xcL1xcZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIC8vIGllX3VwdG9OIG1lYW5zIEludGVybmV0IEV4cGxvcmVyIHZlcnNpb24gTiBvciBsb3dlclxuICB2YXIgaWVfdXB0bzEwID0gL01TSUUgXFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICB2YXIgaWVfMTF1cCA9IC9UcmlkZW50XFwvKD86WzctOV18XFxkezIsfSlcXC4uKnJ2OihcXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgdmFyIGllID0gaWVfdXB0bzEwIHx8IGllXzExdXA7XG4gIHZhciBpZV92ZXJzaW9uID0gaWUgJiYgKGllX3VwdG8xMCA/IGRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCA2IDogaWVfMTF1cFsxXSk7XG4gIHZhciB3ZWJraXQgPSAvV2ViS2l0XFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICB2YXIgcXR3ZWJraXQgPSB3ZWJraXQgJiYgL1F0XFwvXFxkK1xcLlxcZCsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIHZhciBjaHJvbWUgPSAvQ2hyb21lXFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICB2YXIgcHJlc3RvID0gL09wZXJhXFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICB2YXIgc2FmYXJpID0gL0FwcGxlIENvbXB1dGVyLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpO1xuICB2YXIga2h0bWwgPSAvS0hUTUxcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIHZhciBtYWNfZ2VNb3VudGFpbkxpb24gPSAvTWFjIE9TIFggMVxcZFxcRChbOC05XXxcXGRcXGQpXFxELy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICB2YXIgcGhhbnRvbSA9IC9QaGFudG9tSlMvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgdmFyIGlvcyA9IC9BcHBsZVdlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAvTW9iaWxlXFwvXFx3Ky8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgLy8gVGhpcyBpcyB3b2VmdWxseSBpbmNvbXBsZXRlLiBTdWdnZXN0aW9ucyBmb3IgYWx0ZXJuYXRpdmUgbWV0aG9kcyB3ZWxjb21lLlxuICB2YXIgbW9iaWxlID0gaW9zIHx8IC9BbmRyb2lkfHdlYk9TfEJsYWNrQmVycnl8T3BlcmEgTWluaXxPcGVyYSBNb2JpfElFTW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgdmFyIG1hYyA9IGlvcyB8fCAvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7XG4gIHZhciB3aW5kb3dzID0gL3dpbi9pLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcblxuICB2YXIgcHJlc3RvX3ZlcnNpb24gPSBwcmVzdG8gJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVmVyc2lvblxcLyhcXGQqXFwuXFxkKikvKTtcbiAgaWYgKHByZXN0b192ZXJzaW9uKSBwcmVzdG9fdmVyc2lvbiA9IE51bWJlcihwcmVzdG9fdmVyc2lvblsxXSk7XG4gIGlmIChwcmVzdG9fdmVyc2lvbiAmJiBwcmVzdG9fdmVyc2lvbiA+PSAxNSkgeyBwcmVzdG8gPSBmYWxzZTsgd2Via2l0ID0gdHJ1ZTsgfVxuICAvLyBTb21lIGJyb3dzZXJzIHVzZSB0aGUgd3JvbmcgZXZlbnQgcHJvcGVydGllcyB0byBzaWduYWwgY21kL2N0cmwgb24gT1MgWFxuICB2YXIgZmxpcEN0cmxDbWQgPSBtYWMgJiYgKHF0d2Via2l0IHx8IHByZXN0byAmJiAocHJlc3RvX3ZlcnNpb24gPT0gbnVsbCB8fCBwcmVzdG9fdmVyc2lvbiA8IDEyLjExKSk7XG4gIHZhciBjYXB0dXJlUmlnaHRDbGljayA9IGdlY2tvIHx8IChpZSAmJiBpZV92ZXJzaW9uID49IDkpO1xuXG4gIC8vIE9wdGltaXplIHNvbWUgY29kZSB3aGVuIHRoZXNlIGZlYXR1cmVzIGFyZSBub3QgdXNlZC5cbiAgdmFyIHNhd1JlYWRPbmx5U3BhbnMgPSBmYWxzZSwgc2F3Q29sbGFwc2VkU3BhbnMgPSBmYWxzZTtcblxuICAvLyBFRElUT1IgQ09OU1RSVUNUT1JcblxuICAvLyBBIENvZGVNaXJyb3IgaW5zdGFuY2UgcmVwcmVzZW50cyBhbiBlZGl0b3IuIFRoaXMgaXMgdGhlIG9iamVjdFxuICAvLyB0aGF0IHVzZXIgY29kZSBpcyB1c3VhbGx5IGRlYWxpbmcgd2l0aC5cblxuICBmdW5jdGlvbiBDb2RlTWlycm9yKHBsYWNlLCBvcHRpb25zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENvZGVNaXJyb3IpKSByZXR1cm4gbmV3IENvZGVNaXJyb3IocGxhY2UsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyA9IG9wdGlvbnMgPyBjb3B5T2JqKG9wdGlvbnMpIDoge307XG4gICAgLy8gRGV0ZXJtaW5lIGVmZmVjdGl2ZSBvcHRpb25zIGJhc2VkIG9uIGdpdmVuIHZhbHVlcyBhbmQgZGVmYXVsdHMuXG4gICAgY29weU9iaihkZWZhdWx0cywgb3B0aW9ucywgZmFsc2UpO1xuICAgIHNldEd1dHRlcnNGb3JMaW5lTnVtYmVycyhvcHRpb25zKTtcblxuICAgIHZhciBkb2MgPSBvcHRpb25zLnZhbHVlO1xuICAgIGlmICh0eXBlb2YgZG9jID09IFwic3RyaW5nXCIpIGRvYyA9IG5ldyBEb2MoZG9jLCBvcHRpb25zLm1vZGUpO1xuICAgIHRoaXMuZG9jID0gZG9jO1xuXG4gICAgdmFyIGRpc3BsYXkgPSB0aGlzLmRpc3BsYXkgPSBuZXcgRGlzcGxheShwbGFjZSwgZG9jKTtcbiAgICBkaXNwbGF5LndyYXBwZXIuQ29kZU1pcnJvciA9IHRoaXM7XG4gICAgdXBkYXRlR3V0dGVycyh0aGlzKTtcbiAgICB0aGVtZUNoYW5nZWQodGhpcyk7XG4gICAgaWYgKG9wdGlvbnMubGluZVdyYXBwaW5nKVxuICAgICAgdGhpcy5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lICs9IFwiIENvZGVNaXJyb3Itd3JhcFwiO1xuICAgIGlmIChvcHRpb25zLmF1dG9mb2N1cyAmJiAhbW9iaWxlKSBmb2N1c0lucHV0KHRoaXMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGtleU1hcHM6IFtdLCAgLy8gc3RvcmVzIG1hcHMgYWRkZWQgYnkgYWRkS2V5TWFwXG4gICAgICBvdmVybGF5czogW10sIC8vIGhpZ2hsaWdodGluZyBvdmVybGF5cywgYXMgYWRkZWQgYnkgYWRkT3ZlcmxheVxuICAgICAgbW9kZUdlbjogMCwgICAvLyBidW1wZWQgd2hlbiBtb2RlL292ZXJsYXkgY2hhbmdlcywgdXNlZCB0byBpbnZhbGlkYXRlIGhpZ2hsaWdodGluZyBpbmZvXG4gICAgICBvdmVyd3JpdGU6IGZhbHNlLCBmb2N1c2VkOiBmYWxzZSxcbiAgICAgIHN1cHByZXNzRWRpdHM6IGZhbHNlLCAvLyB1c2VkIHRvIGRpc2FibGUgZWRpdGluZyBkdXJpbmcga2V5IGhhbmRsZXJzIHdoZW4gaW4gcmVhZE9ubHkgbW9kZVxuICAgICAgcGFzdGVJbmNvbWluZzogZmFsc2UsIGN1dEluY29taW5nOiBmYWxzZSwgLy8gaGVscCByZWNvZ25pemUgcGFzdGUvY3V0IGVkaXRzIGluIHJlYWRJbnB1dFxuICAgICAgZHJhZ2dpbmdUZXh0OiBmYWxzZSxcbiAgICAgIGhpZ2hsaWdodDogbmV3IERlbGF5ZWQoKSAvLyBzdG9yZXMgaGlnaGxpZ2h0IHdvcmtlciB0aW1lb3V0XG4gICAgfTtcblxuICAgIC8vIE92ZXJyaWRlIG1hZ2ljIHRleHRhcmVhIGNvbnRlbnQgcmVzdG9yZSB0aGF0IElFIHNvbWV0aW1lcyBkb2VzXG4gICAgLy8gb24gb3VyIGhpZGRlbiB0ZXh0YXJlYSBvbiByZWxvYWRcbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDExKSBzZXRUaW1lb3V0KGJpbmQocmVzZXRJbnB1dCwgdGhpcywgdHJ1ZSksIDIwKTtcblxuICAgIHJlZ2lzdGVyRXZlbnRIYW5kbGVycyh0aGlzKTtcbiAgICBlbnN1cmVHbG9iYWxIYW5kbGVycygpO1xuXG4gICAgc3RhcnRPcGVyYXRpb24odGhpcyk7XG4gICAgdGhpcy5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgYXR0YWNoRG9jKHRoaXMsIGRvYyk7XG5cbiAgICBpZiAoKG9wdGlvbnMuYXV0b2ZvY3VzICYmICFtb2JpbGUpIHx8IGFjdGl2ZUVsdCgpID09IGRpc3BsYXkuaW5wdXQpXG4gICAgICBzZXRUaW1lb3V0KGJpbmQob25Gb2N1cywgdGhpcyksIDIwKTtcbiAgICBlbHNlXG4gICAgICBvbkJsdXIodGhpcyk7XG5cbiAgICBmb3IgKHZhciBvcHQgaW4gb3B0aW9uSGFuZGxlcnMpIGlmIChvcHRpb25IYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShvcHQpKVxuICAgICAgb3B0aW9uSGFuZGxlcnNbb3B0XSh0aGlzLCBvcHRpb25zW29wdF0sIEluaXQpO1xuICAgIG1heWJlVXBkYXRlTGluZU51bWJlcldpZHRoKHRoaXMpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdEhvb2tzLmxlbmd0aDsgKytpKSBpbml0SG9va3NbaV0odGhpcyk7XG4gICAgZW5kT3BlcmF0aW9uKHRoaXMpO1xuICB9XG5cbiAgLy8gRElTUExBWSBDT05TVFJVQ1RPUlxuXG4gIC8vIFRoZSBkaXNwbGF5IGhhbmRsZXMgdGhlIERPTSBpbnRlZ3JhdGlvbiwgYm90aCBmb3IgaW5wdXQgcmVhZGluZ1xuICAvLyBhbmQgY29udGVudCBkcmF3aW5nLiBJdCBob2xkcyByZWZlcmVuY2VzIHRvIERPTSBub2RlcyBhbmRcbiAgLy8gZGlzcGxheS1yZWxhdGVkIHN0YXRlLlxuXG4gIGZ1bmN0aW9uIERpc3BsYXkocGxhY2UsIGRvYykge1xuICAgIHZhciBkID0gdGhpcztcblxuICAgIC8vIFRoZSBzZW1paGlkZGVuIHRleHRhcmVhIHRoYXQgaXMgZm9jdXNlZCB3aGVuIHRoZSBlZGl0b3IgaXNcbiAgICAvLyBmb2N1c2VkLCBhbmQgcmVjZWl2ZXMgaW5wdXQuXG4gICAgdmFyIGlucHV0ID0gZC5pbnB1dCA9IGVsdChcInRleHRhcmVhXCIsIG51bGwsIG51bGwsIFwicG9zaXRpb246IGFic29sdXRlOyBwYWRkaW5nOiAwOyB3aWR0aDogMXB4OyBoZWlnaHQ6IDFlbTsgb3V0bGluZTogbm9uZVwiKTtcbiAgICAvLyBUaGUgdGV4dGFyZWEgaXMga2VwdCBwb3NpdGlvbmVkIG5lYXIgdGhlIGN1cnNvciB0byBwcmV2ZW50IHRoZVxuICAgIC8vIGZhY3QgdGhhdCBpdCdsbCBiZSBzY3JvbGxlZCBpbnRvIHZpZXcgb24gaW5wdXQgZnJvbSBzY3JvbGxpbmdcbiAgICAvLyBvdXIgZmFrZSBjdXJzb3Igb3V0IG9mIHZpZXcuIE9uIHdlYmtpdCwgd2hlbiB3cmFwPW9mZiwgcGFzdGUgaXNcbiAgICAvLyB2ZXJ5IHNsb3cuIFNvIG1ha2UgdGhlIGFyZWEgd2lkZSBpbnN0ZWFkLlxuICAgIGlmICh3ZWJraXQpIGlucHV0LnN0eWxlLndpZHRoID0gXCIxMDAwcHhcIjtcbiAgICBlbHNlIGlucHV0LnNldEF0dHJpYnV0ZShcIndyYXBcIiwgXCJvZmZcIik7XG4gICAgLy8gSWYgYm9yZGVyOiAwOyAtLSBpT1MgZmFpbHMgdG8gb3BlbiBrZXlib2FyZCAoaXNzdWUgIzEyODcpXG4gICAgaWYgKGlvcykgaW5wdXQuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIjtcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJhdXRvY29ycmVjdFwiLCBcIm9mZlwiKTsgaW5wdXQuc2V0QXR0cmlidXRlKFwiYXV0b2NhcGl0YWxpemVcIiwgXCJvZmZcIik7IGlucHV0LnNldEF0dHJpYnV0ZShcInNwZWxsY2hlY2tcIiwgXCJmYWxzZVwiKTtcblxuICAgIC8vIFdyYXBzIGFuZCBoaWRlcyBpbnB1dCB0ZXh0YXJlYVxuICAgIGQuaW5wdXREaXYgPSBlbHQoXCJkaXZcIiwgW2lucHV0XSwgbnVsbCwgXCJvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7IHdpZHRoOiAzcHg7IGhlaWdodDogMHB4O1wiKTtcbiAgICAvLyBUaGUgZmFrZSBzY3JvbGxiYXIgZWxlbWVudHMuXG4gICAgZC5zY3JvbGxiYXJIID0gZWx0KFwiZGl2XCIsIFtlbHQoXCJkaXZcIiwgbnVsbCwgbnVsbCwgXCJoZWlnaHQ6IDEwMCU7IG1pbi1oZWlnaHQ6IDFweFwiKV0sIFwiQ29kZU1pcnJvci1oc2Nyb2xsYmFyXCIpO1xuICAgIGQuc2Nyb2xsYmFyViA9IGVsdChcImRpdlwiLCBbZWx0KFwiZGl2XCIsIG51bGwsIG51bGwsIFwibWluLXdpZHRoOiAxcHhcIildLCBcIkNvZGVNaXJyb3ItdnNjcm9sbGJhclwiKTtcbiAgICAvLyBDb3ZlcnMgYm90dG9tLXJpZ2h0IHNxdWFyZSB3aGVuIGJvdGggc2Nyb2xsYmFycyBhcmUgcHJlc2VudC5cbiAgICBkLnNjcm9sbGJhckZpbGxlciA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3Itc2Nyb2xsYmFyLWZpbGxlclwiKTtcbiAgICAvLyBDb3ZlcnMgYm90dG9tIG9mIGd1dHRlciB3aGVuIGNvdmVyR3V0dGVyTmV4dFRvU2Nyb2xsYmFyIGlzIG9uXG4gICAgLy8gYW5kIGggc2Nyb2xsYmFyIGlzIHByZXNlbnQuXG4gICAgZC5ndXR0ZXJGaWxsZXIgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWd1dHRlci1maWxsZXJcIik7XG4gICAgLy8gV2lsbCBjb250YWluIHRoZSBhY3R1YWwgY29kZSwgcG9zaXRpb25lZCB0byBjb3ZlciB0aGUgdmlld3BvcnQuXG4gICAgZC5saW5lRGl2ID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1jb2RlXCIpO1xuICAgIC8vIEVsZW1lbnRzIGFyZSBhZGRlZCB0byB0aGVzZSB0byByZXByZXNlbnQgc2VsZWN0aW9uIGFuZCBjdXJzb3JzLlxuICAgIGQuc2VsZWN0aW9uRGl2ID0gZWx0KFwiZGl2XCIsIG51bGwsIG51bGwsIFwicG9zaXRpb246IHJlbGF0aXZlOyB6LWluZGV4OiAxXCIpO1xuICAgIGQuY3Vyc29yRGl2ID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1jdXJzb3JzXCIpO1xuICAgIC8vIEEgdmlzaWJpbGl0eTogaGlkZGVuIGVsZW1lbnQgdXNlZCB0byBmaW5kIHRoZSBzaXplIG9mIHRoaW5ncy5cbiAgICBkLm1lYXN1cmUgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLW1lYXN1cmVcIik7XG4gICAgLy8gV2hlbiBsaW5lcyBvdXRzaWRlIG9mIHRoZSB2aWV3cG9ydCBhcmUgbWVhc3VyZWQsIHRoZXkgYXJlIGRyYXduIGluIHRoaXMuXG4gICAgZC5saW5lTWVhc3VyZSA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItbWVhc3VyZVwiKTtcbiAgICAvLyBXcmFwcyBldmVyeXRoaW5nIHRoYXQgbmVlZHMgdG8gZXhpc3QgaW5zaWRlIHRoZSB2ZXJ0aWNhbGx5LXBhZGRlZCBjb29yZGluYXRlIHN5c3RlbVxuICAgIGQubGluZVNwYWNlID0gZWx0KFwiZGl2XCIsIFtkLm1lYXN1cmUsIGQubGluZU1lYXN1cmUsIGQuc2VsZWN0aW9uRGl2LCBkLmN1cnNvckRpdiwgZC5saW5lRGl2XSxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsLCBcInBvc2l0aW9uOiByZWxhdGl2ZTsgb3V0bGluZTogbm9uZVwiKTtcbiAgICAvLyBNb3ZlZCBhcm91bmQgaXRzIHBhcmVudCB0byBjb3ZlciB2aXNpYmxlIHZpZXcuXG4gICAgZC5tb3ZlciA9IGVsdChcImRpdlwiLCBbZWx0KFwiZGl2XCIsIFtkLmxpbmVTcGFjZV0sIFwiQ29kZU1pcnJvci1saW5lc1wiKV0sIG51bGwsIFwicG9zaXRpb246IHJlbGF0aXZlXCIpO1xuICAgIC8vIFNldCB0byB0aGUgaGVpZ2h0IG9mIHRoZSBkb2N1bWVudCwgYWxsb3dpbmcgc2Nyb2xsaW5nLlxuICAgIGQuc2l6ZXIgPSBlbHQoXCJkaXZcIiwgW2QubW92ZXJdLCBcIkNvZGVNaXJyb3Itc2l6ZXJcIik7XG4gICAgLy8gQmVoYXZpb3Igb2YgZWx0cyB3aXRoIG92ZXJmbG93OiBhdXRvIGFuZCBwYWRkaW5nIGlzXG4gICAgLy8gaW5jb25zaXN0ZW50IGFjcm9zcyBicm93c2Vycy4gVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGVcbiAgICAvLyBzY3JvbGxhYmxlIGFyZWEgaXMgYmlnIGVub3VnaC5cbiAgICBkLmhlaWdodEZvcmNlciA9IGVsdChcImRpdlwiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiBhYnNvbHV0ZTsgaGVpZ2h0OiBcIiArIHNjcm9sbGVyQ3V0T2ZmICsgXCJweDsgd2lkdGg6IDFweDtcIik7XG4gICAgLy8gV2lsbCBjb250YWluIHRoZSBndXR0ZXJzLCBpZiBhbnkuXG4gICAgZC5ndXR0ZXJzID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1ndXR0ZXJzXCIpO1xuICAgIGQubGluZUd1dHRlciA9IG51bGw7XG4gICAgLy8gQWN0dWFsIHNjcm9sbGFibGUgZWxlbWVudC5cbiAgICBkLnNjcm9sbGVyID0gZWx0KFwiZGl2XCIsIFtkLnNpemVyLCBkLmhlaWdodEZvcmNlciwgZC5ndXR0ZXJzXSwgXCJDb2RlTWlycm9yLXNjcm9sbFwiKTtcbiAgICBkLnNjcm9sbGVyLnNldEF0dHJpYnV0ZShcInRhYkluZGV4XCIsIFwiLTFcIik7XG4gICAgLy8gVGhlIGVsZW1lbnQgaW4gd2hpY2ggdGhlIGVkaXRvciBsaXZlcy5cbiAgICBkLndyYXBwZXIgPSBlbHQoXCJkaXZcIiwgW2QuaW5wdXREaXYsIGQuc2Nyb2xsYmFySCwgZC5zY3JvbGxiYXJWLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuc2Nyb2xsYmFyRmlsbGVyLCBkLmd1dHRlckZpbGxlciwgZC5zY3JvbGxlcl0sIFwiQ29kZU1pcnJvclwiKTtcblxuICAgIC8vIFdvcmsgYXJvdW5kIElFNyB6LWluZGV4IGJ1ZyAobm90IHBlcmZlY3QsIGhlbmNlIElFNyBub3QgcmVhbGx5IGJlaW5nIHN1cHBvcnRlZClcbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDgpIHsgZC5ndXR0ZXJzLnN0eWxlLnpJbmRleCA9IC0xOyBkLnNjcm9sbGVyLnN0eWxlLnBhZGRpbmdSaWdodCA9IDA7IH1cbiAgICAvLyBOZWVkZWQgdG8gaGlkZSBiaWcgYmx1ZSBibGlua2luZyBjdXJzb3Igb24gTW9iaWxlIFNhZmFyaVxuICAgIGlmIChpb3MpIGlucHV0LnN0eWxlLndpZHRoID0gXCIwcHhcIjtcbiAgICBpZiAoIXdlYmtpdCkgZC5zY3JvbGxlci5kcmFnZ2FibGUgPSB0cnVlO1xuICAgIC8vIE5lZWRlZCB0byBoYW5kbGUgVGFiIGtleSBpbiBLSFRNTFxuICAgIGlmIChraHRtbCkgeyBkLmlucHV0RGl2LnN0eWxlLmhlaWdodCA9IFwiMXB4XCI7IGQuaW5wdXREaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7IH1cbiAgICAvLyBOZWVkIHRvIHNldCBhIG1pbmltdW0gd2lkdGggdG8gc2VlIHRoZSBzY3JvbGxiYXIgb24gSUU3IChidXQgbXVzdCBub3Qgc2V0IGl0IG9uIElFOCkuXG4gICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA4KSBkLnNjcm9sbGJhckguc3R5bGUubWluSGVpZ2h0ID0gZC5zY3JvbGxiYXJWLnN0eWxlLm1pbldpZHRoID0gXCIxOHB4XCI7XG5cbiAgICBpZiAocGxhY2UuYXBwZW5kQ2hpbGQpIHBsYWNlLmFwcGVuZENoaWxkKGQud3JhcHBlcik7XG4gICAgZWxzZSBwbGFjZShkLndyYXBwZXIpO1xuXG4gICAgLy8gQ3VycmVudCByZW5kZXJlZCByYW5nZSAobWF5IGJlIGJpZ2dlciB0aGFuIHRoZSB2aWV3IHdpbmRvdykuXG4gICAgZC52aWV3RnJvbSA9IGQudmlld1RvID0gZG9jLmZpcnN0O1xuICAgIC8vIEluZm9ybWF0aW9uIGFib3V0IHRoZSByZW5kZXJlZCBsaW5lcy5cbiAgICBkLnZpZXcgPSBbXTtcbiAgICAvLyBIb2xkcyBpbmZvIGFib3V0IGEgc2luZ2xlIHJlbmRlcmVkIGxpbmUgd2hlbiBpdCB3YXMgcmVuZGVyZWRcbiAgICAvLyBmb3IgbWVhc3VyZW1lbnQsIHdoaWxlIG5vdCBpbiB2aWV3LlxuICAgIGQuZXh0ZXJuYWxNZWFzdXJlZCA9IG51bGw7XG4gICAgLy8gRW1wdHkgc3BhY2UgKGluIHBpeGVscykgYWJvdmUgdGhlIHZpZXdcbiAgICBkLnZpZXdPZmZzZXQgPSAwO1xuICAgIGQubGFzdFNpemVDID0gMDtcbiAgICBkLnVwZGF0ZUxpbmVOdW1iZXJzID0gbnVsbDtcblxuICAgIC8vIFVzZWQgdG8gb25seSByZXNpemUgdGhlIGxpbmUgbnVtYmVyIGd1dHRlciB3aGVuIG5lY2Vzc2FyeSAod2hlblxuICAgIC8vIHRoZSBhbW91bnQgb2YgbGluZXMgY3Jvc3NlcyBhIGJvdW5kYXJ5IHRoYXQgbWFrZXMgaXRzIHdpZHRoIGNoYW5nZSlcbiAgICBkLmxpbmVOdW1XaWR0aCA9IGQubGluZU51bUlubmVyV2lkdGggPSBkLmxpbmVOdW1DaGFycyA9IG51bGw7XG4gICAgLy8gU2VlIHJlYWRJbnB1dCBhbmQgcmVzZXRJbnB1dFxuICAgIGQucHJldklucHV0ID0gXCJcIjtcbiAgICAvLyBTZXQgdG8gdHJ1ZSB3aGVuIGEgbm9uLWhvcml6b250YWwtc2Nyb2xsaW5nIGxpbmUgd2lkZ2V0IGlzXG4gICAgLy8gYWRkZWQuIEFzIGFuIG9wdGltaXphdGlvbiwgbGluZSB3aWRnZXQgYWxpZ25pbmcgaXMgc2tpcHBlZCB3aGVuXG4gICAgLy8gdGhpcyBpcyBmYWxzZS5cbiAgICBkLmFsaWduV2lkZ2V0cyA9IGZhbHNlO1xuICAgIC8vIEZsYWcgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciB3ZSBleHBlY3QgaW5wdXQgdG8gYXBwZWFyIHJlYWwgc29vblxuICAgIC8vIG5vdyAoYWZ0ZXIgc29tZSBldmVudCBsaWtlICdrZXlwcmVzcycgb3IgJ2lucHV0JykgYW5kIGFyZVxuICAgIC8vIHBvbGxpbmcgaW50ZW5zaXZlbHkuXG4gICAgZC5wb2xsaW5nRmFzdCA9IGZhbHNlO1xuICAgIC8vIFNlbGYtcmVzZXR0aW5nIHRpbWVvdXQgZm9yIHRoZSBwb2xsZXJcbiAgICBkLnBvbGwgPSBuZXcgRGVsYXllZCgpO1xuXG4gICAgZC5jYWNoZWRDaGFyV2lkdGggPSBkLmNhY2hlZFRleHRIZWlnaHQgPSBkLmNhY2hlZFBhZGRpbmdIID0gbnVsbDtcblxuICAgIC8vIFRyYWNrcyB3aGVuIHJlc2V0SW5wdXQgaGFzIHB1bnRlZCB0byBqdXN0IHB1dHRpbmcgYSBzaG9ydFxuICAgIC8vIHN0cmluZyBpbnRvIHRoZSB0ZXh0YXJlYSBpbnN0ZWFkIG9mIHRoZSBmdWxsIHNlbGVjdGlvbi5cbiAgICBkLmluYWNjdXJhdGVTZWxlY3Rpb24gPSBmYWxzZTtcblxuICAgIC8vIFRyYWNrcyB0aGUgbWF4aW11bSBsaW5lIGxlbmd0aCBzbyB0aGF0IHRoZSBob3Jpem9udGFsIHNjcm9sbGJhclxuICAgIC8vIGNhbiBiZSBrZXB0IHN0YXRpYyB3aGVuIHNjcm9sbGluZy5cbiAgICBkLm1heExpbmUgPSBudWxsO1xuICAgIGQubWF4TGluZUxlbmd0aCA9IDA7XG4gICAgZC5tYXhMaW5lQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgLy8gVXNlZCBmb3IgbWVhc3VyaW5nIHdoZWVsIHNjcm9sbGluZyBncmFudWxhcml0eVxuICAgIGQud2hlZWxEWCA9IGQud2hlZWxEWSA9IGQud2hlZWxTdGFydFggPSBkLndoZWVsU3RhcnRZID0gbnVsbDtcblxuICAgIC8vIFRydWUgd2hlbiBzaGlmdCBpcyBoZWxkIGRvd24uXG4gICAgZC5zaGlmdCA9IGZhbHNlO1xuXG4gICAgLy8gVXNlZCB0byB0cmFjayB3aGV0aGVyIGFueXRoaW5nIGhhcHBlbmVkIHNpbmNlIHRoZSBjb250ZXh0IG1lbnVcbiAgICAvLyB3YXMgb3BlbmVkLlxuICAgIGQuc2VsRm9yQ29udGV4dE1lbnUgPSBudWxsO1xuICB9XG5cbiAgLy8gU1RBVEUgVVBEQVRFU1xuXG4gIC8vIFVzZWQgdG8gZ2V0IHRoZSBlZGl0b3IgaW50byBhIGNvbnNpc3RlbnQgc3RhdGUgYWdhaW4gd2hlbiBvcHRpb25zIGNoYW5nZS5cblxuICBmdW5jdGlvbiBsb2FkTW9kZShjbSkge1xuICAgIGNtLmRvYy5tb2RlID0gQ29kZU1pcnJvci5nZXRNb2RlKGNtLm9wdGlvbnMsIGNtLmRvYy5tb2RlT3B0aW9uKTtcbiAgICByZXNldE1vZGVTdGF0ZShjbSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldE1vZGVTdGF0ZShjbSkge1xuICAgIGNtLmRvYy5pdGVyKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmIChsaW5lLnN0YXRlQWZ0ZXIpIGxpbmUuc3RhdGVBZnRlciA9IG51bGw7XG4gICAgICBpZiAobGluZS5zdHlsZXMpIGxpbmUuc3R5bGVzID0gbnVsbDtcbiAgICB9KTtcbiAgICBjbS5kb2MuZnJvbnRpZXIgPSBjbS5kb2MuZmlyc3Q7XG4gICAgc3RhcnRXb3JrZXIoY20sIDEwMCk7XG4gICAgY20uc3RhdGUubW9kZUdlbisrO1xuICAgIGlmIChjbS5jdXJPcCkgcmVnQ2hhbmdlKGNtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyYXBwaW5nQ2hhbmdlZChjbSkge1xuICAgIGlmIChjbS5vcHRpb25zLmxpbmVXcmFwcGluZykge1xuICAgICAgYWRkQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBcIkNvZGVNaXJyb3Itd3JhcFwiKTtcbiAgICAgIGNtLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWluV2lkdGggPSBcIlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBybUNsYXNzKGNtLmRpc3BsYXkud3JhcHBlciwgXCJDb2RlTWlycm9yLXdyYXBcIik7XG4gICAgICBmaW5kTWF4TGluZShjbSk7XG4gICAgfVxuICAgIGVzdGltYXRlTGluZUhlaWdodHMoY20pO1xuICAgIHJlZ0NoYW5nZShjbSk7XG4gICAgY2xlYXJDYWNoZXMoY20pO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXt1cGRhdGVTY3JvbGxiYXJzKGNtKTt9LCAxMDApO1xuICB9XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgZXN0aW1hdGVzIHRoZSBoZWlnaHQgb2YgYSBsaW5lLCB0byB1c2UgYXNcbiAgLy8gZmlyc3QgYXBwcm94aW1hdGlvbiB1bnRpbCB0aGUgbGluZSBiZWNvbWVzIHZpc2libGUgKGFuZCBpcyB0aHVzXG4gIC8vIHByb3Blcmx5IG1lYXN1cmFibGUpLlxuICBmdW5jdGlvbiBlc3RpbWF0ZUhlaWdodChjbSkge1xuICAgIHZhciB0aCA9IHRleHRIZWlnaHQoY20uZGlzcGxheSksIHdyYXBwaW5nID0gY20ub3B0aW9ucy5saW5lV3JhcHBpbmc7XG4gICAgdmFyIHBlckxpbmUgPSB3cmFwcGluZyAmJiBNYXRoLm1heCg1LCBjbS5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoIC8gY2hhcldpZHRoKGNtLmRpc3BsYXkpIC0gMyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmIChsaW5lSXNIaWRkZW4oY20uZG9jLCBsaW5lKSkgcmV0dXJuIDA7XG5cbiAgICAgIHZhciB3aWRnZXRzSGVpZ2h0ID0gMDtcbiAgICAgIGlmIChsaW5lLndpZGdldHMpIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZS53aWRnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChsaW5lLndpZGdldHNbaV0uaGVpZ2h0KSB3aWRnZXRzSGVpZ2h0ICs9IGxpbmUud2lkZ2V0c1tpXS5oZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh3cmFwcGluZylcbiAgICAgICAgcmV0dXJuIHdpZGdldHNIZWlnaHQgKyAoTWF0aC5jZWlsKGxpbmUudGV4dC5sZW5ndGggLyBwZXJMaW5lKSB8fCAxKSAqIHRoO1xuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gd2lkZ2V0c0hlaWdodCArIHRoO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBlc3RpbWF0ZUxpbmVIZWlnaHRzKGNtKSB7XG4gICAgdmFyIGRvYyA9IGNtLmRvYywgZXN0ID0gZXN0aW1hdGVIZWlnaHQoY20pO1xuICAgIGRvYy5pdGVyKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBlc3RIZWlnaHQgPSBlc3QobGluZSk7XG4gICAgICBpZiAoZXN0SGVpZ2h0ICE9IGxpbmUuaGVpZ2h0KSB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIGVzdEhlaWdodCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBrZXlNYXBDaGFuZ2VkKGNtKSB7XG4gICAgdmFyIG1hcCA9IGtleU1hcFtjbS5vcHRpb25zLmtleU1hcF0sIHN0eWxlID0gbWFwLnN0eWxlO1xuICAgIGNtLmRpc3BsYXkud3JhcHBlci5jbGFzc05hbWUgPSBjbS5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lLnJlcGxhY2UoL1xccypjbS1rZXltYXAtXFxTKy9nLCBcIlwiKSArXG4gICAgICAoc3R5bGUgPyBcIiBjbS1rZXltYXAtXCIgKyBzdHlsZSA6IFwiXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGhlbWVDaGFuZ2VkKGNtKSB7XG4gICAgY20uZGlzcGxheS53cmFwcGVyLmNsYXNzTmFtZSA9IGNtLmRpc3BsYXkud3JhcHBlci5jbGFzc05hbWUucmVwbGFjZSgvXFxzKmNtLXMtXFxTKy9nLCBcIlwiKSArXG4gICAgICBjbS5vcHRpb25zLnRoZW1lLnJlcGxhY2UoLyhefFxccylcXHMqL2csIFwiIGNtLXMtXCIpO1xuICAgIGNsZWFyQ2FjaGVzKGNtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGd1dHRlcnNDaGFuZ2VkKGNtKSB7XG4gICAgdXBkYXRlR3V0dGVycyhjbSk7XG4gICAgcmVnQ2hhbmdlKGNtKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YWxpZ25Ib3Jpem9udGFsbHkoY20pO30sIDIwKTtcbiAgfVxuXG4gIC8vIFJlYnVpbGQgdGhlIGd1dHRlciBlbGVtZW50cywgZW5zdXJlIHRoZSBtYXJnaW4gdG8gdGhlIGxlZnQgb2YgdGhlXG4gIC8vIGNvZGUgbWF0Y2hlcyB0aGVpciB3aWR0aC5cbiAgZnVuY3Rpb24gdXBkYXRlR3V0dGVycyhjbSkge1xuICAgIHZhciBndXR0ZXJzID0gY20uZGlzcGxheS5ndXR0ZXJzLCBzcGVjcyA9IGNtLm9wdGlvbnMuZ3V0dGVycztcbiAgICByZW1vdmVDaGlsZHJlbihndXR0ZXJzKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwZWNzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgZ3V0dGVyQ2xhc3MgPSBzcGVjc1tpXTtcbiAgICAgIHZhciBnRWx0ID0gZ3V0dGVycy5hcHBlbmRDaGlsZChlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWd1dHRlciBcIiArIGd1dHRlckNsYXNzKSk7XG4gICAgICBpZiAoZ3V0dGVyQ2xhc3MgPT0gXCJDb2RlTWlycm9yLWxpbmVudW1iZXJzXCIpIHtcbiAgICAgICAgY20uZGlzcGxheS5saW5lR3V0dGVyID0gZ0VsdDtcbiAgICAgICAgZ0VsdC5zdHlsZS53aWR0aCA9IChjbS5kaXNwbGF5LmxpbmVOdW1XaWR0aCB8fCAxKSArIFwicHhcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZ3V0dGVycy5zdHlsZS5kaXNwbGF5ID0gaSA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgICB1cGRhdGVHdXR0ZXJTcGFjZShjbSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVHdXR0ZXJTcGFjZShjbSkge1xuICAgIHZhciB3aWR0aCA9IGNtLmRpc3BsYXkuZ3V0dGVycy5vZmZzZXRXaWR0aDtcbiAgICBjbS5kaXNwbGF5LnNpemVyLnN0eWxlLm1hcmdpbkxlZnQgPSB3aWR0aCArIFwicHhcIjtcbiAgICBjbS5kaXNwbGF5LnNjcm9sbGJhckguc3R5bGUubGVmdCA9IGNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIgPyB3aWR0aCArIFwicHhcIiA6IDA7XG4gIH1cblxuICAvLyBDb21wdXRlIHRoZSBjaGFyYWN0ZXIgbGVuZ3RoIG9mIGEgbGluZSwgdGFraW5nIGludG8gYWNjb3VudFxuICAvLyBjb2xsYXBzZWQgcmFuZ2VzIChzZWUgbWFya1RleHQpIHRoYXQgbWlnaHQgaGlkZSBwYXJ0cywgYW5kIGpvaW5cbiAgLy8gb3RoZXIgbGluZXMgb250byBpdC5cbiAgZnVuY3Rpb24gbGluZUxlbmd0aChsaW5lKSB7XG4gICAgaWYgKGxpbmUuaGVpZ2h0ID09IDApIHJldHVybiAwO1xuICAgIHZhciBsZW4gPSBsaW5lLnRleHQubGVuZ3RoLCBtZXJnZWQsIGN1ciA9IGxpbmU7XG4gICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdFN0YXJ0KGN1cikpIHtcbiAgICAgIHZhciBmb3VuZCA9IG1lcmdlZC5maW5kKDAsIHRydWUpO1xuICAgICAgY3VyID0gZm91bmQuZnJvbS5saW5lO1xuICAgICAgbGVuICs9IGZvdW5kLmZyb20uY2ggLSBmb3VuZC50by5jaDtcbiAgICB9XG4gICAgY3VyID0gbGluZTtcbiAgICB3aGlsZSAobWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0RW5kKGN1cikpIHtcbiAgICAgIHZhciBmb3VuZCA9IG1lcmdlZC5maW5kKDAsIHRydWUpO1xuICAgICAgbGVuIC09IGN1ci50ZXh0Lmxlbmd0aCAtIGZvdW5kLmZyb20uY2g7XG4gICAgICBjdXIgPSBmb3VuZC50by5saW5lO1xuICAgICAgbGVuICs9IGN1ci50ZXh0Lmxlbmd0aCAtIGZvdW5kLnRvLmNoO1xuICAgIH1cbiAgICByZXR1cm4gbGVuO1xuICB9XG5cbiAgLy8gRmluZCB0aGUgbG9uZ2VzdCBsaW5lIGluIHRoZSBkb2N1bWVudC5cbiAgZnVuY3Rpb24gZmluZE1heExpbmUoY20pIHtcbiAgICB2YXIgZCA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYztcbiAgICBkLm1heExpbmUgPSBnZXRMaW5lKGRvYywgZG9jLmZpcnN0KTtcbiAgICBkLm1heExpbmVMZW5ndGggPSBsaW5lTGVuZ3RoKGQubWF4TGluZSk7XG4gICAgZC5tYXhMaW5lQ2hhbmdlZCA9IHRydWU7XG4gICAgZG9jLml0ZXIoZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIGxlbiA9IGxpbmVMZW5ndGgobGluZSk7XG4gICAgICBpZiAobGVuID4gZC5tYXhMaW5lTGVuZ3RoKSB7XG4gICAgICAgIGQubWF4TGluZUxlbmd0aCA9IGxlbjtcbiAgICAgICAgZC5tYXhMaW5lID0gbGluZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSB0aGUgZ3V0dGVycyBvcHRpb25zIGNvbnRhaW5zIHRoZSBlbGVtZW50XG4gIC8vIFwiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiIHdoZW4gdGhlIGxpbmVOdW1iZXJzIG9wdGlvbiBpcyB0cnVlLlxuICBmdW5jdGlvbiBzZXRHdXR0ZXJzRm9yTGluZU51bWJlcnMob3B0aW9ucykge1xuICAgIHZhciBmb3VuZCA9IGluZGV4T2Yob3B0aW9ucy5ndXR0ZXJzLCBcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIik7XG4gICAgaWYgKGZvdW5kID09IC0xICYmIG9wdGlvbnMubGluZU51bWJlcnMpIHtcbiAgICAgIG9wdGlvbnMuZ3V0dGVycyA9IG9wdGlvbnMuZ3V0dGVycy5jb25jYXQoW1wiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiXSk7XG4gICAgfSBlbHNlIGlmIChmb3VuZCA+IC0xICYmICFvcHRpb25zLmxpbmVOdW1iZXJzKSB7XG4gICAgICBvcHRpb25zLmd1dHRlcnMgPSBvcHRpb25zLmd1dHRlcnMuc2xpY2UoMCk7XG4gICAgICBvcHRpb25zLmd1dHRlcnMuc3BsaWNlKGZvdW5kLCAxKTtcbiAgICB9XG4gIH1cblxuICAvLyBTQ1JPTExCQVJTXG5cbiAgZnVuY3Rpb24gaFNjcm9sbGJhclRha2VzU3BhY2UoY20pIHtcbiAgICByZXR1cm4gY20uZGlzcGxheS5zY3JvbGxlci5jbGllbnRIZWlnaHQgLSBjbS5kaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0IDwgc2Nyb2xsZXJDdXRPZmYgLSAzO1xuICB9XG5cbiAgLy8gUHJlcGFyZSBET00gcmVhZHMgbmVlZGVkIHRvIHVwZGF0ZSB0aGUgc2Nyb2xsYmFycy4gRG9uZSBpbiBvbmVcbiAgLy8gc2hvdCB0byBtaW5pbWl6ZSB1cGRhdGUvbWVhc3VyZSByb3VuZHRyaXBzLlxuICBmdW5jdGlvbiBtZWFzdXJlRm9yU2Nyb2xsYmFycyhjbSkge1xuICAgIHZhciBzY3JvbGwgPSBjbS5kaXNwbGF5LnNjcm9sbGVyO1xuICAgIHJldHVybiB7XG4gICAgICBjbGllbnRIZWlnaHQ6IHNjcm9sbC5jbGllbnRIZWlnaHQsXG4gICAgICBiYXJIZWlnaHQ6IGNtLmRpc3BsYXkuc2Nyb2xsYmFyVi5jbGllbnRIZWlnaHQsXG4gICAgICBzY3JvbGxXaWR0aDogc2Nyb2xsLnNjcm9sbFdpZHRoLCBjbGllbnRXaWR0aDogc2Nyb2xsLmNsaWVudFdpZHRoLFxuICAgICAgaFNjcm9sbGJhclRha2VzU3BhY2U6IGhTY3JvbGxiYXJUYWtlc1NwYWNlKGNtKSxcbiAgICAgIGJhcldpZHRoOiBjbS5kaXNwbGF5LnNjcm9sbGJhckguY2xpZW50V2lkdGgsXG4gICAgICBkb2NIZWlnaHQ6IE1hdGgucm91bmQoY20uZG9jLmhlaWdodCArIHBhZGRpbmdWZXJ0KGNtLmRpc3BsYXkpKVxuICAgIH07XG4gIH1cblxuICAvLyBSZS1zeW5jaHJvbml6ZSB0aGUgZmFrZSBzY3JvbGxiYXJzIHdpdGggdGhlIGFjdHVhbCBzaXplIG9mIHRoZVxuICAvLyBjb250ZW50LlxuICBmdW5jdGlvbiB1cGRhdGVTY3JvbGxiYXJzKGNtLCBtZWFzdXJlKSB7XG4gICAgaWYgKCFtZWFzdXJlKSBtZWFzdXJlID0gbWVhc3VyZUZvclNjcm9sbGJhcnMoY20pO1xuICAgIHZhciBkID0gY20uZGlzcGxheSwgc1dpZHRoID0gc2Nyb2xsYmFyV2lkdGgoZC5tZWFzdXJlKTtcbiAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gbWVhc3VyZS5kb2NIZWlnaHQgKyBzY3JvbGxlckN1dE9mZjtcbiAgICB2YXIgbmVlZHNIID0gbWVhc3VyZS5zY3JvbGxXaWR0aCA+IG1lYXN1cmUuY2xpZW50V2lkdGg7XG4gICAgaWYgKG5lZWRzSCAmJiBtZWFzdXJlLnNjcm9sbFdpZHRoIDw9IG1lYXN1cmUuY2xpZW50V2lkdGggKyAxICYmXG4gICAgICAgIHNXaWR0aCA+IDAgJiYgIW1lYXN1cmUuaFNjcm9sbGJhclRha2VzU3BhY2UpXG4gICAgICBuZWVkc0ggPSBmYWxzZTsgLy8gKElzc3VlICMyNTYyKVxuICAgIHZhciBuZWVkc1YgPSBzY3JvbGxIZWlnaHQgPiBtZWFzdXJlLmNsaWVudEhlaWdodDtcblxuICAgIGlmIChuZWVkc1YpIHtcbiAgICAgIGQuc2Nyb2xsYmFyVi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgZC5zY3JvbGxiYXJWLnN0eWxlLmJvdHRvbSA9IG5lZWRzSCA/IHNXaWR0aCArIFwicHhcIiA6IFwiMFwiO1xuICAgICAgLy8gQSBidWcgaW4gSUU4IGNhbiBjYXVzZSB0aGlzIHZhbHVlIHRvIGJlIG5lZ2F0aXZlLCBzbyBndWFyZCBpdC5cbiAgICAgIGQuc2Nyb2xsYmFyVi5maXJzdENoaWxkLnN0eWxlLmhlaWdodCA9XG4gICAgICAgIE1hdGgubWF4KDAsIHNjcm9sbEhlaWdodCAtIG1lYXN1cmUuY2xpZW50SGVpZ2h0ICsgKG1lYXN1cmUuYmFySGVpZ2h0IHx8IGQuc2Nyb2xsYmFyVi5jbGllbnRIZWlnaHQpKSArIFwicHhcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgZC5zY3JvbGxiYXJWLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgZC5zY3JvbGxiYXJWLmZpcnN0Q2hpbGQuc3R5bGUuaGVpZ2h0ID0gXCIwXCI7XG4gICAgfVxuICAgIGlmIChuZWVkc0gpIHtcbiAgICAgIGQuc2Nyb2xsYmFySC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgZC5zY3JvbGxiYXJILnN0eWxlLnJpZ2h0ID0gbmVlZHNWID8gc1dpZHRoICsgXCJweFwiIDogXCIwXCI7XG4gICAgICBkLnNjcm9sbGJhckguZmlyc3RDaGlsZC5zdHlsZS53aWR0aCA9XG4gICAgICAgIChtZWFzdXJlLnNjcm9sbFdpZHRoIC0gbWVhc3VyZS5jbGllbnRXaWR0aCArIChtZWFzdXJlLmJhcldpZHRoIHx8IGQuc2Nyb2xsYmFySC5jbGllbnRXaWR0aCkpICsgXCJweFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBkLnNjcm9sbGJhckguc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICBkLnNjcm9sbGJhckguZmlyc3RDaGlsZC5zdHlsZS53aWR0aCA9IFwiMFwiO1xuICAgIH1cbiAgICBpZiAobmVlZHNIICYmIG5lZWRzVikge1xuICAgICAgZC5zY3JvbGxiYXJGaWxsZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGQuc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLmhlaWdodCA9IGQuc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLndpZHRoID0gc1dpZHRoICsgXCJweFwiO1xuICAgIH0gZWxzZSBkLnNjcm9sbGJhckZpbGxlci5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICBpZiAobmVlZHNIICYmIGNtLm9wdGlvbnMuY292ZXJHdXR0ZXJOZXh0VG9TY3JvbGxiYXIgJiYgY20ub3B0aW9ucy5maXhlZEd1dHRlcikge1xuICAgICAgZC5ndXR0ZXJGaWxsZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGQuZ3V0dGVyRmlsbGVyLnN0eWxlLmhlaWdodCA9IHNXaWR0aCArIFwicHhcIjtcbiAgICAgIGQuZ3V0dGVyRmlsbGVyLnN0eWxlLndpZHRoID0gZC5ndXR0ZXJzLm9mZnNldFdpZHRoICsgXCJweFwiO1xuICAgIH0gZWxzZSBkLmd1dHRlckZpbGxlci5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcblxuICAgIGlmICghY20uc3RhdGUuY2hlY2tlZE92ZXJsYXlTY3JvbGxiYXIgJiYgbWVhc3VyZS5jbGllbnRIZWlnaHQgPiAwKSB7XG4gICAgICBpZiAoc1dpZHRoID09PSAwKSB7XG4gICAgICAgIHZhciB3ID0gbWFjICYmICFtYWNfZ2VNb3VudGFpbkxpb24gPyBcIjEycHhcIiA6IFwiMThweFwiO1xuICAgICAgICBkLnNjcm9sbGJhclYuc3R5bGUubWluV2lkdGggPSBkLnNjcm9sbGJhckguc3R5bGUubWluSGVpZ2h0ID0gdztcbiAgICAgICAgdmFyIGJhck1vdXNlRG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBpZiAoZV90YXJnZXQoZSkgIT0gZC5zY3JvbGxiYXJWICYmIGVfdGFyZ2V0KGUpICE9IGQuc2Nyb2xsYmFySClcbiAgICAgICAgICAgIG9wZXJhdGlvbihjbSwgb25Nb3VzZURvd24pKGUpO1xuICAgICAgICB9O1xuICAgICAgICBvbihkLnNjcm9sbGJhclYsIFwibW91c2Vkb3duXCIsIGJhck1vdXNlRG93bik7XG4gICAgICAgIG9uKGQuc2Nyb2xsYmFySCwgXCJtb3VzZWRvd25cIiwgYmFyTW91c2VEb3duKTtcbiAgICAgIH1cbiAgICAgIGNtLnN0YXRlLmNoZWNrZWRPdmVybGF5U2Nyb2xsYmFyID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBDb21wdXRlIHRoZSBsaW5lcyB0aGF0IGFyZSB2aXNpYmxlIGluIGEgZ2l2ZW4gdmlld3BvcnQgKGRlZmF1bHRzXG4gIC8vIHRoZSB0aGUgY3VycmVudCBzY3JvbGwgcG9zaXRpb24pLiB2aWV3cG9ydCBtYXkgY29udGFpbiB0b3AsXG4gIC8vIGhlaWdodCwgYW5kIGVuc3VyZSAoc2VlIG9wLnNjcm9sbFRvUG9zKSBwcm9wZXJ0aWVzLlxuICBmdW5jdGlvbiB2aXNpYmxlTGluZXMoZGlzcGxheSwgZG9jLCB2aWV3cG9ydCkge1xuICAgIHZhciB0b3AgPSB2aWV3cG9ydCAmJiB2aWV3cG9ydC50b3AgIT0gbnVsbCA/IE1hdGgubWF4KDAsIHZpZXdwb3J0LnRvcCkgOiBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcDtcbiAgICB0b3AgPSBNYXRoLmZsb29yKHRvcCAtIHBhZGRpbmdUb3AoZGlzcGxheSkpO1xuICAgIHZhciBib3R0b20gPSB2aWV3cG9ydCAmJiB2aWV3cG9ydC5ib3R0b20gIT0gbnVsbCA/IHZpZXdwb3J0LmJvdHRvbSA6IHRvcCArIGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQ7XG5cbiAgICB2YXIgZnJvbSA9IGxpbmVBdEhlaWdodChkb2MsIHRvcCksIHRvID0gbGluZUF0SGVpZ2h0KGRvYywgYm90dG9tKTtcbiAgICAvLyBFbnN1cmUgaXMgYSB7ZnJvbToge2xpbmUsIGNofSwgdG86IHtsaW5lLCBjaH19IG9iamVjdCwgYW5kXG4gICAgLy8gZm9yY2VzIHRob3NlIGxpbmVzIGludG8gdGhlIHZpZXdwb3J0IChpZiBwb3NzaWJsZSkuXG4gICAgaWYgKHZpZXdwb3J0ICYmIHZpZXdwb3J0LmVuc3VyZSkge1xuICAgICAgdmFyIGVuc3VyZUZyb20gPSB2aWV3cG9ydC5lbnN1cmUuZnJvbS5saW5lLCBlbnN1cmVUbyA9IHZpZXdwb3J0LmVuc3VyZS50by5saW5lO1xuICAgICAgaWYgKGVuc3VyZUZyb20gPCBmcm9tKVxuICAgICAgICByZXR1cm4ge2Zyb206IGVuc3VyZUZyb20sXG4gICAgICAgICAgICAgICAgdG86IGxpbmVBdEhlaWdodChkb2MsIGhlaWdodEF0TGluZShnZXRMaW5lKGRvYywgZW5zdXJlRnJvbSkpICsgZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCl9O1xuICAgICAgaWYgKE1hdGgubWluKGVuc3VyZVRvLCBkb2MubGFzdExpbmUoKSkgPj0gdG8pXG4gICAgICAgIHJldHVybiB7ZnJvbTogbGluZUF0SGVpZ2h0KGRvYywgaGVpZ2h0QXRMaW5lKGdldExpbmUoZG9jLCBlbnN1cmVUbykpIC0gZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCksXG4gICAgICAgICAgICAgICAgdG86IGVuc3VyZVRvfTtcbiAgICB9XG4gICAgcmV0dXJuIHtmcm9tOiBmcm9tLCB0bzogTWF0aC5tYXgodG8sIGZyb20gKyAxKX07XG4gIH1cblxuICAvLyBMSU5FIE5VTUJFUlNcblxuICAvLyBSZS1hbGlnbiBsaW5lIG51bWJlcnMgYW5kIGd1dHRlciBtYXJrcyB0byBjb21wZW5zYXRlIGZvclxuICAvLyBob3Jpem9udGFsIHNjcm9sbGluZy5cbiAgZnVuY3Rpb24gYWxpZ25Ib3Jpem9udGFsbHkoY20pIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIHZpZXcgPSBkaXNwbGF5LnZpZXc7XG4gICAgaWYgKCFkaXNwbGF5LmFsaWduV2lkZ2V0cyAmJiAoIWRpc3BsYXkuZ3V0dGVycy5maXJzdENoaWxkIHx8ICFjbS5vcHRpb25zLmZpeGVkR3V0dGVyKSkgcmV0dXJuO1xuICAgIHZhciBjb21wID0gY29tcGVuc2F0ZUZvckhTY3JvbGwoZGlzcGxheSkgLSBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQgKyBjbS5kb2Muc2Nyb2xsTGVmdDtcbiAgICB2YXIgZ3V0dGVyVyA9IGRpc3BsYXkuZ3V0dGVycy5vZmZzZXRXaWR0aCwgbGVmdCA9IGNvbXAgKyBcInB4XCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSBpZiAoIXZpZXdbaV0uaGlkZGVuKSB7XG4gICAgICBpZiAoY20ub3B0aW9ucy5maXhlZEd1dHRlciAmJiB2aWV3W2ldLmd1dHRlcilcbiAgICAgICAgdmlld1tpXS5ndXR0ZXIuc3R5bGUubGVmdCA9IGxlZnQ7XG4gICAgICB2YXIgYWxpZ24gPSB2aWV3W2ldLmFsaWduYWJsZTtcbiAgICAgIGlmIChhbGlnbikgZm9yICh2YXIgaiA9IDA7IGogPCBhbGlnbi5sZW5ndGg7IGorKylcbiAgICAgICAgYWxpZ25bal0uc3R5bGUubGVmdCA9IGxlZnQ7XG4gICAgfVxuICAgIGlmIChjbS5vcHRpb25zLmZpeGVkR3V0dGVyKVxuICAgICAgZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmxlZnQgPSAoY29tcCArIGd1dHRlclcpICsgXCJweFwiO1xuICB9XG5cbiAgLy8gVXNlZCB0byBlbnN1cmUgdGhhdCB0aGUgbGluZSBudW1iZXIgZ3V0dGVyIGlzIHN0aWxsIHRoZSByaWdodFxuICAvLyBzaXplIGZvciB0aGUgY3VycmVudCBkb2N1bWVudCBzaXplLiBSZXR1cm5zIHRydWUgd2hlbiBhbiB1cGRhdGVcbiAgLy8gaXMgbmVlZGVkLlxuICBmdW5jdGlvbiBtYXliZVVwZGF0ZUxpbmVOdW1iZXJXaWR0aChjbSkge1xuICAgIGlmICghY20ub3B0aW9ucy5saW5lTnVtYmVycykgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBkb2MgPSBjbS5kb2MsIGxhc3QgPSBsaW5lTnVtYmVyRm9yKGNtLm9wdGlvbnMsIGRvYy5maXJzdCArIGRvYy5zaXplIC0gMSksIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIGlmIChsYXN0Lmxlbmd0aCAhPSBkaXNwbGF5LmxpbmVOdW1DaGFycykge1xuICAgICAgdmFyIHRlc3QgPSBkaXNwbGF5Lm1lYXN1cmUuYXBwZW5kQ2hpbGQoZWx0KFwiZGl2XCIsIFtlbHQoXCJkaXZcIiwgbGFzdCldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29kZU1pcnJvci1saW5lbnVtYmVyIENvZGVNaXJyb3ItZ3V0dGVyLWVsdFwiKSk7XG4gICAgICB2YXIgaW5uZXJXID0gdGVzdC5maXJzdENoaWxkLm9mZnNldFdpZHRoLCBwYWRkaW5nID0gdGVzdC5vZmZzZXRXaWR0aCAtIGlubmVyVztcbiAgICAgIGRpc3BsYXkubGluZUd1dHRlci5zdHlsZS53aWR0aCA9IFwiXCI7XG4gICAgICBkaXNwbGF5LmxpbmVOdW1Jbm5lcldpZHRoID0gTWF0aC5tYXgoaW5uZXJXLCBkaXNwbGF5LmxpbmVHdXR0ZXIub2Zmc2V0V2lkdGggLSBwYWRkaW5nKTtcbiAgICAgIGRpc3BsYXkubGluZU51bVdpZHRoID0gZGlzcGxheS5saW5lTnVtSW5uZXJXaWR0aCArIHBhZGRpbmc7XG4gICAgICBkaXNwbGF5LmxpbmVOdW1DaGFycyA9IGRpc3BsYXkubGluZU51bUlubmVyV2lkdGggPyBsYXN0Lmxlbmd0aCA6IC0xO1xuICAgICAgZGlzcGxheS5saW5lR3V0dGVyLnN0eWxlLndpZHRoID0gZGlzcGxheS5saW5lTnVtV2lkdGggKyBcInB4XCI7XG4gICAgICB1cGRhdGVHdXR0ZXJTcGFjZShjbSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gbGluZU51bWJlckZvcihvcHRpb25zLCBpKSB7XG4gICAgcmV0dXJuIFN0cmluZyhvcHRpb25zLmxpbmVOdW1iZXJGb3JtYXR0ZXIoaSArIG9wdGlvbnMuZmlyc3RMaW5lTnVtYmVyKSk7XG4gIH1cblxuICAvLyBDb21wdXRlcyBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQgKyBkaXNwbGF5Lmd1dHRlcnMub2Zmc2V0V2lkdGgsXG4gIC8vIGJ1dCB1c2luZyBnZXRCb3VuZGluZ0NsaWVudFJlY3QgdG8gZ2V0IGEgc3ViLXBpeGVsLWFjY3VyYXRlXG4gIC8vIHJlc3VsdC5cbiAgZnVuY3Rpb24gY29tcGVuc2F0ZUZvckhTY3JvbGwoZGlzcGxheSkge1xuICAgIHJldHVybiBkaXNwbGF5LnNjcm9sbGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLSBkaXNwbGF5LnNpemVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gIH1cblxuICAvLyBESVNQTEFZIERSQVdJTkdcblxuICBmdW5jdGlvbiBEaXNwbGF5VXBkYXRlKGNtLCB2aWV3cG9ydCwgZm9yY2UpIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXk7XG5cbiAgICB0aGlzLnZpZXdwb3J0ID0gdmlld3BvcnQ7XG4gICAgLy8gU3RvcmUgc29tZSB2YWx1ZXMgdGhhdCB3ZSdsbCBuZWVkIGxhdGVyIChidXQgZG9uJ3Qgd2FudCB0byBmb3JjZSBhIHJlbGF5b3V0IGZvcilcbiAgICB0aGlzLnZpc2libGUgPSB2aXNpYmxlTGluZXMoZGlzcGxheSwgY20uZG9jLCB2aWV3cG9ydCk7XG4gICAgdGhpcy5lZGl0b3JJc0hpZGRlbiA9ICFkaXNwbGF5LndyYXBwZXIub2Zmc2V0V2lkdGg7XG4gICAgdGhpcy53cmFwcGVySGVpZ2h0ID0gZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodDtcbiAgICB0aGlzLm9sZFZpZXdGcm9tID0gZGlzcGxheS52aWV3RnJvbTsgdGhpcy5vbGRWaWV3VG8gPSBkaXNwbGF5LnZpZXdUbztcbiAgICB0aGlzLm9sZFNjcm9sbGVyV2lkdGggPSBkaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoO1xuICAgIHRoaXMuZm9yY2UgPSBmb3JjZTtcbiAgICB0aGlzLmRpbXMgPSBnZXREaW1lbnNpb25zKGNtKTtcbiAgfVxuXG4gIC8vIERvZXMgdGhlIGFjdHVhbCB1cGRhdGluZyBvZiB0aGUgbGluZSBkaXNwbGF5LiBCYWlscyBvdXRcbiAgLy8gKHJldHVybmluZyBmYWxzZSkgd2hlbiB0aGVyZSBpcyBub3RoaW5nIHRvIGJlIGRvbmUgYW5kIGZvcmNlZCBpc1xuICAvLyBmYWxzZS5cbiAgZnVuY3Rpb24gdXBkYXRlRGlzcGxheUlmTmVlZGVkKGNtLCB1cGRhdGUpIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYztcbiAgICBpZiAodXBkYXRlLmVkaXRvcklzSGlkZGVuKSB7XG4gICAgICByZXNldFZpZXcoY20pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIEJhaWwgb3V0IGlmIHRoZSB2aXNpYmxlIGFyZWEgaXMgYWxyZWFkeSByZW5kZXJlZCBhbmQgbm90aGluZyBjaGFuZ2VkLlxuICAgIGlmICghdXBkYXRlLmZvcmNlICYmXG4gICAgICAgIHVwZGF0ZS52aXNpYmxlLmZyb20gPj0gZGlzcGxheS52aWV3RnJvbSAmJiB1cGRhdGUudmlzaWJsZS50byA8PSBkaXNwbGF5LnZpZXdUbyAmJlxuICAgICAgICAoZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA9PSBudWxsIHx8IGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPj0gZGlzcGxheS52aWV3VG8pICYmXG4gICAgICAgIGNvdW50RGlydHlWaWV3KGNtKSA9PSAwKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKG1heWJlVXBkYXRlTGluZU51bWJlcldpZHRoKGNtKSkge1xuICAgICAgcmVzZXRWaWV3KGNtKTtcbiAgICAgIHVwZGF0ZS5kaW1zID0gZ2V0RGltZW5zaW9ucyhjbSk7XG4gICAgfVxuXG4gICAgLy8gQ29tcHV0ZSBhIHN1aXRhYmxlIG5ldyB2aWV3cG9ydCAoZnJvbSAmIHRvKVxuICAgIHZhciBlbmQgPSBkb2MuZmlyc3QgKyBkb2Muc2l6ZTtcbiAgICB2YXIgZnJvbSA9IE1hdGgubWF4KHVwZGF0ZS52aXNpYmxlLmZyb20gLSBjbS5vcHRpb25zLnZpZXdwb3J0TWFyZ2luLCBkb2MuZmlyc3QpO1xuICAgIHZhciB0byA9IE1hdGgubWluKGVuZCwgdXBkYXRlLnZpc2libGUudG8gKyBjbS5vcHRpb25zLnZpZXdwb3J0TWFyZ2luKTtcbiAgICBpZiAoZGlzcGxheS52aWV3RnJvbSA8IGZyb20gJiYgZnJvbSAtIGRpc3BsYXkudmlld0Zyb20gPCAyMCkgZnJvbSA9IE1hdGgubWF4KGRvYy5maXJzdCwgZGlzcGxheS52aWV3RnJvbSk7XG4gICAgaWYgKGRpc3BsYXkudmlld1RvID4gdG8gJiYgZGlzcGxheS52aWV3VG8gLSB0byA8IDIwKSB0byA9IE1hdGgubWluKGVuZCwgZGlzcGxheS52aWV3VG8pO1xuICAgIGlmIChzYXdDb2xsYXBzZWRTcGFucykge1xuICAgICAgZnJvbSA9IHZpc3VhbExpbmVObyhjbS5kb2MsIGZyb20pO1xuICAgICAgdG8gPSB2aXN1YWxMaW5lRW5kTm8oY20uZG9jLCB0byk7XG4gICAgfVxuXG4gICAgdmFyIGRpZmZlcmVudCA9IGZyb20gIT0gZGlzcGxheS52aWV3RnJvbSB8fCB0byAhPSBkaXNwbGF5LnZpZXdUbyB8fFxuICAgICAgZGlzcGxheS5sYXN0U2l6ZUMgIT0gdXBkYXRlLndyYXBwZXJIZWlnaHQ7XG4gICAgYWRqdXN0VmlldyhjbSwgZnJvbSwgdG8pO1xuXG4gICAgZGlzcGxheS52aWV3T2Zmc2V0ID0gaGVpZ2h0QXRMaW5lKGdldExpbmUoY20uZG9jLCBkaXNwbGF5LnZpZXdGcm9tKSk7XG4gICAgLy8gUG9zaXRpb24gdGhlIG1vdmVyIGRpdiB0byBhbGlnbiB3aXRoIHRoZSBjdXJyZW50IHNjcm9sbCBwb3NpdGlvblxuICAgIGNtLmRpc3BsYXkubW92ZXIuc3R5bGUudG9wID0gZGlzcGxheS52aWV3T2Zmc2V0ICsgXCJweFwiO1xuXG4gICAgdmFyIHRvVXBkYXRlID0gY291bnREaXJ0eVZpZXcoY20pO1xuICAgIGlmICghZGlmZmVyZW50ICYmIHRvVXBkYXRlID09IDAgJiYgIXVwZGF0ZS5mb3JjZSAmJlxuICAgICAgICAoZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA9PSBudWxsIHx8IGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPj0gZGlzcGxheS52aWV3VG8pKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gRm9yIGJpZyBjaGFuZ2VzLCB3ZSBoaWRlIHRoZSBlbmNsb3NpbmcgZWxlbWVudCBkdXJpbmcgdGhlXG4gICAgLy8gdXBkYXRlLCBzaW5jZSB0aGF0IHNwZWVkcyB1cCB0aGUgb3BlcmF0aW9ucyBvbiBtb3N0IGJyb3dzZXJzLlxuICAgIHZhciBmb2N1c2VkID0gYWN0aXZlRWx0KCk7XG4gICAgaWYgKHRvVXBkYXRlID4gNCkgZGlzcGxheS5saW5lRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBwYXRjaERpc3BsYXkoY20sIGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMsIHVwZGF0ZS5kaW1zKTtcbiAgICBpZiAodG9VcGRhdGUgPiA0KSBkaXNwbGF5LmxpbmVEaXYuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgLy8gVGhlcmUgbWlnaHQgaGF2ZSBiZWVuIGEgd2lkZ2V0IHdpdGggYSBmb2N1c2VkIGVsZW1lbnQgdGhhdCBnb3RcbiAgICAvLyBoaWRkZW4gb3IgdXBkYXRlZCwgaWYgc28gcmUtZm9jdXMgaXQuXG4gICAgaWYgKGZvY3VzZWQgJiYgYWN0aXZlRWx0KCkgIT0gZm9jdXNlZCAmJiBmb2N1c2VkLm9mZnNldEhlaWdodCkgZm9jdXNlZC5mb2N1cygpO1xuXG4gICAgLy8gUHJldmVudCBzZWxlY3Rpb24gYW5kIGN1cnNvcnMgZnJvbSBpbnRlcmZlcmluZyB3aXRoIHRoZSBzY3JvbGxcbiAgICAvLyB3aWR0aC5cbiAgICByZW1vdmVDaGlsZHJlbihkaXNwbGF5LmN1cnNvckRpdik7XG4gICAgcmVtb3ZlQ2hpbGRyZW4oZGlzcGxheS5zZWxlY3Rpb25EaXYpO1xuXG4gICAgaWYgKGRpZmZlcmVudCkge1xuICAgICAgZGlzcGxheS5sYXN0U2l6ZUMgPSB1cGRhdGUud3JhcHBlckhlaWdodDtcbiAgICAgIHN0YXJ0V29ya2VyKGNtLCA0MDApO1xuICAgIH1cblxuICAgIGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPSBudWxsO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBwb3N0VXBkYXRlRGlzcGxheShjbSwgdXBkYXRlKSB7XG4gICAgdmFyIGZvcmNlID0gdXBkYXRlLmZvcmNlLCB2aWV3cG9ydCA9IHVwZGF0ZS52aWV3cG9ydDtcbiAgICBmb3IgKHZhciBmaXJzdCA9IHRydWU7OyBmaXJzdCA9IGZhbHNlKSB7XG4gICAgICBpZiAoZmlyc3QgJiYgY20ub3B0aW9ucy5saW5lV3JhcHBpbmcgJiYgdXBkYXRlLm9sZFNjcm9sbGVyV2lkdGggIT0gY20uZGlzcGxheS5zY3JvbGxlci5jbGllbnRXaWR0aCkge1xuICAgICAgICBmb3JjZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JjZSA9IGZhbHNlO1xuICAgICAgICAvLyBDbGlwIGZvcmNlZCB2aWV3cG9ydCB0byBhY3R1YWwgc2Nyb2xsYWJsZSBhcmVhLlxuICAgICAgICBpZiAodmlld3BvcnQgJiYgdmlld3BvcnQudG9wICE9IG51bGwpXG4gICAgICAgICAgdmlld3BvcnQgPSB7dG9wOiBNYXRoLm1pbihjbS5kb2MuaGVpZ2h0ICsgcGFkZGluZ1ZlcnQoY20uZGlzcGxheSkgLSBzY3JvbGxlckN1dE9mZiAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbS5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudEhlaWdodCwgdmlld3BvcnQudG9wKX07XG4gICAgICAgIC8vIFVwZGF0ZWQgbGluZSBoZWlnaHRzIG1pZ2h0IHJlc3VsdCBpbiB0aGUgZHJhd24gYXJlYSBub3RcbiAgICAgICAgLy8gYWN0dWFsbHkgY292ZXJpbmcgdGhlIHZpZXdwb3J0LiBLZWVwIGxvb3BpbmcgdW50aWwgaXQgZG9lcy5cbiAgICAgICAgdXBkYXRlLnZpc2libGUgPSB2aXNpYmxlTGluZXMoY20uZGlzcGxheSwgY20uZG9jLCB2aWV3cG9ydCk7XG4gICAgICAgIGlmICh1cGRhdGUudmlzaWJsZS5mcm9tID49IGNtLmRpc3BsYXkudmlld0Zyb20gJiYgdXBkYXRlLnZpc2libGUudG8gPD0gY20uZGlzcGxheS52aWV3VG8pXG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoIXVwZGF0ZURpc3BsYXlJZk5lZWRlZChjbSwgdXBkYXRlKSkgYnJlYWs7XG4gICAgICB1cGRhdGVIZWlnaHRzSW5WaWV3cG9ydChjbSk7XG4gICAgICB2YXIgYmFyTWVhc3VyZSA9IG1lYXN1cmVGb3JTY3JvbGxiYXJzKGNtKTtcbiAgICAgIHVwZGF0ZVNlbGVjdGlvbihjbSk7XG4gICAgICBzZXREb2N1bWVudEhlaWdodChjbSwgYmFyTWVhc3VyZSk7XG4gICAgICB1cGRhdGVTY3JvbGxiYXJzKGNtLCBiYXJNZWFzdXJlKTtcbiAgICB9XG5cbiAgICBzaWduYWxMYXRlcihjbSwgXCJ1cGRhdGVcIiwgY20pO1xuICAgIGlmIChjbS5kaXNwbGF5LnZpZXdGcm9tICE9IHVwZGF0ZS5vbGRWaWV3RnJvbSB8fCBjbS5kaXNwbGF5LnZpZXdUbyAhPSB1cGRhdGUub2xkVmlld1RvKVxuICAgICAgc2lnbmFsTGF0ZXIoY20sIFwidmlld3BvcnRDaGFuZ2VcIiwgY20sIGNtLmRpc3BsYXkudmlld0Zyb20sIGNtLmRpc3BsYXkudmlld1RvKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlTaW1wbGUoY20sIHZpZXdwb3J0KSB7XG4gICAgdmFyIHVwZGF0ZSA9IG5ldyBEaXNwbGF5VXBkYXRlKGNtLCB2aWV3cG9ydCk7XG4gICAgaWYgKHVwZGF0ZURpc3BsYXlJZk5lZWRlZChjbSwgdXBkYXRlKSkge1xuICAgICAgdXBkYXRlSGVpZ2h0c0luVmlld3BvcnQoY20pO1xuICAgICAgcG9zdFVwZGF0ZURpc3BsYXkoY20sIHVwZGF0ZSk7XG4gICAgICB2YXIgYmFyTWVhc3VyZSA9IG1lYXN1cmVGb3JTY3JvbGxiYXJzKGNtKTtcbiAgICAgIHVwZGF0ZVNlbGVjdGlvbihjbSk7XG4gICAgICBzZXREb2N1bWVudEhlaWdodChjbSwgYmFyTWVhc3VyZSk7XG4gICAgICB1cGRhdGVTY3JvbGxiYXJzKGNtLCBiYXJNZWFzdXJlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXREb2N1bWVudEhlaWdodChjbSwgbWVhc3VyZSkge1xuICAgIGNtLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWluSGVpZ2h0ID0gY20uZGlzcGxheS5oZWlnaHRGb3JjZXIuc3R5bGUudG9wID0gbWVhc3VyZS5kb2NIZWlnaHQgKyBcInB4XCI7XG4gICAgY20uZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmhlaWdodCA9IE1hdGgubWF4KG1lYXN1cmUuZG9jSGVpZ2h0LCBtZWFzdXJlLmNsaWVudEhlaWdodCAtIHNjcm9sbGVyQ3V0T2ZmKSArIFwicHhcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrRm9yV2Via2l0V2lkdGhCdWcoY20sIG1lYXN1cmUpIHtcbiAgICAvLyBXb3JrIGFyb3VuZCBXZWJraXQgYnVnIHdoZXJlIGl0IHNvbWV0aW1lcyByZXNlcnZlcyBzcGFjZSBmb3IgYVxuICAgIC8vIG5vbi1leGlzdGluZyBwaGFudG9tIHNjcm9sbGJhciBpbiB0aGUgc2Nyb2xsZXIgKElzc3VlICMyNDIwKVxuICAgIGlmIChjbS5kaXNwbGF5LnNpemVyLm9mZnNldFdpZHRoICsgY20uZGlzcGxheS5ndXR0ZXJzLm9mZnNldFdpZHRoIDwgY20uZGlzcGxheS5zY3JvbGxlci5jbGllbnRXaWR0aCAtIDEpIHtcbiAgICAgIGNtLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWluSGVpZ2h0ID0gY20uZGlzcGxheS5oZWlnaHRGb3JjZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgIGNtLmRpc3BsYXkuZ3V0dGVycy5zdHlsZS5oZWlnaHQgPSBtZWFzdXJlLmRvY0hlaWdodCArIFwicHhcIjtcbiAgICB9XG4gIH1cblxuICAvLyBSZWFkIHRoZSBhY3R1YWwgaGVpZ2h0cyBvZiB0aGUgcmVuZGVyZWQgbGluZXMsIGFuZCB1cGRhdGUgdGhlaXJcbiAgLy8gc3RvcmVkIGhlaWdodHMgdG8gbWF0Y2guXG4gIGZ1bmN0aW9uIHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIHZhciBwcmV2Qm90dG9tID0gZGlzcGxheS5saW5lRGl2Lm9mZnNldFRvcDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BsYXkudmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGN1ciA9IGRpc3BsYXkudmlld1tpXSwgaGVpZ2h0O1xuICAgICAgaWYgKGN1ci5oaWRkZW4pIGNvbnRpbnVlO1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA4KSB7XG4gICAgICAgIHZhciBib3QgPSBjdXIubm9kZS5vZmZzZXRUb3AgKyBjdXIubm9kZS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGhlaWdodCA9IGJvdCAtIHByZXZCb3R0b207XG4gICAgICAgIHByZXZCb3R0b20gPSBib3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYm94ID0gY3VyLm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGhlaWdodCA9IGJveC5ib3R0b20gLSBib3gudG9wO1xuICAgICAgfVxuICAgICAgdmFyIGRpZmYgPSBjdXIubGluZS5oZWlnaHQgLSBoZWlnaHQ7XG4gICAgICBpZiAoaGVpZ2h0IDwgMikgaGVpZ2h0ID0gdGV4dEhlaWdodChkaXNwbGF5KTtcbiAgICAgIGlmIChkaWZmID4gLjAwMSB8fCBkaWZmIDwgLS4wMDEpIHtcbiAgICAgICAgdXBkYXRlTGluZUhlaWdodChjdXIubGluZSwgaGVpZ2h0KTtcbiAgICAgICAgdXBkYXRlV2lkZ2V0SGVpZ2h0KGN1ci5saW5lKTtcbiAgICAgICAgaWYgKGN1ci5yZXN0KSBmb3IgKHZhciBqID0gMDsgaiA8IGN1ci5yZXN0Lmxlbmd0aDsgaisrKVxuICAgICAgICAgIHVwZGF0ZVdpZGdldEhlaWdodChjdXIucmVzdFtqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUmVhZCBhbmQgc3RvcmUgdGhlIGhlaWdodCBvZiBsaW5lIHdpZGdldHMgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAvLyBnaXZlbiBsaW5lLlxuICBmdW5jdGlvbiB1cGRhdGVXaWRnZXRIZWlnaHQobGluZSkge1xuICAgIGlmIChsaW5lLndpZGdldHMpIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZS53aWRnZXRzLmxlbmd0aDsgKytpKVxuICAgICAgbGluZS53aWRnZXRzW2ldLmhlaWdodCA9IGxpbmUud2lkZ2V0c1tpXS5ub2RlLm9mZnNldEhlaWdodDtcbiAgfVxuXG4gIC8vIERvIGEgYnVsay1yZWFkIG9mIHRoZSBET00gcG9zaXRpb25zIGFuZCBzaXplcyBuZWVkZWQgdG8gZHJhdyB0aGVcbiAgLy8gdmlldywgc28gdGhhdCB3ZSBkb24ndCBpbnRlcmxlYXZlIHJlYWRpbmcgYW5kIHdyaXRpbmcgdG8gdGhlIERPTS5cbiAgZnVuY3Rpb24gZ2V0RGltZW5zaW9ucyhjbSkge1xuICAgIHZhciBkID0gY20uZGlzcGxheSwgbGVmdCA9IHt9LCB3aWR0aCA9IHt9O1xuICAgIHZhciBndXR0ZXJMZWZ0ID0gZC5ndXR0ZXJzLmNsaWVudExlZnQ7XG4gICAgZm9yICh2YXIgbiA9IGQuZ3V0dGVycy5maXJzdENoaWxkLCBpID0gMDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcsICsraSkge1xuICAgICAgbGVmdFtjbS5vcHRpb25zLmd1dHRlcnNbaV1dID0gbi5vZmZzZXRMZWZ0ICsgbi5jbGllbnRMZWZ0ICsgZ3V0dGVyTGVmdDtcbiAgICAgIHdpZHRoW2NtLm9wdGlvbnMuZ3V0dGVyc1tpXV0gPSBuLmNsaWVudFdpZHRoO1xuICAgIH1cbiAgICByZXR1cm4ge2ZpeGVkUG9zOiBjb21wZW5zYXRlRm9ySFNjcm9sbChkKSxcbiAgICAgICAgICAgIGd1dHRlclRvdGFsV2lkdGg6IGQuZ3V0dGVycy5vZmZzZXRXaWR0aCxcbiAgICAgICAgICAgIGd1dHRlckxlZnQ6IGxlZnQsXG4gICAgICAgICAgICBndXR0ZXJXaWR0aDogd2lkdGgsXG4gICAgICAgICAgICB3cmFwcGVyV2lkdGg6IGQud3JhcHBlci5jbGllbnRXaWR0aH07XG4gIH1cblxuICAvLyBTeW5jIHRoZSBhY3R1YWwgZGlzcGxheSBET00gc3RydWN0dXJlIHdpdGggZGlzcGxheS52aWV3LCByZW1vdmluZ1xuICAvLyBub2RlcyBmb3IgbGluZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHZpZXcsIGFuZCBjcmVhdGluZyB0aGUgb25lc1xuICAvLyB0aGF0IGFyZSBub3QgdGhlcmUgeWV0LCBhbmQgdXBkYXRpbmcgdGhlIG9uZXMgdGhhdCBhcmUgb3V0IG9mXG4gIC8vIGRhdGUuXG4gIGZ1bmN0aW9uIHBhdGNoRGlzcGxheShjbSwgdXBkYXRlTnVtYmVyc0Zyb20sIGRpbXMpIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGxpbmVOdW1iZXJzID0gY20ub3B0aW9ucy5saW5lTnVtYmVycztcbiAgICB2YXIgY29udGFpbmVyID0gZGlzcGxheS5saW5lRGl2LCBjdXIgPSBjb250YWluZXIuZmlyc3RDaGlsZDtcblxuICAgIGZ1bmN0aW9uIHJtKG5vZGUpIHtcbiAgICAgIHZhciBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgIC8vIFdvcmtzIGFyb3VuZCBhIHRocm93LXNjcm9sbCBidWcgaW4gT1MgWCBXZWJraXRcbiAgICAgIGlmICh3ZWJraXQgJiYgbWFjICYmIGNtLmRpc3BsYXkuY3VycmVudFdoZWVsVGFyZ2V0ID09IG5vZGUpXG4gICAgICAgIG5vZGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgZWxzZVxuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9XG5cbiAgICB2YXIgdmlldyA9IGRpc3BsYXkudmlldywgbGluZU4gPSBkaXNwbGF5LnZpZXdGcm9tO1xuICAgIC8vIExvb3Agb3ZlciB0aGUgZWxlbWVudHMgaW4gdGhlIHZpZXcsIHN5bmNpbmcgY3VyICh0aGUgRE9NIG5vZGVzXG4gICAgLy8gaW4gZGlzcGxheS5saW5lRGl2KSB3aXRoIHRoZSB2aWV3IGFzIHdlIGdvLlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpbmVWaWV3ID0gdmlld1tpXTtcbiAgICAgIGlmIChsaW5lVmlldy5oaWRkZW4pIHtcbiAgICAgIH0gZWxzZSBpZiAoIWxpbmVWaWV3Lm5vZGUpIHsgLy8gTm90IGRyYXduIHlldFxuICAgICAgICB2YXIgbm9kZSA9IGJ1aWxkTGluZUVsZW1lbnQoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcyk7XG4gICAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUobm9kZSwgY3VyKTtcbiAgICAgIH0gZWxzZSB7IC8vIEFscmVhZHkgZHJhd25cbiAgICAgICAgd2hpbGUgKGN1ciAhPSBsaW5lVmlldy5ub2RlKSBjdXIgPSBybShjdXIpO1xuICAgICAgICB2YXIgdXBkYXRlTnVtYmVyID0gbGluZU51bWJlcnMgJiYgdXBkYXRlTnVtYmVyc0Zyb20gIT0gbnVsbCAmJlxuICAgICAgICAgIHVwZGF0ZU51bWJlcnNGcm9tIDw9IGxpbmVOICYmIGxpbmVWaWV3LmxpbmVOdW1iZXI7XG4gICAgICAgIGlmIChsaW5lVmlldy5jaGFuZ2VzKSB7XG4gICAgICAgICAgaWYgKGluZGV4T2YobGluZVZpZXcuY2hhbmdlcywgXCJndXR0ZXJcIikgPiAtMSkgdXBkYXRlTnVtYmVyID0gZmFsc2U7XG4gICAgICAgICAgdXBkYXRlTGluZUZvckNoYW5nZXMoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZU51bWJlcikge1xuICAgICAgICAgIHJlbW92ZUNoaWxkcmVuKGxpbmVWaWV3LmxpbmVOdW1iZXIpO1xuICAgICAgICAgIGxpbmVWaWV3LmxpbmVOdW1iZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGluZU51bWJlckZvcihjbS5vcHRpb25zLCBsaW5lTikpKTtcbiAgICAgICAgfVxuICAgICAgICBjdXIgPSBsaW5lVmlldy5ub2RlLm5leHRTaWJsaW5nO1xuICAgICAgfVxuICAgICAgbGluZU4gKz0gbGluZVZpZXcuc2l6ZTtcbiAgICB9XG4gICAgd2hpbGUgKGN1cikgY3VyID0gcm0oY3VyKTtcbiAgfVxuXG4gIC8vIFdoZW4gYW4gYXNwZWN0IG9mIGEgbGluZSBjaGFuZ2VzLCBhIHN0cmluZyBpcyBhZGRlZCB0b1xuICAvLyBsaW5lVmlldy5jaGFuZ2VzLiBUaGlzIHVwZGF0ZXMgdGhlIHJlbGV2YW50IHBhcnQgb2YgdGhlIGxpbmUnc1xuICAvLyBET00gc3RydWN0dXJlLlxuICBmdW5jdGlvbiB1cGRhdGVMaW5lRm9yQ2hhbmdlcyhjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lVmlldy5jaGFuZ2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICB2YXIgdHlwZSA9IGxpbmVWaWV3LmNoYW5nZXNbal07XG4gICAgICBpZiAodHlwZSA9PSBcInRleHRcIikgdXBkYXRlTGluZVRleHQoY20sIGxpbmVWaWV3KTtcbiAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJndXR0ZXJcIikgdXBkYXRlTGluZUd1dHRlcihjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKTtcbiAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJjbGFzc1wiKSB1cGRhdGVMaW5lQ2xhc3NlcyhsaW5lVmlldyk7XG4gICAgICBlbHNlIGlmICh0eXBlID09IFwid2lkZ2V0XCIpIHVwZGF0ZUxpbmVXaWRnZXRzKGxpbmVWaWV3LCBkaW1zKTtcbiAgICB9XG4gICAgbGluZVZpZXcuY2hhbmdlcyA9IG51bGw7XG4gIH1cblxuICAvLyBMaW5lcyB3aXRoIGd1dHRlciBlbGVtZW50cywgd2lkZ2V0cyBvciBhIGJhY2tncm91bmQgY2xhc3MgbmVlZCB0b1xuICAvLyBiZSB3cmFwcGVkLCBhbmQgaGF2ZSB0aGUgZXh0cmEgZWxlbWVudHMgYWRkZWQgdG8gdGhlIHdyYXBwZXIgZGl2XG4gIGZ1bmN0aW9uIGVuc3VyZUxpbmVXcmFwcGVkKGxpbmVWaWV3KSB7XG4gICAgaWYgKGxpbmVWaWV3Lm5vZGUgPT0gbGluZVZpZXcudGV4dCkge1xuICAgICAgbGluZVZpZXcubm9kZSA9IGVsdChcImRpdlwiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiByZWxhdGl2ZVwiKTtcbiAgICAgIGlmIChsaW5lVmlldy50ZXh0LnBhcmVudE5vZGUpXG4gICAgICAgIGxpbmVWaWV3LnRleHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobGluZVZpZXcubm9kZSwgbGluZVZpZXcudGV4dCk7XG4gICAgICBsaW5lVmlldy5ub2RlLmFwcGVuZENoaWxkKGxpbmVWaWV3LnRleHQpO1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA4KSBsaW5lVmlldy5ub2RlLnN0eWxlLnpJbmRleCA9IDI7XG4gICAgfVxuICAgIHJldHVybiBsaW5lVmlldy5ub2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZUJhY2tncm91bmQobGluZVZpZXcpIHtcbiAgICB2YXIgY2xzID0gbGluZVZpZXcuYmdDbGFzcyA/IGxpbmVWaWV3LmJnQ2xhc3MgKyBcIiBcIiArIChsaW5lVmlldy5saW5lLmJnQ2xhc3MgfHwgXCJcIikgOiBsaW5lVmlldy5saW5lLmJnQ2xhc3M7XG4gICAgaWYgKGNscykgY2xzICs9IFwiIENvZGVNaXJyb3ItbGluZWJhY2tncm91bmRcIjtcbiAgICBpZiAobGluZVZpZXcuYmFja2dyb3VuZCkge1xuICAgICAgaWYgKGNscykgbGluZVZpZXcuYmFja2dyb3VuZC5jbGFzc05hbWUgPSBjbHM7XG4gICAgICBlbHNlIHsgbGluZVZpZXcuYmFja2dyb3VuZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxpbmVWaWV3LmJhY2tncm91bmQpOyBsaW5lVmlldy5iYWNrZ3JvdW5kID0gbnVsbDsgfVxuICAgIH0gZWxzZSBpZiAoY2xzKSB7XG4gICAgICB2YXIgd3JhcCA9IGVuc3VyZUxpbmVXcmFwcGVkKGxpbmVWaWV3KTtcbiAgICAgIGxpbmVWaWV3LmJhY2tncm91bmQgPSB3cmFwLmluc2VydEJlZm9yZShlbHQoXCJkaXZcIiwgbnVsbCwgY2xzKSwgd3JhcC5maXJzdENoaWxkKTtcbiAgICB9XG4gIH1cblxuICAvLyBXcmFwcGVyIGFyb3VuZCBidWlsZExpbmVDb250ZW50IHdoaWNoIHdpbGwgcmV1c2UgdGhlIHN0cnVjdHVyZVxuICAvLyBpbiBkaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQgd2hlbiBwb3NzaWJsZS5cbiAgZnVuY3Rpb24gZ2V0TGluZUNvbnRlbnQoY20sIGxpbmVWaWV3KSB7XG4gICAgdmFyIGV4dCA9IGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZDtcbiAgICBpZiAoZXh0ICYmIGV4dC5saW5lID09IGxpbmVWaWV3LmxpbmUpIHtcbiAgICAgIGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCA9IG51bGw7XG4gICAgICBsaW5lVmlldy5tZWFzdXJlID0gZXh0Lm1lYXN1cmU7XG4gICAgICByZXR1cm4gZXh0LmJ1aWx0O1xuICAgIH1cbiAgICByZXR1cm4gYnVpbGRMaW5lQ29udGVudChjbSwgbGluZVZpZXcpO1xuICB9XG5cbiAgLy8gUmVkcmF3IHRoZSBsaW5lJ3MgdGV4dC4gSW50ZXJhY3RzIHdpdGggdGhlIGJhY2tncm91bmQgYW5kIHRleHRcbiAgLy8gY2xhc3NlcyBiZWNhdXNlIHRoZSBtb2RlIG1heSBvdXRwdXQgdG9rZW5zIHRoYXQgaW5mbHVlbmNlIHRoZXNlXG4gIC8vIGNsYXNzZXMuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxpbmVUZXh0KGNtLCBsaW5lVmlldykge1xuICAgIHZhciBjbHMgPSBsaW5lVmlldy50ZXh0LmNsYXNzTmFtZTtcbiAgICB2YXIgYnVpbHQgPSBnZXRMaW5lQ29udGVudChjbSwgbGluZVZpZXcpO1xuICAgIGlmIChsaW5lVmlldy50ZXh0ID09IGxpbmVWaWV3Lm5vZGUpIGxpbmVWaWV3Lm5vZGUgPSBidWlsdC5wcmU7XG4gICAgbGluZVZpZXcudGV4dC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChidWlsdC5wcmUsIGxpbmVWaWV3LnRleHQpO1xuICAgIGxpbmVWaWV3LnRleHQgPSBidWlsdC5wcmU7XG4gICAgaWYgKGJ1aWx0LmJnQ2xhc3MgIT0gbGluZVZpZXcuYmdDbGFzcyB8fCBidWlsdC50ZXh0Q2xhc3MgIT0gbGluZVZpZXcudGV4dENsYXNzKSB7XG4gICAgICBsaW5lVmlldy5iZ0NsYXNzID0gYnVpbHQuYmdDbGFzcztcbiAgICAgIGxpbmVWaWV3LnRleHRDbGFzcyA9IGJ1aWx0LnRleHRDbGFzcztcbiAgICAgIHVwZGF0ZUxpbmVDbGFzc2VzKGxpbmVWaWV3KTtcbiAgICB9IGVsc2UgaWYgKGNscykge1xuICAgICAgbGluZVZpZXcudGV4dC5jbGFzc05hbWUgPSBjbHM7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZUNsYXNzZXMobGluZVZpZXcpIHtcbiAgICB1cGRhdGVMaW5lQmFja2dyb3VuZChsaW5lVmlldyk7XG4gICAgaWYgKGxpbmVWaWV3LmxpbmUud3JhcENsYXNzKVxuICAgICAgZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpLmNsYXNzTmFtZSA9IGxpbmVWaWV3LmxpbmUud3JhcENsYXNzO1xuICAgIGVsc2UgaWYgKGxpbmVWaWV3Lm5vZGUgIT0gbGluZVZpZXcudGV4dClcbiAgICAgIGxpbmVWaWV3Lm5vZGUuY2xhc3NOYW1lID0gXCJcIjtcbiAgICB2YXIgdGV4dENsYXNzID0gbGluZVZpZXcudGV4dENsYXNzID8gbGluZVZpZXcudGV4dENsYXNzICsgXCIgXCIgKyAobGluZVZpZXcubGluZS50ZXh0Q2xhc3MgfHwgXCJcIikgOiBsaW5lVmlldy5saW5lLnRleHRDbGFzcztcbiAgICBsaW5lVmlldy50ZXh0LmNsYXNzTmFtZSA9IHRleHRDbGFzcyB8fCBcIlwiO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZUd1dHRlcihjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKSB7XG4gICAgaWYgKGxpbmVWaWV3Lmd1dHRlcikge1xuICAgICAgbGluZVZpZXcubm9kZS5yZW1vdmVDaGlsZChsaW5lVmlldy5ndXR0ZXIpO1xuICAgICAgbGluZVZpZXcuZ3V0dGVyID0gbnVsbDtcbiAgICB9XG4gICAgdmFyIG1hcmtlcnMgPSBsaW5lVmlldy5saW5lLmd1dHRlck1hcmtlcnM7XG4gICAgaWYgKGNtLm9wdGlvbnMubGluZU51bWJlcnMgfHwgbWFya2Vycykge1xuICAgICAgdmFyIHdyYXAgPSBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldyk7XG4gICAgICB2YXIgZ3V0dGVyV3JhcCA9IGxpbmVWaWV3Lmd1dHRlciA9XG4gICAgICAgIHdyYXAuaW5zZXJ0QmVmb3JlKGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItZ3V0dGVyLXdyYXBwZXJcIiwgXCJwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjbS5vcHRpb25zLmZpeGVkR3V0dGVyID8gZGltcy5maXhlZFBvcyA6IC1kaW1zLmd1dHRlclRvdGFsV2lkdGgpICsgXCJweFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVZpZXcudGV4dCk7XG4gICAgICBpZiAoY20ub3B0aW9ucy5saW5lTnVtYmVycyAmJiAoIW1hcmtlcnMgfHwgIW1hcmtlcnNbXCJDb2RlTWlycm9yLWxpbmVudW1iZXJzXCJdKSlcbiAgICAgICAgbGluZVZpZXcubGluZU51bWJlciA9IGd1dHRlcldyYXAuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgZWx0KFwiZGl2XCIsIGxpbmVOdW1iZXJGb3IoY20ub3B0aW9ucywgbGluZU4pLFxuICAgICAgICAgICAgICBcIkNvZGVNaXJyb3ItbGluZW51bWJlciBDb2RlTWlycm9yLWd1dHRlci1lbHRcIixcbiAgICAgICAgICAgICAgXCJsZWZ0OiBcIiArIGRpbXMuZ3V0dGVyTGVmdFtcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIl0gKyBcInB4OyB3aWR0aDogXCJcbiAgICAgICAgICAgICAgKyBjbS5kaXNwbGF5LmxpbmVOdW1Jbm5lcldpZHRoICsgXCJweFwiKSk7XG4gICAgICBpZiAobWFya2VycykgZm9yICh2YXIgayA9IDA7IGsgPCBjbS5vcHRpb25zLmd1dHRlcnMubGVuZ3RoOyArK2spIHtcbiAgICAgICAgdmFyIGlkID0gY20ub3B0aW9ucy5ndXR0ZXJzW2tdLCBmb3VuZCA9IG1hcmtlcnMuaGFzT3duUHJvcGVydHkoaWQpICYmIG1hcmtlcnNbaWRdO1xuICAgICAgICBpZiAoZm91bmQpXG4gICAgICAgICAgZ3V0dGVyV3JhcC5hcHBlbmRDaGlsZChlbHQoXCJkaXZcIiwgW2ZvdW5kXSwgXCJDb2RlTWlycm9yLWd1dHRlci1lbHRcIiwgXCJsZWZ0OiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5ndXR0ZXJMZWZ0W2lkXSArIFwicHg7IHdpZHRoOiBcIiArIGRpbXMuZ3V0dGVyV2lkdGhbaWRdICsgXCJweFwiKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZVdpZGdldHMobGluZVZpZXcsIGRpbXMpIHtcbiAgICBpZiAobGluZVZpZXcuYWxpZ25hYmxlKSBsaW5lVmlldy5hbGlnbmFibGUgPSBudWxsO1xuICAgIGZvciAodmFyIG5vZGUgPSBsaW5lVmlldy5ub2RlLmZpcnN0Q2hpbGQsIG5leHQ7IG5vZGU7IG5vZGUgPSBuZXh0KSB7XG4gICAgICB2YXIgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICBpZiAobm9kZS5jbGFzc05hbWUgPT0gXCJDb2RlTWlycm9yLWxpbmV3aWRnZXRcIilcbiAgICAgICAgbGluZVZpZXcubm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICB9XG4gICAgaW5zZXJ0TGluZVdpZGdldHMobGluZVZpZXcsIGRpbXMpO1xuICB9XG5cbiAgLy8gQnVpbGQgYSBsaW5lJ3MgRE9NIHJlcHJlc2VudGF0aW9uIGZyb20gc2NyYXRjaFxuICBmdW5jdGlvbiBidWlsZExpbmVFbGVtZW50KGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpIHtcbiAgICB2YXIgYnVpbHQgPSBnZXRMaW5lQ29udGVudChjbSwgbGluZVZpZXcpO1xuICAgIGxpbmVWaWV3LnRleHQgPSBsaW5lVmlldy5ub2RlID0gYnVpbHQucHJlO1xuICAgIGlmIChidWlsdC5iZ0NsYXNzKSBsaW5lVmlldy5iZ0NsYXNzID0gYnVpbHQuYmdDbGFzcztcbiAgICBpZiAoYnVpbHQudGV4dENsYXNzKSBsaW5lVmlldy50ZXh0Q2xhc3MgPSBidWlsdC50ZXh0Q2xhc3M7XG5cbiAgICB1cGRhdGVMaW5lQ2xhc3NlcyhsaW5lVmlldyk7XG4gICAgdXBkYXRlTGluZUd1dHRlcihjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKTtcbiAgICBpbnNlcnRMaW5lV2lkZ2V0cyhsaW5lVmlldywgZGltcyk7XG4gICAgcmV0dXJuIGxpbmVWaWV3Lm5vZGU7XG4gIH1cblxuICAvLyBBIGxpbmVWaWV3IG1heSBjb250YWluIG11bHRpcGxlIGxvZ2ljYWwgbGluZXMgKHdoZW4gbWVyZ2VkIGJ5XG4gIC8vIGNvbGxhcHNlZCBzcGFucykuIFRoZSB3aWRnZXRzIGZvciBhbGwgb2YgdGhlbSBuZWVkIHRvIGJlIGRyYXduLlxuICBmdW5jdGlvbiBpbnNlcnRMaW5lV2lkZ2V0cyhsaW5lVmlldywgZGltcykge1xuICAgIGluc2VydExpbmVXaWRnZXRzRm9yKGxpbmVWaWV3LmxpbmUsIGxpbmVWaWV3LCBkaW1zLCB0cnVlKTtcbiAgICBpZiAobGluZVZpZXcucmVzdCkgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lVmlldy5yZXN0Lmxlbmd0aDsgaSsrKVxuICAgICAgaW5zZXJ0TGluZVdpZGdldHNGb3IobGluZVZpZXcucmVzdFtpXSwgbGluZVZpZXcsIGRpbXMsIGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluc2VydExpbmVXaWRnZXRzRm9yKGxpbmUsIGxpbmVWaWV3LCBkaW1zLCBhbGxvd0Fib3ZlKSB7XG4gICAgaWYgKCFsaW5lLndpZGdldHMpIHJldHVybjtcbiAgICB2YXIgd3JhcCA9IGVuc3VyZUxpbmVXcmFwcGVkKGxpbmVWaWV3KTtcbiAgICBmb3IgKHZhciBpID0gMCwgd3MgPSBsaW5lLndpZGdldHM7IGkgPCB3cy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHdpZGdldCA9IHdzW2ldLCBub2RlID0gZWx0KFwiZGl2XCIsIFt3aWRnZXQubm9kZV0sIFwiQ29kZU1pcnJvci1saW5ld2lkZ2V0XCIpO1xuICAgICAgaWYgKCF3aWRnZXQuaGFuZGxlTW91c2VFdmVudHMpIG5vZGUuaWdub3JlRXZlbnRzID0gdHJ1ZTtcbiAgICAgIHBvc2l0aW9uTGluZVdpZGdldCh3aWRnZXQsIG5vZGUsIGxpbmVWaWV3LCBkaW1zKTtcbiAgICAgIGlmIChhbGxvd0Fib3ZlICYmIHdpZGdldC5hYm92ZSlcbiAgICAgICAgd3JhcC5pbnNlcnRCZWZvcmUobm9kZSwgbGluZVZpZXcuZ3V0dGVyIHx8IGxpbmVWaWV3LnRleHQpO1xuICAgICAgZWxzZVxuICAgICAgICB3cmFwLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgc2lnbmFsTGF0ZXIod2lkZ2V0LCBcInJlZHJhd1wiKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwb3NpdGlvbkxpbmVXaWRnZXQod2lkZ2V0LCBub2RlLCBsaW5lVmlldywgZGltcykge1xuICAgIGlmICh3aWRnZXQubm9IU2Nyb2xsKSB7XG4gICAgICAobGluZVZpZXcuYWxpZ25hYmxlIHx8IChsaW5lVmlldy5hbGlnbmFibGUgPSBbXSkpLnB1c2gobm9kZSk7XG4gICAgICB2YXIgd2lkdGggPSBkaW1zLndyYXBwZXJXaWR0aDtcbiAgICAgIG5vZGUuc3R5bGUubGVmdCA9IGRpbXMuZml4ZWRQb3MgKyBcInB4XCI7XG4gICAgICBpZiAoIXdpZGdldC5jb3Zlckd1dHRlcikge1xuICAgICAgICB3aWR0aCAtPSBkaW1zLmd1dHRlclRvdGFsV2lkdGg7XG4gICAgICAgIG5vZGUuc3R5bGUucGFkZGluZ0xlZnQgPSBkaW1zLmd1dHRlclRvdGFsV2lkdGggKyBcInB4XCI7XG4gICAgICB9XG4gICAgICBub2RlLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XG4gICAgfVxuICAgIGlmICh3aWRnZXQuY292ZXJHdXR0ZXIpIHtcbiAgICAgIG5vZGUuc3R5bGUuekluZGV4ID0gNTtcbiAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG4gICAgICBpZiAoIXdpZGdldC5ub0hTY3JvbGwpIG5vZGUuc3R5bGUubWFyZ2luTGVmdCA9IC1kaW1zLmd1dHRlclRvdGFsV2lkdGggKyBcInB4XCI7XG4gICAgfVxuICB9XG5cbiAgLy8gUE9TSVRJT04gT0JKRUNUXG5cbiAgLy8gQSBQb3MgaW5zdGFuY2UgcmVwcmVzZW50cyBhIHBvc2l0aW9uIHdpdGhpbiB0aGUgdGV4dC5cbiAgdmFyIFBvcyA9IENvZGVNaXJyb3IuUG9zID0gZnVuY3Rpb24obGluZSwgY2gpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG9zKSkgcmV0dXJuIG5ldyBQb3MobGluZSwgY2gpO1xuICAgIHRoaXMubGluZSA9IGxpbmU7IHRoaXMuY2ggPSBjaDtcbiAgfTtcblxuICAvLyBDb21wYXJlIHR3byBwb3NpdGlvbnMsIHJldHVybiAwIGlmIHRoZXkgYXJlIHRoZSBzYW1lLCBhIG5lZ2F0aXZlXG4gIC8vIG51bWJlciB3aGVuIGEgaXMgbGVzcywgYW5kIGEgcG9zaXRpdmUgbnVtYmVyIG90aGVyd2lzZS5cbiAgdmFyIGNtcCA9IENvZGVNaXJyb3IuY21wUG9zID0gZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYS5saW5lIC0gYi5saW5lIHx8IGEuY2ggLSBiLmNoOyB9O1xuXG4gIGZ1bmN0aW9uIGNvcHlQb3MoeCkge3JldHVybiBQb3MoeC5saW5lLCB4LmNoKTt9XG4gIGZ1bmN0aW9uIG1heFBvcyhhLCBiKSB7IHJldHVybiBjbXAoYSwgYikgPCAwID8gYiA6IGE7IH1cbiAgZnVuY3Rpb24gbWluUG9zKGEsIGIpIHsgcmV0dXJuIGNtcChhLCBiKSA8IDAgPyBhIDogYjsgfVxuXG4gIC8vIFNFTEVDVElPTiAvIENVUlNPUlxuXG4gIC8vIFNlbGVjdGlvbiBvYmplY3RzIGFyZSBpbW11dGFibGUuIEEgbmV3IG9uZSBpcyBjcmVhdGVkIGV2ZXJ5IHRpbWVcbiAgLy8gdGhlIHNlbGVjdGlvbiBjaGFuZ2VzLiBBIHNlbGVjdGlvbiBpcyBvbmUgb3IgbW9yZSBub24tb3ZlcmxhcHBpbmdcbiAgLy8gKGFuZCBub24tdG91Y2hpbmcpIHJhbmdlcywgc29ydGVkLCBhbmQgYW4gaW50ZWdlciB0aGF0IGluZGljYXRlc1xuICAvLyB3aGljaCBvbmUgaXMgdGhlIHByaW1hcnkgc2VsZWN0aW9uICh0aGUgb25lIHRoYXQncyBzY3JvbGxlZCBpbnRvXG4gIC8vIHZpZXcsIHRoYXQgZ2V0Q3Vyc29yIHJldHVybnMsIGV0YykuXG4gIGZ1bmN0aW9uIFNlbGVjdGlvbihyYW5nZXMsIHByaW1JbmRleCkge1xuICAgIHRoaXMucmFuZ2VzID0gcmFuZ2VzO1xuICAgIHRoaXMucHJpbUluZGV4ID0gcHJpbUluZGV4O1xuICB9XG5cbiAgU2VsZWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgICBwcmltYXJ5OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMucmFuZ2VzW3RoaXMucHJpbUluZGV4XTsgfSxcbiAgICBlcXVhbHM6IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICBpZiAob3RoZXIgPT0gdGhpcykgcmV0dXJuIHRydWU7XG4gICAgICBpZiAob3RoZXIucHJpbUluZGV4ICE9IHRoaXMucHJpbUluZGV4IHx8IG90aGVyLnJhbmdlcy5sZW5ndGggIT0gdGhpcy5yYW5nZXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBoZXJlID0gdGhpcy5yYW5nZXNbaV0sIHRoZXJlID0gb3RoZXIucmFuZ2VzW2ldO1xuICAgICAgICBpZiAoY21wKGhlcmUuYW5jaG9yLCB0aGVyZS5hbmNob3IpICE9IDAgfHwgY21wKGhlcmUuaGVhZCwgdGhlcmUuaGVhZCkgIT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBkZWVwQ29weTogZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKHZhciBvdXQgPSBbXSwgaSA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgb3V0W2ldID0gbmV3IFJhbmdlKGNvcHlQb3ModGhpcy5yYW5nZXNbaV0uYW5jaG9yKSwgY29weVBvcyh0aGlzLnJhbmdlc1tpXS5oZWFkKSk7XG4gICAgICByZXR1cm4gbmV3IFNlbGVjdGlvbihvdXQsIHRoaXMucHJpbUluZGV4KTtcbiAgICB9LFxuICAgIHNvbWV0aGluZ1NlbGVjdGVkOiBmdW5jdGlvbigpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghdGhpcy5yYW5nZXNbaV0uZW1wdHkoKSkgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBjb250YWluczogZnVuY3Rpb24ocG9zLCBlbmQpIHtcbiAgICAgIGlmICghZW5kKSBlbmQgPSBwb3M7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMucmFuZ2VzW2ldO1xuICAgICAgICBpZiAoY21wKGVuZCwgcmFuZ2UuZnJvbSgpKSA+PSAwICYmIGNtcChwb3MsIHJhbmdlLnRvKCkpIDw9IDApXG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIFJhbmdlKGFuY2hvciwgaGVhZCkge1xuICAgIHRoaXMuYW5jaG9yID0gYW5jaG9yOyB0aGlzLmhlYWQgPSBoZWFkO1xuICB9XG5cbiAgUmFuZ2UucHJvdG90eXBlID0ge1xuICAgIGZyb206IGZ1bmN0aW9uKCkgeyByZXR1cm4gbWluUG9zKHRoaXMuYW5jaG9yLCB0aGlzLmhlYWQpOyB9LFxuICAgIHRvOiBmdW5jdGlvbigpIHsgcmV0dXJuIG1heFBvcyh0aGlzLmFuY2hvciwgdGhpcy5oZWFkKTsgfSxcbiAgICBlbXB0eTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5oZWFkLmxpbmUgPT0gdGhpcy5hbmNob3IubGluZSAmJiB0aGlzLmhlYWQuY2ggPT0gdGhpcy5hbmNob3IuY2g7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRha2UgYW4gdW5zb3J0ZWQsIHBvdGVudGlhbGx5IG92ZXJsYXBwaW5nIHNldCBvZiByYW5nZXMsIGFuZFxuICAvLyBidWlsZCBhIHNlbGVjdGlvbiBvdXQgb2YgaXQuICdDb25zdW1lcycgcmFuZ2VzIGFycmF5IChtb2RpZnlpbmdcbiAgLy8gaXQpLlxuICBmdW5jdGlvbiBub3JtYWxpemVTZWxlY3Rpb24ocmFuZ2VzLCBwcmltSW5kZXgpIHtcbiAgICB2YXIgcHJpbSA9IHJhbmdlc1twcmltSW5kZXhdO1xuICAgIHJhbmdlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGNtcChhLmZyb20oKSwgYi5mcm9tKCkpOyB9KTtcbiAgICBwcmltSW5kZXggPSBpbmRleE9mKHJhbmdlcywgcHJpbSk7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjdXIgPSByYW5nZXNbaV0sIHByZXYgPSByYW5nZXNbaSAtIDFdO1xuICAgICAgaWYgKGNtcChwcmV2LnRvKCksIGN1ci5mcm9tKCkpID49IDApIHtcbiAgICAgICAgdmFyIGZyb20gPSBtaW5Qb3MocHJldi5mcm9tKCksIGN1ci5mcm9tKCkpLCB0byA9IG1heFBvcyhwcmV2LnRvKCksIGN1ci50bygpKTtcbiAgICAgICAgdmFyIGludiA9IHByZXYuZW1wdHkoKSA/IGN1ci5mcm9tKCkgPT0gY3VyLmhlYWQgOiBwcmV2LmZyb20oKSA9PSBwcmV2LmhlYWQ7XG4gICAgICAgIGlmIChpIDw9IHByaW1JbmRleCkgLS1wcmltSW5kZXg7XG4gICAgICAgIHJhbmdlcy5zcGxpY2UoLS1pLCAyLCBuZXcgUmFuZ2UoaW52ID8gdG8gOiBmcm9tLCBpbnYgPyBmcm9tIDogdG8pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24ocmFuZ2VzLCBwcmltSW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2ltcGxlU2VsZWN0aW9uKGFuY2hvciwgaGVhZCkge1xuICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKFtuZXcgUmFuZ2UoYW5jaG9yLCBoZWFkIHx8IGFuY2hvcildLCAwKTtcbiAgfVxuXG4gIC8vIE1vc3Qgb2YgdGhlIGV4dGVybmFsIEFQSSBjbGlwcyBnaXZlbiBwb3NpdGlvbnMgdG8gbWFrZSBzdXJlIHRoZXlcbiAgLy8gYWN0dWFsbHkgZXhpc3Qgd2l0aGluIHRoZSBkb2N1bWVudC5cbiAgZnVuY3Rpb24gY2xpcExpbmUoZG9jLCBuKSB7cmV0dXJuIE1hdGgubWF4KGRvYy5maXJzdCwgTWF0aC5taW4obiwgZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxKSk7fVxuICBmdW5jdGlvbiBjbGlwUG9zKGRvYywgcG9zKSB7XG4gICAgaWYgKHBvcy5saW5lIDwgZG9jLmZpcnN0KSByZXR1cm4gUG9zKGRvYy5maXJzdCwgMCk7XG4gICAgdmFyIGxhc3QgPSBkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDE7XG4gICAgaWYgKHBvcy5saW5lID4gbGFzdCkgcmV0dXJuIFBvcyhsYXN0LCBnZXRMaW5lKGRvYywgbGFzdCkudGV4dC5sZW5ndGgpO1xuICAgIHJldHVybiBjbGlwVG9MZW4ocG9zLCBnZXRMaW5lKGRvYywgcG9zLmxpbmUpLnRleHQubGVuZ3RoKTtcbiAgfVxuICBmdW5jdGlvbiBjbGlwVG9MZW4ocG9zLCBsaW5lbGVuKSB7XG4gICAgdmFyIGNoID0gcG9zLmNoO1xuICAgIGlmIChjaCA9PSBudWxsIHx8IGNoID4gbGluZWxlbikgcmV0dXJuIFBvcyhwb3MubGluZSwgbGluZWxlbik7XG4gICAgZWxzZSBpZiAoY2ggPCAwKSByZXR1cm4gUG9zKHBvcy5saW5lLCAwKTtcbiAgICBlbHNlIHJldHVybiBwb3M7XG4gIH1cbiAgZnVuY3Rpb24gaXNMaW5lKGRvYywgbCkge3JldHVybiBsID49IGRvYy5maXJzdCAmJiBsIDwgZG9jLmZpcnN0ICsgZG9jLnNpemU7fVxuICBmdW5jdGlvbiBjbGlwUG9zQXJyYXkoZG9jLCBhcnJheSkge1xuICAgIGZvciAodmFyIG91dCA9IFtdLCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSBvdXRbaV0gPSBjbGlwUG9zKGRvYywgYXJyYXlbaV0pO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICAvLyBTRUxFQ1RJT04gVVBEQVRFU1xuXG4gIC8vIFRoZSAnc2Nyb2xsJyBwYXJhbWV0ZXIgZ2l2ZW4gdG8gbWFueSBvZiB0aGVzZSBpbmRpY2F0ZWQgd2hldGhlclxuICAvLyB0aGUgbmV3IGN1cnNvciBwb3NpdGlvbiBzaG91bGQgYmUgc2Nyb2xsZWQgaW50byB2aWV3IGFmdGVyXG4gIC8vIG1vZGlmeWluZyB0aGUgc2VsZWN0aW9uLlxuXG4gIC8vIElmIHNoaWZ0IGlzIGhlbGQgb3IgdGhlIGV4dGVuZCBmbGFnIGlzIHNldCwgZXh0ZW5kcyBhIHJhbmdlIHRvXG4gIC8vIGluY2x1ZGUgYSBnaXZlbiBwb3NpdGlvbiAoYW5kIG9wdGlvbmFsbHkgYSBzZWNvbmQgcG9zaXRpb24pLlxuICAvLyBPdGhlcndpc2UsIHNpbXBseSByZXR1cm5zIHRoZSByYW5nZSBiZXR3ZWVuIHRoZSBnaXZlbiBwb3NpdGlvbnMuXG4gIC8vIFVzZWQgZm9yIGN1cnNvciBtb3Rpb24gYW5kIHN1Y2guXG4gIGZ1bmN0aW9uIGV4dGVuZFJhbmdlKGRvYywgcmFuZ2UsIGhlYWQsIG90aGVyKSB7XG4gICAgaWYgKGRvYy5jbSAmJiBkb2MuY20uZGlzcGxheS5zaGlmdCB8fCBkb2MuZXh0ZW5kKSB7XG4gICAgICB2YXIgYW5jaG9yID0gcmFuZ2UuYW5jaG9yO1xuICAgICAgaWYgKG90aGVyKSB7XG4gICAgICAgIHZhciBwb3NCZWZvcmUgPSBjbXAoaGVhZCwgYW5jaG9yKSA8IDA7XG4gICAgICAgIGlmIChwb3NCZWZvcmUgIT0gKGNtcChvdGhlciwgYW5jaG9yKSA8IDApKSB7XG4gICAgICAgICAgYW5jaG9yID0gaGVhZDtcbiAgICAgICAgICBoZWFkID0gb3RoZXI7XG4gICAgICAgIH0gZWxzZSBpZiAocG9zQmVmb3JlICE9IChjbXAoaGVhZCwgb3RoZXIpIDwgMCkpIHtcbiAgICAgICAgICBoZWFkID0gb3RoZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUmFuZ2UoYW5jaG9yLCBoZWFkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBSYW5nZShvdGhlciB8fCBoZWFkLCBoZWFkKTtcbiAgICB9XG4gIH1cblxuICAvLyBFeHRlbmQgdGhlIHByaW1hcnkgc2VsZWN0aW9uIHJhbmdlLCBkaXNjYXJkIHRoZSByZXN0LlxuICBmdW5jdGlvbiBleHRlbmRTZWxlY3Rpb24oZG9jLCBoZWFkLCBvdGhlciwgb3B0aW9ucykge1xuICAgIHNldFNlbGVjdGlvbihkb2MsIG5ldyBTZWxlY3Rpb24oW2V4dGVuZFJhbmdlKGRvYywgZG9jLnNlbC5wcmltYXJ5KCksIGhlYWQsIG90aGVyKV0sIDApLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8vIEV4dGVuZCBhbGwgc2VsZWN0aW9ucyAocG9zIGlzIGFuIGFycmF5IG9mIHNlbGVjdGlvbnMgd2l0aCBsZW5ndGhcbiAgLy8gZXF1YWwgdGhlIG51bWJlciBvZiBzZWxlY3Rpb25zKVxuICBmdW5jdGlvbiBleHRlbmRTZWxlY3Rpb25zKGRvYywgaGVhZHMsIG9wdGlvbnMpIHtcbiAgICBmb3IgKHZhciBvdXQgPSBbXSwgaSA9IDA7IGkgPCBkb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkrKylcbiAgICAgIG91dFtpXSA9IGV4dGVuZFJhbmdlKGRvYywgZG9jLnNlbC5yYW5nZXNbaV0sIGhlYWRzW2ldLCBudWxsKTtcbiAgICB2YXIgbmV3U2VsID0gbm9ybWFsaXplU2VsZWN0aW9uKG91dCwgZG9jLnNlbC5wcmltSW5kZXgpO1xuICAgIHNldFNlbGVjdGlvbihkb2MsIG5ld1NlbCwgb3B0aW9ucyk7XG4gIH1cblxuICAvLyBVcGRhdGVzIGEgc2luZ2xlIHJhbmdlIGluIHRoZSBzZWxlY3Rpb24uXG4gIGZ1bmN0aW9uIHJlcGxhY2VPbmVTZWxlY3Rpb24oZG9jLCBpLCByYW5nZSwgb3B0aW9ucykge1xuICAgIHZhciByYW5nZXMgPSBkb2Muc2VsLnJhbmdlcy5zbGljZSgwKTtcbiAgICByYW5nZXNbaV0gPSByYW5nZTtcbiAgICBzZXRTZWxlY3Rpb24oZG9jLCBub3JtYWxpemVTZWxlY3Rpb24ocmFuZ2VzLCBkb2Muc2VsLnByaW1JbmRleCksIG9wdGlvbnMpO1xuICB9XG5cbiAgLy8gUmVzZXQgdGhlIHNlbGVjdGlvbiB0byBhIHNpbmdsZSByYW5nZS5cbiAgZnVuY3Rpb24gc2V0U2ltcGxlU2VsZWN0aW9uKGRvYywgYW5jaG9yLCBoZWFkLCBvcHRpb25zKSB7XG4gICAgc2V0U2VsZWN0aW9uKGRvYywgc2ltcGxlU2VsZWN0aW9uKGFuY2hvciwgaGVhZCksIG9wdGlvbnMpO1xuICB9XG5cbiAgLy8gR2l2ZSBiZWZvcmVTZWxlY3Rpb25DaGFuZ2UgaGFuZGxlcnMgYSBjaGFuZ2UgdG8gaW5mbHVlbmNlIGFcbiAgLy8gc2VsZWN0aW9uIHVwZGF0ZS5cbiAgZnVuY3Rpb24gZmlsdGVyU2VsZWN0aW9uQ2hhbmdlKGRvYywgc2VsKSB7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIHJhbmdlczogc2VsLnJhbmdlcyxcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24ocmFuZ2VzKSB7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIHRoaXMucmFuZ2VzW2ldID0gbmV3IFJhbmdlKGNsaXBQb3MoZG9jLCByYW5nZXNbaV0uYW5jaG9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlwUG9zKGRvYywgcmFuZ2VzW2ldLmhlYWQpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHNpZ25hbChkb2MsIFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIsIGRvYywgb2JqKTtcbiAgICBpZiAoZG9jLmNtKSBzaWduYWwoZG9jLmNtLCBcImJlZm9yZVNlbGVjdGlvbkNoYW5nZVwiLCBkb2MuY20sIG9iaik7XG4gICAgaWYgKG9iai5yYW5nZXMgIT0gc2VsLnJhbmdlcykgcmV0dXJuIG5vcm1hbGl6ZVNlbGVjdGlvbihvYmoucmFuZ2VzLCBvYmoucmFuZ2VzLmxlbmd0aCAtIDEpO1xuICAgIGVsc2UgcmV0dXJuIHNlbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNlbGVjdGlvblJlcGxhY2VIaXN0b3J5KGRvYywgc2VsLCBvcHRpb25zKSB7XG4gICAgdmFyIGRvbmUgPSBkb2MuaGlzdG9yeS5kb25lLCBsYXN0ID0gbHN0KGRvbmUpO1xuICAgIGlmIChsYXN0ICYmIGxhc3QucmFuZ2VzKSB7XG4gICAgICBkb25lW2RvbmUubGVuZ3RoIC0gMV0gPSBzZWw7XG4gICAgICBzZXRTZWxlY3Rpb25Ob1VuZG8oZG9jLCBzZWwsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTZWxlY3Rpb24oZG9jLCBzZWwsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNldCBhIG5ldyBzZWxlY3Rpb24uXG4gIGZ1bmN0aW9uIHNldFNlbGVjdGlvbihkb2MsIHNlbCwgb3B0aW9ucykge1xuICAgIHNldFNlbGVjdGlvbk5vVW5kbyhkb2MsIHNlbCwgb3B0aW9ucyk7XG4gICAgYWRkU2VsZWN0aW9uVG9IaXN0b3J5KGRvYywgZG9jLnNlbCwgZG9jLmNtID8gZG9jLmNtLmN1ck9wLmlkIDogTmFOLCBvcHRpb25zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNlbGVjdGlvbk5vVW5kbyhkb2MsIHNlbCwgb3B0aW9ucykge1xuICAgIGlmIChoYXNIYW5kbGVyKGRvYywgXCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2VcIikgfHwgZG9jLmNtICYmIGhhc0hhbmRsZXIoZG9jLmNtLCBcImJlZm9yZVNlbGVjdGlvbkNoYW5nZVwiKSlcbiAgICAgIHNlbCA9IGZpbHRlclNlbGVjdGlvbkNoYW5nZShkb2MsIHNlbCk7XG5cbiAgICB2YXIgYmlhcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5iaWFzIHx8XG4gICAgICAoY21wKHNlbC5wcmltYXJ5KCkuaGVhZCwgZG9jLnNlbC5wcmltYXJ5KCkuaGVhZCkgPCAwID8gLTEgOiAxKTtcbiAgICBzZXRTZWxlY3Rpb25Jbm5lcihkb2MsIHNraXBBdG9taWNJblNlbGVjdGlvbihkb2MsIHNlbCwgYmlhcywgdHJ1ZSkpO1xuXG4gICAgaWYgKCEob3B0aW9ucyAmJiBvcHRpb25zLnNjcm9sbCA9PT0gZmFsc2UpICYmIGRvYy5jbSlcbiAgICAgIGVuc3VyZUN1cnNvclZpc2libGUoZG9jLmNtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNlbGVjdGlvbklubmVyKGRvYywgc2VsKSB7XG4gICAgaWYgKHNlbC5lcXVhbHMoZG9jLnNlbCkpIHJldHVybjtcblxuICAgIGRvYy5zZWwgPSBzZWw7XG5cbiAgICBpZiAoZG9jLmNtKSB7XG4gICAgICBkb2MuY20uY3VyT3AudXBkYXRlSW5wdXQgPSBkb2MuY20uY3VyT3Auc2VsZWN0aW9uQ2hhbmdlZCA9IHRydWU7XG4gICAgICBzaWduYWxDdXJzb3JBY3Rpdml0eShkb2MuY20pO1xuICAgIH1cbiAgICBzaWduYWxMYXRlcihkb2MsIFwiY3Vyc29yQWN0aXZpdHlcIiwgZG9jKTtcbiAgfVxuXG4gIC8vIFZlcmlmeSB0aGF0IHRoZSBzZWxlY3Rpb24gZG9lcyBub3QgcGFydGlhbGx5IHNlbGVjdCBhbnkgYXRvbWljXG4gIC8vIG1hcmtlZCByYW5nZXMuXG4gIGZ1bmN0aW9uIHJlQ2hlY2tTZWxlY3Rpb24oZG9jKSB7XG4gICAgc2V0U2VsZWN0aW9uSW5uZXIoZG9jLCBza2lwQXRvbWljSW5TZWxlY3Rpb24oZG9jLCBkb2Muc2VsLCBudWxsLCBmYWxzZSksIHNlbF9kb250U2Nyb2xsKTtcbiAgfVxuXG4gIC8vIFJldHVybiBhIHNlbGVjdGlvbiB0aGF0IGRvZXMgbm90IHBhcnRpYWxseSBzZWxlY3QgYW55IGF0b21pY1xuICAvLyByYW5nZXMuXG4gIGZ1bmN0aW9uIHNraXBBdG9taWNJblNlbGVjdGlvbihkb2MsIHNlbCwgYmlhcywgbWF5Q2xlYXIpIHtcbiAgICB2YXIgb3V0O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJhbmdlID0gc2VsLnJhbmdlc1tpXTtcbiAgICAgIHZhciBuZXdBbmNob3IgPSBza2lwQXRvbWljKGRvYywgcmFuZ2UuYW5jaG9yLCBiaWFzLCBtYXlDbGVhcik7XG4gICAgICB2YXIgbmV3SGVhZCA9IHNraXBBdG9taWMoZG9jLCByYW5nZS5oZWFkLCBiaWFzLCBtYXlDbGVhcik7XG4gICAgICBpZiAob3V0IHx8IG5ld0FuY2hvciAhPSByYW5nZS5hbmNob3IgfHwgbmV3SGVhZCAhPSByYW5nZS5oZWFkKSB7XG4gICAgICAgIGlmICghb3V0KSBvdXQgPSBzZWwucmFuZ2VzLnNsaWNlKDAsIGkpO1xuICAgICAgICBvdXRbaV0gPSBuZXcgUmFuZ2UobmV3QW5jaG9yLCBuZXdIZWFkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dCA/IG5vcm1hbGl6ZVNlbGVjdGlvbihvdXQsIHNlbC5wcmltSW5kZXgpIDogc2VsO1xuICB9XG5cbiAgLy8gRW5zdXJlIGEgZ2l2ZW4gcG9zaXRpb24gaXMgbm90IGluc2lkZSBhbiBhdG9taWMgcmFuZ2UuXG4gIGZ1bmN0aW9uIHNraXBBdG9taWMoZG9jLCBwb3MsIGJpYXMsIG1heUNsZWFyKSB7XG4gICAgdmFyIGZsaXBwZWQgPSBmYWxzZSwgY3VyUG9zID0gcG9zO1xuICAgIHZhciBkaXIgPSBiaWFzIHx8IDE7XG4gICAgZG9jLmNhbnRFZGl0ID0gZmFsc2U7XG4gICAgc2VhcmNoOiBmb3IgKDs7KSB7XG4gICAgICB2YXIgbGluZSA9IGdldExpbmUoZG9jLCBjdXJQb3MubGluZSk7XG4gICAgICBpZiAobGluZS5tYXJrZWRTcGFucykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmUubWFya2VkU3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICB2YXIgc3AgPSBsaW5lLm1hcmtlZFNwYW5zW2ldLCBtID0gc3AubWFya2VyO1xuICAgICAgICAgIGlmICgoc3AuZnJvbSA9PSBudWxsIHx8IChtLmluY2x1c2l2ZUxlZnQgPyBzcC5mcm9tIDw9IGN1clBvcy5jaCA6IHNwLmZyb20gPCBjdXJQb3MuY2gpKSAmJlxuICAgICAgICAgICAgICAoc3AudG8gPT0gbnVsbCB8fCAobS5pbmNsdXNpdmVSaWdodCA/IHNwLnRvID49IGN1clBvcy5jaCA6IHNwLnRvID4gY3VyUG9zLmNoKSkpIHtcbiAgICAgICAgICAgIGlmIChtYXlDbGVhcikge1xuICAgICAgICAgICAgICBzaWduYWwobSwgXCJiZWZvcmVDdXJzb3JFbnRlclwiKTtcbiAgICAgICAgICAgICAgaWYgKG0uZXhwbGljaXRseUNsZWFyZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWxpbmUubWFya2VkU3BhbnMpIGJyZWFrO1xuICAgICAgICAgICAgICAgIGVsc2Ugey0taTsgY29udGludWU7fVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW0uYXRvbWljKSBjb250aW51ZTtcbiAgICAgICAgICAgIHZhciBuZXdQb3MgPSBtLmZpbmQoZGlyIDwgMCA/IC0xIDogMSk7XG4gICAgICAgICAgICBpZiAoY21wKG5ld1BvcywgY3VyUG9zKSA9PSAwKSB7XG4gICAgICAgICAgICAgIG5ld1Bvcy5jaCArPSBkaXI7XG4gICAgICAgICAgICAgIGlmIChuZXdQb3MuY2ggPCAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1Bvcy5saW5lID4gZG9jLmZpcnN0KSBuZXdQb3MgPSBjbGlwUG9zKGRvYywgUG9zKG5ld1Bvcy5saW5lIC0gMSkpO1xuICAgICAgICAgICAgICAgIGVsc2UgbmV3UG9zID0gbnVsbDtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdQb3MuY2ggPiBsaW5lLnRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1Bvcy5saW5lIDwgZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxKSBuZXdQb3MgPSBQb3MobmV3UG9zLmxpbmUgKyAxLCAwKTtcbiAgICAgICAgICAgICAgICBlbHNlIG5ld1BvcyA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFuZXdQb3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmxpcHBlZCkge1xuICAgICAgICAgICAgICAgICAgLy8gRHJpdmVuIGluIGEgY29ybmVyIC0tIG5vIHZhbGlkIGN1cnNvciBwb3NpdGlvbiBmb3VuZCBhdCBhbGxcbiAgICAgICAgICAgICAgICAgIC8vIC0tIHRyeSBhZ2FpbiAqd2l0aCogY2xlYXJpbmcsIGlmIHdlIGRpZG4ndCBhbHJlYWR5XG4gICAgICAgICAgICAgICAgICBpZiAoIW1heUNsZWFyKSByZXR1cm4gc2tpcEF0b21pYyhkb2MsIHBvcywgYmlhcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHR1cm4gb2ZmIGVkaXRpbmcgdW50aWwgZnVydGhlciBub3RpY2UsIGFuZCByZXR1cm4gdGhlIHN0YXJ0IG9mIHRoZSBkb2NcbiAgICAgICAgICAgICAgICAgIGRvYy5jYW50RWRpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gUG9zKGRvYy5maXJzdCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZsaXBwZWQgPSB0cnVlOyBuZXdQb3MgPSBwb3M7IGRpciA9IC1kaXI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1clBvcyA9IG5ld1BvcztcbiAgICAgICAgICAgIGNvbnRpbnVlIHNlYXJjaDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJQb3M7XG4gICAgfVxuICB9XG5cbiAgLy8gU0VMRUNUSU9OIERSQVdJTkdcblxuICAvLyBSZWRyYXcgdGhlIHNlbGVjdGlvbiBhbmQvb3IgY3Vyc29yXG4gIGZ1bmN0aW9uIGRyYXdTZWxlY3Rpb24oY20pIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYywgcmVzdWx0ID0ge307XG4gICAgdmFyIGN1ckZyYWdtZW50ID0gcmVzdWx0LmN1cnNvcnMgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgdmFyIHNlbEZyYWdtZW50ID0gcmVzdWx0LnNlbGVjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByYW5nZSA9IGRvYy5zZWwucmFuZ2VzW2ldO1xuICAgICAgdmFyIGNvbGxhcHNlZCA9IHJhbmdlLmVtcHR5KCk7XG4gICAgICBpZiAoY29sbGFwc2VkIHx8IGNtLm9wdGlvbnMuc2hvd0N1cnNvcldoZW5TZWxlY3RpbmcpXG4gICAgICAgIGRyYXdTZWxlY3Rpb25DdXJzb3IoY20sIHJhbmdlLCBjdXJGcmFnbWVudCk7XG4gICAgICBpZiAoIWNvbGxhcHNlZClcbiAgICAgICAgZHJhd1NlbGVjdGlvblJhbmdlKGNtLCByYW5nZSwgc2VsRnJhZ21lbnQpO1xuICAgIH1cblxuICAgIC8vIE1vdmUgdGhlIGhpZGRlbiB0ZXh0YXJlYSBuZWFyIHRoZSBjdXJzb3IgdG8gcHJldmVudCBzY3JvbGxpbmcgYXJ0aWZhY3RzXG4gICAgaWYgKGNtLm9wdGlvbnMubW92ZUlucHV0V2l0aEN1cnNvcikge1xuICAgICAgdmFyIGhlYWRQb3MgPSBjdXJzb3JDb29yZHMoY20sIGRvYy5zZWwucHJpbWFyeSgpLmhlYWQsIFwiZGl2XCIpO1xuICAgICAgdmFyIHdyYXBPZmYgPSBkaXNwbGF5LndyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGxpbmVPZmYgPSBkaXNwbGF5LmxpbmVEaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICByZXN1bHQudGVUb3AgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0IC0gMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkUG9zLnRvcCArIGxpbmVPZmYudG9wIC0gd3JhcE9mZi50b3ApKTtcbiAgICAgIHJlc3VsdC50ZUxlZnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihkaXNwbGF5LndyYXBwZXIuY2xpZW50V2lkdGggLSAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkUG9zLmxlZnQgKyBsaW5lT2ZmLmxlZnQgLSB3cmFwT2ZmLmxlZnQpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd1NlbGVjdGlvbihjbSwgZHJhd24pIHtcbiAgICByZW1vdmVDaGlsZHJlbkFuZEFkZChjbS5kaXNwbGF5LmN1cnNvckRpdiwgZHJhd24uY3Vyc29ycyk7XG4gICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoY20uZGlzcGxheS5zZWxlY3Rpb25EaXYsIGRyYXduLnNlbGVjdGlvbik7XG4gICAgaWYgKGRyYXduLnRlVG9wICE9IG51bGwpIHtcbiAgICAgIGNtLmRpc3BsYXkuaW5wdXREaXYuc3R5bGUudG9wID0gZHJhd24udGVUb3AgKyBcInB4XCI7XG4gICAgICBjbS5kaXNwbGF5LmlucHV0RGl2LnN0eWxlLmxlZnQgPSBkcmF3bi50ZUxlZnQgKyBcInB4XCI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlU2VsZWN0aW9uKGNtKSB7XG4gICAgc2hvd1NlbGVjdGlvbihjbSwgZHJhd1NlbGVjdGlvbihjbSkpO1xuICB9XG5cbiAgLy8gRHJhd3MgYSBjdXJzb3IgZm9yIHRoZSBnaXZlbiByYW5nZVxuICBmdW5jdGlvbiBkcmF3U2VsZWN0aW9uQ3Vyc29yKGNtLCByYW5nZSwgb3V0cHV0KSB7XG4gICAgdmFyIHBvcyA9IGN1cnNvckNvb3JkcyhjbSwgcmFuZ2UuaGVhZCwgXCJkaXZcIiwgbnVsbCwgbnVsbCwgIWNtLm9wdGlvbnMuc2luZ2xlQ3Vyc29ySGVpZ2h0UGVyTGluZSk7XG5cbiAgICB2YXIgY3Vyc29yID0gb3V0cHV0LmFwcGVuZENoaWxkKGVsdChcImRpdlwiLCBcIlxcdTAwYTBcIiwgXCJDb2RlTWlycm9yLWN1cnNvclwiKSk7XG4gICAgY3Vyc29yLnN0eWxlLmxlZnQgPSBwb3MubGVmdCArIFwicHhcIjtcbiAgICBjdXJzb3Iuc3R5bGUudG9wID0gcG9zLnRvcCArIFwicHhcIjtcbiAgICBjdXJzb3Iuc3R5bGUuaGVpZ2h0ID0gTWF0aC5tYXgoMCwgcG9zLmJvdHRvbSAtIHBvcy50b3ApICogY20ub3B0aW9ucy5jdXJzb3JIZWlnaHQgKyBcInB4XCI7XG5cbiAgICBpZiAocG9zLm90aGVyKSB7XG4gICAgICAvLyBTZWNvbmRhcnkgY3Vyc29yLCBzaG93biB3aGVuIG9uIGEgJ2p1bXAnIGluIGJpLWRpcmVjdGlvbmFsIHRleHRcbiAgICAgIHZhciBvdGhlckN1cnNvciA9IG91dHB1dC5hcHBlbmRDaGlsZChlbHQoXCJkaXZcIiwgXCJcXHUwMGEwXCIsIFwiQ29kZU1pcnJvci1jdXJzb3IgQ29kZU1pcnJvci1zZWNvbmRhcnljdXJzb3JcIikpO1xuICAgICAgb3RoZXJDdXJzb3Iuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICBvdGhlckN1cnNvci5zdHlsZS5sZWZ0ID0gcG9zLm90aGVyLmxlZnQgKyBcInB4XCI7XG4gICAgICBvdGhlckN1cnNvci5zdHlsZS50b3AgPSBwb3Mub3RoZXIudG9wICsgXCJweFwiO1xuICAgICAgb3RoZXJDdXJzb3Iuc3R5bGUuaGVpZ2h0ID0gKHBvcy5vdGhlci5ib3R0b20gLSBwb3Mub3RoZXIudG9wKSAqIC44NSArIFwicHhcIjtcbiAgICB9XG4gIH1cblxuICAvLyBEcmF3cyB0aGUgZ2l2ZW4gcmFuZ2UgYXMgYSBoaWdobGlnaHRlZCBzZWxlY3Rpb25cbiAgZnVuY3Rpb24gZHJhd1NlbGVjdGlvblJhbmdlKGNtLCByYW5nZSwgb3V0cHV0KSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBkb2MgPSBjbS5kb2M7XG4gICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIHZhciBwYWRkaW5nID0gcGFkZGluZ0goY20uZGlzcGxheSksIGxlZnRTaWRlID0gcGFkZGluZy5sZWZ0LCByaWdodFNpZGUgPSBkaXNwbGF5LmxpbmVTcGFjZS5vZmZzZXRXaWR0aCAtIHBhZGRpbmcucmlnaHQ7XG5cbiAgICBmdW5jdGlvbiBhZGQobGVmdCwgdG9wLCB3aWR0aCwgYm90dG9tKSB7XG4gICAgICBpZiAodG9wIDwgMCkgdG9wID0gMDtcbiAgICAgIHRvcCA9IE1hdGgucm91bmQodG9wKTtcbiAgICAgIGJvdHRvbSA9IE1hdGgucm91bmQoYm90dG9tKTtcbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3Itc2VsZWN0ZWRcIiwgXCJwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IFwiICsgbGVmdCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJweDsgdG9wOiBcIiArIHRvcCArIFwicHg7IHdpZHRoOiBcIiArICh3aWR0aCA9PSBudWxsID8gcmlnaHRTaWRlIC0gbGVmdCA6IHdpZHRoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJweDsgaGVpZ2h0OiBcIiArIChib3R0b20gLSB0b3ApICsgXCJweFwiKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHJhd0ZvckxpbmUobGluZSwgZnJvbUFyZywgdG9BcmcpIHtcbiAgICAgIHZhciBsaW5lT2JqID0gZ2V0TGluZShkb2MsIGxpbmUpO1xuICAgICAgdmFyIGxpbmVMZW4gPSBsaW5lT2JqLnRleHQubGVuZ3RoO1xuICAgICAgdmFyIHN0YXJ0LCBlbmQ7XG4gICAgICBmdW5jdGlvbiBjb29yZHMoY2gsIGJpYXMpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJDb29yZHMoY20sIFBvcyhsaW5lLCBjaCksIFwiZGl2XCIsIGxpbmVPYmosIGJpYXMpO1xuICAgICAgfVxuXG4gICAgICBpdGVyYXRlQmlkaVNlY3Rpb25zKGdldE9yZGVyKGxpbmVPYmopLCBmcm9tQXJnIHx8IDAsIHRvQXJnID09IG51bGwgPyBsaW5lTGVuIDogdG9BcmcsIGZ1bmN0aW9uKGZyb20sIHRvLCBkaXIpIHtcbiAgICAgICAgdmFyIGxlZnRQb3MgPSBjb29yZHMoZnJvbSwgXCJsZWZ0XCIpLCByaWdodFBvcywgbGVmdCwgcmlnaHQ7XG4gICAgICAgIGlmIChmcm9tID09IHRvKSB7XG4gICAgICAgICAgcmlnaHRQb3MgPSBsZWZ0UG9zO1xuICAgICAgICAgIGxlZnQgPSByaWdodCA9IGxlZnRQb3MubGVmdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByaWdodFBvcyA9IGNvb3Jkcyh0byAtIDEsIFwicmlnaHRcIik7XG4gICAgICAgICAgaWYgKGRpciA9PSBcInJ0bFwiKSB7IHZhciB0bXAgPSBsZWZ0UG9zOyBsZWZ0UG9zID0gcmlnaHRQb3M7IHJpZ2h0UG9zID0gdG1wOyB9XG4gICAgICAgICAgbGVmdCA9IGxlZnRQb3MubGVmdDtcbiAgICAgICAgICByaWdodCA9IHJpZ2h0UG9zLnJpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcm9tQXJnID09IG51bGwgJiYgZnJvbSA9PSAwKSBsZWZ0ID0gbGVmdFNpZGU7XG4gICAgICAgIGlmIChyaWdodFBvcy50b3AgLSBsZWZ0UG9zLnRvcCA+IDMpIHsgLy8gRGlmZmVyZW50IGxpbmVzLCBkcmF3IHRvcCBwYXJ0XG4gICAgICAgICAgYWRkKGxlZnQsIGxlZnRQb3MudG9wLCBudWxsLCBsZWZ0UG9zLmJvdHRvbSk7XG4gICAgICAgICAgbGVmdCA9IGxlZnRTaWRlO1xuICAgICAgICAgIGlmIChsZWZ0UG9zLmJvdHRvbSA8IHJpZ2h0UG9zLnRvcCkgYWRkKGxlZnQsIGxlZnRQb3MuYm90dG9tLCBudWxsLCByaWdodFBvcy50b3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b0FyZyA9PSBudWxsICYmIHRvID09IGxpbmVMZW4pIHJpZ2h0ID0gcmlnaHRTaWRlO1xuICAgICAgICBpZiAoIXN0YXJ0IHx8IGxlZnRQb3MudG9wIDwgc3RhcnQudG9wIHx8IGxlZnRQb3MudG9wID09IHN0YXJ0LnRvcCAmJiBsZWZ0UG9zLmxlZnQgPCBzdGFydC5sZWZ0KVxuICAgICAgICAgIHN0YXJ0ID0gbGVmdFBvcztcbiAgICAgICAgaWYgKCFlbmQgfHwgcmlnaHRQb3MuYm90dG9tID4gZW5kLmJvdHRvbSB8fCByaWdodFBvcy5ib3R0b20gPT0gZW5kLmJvdHRvbSAmJiByaWdodFBvcy5yaWdodCA+IGVuZC5yaWdodClcbiAgICAgICAgICBlbmQgPSByaWdodFBvcztcbiAgICAgICAgaWYgKGxlZnQgPCBsZWZ0U2lkZSArIDEpIGxlZnQgPSBsZWZ0U2lkZTtcbiAgICAgICAgYWRkKGxlZnQsIHJpZ2h0UG9zLnRvcCwgcmlnaHQgLSBsZWZ0LCByaWdodFBvcy5ib3R0b20pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge3N0YXJ0OiBzdGFydCwgZW5kOiBlbmR9O1xuICAgIH1cblxuICAgIHZhciBzRnJvbSA9IHJhbmdlLmZyb20oKSwgc1RvID0gcmFuZ2UudG8oKTtcbiAgICBpZiAoc0Zyb20ubGluZSA9PSBzVG8ubGluZSkge1xuICAgICAgZHJhd0ZvckxpbmUoc0Zyb20ubGluZSwgc0Zyb20uY2gsIHNUby5jaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBmcm9tTGluZSA9IGdldExpbmUoZG9jLCBzRnJvbS5saW5lKSwgdG9MaW5lID0gZ2V0TGluZShkb2MsIHNUby5saW5lKTtcbiAgICAgIHZhciBzaW5nbGVWTGluZSA9IHZpc3VhbExpbmUoZnJvbUxpbmUpID09IHZpc3VhbExpbmUodG9MaW5lKTtcbiAgICAgIHZhciBsZWZ0RW5kID0gZHJhd0ZvckxpbmUoc0Zyb20ubGluZSwgc0Zyb20uY2gsIHNpbmdsZVZMaW5lID8gZnJvbUxpbmUudGV4dC5sZW5ndGggKyAxIDogbnVsbCkuZW5kO1xuICAgICAgdmFyIHJpZ2h0U3RhcnQgPSBkcmF3Rm9yTGluZShzVG8ubGluZSwgc2luZ2xlVkxpbmUgPyAwIDogbnVsbCwgc1RvLmNoKS5zdGFydDtcbiAgICAgIGlmIChzaW5nbGVWTGluZSkge1xuICAgICAgICBpZiAobGVmdEVuZC50b3AgPCByaWdodFN0YXJ0LnRvcCAtIDIpIHtcbiAgICAgICAgICBhZGQobGVmdEVuZC5yaWdodCwgbGVmdEVuZC50b3AsIG51bGwsIGxlZnRFbmQuYm90dG9tKTtcbiAgICAgICAgICBhZGQobGVmdFNpZGUsIHJpZ2h0U3RhcnQudG9wLCByaWdodFN0YXJ0LmxlZnQsIHJpZ2h0U3RhcnQuYm90dG9tKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGQobGVmdEVuZC5yaWdodCwgbGVmdEVuZC50b3AsIHJpZ2h0U3RhcnQubGVmdCAtIGxlZnRFbmQucmlnaHQsIGxlZnRFbmQuYm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxlZnRFbmQuYm90dG9tIDwgcmlnaHRTdGFydC50b3ApXG4gICAgICAgIGFkZChsZWZ0U2lkZSwgbGVmdEVuZC5ib3R0b20sIG51bGwsIHJpZ2h0U3RhcnQudG9wKTtcbiAgICB9XG5cbiAgICBvdXRwdXQuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICB9XG5cbiAgLy8gQ3Vyc29yLWJsaW5raW5nXG4gIGZ1bmN0aW9uIHJlc3RhcnRCbGluayhjbSkge1xuICAgIGlmICghY20uc3RhdGUuZm9jdXNlZCkgcmV0dXJuO1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBjbGVhckludGVydmFsKGRpc3BsYXkuYmxpbmtlcik7XG4gICAgdmFyIG9uID0gdHJ1ZTtcbiAgICBkaXNwbGF5LmN1cnNvckRpdi5zdHlsZS52aXNpYmlsaXR5ID0gXCJcIjtcbiAgICBpZiAoY20ub3B0aW9ucy5jdXJzb3JCbGlua1JhdGUgPiAwKVxuICAgICAgZGlzcGxheS5ibGlua2VyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIGRpc3BsYXkuY3Vyc29yRGl2LnN0eWxlLnZpc2liaWxpdHkgPSAob24gPSAhb24pID8gXCJcIiA6IFwiaGlkZGVuXCI7XG4gICAgICB9LCBjbS5vcHRpb25zLmN1cnNvckJsaW5rUmF0ZSk7XG4gICAgZWxzZSBpZiAoY20ub3B0aW9ucy5jdXJzb3JCbGlua1JhdGUgPCAwKVxuICAgICAgZGlzcGxheS5jdXJzb3JEaXYuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gIH1cblxuICAvLyBISUdITElHSFQgV09SS0VSXG5cbiAgZnVuY3Rpb24gc3RhcnRXb3JrZXIoY20sIHRpbWUpIHtcbiAgICBpZiAoY20uZG9jLm1vZGUuc3RhcnRTdGF0ZSAmJiBjbS5kb2MuZnJvbnRpZXIgPCBjbS5kaXNwbGF5LnZpZXdUbylcbiAgICAgIGNtLnN0YXRlLmhpZ2hsaWdodC5zZXQodGltZSwgYmluZChoaWdobGlnaHRXb3JrZXIsIGNtKSk7XG4gIH1cblxuICBmdW5jdGlvbiBoaWdobGlnaHRXb3JrZXIoY20pIHtcbiAgICB2YXIgZG9jID0gY20uZG9jO1xuICAgIGlmIChkb2MuZnJvbnRpZXIgPCBkb2MuZmlyc3QpIGRvYy5mcm9udGllciA9IGRvYy5maXJzdDtcbiAgICBpZiAoZG9jLmZyb250aWVyID49IGNtLmRpc3BsYXkudmlld1RvKSByZXR1cm47XG4gICAgdmFyIGVuZCA9ICtuZXcgRGF0ZSArIGNtLm9wdGlvbnMud29ya1RpbWU7XG4gICAgdmFyIHN0YXRlID0gY29weVN0YXRlKGRvYy5tb2RlLCBnZXRTdGF0ZUJlZm9yZShjbSwgZG9jLmZyb250aWVyKSk7XG4gICAgdmFyIGNoYW5nZWRMaW5lcyA9IFtdO1xuXG4gICAgZG9jLml0ZXIoZG9jLmZyb250aWVyLCBNYXRoLm1pbihkb2MuZmlyc3QgKyBkb2Muc2l6ZSwgY20uZGlzcGxheS52aWV3VG8gKyA1MDApLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpZiAoZG9jLmZyb250aWVyID49IGNtLmRpc3BsYXkudmlld0Zyb20pIHsgLy8gVmlzaWJsZVxuICAgICAgICB2YXIgb2xkU3R5bGVzID0gbGluZS5zdHlsZXM7XG4gICAgICAgIHZhciBoaWdobGlnaHRlZCA9IGhpZ2hsaWdodExpbmUoY20sIGxpbmUsIHN0YXRlLCB0cnVlKTtcbiAgICAgICAgbGluZS5zdHlsZXMgPSBoaWdobGlnaHRlZC5zdHlsZXM7XG4gICAgICAgIHZhciBvbGRDbHMgPSBsaW5lLnN0eWxlQ2xhc3NlcywgbmV3Q2xzID0gaGlnaGxpZ2h0ZWQuY2xhc3NlcztcbiAgICAgICAgaWYgKG5ld0NscykgbGluZS5zdHlsZUNsYXNzZXMgPSBuZXdDbHM7XG4gICAgICAgIGVsc2UgaWYgKG9sZENscykgbGluZS5zdHlsZUNsYXNzZXMgPSBudWxsO1xuICAgICAgICB2YXIgaXNjaGFuZ2UgPSAhb2xkU3R5bGVzIHx8IG9sZFN0eWxlcy5sZW5ndGggIT0gbGluZS5zdHlsZXMubGVuZ3RoIHx8XG4gICAgICAgICAgb2xkQ2xzICE9IG5ld0NscyAmJiAoIW9sZENscyB8fCAhbmV3Q2xzIHx8IG9sZENscy5iZ0NsYXNzICE9IG5ld0Nscy5iZ0NsYXNzIHx8IG9sZENscy50ZXh0Q2xhc3MgIT0gbmV3Q2xzLnRleHRDbGFzcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyAhaXNjaGFuZ2UgJiYgaSA8IG9sZFN0eWxlcy5sZW5ndGg7ICsraSkgaXNjaGFuZ2UgPSBvbGRTdHlsZXNbaV0gIT0gbGluZS5zdHlsZXNbaV07XG4gICAgICAgIGlmIChpc2NoYW5nZSkgY2hhbmdlZExpbmVzLnB1c2goZG9jLmZyb250aWVyKTtcbiAgICAgICAgbGluZS5zdGF0ZUFmdGVyID0gY29weVN0YXRlKGRvYy5tb2RlLCBzdGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzTGluZShjbSwgbGluZS50ZXh0LCBzdGF0ZSk7XG4gICAgICAgIGxpbmUuc3RhdGVBZnRlciA9IGRvYy5mcm9udGllciAlIDUgPT0gMCA/IGNvcHlTdGF0ZShkb2MubW9kZSwgc3RhdGUpIDogbnVsbDtcbiAgICAgIH1cbiAgICAgICsrZG9jLmZyb250aWVyO1xuICAgICAgaWYgKCtuZXcgRGF0ZSA+IGVuZCkge1xuICAgICAgICBzdGFydFdvcmtlcihjbSwgY20ub3B0aW9ucy53b3JrRGVsYXkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoY2hhbmdlZExpbmVzLmxlbmd0aCkgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZWRMaW5lcy5sZW5ndGg7IGkrKylcbiAgICAgICAgcmVnTGluZUNoYW5nZShjbSwgY2hhbmdlZExpbmVzW2ldLCBcInRleHRcIik7XG4gICAgfSk7XG4gIH1cblxuICAvLyBGaW5kcyB0aGUgbGluZSB0byBzdGFydCB3aXRoIHdoZW4gc3RhcnRpbmcgYSBwYXJzZS4gVHJpZXMgdG9cbiAgLy8gZmluZCBhIGxpbmUgd2l0aCBhIHN0YXRlQWZ0ZXIsIHNvIHRoYXQgaXQgY2FuIHN0YXJ0IHdpdGggYVxuICAvLyB2YWxpZCBzdGF0ZS4gSWYgdGhhdCBmYWlscywgaXQgcmV0dXJucyB0aGUgbGluZSB3aXRoIHRoZVxuICAvLyBzbWFsbGVzdCBpbmRlbnRhdGlvbiwgd2hpY2ggdGVuZHMgdG8gbmVlZCB0aGUgbGVhc3QgY29udGV4dCB0b1xuICAvLyBwYXJzZSBjb3JyZWN0bHkuXG4gIGZ1bmN0aW9uIGZpbmRTdGFydExpbmUoY20sIG4sIHByZWNpc2UpIHtcbiAgICB2YXIgbWluaW5kZW50LCBtaW5saW5lLCBkb2MgPSBjbS5kb2M7XG4gICAgdmFyIGxpbSA9IHByZWNpc2UgPyAtMSA6IG4gLSAoY20uZG9jLm1vZGUuaW5uZXJNb2RlID8gMTAwMCA6IDEwMCk7XG4gICAgZm9yICh2YXIgc2VhcmNoID0gbjsgc2VhcmNoID4gbGltOyAtLXNlYXJjaCkge1xuICAgICAgaWYgKHNlYXJjaCA8PSBkb2MuZmlyc3QpIHJldHVybiBkb2MuZmlyc3Q7XG4gICAgICB2YXIgbGluZSA9IGdldExpbmUoZG9jLCBzZWFyY2ggLSAxKTtcbiAgICAgIGlmIChsaW5lLnN0YXRlQWZ0ZXIgJiYgKCFwcmVjaXNlIHx8IHNlYXJjaCA8PSBkb2MuZnJvbnRpZXIpKSByZXR1cm4gc2VhcmNoO1xuICAgICAgdmFyIGluZGVudGVkID0gY291bnRDb2x1bW4obGluZS50ZXh0LCBudWxsLCBjbS5vcHRpb25zLnRhYlNpemUpO1xuICAgICAgaWYgKG1pbmxpbmUgPT0gbnVsbCB8fCBtaW5pbmRlbnQgPiBpbmRlbnRlZCkge1xuICAgICAgICBtaW5saW5lID0gc2VhcmNoIC0gMTtcbiAgICAgICAgbWluaW5kZW50ID0gaW5kZW50ZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtaW5saW5lO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U3RhdGVCZWZvcmUoY20sIG4sIHByZWNpc2UpIHtcbiAgICB2YXIgZG9jID0gY20uZG9jLCBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAoIWRvYy5tb2RlLnN0YXJ0U3RhdGUpIHJldHVybiB0cnVlO1xuICAgIHZhciBwb3MgPSBmaW5kU3RhcnRMaW5lKGNtLCBuLCBwcmVjaXNlKSwgc3RhdGUgPSBwb3MgPiBkb2MuZmlyc3QgJiYgZ2V0TGluZShkb2MsIHBvcy0xKS5zdGF0ZUFmdGVyO1xuICAgIGlmICghc3RhdGUpIHN0YXRlID0gc3RhcnRTdGF0ZShkb2MubW9kZSk7XG4gICAgZWxzZSBzdGF0ZSA9IGNvcHlTdGF0ZShkb2MubW9kZSwgc3RhdGUpO1xuICAgIGRvYy5pdGVyKHBvcywgbiwgZnVuY3Rpb24obGluZSkge1xuICAgICAgcHJvY2Vzc0xpbmUoY20sIGxpbmUudGV4dCwgc3RhdGUpO1xuICAgICAgdmFyIHNhdmUgPSBwb3MgPT0gbiAtIDEgfHwgcG9zICUgNSA9PSAwIHx8IHBvcyA+PSBkaXNwbGF5LnZpZXdGcm9tICYmIHBvcyA8IGRpc3BsYXkudmlld1RvO1xuICAgICAgbGluZS5zdGF0ZUFmdGVyID0gc2F2ZSA/IGNvcHlTdGF0ZShkb2MubW9kZSwgc3RhdGUpIDogbnVsbDtcbiAgICAgICsrcG9zO1xuICAgIH0pO1xuICAgIGlmIChwcmVjaXNlKSBkb2MuZnJvbnRpZXIgPSBwb3M7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbiAgLy8gUE9TSVRJT04gTUVBU1VSRU1FTlRcblxuICBmdW5jdGlvbiBwYWRkaW5nVG9wKGRpc3BsYXkpIHtyZXR1cm4gZGlzcGxheS5saW5lU3BhY2Uub2Zmc2V0VG9wO31cbiAgZnVuY3Rpb24gcGFkZGluZ1ZlcnQoZGlzcGxheSkge3JldHVybiBkaXNwbGF5Lm1vdmVyLm9mZnNldEhlaWdodCAtIGRpc3BsYXkubGluZVNwYWNlLm9mZnNldEhlaWdodDt9XG4gIGZ1bmN0aW9uIHBhZGRpbmdIKGRpc3BsYXkpIHtcbiAgICBpZiAoZGlzcGxheS5jYWNoZWRQYWRkaW5nSCkgcmV0dXJuIGRpc3BsYXkuY2FjaGVkUGFkZGluZ0g7XG4gICAgdmFyIGUgPSByZW1vdmVDaGlsZHJlbkFuZEFkZChkaXNwbGF5Lm1lYXN1cmUsIGVsdChcInByZVwiLCBcInhcIikpO1xuICAgIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlID8gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZSkgOiBlLmN1cnJlbnRTdHlsZTtcbiAgICB2YXIgZGF0YSA9IHtsZWZ0OiBwYXJzZUludChzdHlsZS5wYWRkaW5nTGVmdCksIHJpZ2h0OiBwYXJzZUludChzdHlsZS5wYWRkaW5nUmlnaHQpfTtcbiAgICBpZiAoIWlzTmFOKGRhdGEubGVmdCkgJiYgIWlzTmFOKGRhdGEucmlnaHQpKSBkaXNwbGF5LmNhY2hlZFBhZGRpbmdIID0gZGF0YTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIC8vIEVuc3VyZSB0aGUgbGluZVZpZXcud3JhcHBpbmcuaGVpZ2h0cyBhcnJheSBpcyBwb3B1bGF0ZWQuIFRoaXMgaXNcbiAgLy8gYW4gYXJyYXkgb2YgYm90dG9tIG9mZnNldHMgZm9yIHRoZSBsaW5lcyB0aGF0IG1ha2UgdXAgYSBkcmF3blxuICAvLyBsaW5lLiBXaGVuIGxpbmVXcmFwcGluZyBpcyBvbiwgdGhlcmUgbWlnaHQgYmUgbW9yZSB0aGFuIG9uZVxuICAvLyBoZWlnaHQuXG4gIGZ1bmN0aW9uIGVuc3VyZUxpbmVIZWlnaHRzKGNtLCBsaW5lVmlldywgcmVjdCkge1xuICAgIHZhciB3cmFwcGluZyA9IGNtLm9wdGlvbnMubGluZVdyYXBwaW5nO1xuICAgIHZhciBjdXJXaWR0aCA9IHdyYXBwaW5nICYmIGNtLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGg7XG4gICAgaWYgKCFsaW5lVmlldy5tZWFzdXJlLmhlaWdodHMgfHwgd3JhcHBpbmcgJiYgbGluZVZpZXcubWVhc3VyZS53aWR0aCAhPSBjdXJXaWR0aCkge1xuICAgICAgdmFyIGhlaWdodHMgPSBsaW5lVmlldy5tZWFzdXJlLmhlaWdodHMgPSBbXTtcbiAgICAgIGlmICh3cmFwcGluZykge1xuICAgICAgICBsaW5lVmlldy5tZWFzdXJlLndpZHRoID0gY3VyV2lkdGg7XG4gICAgICAgIHZhciByZWN0cyA9IGxpbmVWaWV3LnRleHQuZmlyc3RDaGlsZC5nZXRDbGllbnRSZWN0cygpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY3RzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgIHZhciBjdXIgPSByZWN0c1tpXSwgbmV4dCA9IHJlY3RzW2kgKyAxXTtcbiAgICAgICAgICBpZiAoTWF0aC5hYnMoY3VyLmJvdHRvbSAtIG5leHQuYm90dG9tKSA+IDIpXG4gICAgICAgICAgICBoZWlnaHRzLnB1c2goKGN1ci5ib3R0b20gKyBuZXh0LnRvcCkgLyAyIC0gcmVjdC50b3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBoZWlnaHRzLnB1c2gocmVjdC5ib3R0b20gLSByZWN0LnRvcCk7XG4gICAgfVxuICB9XG5cbiAgLy8gRmluZCBhIGxpbmUgbWFwIChtYXBwaW5nIGNoYXJhY3RlciBvZmZzZXRzIHRvIHRleHQgbm9kZXMpIGFuZCBhXG4gIC8vIG1lYXN1cmVtZW50IGNhY2hlIGZvciB0aGUgZ2l2ZW4gbGluZSBudW1iZXIuIChBIGxpbmUgdmlldyBtaWdodFxuICAvLyBjb250YWluIG11bHRpcGxlIGxpbmVzIHdoZW4gY29sbGFwc2VkIHJhbmdlcyBhcmUgcHJlc2VudC4pXG4gIGZ1bmN0aW9uIG1hcEZyb21MaW5lVmlldyhsaW5lVmlldywgbGluZSwgbGluZU4pIHtcbiAgICBpZiAobGluZVZpZXcubGluZSA9PSBsaW5lKVxuICAgICAgcmV0dXJuIHttYXA6IGxpbmVWaWV3Lm1lYXN1cmUubWFwLCBjYWNoZTogbGluZVZpZXcubWVhc3VyZS5jYWNoZX07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lVmlldy5yZXN0Lmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKGxpbmVWaWV3LnJlc3RbaV0gPT0gbGluZSlcbiAgICAgICAgcmV0dXJuIHttYXA6IGxpbmVWaWV3Lm1lYXN1cmUubWFwc1tpXSwgY2FjaGU6IGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGVzW2ldfTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVWaWV3LnJlc3QubGVuZ3RoOyBpKyspXG4gICAgICBpZiAobGluZU5vKGxpbmVWaWV3LnJlc3RbaV0pID4gbGluZU4pXG4gICAgICAgIHJldHVybiB7bWFwOiBsaW5lVmlldy5tZWFzdXJlLm1hcHNbaV0sIGNhY2hlOiBsaW5lVmlldy5tZWFzdXJlLmNhY2hlc1tpXSwgYmVmb3JlOiB0cnVlfTtcbiAgfVxuXG4gIC8vIFJlbmRlciBhIGxpbmUgaW50byB0aGUgaGlkZGVuIG5vZGUgZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkLiBVc2VkXG4gIC8vIHdoZW4gbWVhc3VyZW1lbnQgaXMgbmVlZGVkIGZvciBhIGxpbmUgdGhhdCdzIG5vdCBpbiB0aGUgdmlld3BvcnQuXG4gIGZ1bmN0aW9uIHVwZGF0ZUV4dGVybmFsTWVhc3VyZW1lbnQoY20sIGxpbmUpIHtcbiAgICBsaW5lID0gdmlzdWFsTGluZShsaW5lKTtcbiAgICB2YXIgbGluZU4gPSBsaW5lTm8obGluZSk7XG4gICAgdmFyIHZpZXcgPSBjbS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQgPSBuZXcgTGluZVZpZXcoY20uZG9jLCBsaW5lLCBsaW5lTik7XG4gICAgdmlldy5saW5lTiA9IGxpbmVOO1xuICAgIHZhciBidWlsdCA9IHZpZXcuYnVpbHQgPSBidWlsZExpbmVDb250ZW50KGNtLCB2aWV3KTtcbiAgICB2aWV3LnRleHQgPSBidWlsdC5wcmU7XG4gICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoY20uZGlzcGxheS5saW5lTWVhc3VyZSwgYnVpbHQucHJlKTtcbiAgICByZXR1cm4gdmlldztcbiAgfVxuXG4gIC8vIEdldCBhIHt0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHR9IGJveCAoaW4gbGluZS1sb2NhbCBjb29yZGluYXRlcylcbiAgLy8gZm9yIGEgZ2l2ZW4gY2hhcmFjdGVyLlxuICBmdW5jdGlvbiBtZWFzdXJlQ2hhcihjbSwgbGluZSwgY2gsIGJpYXMpIHtcbiAgICByZXR1cm4gbWVhc3VyZUNoYXJQcmVwYXJlZChjbSwgcHJlcGFyZU1lYXN1cmVGb3JMaW5lKGNtLCBsaW5lKSwgY2gsIGJpYXMpO1xuICB9XG5cbiAgLy8gRmluZCBhIGxpbmUgdmlldyB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBsaW5lIG51bWJlci5cbiAgZnVuY3Rpb24gZmluZFZpZXdGb3JMaW5lKGNtLCBsaW5lTikge1xuICAgIGlmIChsaW5lTiA+PSBjbS5kaXNwbGF5LnZpZXdGcm9tICYmIGxpbmVOIDwgY20uZGlzcGxheS52aWV3VG8pXG4gICAgICByZXR1cm4gY20uZGlzcGxheS52aWV3W2ZpbmRWaWV3SW5kZXgoY20sIGxpbmVOKV07XG4gICAgdmFyIGV4dCA9IGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZDtcbiAgICBpZiAoZXh0ICYmIGxpbmVOID49IGV4dC5saW5lTiAmJiBsaW5lTiA8IGV4dC5saW5lTiArIGV4dC5zaXplKVxuICAgICAgcmV0dXJuIGV4dDtcbiAgfVxuXG4gIC8vIE1lYXN1cmVtZW50IGNhbiBiZSBzcGxpdCBpbiB0d28gc3RlcHMsIHRoZSBzZXQtdXAgd29yayB0aGF0XG4gIC8vIGFwcGxpZXMgdG8gdGhlIHdob2xlIGxpbmUsIGFuZCB0aGUgbWVhc3VyZW1lbnQgb2YgdGhlIGFjdHVhbFxuICAvLyBjaGFyYWN0ZXIuIEZ1bmN0aW9ucyBsaWtlIGNvb3Jkc0NoYXIsIHRoYXQgbmVlZCB0byBkbyBhIGxvdCBvZlxuICAvLyBtZWFzdXJlbWVudHMgaW4gYSByb3csIGNhbiB0aHVzIGVuc3VyZSB0aGF0IHRoZSBzZXQtdXAgd29yayBpc1xuICAvLyBvbmx5IGRvbmUgb25jZS5cbiAgZnVuY3Rpb24gcHJlcGFyZU1lYXN1cmVGb3JMaW5lKGNtLCBsaW5lKSB7XG4gICAgdmFyIGxpbmVOID0gbGluZU5vKGxpbmUpO1xuICAgIHZhciB2aWV3ID0gZmluZFZpZXdGb3JMaW5lKGNtLCBsaW5lTik7XG4gICAgaWYgKHZpZXcgJiYgIXZpZXcudGV4dClcbiAgICAgIHZpZXcgPSBudWxsO1xuICAgIGVsc2UgaWYgKHZpZXcgJiYgdmlldy5jaGFuZ2VzKVxuICAgICAgdXBkYXRlTGluZUZvckNoYW5nZXMoY20sIHZpZXcsIGxpbmVOLCBnZXREaW1lbnNpb25zKGNtKSk7XG4gICAgaWYgKCF2aWV3KVxuICAgICAgdmlldyA9IHVwZGF0ZUV4dGVybmFsTWVhc3VyZW1lbnQoY20sIGxpbmUpO1xuXG4gICAgdmFyIGluZm8gPSBtYXBGcm9tTGluZVZpZXcodmlldywgbGluZSwgbGluZU4pO1xuICAgIHJldHVybiB7XG4gICAgICBsaW5lOiBsaW5lLCB2aWV3OiB2aWV3LCByZWN0OiBudWxsLFxuICAgICAgbWFwOiBpbmZvLm1hcCwgY2FjaGU6IGluZm8uY2FjaGUsIGJlZm9yZTogaW5mby5iZWZvcmUsXG4gICAgICBoYXNIZWlnaHRzOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICAvLyBHaXZlbiBhIHByZXBhcmVkIG1lYXN1cmVtZW50IG9iamVjdCwgbWVhc3VyZXMgdGhlIHBvc2l0aW9uIG9mIGFuXG4gIC8vIGFjdHVhbCBjaGFyYWN0ZXIgKG9yIGZldGNoZXMgaXQgZnJvbSB0aGUgY2FjaGUpLlxuICBmdW5jdGlvbiBtZWFzdXJlQ2hhclByZXBhcmVkKGNtLCBwcmVwYXJlZCwgY2gsIGJpYXMsIHZhckhlaWdodCkge1xuICAgIGlmIChwcmVwYXJlZC5iZWZvcmUpIGNoID0gLTE7XG4gICAgdmFyIGtleSA9IGNoICsgKGJpYXMgfHwgXCJcIiksIGZvdW5kO1xuICAgIGlmIChwcmVwYXJlZC5jYWNoZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBmb3VuZCA9IHByZXBhcmVkLmNhY2hlW2tleV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghcHJlcGFyZWQucmVjdClcbiAgICAgICAgcHJlcGFyZWQucmVjdCA9IHByZXBhcmVkLnZpZXcudGV4dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGlmICghcHJlcGFyZWQuaGFzSGVpZ2h0cykge1xuICAgICAgICBlbnN1cmVMaW5lSGVpZ2h0cyhjbSwgcHJlcGFyZWQudmlldywgcHJlcGFyZWQucmVjdCk7XG4gICAgICAgIHByZXBhcmVkLmhhc0hlaWdodHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZm91bmQgPSBtZWFzdXJlQ2hhcklubmVyKGNtLCBwcmVwYXJlZCwgY2gsIGJpYXMpO1xuICAgICAgaWYgKCFmb3VuZC5ib2d1cykgcHJlcGFyZWQuY2FjaGVba2V5XSA9IGZvdW5kO1xuICAgIH1cbiAgICByZXR1cm4ge2xlZnQ6IGZvdW5kLmxlZnQsIHJpZ2h0OiBmb3VuZC5yaWdodCxcbiAgICAgICAgICAgIHRvcDogdmFySGVpZ2h0ID8gZm91bmQucnRvcCA6IGZvdW5kLnRvcCxcbiAgICAgICAgICAgIGJvdHRvbTogdmFySGVpZ2h0ID8gZm91bmQucmJvdHRvbSA6IGZvdW5kLmJvdHRvbX07XG4gIH1cblxuICB2YXIgbnVsbFJlY3QgPSB7bGVmdDogMCwgcmlnaHQ6IDAsIHRvcDogMCwgYm90dG9tOiAwfTtcblxuICBmdW5jdGlvbiBtZWFzdXJlQ2hhcklubmVyKGNtLCBwcmVwYXJlZCwgY2gsIGJpYXMpIHtcbiAgICB2YXIgbWFwID0gcHJlcGFyZWQubWFwO1xuXG4gICAgdmFyIG5vZGUsIHN0YXJ0LCBlbmQsIGNvbGxhcHNlO1xuICAgIC8vIEZpcnN0LCBzZWFyY2ggdGhlIGxpbmUgbWFwIGZvciB0aGUgdGV4dCBub2RlIGNvcnJlc3BvbmRpbmcgdG8sXG4gICAgLy8gb3IgY2xvc2VzdCB0bywgdGhlIHRhcmdldCBjaGFyYWN0ZXIuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXAubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgIHZhciBtU3RhcnQgPSBtYXBbaV0sIG1FbmQgPSBtYXBbaSArIDFdO1xuICAgICAgaWYgKGNoIDwgbVN0YXJ0KSB7XG4gICAgICAgIHN0YXJ0ID0gMDsgZW5kID0gMTtcbiAgICAgICAgY29sbGFwc2UgPSBcImxlZnRcIjtcbiAgICAgIH0gZWxzZSBpZiAoY2ggPCBtRW5kKSB7XG4gICAgICAgIHN0YXJ0ID0gY2ggLSBtU3RhcnQ7XG4gICAgICAgIGVuZCA9IHN0YXJ0ICsgMTtcbiAgICAgIH0gZWxzZSBpZiAoaSA9PSBtYXAubGVuZ3RoIC0gMyB8fCBjaCA9PSBtRW5kICYmIG1hcFtpICsgM10gPiBjaCkge1xuICAgICAgICBlbmQgPSBtRW5kIC0gbVN0YXJ0O1xuICAgICAgICBzdGFydCA9IGVuZCAtIDE7XG4gICAgICAgIGlmIChjaCA+PSBtRW5kKSBjb2xsYXBzZSA9IFwicmlnaHRcIjtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCAhPSBudWxsKSB7XG4gICAgICAgIG5vZGUgPSBtYXBbaSArIDJdO1xuICAgICAgICBpZiAobVN0YXJ0ID09IG1FbmQgJiYgYmlhcyA9PSAobm9kZS5pbnNlcnRMZWZ0ID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCIpKVxuICAgICAgICAgIGNvbGxhcHNlID0gYmlhcztcbiAgICAgICAgaWYgKGJpYXMgPT0gXCJsZWZ0XCIgJiYgc3RhcnQgPT0gMClcbiAgICAgICAgICB3aGlsZSAoaSAmJiBtYXBbaSAtIDJdID09IG1hcFtpIC0gM10gJiYgbWFwW2kgLSAxXS5pbnNlcnRMZWZ0KSB7XG4gICAgICAgICAgICBub2RlID0gbWFwWyhpIC09IDMpICsgMl07XG4gICAgICAgICAgICBjb2xsYXBzZSA9IFwibGVmdFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgaWYgKGJpYXMgPT0gXCJyaWdodFwiICYmIHN0YXJ0ID09IG1FbmQgLSBtU3RhcnQpXG4gICAgICAgICAgd2hpbGUgKGkgPCBtYXAubGVuZ3RoIC0gMyAmJiBtYXBbaSArIDNdID09IG1hcFtpICsgNF0gJiYgIW1hcFtpICsgNV0uaW5zZXJ0TGVmdCkge1xuICAgICAgICAgICAgbm9kZSA9IG1hcFsoaSArPSAzKSArIDJdO1xuICAgICAgICAgICAgY29sbGFwc2UgPSBcInJpZ2h0XCI7XG4gICAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVjdDtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAzKSB7IC8vIElmIGl0IGlzIGEgdGV4dCBub2RlLCB1c2UgYSByYW5nZSB0byByZXRyaWV2ZSB0aGUgY29vcmRpbmF0ZXMuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykgeyAvLyBSZXRyeSBhIG1heGltdW0gb2YgNCB0aW1lcyB3aGVuIG5vbnNlbnNlIHJlY3RhbmdsZXMgYXJlIHJldHVybmVkXG4gICAgICAgIHdoaWxlIChzdGFydCAmJiBpc0V4dGVuZGluZ0NoYXIocHJlcGFyZWQubGluZS50ZXh0LmNoYXJBdChtU3RhcnQgKyBzdGFydCkpKSAtLXN0YXJ0O1xuICAgICAgICB3aGlsZSAobVN0YXJ0ICsgZW5kIDwgbUVuZCAmJiBpc0V4dGVuZGluZ0NoYXIocHJlcGFyZWQubGluZS50ZXh0LmNoYXJBdChtU3RhcnQgKyBlbmQpKSkgKytlbmQ7XG4gICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSAmJiBzdGFydCA9PSAwICYmIGVuZCA9PSBtRW5kIC0gbVN0YXJ0KSB7XG4gICAgICAgICAgcmVjdCA9IG5vZGUucGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfSBlbHNlIGlmIChpZSAmJiBjbS5vcHRpb25zLmxpbmVXcmFwcGluZykge1xuICAgICAgICAgIHZhciByZWN0cyA9IHJhbmdlKG5vZGUsIHN0YXJ0LCBlbmQpLmdldENsaWVudFJlY3RzKCk7XG4gICAgICAgICAgaWYgKHJlY3RzLmxlbmd0aClcbiAgICAgICAgICAgIHJlY3QgPSByZWN0c1tiaWFzID09IFwicmlnaHRcIiA/IHJlY3RzLmxlbmd0aCAtIDEgOiAwXTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICByZWN0ID0gbnVsbFJlY3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVjdCA9IHJhbmdlKG5vZGUsIHN0YXJ0LCBlbmQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHx8IG51bGxSZWN0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWN0LmxlZnQgfHwgcmVjdC5yaWdodCB8fCBzdGFydCA9PSAwKSBicmVhaztcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gc3RhcnQgLSAxO1xuICAgICAgICBjb2xsYXBzZSA9IFwicmlnaHRcIjtcbiAgICAgIH1cbiAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgMTEpIHJlY3QgPSBtYXliZVVwZGF0ZVJlY3RGb3Jab29taW5nKGNtLmRpc3BsYXkubWVhc3VyZSwgcmVjdCk7XG4gICAgfSBlbHNlIHsgLy8gSWYgaXQgaXMgYSB3aWRnZXQsIHNpbXBseSBnZXQgdGhlIGJveCBmb3IgdGhlIHdob2xlIHdpZGdldC5cbiAgICAgIGlmIChzdGFydCA+IDApIGNvbGxhcHNlID0gYmlhcyA9IFwicmlnaHRcIjtcbiAgICAgIHZhciByZWN0cztcbiAgICAgIGlmIChjbS5vcHRpb25zLmxpbmVXcmFwcGluZyAmJiAocmVjdHMgPSBub2RlLmdldENsaWVudFJlY3RzKCkpLmxlbmd0aCA+IDEpXG4gICAgICAgIHJlY3QgPSByZWN0c1tiaWFzID09IFwicmlnaHRcIiA/IHJlY3RzLmxlbmd0aCAtIDEgOiAwXTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgfVxuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSAmJiAhc3RhcnQgJiYgKCFyZWN0IHx8ICFyZWN0LmxlZnQgJiYgIXJlY3QucmlnaHQpKSB7XG4gICAgICB2YXIgclNwYW4gPSBub2RlLnBhcmVudE5vZGUuZ2V0Q2xpZW50UmVjdHMoKVswXTtcbiAgICAgIGlmIChyU3BhbilcbiAgICAgICAgcmVjdCA9IHtsZWZ0OiByU3Bhbi5sZWZ0LCByaWdodDogclNwYW4ubGVmdCArIGNoYXJXaWR0aChjbS5kaXNwbGF5KSwgdG9wOiByU3Bhbi50b3AsIGJvdHRvbTogclNwYW4uYm90dG9tfTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVjdCA9IG51bGxSZWN0O1xuICAgIH1cblxuICAgIHZhciBydG9wID0gcmVjdC50b3AgLSBwcmVwYXJlZC5yZWN0LnRvcCwgcmJvdCA9IHJlY3QuYm90dG9tIC0gcHJlcGFyZWQucmVjdC50b3A7XG4gICAgdmFyIG1pZCA9IChydG9wICsgcmJvdCkgLyAyO1xuICAgIHZhciBoZWlnaHRzID0gcHJlcGFyZWQudmlldy5tZWFzdXJlLmhlaWdodHM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWlnaHRzLmxlbmd0aCAtIDE7IGkrKylcbiAgICAgIGlmIChtaWQgPCBoZWlnaHRzW2ldKSBicmVhaztcbiAgICB2YXIgdG9wID0gaSA/IGhlaWdodHNbaSAtIDFdIDogMCwgYm90ID0gaGVpZ2h0c1tpXTtcbiAgICB2YXIgcmVzdWx0ID0ge2xlZnQ6IChjb2xsYXBzZSA9PSBcInJpZ2h0XCIgPyByZWN0LnJpZ2h0IDogcmVjdC5sZWZ0KSAtIHByZXBhcmVkLnJlY3QubGVmdCxcbiAgICAgICAgICAgICAgICAgIHJpZ2h0OiAoY29sbGFwc2UgPT0gXCJsZWZ0XCIgPyByZWN0LmxlZnQgOiByZWN0LnJpZ2h0KSAtIHByZXBhcmVkLnJlY3QubGVmdCxcbiAgICAgICAgICAgICAgICAgIHRvcDogdG9wLCBib3R0b206IGJvdH07XG4gICAgaWYgKCFyZWN0LmxlZnQgJiYgIXJlY3QucmlnaHQpIHJlc3VsdC5ib2d1cyA9IHRydWU7XG4gICAgaWYgKCFjbS5vcHRpb25zLnNpbmdsZUN1cnNvckhlaWdodFBlckxpbmUpIHsgcmVzdWx0LnJ0b3AgPSBydG9wOyByZXN1bHQucmJvdHRvbSA9IHJib3Q7IH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBXb3JrIGFyb3VuZCBwcm9ibGVtIHdpdGggYm91bmRpbmcgY2xpZW50IHJlY3RzIG9uIHJhbmdlcyBiZWluZ1xuICAvLyByZXR1cm5lZCBpbmNvcnJlY3RseSB3aGVuIHpvb21lZCBvbiBJRTEwIGFuZCBiZWxvdy5cbiAgZnVuY3Rpb24gbWF5YmVVcGRhdGVSZWN0Rm9yWm9vbWluZyhtZWFzdXJlLCByZWN0KSB7XG4gICAgaWYgKCF3aW5kb3cuc2NyZWVuIHx8IHNjcmVlbi5sb2dpY2FsWERQSSA9PSBudWxsIHx8XG4gICAgICAgIHNjcmVlbi5sb2dpY2FsWERQSSA9PSBzY3JlZW4uZGV2aWNlWERQSSB8fCAhaGFzQmFkWm9vbWVkUmVjdHMobWVhc3VyZSkpXG4gICAgICByZXR1cm4gcmVjdDtcbiAgICB2YXIgc2NhbGVYID0gc2NyZWVuLmxvZ2ljYWxYRFBJIC8gc2NyZWVuLmRldmljZVhEUEk7XG4gICAgdmFyIHNjYWxlWSA9IHNjcmVlbi5sb2dpY2FsWURQSSAvIHNjcmVlbi5kZXZpY2VZRFBJO1xuICAgIHJldHVybiB7bGVmdDogcmVjdC5sZWZ0ICogc2NhbGVYLCByaWdodDogcmVjdC5yaWdodCAqIHNjYWxlWCxcbiAgICAgICAgICAgIHRvcDogcmVjdC50b3AgKiBzY2FsZVksIGJvdHRvbTogcmVjdC5ib3R0b20gKiBzY2FsZVl9O1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJMaW5lTWVhc3VyZW1lbnRDYWNoZUZvcihsaW5lVmlldykge1xuICAgIGlmIChsaW5lVmlldy5tZWFzdXJlKSB7XG4gICAgICBsaW5lVmlldy5tZWFzdXJlLmNhY2hlID0ge307XG4gICAgICBsaW5lVmlldy5tZWFzdXJlLmhlaWdodHMgPSBudWxsO1xuICAgICAgaWYgKGxpbmVWaWV3LnJlc3QpIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZVZpZXcucmVzdC5sZW5ndGg7IGkrKylcbiAgICAgICAgbGluZVZpZXcubWVhc3VyZS5jYWNoZXNbaV0gPSB7fTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckxpbmVNZWFzdXJlbWVudENhY2hlKGNtKSB7XG4gICAgY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmUgPSBudWxsO1xuICAgIHJlbW92ZUNoaWxkcmVuKGNtLmRpc3BsYXkubGluZU1lYXN1cmUpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY20uZGlzcGxheS52aWV3Lmxlbmd0aDsgaSsrKVxuICAgICAgY2xlYXJMaW5lTWVhc3VyZW1lbnRDYWNoZUZvcihjbS5kaXNwbGF5LnZpZXdbaV0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJDYWNoZXMoY20pIHtcbiAgICBjbGVhckxpbmVNZWFzdXJlbWVudENhY2hlKGNtKTtcbiAgICBjbS5kaXNwbGF5LmNhY2hlZENoYXJXaWR0aCA9IGNtLmRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodCA9IGNtLmRpc3BsYXkuY2FjaGVkUGFkZGluZ0ggPSBudWxsO1xuICAgIGlmICghY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIGNtLmRpc3BsYXkubWF4TGluZUNoYW5nZWQgPSB0cnVlO1xuICAgIGNtLmRpc3BsYXkubGluZU51bUNoYXJzID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhZ2VTY3JvbGxYKCkgeyByZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keSkuc2Nyb2xsTGVmdDsgfVxuICBmdW5jdGlvbiBwYWdlU2Nyb2xsWSgpIHsgcmV0dXJuIHdpbmRvdy5wYWdlWU9mZnNldCB8fCAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHkpLnNjcm9sbFRvcDsgfVxuXG4gIC8vIENvbnZlcnRzIGEge3RvcCwgYm90dG9tLCBsZWZ0LCByaWdodH0gYm94IGZyb20gbGluZS1sb2NhbFxuICAvLyBjb29yZGluYXRlcyBpbnRvIGFub3RoZXIgY29vcmRpbmF0ZSBzeXN0ZW0uIENvbnRleHQgbWF5IGJlIG9uZSBvZlxuICAvLyBcImxpbmVcIiwgXCJkaXZcIiAoZGlzcGxheS5saW5lRGl2KSwgXCJsb2NhbFwiL251bGwgKGVkaXRvciksIG9yIFwicGFnZVwiLlxuICBmdW5jdGlvbiBpbnRvQ29vcmRTeXN0ZW0oY20sIGxpbmVPYmosIHJlY3QsIGNvbnRleHQpIHtcbiAgICBpZiAobGluZU9iai53aWRnZXRzKSBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVPYmoud2lkZ2V0cy5sZW5ndGg7ICsraSkgaWYgKGxpbmVPYmoud2lkZ2V0c1tpXS5hYm92ZSkge1xuICAgICAgdmFyIHNpemUgPSB3aWRnZXRIZWlnaHQobGluZU9iai53aWRnZXRzW2ldKTtcbiAgICAgIHJlY3QudG9wICs9IHNpemU7IHJlY3QuYm90dG9tICs9IHNpemU7XG4gICAgfVxuICAgIGlmIChjb250ZXh0ID09IFwibGluZVwiKSByZXR1cm4gcmVjdDtcbiAgICBpZiAoIWNvbnRleHQpIGNvbnRleHQgPSBcImxvY2FsXCI7XG4gICAgdmFyIHlPZmYgPSBoZWlnaHRBdExpbmUobGluZU9iaik7XG4gICAgaWYgKGNvbnRleHQgPT0gXCJsb2NhbFwiKSB5T2ZmICs9IHBhZGRpbmdUb3AoY20uZGlzcGxheSk7XG4gICAgZWxzZSB5T2ZmIC09IGNtLmRpc3BsYXkudmlld09mZnNldDtcbiAgICBpZiAoY29udGV4dCA9PSBcInBhZ2VcIiB8fCBjb250ZXh0ID09IFwid2luZG93XCIpIHtcbiAgICAgIHZhciBsT2ZmID0gY20uZGlzcGxheS5saW5lU3BhY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB5T2ZmICs9IGxPZmYudG9wICsgKGNvbnRleHQgPT0gXCJ3aW5kb3dcIiA/IDAgOiBwYWdlU2Nyb2xsWSgpKTtcbiAgICAgIHZhciB4T2ZmID0gbE9mZi5sZWZ0ICsgKGNvbnRleHQgPT0gXCJ3aW5kb3dcIiA/IDAgOiBwYWdlU2Nyb2xsWCgpKTtcbiAgICAgIHJlY3QubGVmdCArPSB4T2ZmOyByZWN0LnJpZ2h0ICs9IHhPZmY7XG4gICAgfVxuICAgIHJlY3QudG9wICs9IHlPZmY7IHJlY3QuYm90dG9tICs9IHlPZmY7XG4gICAgcmV0dXJuIHJlY3Q7XG4gIH1cblxuICAvLyBDb3ZlcnRzIGEgYm94IGZyb20gXCJkaXZcIiBjb29yZHMgdG8gYW5vdGhlciBjb29yZGluYXRlIHN5c3RlbS5cbiAgLy8gQ29udGV4dCBtYXkgYmUgXCJ3aW5kb3dcIiwgXCJwYWdlXCIsIFwiZGl2XCIsIG9yIFwibG9jYWxcIi9udWxsLlxuICBmdW5jdGlvbiBmcm9tQ29vcmRTeXN0ZW0oY20sIGNvb3JkcywgY29udGV4dCkge1xuICAgIGlmIChjb250ZXh0ID09IFwiZGl2XCIpIHJldHVybiBjb29yZHM7XG4gICAgdmFyIGxlZnQgPSBjb29yZHMubGVmdCwgdG9wID0gY29vcmRzLnRvcDtcbiAgICAvLyBGaXJzdCBtb3ZlIGludG8gXCJwYWdlXCIgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICBpZiAoY29udGV4dCA9PSBcInBhZ2VcIikge1xuICAgICAgbGVmdCAtPSBwYWdlU2Nyb2xsWCgpO1xuICAgICAgdG9wIC09IHBhZ2VTY3JvbGxZKCk7XG4gICAgfSBlbHNlIGlmIChjb250ZXh0ID09IFwibG9jYWxcIiB8fCAhY29udGV4dCkge1xuICAgICAgdmFyIGxvY2FsQm94ID0gY20uZGlzcGxheS5zaXplci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGxlZnQgKz0gbG9jYWxCb3gubGVmdDtcbiAgICAgIHRvcCArPSBsb2NhbEJveC50b3A7XG4gICAgfVxuXG4gICAgdmFyIGxpbmVTcGFjZUJveCA9IGNtLmRpc3BsYXkubGluZVNwYWNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiB7bGVmdDogbGVmdCAtIGxpbmVTcGFjZUJveC5sZWZ0LCB0b3A6IHRvcCAtIGxpbmVTcGFjZUJveC50b3B9O1xuICB9XG5cbiAgZnVuY3Rpb24gY2hhckNvb3JkcyhjbSwgcG9zLCBjb250ZXh0LCBsaW5lT2JqLCBiaWFzKSB7XG4gICAgaWYgKCFsaW5lT2JqKSBsaW5lT2JqID0gZ2V0TGluZShjbS5kb2MsIHBvcy5saW5lKTtcbiAgICByZXR1cm4gaW50b0Nvb3JkU3lzdGVtKGNtLCBsaW5lT2JqLCBtZWFzdXJlQ2hhcihjbSwgbGluZU9iaiwgcG9zLmNoLCBiaWFzKSwgY29udGV4dCk7XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgYm94IGZvciBhIGdpdmVuIGN1cnNvciBwb3NpdGlvbiwgd2hpY2ggbWF5IGhhdmUgYW5cbiAgLy8gJ290aGVyJyBwcm9wZXJ0eSBjb250YWluaW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2Vjb25kYXJ5IGN1cnNvclxuICAvLyBvbiBhIGJpZGkgYm91bmRhcnkuXG4gIGZ1bmN0aW9uIGN1cnNvckNvb3JkcyhjbSwgcG9zLCBjb250ZXh0LCBsaW5lT2JqLCBwcmVwYXJlZE1lYXN1cmUsIHZhckhlaWdodCkge1xuICAgIGxpbmVPYmogPSBsaW5lT2JqIHx8IGdldExpbmUoY20uZG9jLCBwb3MubGluZSk7XG4gICAgaWYgKCFwcmVwYXJlZE1lYXN1cmUpIHByZXBhcmVkTWVhc3VyZSA9IHByZXBhcmVNZWFzdXJlRm9yTGluZShjbSwgbGluZU9iaik7XG4gICAgZnVuY3Rpb24gZ2V0KGNoLCByaWdodCkge1xuICAgICAgdmFyIG0gPSBtZWFzdXJlQ2hhclByZXBhcmVkKGNtLCBwcmVwYXJlZE1lYXN1cmUsIGNoLCByaWdodCA/IFwicmlnaHRcIiA6IFwibGVmdFwiLCB2YXJIZWlnaHQpO1xuICAgICAgaWYgKHJpZ2h0KSBtLmxlZnQgPSBtLnJpZ2h0OyBlbHNlIG0ucmlnaHQgPSBtLmxlZnQ7XG4gICAgICByZXR1cm4gaW50b0Nvb3JkU3lzdGVtKGNtLCBsaW5lT2JqLCBtLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0QmlkaShjaCwgcGFydFBvcykge1xuICAgICAgdmFyIHBhcnQgPSBvcmRlcltwYXJ0UG9zXSwgcmlnaHQgPSBwYXJ0LmxldmVsICUgMjtcbiAgICAgIGlmIChjaCA9PSBiaWRpTGVmdChwYXJ0KSAmJiBwYXJ0UG9zICYmIHBhcnQubGV2ZWwgPCBvcmRlcltwYXJ0UG9zIC0gMV0ubGV2ZWwpIHtcbiAgICAgICAgcGFydCA9IG9yZGVyWy0tcGFydFBvc107XG4gICAgICAgIGNoID0gYmlkaVJpZ2h0KHBhcnQpIC0gKHBhcnQubGV2ZWwgJSAyID8gMCA6IDEpO1xuICAgICAgICByaWdodCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGNoID09IGJpZGlSaWdodChwYXJ0KSAmJiBwYXJ0UG9zIDwgb3JkZXIubGVuZ3RoIC0gMSAmJiBwYXJ0LmxldmVsIDwgb3JkZXJbcGFydFBvcyArIDFdLmxldmVsKSB7XG4gICAgICAgIHBhcnQgPSBvcmRlclsrK3BhcnRQb3NdO1xuICAgICAgICBjaCA9IGJpZGlMZWZ0KHBhcnQpIC0gcGFydC5sZXZlbCAlIDI7XG4gICAgICAgIHJpZ2h0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAocmlnaHQgJiYgY2ggPT0gcGFydC50byAmJiBjaCA+IHBhcnQuZnJvbSkgcmV0dXJuIGdldChjaCAtIDEpO1xuICAgICAgcmV0dXJuIGdldChjaCwgcmlnaHQpO1xuICAgIH1cbiAgICB2YXIgb3JkZXIgPSBnZXRPcmRlcihsaW5lT2JqKSwgY2ggPSBwb3MuY2g7XG4gICAgaWYgKCFvcmRlcikgcmV0dXJuIGdldChjaCk7XG4gICAgdmFyIHBhcnRQb3MgPSBnZXRCaWRpUGFydEF0KG9yZGVyLCBjaCk7XG4gICAgdmFyIHZhbCA9IGdldEJpZGkoY2gsIHBhcnRQb3MpO1xuICAgIGlmIChiaWRpT3RoZXIgIT0gbnVsbCkgdmFsLm90aGVyID0gZ2V0QmlkaShjaCwgYmlkaU90aGVyKTtcbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgLy8gVXNlZCB0byBjaGVhcGx5IGVzdGltYXRlIHRoZSBjb29yZGluYXRlcyBmb3IgYSBwb3NpdGlvbi4gVXNlZCBmb3JcbiAgLy8gaW50ZXJtZWRpYXRlIHNjcm9sbCB1cGRhdGVzLlxuICBmdW5jdGlvbiBlc3RpbWF0ZUNvb3JkcyhjbSwgcG9zKSB7XG4gICAgdmFyIGxlZnQgPSAwLCBwb3MgPSBjbGlwUG9zKGNtLmRvYywgcG9zKTtcbiAgICBpZiAoIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSBsZWZ0ID0gY2hhcldpZHRoKGNtLmRpc3BsYXkpICogcG9zLmNoO1xuICAgIHZhciBsaW5lT2JqID0gZ2V0TGluZShjbS5kb2MsIHBvcy5saW5lKTtcbiAgICB2YXIgdG9wID0gaGVpZ2h0QXRMaW5lKGxpbmVPYmopICsgcGFkZGluZ1RvcChjbS5kaXNwbGF5KTtcbiAgICByZXR1cm4ge2xlZnQ6IGxlZnQsIHJpZ2h0OiBsZWZ0LCB0b3A6IHRvcCwgYm90dG9tOiB0b3AgKyBsaW5lT2JqLmhlaWdodH07XG4gIH1cblxuICAvLyBQb3NpdGlvbnMgcmV0dXJuZWQgYnkgY29vcmRzQ2hhciBjb250YWluIHNvbWUgZXh0cmEgaW5mb3JtYXRpb24uXG4gIC8vIHhSZWwgaXMgdGhlIHJlbGF0aXZlIHggcG9zaXRpb24gb2YgdGhlIGlucHV0IGNvb3JkaW5hdGVzIGNvbXBhcmVkXG4gIC8vIHRvIHRoZSBmb3VuZCBwb3NpdGlvbiAoc28geFJlbCA+IDAgbWVhbnMgdGhlIGNvb3JkaW5hdGVzIGFyZSB0b1xuICAvLyB0aGUgcmlnaHQgb2YgdGhlIGNoYXJhY3RlciBwb3NpdGlvbiwgZm9yIGV4YW1wbGUpLiBXaGVuIG91dHNpZGVcbiAgLy8gaXMgdHJ1ZSwgdGhhdCBtZWFucyB0aGUgY29vcmRpbmF0ZXMgbGllIG91dHNpZGUgdGhlIGxpbmUnc1xuICAvLyB2ZXJ0aWNhbCByYW5nZS5cbiAgZnVuY3Rpb24gUG9zV2l0aEluZm8obGluZSwgY2gsIG91dHNpZGUsIHhSZWwpIHtcbiAgICB2YXIgcG9zID0gUG9zKGxpbmUsIGNoKTtcbiAgICBwb3MueFJlbCA9IHhSZWw7XG4gICAgaWYgKG91dHNpZGUpIHBvcy5vdXRzaWRlID0gdHJ1ZTtcbiAgICByZXR1cm4gcG9zO1xuICB9XG5cbiAgLy8gQ29tcHV0ZSB0aGUgY2hhcmFjdGVyIHBvc2l0aW9uIGNsb3Nlc3QgdG8gdGhlIGdpdmVuIGNvb3JkaW5hdGVzLlxuICAvLyBJbnB1dCBtdXN0IGJlIGxpbmVTcGFjZS1sb2NhbCAoXCJkaXZcIiBjb29yZGluYXRlIHN5c3RlbSkuXG4gIGZ1bmN0aW9uIGNvb3Jkc0NoYXIoY20sIHgsIHkpIHtcbiAgICB2YXIgZG9jID0gY20uZG9jO1xuICAgIHkgKz0gY20uZGlzcGxheS52aWV3T2Zmc2V0O1xuICAgIGlmICh5IDwgMCkgcmV0dXJuIFBvc1dpdGhJbmZvKGRvYy5maXJzdCwgMCwgdHJ1ZSwgLTEpO1xuICAgIHZhciBsaW5lTiA9IGxpbmVBdEhlaWdodChkb2MsIHkpLCBsYXN0ID0gZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxO1xuICAgIGlmIChsaW5lTiA+IGxhc3QpXG4gICAgICByZXR1cm4gUG9zV2l0aEluZm8oZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxLCBnZXRMaW5lKGRvYywgbGFzdCkudGV4dC5sZW5ndGgsIHRydWUsIDEpO1xuICAgIGlmICh4IDwgMCkgeCA9IDA7XG5cbiAgICB2YXIgbGluZU9iaiA9IGdldExpbmUoZG9jLCBsaW5lTik7XG4gICAgZm9yICg7Oykge1xuICAgICAgdmFyIGZvdW5kID0gY29vcmRzQ2hhcklubmVyKGNtLCBsaW5lT2JqLCBsaW5lTiwgeCwgeSk7XG4gICAgICB2YXIgbWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0RW5kKGxpbmVPYmopO1xuICAgICAgdmFyIG1lcmdlZFBvcyA9IG1lcmdlZCAmJiBtZXJnZWQuZmluZCgwLCB0cnVlKTtcbiAgICAgIGlmIChtZXJnZWQgJiYgKGZvdW5kLmNoID4gbWVyZ2VkUG9zLmZyb20uY2ggfHwgZm91bmQuY2ggPT0gbWVyZ2VkUG9zLmZyb20uY2ggJiYgZm91bmQueFJlbCA+IDApKVxuICAgICAgICBsaW5lTiA9IGxpbmVObyhsaW5lT2JqID0gbWVyZ2VkUG9zLnRvLmxpbmUpO1xuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29vcmRzQ2hhcklubmVyKGNtLCBsaW5lT2JqLCBsaW5lTm8sIHgsIHkpIHtcbiAgICB2YXIgaW5uZXJPZmYgPSB5IC0gaGVpZ2h0QXRMaW5lKGxpbmVPYmopO1xuICAgIHZhciB3cm9uZ0xpbmUgPSBmYWxzZSwgYWRqdXN0ID0gMiAqIGNtLmRpc3BsYXkud3JhcHBlci5jbGllbnRXaWR0aDtcbiAgICB2YXIgcHJlcGFyZWRNZWFzdXJlID0gcHJlcGFyZU1lYXN1cmVGb3JMaW5lKGNtLCBsaW5lT2JqKTtcblxuICAgIGZ1bmN0aW9uIGdldFgoY2gpIHtcbiAgICAgIHZhciBzcCA9IGN1cnNvckNvb3JkcyhjbSwgUG9zKGxpbmVObywgY2gpLCBcImxpbmVcIiwgbGluZU9iaiwgcHJlcGFyZWRNZWFzdXJlKTtcbiAgICAgIHdyb25nTGluZSA9IHRydWU7XG4gICAgICBpZiAoaW5uZXJPZmYgPiBzcC5ib3R0b20pIHJldHVybiBzcC5sZWZ0IC0gYWRqdXN0O1xuICAgICAgZWxzZSBpZiAoaW5uZXJPZmYgPCBzcC50b3ApIHJldHVybiBzcC5sZWZ0ICsgYWRqdXN0O1xuICAgICAgZWxzZSB3cm9uZ0xpbmUgPSBmYWxzZTtcbiAgICAgIHJldHVybiBzcC5sZWZ0O1xuICAgIH1cblxuICAgIHZhciBiaWRpID0gZ2V0T3JkZXIobGluZU9iaiksIGRpc3QgPSBsaW5lT2JqLnRleHQubGVuZ3RoO1xuICAgIHZhciBmcm9tID0gbGluZUxlZnQobGluZU9iaiksIHRvID0gbGluZVJpZ2h0KGxpbmVPYmopO1xuICAgIHZhciBmcm9tWCA9IGdldFgoZnJvbSksIGZyb21PdXRzaWRlID0gd3JvbmdMaW5lLCB0b1ggPSBnZXRYKHRvKSwgdG9PdXRzaWRlID0gd3JvbmdMaW5lO1xuXG4gICAgaWYgKHggPiB0b1gpIHJldHVybiBQb3NXaXRoSW5mbyhsaW5lTm8sIHRvLCB0b091dHNpZGUsIDEpO1xuICAgIC8vIERvIGEgYmluYXJ5IHNlYXJjaCBiZXR3ZWVuIHRoZXNlIGJvdW5kcy5cbiAgICBmb3IgKDs7KSB7XG4gICAgICBpZiAoYmlkaSA/IHRvID09IGZyb20gfHwgdG8gPT0gbW92ZVZpc3VhbGx5KGxpbmVPYmosIGZyb20sIDEpIDogdG8gLSBmcm9tIDw9IDEpIHtcbiAgICAgICAgdmFyIGNoID0geCA8IGZyb21YIHx8IHggLSBmcm9tWCA8PSB0b1ggLSB4ID8gZnJvbSA6IHRvO1xuICAgICAgICB2YXIgeERpZmYgPSB4IC0gKGNoID09IGZyb20gPyBmcm9tWCA6IHRvWCk7XG4gICAgICAgIHdoaWxlIChpc0V4dGVuZGluZ0NoYXIobGluZU9iai50ZXh0LmNoYXJBdChjaCkpKSArK2NoO1xuICAgICAgICB2YXIgcG9zID0gUG9zV2l0aEluZm8obGluZU5vLCBjaCwgY2ggPT0gZnJvbSA/IGZyb21PdXRzaWRlIDogdG9PdXRzaWRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeERpZmYgPCAtMSA/IC0xIDogeERpZmYgPiAxID8gMSA6IDApO1xuICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgfVxuICAgICAgdmFyIHN0ZXAgPSBNYXRoLmNlaWwoZGlzdCAvIDIpLCBtaWRkbGUgPSBmcm9tICsgc3RlcDtcbiAgICAgIGlmIChiaWRpKSB7XG4gICAgICAgIG1pZGRsZSA9IGZyb207XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RlcDsgKytpKSBtaWRkbGUgPSBtb3ZlVmlzdWFsbHkobGluZU9iaiwgbWlkZGxlLCAxKTtcbiAgICAgIH1cbiAgICAgIHZhciBtaWRkbGVYID0gZ2V0WChtaWRkbGUpO1xuICAgICAgaWYgKG1pZGRsZVggPiB4KSB7dG8gPSBtaWRkbGU7IHRvWCA9IG1pZGRsZVg7IGlmICh0b091dHNpZGUgPSB3cm9uZ0xpbmUpIHRvWCArPSAxMDAwOyBkaXN0ID0gc3RlcDt9XG4gICAgICBlbHNlIHtmcm9tID0gbWlkZGxlOyBmcm9tWCA9IG1pZGRsZVg7IGZyb21PdXRzaWRlID0gd3JvbmdMaW5lOyBkaXN0IC09IHN0ZXA7fVxuICAgIH1cbiAgfVxuXG4gIHZhciBtZWFzdXJlVGV4dDtcbiAgLy8gQ29tcHV0ZSB0aGUgZGVmYXVsdCB0ZXh0IGhlaWdodC5cbiAgZnVuY3Rpb24gdGV4dEhlaWdodChkaXNwbGF5KSB7XG4gICAgaWYgKGRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodCAhPSBudWxsKSByZXR1cm4gZGlzcGxheS5jYWNoZWRUZXh0SGVpZ2h0O1xuICAgIGlmIChtZWFzdXJlVGV4dCA9PSBudWxsKSB7XG4gICAgICBtZWFzdXJlVGV4dCA9IGVsdChcInByZVwiKTtcbiAgICAgIC8vIE1lYXN1cmUgYSBidW5jaCBvZiBsaW5lcywgZm9yIGJyb3dzZXJzIHRoYXQgY29tcHV0ZVxuICAgICAgLy8gZnJhY3Rpb25hbCBoZWlnaHRzLlxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OTsgKytpKSB7XG4gICAgICAgIG1lYXN1cmVUZXh0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwieFwiKSk7XG4gICAgICAgIG1lYXN1cmVUZXh0LmFwcGVuZENoaWxkKGVsdChcImJyXCIpKTtcbiAgICAgIH1cbiAgICAgIG1lYXN1cmVUZXh0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwieFwiKSk7XG4gICAgfVxuICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGRpc3BsYXkubWVhc3VyZSwgbWVhc3VyZVRleHQpO1xuICAgIHZhciBoZWlnaHQgPSBtZWFzdXJlVGV4dC5vZmZzZXRIZWlnaHQgLyA1MDtcbiAgICBpZiAoaGVpZ2h0ID4gMykgZGlzcGxheS5jYWNoZWRUZXh0SGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHJlbW92ZUNoaWxkcmVuKGRpc3BsYXkubWVhc3VyZSk7XG4gICAgcmV0dXJuIGhlaWdodCB8fCAxO1xuICB9XG5cbiAgLy8gQ29tcHV0ZSB0aGUgZGVmYXVsdCBjaGFyYWN0ZXIgd2lkdGguXG4gIGZ1bmN0aW9uIGNoYXJXaWR0aChkaXNwbGF5KSB7XG4gICAgaWYgKGRpc3BsYXkuY2FjaGVkQ2hhcldpZHRoICE9IG51bGwpIHJldHVybiBkaXNwbGF5LmNhY2hlZENoYXJXaWR0aDtcbiAgICB2YXIgYW5jaG9yID0gZWx0KFwic3BhblwiLCBcInh4eHh4eHh4eHhcIik7XG4gICAgdmFyIHByZSA9IGVsdChcInByZVwiLCBbYW5jaG9yXSk7XG4gICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoZGlzcGxheS5tZWFzdXJlLCBwcmUpO1xuICAgIHZhciByZWN0ID0gYW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB3aWR0aCA9IChyZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0KSAvIDEwO1xuICAgIGlmICh3aWR0aCA+IDIpIGRpc3BsYXkuY2FjaGVkQ2hhcldpZHRoID0gd2lkdGg7XG4gICAgcmV0dXJuIHdpZHRoIHx8IDEwO1xuICB9XG5cbiAgLy8gT1BFUkFUSU9OU1xuXG4gIC8vIE9wZXJhdGlvbnMgYXJlIHVzZWQgdG8gd3JhcCBhIHNlcmllcyBvZiBjaGFuZ2VzIHRvIHRoZSBlZGl0b3JcbiAgLy8gc3RhdGUgaW4gc3VjaCBhIHdheSB0aGF0IGVhY2ggY2hhbmdlIHdvbid0IGhhdmUgdG8gdXBkYXRlIHRoZVxuICAvLyBjdXJzb3IgYW5kIGRpc3BsYXkgKHdoaWNoIHdvdWxkIGJlIGF3a3dhcmQsIHNsb3csIGFuZFxuICAvLyBlcnJvci1wcm9uZSkuIEluc3RlYWQsIGRpc3BsYXkgdXBkYXRlcyBhcmUgYmF0Y2hlZCBhbmQgdGhlbiBhbGxcbiAgLy8gY29tYmluZWQgYW5kIGV4ZWN1dGVkIGF0IG9uY2UuXG5cbiAgdmFyIG9wZXJhdGlvbkdyb3VwID0gbnVsbDtcblxuICB2YXIgbmV4dE9wSWQgPSAwO1xuICAvLyBTdGFydCBhIG5ldyBvcGVyYXRpb24uXG4gIGZ1bmN0aW9uIHN0YXJ0T3BlcmF0aW9uKGNtKSB7XG4gICAgY20uY3VyT3AgPSB7XG4gICAgICBjbTogY20sXG4gICAgICB2aWV3Q2hhbmdlZDogZmFsc2UsICAgICAgLy8gRmxhZyB0aGF0IGluZGljYXRlcyB0aGF0IGxpbmVzIG1pZ2h0IG5lZWQgdG8gYmUgcmVkcmF3blxuICAgICAgc3RhcnRIZWlnaHQ6IGNtLmRvYy5oZWlnaHQsIC8vIFVzZWQgdG8gZGV0ZWN0IG5lZWQgdG8gdXBkYXRlIHNjcm9sbGJhclxuICAgICAgZm9yY2VVcGRhdGU6IGZhbHNlLCAgICAgIC8vIFVzZWQgdG8gZm9yY2UgYSByZWRyYXdcbiAgICAgIHVwZGF0ZUlucHV0OiBudWxsLCAgICAgICAvLyBXaGV0aGVyIHRvIHJlc2V0IHRoZSBpbnB1dCB0ZXh0YXJlYVxuICAgICAgdHlwaW5nOiBmYWxzZSwgICAgICAgICAgIC8vIFdoZXRoZXIgdGhpcyByZXNldCBzaG91bGQgYmUgY2FyZWZ1bCB0byBsZWF2ZSBleGlzdGluZyB0ZXh0IChmb3IgY29tcG9zaXRpbmcpXG4gICAgICBjaGFuZ2VPYmpzOiBudWxsLCAgICAgICAgLy8gQWNjdW11bGF0ZWQgY2hhbmdlcywgZm9yIGZpcmluZyBjaGFuZ2UgZXZlbnRzXG4gICAgICBjdXJzb3JBY3Rpdml0eUhhbmRsZXJzOiBudWxsLCAvLyBTZXQgb2YgaGFuZGxlcnMgdG8gZmlyZSBjdXJzb3JBY3Rpdml0eSBvblxuICAgICAgY3Vyc29yQWN0aXZpdHlDYWxsZWQ6IDAsIC8vIFRyYWNrcyB3aGljaCBjdXJzb3JBY3Rpdml0eSBoYW5kbGVycyBoYXZlIGJlZW4gY2FsbGVkIGFscmVhZHlcbiAgICAgIHNlbGVjdGlvbkNoYW5nZWQ6IGZhbHNlLCAvLyBXaGV0aGVyIHRoZSBzZWxlY3Rpb24gbmVlZHMgdG8gYmUgcmVkcmF3blxuICAgICAgdXBkYXRlTWF4TGluZTogZmFsc2UsICAgIC8vIFNldCB3aGVuIHRoZSB3aWRlc3QgbGluZSBuZWVkcyB0byBiZSBkZXRlcm1pbmVkIGFuZXdcbiAgICAgIHNjcm9sbExlZnQ6IG51bGwsIHNjcm9sbFRvcDogbnVsbCwgLy8gSW50ZXJtZWRpYXRlIHNjcm9sbCBwb3NpdGlvbiwgbm90IHB1c2hlZCB0byBET00geWV0XG4gICAgICBzY3JvbGxUb1BvczogbnVsbCwgICAgICAgLy8gVXNlZCB0byBzY3JvbGwgdG8gYSBzcGVjaWZpYyBwb3NpdGlvblxuICAgICAgaWQ6ICsrbmV4dE9wSWQgICAgICAgICAgIC8vIFVuaXF1ZSBJRFxuICAgIH07XG4gICAgaWYgKG9wZXJhdGlvbkdyb3VwKSB7XG4gICAgICBvcGVyYXRpb25Hcm91cC5vcHMucHVzaChjbS5jdXJPcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNtLmN1ck9wLm93bnNHcm91cCA9IG9wZXJhdGlvbkdyb3VwID0ge1xuICAgICAgICBvcHM6IFtjbS5jdXJPcF0sXG4gICAgICAgIGRlbGF5ZWRDYWxsYmFja3M6IFtdXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpcmVDYWxsYmFja3NGb3JPcHMoZ3JvdXApIHtcbiAgICAvLyBDYWxscyBkZWxheWVkIGNhbGxiYWNrcyBhbmQgY3Vyc29yQWN0aXZpdHkgaGFuZGxlcnMgdW50aWwgbm9cbiAgICAvLyBuZXcgb25lcyBhcHBlYXJcbiAgICB2YXIgY2FsbGJhY2tzID0gZ3JvdXAuZGVsYXllZENhbGxiYWNrcywgaSA9IDA7XG4gICAgZG8ge1xuICAgICAgZm9yICg7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspXG4gICAgICAgIGNhbGxiYWNrc1tpXSgpO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBncm91cC5vcHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmFyIG9wID0gZ3JvdXAub3BzW2pdO1xuICAgICAgICBpZiAob3AuY3Vyc29yQWN0aXZpdHlIYW5kbGVycylcbiAgICAgICAgICB3aGlsZSAob3AuY3Vyc29yQWN0aXZpdHlDYWxsZWQgPCBvcC5jdXJzb3JBY3Rpdml0eUhhbmRsZXJzLmxlbmd0aClcbiAgICAgICAgICAgIG9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnNbb3AuY3Vyc29yQWN0aXZpdHlDYWxsZWQrK10ob3AuY20pO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKGkgPCBjYWxsYmFja3MubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIEZpbmlzaCBhbiBvcGVyYXRpb24sIHVwZGF0aW5nIHRoZSBkaXNwbGF5IGFuZCBzaWduYWxsaW5nIGRlbGF5ZWQgZXZlbnRzXG4gIGZ1bmN0aW9uIGVuZE9wZXJhdGlvbihjbSkge1xuICAgIHZhciBvcCA9IGNtLmN1ck9wLCBncm91cCA9IG9wLm93bnNHcm91cDtcbiAgICBpZiAoIWdyb3VwKSByZXR1cm47XG5cbiAgICB0cnkgeyBmaXJlQ2FsbGJhY2tzRm9yT3BzKGdyb3VwKTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgb3BlcmF0aW9uR3JvdXAgPSBudWxsO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cC5vcHMubGVuZ3RoOyBpKyspXG4gICAgICAgIGdyb3VwLm9wc1tpXS5jbS5jdXJPcCA9IG51bGw7XG4gICAgICBlbmRPcGVyYXRpb25zKGdyb3VwKTtcbiAgICB9XG4gIH1cblxuICAvLyBUaGUgRE9NIHVwZGF0ZXMgZG9uZSB3aGVuIGFuIG9wZXJhdGlvbiBmaW5pc2hlcyBhcmUgYmF0Y2hlZCBzb1xuICAvLyB0aGF0IHRoZSBtaW5pbXVtIG51bWJlciBvZiByZWxheW91dHMgYXJlIHJlcXVpcmVkLlxuICBmdW5jdGlvbiBlbmRPcGVyYXRpb25zKGdyb3VwKSB7XG4gICAgdmFyIG9wcyA9IGdyb3VwLm9wcztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wcy5sZW5ndGg7IGkrKykgLy8gUmVhZCBET01cbiAgICAgIGVuZE9wZXJhdGlvbl9SMShvcHNbaV0pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BzLmxlbmd0aDsgaSsrKSAvLyBXcml0ZSBET00gKG1heWJlKVxuICAgICAgZW5kT3BlcmF0aW9uX1cxKG9wc1tpXSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHMubGVuZ3RoOyBpKyspIC8vIFJlYWQgRE9NXG4gICAgICBlbmRPcGVyYXRpb25fUjIob3BzW2ldKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wcy5sZW5ndGg7IGkrKykgLy8gV3JpdGUgRE9NIChtYXliZSlcbiAgICAgIGVuZE9wZXJhdGlvbl9XMihvcHNbaV0pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BzLmxlbmd0aDsgaSsrKSAvLyBSZWFkIERPTVxuICAgICAgZW5kT3BlcmF0aW9uX2ZpbmlzaChvcHNbaV0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX1IxKG9wKSB7XG4gICAgdmFyIGNtID0gb3AuY20sIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIGlmIChvcC51cGRhdGVNYXhMaW5lKSBmaW5kTWF4TGluZShjbSk7XG5cbiAgICBvcC5tdXN0VXBkYXRlID0gb3Audmlld0NoYW5nZWQgfHwgb3AuZm9yY2VVcGRhdGUgfHwgb3Auc2Nyb2xsVG9wICE9IG51bGwgfHxcbiAgICAgIG9wLnNjcm9sbFRvUG9zICYmIChvcC5zY3JvbGxUb1Bvcy5mcm9tLmxpbmUgPCBkaXNwbGF5LnZpZXdGcm9tIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgb3Auc2Nyb2xsVG9Qb3MudG8ubGluZSA+PSBkaXNwbGF5LnZpZXdUbykgfHxcbiAgICAgIGRpc3BsYXkubWF4TGluZUNoYW5nZWQgJiYgY20ub3B0aW9ucy5saW5lV3JhcHBpbmc7XG4gICAgb3AudXBkYXRlID0gb3AubXVzdFVwZGF0ZSAmJlxuICAgICAgbmV3IERpc3BsYXlVcGRhdGUoY20sIG9wLm11c3RVcGRhdGUgJiYge3RvcDogb3Auc2Nyb2xsVG9wLCBlbnN1cmU6IG9wLnNjcm9sbFRvUG9zfSwgb3AuZm9yY2VVcGRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX1cxKG9wKSB7XG4gICAgb3AudXBkYXRlZERpc3BsYXkgPSBvcC5tdXN0VXBkYXRlICYmIHVwZGF0ZURpc3BsYXlJZk5lZWRlZChvcC5jbSwgb3AudXBkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZE9wZXJhdGlvbl9SMihvcCkge1xuICAgIHZhciBjbSA9IG9wLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAob3AudXBkYXRlZERpc3BsYXkpIHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKTtcblxuICAgIG9wLmJhck1lYXN1cmUgPSBtZWFzdXJlRm9yU2Nyb2xsYmFycyhjbSk7XG5cbiAgICAvLyBJZiB0aGUgbWF4IGxpbmUgY2hhbmdlZCBzaW5jZSBpdCB3YXMgbGFzdCBtZWFzdXJlZCwgbWVhc3VyZSBpdCxcbiAgICAvLyBhbmQgZW5zdXJlIHRoZSBkb2N1bWVudCdzIHdpZHRoIG1hdGNoZXMgaXQuXG4gICAgLy8gdXBkYXRlRGlzcGxheV9XMiB3aWxsIHVzZSB0aGVzZSBwcm9wZXJ0aWVzIHRvIGRvIHRoZSBhY3R1YWwgcmVzaXppbmdcbiAgICBpZiAoZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCAmJiAhY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHtcbiAgICAgIG9wLmFkanVzdFdpZHRoVG8gPSBtZWFzdXJlQ2hhcihjbSwgZGlzcGxheS5tYXhMaW5lLCBkaXNwbGF5Lm1heExpbmUudGV4dC5sZW5ndGgpLmxlZnQgKyAzO1xuICAgICAgb3AubWF4U2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIGRpc3BsYXkuc2l6ZXIub2Zmc2V0TGVmdCArIG9wLmFkanVzdFdpZHRoVG8gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGVyQ3V0T2ZmIC0gZGlzcGxheS5zY3JvbGxlci5jbGllbnRXaWR0aCk7XG4gICAgfVxuXG4gICAgaWYgKG9wLnVwZGF0ZWREaXNwbGF5IHx8IG9wLnNlbGVjdGlvbkNoYW5nZWQpXG4gICAgICBvcC5uZXdTZWxlY3Rpb25Ob2RlcyA9IGRyYXdTZWxlY3Rpb24oY20pO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX1cyKG9wKSB7XG4gICAgdmFyIGNtID0gb3AuY207XG5cbiAgICBpZiAob3AuYWRqdXN0V2lkdGhUbyAhPSBudWxsKSB7XG4gICAgICBjbS5kaXNwbGF5LnNpemVyLnN0eWxlLm1pbldpZHRoID0gb3AuYWRqdXN0V2lkdGhUbyArIFwicHhcIjtcbiAgICAgIGlmIChvcC5tYXhTY3JvbGxMZWZ0IDwgY20uZG9jLnNjcm9sbExlZnQpXG4gICAgICAgIHNldFNjcm9sbExlZnQoY20sIE1hdGgubWluKGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCwgb3AubWF4U2Nyb2xsTGVmdCksIHRydWUpO1xuICAgICAgY20uZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChvcC5uZXdTZWxlY3Rpb25Ob2RlcylcbiAgICAgIHNob3dTZWxlY3Rpb24oY20sIG9wLm5ld1NlbGVjdGlvbk5vZGVzKTtcbiAgICBpZiAob3AudXBkYXRlZERpc3BsYXkpXG4gICAgICBzZXREb2N1bWVudEhlaWdodChjbSwgb3AuYmFyTWVhc3VyZSk7XG4gICAgaWYgKG9wLnVwZGF0ZWREaXNwbGF5IHx8IG9wLnN0YXJ0SGVpZ2h0ICE9IGNtLmRvYy5oZWlnaHQpXG4gICAgICB1cGRhdGVTY3JvbGxiYXJzKGNtLCBvcC5iYXJNZWFzdXJlKTtcblxuICAgIGlmIChvcC5zZWxlY3Rpb25DaGFuZ2VkKSByZXN0YXJ0QmxpbmsoY20pO1xuXG4gICAgaWYgKGNtLnN0YXRlLmZvY3VzZWQgJiYgb3AudXBkYXRlSW5wdXQpXG4gICAgICByZXNldElucHV0KGNtLCBvcC50eXBpbmcpO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX2ZpbmlzaChvcCkge1xuICAgIHZhciBjbSA9IG9wLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jO1xuXG4gICAgaWYgKG9wLmFkanVzdFdpZHRoVG8gIT0gbnVsbCAmJiBNYXRoLmFicyhvcC5iYXJNZWFzdXJlLnNjcm9sbFdpZHRoIC0gY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxXaWR0aCkgPiAxKVxuICAgICAgdXBkYXRlU2Nyb2xsYmFycyhjbSk7XG5cbiAgICBpZiAob3AudXBkYXRlZERpc3BsYXkpIHBvc3RVcGRhdGVEaXNwbGF5KGNtLCBvcC51cGRhdGUpO1xuXG4gICAgLy8gQWJvcnQgbW91c2Ugd2hlZWwgZGVsdGEgbWVhc3VyZW1lbnQsIHdoZW4gc2Nyb2xsaW5nIGV4cGxpY2l0bHlcbiAgICBpZiAoZGlzcGxheS53aGVlbFN0YXJ0WCAhPSBudWxsICYmIChvcC5zY3JvbGxUb3AgIT0gbnVsbCB8fCBvcC5zY3JvbGxMZWZ0ICE9IG51bGwgfHwgb3Auc2Nyb2xsVG9Qb3MpKVxuICAgICAgZGlzcGxheS53aGVlbFN0YXJ0WCA9IGRpc3BsYXkud2hlZWxTdGFydFkgPSBudWxsO1xuXG4gICAgLy8gUHJvcGFnYXRlIHRoZSBzY3JvbGwgcG9zaXRpb24gdG8gdGhlIGFjdHVhbCBET00gc2Nyb2xsZXJcbiAgICBpZiAob3Auc2Nyb2xsVG9wICE9IG51bGwgJiYgKGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wICE9IG9wLnNjcm9sbFRvcCB8fCBvcC5mb3JjZVNjcm9sbCkpIHtcbiAgICAgIHZhciB0b3AgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbEhlaWdodCAtIGRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0LCBvcC5zY3JvbGxUb3ApKTtcbiAgICAgIGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wID0gZGlzcGxheS5zY3JvbGxiYXJWLnNjcm9sbFRvcCA9IGRvYy5zY3JvbGxUb3AgPSB0b3A7XG4gICAgfVxuICAgIGlmIChvcC5zY3JvbGxMZWZ0ICE9IG51bGwgJiYgKGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCAhPSBvcC5zY3JvbGxMZWZ0IHx8IG9wLmZvcmNlU2Nyb2xsKSkge1xuICAgICAgdmFyIGxlZnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFdpZHRoIC0gZGlzcGxheS5zY3JvbGxlci5jbGllbnRXaWR0aCwgb3Auc2Nyb2xsTGVmdCkpO1xuICAgICAgZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ID0gZGlzcGxheS5zY3JvbGxiYXJILnNjcm9sbExlZnQgPSBkb2Muc2Nyb2xsTGVmdCA9IGxlZnQ7XG4gICAgICBhbGlnbkhvcml6b250YWxseShjbSk7XG4gICAgfVxuICAgIC8vIElmIHdlIG5lZWQgdG8gc2Nyb2xsIGEgc3BlY2lmaWMgcG9zaXRpb24gaW50byB2aWV3LCBkbyBzby5cbiAgICBpZiAob3Auc2Nyb2xsVG9Qb3MpIHtcbiAgICAgIHZhciBjb29yZHMgPSBzY3JvbGxQb3NJbnRvVmlldyhjbSwgY2xpcFBvcyhkb2MsIG9wLnNjcm9sbFRvUG9zLmZyb20pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBQb3MoZG9jLCBvcC5zY3JvbGxUb1Bvcy50byksIG9wLnNjcm9sbFRvUG9zLm1hcmdpbik7XG4gICAgICBpZiAob3Auc2Nyb2xsVG9Qb3MuaXNDdXJzb3IgJiYgY20uc3RhdGUuZm9jdXNlZCkgbWF5YmVTY3JvbGxXaW5kb3coY20sIGNvb3Jkcyk7XG4gICAgfVxuXG4gICAgLy8gRmlyZSBldmVudHMgZm9yIG1hcmtlcnMgdGhhdCBhcmUgaGlkZGVuL3VuaWRkZW4gYnkgZWRpdGluZyBvclxuICAgIC8vIHVuZG9pbmdcbiAgICB2YXIgaGlkZGVuID0gb3AubWF5YmVIaWRkZW5NYXJrZXJzLCB1bmhpZGRlbiA9IG9wLm1heWJlVW5oaWRkZW5NYXJrZXJzO1xuICAgIGlmIChoaWRkZW4pIGZvciAodmFyIGkgPSAwOyBpIDwgaGlkZGVuLmxlbmd0aDsgKytpKVxuICAgICAgaWYgKCFoaWRkZW5baV0ubGluZXMubGVuZ3RoKSBzaWduYWwoaGlkZGVuW2ldLCBcImhpZGVcIik7XG4gICAgaWYgKHVuaGlkZGVuKSBmb3IgKHZhciBpID0gMDsgaSA8IHVuaGlkZGVuLmxlbmd0aDsgKytpKVxuICAgICAgaWYgKHVuaGlkZGVuW2ldLmxpbmVzLmxlbmd0aCkgc2lnbmFsKHVuaGlkZGVuW2ldLCBcInVuaGlkZVwiKTtcblxuICAgIGlmIChkaXNwbGF5LndyYXBwZXIub2Zmc2V0SGVpZ2h0KVxuICAgICAgZG9jLnNjcm9sbFRvcCA9IGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wO1xuXG4gICAgLy8gQXBwbHkgd29ya2Fyb3VuZCBmb3IgdHdvIHdlYmtpdCBidWdzXG4gICAgaWYgKG9wLnVwZGF0ZWREaXNwbGF5ICYmIHdlYmtpdCkge1xuICAgICAgaWYgKGNtLm9wdGlvbnMubGluZVdyYXBwaW5nKVxuICAgICAgICBjaGVja0ZvcldlYmtpdFdpZHRoQnVnKGNtLCBvcC5iYXJNZWFzdXJlKTsgLy8gKElzc3VlICMyNDIwKVxuICAgICAgaWYgKG9wLmJhck1lYXN1cmUuc2Nyb2xsV2lkdGggPiBvcC5iYXJNZWFzdXJlLmNsaWVudFdpZHRoICYmXG4gICAgICAgICAgb3AuYmFyTWVhc3VyZS5zY3JvbGxXaWR0aCA8IG9wLmJhck1lYXN1cmUuY2xpZW50V2lkdGggKyAxICYmXG4gICAgICAgICAgIWhTY3JvbGxiYXJUYWtlc1NwYWNlKGNtKSlcbiAgICAgICAgdXBkYXRlU2Nyb2xsYmFycyhjbSk7IC8vIChJc3N1ZSAjMjU2MilcbiAgICB9XG5cbiAgICAvLyBGaXJlIGNoYW5nZSBldmVudHMsIGFuZCBkZWxheWVkIGV2ZW50IGhhbmRsZXJzXG4gICAgaWYgKG9wLmNoYW5nZU9ianMpXG4gICAgICBzaWduYWwoY20sIFwiY2hhbmdlc1wiLCBjbSwgb3AuY2hhbmdlT2Jqcyk7XG4gIH1cblxuICAvLyBSdW4gdGhlIGdpdmVuIGZ1bmN0aW9uIGluIGFuIG9wZXJhdGlvblxuICBmdW5jdGlvbiBydW5Jbk9wKGNtLCBmKSB7XG4gICAgaWYgKGNtLmN1ck9wKSByZXR1cm4gZigpO1xuICAgIHN0YXJ0T3BlcmF0aW9uKGNtKTtcbiAgICB0cnkgeyByZXR1cm4gZigpOyB9XG4gICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbihjbSk7IH1cbiAgfVxuICAvLyBXcmFwcyBhIGZ1bmN0aW9uIGluIGFuIG9wZXJhdGlvbi4gUmV0dXJucyB0aGUgd3JhcHBlZCBmdW5jdGlvbi5cbiAgZnVuY3Rpb24gb3BlcmF0aW9uKGNtLCBmKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGNtLmN1ck9wKSByZXR1cm4gZi5hcHBseShjbSwgYXJndW1lbnRzKTtcbiAgICAgIHN0YXJ0T3BlcmF0aW9uKGNtKTtcbiAgICAgIHRyeSB7IHJldHVybiBmLmFwcGx5KGNtLCBhcmd1bWVudHMpOyB9XG4gICAgICBmaW5hbGx5IHsgZW5kT3BlcmF0aW9uKGNtKTsgfVxuICAgIH07XG4gIH1cbiAgLy8gVXNlZCB0byBhZGQgbWV0aG9kcyB0byBlZGl0b3IgYW5kIGRvYyBpbnN0YW5jZXMsIHdyYXBwaW5nIHRoZW0gaW5cbiAgLy8gb3BlcmF0aW9ucy5cbiAgZnVuY3Rpb24gbWV0aG9kT3AoZikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmN1ck9wKSByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgc3RhcnRPcGVyYXRpb24odGhpcyk7XG4gICAgICB0cnkgeyByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG4gICAgICBmaW5hbGx5IHsgZW5kT3BlcmF0aW9uKHRoaXMpOyB9XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBkb2NNZXRob2RPcChmKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNtID0gdGhpcy5jbTtcbiAgICAgIGlmICghY20gfHwgY20uY3VyT3ApIHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBzdGFydE9wZXJhdGlvbihjbSk7XG4gICAgICB0cnkgeyByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG4gICAgICBmaW5hbGx5IHsgZW5kT3BlcmF0aW9uKGNtKTsgfVxuICAgIH07XG4gIH1cblxuICAvLyBWSUVXIFRSQUNLSU5HXG5cbiAgLy8gVGhlc2Ugb2JqZWN0cyBhcmUgdXNlZCB0byByZXByZXNlbnQgdGhlIHZpc2libGUgKGN1cnJlbnRseSBkcmF3bilcbiAgLy8gcGFydCBvZiB0aGUgZG9jdW1lbnQuIEEgTGluZVZpZXcgbWF5IGNvcnJlc3BvbmQgdG8gbXVsdGlwbGVcbiAgLy8gbG9naWNhbCBsaW5lcywgaWYgdGhvc2UgYXJlIGNvbm5lY3RlZCBieSBjb2xsYXBzZWQgcmFuZ2VzLlxuICBmdW5jdGlvbiBMaW5lVmlldyhkb2MsIGxpbmUsIGxpbmVOKSB7XG4gICAgLy8gVGhlIHN0YXJ0aW5nIGxpbmVcbiAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIC8vIENvbnRpbnVpbmcgbGluZXMsIGlmIGFueVxuICAgIHRoaXMucmVzdCA9IHZpc3VhbExpbmVDb250aW51ZWQobGluZSk7XG4gICAgLy8gTnVtYmVyIG9mIGxvZ2ljYWwgbGluZXMgaW4gdGhpcyB2aXN1YWwgbGluZVxuICAgIHRoaXMuc2l6ZSA9IHRoaXMucmVzdCA/IGxpbmVObyhsc3QodGhpcy5yZXN0KSkgLSBsaW5lTiArIDEgOiAxO1xuICAgIHRoaXMubm9kZSA9IHRoaXMudGV4dCA9IG51bGw7XG4gICAgdGhpcy5oaWRkZW4gPSBsaW5lSXNIaWRkZW4oZG9jLCBsaW5lKTtcbiAgfVxuXG4gIC8vIENyZWF0ZSBhIHJhbmdlIG9mIExpbmVWaWV3IG9iamVjdHMgZm9yIHRoZSBnaXZlbiBsaW5lcy5cbiAgZnVuY3Rpb24gYnVpbGRWaWV3QXJyYXkoY20sIGZyb20sIHRvKSB7XG4gICAgdmFyIGFycmF5ID0gW10sIG5leHRQb3M7XG4gICAgZm9yICh2YXIgcG9zID0gZnJvbTsgcG9zIDwgdG87IHBvcyA9IG5leHRQb3MpIHtcbiAgICAgIHZhciB2aWV3ID0gbmV3IExpbmVWaWV3KGNtLmRvYywgZ2V0TGluZShjbS5kb2MsIHBvcyksIHBvcyk7XG4gICAgICBuZXh0UG9zID0gcG9zICsgdmlldy5zaXplO1xuICAgICAgYXJyYXkucHVzaCh2aWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLy8gVXBkYXRlcyB0aGUgZGlzcGxheS52aWV3IGRhdGEgc3RydWN0dXJlIGZvciBhIGdpdmVuIGNoYW5nZSB0byB0aGVcbiAgLy8gZG9jdW1lbnQuIEZyb20gYW5kIHRvIGFyZSBpbiBwcmUtY2hhbmdlIGNvb3JkaW5hdGVzLiBMZW5kaWZmIGlzXG4gIC8vIHRoZSBhbW91bnQgb2YgbGluZXMgYWRkZWQgb3Igc3VidHJhY3RlZCBieSB0aGUgY2hhbmdlLiBUaGlzIGlzXG4gIC8vIHVzZWQgZm9yIGNoYW5nZXMgdGhhdCBzcGFuIG11bHRpcGxlIGxpbmVzLCBvciBjaGFuZ2UgdGhlIHdheVxuICAvLyBsaW5lcyBhcmUgZGl2aWRlZCBpbnRvIHZpc3VhbCBsaW5lcy4gcmVnTGluZUNoYW5nZSAoYmVsb3cpXG4gIC8vIHJlZ2lzdGVycyBzaW5nbGUtbGluZSBjaGFuZ2VzLlxuICBmdW5jdGlvbiByZWdDaGFuZ2UoY20sIGZyb20sIHRvLCBsZW5kaWZmKSB7XG4gICAgaWYgKGZyb20gPT0gbnVsbCkgZnJvbSA9IGNtLmRvYy5maXJzdDtcbiAgICBpZiAodG8gPT0gbnVsbCkgdG8gPSBjbS5kb2MuZmlyc3QgKyBjbS5kb2Muc2l6ZTtcbiAgICBpZiAoIWxlbmRpZmYpIGxlbmRpZmYgPSAwO1xuXG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIGlmIChsZW5kaWZmICYmIHRvIDwgZGlzcGxheS52aWV3VG8gJiZcbiAgICAgICAgKGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPT0gbnVsbCB8fCBkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID4gZnJvbSkpXG4gICAgICBkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID0gZnJvbTtcblxuICAgIGNtLmN1ck9wLnZpZXdDaGFuZ2VkID0gdHJ1ZTtcblxuICAgIGlmIChmcm9tID49IGRpc3BsYXkudmlld1RvKSB7IC8vIENoYW5nZSBhZnRlclxuICAgICAgaWYgKHNhd0NvbGxhcHNlZFNwYW5zICYmIHZpc3VhbExpbmVObyhjbS5kb2MsIGZyb20pIDwgZGlzcGxheS52aWV3VG8pXG4gICAgICAgIHJlc2V0VmlldyhjbSk7XG4gICAgfSBlbHNlIGlmICh0byA8PSBkaXNwbGF5LnZpZXdGcm9tKSB7IC8vIENoYW5nZSBiZWZvcmVcbiAgICAgIGlmIChzYXdDb2xsYXBzZWRTcGFucyAmJiB2aXN1YWxMaW5lRW5kTm8oY20uZG9jLCB0byArIGxlbmRpZmYpID4gZGlzcGxheS52aWV3RnJvbSkge1xuICAgICAgICByZXNldFZpZXcoY20pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlzcGxheS52aWV3RnJvbSArPSBsZW5kaWZmO1xuICAgICAgICBkaXNwbGF5LnZpZXdUbyArPSBsZW5kaWZmO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZnJvbSA8PSBkaXNwbGF5LnZpZXdGcm9tICYmIHRvID49IGRpc3BsYXkudmlld1RvKSB7IC8vIEZ1bGwgb3ZlcmxhcFxuICAgICAgcmVzZXRWaWV3KGNtKTtcbiAgICB9IGVsc2UgaWYgKGZyb20gPD0gZGlzcGxheS52aWV3RnJvbSkgeyAvLyBUb3Agb3ZlcmxhcFxuICAgICAgdmFyIGN1dCA9IHZpZXdDdXR0aW5nUG9pbnQoY20sIHRvLCB0byArIGxlbmRpZmYsIDEpO1xuICAgICAgaWYgKGN1dCkge1xuICAgICAgICBkaXNwbGF5LnZpZXcgPSBkaXNwbGF5LnZpZXcuc2xpY2UoY3V0LmluZGV4KTtcbiAgICAgICAgZGlzcGxheS52aWV3RnJvbSA9IGN1dC5saW5lTjtcbiAgICAgICAgZGlzcGxheS52aWV3VG8gKz0gbGVuZGlmZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2V0VmlldyhjbSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0byA+PSBkaXNwbGF5LnZpZXdUbykgeyAvLyBCb3R0b20gb3ZlcmxhcFxuICAgICAgdmFyIGN1dCA9IHZpZXdDdXR0aW5nUG9pbnQoY20sIGZyb20sIGZyb20sIC0xKTtcbiAgICAgIGlmIChjdXQpIHtcbiAgICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKDAsIGN1dC5pbmRleCk7XG4gICAgICAgIGRpc3BsYXkudmlld1RvID0gY3V0LmxpbmVOO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzZXRWaWV3KGNtKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBHYXAgaW4gdGhlIG1pZGRsZVxuICAgICAgdmFyIGN1dFRvcCA9IHZpZXdDdXR0aW5nUG9pbnQoY20sIGZyb20sIGZyb20sIC0xKTtcbiAgICAgIHZhciBjdXRCb3QgPSB2aWV3Q3V0dGluZ1BvaW50KGNtLCB0bywgdG8gKyBsZW5kaWZmLCAxKTtcbiAgICAgIGlmIChjdXRUb3AgJiYgY3V0Qm90KSB7XG4gICAgICAgIGRpc3BsYXkudmlldyA9IGRpc3BsYXkudmlldy5zbGljZSgwLCBjdXRUb3AuaW5kZXgpXG4gICAgICAgICAgLmNvbmNhdChidWlsZFZpZXdBcnJheShjbSwgY3V0VG9wLmxpbmVOLCBjdXRCb3QubGluZU4pKVxuICAgICAgICAgIC5jb25jYXQoZGlzcGxheS52aWV3LnNsaWNlKGN1dEJvdC5pbmRleCkpO1xuICAgICAgICBkaXNwbGF5LnZpZXdUbyArPSBsZW5kaWZmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzZXRWaWV3KGNtKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZXh0ID0gZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkO1xuICAgIGlmIChleHQpIHtcbiAgICAgIGlmICh0byA8IGV4dC5saW5lTilcbiAgICAgICAgZXh0LmxpbmVOICs9IGxlbmRpZmY7XG4gICAgICBlbHNlIGlmIChmcm9tIDwgZXh0LmxpbmVOICsgZXh0LnNpemUpXG4gICAgICAgIGRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gUmVnaXN0ZXIgYSBjaGFuZ2UgdG8gYSBzaW5nbGUgbGluZS4gVHlwZSBtdXN0IGJlIG9uZSBvZiBcInRleHRcIixcbiAgLy8gXCJndXR0ZXJcIiwgXCJjbGFzc1wiLCBcIndpZGdldFwiXG4gIGZ1bmN0aW9uIHJlZ0xpbmVDaGFuZ2UoY20sIGxpbmUsIHR5cGUpIHtcbiAgICBjbS5jdXJPcC52aWV3Q2hhbmdlZCA9IHRydWU7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBleHQgPSBjbS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQ7XG4gICAgaWYgKGV4dCAmJiBsaW5lID49IGV4dC5saW5lTiAmJiBsaW5lIDwgZXh0LmxpbmVOICsgZXh0LnNpemUpXG4gICAgICBkaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQgPSBudWxsO1xuXG4gICAgaWYgKGxpbmUgPCBkaXNwbGF5LnZpZXdGcm9tIHx8IGxpbmUgPj0gZGlzcGxheS52aWV3VG8pIHJldHVybjtcbiAgICB2YXIgbGluZVZpZXcgPSBkaXNwbGF5LnZpZXdbZmluZFZpZXdJbmRleChjbSwgbGluZSldO1xuICAgIGlmIChsaW5lVmlldy5ub2RlID09IG51bGwpIHJldHVybjtcbiAgICB2YXIgYXJyID0gbGluZVZpZXcuY2hhbmdlcyB8fCAobGluZVZpZXcuY2hhbmdlcyA9IFtdKTtcbiAgICBpZiAoaW5kZXhPZihhcnIsIHR5cGUpID09IC0xKSBhcnIucHVzaCh0eXBlKTtcbiAgfVxuXG4gIC8vIENsZWFyIHRoZSB2aWV3LlxuICBmdW5jdGlvbiByZXNldFZpZXcoY20pIHtcbiAgICBjbS5kaXNwbGF5LnZpZXdGcm9tID0gY20uZGlzcGxheS52aWV3VG8gPSBjbS5kb2MuZmlyc3Q7XG4gICAgY20uZGlzcGxheS52aWV3ID0gW107XG4gICAgY20uZGlzcGxheS52aWV3T2Zmc2V0ID0gMDtcbiAgfVxuXG4gIC8vIEZpbmQgdGhlIHZpZXcgZWxlbWVudCBjb3JyZXNwb25kaW5nIHRvIGEgZ2l2ZW4gbGluZS4gUmV0dXJuIG51bGxcbiAgLy8gd2hlbiB0aGUgbGluZSBpc24ndCB2aXNpYmxlLlxuICBmdW5jdGlvbiBmaW5kVmlld0luZGV4KGNtLCBuKSB7XG4gICAgaWYgKG4gPj0gY20uZGlzcGxheS52aWV3VG8pIHJldHVybiBudWxsO1xuICAgIG4gLT0gY20uZGlzcGxheS52aWV3RnJvbTtcbiAgICBpZiAobiA8IDApIHJldHVybiBudWxsO1xuICAgIHZhciB2aWV3ID0gY20uZGlzcGxheS52aWV3O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgbiAtPSB2aWV3W2ldLnNpemU7XG4gICAgICBpZiAobiA8IDApIHJldHVybiBpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHZpZXdDdXR0aW5nUG9pbnQoY20sIG9sZE4sIG5ld04sIGRpcikge1xuICAgIHZhciBpbmRleCA9IGZpbmRWaWV3SW5kZXgoY20sIG9sZE4pLCBkaWZmLCB2aWV3ID0gY20uZGlzcGxheS52aWV3O1xuICAgIGlmICghc2F3Q29sbGFwc2VkU3BhbnMgfHwgbmV3TiA9PSBjbS5kb2MuZmlyc3QgKyBjbS5kb2Muc2l6ZSlcbiAgICAgIHJldHVybiB7aW5kZXg6IGluZGV4LCBsaW5lTjogbmV3Tn07XG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSBjbS5kaXNwbGF5LnZpZXdGcm9tOyBpIDwgaW5kZXg7IGkrKylcbiAgICAgIG4gKz0gdmlld1tpXS5zaXplO1xuICAgIGlmIChuICE9IG9sZE4pIHtcbiAgICAgIGlmIChkaXIgPiAwKSB7XG4gICAgICAgIGlmIChpbmRleCA9PSB2aWV3Lmxlbmd0aCAtIDEpIHJldHVybiBudWxsO1xuICAgICAgICBkaWZmID0gKG4gKyB2aWV3W2luZGV4XS5zaXplKSAtIG9sZE47XG4gICAgICAgIGluZGV4Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaWZmID0gbiAtIG9sZE47XG4gICAgICB9XG4gICAgICBvbGROICs9IGRpZmY7IG5ld04gKz0gZGlmZjtcbiAgICB9XG4gICAgd2hpbGUgKHZpc3VhbExpbmVObyhjbS5kb2MsIG5ld04pICE9IG5ld04pIHtcbiAgICAgIGlmIChpbmRleCA9PSAoZGlyIDwgMCA/IDAgOiB2aWV3Lmxlbmd0aCAtIDEpKSByZXR1cm4gbnVsbDtcbiAgICAgIG5ld04gKz0gZGlyICogdmlld1tpbmRleCAtIChkaXIgPCAwID8gMSA6IDApXS5zaXplO1xuICAgICAgaW5kZXggKz0gZGlyO1xuICAgIH1cbiAgICByZXR1cm4ge2luZGV4OiBpbmRleCwgbGluZU46IG5ld059O1xuICB9XG5cbiAgLy8gRm9yY2UgdGhlIHZpZXcgdG8gY292ZXIgYSBnaXZlbiByYW5nZSwgYWRkaW5nIGVtcHR5IHZpZXcgZWxlbWVudFxuICAvLyBvciBjbGlwcGluZyBvZmYgZXhpc3Rpbmcgb25lcyBhcyBuZWVkZWQuXG4gIGZ1bmN0aW9uIGFkanVzdFZpZXcoY20sIGZyb20sIHRvKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCB2aWV3ID0gZGlzcGxheS52aWV3O1xuICAgIGlmICh2aWV3Lmxlbmd0aCA9PSAwIHx8IGZyb20gPj0gZGlzcGxheS52aWV3VG8gfHwgdG8gPD0gZGlzcGxheS52aWV3RnJvbSkge1xuICAgICAgZGlzcGxheS52aWV3ID0gYnVpbGRWaWV3QXJyYXkoY20sIGZyb20sIHRvKTtcbiAgICAgIGRpc3BsYXkudmlld0Zyb20gPSBmcm9tO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZGlzcGxheS52aWV3RnJvbSA+IGZyb20pXG4gICAgICAgIGRpc3BsYXkudmlldyA9IGJ1aWxkVmlld0FycmF5KGNtLCBmcm9tLCBkaXNwbGF5LnZpZXdGcm9tKS5jb25jYXQoZGlzcGxheS52aWV3KTtcbiAgICAgIGVsc2UgaWYgKGRpc3BsYXkudmlld0Zyb20gPCBmcm9tKVxuICAgICAgICBkaXNwbGF5LnZpZXcgPSBkaXNwbGF5LnZpZXcuc2xpY2UoZmluZFZpZXdJbmRleChjbSwgZnJvbSkpO1xuICAgICAgZGlzcGxheS52aWV3RnJvbSA9IGZyb207XG4gICAgICBpZiAoZGlzcGxheS52aWV3VG8gPCB0bylcbiAgICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LmNvbmNhdChidWlsZFZpZXdBcnJheShjbSwgZGlzcGxheS52aWV3VG8sIHRvKSk7XG4gICAgICBlbHNlIGlmIChkaXNwbGF5LnZpZXdUbyA+IHRvKVxuICAgICAgICBkaXNwbGF5LnZpZXcgPSBkaXNwbGF5LnZpZXcuc2xpY2UoMCwgZmluZFZpZXdJbmRleChjbSwgdG8pKTtcbiAgICB9XG4gICAgZGlzcGxheS52aWV3VG8gPSB0bztcbiAgfVxuXG4gIC8vIENvdW50IHRoZSBudW1iZXIgb2YgbGluZXMgaW4gdGhlIHZpZXcgd2hvc2UgRE9NIHJlcHJlc2VudGF0aW9uIGlzXG4gIC8vIG91dCBvZiBkYXRlIChvciBub25leGlzdGVudCkuXG4gIGZ1bmN0aW9uIGNvdW50RGlydHlWaWV3KGNtKSB7XG4gICAgdmFyIHZpZXcgPSBjbS5kaXNwbGF5LnZpZXcsIGRpcnR5ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBsaW5lVmlldyA9IHZpZXdbaV07XG4gICAgICBpZiAoIWxpbmVWaWV3LmhpZGRlbiAmJiAoIWxpbmVWaWV3Lm5vZGUgfHwgbGluZVZpZXcuY2hhbmdlcykpICsrZGlydHk7XG4gICAgfVxuICAgIHJldHVybiBkaXJ0eTtcbiAgfVxuXG4gIC8vIElOUFVUIEhBTkRMSU5HXG5cbiAgLy8gUG9sbCBmb3IgaW5wdXQgY2hhbmdlcywgdXNpbmcgdGhlIG5vcm1hbCByYXRlIG9mIHBvbGxpbmcuIFRoaXNcbiAgLy8gcnVucyBhcyBsb25nIGFzIHRoZSBlZGl0b3IgaXMgZm9jdXNlZC5cbiAgZnVuY3Rpb24gc2xvd1BvbGwoY20pIHtcbiAgICBpZiAoY20uZGlzcGxheS5wb2xsaW5nRmFzdCkgcmV0dXJuO1xuICAgIGNtLmRpc3BsYXkucG9sbC5zZXQoY20ub3B0aW9ucy5wb2xsSW50ZXJ2YWwsIGZ1bmN0aW9uKCkge1xuICAgICAgcmVhZElucHV0KGNtKTtcbiAgICAgIGlmIChjbS5zdGF0ZS5mb2N1c2VkKSBzbG93UG9sbChjbSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBXaGVuIGFuIGV2ZW50IGhhcyBqdXN0IGNvbWUgaW4gdGhhdCBpcyBsaWtlbHkgdG8gYWRkIG9yIGNoYW5nZVxuICAvLyBzb21ldGhpbmcgaW4gdGhlIGlucHV0IHRleHRhcmVhLCB3ZSBwb2xsIGZhc3RlciwgdG8gZW5zdXJlIHRoYXRcbiAgLy8gdGhlIGNoYW5nZSBhcHBlYXJzIG9uIHRoZSBzY3JlZW4gcXVpY2tseS5cbiAgZnVuY3Rpb24gZmFzdFBvbGwoY20pIHtcbiAgICB2YXIgbWlzc2VkID0gZmFsc2U7XG4gICAgY20uZGlzcGxheS5wb2xsaW5nRmFzdCA9IHRydWU7XG4gICAgZnVuY3Rpb24gcCgpIHtcbiAgICAgIHZhciBjaGFuZ2VkID0gcmVhZElucHV0KGNtKTtcbiAgICAgIGlmICghY2hhbmdlZCAmJiAhbWlzc2VkKSB7bWlzc2VkID0gdHJ1ZTsgY20uZGlzcGxheS5wb2xsLnNldCg2MCwgcCk7fVxuICAgICAgZWxzZSB7Y20uZGlzcGxheS5wb2xsaW5nRmFzdCA9IGZhbHNlOyBzbG93UG9sbChjbSk7fVxuICAgIH1cbiAgICBjbS5kaXNwbGF5LnBvbGwuc2V0KDIwLCBwKTtcbiAgfVxuXG4gIC8vIFRoaXMgd2lsbCBiZSBzZXQgdG8gYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aGVuIGNvcHlpbmcsIHNvIHRoYXQsXG4gIC8vIHdoZW4gcGFzdGluZywgd2Uga25vdyB3aGF0IGtpbmQgb2Ygc2VsZWN0aW9ucyB0aGUgY29waWVkIHRleHRcbiAgLy8gd2FzIG1hZGUgb3V0IG9mLlxuICB2YXIgbGFzdENvcGllZCA9IG51bGw7XG5cbiAgLy8gUmVhZCBpbnB1dCBmcm9tIHRoZSB0ZXh0YXJlYSwgYW5kIHVwZGF0ZSB0aGUgZG9jdW1lbnQgdG8gbWF0Y2guXG4gIC8vIFdoZW4gc29tZXRoaW5nIGlzIHNlbGVjdGVkLCBpdCBpcyBwcmVzZW50IGluIHRoZSB0ZXh0YXJlYSwgYW5kXG4gIC8vIHNlbGVjdGVkICh1bmxlc3MgaXQgaXMgaHVnZSwgaW4gd2hpY2ggY2FzZSBhIHBsYWNlaG9sZGVyIGlzXG4gIC8vIHVzZWQpLiBXaGVuIG5vdGhpbmcgaXMgc2VsZWN0ZWQsIHRoZSBjdXJzb3Igc2l0cyBhZnRlciBwcmV2aW91c2x5XG4gIC8vIHNlZW4gdGV4dCAoY2FuIGJlIGVtcHR5KSwgd2hpY2ggaXMgc3RvcmVkIGluIHByZXZJbnB1dCAod2UgbXVzdFxuICAvLyBub3QgcmVzZXQgdGhlIHRleHRhcmVhIHdoZW4gdHlwaW5nLCBiZWNhdXNlIHRoYXQgYnJlYWtzIElNRSkuXG4gIGZ1bmN0aW9uIHJlYWRJbnB1dChjbSkge1xuICAgIHZhciBpbnB1dCA9IGNtLmRpc3BsYXkuaW5wdXQsIHByZXZJbnB1dCA9IGNtLmRpc3BsYXkucHJldklucHV0LCBkb2MgPSBjbS5kb2M7XG4gICAgLy8gU2luY2UgdGhpcyBpcyBjYWxsZWQgYSAqbG90KiwgdHJ5IHRvIGJhaWwgb3V0IGFzIGNoZWFwbHkgYXNcbiAgICAvLyBwb3NzaWJsZSB3aGVuIGl0IGlzIGNsZWFyIHRoYXQgbm90aGluZyBoYXBwZW5lZC4gaGFzU2VsZWN0aW9uXG4gICAgLy8gd2lsbCBiZSB0aGUgY2FzZSB3aGVuIHRoZXJlIGlzIGEgbG90IG9mIHRleHQgaW4gdGhlIHRleHRhcmVhLFxuICAgIC8vIGluIHdoaWNoIGNhc2UgcmVhZGluZyBpdHMgdmFsdWUgd291bGQgYmUgZXhwZW5zaXZlLlxuICAgIGlmICghY20uc3RhdGUuZm9jdXNlZCB8fCAoaGFzU2VsZWN0aW9uKGlucHV0KSAmJiAhcHJldklucHV0KSB8fCBpc1JlYWRPbmx5KGNtKSB8fCBjbS5vcHRpb25zLmRpc2FibGVJbnB1dClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBTZWUgcGFzdGUgaGFuZGxlciBmb3IgbW9yZSBvbiB0aGUgZmFrZWRMYXN0Q2hhciBrbHVkZ2VcbiAgICBpZiAoY20uc3RhdGUucGFzdGVJbmNvbWluZyAmJiBjbS5zdGF0ZS5mYWtlZExhc3RDaGFyKSB7XG4gICAgICBpbnB1dC52YWx1ZSA9IGlucHV0LnZhbHVlLnN1YnN0cmluZygwLCBpbnB1dC52YWx1ZS5sZW5ndGggLSAxKTtcbiAgICAgIGNtLnN0YXRlLmZha2VkTGFzdENoYXIgPSBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHRleHQgPSBpbnB1dC52YWx1ZTtcbiAgICAvLyBJZiBub3RoaW5nIGNoYW5nZWQsIGJhaWwuXG4gICAgaWYgKHRleHQgPT0gcHJldklucHV0ICYmICFjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gV29yayBhcm91bmQgbm9uc2Vuc2ljYWwgc2VsZWN0aW9uIHJlc2V0dGluZyBpbiBJRTkvMTAsIGFuZFxuICAgIC8vIGluZXhwbGljYWJsZSBhcHBlYXJhbmNlIG9mIHByaXZhdGUgYXJlYSB1bmljb2RlIGNoYXJhY3RlcnMgb25cbiAgICAvLyBzb21lIGtleSBjb21ib3MgaW4gTWFjICgjMjY4OSkuXG4gICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSAmJiBjbS5kaXNwbGF5LmlucHV0SGFzU2VsZWN0aW9uID09PSB0ZXh0IHx8XG4gICAgICAgIG1hYyAmJiAvW1xcdWY3MDAtXFx1ZjdmZl0vLnRlc3QodGV4dCkpIHtcbiAgICAgIHJlc2V0SW5wdXQoY20pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB3aXRoT3AgPSAhY20uY3VyT3A7XG4gICAgaWYgKHdpdGhPcCkgc3RhcnRPcGVyYXRpb24oY20pO1xuICAgIGNtLmRpc3BsYXkuc2hpZnQgPSBmYWxzZTtcblxuICAgIGlmICh0ZXh0LmNoYXJDb2RlQXQoMCkgPT0gMHgyMDBiICYmIGRvYy5zZWwgPT0gY20uZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSAmJiAhcHJldklucHV0KVxuICAgICAgcHJldklucHV0ID0gXCJcXHUyMDBiXCI7XG4gICAgLy8gRmluZCB0aGUgcGFydCBvZiB0aGUgaW5wdXQgdGhhdCBpcyBhY3R1YWxseSBuZXdcbiAgICB2YXIgc2FtZSA9IDAsIGwgPSBNYXRoLm1pbihwcmV2SW5wdXQubGVuZ3RoLCB0ZXh0Lmxlbmd0aCk7XG4gICAgd2hpbGUgKHNhbWUgPCBsICYmIHByZXZJbnB1dC5jaGFyQ29kZUF0KHNhbWUpID09IHRleHQuY2hhckNvZGVBdChzYW1lKSkgKytzYW1lO1xuICAgIHZhciBpbnNlcnRlZCA9IHRleHQuc2xpY2Uoc2FtZSksIHRleHRMaW5lcyA9IHNwbGl0TGluZXMoaW5zZXJ0ZWQpO1xuXG4gICAgLy8gV2hlbiBwYXNpbmcgTiBsaW5lcyBpbnRvIE4gc2VsZWN0aW9ucywgaW5zZXJ0IG9uZSBsaW5lIHBlciBzZWxlY3Rpb25cbiAgICB2YXIgbXVsdGlQYXN0ZSA9IG51bGw7XG4gICAgaWYgKGNtLnN0YXRlLnBhc3RlSW5jb21pbmcgJiYgZG9jLnNlbC5yYW5nZXMubGVuZ3RoID4gMSkge1xuICAgICAgaWYgKGxhc3RDb3BpZWQgJiYgbGFzdENvcGllZC5qb2luKFwiXFxuXCIpID09IGluc2VydGVkKVxuICAgICAgICBtdWx0aVBhc3RlID0gZG9jLnNlbC5yYW5nZXMubGVuZ3RoICUgbGFzdENvcGllZC5sZW5ndGggPT0gMCAmJiBtYXAobGFzdENvcGllZCwgc3BsaXRMaW5lcyk7XG4gICAgICBlbHNlIGlmICh0ZXh0TGluZXMubGVuZ3RoID09IGRvYy5zZWwucmFuZ2VzLmxlbmd0aClcbiAgICAgICAgbXVsdGlQYXN0ZSA9IG1hcCh0ZXh0TGluZXMsIGZ1bmN0aW9uKGwpIHsgcmV0dXJuIFtsXTsgfSk7XG4gICAgfVxuXG4gICAgLy8gTm9ybWFsIGJlaGF2aW9yIGlzIHRvIGluc2VydCB0aGUgbmV3IHRleHQgaW50byBldmVyeSBzZWxlY3Rpb25cbiAgICBmb3IgKHZhciBpID0gZG9jLnNlbC5yYW5nZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciByYW5nZSA9IGRvYy5zZWwucmFuZ2VzW2ldO1xuICAgICAgdmFyIGZyb20gPSByYW5nZS5mcm9tKCksIHRvID0gcmFuZ2UudG8oKTtcbiAgICAgIC8vIEhhbmRsZSBkZWxldGlvblxuICAgICAgaWYgKHNhbWUgPCBwcmV2SW5wdXQubGVuZ3RoKVxuICAgICAgICBmcm9tID0gUG9zKGZyb20ubGluZSwgZnJvbS5jaCAtIChwcmV2SW5wdXQubGVuZ3RoIC0gc2FtZSkpO1xuICAgICAgLy8gSGFuZGxlIG92ZXJ3cml0ZVxuICAgICAgZWxzZSBpZiAoY20uc3RhdGUub3ZlcndyaXRlICYmIHJhbmdlLmVtcHR5KCkgJiYgIWNtLnN0YXRlLnBhc3RlSW5jb21pbmcpXG4gICAgICAgIHRvID0gUG9zKHRvLmxpbmUsIE1hdGgubWluKGdldExpbmUoZG9jLCB0by5saW5lKS50ZXh0Lmxlbmd0aCwgdG8uY2ggKyBsc3QodGV4dExpbmVzKS5sZW5ndGgpKTtcbiAgICAgIHZhciB1cGRhdGVJbnB1dCA9IGNtLmN1ck9wLnVwZGF0ZUlucHV0O1xuICAgICAgdmFyIGNoYW5nZUV2ZW50ID0ge2Zyb206IGZyb20sIHRvOiB0bywgdGV4dDogbXVsdGlQYXN0ZSA/IG11bHRpUGFzdGVbaSAlIG11bHRpUGFzdGUubGVuZ3RoXSA6IHRleHRMaW5lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW46IGNtLnN0YXRlLnBhc3RlSW5jb21pbmcgPyBcInBhc3RlXCIgOiBjbS5zdGF0ZS5jdXRJbmNvbWluZyA/IFwiY3V0XCIgOiBcIitpbnB1dFwifTtcbiAgICAgIG1ha2VDaGFuZ2UoY20uZG9jLCBjaGFuZ2VFdmVudCk7XG4gICAgICBzaWduYWxMYXRlcihjbSwgXCJpbnB1dFJlYWRcIiwgY20sIGNoYW5nZUV2ZW50KTtcbiAgICAgIC8vIFdoZW4gYW4gJ2VsZWN0cmljJyBjaGFyYWN0ZXIgaXMgaW5zZXJ0ZWQsIGltbWVkaWF0ZWx5IHRyaWdnZXIgYSByZWluZGVudFxuICAgICAgaWYgKGluc2VydGVkICYmICFjbS5zdGF0ZS5wYXN0ZUluY29taW5nICYmIGNtLm9wdGlvbnMuZWxlY3RyaWNDaGFycyAmJlxuICAgICAgICAgIGNtLm9wdGlvbnMuc21hcnRJbmRlbnQgJiYgcmFuZ2UuaGVhZC5jaCA8IDEwMCAmJlxuICAgICAgICAgICghaSB8fCBkb2Muc2VsLnJhbmdlc1tpIC0gMV0uaGVhZC5saW5lICE9IHJhbmdlLmhlYWQubGluZSkpIHtcbiAgICAgICAgdmFyIG1vZGUgPSBjbS5nZXRNb2RlQXQocmFuZ2UuaGVhZCk7XG4gICAgICAgIHZhciBlbmQgPSBjaGFuZ2VFbmQoY2hhbmdlRXZlbnQpO1xuICAgICAgICBpZiAobW9kZS5lbGVjdHJpY0NoYXJzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtb2RlLmVsZWN0cmljQ2hhcnMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICBpZiAoaW5zZXJ0ZWQuaW5kZXhPZihtb2RlLmVsZWN0cmljQ2hhcnMuY2hhckF0KGopKSA+IC0xKSB7XG4gICAgICAgICAgICAgIGluZGVudExpbmUoY20sIGVuZC5saW5lLCBcInNtYXJ0XCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtb2RlLmVsZWN0cmljSW5wdXQpIHtcbiAgICAgICAgICBpZiAobW9kZS5lbGVjdHJpY0lucHV0LnRlc3QoZ2V0TGluZShkb2MsIGVuZC5saW5lKS50ZXh0LnNsaWNlKDAsIGVuZC5jaCkpKVxuICAgICAgICAgICAgaW5kZW50TGluZShjbSwgZW5kLmxpbmUsIFwic21hcnRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZW5zdXJlQ3Vyc29yVmlzaWJsZShjbSk7XG4gICAgY20uY3VyT3AudXBkYXRlSW5wdXQgPSB1cGRhdGVJbnB1dDtcbiAgICBjbS5jdXJPcC50eXBpbmcgPSB0cnVlO1xuXG4gICAgLy8gRG9uJ3QgbGVhdmUgbG9uZyB0ZXh0IGluIHRoZSB0ZXh0YXJlYSwgc2luY2UgaXQgbWFrZXMgZnVydGhlciBwb2xsaW5nIHNsb3dcbiAgICBpZiAodGV4dC5sZW5ndGggPiAxMDAwIHx8IHRleHQuaW5kZXhPZihcIlxcblwiKSA+IC0xKSBpbnB1dC52YWx1ZSA9IGNtLmRpc3BsYXkucHJldklucHV0ID0gXCJcIjtcbiAgICBlbHNlIGNtLmRpc3BsYXkucHJldklucHV0ID0gdGV4dDtcbiAgICBpZiAod2l0aE9wKSBlbmRPcGVyYXRpb24oY20pO1xuICAgIGNtLnN0YXRlLnBhc3RlSW5jb21pbmcgPSBjbS5zdGF0ZS5jdXRJbmNvbWluZyA9IGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gUmVzZXQgdGhlIGlucHV0IHRvIGNvcnJlc3BvbmQgdG8gdGhlIHNlbGVjdGlvbiAob3IgdG8gYmUgZW1wdHksXG4gIC8vIHdoZW4gbm90IHR5cGluZyBhbmQgbm90aGluZyBpcyBzZWxlY3RlZClcbiAgZnVuY3Rpb24gcmVzZXRJbnB1dChjbSwgdHlwaW5nKSB7XG4gICAgdmFyIG1pbmltYWwsIHNlbGVjdGVkLCBkb2MgPSBjbS5kb2M7XG4gICAgaWYgKGNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHtcbiAgICAgIGNtLmRpc3BsYXkucHJldklucHV0ID0gXCJcIjtcbiAgICAgIHZhciByYW5nZSA9IGRvYy5zZWwucHJpbWFyeSgpO1xuICAgICAgbWluaW1hbCA9IGhhc0NvcHlFdmVudCAmJlxuICAgICAgICAocmFuZ2UudG8oKS5saW5lIC0gcmFuZ2UuZnJvbSgpLmxpbmUgPiAxMDAgfHwgKHNlbGVjdGVkID0gY20uZ2V0U2VsZWN0aW9uKCkpLmxlbmd0aCA+IDEwMDApO1xuICAgICAgdmFyIGNvbnRlbnQgPSBtaW5pbWFsID8gXCItXCIgOiBzZWxlY3RlZCB8fCBjbS5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIGNtLmRpc3BsYXkuaW5wdXQudmFsdWUgPSBjb250ZW50O1xuICAgICAgaWYgKGNtLnN0YXRlLmZvY3VzZWQpIHNlbGVjdElucHV0KGNtLmRpc3BsYXkuaW5wdXQpO1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSkgY20uZGlzcGxheS5pbnB1dEhhc1NlbGVjdGlvbiA9IGNvbnRlbnQ7XG4gICAgfSBlbHNlIGlmICghdHlwaW5nKSB7XG4gICAgICBjbS5kaXNwbGF5LnByZXZJbnB1dCA9IGNtLmRpc3BsYXkuaW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSkgY20uZGlzcGxheS5pbnB1dEhhc1NlbGVjdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIGNtLmRpc3BsYXkuaW5hY2N1cmF0ZVNlbGVjdGlvbiA9IG1pbmltYWw7XG4gIH1cblxuICBmdW5jdGlvbiBmb2N1c0lucHV0KGNtKSB7XG4gICAgaWYgKGNtLm9wdGlvbnMucmVhZE9ubHkgIT0gXCJub2N1cnNvclwiICYmICghbW9iaWxlIHx8IGFjdGl2ZUVsdCgpICE9IGNtLmRpc3BsYXkuaW5wdXQpKVxuICAgICAgY20uZGlzcGxheS5pbnB1dC5mb2N1cygpO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5zdXJlRm9jdXMoY20pIHtcbiAgICBpZiAoIWNtLnN0YXRlLmZvY3VzZWQpIHsgZm9jdXNJbnB1dChjbSk7IG9uRm9jdXMoY20pOyB9XG4gIH1cblxuICBmdW5jdGlvbiBpc1JlYWRPbmx5KGNtKSB7XG4gICAgcmV0dXJuIGNtLm9wdGlvbnMucmVhZE9ubHkgfHwgY20uZG9jLmNhbnRFZGl0O1xuICB9XG5cbiAgLy8gRVZFTlQgSEFORExFUlNcblxuICAvLyBBdHRhY2ggdGhlIG5lY2Vzc2FyeSBldmVudCBoYW5kbGVycyB3aGVuIGluaXRpYWxpemluZyB0aGUgZWRpdG9yXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnRIYW5kbGVycyhjbSkge1xuICAgIHZhciBkID0gY20uZGlzcGxheTtcbiAgICBvbihkLnNjcm9sbGVyLCBcIm1vdXNlZG93blwiLCBvcGVyYXRpb24oY20sIG9uTW91c2VEb3duKSk7XG4gICAgLy8gT2xkZXIgSUUncyB3aWxsIG5vdCBmaXJlIGEgc2Vjb25kIG1vdXNlZG93biBmb3IgYSBkb3VibGUgY2xpY2tcbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDExKVxuICAgICAgb24oZC5zY3JvbGxlciwgXCJkYmxjbGlja1wiLCBvcGVyYXRpb24oY20sIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSkgcmV0dXJuO1xuICAgICAgICB2YXIgcG9zID0gcG9zRnJvbU1vdXNlKGNtLCBlKTtcbiAgICAgICAgaWYgKCFwb3MgfHwgY2xpY2tJbkd1dHRlcihjbSwgZSkgfHwgZXZlbnRJbldpZGdldChjbS5kaXNwbGF5LCBlKSkgcmV0dXJuO1xuICAgICAgICBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgICB2YXIgd29yZCA9IGNtLmZpbmRXb3JkQXQocG9zKTtcbiAgICAgICAgZXh0ZW5kU2VsZWN0aW9uKGNtLmRvYywgd29yZC5hbmNob3IsIHdvcmQuaGVhZCk7XG4gICAgICB9KSk7XG4gICAgZWxzZVxuICAgICAgb24oZC5zY3JvbGxlciwgXCJkYmxjbGlja1wiLCBmdW5jdGlvbihlKSB7IHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBlX3ByZXZlbnREZWZhdWx0KGUpOyB9KTtcbiAgICAvLyBQcmV2ZW50IG5vcm1hbCBzZWxlY3Rpb24gaW4gdGhlIGVkaXRvciAod2UgaGFuZGxlIG91ciBvd24pXG4gICAgb24oZC5saW5lU3BhY2UsIFwic2VsZWN0c3RhcnRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCFldmVudEluV2lkZ2V0KGQsIGUpKSBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgIH0pO1xuICAgIC8vIFNvbWUgYnJvd3NlcnMgZmlyZSBjb250ZXh0bWVudSAqYWZ0ZXIqIG9wZW5pbmcgdGhlIG1lbnUsIGF0XG4gICAgLy8gd2hpY2ggcG9pbnQgd2UgY2FuJ3QgbWVzcyB3aXRoIGl0IGFueW1vcmUuIENvbnRleHQgbWVudSBpc1xuICAgIC8vIGhhbmRsZWQgaW4gb25Nb3VzZURvd24gZm9yIHRoZXNlIGJyb3dzZXJzLlxuICAgIGlmICghY2FwdHVyZVJpZ2h0Q2xpY2spIG9uKGQuc2Nyb2xsZXIsIFwiY29udGV4dG1lbnVcIiwgZnVuY3Rpb24oZSkge29uQ29udGV4dE1lbnUoY20sIGUpO30pO1xuXG4gICAgLy8gU3luYyBzY3JvbGxpbmcgYmV0d2VlbiBmYWtlIHNjcm9sbGJhcnMgYW5kIHJlYWwgc2Nyb2xsYWJsZVxuICAgIC8vIGFyZWEsIGVuc3VyZSB2aWV3cG9ydCBpcyB1cGRhdGVkIHdoZW4gc2Nyb2xsaW5nLlxuICAgIG9uKGQuc2Nyb2xsZXIsIFwic2Nyb2xsXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGQuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0KSB7XG4gICAgICAgIHNldFNjcm9sbFRvcChjbSwgZC5zY3JvbGxlci5zY3JvbGxUb3ApO1xuICAgICAgICBzZXRTY3JvbGxMZWZ0KGNtLCBkLnNjcm9sbGVyLnNjcm9sbExlZnQsIHRydWUpO1xuICAgICAgICBzaWduYWwoY20sIFwic2Nyb2xsXCIsIGNtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBvbihkLnNjcm9sbGJhclYsIFwic2Nyb2xsXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGQuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0KSBzZXRTY3JvbGxUb3AoY20sIGQuc2Nyb2xsYmFyVi5zY3JvbGxUb3ApO1xuICAgIH0pO1xuICAgIG9uKGQuc2Nyb2xsYmFySCwgXCJzY3JvbGxcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoZC5zY3JvbGxlci5jbGllbnRIZWlnaHQpIHNldFNjcm9sbExlZnQoY20sIGQuc2Nyb2xsYmFySC5zY3JvbGxMZWZ0KTtcbiAgICB9KTtcblxuICAgIC8vIExpc3RlbiB0byB3aGVlbCBldmVudHMgaW4gb3JkZXIgdG8gdHJ5IGFuZCB1cGRhdGUgdGhlIHZpZXdwb3J0IG9uIHRpbWUuXG4gICAgb24oZC5zY3JvbGxlciwgXCJtb3VzZXdoZWVsXCIsIGZ1bmN0aW9uKGUpe29uU2Nyb2xsV2hlZWwoY20sIGUpO30pO1xuICAgIG9uKGQuc2Nyb2xsZXIsIFwiRE9NTW91c2VTY3JvbGxcIiwgZnVuY3Rpb24oZSl7b25TY3JvbGxXaGVlbChjbSwgZSk7fSk7XG5cbiAgICAvLyBQcmV2ZW50IGNsaWNrcyBpbiB0aGUgc2Nyb2xsYmFycyBmcm9tIGtpbGxpbmcgZm9jdXNcbiAgICBmdW5jdGlvbiByZUZvY3VzKCkgeyBpZiAoY20uc3RhdGUuZm9jdXNlZCkgc2V0VGltZW91dChiaW5kKGZvY3VzSW5wdXQsIGNtKSwgMCk7IH1cbiAgICBvbihkLnNjcm9sbGJhckgsIFwibW91c2Vkb3duXCIsIHJlRm9jdXMpO1xuICAgIG9uKGQuc2Nyb2xsYmFyViwgXCJtb3VzZWRvd25cIiwgcmVGb2N1cyk7XG4gICAgLy8gUHJldmVudCB3cmFwcGVyIGZyb20gZXZlciBzY3JvbGxpbmdcbiAgICBvbihkLndyYXBwZXIsIFwic2Nyb2xsXCIsIGZ1bmN0aW9uKCkgeyBkLndyYXBwZXIuc2Nyb2xsVG9wID0gZC53cmFwcGVyLnNjcm9sbExlZnQgPSAwOyB9KTtcblxuICAgIG9uKGQuaW5wdXQsIFwia2V5dXBcIiwgZnVuY3Rpb24oZSkgeyBvbktleVVwLmNhbGwoY20sIGUpOyB9KTtcbiAgICBvbihkLmlucHV0LCBcImlucHV0XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSAmJiBjbS5kaXNwbGF5LmlucHV0SGFzU2VsZWN0aW9uKSBjbS5kaXNwbGF5LmlucHV0SGFzU2VsZWN0aW9uID0gbnVsbDtcbiAgICAgIGZhc3RQb2xsKGNtKTtcbiAgICB9KTtcbiAgICBvbihkLmlucHV0LCBcImtleWRvd25cIiwgb3BlcmF0aW9uKGNtLCBvbktleURvd24pKTtcbiAgICBvbihkLmlucHV0LCBcImtleXByZXNzXCIsIG9wZXJhdGlvbihjbSwgb25LZXlQcmVzcykpO1xuICAgIG9uKGQuaW5wdXQsIFwiZm9jdXNcIiwgYmluZChvbkZvY3VzLCBjbSkpO1xuICAgIG9uKGQuaW5wdXQsIFwiYmx1clwiLCBiaW5kKG9uQmx1ciwgY20pKTtcblxuICAgIGZ1bmN0aW9uIGRyYWdfKGUpIHtcbiAgICAgIGlmICghc2lnbmFsRE9NRXZlbnQoY20sIGUpKSBlX3N0b3AoZSk7XG4gICAgfVxuICAgIGlmIChjbS5vcHRpb25zLmRyYWdEcm9wKSB7XG4gICAgICBvbihkLnNjcm9sbGVyLCBcImRyYWdzdGFydFwiLCBmdW5jdGlvbihlKXtvbkRyYWdTdGFydChjbSwgZSk7fSk7XG4gICAgICBvbihkLnNjcm9sbGVyLCBcImRyYWdlbnRlclwiLCBkcmFnXyk7XG4gICAgICBvbihkLnNjcm9sbGVyLCBcImRyYWdvdmVyXCIsIGRyYWdfKTtcbiAgICAgIG9uKGQuc2Nyb2xsZXIsIFwiZHJvcFwiLCBvcGVyYXRpb24oY20sIG9uRHJvcCkpO1xuICAgIH1cbiAgICBvbihkLnNjcm9sbGVyLCBcInBhc3RlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChldmVudEluV2lkZ2V0KGQsIGUpKSByZXR1cm47XG4gICAgICBjbS5zdGF0ZS5wYXN0ZUluY29taW5nID0gdHJ1ZTtcbiAgICAgIGZvY3VzSW5wdXQoY20pO1xuICAgICAgZmFzdFBvbGwoY20pO1xuICAgIH0pO1xuICAgIG9uKGQuaW5wdXQsIFwicGFzdGVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAvLyBXb3JrYXJvdW5kIGZvciB3ZWJraXQgYnVnIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD05MDIwNlxuICAgICAgLy8gQWRkIGEgY2hhciB0byB0aGUgZW5kIG9mIHRleHRhcmVhIGJlZm9yZSBwYXN0ZSBvY2N1ciBzbyB0aGF0XG4gICAgICAvLyBzZWxlY3Rpb24gZG9lc24ndCBzcGFuIHRvIHRoZSBlbmQgb2YgdGV4dGFyZWEuXG4gICAgICBpZiAod2Via2l0ICYmICFjbS5zdGF0ZS5mYWtlZExhc3RDaGFyICYmICEobmV3IERhdGUgLSBjbS5zdGF0ZS5sYXN0TWlkZGxlRG93biA8IDIwMCkpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gZC5pbnB1dC5zZWxlY3Rpb25TdGFydCwgZW5kID0gZC5pbnB1dC5zZWxlY3Rpb25FbmQ7XG4gICAgICAgIGQuaW5wdXQudmFsdWUgKz0gXCIkXCI7XG4gICAgICAgIC8vIFRoZSBzZWxlY3Rpb24gZW5kIG5lZWRzIHRvIGJlIHNldCBiZWZvcmUgdGhlIHN0YXJ0LCBvdGhlcndpc2UgdGhlcmVcbiAgICAgICAgLy8gY2FuIGJlIGFuIGludGVybWVkaWF0ZSBub24tZW1wdHkgc2VsZWN0aW9uIGJldHdlZW4gdGhlIHR3bywgd2hpY2hcbiAgICAgICAgLy8gY2FuIG92ZXJyaWRlIHRoZSBtaWRkbGUtY2xpY2sgcGFzdGUgYnVmZmVyIG9uIGxpbnV4IGFuZCBjYXVzZSB0aGVcbiAgICAgICAgLy8gd3JvbmcgdGhpbmcgdG8gZ2V0IHBhc3RlZC5cbiAgICAgICAgZC5pbnB1dC5zZWxlY3Rpb25FbmQgPSBlbmQ7XG4gICAgICAgIGQuaW5wdXQuc2VsZWN0aW9uU3RhcnQgPSBzdGFydDtcbiAgICAgICAgY20uc3RhdGUuZmFrZWRMYXN0Q2hhciA9IHRydWU7XG4gICAgICB9XG4gICAgICBjbS5zdGF0ZS5wYXN0ZUluY29taW5nID0gdHJ1ZTtcbiAgICAgIGZhc3RQb2xsKGNtKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHByZXBhcmVDb3B5Q3V0KGUpIHtcbiAgICAgIGlmIChjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSB7XG4gICAgICAgIGxhc3RDb3BpZWQgPSBjbS5nZXRTZWxlY3Rpb25zKCk7XG4gICAgICAgIGlmIChkLmluYWNjdXJhdGVTZWxlY3Rpb24pIHtcbiAgICAgICAgICBkLnByZXZJbnB1dCA9IFwiXCI7XG4gICAgICAgICAgZC5pbmFjY3VyYXRlU2VsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgZC5pbnB1dC52YWx1ZSA9IGxhc3RDb3BpZWQuam9pbihcIlxcblwiKTtcbiAgICAgICAgICBzZWxlY3RJbnB1dChkLmlucHV0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRleHQgPSBbXSwgcmFuZ2VzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY20uZG9jLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgbGluZSA9IGNtLmRvYy5zZWwucmFuZ2VzW2ldLmhlYWQubGluZTtcbiAgICAgICAgICB2YXIgbGluZVJhbmdlID0ge2FuY2hvcjogUG9zKGxpbmUsIDApLCBoZWFkOiBQb3MobGluZSArIDEsIDApfTtcbiAgICAgICAgICByYW5nZXMucHVzaChsaW5lUmFuZ2UpO1xuICAgICAgICAgIHRleHQucHVzaChjbS5nZXRSYW5nZShsaW5lUmFuZ2UuYW5jaG9yLCBsaW5lUmFuZ2UuaGVhZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLnR5cGUgPT0gXCJjdXRcIikge1xuICAgICAgICAgIGNtLnNldFNlbGVjdGlvbnMocmFuZ2VzLCBudWxsLCBzZWxfZG9udFNjcm9sbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZC5wcmV2SW5wdXQgPSBcIlwiO1xuICAgICAgICAgIGQuaW5wdXQudmFsdWUgPSB0ZXh0LmpvaW4oXCJcXG5cIik7XG4gICAgICAgICAgc2VsZWN0SW5wdXQoZC5pbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdENvcGllZCA9IHRleHQ7XG4gICAgICB9XG4gICAgICBpZiAoZS50eXBlID09IFwiY3V0XCIpIGNtLnN0YXRlLmN1dEluY29taW5nID0gdHJ1ZTtcbiAgICB9XG4gICAgb24oZC5pbnB1dCwgXCJjdXRcIiwgcHJlcGFyZUNvcHlDdXQpO1xuICAgIG9uKGQuaW5wdXQsIFwiY29weVwiLCBwcmVwYXJlQ29weUN1dCk7XG5cbiAgICAvLyBOZWVkZWQgdG8gaGFuZGxlIFRhYiBrZXkgaW4gS0hUTUxcbiAgICBpZiAoa2h0bWwpIG9uKGQuc2l6ZXIsIFwibW91c2V1cFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChhY3RpdmVFbHQoKSA9PSBkLmlucHV0KSBkLmlucHV0LmJsdXIoKTtcbiAgICAgIGZvY3VzSW5wdXQoY20pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gQ2FsbGVkIHdoZW4gdGhlIHdpbmRvdyByZXNpemVzXG4gIGZ1bmN0aW9uIG9uUmVzaXplKGNtKSB7XG4gICAgLy8gTWlnaHQgYmUgYSB0ZXh0IHNjYWxpbmcgb3BlcmF0aW9uLCBjbGVhciBzaXplIGNhY2hlcy5cbiAgICB2YXIgZCA9IGNtLmRpc3BsYXk7XG4gICAgZC5jYWNoZWRDaGFyV2lkdGggPSBkLmNhY2hlZFRleHRIZWlnaHQgPSBkLmNhY2hlZFBhZGRpbmdIID0gbnVsbDtcbiAgICBjbS5zZXRTaXplKCk7XG4gIH1cblxuICAvLyBNT1VTRSBFVkVOVFNcblxuICAvLyBSZXR1cm4gdHJ1ZSB3aGVuIHRoZSBnaXZlbiBtb3VzZSBldmVudCBoYXBwZW5lZCBpbiBhIHdpZGdldFxuICBmdW5jdGlvbiBldmVudEluV2lkZ2V0KGRpc3BsYXksIGUpIHtcbiAgICBmb3IgKHZhciBuID0gZV90YXJnZXQoZSk7IG4gIT0gZGlzcGxheS53cmFwcGVyOyBuID0gbi5wYXJlbnROb2RlKSB7XG4gICAgICBpZiAoIW4gfHwgbi5pZ25vcmVFdmVudHMgfHwgbi5wYXJlbnROb2RlID09IGRpc3BsYXkuc2l6ZXIgJiYgbiAhPSBkaXNwbGF5Lm1vdmVyKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBHaXZlbiBhIG1vdXNlIGV2ZW50LCBmaW5kIHRoZSBjb3JyZXNwb25kaW5nIHBvc2l0aW9uLiBJZiBsaWJlcmFsXG4gIC8vIGlzIGZhbHNlLCBpdCBjaGVja3Mgd2hldGhlciBhIGd1dHRlciBvciBzY3JvbGxiYXIgd2FzIGNsaWNrZWQsXG4gIC8vIGFuZCByZXR1cm5zIG51bGwgaWYgaXQgd2FzLiBmb3JSZWN0IGlzIHVzZWQgYnkgcmVjdGFuZ3VsYXJcbiAgLy8gc2VsZWN0aW9ucywgYW5kIHRyaWVzIHRvIGVzdGltYXRlIGEgY2hhcmFjdGVyIHBvc2l0aW9uIGV2ZW4gZm9yXG4gIC8vIGNvb3JkaW5hdGVzIGJleW9uZCB0aGUgcmlnaHQgb2YgdGhlIHRleHQuXG4gIGZ1bmN0aW9uIHBvc0Zyb21Nb3VzZShjbSwgZSwgbGliZXJhbCwgZm9yUmVjdCkge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAoIWxpYmVyYWwpIHtcbiAgICAgIHZhciB0YXJnZXQgPSBlX3RhcmdldChlKTtcbiAgICAgIGlmICh0YXJnZXQgPT0gZGlzcGxheS5zY3JvbGxiYXJIIHx8IHRhcmdldCA9PSBkaXNwbGF5LnNjcm9sbGJhclYgfHxcbiAgICAgICAgICB0YXJnZXQgPT0gZGlzcGxheS5zY3JvbGxiYXJGaWxsZXIgfHwgdGFyZ2V0ID09IGRpc3BsYXkuZ3V0dGVyRmlsbGVyKSByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHgsIHksIHNwYWNlID0gZGlzcGxheS5saW5lU3BhY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgLy8gRmFpbHMgdW5wcmVkaWN0YWJseSBvbiBJRVs2N10gd2hlbiBtb3VzZSBpcyBkcmFnZ2VkIGFyb3VuZCBxdWlja2x5LlxuICAgIHRyeSB7IHggPSBlLmNsaWVudFggLSBzcGFjZS5sZWZ0OyB5ID0gZS5jbGllbnRZIC0gc3BhY2UudG9wOyB9XG4gICAgY2F0Y2ggKGUpIHsgcmV0dXJuIG51bGw7IH1cbiAgICB2YXIgY29vcmRzID0gY29vcmRzQ2hhcihjbSwgeCwgeSksIGxpbmU7XG4gICAgaWYgKGZvclJlY3QgJiYgY29vcmRzLnhSZWwgPT0gMSAmJiAobGluZSA9IGdldExpbmUoY20uZG9jLCBjb29yZHMubGluZSkudGV4dCkubGVuZ3RoID09IGNvb3Jkcy5jaCkge1xuICAgICAgdmFyIGNvbERpZmYgPSBjb3VudENvbHVtbihsaW5lLCBsaW5lLmxlbmd0aCwgY20ub3B0aW9ucy50YWJTaXplKSAtIGxpbmUubGVuZ3RoO1xuICAgICAgY29vcmRzID0gUG9zKGNvb3Jkcy5saW5lLCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKCh4IC0gcGFkZGluZ0goY20uZGlzcGxheSkubGVmdCkgLyBjaGFyV2lkdGgoY20uZGlzcGxheSkpIC0gY29sRGlmZikpO1xuICAgIH1cbiAgICByZXR1cm4gY29vcmRzO1xuICB9XG5cbiAgLy8gQSBtb3VzZSBkb3duIGNhbiBiZSBhIHNpbmdsZSBjbGljaywgZG91YmxlIGNsaWNrLCB0cmlwbGUgY2xpY2ssXG4gIC8vIHN0YXJ0IG9mIHNlbGVjdGlvbiBkcmFnLCBzdGFydCBvZiB0ZXh0IGRyYWcsIG5ldyBjdXJzb3JcbiAgLy8gKGN0cmwtY2xpY2spLCByZWN0YW5nbGUgZHJhZyAoYWx0LWRyYWcpLCBvciB4d2luXG4gIC8vIG1pZGRsZS1jbGljay1wYXN0ZS4gT3IgaXQgbWlnaHQgYmUgYSBjbGljayBvbiBzb21ldGhpbmcgd2Ugc2hvdWxkXG4gIC8vIG5vdCBpbnRlcmZlcmUgd2l0aCwgc3VjaCBhcyBhIHNjcm9sbGJhciBvciB3aWRnZXQuXG4gIGZ1bmN0aW9uIG9uTW91c2VEb3duKGUpIHtcbiAgICBpZiAoc2lnbmFsRE9NRXZlbnQodGhpcywgZSkpIHJldHVybjtcbiAgICB2YXIgY20gPSB0aGlzLCBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBkaXNwbGF5LnNoaWZ0ID0gZS5zaGlmdEtleTtcblxuICAgIGlmIChldmVudEluV2lkZ2V0KGRpc3BsYXksIGUpKSB7XG4gICAgICBpZiAoIXdlYmtpdCkge1xuICAgICAgICAvLyBCcmllZmx5IHR1cm4gb2ZmIGRyYWdnYWJpbGl0eSwgdG8gYWxsb3cgd2lkZ2V0cyB0byBkb1xuICAgICAgICAvLyBub3JtYWwgZHJhZ2dpbmcgdGhpbmdzLlxuICAgICAgICBkaXNwbGF5LnNjcm9sbGVyLmRyYWdnYWJsZSA9IGZhbHNlO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZGlzcGxheS5zY3JvbGxlci5kcmFnZ2FibGUgPSB0cnVlO30sIDEwMCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjbGlja0luR3V0dGVyKGNtLCBlKSkgcmV0dXJuO1xuICAgIHZhciBzdGFydCA9IHBvc0Zyb21Nb3VzZShjbSwgZSk7XG4gICAgd2luZG93LmZvY3VzKCk7XG5cbiAgICBzd2l0Y2ggKGVfYnV0dG9uKGUpKSB7XG4gICAgY2FzZSAxOlxuICAgICAgaWYgKHN0YXJ0KVxuICAgICAgICBsZWZ0QnV0dG9uRG93bihjbSwgZSwgc3RhcnQpO1xuICAgICAgZWxzZSBpZiAoZV90YXJnZXQoZSkgPT0gZGlzcGxheS5zY3JvbGxlcilcbiAgICAgICAgZV9wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIGlmICh3ZWJraXQpIGNtLnN0YXRlLmxhc3RNaWRkbGVEb3duID0gK25ldyBEYXRlO1xuICAgICAgaWYgKHN0YXJ0KSBleHRlbmRTZWxlY3Rpb24oY20uZG9jLCBzdGFydCk7XG4gICAgICBzZXRUaW1lb3V0KGJpbmQoZm9jdXNJbnB1dCwgY20pLCAyMCk7XG4gICAgICBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAzOlxuICAgICAgaWYgKGNhcHR1cmVSaWdodENsaWNrKSBvbkNvbnRleHRNZW51KGNtLCBlKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBsYXN0Q2xpY2ssIGxhc3REb3VibGVDbGljaztcbiAgZnVuY3Rpb24gbGVmdEJ1dHRvbkRvd24oY20sIGUsIHN0YXJ0KSB7XG4gICAgc2V0VGltZW91dChiaW5kKGVuc3VyZUZvY3VzLCBjbSksIDApO1xuXG4gICAgdmFyIG5vdyA9ICtuZXcgRGF0ZSwgdHlwZTtcbiAgICBpZiAobGFzdERvdWJsZUNsaWNrICYmIGxhc3REb3VibGVDbGljay50aW1lID4gbm93IC0gNDAwICYmIGNtcChsYXN0RG91YmxlQ2xpY2sucG9zLCBzdGFydCkgPT0gMCkge1xuICAgICAgdHlwZSA9IFwidHJpcGxlXCI7XG4gICAgfSBlbHNlIGlmIChsYXN0Q2xpY2sgJiYgbGFzdENsaWNrLnRpbWUgPiBub3cgLSA0MDAgJiYgY21wKGxhc3RDbGljay5wb3MsIHN0YXJ0KSA9PSAwKSB7XG4gICAgICB0eXBlID0gXCJkb3VibGVcIjtcbiAgICAgIGxhc3REb3VibGVDbGljayA9IHt0aW1lOiBub3csIHBvczogc3RhcnR9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gXCJzaW5nbGVcIjtcbiAgICAgIGxhc3RDbGljayA9IHt0aW1lOiBub3csIHBvczogc3RhcnR9O1xuICAgIH1cblxuICAgIHZhciBzZWwgPSBjbS5kb2Muc2VsLCBtb2RpZmllciA9IG1hYyA/IGUubWV0YUtleSA6IGUuY3RybEtleTtcbiAgICBpZiAoY20ub3B0aW9ucy5kcmFnRHJvcCAmJiBkcmFnQW5kRHJvcCAmJiAhaXNSZWFkT25seShjbSkgJiZcbiAgICAgICAgdHlwZSA9PSBcInNpbmdsZVwiICYmIHNlbC5jb250YWlucyhzdGFydCkgPiAtMSAmJiBzZWwuc29tZXRoaW5nU2VsZWN0ZWQoKSlcbiAgICAgIGxlZnRCdXR0b25TdGFydERyYWcoY20sIGUsIHN0YXJ0LCBtb2RpZmllcik7XG4gICAgZWxzZVxuICAgICAgbGVmdEJ1dHRvblNlbGVjdChjbSwgZSwgc3RhcnQsIHR5cGUsIG1vZGlmaWVyKTtcbiAgfVxuXG4gIC8vIFN0YXJ0IGEgdGV4dCBkcmFnLiBXaGVuIGl0IGVuZHMsIHNlZSBpZiBhbnkgZHJhZ2dpbmcgYWN0dWFsbHlcbiAgLy8gaGFwcGVuLCBhbmQgdHJlYXQgYXMgYSBjbGljayBpZiBpdCBkaWRuJ3QuXG4gIGZ1bmN0aW9uIGxlZnRCdXR0b25TdGFydERyYWcoY20sIGUsIHN0YXJ0LCBtb2RpZmllcikge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICB2YXIgZHJhZ0VuZCA9IG9wZXJhdGlvbihjbSwgZnVuY3Rpb24oZTIpIHtcbiAgICAgIGlmICh3ZWJraXQpIGRpc3BsYXkuc2Nyb2xsZXIuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICBjbS5zdGF0ZS5kcmFnZ2luZ1RleHQgPSBmYWxzZTtcbiAgICAgIG9mZihkb2N1bWVudCwgXCJtb3VzZXVwXCIsIGRyYWdFbmQpO1xuICAgICAgb2ZmKGRpc3BsYXkuc2Nyb2xsZXIsIFwiZHJvcFwiLCBkcmFnRW5kKTtcbiAgICAgIGlmIChNYXRoLmFicyhlLmNsaWVudFggLSBlMi5jbGllbnRYKSArIE1hdGguYWJzKGUuY2xpZW50WSAtIGUyLmNsaWVudFkpIDwgMTApIHtcbiAgICAgICAgZV9wcmV2ZW50RGVmYXVsdChlMik7XG4gICAgICAgIGlmICghbW9kaWZpZXIpXG4gICAgICAgICAgZXh0ZW5kU2VsZWN0aW9uKGNtLmRvYywgc3RhcnQpO1xuICAgICAgICBmb2N1c0lucHV0KGNtKTtcbiAgICAgICAgLy8gV29yayBhcm91bmQgdW5leHBsYWluYWJsZSBmb2N1cyBwcm9ibGVtIGluIElFOSAoIzIxMjcpXG4gICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uID09IDkpXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtkb2N1bWVudC5ib2R5LmZvY3VzKCk7IGZvY3VzSW5wdXQoY20pO30sIDIwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBMZXQgdGhlIGRyYWcgaGFuZGxlciBoYW5kbGUgdGhpcy5cbiAgICBpZiAod2Via2l0KSBkaXNwbGF5LnNjcm9sbGVyLmRyYWdnYWJsZSA9IHRydWU7XG4gICAgY20uc3RhdGUuZHJhZ2dpbmdUZXh0ID0gZHJhZ0VuZDtcbiAgICAvLyBJRSdzIGFwcHJvYWNoIHRvIGRyYWdnYWJsZVxuICAgIGlmIChkaXNwbGF5LnNjcm9sbGVyLmRyYWdEcm9wKSBkaXNwbGF5LnNjcm9sbGVyLmRyYWdEcm9wKCk7XG4gICAgb24oZG9jdW1lbnQsIFwibW91c2V1cFwiLCBkcmFnRW5kKTtcbiAgICBvbihkaXNwbGF5LnNjcm9sbGVyLCBcImRyb3BcIiwgZHJhZ0VuZCk7XG4gIH1cblxuICAvLyBOb3JtYWwgc2VsZWN0aW9uLCBhcyBvcHBvc2VkIHRvIHRleHQgZHJhZ2dpbmcuXG4gIGZ1bmN0aW9uIGxlZnRCdXR0b25TZWxlY3QoY20sIGUsIHN0YXJ0LCB0eXBlLCBhZGROZXcpIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYztcbiAgICBlX3ByZXZlbnREZWZhdWx0KGUpO1xuXG4gICAgdmFyIG91clJhbmdlLCBvdXJJbmRleCwgc3RhcnRTZWwgPSBkb2Muc2VsO1xuICAgIGlmIChhZGROZXcgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgIG91ckluZGV4ID0gZG9jLnNlbC5jb250YWlucyhzdGFydCk7XG4gICAgICBpZiAob3VySW5kZXggPiAtMSlcbiAgICAgICAgb3VyUmFuZ2UgPSBkb2Muc2VsLnJhbmdlc1tvdXJJbmRleF07XG4gICAgICBlbHNlXG4gICAgICAgIG91clJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0LCBzdGFydCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91clJhbmdlID0gZG9jLnNlbC5wcmltYXJ5KCk7XG4gICAgfVxuXG4gICAgaWYgKGUuYWx0S2V5KSB7XG4gICAgICB0eXBlID0gXCJyZWN0XCI7XG4gICAgICBpZiAoIWFkZE5ldykgb3VyUmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnQsIHN0YXJ0KTtcbiAgICAgIHN0YXJ0ID0gcG9zRnJvbU1vdXNlKGNtLCBlLCB0cnVlLCB0cnVlKTtcbiAgICAgIG91ckluZGV4ID0gLTE7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwiZG91YmxlXCIpIHtcbiAgICAgIHZhciB3b3JkID0gY20uZmluZFdvcmRBdChzdGFydCk7XG4gICAgICBpZiAoY20uZGlzcGxheS5zaGlmdCB8fCBkb2MuZXh0ZW5kKVxuICAgICAgICBvdXJSYW5nZSA9IGV4dGVuZFJhbmdlKGRvYywgb3VyUmFuZ2UsIHdvcmQuYW5jaG9yLCB3b3JkLmhlYWQpO1xuICAgICAgZWxzZVxuICAgICAgICBvdXJSYW5nZSA9IHdvcmQ7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwidHJpcGxlXCIpIHtcbiAgICAgIHZhciBsaW5lID0gbmV3IFJhbmdlKFBvcyhzdGFydC5saW5lLCAwKSwgY2xpcFBvcyhkb2MsIFBvcyhzdGFydC5saW5lICsgMSwgMCkpKTtcbiAgICAgIGlmIChjbS5kaXNwbGF5LnNoaWZ0IHx8IGRvYy5leHRlbmQpXG4gICAgICAgIG91clJhbmdlID0gZXh0ZW5kUmFuZ2UoZG9jLCBvdXJSYW5nZSwgbGluZS5hbmNob3IsIGxpbmUuaGVhZCk7XG4gICAgICBlbHNlXG4gICAgICAgIG91clJhbmdlID0gbGluZTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3VyUmFuZ2UgPSBleHRlbmRSYW5nZShkb2MsIG91clJhbmdlLCBzdGFydCk7XG4gICAgfVxuXG4gICAgaWYgKCFhZGROZXcpIHtcbiAgICAgIG91ckluZGV4ID0gMDtcbiAgICAgIHNldFNlbGVjdGlvbihkb2MsIG5ldyBTZWxlY3Rpb24oW291clJhbmdlXSwgMCksIHNlbF9tb3VzZSk7XG4gICAgICBzdGFydFNlbCA9IGRvYy5zZWw7XG4gICAgfSBlbHNlIGlmIChvdXJJbmRleCA+IC0xKSB7XG4gICAgICByZXBsYWNlT25lU2VsZWN0aW9uKGRvYywgb3VySW5kZXgsIG91clJhbmdlLCBzZWxfbW91c2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXJJbmRleCA9IGRvYy5zZWwucmFuZ2VzLmxlbmd0aDtcbiAgICAgIHNldFNlbGVjdGlvbihkb2MsIG5vcm1hbGl6ZVNlbGVjdGlvbihkb2Muc2VsLnJhbmdlcy5jb25jYXQoW291clJhbmdlXSksIG91ckluZGV4KSxcbiAgICAgICAgICAgICAgICAgICB7c2Nyb2xsOiBmYWxzZSwgb3JpZ2luOiBcIiptb3VzZVwifSk7XG4gICAgfVxuXG4gICAgdmFyIGxhc3RQb3MgPSBzdGFydDtcbiAgICBmdW5jdGlvbiBleHRlbmRUbyhwb3MpIHtcbiAgICAgIGlmIChjbXAobGFzdFBvcywgcG9zKSA9PSAwKSByZXR1cm47XG4gICAgICBsYXN0UG9zID0gcG9zO1xuXG4gICAgICBpZiAodHlwZSA9PSBcInJlY3RcIikge1xuICAgICAgICB2YXIgcmFuZ2VzID0gW10sIHRhYlNpemUgPSBjbS5vcHRpb25zLnRhYlNpemU7XG4gICAgICAgIHZhciBzdGFydENvbCA9IGNvdW50Q29sdW1uKGdldExpbmUoZG9jLCBzdGFydC5saW5lKS50ZXh0LCBzdGFydC5jaCwgdGFiU2l6ZSk7XG4gICAgICAgIHZhciBwb3NDb2wgPSBjb3VudENvbHVtbihnZXRMaW5lKGRvYywgcG9zLmxpbmUpLnRleHQsIHBvcy5jaCwgdGFiU2l6ZSk7XG4gICAgICAgIHZhciBsZWZ0ID0gTWF0aC5taW4oc3RhcnRDb2wsIHBvc0NvbCksIHJpZ2h0ID0gTWF0aC5tYXgoc3RhcnRDb2wsIHBvc0NvbCk7XG4gICAgICAgIGZvciAodmFyIGxpbmUgPSBNYXRoLm1pbihzdGFydC5saW5lLCBwb3MubGluZSksIGVuZCA9IE1hdGgubWluKGNtLmxhc3RMaW5lKCksIE1hdGgubWF4KHN0YXJ0LmxpbmUsIHBvcy5saW5lKSk7XG4gICAgICAgICAgICAgbGluZSA8PSBlbmQ7IGxpbmUrKykge1xuICAgICAgICAgIHZhciB0ZXh0ID0gZ2V0TGluZShkb2MsIGxpbmUpLnRleHQsIGxlZnRQb3MgPSBmaW5kQ29sdW1uKHRleHQsIGxlZnQsIHRhYlNpemUpO1xuICAgICAgICAgIGlmIChsZWZ0ID09IHJpZ2h0KVxuICAgICAgICAgICAgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKFBvcyhsaW5lLCBsZWZ0UG9zKSwgUG9zKGxpbmUsIGxlZnRQb3MpKSk7XG4gICAgICAgICAgZWxzZSBpZiAodGV4dC5sZW5ndGggPiBsZWZ0UG9zKVxuICAgICAgICAgICAgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKFBvcyhsaW5lLCBsZWZ0UG9zKSwgUG9zKGxpbmUsIGZpbmRDb2x1bW4odGV4dCwgcmlnaHQsIHRhYlNpemUpKSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmFuZ2VzLmxlbmd0aCkgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKHN0YXJ0LCBzdGFydCkpO1xuICAgICAgICBzZXRTZWxlY3Rpb24oZG9jLCBub3JtYWxpemVTZWxlY3Rpb24oc3RhcnRTZWwucmFuZ2VzLnNsaWNlKDAsIG91ckluZGV4KS5jb25jYXQocmFuZ2VzKSwgb3VySW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICAge29yaWdpbjogXCIqbW91c2VcIiwgc2Nyb2xsOiBmYWxzZX0pO1xuICAgICAgICBjbS5zY3JvbGxJbnRvVmlldyhwb3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9sZFJhbmdlID0gb3VyUmFuZ2U7XG4gICAgICAgIHZhciBhbmNob3IgPSBvbGRSYW5nZS5hbmNob3IsIGhlYWQgPSBwb3M7XG4gICAgICAgIGlmICh0eXBlICE9IFwic2luZ2xlXCIpIHtcbiAgICAgICAgICBpZiAodHlwZSA9PSBcImRvdWJsZVwiKVxuICAgICAgICAgICAgdmFyIHJhbmdlID0gY20uZmluZFdvcmRBdChwb3MpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZShQb3MocG9zLmxpbmUsIDApLCBjbGlwUG9zKGRvYywgUG9zKHBvcy5saW5lICsgMSwgMCkpKTtcbiAgICAgICAgICBpZiAoY21wKHJhbmdlLmFuY2hvciwgYW5jaG9yKSA+IDApIHtcbiAgICAgICAgICAgIGhlYWQgPSByYW5nZS5oZWFkO1xuICAgICAgICAgICAgYW5jaG9yID0gbWluUG9zKG9sZFJhbmdlLmZyb20oKSwgcmFuZ2UuYW5jaG9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVhZCA9IHJhbmdlLmFuY2hvcjtcbiAgICAgICAgICAgIGFuY2hvciA9IG1heFBvcyhvbGRSYW5nZS50bygpLCByYW5nZS5oZWFkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJhbmdlcyA9IHN0YXJ0U2VsLnJhbmdlcy5zbGljZSgwKTtcbiAgICAgICAgcmFuZ2VzW291ckluZGV4XSA9IG5ldyBSYW5nZShjbGlwUG9zKGRvYywgYW5jaG9yKSwgaGVhZCk7XG4gICAgICAgIHNldFNlbGVjdGlvbihkb2MsIG5vcm1hbGl6ZVNlbGVjdGlvbihyYW5nZXMsIG91ckluZGV4KSwgc2VsX21vdXNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZWRpdG9yU2l6ZSA9IGRpc3BsYXkud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvLyBVc2VkIHRvIGVuc3VyZSB0aW1lb3V0IHJlLXRyaWVzIGRvbid0IGZpcmUgd2hlbiBhbm90aGVyIGV4dGVuZFxuICAgIC8vIGhhcHBlbmVkIGluIHRoZSBtZWFudGltZSAoY2xlYXJUaW1lb3V0IGlzbid0IHJlbGlhYmxlIC0tIGF0XG4gICAgLy8gbGVhc3Qgb24gQ2hyb21lLCB0aGUgdGltZW91dHMgc3RpbGwgaGFwcGVuIGV2ZW4gd2hlbiBjbGVhcmVkLFxuICAgIC8vIGlmIHRoZSBjbGVhciBoYXBwZW5zIGFmdGVyIHRoZWlyIHNjaGVkdWxlZCBmaXJpbmcgdGltZSkuXG4gICAgdmFyIGNvdW50ZXIgPSAwO1xuXG4gICAgZnVuY3Rpb24gZXh0ZW5kKGUpIHtcbiAgICAgIHZhciBjdXJDb3VudCA9ICsrY291bnRlcjtcbiAgICAgIHZhciBjdXIgPSBwb3NGcm9tTW91c2UoY20sIGUsIHRydWUsIHR5cGUgPT0gXCJyZWN0XCIpO1xuICAgICAgaWYgKCFjdXIpIHJldHVybjtcbiAgICAgIGlmIChjbXAoY3VyLCBsYXN0UG9zKSAhPSAwKSB7XG4gICAgICAgIGVuc3VyZUZvY3VzKGNtKTtcbiAgICAgICAgZXh0ZW5kVG8oY3VyKTtcbiAgICAgICAgdmFyIHZpc2libGUgPSB2aXNpYmxlTGluZXMoZGlzcGxheSwgZG9jKTtcbiAgICAgICAgaWYgKGN1ci5saW5lID49IHZpc2libGUudG8gfHwgY3VyLmxpbmUgPCB2aXNpYmxlLmZyb20pXG4gICAgICAgICAgc2V0VGltZW91dChvcGVyYXRpb24oY20sIGZ1bmN0aW9uKCl7aWYgKGNvdW50ZXIgPT0gY3VyQ291bnQpIGV4dGVuZChlKTt9KSwgMTUwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBvdXRzaWRlID0gZS5jbGllbnRZIDwgZWRpdG9yU2l6ZS50b3AgPyAtMjAgOiBlLmNsaWVudFkgPiBlZGl0b3JTaXplLmJvdHRvbSA/IDIwIDogMDtcbiAgICAgICAgaWYgKG91dHNpZGUpIHNldFRpbWVvdXQob3BlcmF0aW9uKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoY291bnRlciAhPSBjdXJDb3VudCkgcmV0dXJuO1xuICAgICAgICAgIGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wICs9IG91dHNpZGU7XG4gICAgICAgICAgZXh0ZW5kKGUpO1xuICAgICAgICB9KSwgNTApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvbmUoZSkge1xuICAgICAgY291bnRlciA9IEluZmluaXR5O1xuICAgICAgZV9wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIGZvY3VzSW5wdXQoY20pO1xuICAgICAgb2ZmKGRvY3VtZW50LCBcIm1vdXNlbW92ZVwiLCBtb3ZlKTtcbiAgICAgIG9mZihkb2N1bWVudCwgXCJtb3VzZXVwXCIsIHVwKTtcbiAgICAgIGRvYy5oaXN0b3J5Lmxhc3RTZWxPcmlnaW4gPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBtb3ZlID0gb3BlcmF0aW9uKGNtLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoIWVfYnV0dG9uKGUpKSBkb25lKGUpO1xuICAgICAgZWxzZSBleHRlbmQoZSk7XG4gICAgfSk7XG4gICAgdmFyIHVwID0gb3BlcmF0aW9uKGNtLCBkb25lKTtcbiAgICBvbihkb2N1bWVudCwgXCJtb3VzZW1vdmVcIiwgbW92ZSk7XG4gICAgb24oZG9jdW1lbnQsIFwibW91c2V1cFwiLCB1cCk7XG4gIH1cblxuICAvLyBEZXRlcm1pbmVzIHdoZXRoZXIgYW4gZXZlbnQgaGFwcGVuZWQgaW4gdGhlIGd1dHRlciwgYW5kIGZpcmVzIHRoZVxuICAvLyBoYW5kbGVycyBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgZXZlbnQuXG4gIGZ1bmN0aW9uIGd1dHRlckV2ZW50KGNtLCBlLCB0eXBlLCBwcmV2ZW50LCBzaWduYWxmbikge1xuICAgIHRyeSB7IHZhciBtWCA9IGUuY2xpZW50WCwgbVkgPSBlLmNsaWVudFk7IH1cbiAgICBjYXRjaChlKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGlmIChtWCA+PSBNYXRoLmZsb29yKGNtLmRpc3BsYXkuZ3V0dGVycy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAocHJldmVudCkgZV9wcmV2ZW50RGVmYXVsdChlKTtcblxuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICB2YXIgbGluZUJveCA9IGRpc3BsYXkubGluZURpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGlmIChtWSA+IGxpbmVCb3guYm90dG9tIHx8ICFoYXNIYW5kbGVyKGNtLCB0eXBlKSkgcmV0dXJuIGVfZGVmYXVsdFByZXZlbnRlZChlKTtcbiAgICBtWSAtPSBsaW5lQm94LnRvcCAtIGRpc3BsYXkudmlld09mZnNldDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY20ub3B0aW9ucy5ndXR0ZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgZyA9IGRpc3BsYXkuZ3V0dGVycy5jaGlsZE5vZGVzW2ldO1xuICAgICAgaWYgKGcgJiYgZy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCA+PSBtWCkge1xuICAgICAgICB2YXIgbGluZSA9IGxpbmVBdEhlaWdodChjbS5kb2MsIG1ZKTtcbiAgICAgICAgdmFyIGd1dHRlciA9IGNtLm9wdGlvbnMuZ3V0dGVyc1tpXTtcbiAgICAgICAgc2lnbmFsZm4oY20sIHR5cGUsIGNtLCBsaW5lLCBndXR0ZXIsIGUpO1xuICAgICAgICByZXR1cm4gZV9kZWZhdWx0UHJldmVudGVkKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsaWNrSW5HdXR0ZXIoY20sIGUpIHtcbiAgICByZXR1cm4gZ3V0dGVyRXZlbnQoY20sIGUsIFwiZ3V0dGVyQ2xpY2tcIiwgdHJ1ZSwgc2lnbmFsTGF0ZXIpO1xuICB9XG5cbiAgLy8gS2x1ZGdlIHRvIHdvcmsgYXJvdW5kIHN0cmFuZ2UgSUUgYmVoYXZpb3Igd2hlcmUgaXQnbGwgc29tZXRpbWVzXG4gIC8vIHJlLWZpcmUgYSBzZXJpZXMgb2YgZHJhZy1yZWxhdGVkIGV2ZW50cyByaWdodCBhZnRlciB0aGUgZHJvcCAoIzE1NTEpXG4gIHZhciBsYXN0RHJvcCA9IDA7XG5cbiAgZnVuY3Rpb24gb25Ecm9wKGUpIHtcbiAgICB2YXIgY20gPSB0aGlzO1xuICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkgfHwgZXZlbnRJbldpZGdldChjbS5kaXNwbGF5LCBlKSlcbiAgICAgIHJldHVybjtcbiAgICBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgIGlmIChpZSkgbGFzdERyb3AgPSArbmV3IERhdGU7XG4gICAgdmFyIHBvcyA9IHBvc0Zyb21Nb3VzZShjbSwgZSwgdHJ1ZSksIGZpbGVzID0gZS5kYXRhVHJhbnNmZXIuZmlsZXM7XG4gICAgaWYgKCFwb3MgfHwgaXNSZWFkT25seShjbSkpIHJldHVybjtcbiAgICAvLyBNaWdodCBiZSBhIGZpbGUgZHJvcCwgaW4gd2hpY2ggY2FzZSB3ZSBzaW1wbHkgZXh0cmFjdCB0aGUgdGV4dFxuICAgIC8vIGFuZCBpbnNlcnQgaXQuXG4gICAgaWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCAmJiB3aW5kb3cuRmlsZVJlYWRlciAmJiB3aW5kb3cuRmlsZSkge1xuICAgICAgdmFyIG4gPSBmaWxlcy5sZW5ndGgsIHRleHQgPSBBcnJheShuKSwgcmVhZCA9IDA7XG4gICAgICB2YXIgbG9hZEZpbGUgPSBmdW5jdGlvbihmaWxlLCBpKSB7XG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcjtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IG9wZXJhdGlvbihjbSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGV4dFtpXSA9IHJlYWRlci5yZXN1bHQ7XG4gICAgICAgICAgaWYgKCsrcmVhZCA9PSBuKSB7XG4gICAgICAgICAgICBwb3MgPSBjbGlwUG9zKGNtLmRvYywgcG9zKTtcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSB7ZnJvbTogcG9zLCB0bzogcG9zLCB0ZXh0OiBzcGxpdExpbmVzKHRleHQuam9pbihcIlxcblwiKSksIG9yaWdpbjogXCJwYXN0ZVwifTtcbiAgICAgICAgICAgIG1ha2VDaGFuZ2UoY20uZG9jLCBjaGFuZ2UpO1xuICAgICAgICAgICAgc2V0U2VsZWN0aW9uUmVwbGFjZUhpc3RvcnkoY20uZG9jLCBzaW1wbGVTZWxlY3Rpb24ocG9zLCBjaGFuZ2VFbmQoY2hhbmdlKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xuICAgICAgfTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKSBsb2FkRmlsZShmaWxlc1tpXSwgaSk7XG4gICAgfSBlbHNlIHsgLy8gTm9ybWFsIGRyb3BcbiAgICAgIC8vIERvbid0IGRvIGEgcmVwbGFjZSBpZiB0aGUgZHJvcCBoYXBwZW5lZCBpbnNpZGUgb2YgdGhlIHNlbGVjdGVkIHRleHQuXG4gICAgICBpZiAoY20uc3RhdGUuZHJhZ2dpbmdUZXh0ICYmIGNtLmRvYy5zZWwuY29udGFpbnMocG9zKSA+IC0xKSB7XG4gICAgICAgIGNtLnN0YXRlLmRyYWdnaW5nVGV4dChlKTtcbiAgICAgICAgLy8gRW5zdXJlIHRoZSBlZGl0b3IgaXMgcmUtZm9jdXNlZFxuICAgICAgICBzZXRUaW1lb3V0KGJpbmQoZm9jdXNJbnB1dCwgY20pLCAyMCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciB0ZXh0ID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcIlRleHRcIik7XG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgaWYgKGNtLnN0YXRlLmRyYWdnaW5nVGV4dCAmJiAhKG1hYyA/IGUubWV0YUtleSA6IGUuY3RybEtleSkpXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBjbS5saXN0U2VsZWN0aW9ucygpO1xuICAgICAgICAgIHNldFNlbGVjdGlvbk5vVW5kbyhjbS5kb2MsIHNpbXBsZVNlbGVjdGlvbihwb3MsIHBvcykpO1xuICAgICAgICAgIGlmIChzZWxlY3RlZCkgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHJlcGxhY2VSYW5nZShjbS5kb2MsIFwiXCIsIHNlbGVjdGVkW2ldLmFuY2hvciwgc2VsZWN0ZWRbaV0uaGVhZCwgXCJkcmFnXCIpO1xuICAgICAgICAgIGNtLnJlcGxhY2VTZWxlY3Rpb24odGV4dCwgXCJhcm91bmRcIiwgXCJwYXN0ZVwiKTtcbiAgICAgICAgICBmb2N1c0lucHV0KGNtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2F0Y2goZSl7fVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGNtLCBlKSB7XG4gICAgaWYgKGllICYmICghY20uc3RhdGUuZHJhZ2dpbmdUZXh0IHx8ICtuZXcgRGF0ZSAtIGxhc3REcm9wIDwgMTAwKSkgeyBlX3N0b3AoZSk7IHJldHVybjsgfVxuICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkgfHwgZXZlbnRJbldpZGdldChjbS5kaXNwbGF5LCBlKSkgcmV0dXJuO1xuXG4gICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcIlRleHRcIiwgY20uZ2V0U2VsZWN0aW9uKCkpO1xuXG4gICAgLy8gVXNlIGR1bW15IGltYWdlIGluc3RlYWQgb2YgZGVmYXVsdCBicm93c2VycyBpbWFnZS5cbiAgICAvLyBSZWNlbnQgU2FmYXJpICh+Ni4wLjIpIGhhdmUgYSB0ZW5kZW5jeSB0byBzZWdmYXVsdCB3aGVuIHRoaXMgaGFwcGVucywgc28gd2UgZG9uJ3QgZG8gaXQgdGhlcmUuXG4gICAgaWYgKGUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZSAmJiAhc2FmYXJpKSB7XG4gICAgICB2YXIgaW1nID0gZWx0KFwiaW1nXCIsIG51bGwsIG51bGwsIFwicG9zaXRpb246IGZpeGVkOyBsZWZ0OiAwOyB0b3A6IDA7XCIpO1xuICAgICAgaW1nLnNyYyA9IFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBQUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT1cIjtcbiAgICAgIGlmIChwcmVzdG8pIHtcbiAgICAgICAgaW1nLndpZHRoID0gaW1nLmhlaWdodCA9IDE7XG4gICAgICAgIGNtLmRpc3BsYXkud3JhcHBlci5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgICAvLyBGb3JjZSBhIHJlbGF5b3V0LCBvciBPcGVyYSB3b24ndCB1c2Ugb3VyIGltYWdlIGZvciBzb21lIG9ic2N1cmUgcmVhc29uXG4gICAgICAgIGltZy5fdG9wID0gaW1nLm9mZnNldFRvcDtcbiAgICAgIH1cbiAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgaWYgKHByZXN0bykgaW1nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaW1nKTtcbiAgICB9XG4gIH1cblxuICAvLyBTQ1JPTEwgRVZFTlRTXG5cbiAgLy8gU3luYyB0aGUgc2Nyb2xsYWJsZSBhcmVhIGFuZCBzY3JvbGxiYXJzLCBlbnN1cmUgdGhlIHZpZXdwb3J0XG4gIC8vIGNvdmVycyB0aGUgdmlzaWJsZSBhcmVhLlxuICBmdW5jdGlvbiBzZXRTY3JvbGxUb3AoY20sIHZhbCkge1xuICAgIGlmIChNYXRoLmFicyhjbS5kb2Muc2Nyb2xsVG9wIC0gdmFsKSA8IDIpIHJldHVybjtcbiAgICBjbS5kb2Muc2Nyb2xsVG9wID0gdmFsO1xuICAgIGlmICghZ2Vja28pIHVwZGF0ZURpc3BsYXlTaW1wbGUoY20sIHt0b3A6IHZhbH0pO1xuICAgIGlmIChjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCAhPSB2YWwpIGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wID0gdmFsO1xuICAgIGlmIChjbS5kaXNwbGF5LnNjcm9sbGJhclYuc2Nyb2xsVG9wICE9IHZhbCkgY20uZGlzcGxheS5zY3JvbGxiYXJWLnNjcm9sbFRvcCA9IHZhbDtcbiAgICBpZiAoZ2Vja28pIHVwZGF0ZURpc3BsYXlTaW1wbGUoY20pO1xuICAgIHN0YXJ0V29ya2VyKGNtLCAxMDApO1xuICB9XG4gIC8vIFN5bmMgc2Nyb2xsZXIgYW5kIHNjcm9sbGJhciwgZW5zdXJlIHRoZSBndXR0ZXIgZWxlbWVudHMgYXJlXG4gIC8vIGFsaWduZWQuXG4gIGZ1bmN0aW9uIHNldFNjcm9sbExlZnQoY20sIHZhbCwgaXNTY3JvbGxlcikge1xuICAgIGlmIChpc1Njcm9sbGVyID8gdmFsID09IGNtLmRvYy5zY3JvbGxMZWZ0IDogTWF0aC5hYnMoY20uZG9jLnNjcm9sbExlZnQgLSB2YWwpIDwgMikgcmV0dXJuO1xuICAgIHZhbCA9IE1hdGgubWluKHZhbCwgY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxXaWR0aCAtIGNtLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGgpO1xuICAgIGNtLmRvYy5zY3JvbGxMZWZ0ID0gdmFsO1xuICAgIGFsaWduSG9yaXpvbnRhbGx5KGNtKTtcbiAgICBpZiAoY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ICE9IHZhbCkgY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ID0gdmFsO1xuICAgIGlmIChjbS5kaXNwbGF5LnNjcm9sbGJhckguc2Nyb2xsTGVmdCAhPSB2YWwpIGNtLmRpc3BsYXkuc2Nyb2xsYmFySC5zY3JvbGxMZWZ0ID0gdmFsO1xuICB9XG5cbiAgLy8gU2luY2UgdGhlIGRlbHRhIHZhbHVlcyByZXBvcnRlZCBvbiBtb3VzZSB3aGVlbCBldmVudHMgYXJlXG4gIC8vIHVuc3RhbmRhcmRpemVkIGJldHdlZW4gYnJvd3NlcnMgYW5kIGV2ZW4gYnJvd3NlciB2ZXJzaW9ucywgYW5kXG4gIC8vIGdlbmVyYWxseSBob3JyaWJseSB1bnByZWRpY3RhYmxlLCB0aGlzIGNvZGUgc3RhcnRzIGJ5IG1lYXN1cmluZ1xuICAvLyB0aGUgc2Nyb2xsIGVmZmVjdCB0aGF0IHRoZSBmaXJzdCBmZXcgbW91c2Ugd2hlZWwgZXZlbnRzIGhhdmUsXG4gIC8vIGFuZCwgZnJvbSB0aGF0LCBkZXRlY3RzIHRoZSB3YXkgaXQgY2FuIGNvbnZlcnQgZGVsdGFzIHRvIHBpeGVsXG4gIC8vIG9mZnNldHMgYWZ0ZXJ3YXJkcy5cbiAgLy9cbiAgLy8gVGhlIHJlYXNvbiB3ZSB3YW50IHRvIGtub3cgdGhlIGFtb3VudCBhIHdoZWVsIGV2ZW50IHdpbGwgc2Nyb2xsXG4gIC8vIGlzIHRoYXQgaXQgZ2l2ZXMgdXMgYSBjaGFuY2UgdG8gdXBkYXRlIHRoZSBkaXNwbGF5IGJlZm9yZSB0aGVcbiAgLy8gYWN0dWFsIHNjcm9sbGluZyBoYXBwZW5zLCByZWR1Y2luZyBmbGlja2VyaW5nLlxuXG4gIHZhciB3aGVlbFNhbXBsZXMgPSAwLCB3aGVlbFBpeGVsc1BlclVuaXQgPSBudWxsO1xuICAvLyBGaWxsIGluIGEgYnJvd3Nlci1kZXRlY3RlZCBzdGFydGluZyB2YWx1ZSBvbiBicm93c2VycyB3aGVyZSB3ZVxuICAvLyBrbm93IG9uZS4gVGhlc2UgZG9uJ3QgaGF2ZSB0byBiZSBhY2N1cmF0ZSAtLSB0aGUgcmVzdWx0IG9mIHRoZW1cbiAgLy8gYmVpbmcgd3Jvbmcgd291bGQganVzdCBiZSBhIHNsaWdodCBmbGlja2VyIG9uIHRoZSBmaXJzdCB3aGVlbFxuICAvLyBzY3JvbGwgKGlmIGl0IGlzIGxhcmdlIGVub3VnaCkuXG4gIGlmIChpZSkgd2hlZWxQaXhlbHNQZXJVbml0ID0gLS41MztcbiAgZWxzZSBpZiAoZ2Vja28pIHdoZWVsUGl4ZWxzUGVyVW5pdCA9IDE1O1xuICBlbHNlIGlmIChjaHJvbWUpIHdoZWVsUGl4ZWxzUGVyVW5pdCA9IC0uNztcbiAgZWxzZSBpZiAoc2FmYXJpKSB3aGVlbFBpeGVsc1BlclVuaXQgPSAtMS8zO1xuXG4gIGZ1bmN0aW9uIG9uU2Nyb2xsV2hlZWwoY20sIGUpIHtcbiAgICB2YXIgZHggPSBlLndoZWVsRGVsdGFYLCBkeSA9IGUud2hlZWxEZWx0YVk7XG4gICAgaWYgKGR4ID09IG51bGwgJiYgZS5kZXRhaWwgJiYgZS5heGlzID09IGUuSE9SSVpPTlRBTF9BWElTKSBkeCA9IGUuZGV0YWlsO1xuICAgIGlmIChkeSA9PSBudWxsICYmIGUuZGV0YWlsICYmIGUuYXhpcyA9PSBlLlZFUlRJQ0FMX0FYSVMpIGR5ID0gZS5kZXRhaWw7XG4gICAgZWxzZSBpZiAoZHkgPT0gbnVsbCkgZHkgPSBlLndoZWVsRGVsdGE7XG5cbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIHNjcm9sbCA9IGRpc3BsYXkuc2Nyb2xsZXI7XG4gICAgLy8gUXVpdCBpZiB0aGVyZSdzIG5vdGhpbmcgdG8gc2Nyb2xsIGhlcmVcbiAgICBpZiAoIShkeCAmJiBzY3JvbGwuc2Nyb2xsV2lkdGggPiBzY3JvbGwuY2xpZW50V2lkdGggfHxcbiAgICAgICAgICBkeSAmJiBzY3JvbGwuc2Nyb2xsSGVpZ2h0ID4gc2Nyb2xsLmNsaWVudEhlaWdodCkpIHJldHVybjtcblxuICAgIC8vIFdlYmtpdCBicm93c2VycyBvbiBPUyBYIGFib3J0IG1vbWVudHVtIHNjcm9sbHMgd2hlbiB0aGUgdGFyZ2V0XG4gICAgLy8gb2YgdGhlIHNjcm9sbCBldmVudCBpcyByZW1vdmVkIGZyb20gdGhlIHNjcm9sbGFibGUgZWxlbWVudC5cbiAgICAvLyBUaGlzIGhhY2sgKHNlZSByZWxhdGVkIGNvZGUgaW4gcGF0Y2hEaXNwbGF5KSBtYWtlcyBzdXJlIHRoZVxuICAgIC8vIGVsZW1lbnQgaXMga2VwdCBhcm91bmQuXG4gICAgaWYgKGR5ICYmIG1hYyAmJiB3ZWJraXQpIHtcbiAgICAgIG91dGVyOiBmb3IgKHZhciBjdXIgPSBlLnRhcmdldCwgdmlldyA9IGRpc3BsYXkudmlldzsgY3VyICE9IHNjcm9sbDsgY3VyID0gY3VyLnBhcmVudE5vZGUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHZpZXdbaV0ubm9kZSA9PSBjdXIpIHtcbiAgICAgICAgICAgIGNtLmRpc3BsYXkuY3VycmVudFdoZWVsVGFyZ2V0ID0gY3VyO1xuICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gT24gc29tZSBicm93c2VycywgaG9yaXpvbnRhbCBzY3JvbGxpbmcgd2lsbCBjYXVzZSByZWRyYXdzIHRvXG4gICAgLy8gaGFwcGVuIGJlZm9yZSB0aGUgZ3V0dGVyIGhhcyBiZWVuIHJlYWxpZ25lZCwgY2F1c2luZyBpdCB0b1xuICAgIC8vIHdyaWdnbGUgYXJvdW5kIGluIGEgbW9zdCB1bnNlZW1seSB3YXkuIFdoZW4gd2UgaGF2ZSBhblxuICAgIC8vIGVzdGltYXRlZCBwaXhlbHMvZGVsdGEgdmFsdWUsIHdlIGp1c3QgaGFuZGxlIGhvcml6b250YWxcbiAgICAvLyBzY3JvbGxpbmcgZW50aXJlbHkgaGVyZS4gSXQnbGwgYmUgc2xpZ2h0bHkgb2ZmIGZyb20gbmF0aXZlLCBidXRcbiAgICAvLyBiZXR0ZXIgdGhhbiBnbGl0Y2hpbmcgb3V0LlxuICAgIGlmIChkeCAmJiAhZ2Vja28gJiYgIXByZXN0byAmJiB3aGVlbFBpeGVsc1BlclVuaXQgIT0gbnVsbCkge1xuICAgICAgaWYgKGR5KVxuICAgICAgICBzZXRTY3JvbGxUb3AoY20sIE1hdGgubWF4KDAsIE1hdGgubWluKHNjcm9sbC5zY3JvbGxUb3AgKyBkeSAqIHdoZWVsUGl4ZWxzUGVyVW5pdCwgc2Nyb2xsLnNjcm9sbEhlaWdodCAtIHNjcm9sbC5jbGllbnRIZWlnaHQpKSk7XG4gICAgICBzZXRTY3JvbGxMZWZ0KGNtLCBNYXRoLm1heCgwLCBNYXRoLm1pbihzY3JvbGwuc2Nyb2xsTGVmdCArIGR4ICogd2hlZWxQaXhlbHNQZXJVbml0LCBzY3JvbGwuc2Nyb2xsV2lkdGggLSBzY3JvbGwuY2xpZW50V2lkdGgpKSk7XG4gICAgICBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgZGlzcGxheS53aGVlbFN0YXJ0WCA9IG51bGw7IC8vIEFib3J0IG1lYXN1cmVtZW50LCBpZiBpbiBwcm9ncmVzc1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vICdQcm9qZWN0JyB0aGUgdmlzaWJsZSB2aWV3cG9ydCB0byBjb3ZlciB0aGUgYXJlYSB0aGF0IGlzIGJlaW5nXG4gICAgLy8gc2Nyb2xsZWQgaW50byB2aWV3IChpZiB3ZSBrbm93IGVub3VnaCB0byBlc3RpbWF0ZSBpdCkuXG4gICAgaWYgKGR5ICYmIHdoZWVsUGl4ZWxzUGVyVW5pdCAhPSBudWxsKSB7XG4gICAgICB2YXIgcGl4ZWxzID0gZHkgKiB3aGVlbFBpeGVsc1BlclVuaXQ7XG4gICAgICB2YXIgdG9wID0gY20uZG9jLnNjcm9sbFRvcCwgYm90ID0gdG9wICsgZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodDtcbiAgICAgIGlmIChwaXhlbHMgPCAwKSB0b3AgPSBNYXRoLm1heCgwLCB0b3AgKyBwaXhlbHMgLSA1MCk7XG4gICAgICBlbHNlIGJvdCA9IE1hdGgubWluKGNtLmRvYy5oZWlnaHQsIGJvdCArIHBpeGVscyArIDUwKTtcbiAgICAgIHVwZGF0ZURpc3BsYXlTaW1wbGUoY20sIHt0b3A6IHRvcCwgYm90dG9tOiBib3R9KTtcbiAgICB9XG5cbiAgICBpZiAod2hlZWxTYW1wbGVzIDwgMjApIHtcbiAgICAgIGlmIChkaXNwbGF5LndoZWVsU3RhcnRYID09IG51bGwpIHtcbiAgICAgICAgZGlzcGxheS53aGVlbFN0YXJ0WCA9IHNjcm9sbC5zY3JvbGxMZWZ0OyBkaXNwbGF5LndoZWVsU3RhcnRZID0gc2Nyb2xsLnNjcm9sbFRvcDtcbiAgICAgICAgZGlzcGxheS53aGVlbERYID0gZHg7IGRpc3BsYXkud2hlZWxEWSA9IGR5O1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChkaXNwbGF5LndoZWVsU3RhcnRYID09IG51bGwpIHJldHVybjtcbiAgICAgICAgICB2YXIgbW92ZWRYID0gc2Nyb2xsLnNjcm9sbExlZnQgLSBkaXNwbGF5LndoZWVsU3RhcnRYO1xuICAgICAgICAgIHZhciBtb3ZlZFkgPSBzY3JvbGwuc2Nyb2xsVG9wIC0gZGlzcGxheS53aGVlbFN0YXJ0WTtcbiAgICAgICAgICB2YXIgc2FtcGxlID0gKG1vdmVkWSAmJiBkaXNwbGF5LndoZWVsRFkgJiYgbW92ZWRZIC8gZGlzcGxheS53aGVlbERZKSB8fFxuICAgICAgICAgICAgKG1vdmVkWCAmJiBkaXNwbGF5LndoZWVsRFggJiYgbW92ZWRYIC8gZGlzcGxheS53aGVlbERYKTtcbiAgICAgICAgICBkaXNwbGF5LndoZWVsU3RhcnRYID0gZGlzcGxheS53aGVlbFN0YXJ0WSA9IG51bGw7XG4gICAgICAgICAgaWYgKCFzYW1wbGUpIHJldHVybjtcbiAgICAgICAgICB3aGVlbFBpeGVsc1BlclVuaXQgPSAod2hlZWxQaXhlbHNQZXJVbml0ICogd2hlZWxTYW1wbGVzICsgc2FtcGxlKSAvICh3aGVlbFNhbXBsZXMgKyAxKTtcbiAgICAgICAgICArK3doZWVsU2FtcGxlcztcbiAgICAgICAgfSwgMjAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc3BsYXkud2hlZWxEWCArPSBkeDsgZGlzcGxheS53aGVlbERZICs9IGR5O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEtFWSBFVkVOVFNcblxuICAvLyBSdW4gYSBoYW5kbGVyIHRoYXQgd2FzIGJvdW5kIHRvIGEga2V5LlxuICBmdW5jdGlvbiBkb0hhbmRsZUJpbmRpbmcoY20sIGJvdW5kLCBkcm9wU2hpZnQpIHtcbiAgICBpZiAodHlwZW9mIGJvdW5kID09IFwic3RyaW5nXCIpIHtcbiAgICAgIGJvdW5kID0gY29tbWFuZHNbYm91bmRdO1xuICAgICAgaWYgKCFib3VuZCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBFbnN1cmUgcHJldmlvdXMgaW5wdXQgaGFzIGJlZW4gcmVhZCwgc28gdGhhdCB0aGUgaGFuZGxlciBzZWVzIGFcbiAgICAvLyBjb25zaXN0ZW50IHZpZXcgb2YgdGhlIGRvY3VtZW50XG4gICAgaWYgKGNtLmRpc3BsYXkucG9sbGluZ0Zhc3QgJiYgcmVhZElucHV0KGNtKSkgY20uZGlzcGxheS5wb2xsaW5nRmFzdCA9IGZhbHNlO1xuICAgIHZhciBwcmV2U2hpZnQgPSBjbS5kaXNwbGF5LnNoaWZ0LCBkb25lID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc1JlYWRPbmx5KGNtKSkgY20uc3RhdGUuc3VwcHJlc3NFZGl0cyA9IHRydWU7XG4gICAgICBpZiAoZHJvcFNoaWZ0KSBjbS5kaXNwbGF5LnNoaWZ0ID0gZmFsc2U7XG4gICAgICBkb25lID0gYm91bmQoY20pICE9IFBhc3M7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNtLmRpc3BsYXkuc2hpZnQgPSBwcmV2U2hpZnQ7XG4gICAgICBjbS5zdGF0ZS5zdXBwcmVzc0VkaXRzID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBkb25lO1xuICB9XG5cbiAgLy8gQ29sbGVjdCB0aGUgY3VycmVudGx5IGFjdGl2ZSBrZXltYXBzLlxuICBmdW5jdGlvbiBhbGxLZXlNYXBzKGNtKSB7XG4gICAgdmFyIG1hcHMgPSBjbS5zdGF0ZS5rZXlNYXBzLnNsaWNlKDApO1xuICAgIGlmIChjbS5vcHRpb25zLmV4dHJhS2V5cykgbWFwcy5wdXNoKGNtLm9wdGlvbnMuZXh0cmFLZXlzKTtcbiAgICBtYXBzLnB1c2goY20ub3B0aW9ucy5rZXlNYXApO1xuICAgIHJldHVybiBtYXBzO1xuICB9XG5cbiAgdmFyIG1heWJlVHJhbnNpdGlvbjtcbiAgLy8gSGFuZGxlIGEga2V5IGZyb20gdGhlIGtleWRvd24gZXZlbnQuXG4gIGZ1bmN0aW9uIGhhbmRsZUtleUJpbmRpbmcoY20sIGUpIHtcbiAgICAvLyBIYW5kbGUgYXV0b21hdGljIGtleW1hcCB0cmFuc2l0aW9uc1xuICAgIHZhciBzdGFydE1hcCA9IGdldEtleU1hcChjbS5vcHRpb25zLmtleU1hcCksIG5leHQgPSBzdGFydE1hcC5hdXRvO1xuICAgIGNsZWFyVGltZW91dChtYXliZVRyYW5zaXRpb24pO1xuICAgIGlmIChuZXh0ICYmICFpc01vZGlmaWVyS2V5KGUpKSBtYXliZVRyYW5zaXRpb24gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGdldEtleU1hcChjbS5vcHRpb25zLmtleU1hcCkgPT0gc3RhcnRNYXApIHtcbiAgICAgICAgY20ub3B0aW9ucy5rZXlNYXAgPSAobmV4dC5jYWxsID8gbmV4dC5jYWxsKG51bGwsIGNtKSA6IG5leHQpO1xuICAgICAgICBrZXlNYXBDaGFuZ2VkKGNtKTtcbiAgICAgIH1cbiAgICB9LCA1MCk7XG5cbiAgICB2YXIgbmFtZSA9IGtleU5hbWUoZSwgdHJ1ZSksIGhhbmRsZWQgPSBmYWxzZTtcbiAgICBpZiAoIW5hbWUpIHJldHVybiBmYWxzZTtcbiAgICB2YXIga2V5bWFwcyA9IGFsbEtleU1hcHMoY20pO1xuXG4gICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgIC8vIEZpcnN0IHRyeSB0byByZXNvbHZlIGZ1bGwgbmFtZSAoaW5jbHVkaW5nICdTaGlmdC0nKS4gRmFpbGluZ1xuICAgICAgLy8gdGhhdCwgc2VlIGlmIHRoZXJlIGlzIGEgY3Vyc29yLW1vdGlvbiBjb21tYW5kIChzdGFydGluZyB3aXRoXG4gICAgICAvLyAnZ28nKSBib3VuZCB0byB0aGUga2V5bmFtZSB3aXRob3V0ICdTaGlmdC0nLlxuICAgICAgaGFuZGxlZCA9IGxvb2t1cEtleShcIlNoaWZ0LVwiICsgbmFtZSwga2V5bWFwcywgZnVuY3Rpb24oYikge3JldHVybiBkb0hhbmRsZUJpbmRpbmcoY20sIGIsIHRydWUpO30pXG4gICAgICAgICAgICAgfHwgbG9va3VwS2V5KG5hbWUsIGtleW1hcHMsIGZ1bmN0aW9uKGIpIHtcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYiA9PSBcInN0cmluZ1wiID8gL15nb1tBLVpdLy50ZXN0KGIpIDogYi5tb3Rpb24pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkb0hhbmRsZUJpbmRpbmcoY20sIGIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVkID0gbG9va3VwS2V5KG5hbWUsIGtleW1hcHMsIGZ1bmN0aW9uKGIpIHsgcmV0dXJuIGRvSGFuZGxlQmluZGluZyhjbSwgYik7IH0pO1xuICAgIH1cblxuICAgIGlmIChoYW5kbGVkKSB7XG4gICAgICBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgcmVzdGFydEJsaW5rKGNtKTtcbiAgICAgIHNpZ25hbExhdGVyKGNtLCBcImtleUhhbmRsZWRcIiwgY20sIG5hbWUsIGUpO1xuICAgIH1cbiAgICByZXR1cm4gaGFuZGxlZDtcbiAgfVxuXG4gIC8vIEhhbmRsZSBhIGtleSBmcm9tIHRoZSBrZXlwcmVzcyBldmVudFxuICBmdW5jdGlvbiBoYW5kbGVDaGFyQmluZGluZyhjbSwgZSwgY2gpIHtcbiAgICB2YXIgaGFuZGxlZCA9IGxvb2t1cEtleShcIidcIiArIGNoICsgXCInXCIsIGFsbEtleU1hcHMoY20pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGIpIHsgcmV0dXJuIGRvSGFuZGxlQmluZGluZyhjbSwgYiwgdHJ1ZSk7IH0pO1xuICAgIGlmIChoYW5kbGVkKSB7XG4gICAgICBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgcmVzdGFydEJsaW5rKGNtKTtcbiAgICAgIHNpZ25hbExhdGVyKGNtLCBcImtleUhhbmRsZWRcIiwgY20sIFwiJ1wiICsgY2ggKyBcIidcIiwgZSk7XG4gICAgfVxuICAgIHJldHVybiBoYW5kbGVkO1xuICB9XG5cbiAgdmFyIGxhc3RTdG9wcGVkS2V5ID0gbnVsbDtcbiAgZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICB2YXIgY20gPSB0aGlzO1xuICAgIGVuc3VyZUZvY3VzKGNtKTtcbiAgICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sIGUpKSByZXR1cm47XG4gICAgLy8gSUUgZG9lcyBzdHJhbmdlIHRoaW5ncyB3aXRoIGVzY2FwZS5cbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDExICYmIGUua2V5Q29kZSA9PSAyNykgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgIHZhciBjb2RlID0gZS5rZXlDb2RlO1xuICAgIGNtLmRpc3BsYXkuc2hpZnQgPSBjb2RlID09IDE2IHx8IGUuc2hpZnRLZXk7XG4gICAgdmFyIGhhbmRsZWQgPSBoYW5kbGVLZXlCaW5kaW5nKGNtLCBlKTtcbiAgICBpZiAocHJlc3RvKSB7XG4gICAgICBsYXN0U3RvcHBlZEtleSA9IGhhbmRsZWQgPyBjb2RlIDogbnVsbDtcbiAgICAgIC8vIE9wZXJhIGhhcyBubyBjdXQgZXZlbnQuLi4gd2UgdHJ5IHRvIGF0IGxlYXN0IGNhdGNoIHRoZSBrZXkgY29tYm9cbiAgICAgIGlmICghaGFuZGxlZCAmJiBjb2RlID09IDg4ICYmICFoYXNDb3B5RXZlbnQgJiYgKG1hYyA/IGUubWV0YUtleSA6IGUuY3RybEtleSkpXG4gICAgICAgIGNtLnJlcGxhY2VTZWxlY3Rpb24oXCJcIiwgbnVsbCwgXCJjdXRcIik7XG4gICAgfVxuXG4gICAgLy8gVHVybiBtb3VzZSBpbnRvIGNyb3NzaGFpciB3aGVuIEFsdCBpcyBoZWxkIG9uIE1hYy5cbiAgICBpZiAoY29kZSA9PSAxOCAmJiAhL1xcYkNvZGVNaXJyb3ItY3Jvc3NoYWlyXFxiLy50ZXN0KGNtLmRpc3BsYXkubGluZURpdi5jbGFzc05hbWUpKVxuICAgICAgc2hvd0Nyb3NzSGFpcihjbSk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93Q3Jvc3NIYWlyKGNtKSB7XG4gICAgdmFyIGxpbmVEaXYgPSBjbS5kaXNwbGF5LmxpbmVEaXY7XG4gICAgYWRkQ2xhc3MobGluZURpdiwgXCJDb2RlTWlycm9yLWNyb3NzaGFpclwiKTtcblxuICAgIGZ1bmN0aW9uIHVwKGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgPT0gMTggfHwgIWUuYWx0S2V5KSB7XG4gICAgICAgIHJtQ2xhc3MobGluZURpdiwgXCJDb2RlTWlycm9yLWNyb3NzaGFpclwiKTtcbiAgICAgICAgb2ZmKGRvY3VtZW50LCBcImtleXVwXCIsIHVwKTtcbiAgICAgICAgb2ZmKGRvY3VtZW50LCBcIm1vdXNlb3ZlclwiLCB1cCk7XG4gICAgICB9XG4gICAgfVxuICAgIG9uKGRvY3VtZW50LCBcImtleXVwXCIsIHVwKTtcbiAgICBvbihkb2N1bWVudCwgXCJtb3VzZW92ZXJcIiwgdXApO1xuICB9XG5cbiAgZnVuY3Rpb24gb25LZXlVcChlKSB7XG4gICAgaWYgKGUua2V5Q29kZSA9PSAxNikgdGhpcy5kb2Muc2VsLnNoaWZ0ID0gZmFsc2U7XG4gICAgc2lnbmFsRE9NRXZlbnQodGhpcywgZSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbktleVByZXNzKGUpIHtcbiAgICB2YXIgY20gPSB0aGlzO1xuICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkgfHwgZS5jdHJsS2V5ICYmICFlLmFsdEtleSB8fCBtYWMgJiYgZS5tZXRhS2V5KSByZXR1cm47XG4gICAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGUsIGNoYXJDb2RlID0gZS5jaGFyQ29kZTtcbiAgICBpZiAocHJlc3RvICYmIGtleUNvZGUgPT0gbGFzdFN0b3BwZWRLZXkpIHtsYXN0U3RvcHBlZEtleSA9IG51bGw7IGVfcHJldmVudERlZmF1bHQoZSk7IHJldHVybjt9XG4gICAgaWYgKCgocHJlc3RvICYmICghZS53aGljaCB8fCBlLndoaWNoIDwgMTApKSB8fCBraHRtbCkgJiYgaGFuZGxlS2V5QmluZGluZyhjbSwgZSkpIHJldHVybjtcbiAgICB2YXIgY2ggPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJDb2RlID09IG51bGwgPyBrZXlDb2RlIDogY2hhckNvZGUpO1xuICAgIGlmIChoYW5kbGVDaGFyQmluZGluZyhjbSwgZSwgY2gpKSByZXR1cm47XG4gICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSkgY20uZGlzcGxheS5pbnB1dEhhc1NlbGVjdGlvbiA9IG51bGw7XG4gICAgZmFzdFBvbGwoY20pO1xuICB9XG5cbiAgLy8gRk9DVVMvQkxVUiBFVkVOVFNcblxuICBmdW5jdGlvbiBvbkZvY3VzKGNtKSB7XG4gICAgaWYgKGNtLm9wdGlvbnMucmVhZE9ubHkgPT0gXCJub2N1cnNvclwiKSByZXR1cm47XG4gICAgaWYgKCFjbS5zdGF0ZS5mb2N1c2VkKSB7XG4gICAgICBzaWduYWwoY20sIFwiZm9jdXNcIiwgY20pO1xuICAgICAgY20uc3RhdGUuZm9jdXNlZCA9IHRydWU7XG4gICAgICBhZGRDbGFzcyhjbS5kaXNwbGF5LndyYXBwZXIsIFwiQ29kZU1pcnJvci1mb2N1c2VkXCIpO1xuICAgICAgLy8gVGhlIHByZXZJbnB1dCB0ZXN0IHByZXZlbnRzIHRoaXMgZnJvbSBmaXJpbmcgd2hlbiBhIGNvbnRleHRcbiAgICAgIC8vIG1lbnUgaXMgY2xvc2VkIChzaW5jZSB0aGUgcmVzZXRJbnB1dCB3b3VsZCBraWxsIHRoZVxuICAgICAgLy8gc2VsZWN0LWFsbCBkZXRlY3Rpb24gaGFjaylcbiAgICAgIGlmICghY20uY3VyT3AgJiYgY20uZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSAhPSBjbS5kb2Muc2VsKSB7XG4gICAgICAgIHJlc2V0SW5wdXQoY20pO1xuICAgICAgICBpZiAod2Via2l0KSBzZXRUaW1lb3V0KGJpbmQocmVzZXRJbnB1dCwgY20sIHRydWUpLCAwKTsgLy8gSXNzdWUgIzE3MzBcbiAgICAgIH1cbiAgICB9XG4gICAgc2xvd1BvbGwoY20pO1xuICAgIHJlc3RhcnRCbGluayhjbSk7XG4gIH1cbiAgZnVuY3Rpb24gb25CbHVyKGNtKSB7XG4gICAgaWYgKGNtLnN0YXRlLmZvY3VzZWQpIHtcbiAgICAgIHNpZ25hbChjbSwgXCJibHVyXCIsIGNtKTtcbiAgICAgIGNtLnN0YXRlLmZvY3VzZWQgPSBmYWxzZTtcbiAgICAgIHJtQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBcIkNvZGVNaXJyb3ItZm9jdXNlZFwiKTtcbiAgICB9XG4gICAgY2xlYXJJbnRlcnZhbChjbS5kaXNwbGF5LmJsaW5rZXIpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7aWYgKCFjbS5zdGF0ZS5mb2N1c2VkKSBjbS5kaXNwbGF5LnNoaWZ0ID0gZmFsc2U7fSwgMTUwKTtcbiAgfVxuXG4gIC8vIENPTlRFWFQgTUVOVSBIQU5ETElOR1xuXG4gIC8vIFRvIG1ha2UgdGhlIGNvbnRleHQgbWVudSB3b3JrLCB3ZSBuZWVkIHRvIGJyaWVmbHkgdW5oaWRlIHRoZVxuICAvLyB0ZXh0YXJlYSAobWFraW5nIGl0IGFzIHVub2J0cnVzaXZlIGFzIHBvc3NpYmxlKSB0byBsZXQgdGhlXG4gIC8vIHJpZ2h0LWNsaWNrIHRha2UgZWZmZWN0IG9uIGl0LlxuICBmdW5jdGlvbiBvbkNvbnRleHRNZW51KGNtLCBlKSB7XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlLCBcImNvbnRleHRtZW51XCIpKSByZXR1cm47XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIGlmIChldmVudEluV2lkZ2V0KGRpc3BsYXksIGUpIHx8IGNvbnRleHRNZW51SW5HdXR0ZXIoY20sIGUpKSByZXR1cm47XG5cbiAgICB2YXIgcG9zID0gcG9zRnJvbU1vdXNlKGNtLCBlKSwgc2Nyb2xsUG9zID0gZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3A7XG4gICAgaWYgKCFwb3MgfHwgcHJlc3RvKSByZXR1cm47IC8vIE9wZXJhIGlzIGRpZmZpY3VsdC5cblxuICAgIC8vIFJlc2V0IHRoZSBjdXJyZW50IHRleHQgc2VsZWN0aW9uIG9ubHkgaWYgdGhlIGNsaWNrIGlzIGRvbmUgb3V0c2lkZSBvZiB0aGUgc2VsZWN0aW9uXG4gICAgLy8gYW5kICdyZXNldFNlbGVjdGlvbk9uQ29udGV4dE1lbnUnIG9wdGlvbiBpcyB0cnVlLlxuICAgIHZhciByZXNldCA9IGNtLm9wdGlvbnMucmVzZXRTZWxlY3Rpb25PbkNvbnRleHRNZW51O1xuICAgIGlmIChyZXNldCAmJiBjbS5kb2Muc2VsLmNvbnRhaW5zKHBvcykgPT0gLTEpXG4gICAgICBvcGVyYXRpb24oY20sIHNldFNlbGVjdGlvbikoY20uZG9jLCBzaW1wbGVTZWxlY3Rpb24ocG9zKSwgc2VsX2RvbnRTY3JvbGwpO1xuXG4gICAgdmFyIG9sZENTUyA9IGRpc3BsYXkuaW5wdXQuc3R5bGUuY3NzVGV4dDtcbiAgICBkaXNwbGF5LmlucHV0RGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIGRpc3BsYXkuaW5wdXQuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGZpeGVkOyB3aWR0aDogMzBweDsgaGVpZ2h0OiAzMHB4OyB0b3A6IFwiICsgKGUuY2xpZW50WSAtIDUpICtcbiAgICAgIFwicHg7IGxlZnQ6IFwiICsgKGUuY2xpZW50WCAtIDUpICsgXCJweDsgei1pbmRleDogMTAwMDsgYmFja2dyb3VuZDogXCIgK1xuICAgICAgKGllID8gXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIC4wNSlcIiA6IFwidHJhbnNwYXJlbnRcIikgK1xuICAgICAgXCI7IG91dGxpbmU6IG5vbmU7IGJvcmRlci13aWR0aDogMDsgb3V0bGluZTogbm9uZTsgb3ZlcmZsb3c6IGhpZGRlbjsgb3BhY2l0eTogLjA1OyBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NSk7XCI7XG4gICAgaWYgKHdlYmtpdCkgdmFyIG9sZFNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTsgLy8gV29yayBhcm91bmQgQ2hyb21lIGlzc3VlICgjMjcxMilcbiAgICBmb2N1c0lucHV0KGNtKTtcbiAgICBpZiAod2Via2l0KSB3aW5kb3cuc2Nyb2xsVG8obnVsbCwgb2xkU2Nyb2xsWSk7XG4gICAgcmVzZXRJbnB1dChjbSk7XG4gICAgLy8gQWRkcyBcIlNlbGVjdCBhbGxcIiB0byBjb250ZXh0IG1lbnUgaW4gRkZcbiAgICBpZiAoIWNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIGRpc3BsYXkuaW5wdXQudmFsdWUgPSBkaXNwbGF5LnByZXZJbnB1dCA9IFwiIFwiO1xuICAgIGRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUgPSBjbS5kb2Muc2VsO1xuICAgIGNsZWFyVGltZW91dChkaXNwbGF5LmRldGVjdGluZ1NlbGVjdEFsbCk7XG5cbiAgICAvLyBTZWxlY3QtYWxsIHdpbGwgYmUgZ3JleWVkIG91dCBpZiB0aGVyZSdzIG5vdGhpbmcgdG8gc2VsZWN0LCBzb1xuICAgIC8vIHRoaXMgYWRkcyBhIHplcm8td2lkdGggc3BhY2Ugc28gdGhhdCB3ZSBjYW4gbGF0ZXIgY2hlY2sgd2hldGhlclxuICAgIC8vIGl0IGdvdCBzZWxlY3RlZC5cbiAgICBmdW5jdGlvbiBwcmVwYXJlU2VsZWN0QWxsSGFjaygpIHtcbiAgICAgIGlmIChkaXNwbGF5LmlucHV0LnNlbGVjdGlvblN0YXJ0ICE9IG51bGwpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gY20uc29tZXRoaW5nU2VsZWN0ZWQoKTtcbiAgICAgICAgdmFyIGV4dHZhbCA9IGRpc3BsYXkuaW5wdXQudmFsdWUgPSBcIlxcdTIwMGJcIiArIChzZWxlY3RlZCA/IGRpc3BsYXkuaW5wdXQudmFsdWUgOiBcIlwiKTtcbiAgICAgICAgZGlzcGxheS5wcmV2SW5wdXQgPSBzZWxlY3RlZCA/IFwiXCIgOiBcIlxcdTIwMGJcIjtcbiAgICAgICAgZGlzcGxheS5pbnB1dC5zZWxlY3Rpb25TdGFydCA9IDE7IGRpc3BsYXkuaW5wdXQuc2VsZWN0aW9uRW5kID0gZXh0dmFsLmxlbmd0aDtcbiAgICAgICAgLy8gUmUtc2V0IHRoaXMsIGluIGNhc2Ugc29tZSBvdGhlciBoYW5kbGVyIHRvdWNoZWQgdGhlXG4gICAgICAgIC8vIHNlbGVjdGlvbiBpbiB0aGUgbWVhbnRpbWUuXG4gICAgICAgIGRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUgPSBjbS5kb2Muc2VsO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWhpZGUoKSB7XG4gICAgICBkaXNwbGF5LmlucHV0RGl2LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICAgICAgZGlzcGxheS5pbnB1dC5zdHlsZS5jc3NUZXh0ID0gb2xkQ1NTO1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA5KSBkaXNwbGF5LnNjcm9sbGJhclYuc2Nyb2xsVG9wID0gZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3AgPSBzY3JvbGxQb3M7XG4gICAgICBzbG93UG9sbChjbSk7XG5cbiAgICAgIC8vIFRyeSB0byBkZXRlY3QgdGhlIHVzZXIgY2hvb3Npbmcgc2VsZWN0LWFsbFxuICAgICAgaWYgKGRpc3BsYXkuaW5wdXQuc2VsZWN0aW9uU3RhcnQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoIWllIHx8IChpZSAmJiBpZV92ZXJzaW9uIDwgOSkpIHByZXBhcmVTZWxlY3RBbGxIYWNrKCk7XG4gICAgICAgIHZhciBpID0gMCwgcG9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChkaXNwbGF5LnNlbEZvckNvbnRleHRNZW51ID09IGNtLmRvYy5zZWwgJiYgZGlzcGxheS5pbnB1dC5zZWxlY3Rpb25TdGFydCA9PSAwKVxuICAgICAgICAgICAgb3BlcmF0aW9uKGNtLCBjb21tYW5kcy5zZWxlY3RBbGwpKGNtKTtcbiAgICAgICAgICBlbHNlIGlmIChpKysgPCAxMCkgZGlzcGxheS5kZXRlY3RpbmdTZWxlY3RBbGwgPSBzZXRUaW1lb3V0KHBvbGwsIDUwMCk7XG4gICAgICAgICAgZWxzZSByZXNldElucHV0KGNtKTtcbiAgICAgICAgfTtcbiAgICAgICAgZGlzcGxheS5kZXRlY3RpbmdTZWxlY3RBbGwgPSBzZXRUaW1lb3V0KHBvbGwsIDIwMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSkgcHJlcGFyZVNlbGVjdEFsbEhhY2soKTtcbiAgICBpZiAoY2FwdHVyZVJpZ2h0Q2xpY2spIHtcbiAgICAgIGVfc3RvcChlKTtcbiAgICAgIHZhciBtb3VzZXVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG9mZih3aW5kb3csIFwibW91c2V1cFwiLCBtb3VzZXVwKTtcbiAgICAgICAgc2V0VGltZW91dChyZWhpZGUsIDIwKTtcbiAgICAgIH07XG4gICAgICBvbih3aW5kb3csIFwibW91c2V1cFwiLCBtb3VzZXVwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dChyZWhpZGUsIDUwKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb250ZXh0TWVudUluR3V0dGVyKGNtLCBlKSB7XG4gICAgaWYgKCFoYXNIYW5kbGVyKGNtLCBcImd1dHRlckNvbnRleHRNZW51XCIpKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGd1dHRlckV2ZW50KGNtLCBlLCBcImd1dHRlckNvbnRleHRNZW51XCIsIGZhbHNlLCBzaWduYWwpO1xuICB9XG5cbiAgLy8gVVBEQVRJTkdcblxuICAvLyBDb21wdXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZW5kIG9mIGEgY2hhbmdlIChpdHMgJ3RvJyBwcm9wZXJ0eVxuICAvLyByZWZlcnMgdG8gdGhlIHByZS1jaGFuZ2UgZW5kKS5cbiAgdmFyIGNoYW5nZUVuZCA9IENvZGVNaXJyb3IuY2hhbmdlRW5kID0gZnVuY3Rpb24oY2hhbmdlKSB7XG4gICAgaWYgKCFjaGFuZ2UudGV4dCkgcmV0dXJuIGNoYW5nZS50bztcbiAgICByZXR1cm4gUG9zKGNoYW5nZS5mcm9tLmxpbmUgKyBjaGFuZ2UudGV4dC5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgbHN0KGNoYW5nZS50ZXh0KS5sZW5ndGggKyAoY2hhbmdlLnRleHQubGVuZ3RoID09IDEgPyBjaGFuZ2UuZnJvbS5jaCA6IDApKTtcbiAgfTtcblxuICAvLyBBZGp1c3QgYSBwb3NpdGlvbiB0byByZWZlciB0byB0aGUgcG9zdC1jaGFuZ2UgcG9zaXRpb24gb2YgdGhlXG4gIC8vIHNhbWUgdGV4dCwgb3IgdGhlIGVuZCBvZiB0aGUgY2hhbmdlIGlmIHRoZSBjaGFuZ2UgY292ZXJzIGl0LlxuICBmdW5jdGlvbiBhZGp1c3RGb3JDaGFuZ2UocG9zLCBjaGFuZ2UpIHtcbiAgICBpZiAoY21wKHBvcywgY2hhbmdlLmZyb20pIDwgMCkgcmV0dXJuIHBvcztcbiAgICBpZiAoY21wKHBvcywgY2hhbmdlLnRvKSA8PSAwKSByZXR1cm4gY2hhbmdlRW5kKGNoYW5nZSk7XG5cbiAgICB2YXIgbGluZSA9IHBvcy5saW5lICsgY2hhbmdlLnRleHQubGVuZ3RoIC0gKGNoYW5nZS50by5saW5lIC0gY2hhbmdlLmZyb20ubGluZSkgLSAxLCBjaCA9IHBvcy5jaDtcbiAgICBpZiAocG9zLmxpbmUgPT0gY2hhbmdlLnRvLmxpbmUpIGNoICs9IGNoYW5nZUVuZChjaGFuZ2UpLmNoIC0gY2hhbmdlLnRvLmNoO1xuICAgIHJldHVybiBQb3MobGluZSwgY2gpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcHV0ZVNlbEFmdGVyQ2hhbmdlKGRvYywgY2hhbmdlKSB7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByYW5nZSA9IGRvYy5zZWwucmFuZ2VzW2ldO1xuICAgICAgb3V0LnB1c2gobmV3IFJhbmdlKGFkanVzdEZvckNoYW5nZShyYW5nZS5hbmNob3IsIGNoYW5nZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgYWRqdXN0Rm9yQ2hhbmdlKHJhbmdlLmhlYWQsIGNoYW5nZSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZVNlbGVjdGlvbihvdXQsIGRvYy5zZWwucHJpbUluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9mZnNldFBvcyhwb3MsIG9sZCwgbncpIHtcbiAgICBpZiAocG9zLmxpbmUgPT0gb2xkLmxpbmUpXG4gICAgICByZXR1cm4gUG9zKG53LmxpbmUsIHBvcy5jaCAtIG9sZC5jaCArIG53LmNoKTtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gUG9zKG53LmxpbmUgKyAocG9zLmxpbmUgLSBvbGQubGluZSksIHBvcy5jaCk7XG4gIH1cblxuICAvLyBVc2VkIGJ5IHJlcGxhY2VTZWxlY3Rpb25zIHRvIGFsbG93IG1vdmluZyB0aGUgc2VsZWN0aW9uIHRvIHRoZVxuICAvLyBzdGFydCBvciBhcm91bmQgdGhlIHJlcGxhY2VkIHRlc3QuIEhpbnQgbWF5IGJlIFwic3RhcnRcIiBvciBcImFyb3VuZFwiLlxuICBmdW5jdGlvbiBjb21wdXRlUmVwbGFjZWRTZWwoZG9jLCBjaGFuZ2VzLCBoaW50KSB7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIHZhciBvbGRQcmV2ID0gUG9zKGRvYy5maXJzdCwgMCksIG5ld1ByZXYgPSBvbGRQcmV2O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNoYW5nZSA9IGNoYW5nZXNbaV07XG4gICAgICB2YXIgZnJvbSA9IG9mZnNldFBvcyhjaGFuZ2UuZnJvbSwgb2xkUHJldiwgbmV3UHJldik7XG4gICAgICB2YXIgdG8gPSBvZmZzZXRQb3MoY2hhbmdlRW5kKGNoYW5nZSksIG9sZFByZXYsIG5ld1ByZXYpO1xuICAgICAgb2xkUHJldiA9IGNoYW5nZS50bztcbiAgICAgIG5ld1ByZXYgPSB0bztcbiAgICAgIGlmIChoaW50ID09IFwiYXJvdW5kXCIpIHtcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jLnNlbC5yYW5nZXNbaV0sIGludiA9IGNtcChyYW5nZS5oZWFkLCByYW5nZS5hbmNob3IpIDwgMDtcbiAgICAgICAgb3V0W2ldID0gbmV3IFJhbmdlKGludiA/IHRvIDogZnJvbSwgaW52ID8gZnJvbSA6IHRvKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dFtpXSA9IG5ldyBSYW5nZShmcm9tLCBmcm9tKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24ob3V0LCBkb2Muc2VsLnByaW1JbmRleCk7XG4gIH1cblxuICAvLyBBbGxvdyBcImJlZm9yZUNoYW5nZVwiIGV2ZW50IGhhbmRsZXJzIHRvIGluZmx1ZW5jZSBhIGNoYW5nZVxuICBmdW5jdGlvbiBmaWx0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UsIHVwZGF0ZSkge1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjYW5jZWxlZDogZmFsc2UsXG4gICAgICBmcm9tOiBjaGFuZ2UuZnJvbSxcbiAgICAgIHRvOiBjaGFuZ2UudG8sXG4gICAgICB0ZXh0OiBjaGFuZ2UudGV4dCxcbiAgICAgIG9yaWdpbjogY2hhbmdlLm9yaWdpbixcbiAgICAgIGNhbmNlbDogZnVuY3Rpb24oKSB7IHRoaXMuY2FuY2VsZWQgPSB0cnVlOyB9XG4gICAgfTtcbiAgICBpZiAodXBkYXRlKSBvYmoudXBkYXRlID0gZnVuY3Rpb24oZnJvbSwgdG8sIHRleHQsIG9yaWdpbikge1xuICAgICAgaWYgKGZyb20pIHRoaXMuZnJvbSA9IGNsaXBQb3MoZG9jLCBmcm9tKTtcbiAgICAgIGlmICh0bykgdGhpcy50byA9IGNsaXBQb3MoZG9jLCB0byk7XG4gICAgICBpZiAodGV4dCkgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgIGlmIChvcmlnaW4gIT09IHVuZGVmaW5lZCkgdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgfTtcbiAgICBzaWduYWwoZG9jLCBcImJlZm9yZUNoYW5nZVwiLCBkb2MsIG9iaik7XG4gICAgaWYgKGRvYy5jbSkgc2lnbmFsKGRvYy5jbSwgXCJiZWZvcmVDaGFuZ2VcIiwgZG9jLmNtLCBvYmopO1xuXG4gICAgaWYgKG9iai5jYW5jZWxlZCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtmcm9tOiBvYmouZnJvbSwgdG86IG9iai50bywgdGV4dDogb2JqLnRleHQsIG9yaWdpbjogb2JqLm9yaWdpbn07XG4gIH1cblxuICAvLyBBcHBseSBhIGNoYW5nZSB0byBhIGRvY3VtZW50LCBhbmQgYWRkIGl0IHRvIHRoZSBkb2N1bWVudCdzXG4gIC8vIGhpc3RvcnksIGFuZCBwcm9wYWdhdGluZyBpdCB0byBhbGwgbGlua2VkIGRvY3VtZW50cy5cbiAgZnVuY3Rpb24gbWFrZUNoYW5nZShkb2MsIGNoYW5nZSwgaWdub3JlUmVhZE9ubHkpIHtcbiAgICBpZiAoZG9jLmNtKSB7XG4gICAgICBpZiAoIWRvYy5jbS5jdXJPcCkgcmV0dXJuIG9wZXJhdGlvbihkb2MuY20sIG1ha2VDaGFuZ2UpKGRvYywgY2hhbmdlLCBpZ25vcmVSZWFkT25seSk7XG4gICAgICBpZiAoZG9jLmNtLnN0YXRlLnN1cHByZXNzRWRpdHMpIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaGFzSGFuZGxlcihkb2MsIFwiYmVmb3JlQ2hhbmdlXCIpIHx8IGRvYy5jbSAmJiBoYXNIYW5kbGVyKGRvYy5jbSwgXCJiZWZvcmVDaGFuZ2VcIikpIHtcbiAgICAgIGNoYW5nZSA9IGZpbHRlckNoYW5nZShkb2MsIGNoYW5nZSwgdHJ1ZSk7XG4gICAgICBpZiAoIWNoYW5nZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFBvc3NpYmx5IHNwbGl0IG9yIHN1cHByZXNzIHRoZSB1cGRhdGUgYmFzZWQgb24gdGhlIHByZXNlbmNlXG4gICAgLy8gb2YgcmVhZC1vbmx5IHNwYW5zIGluIGl0cyByYW5nZS5cbiAgICB2YXIgc3BsaXQgPSBzYXdSZWFkT25seVNwYW5zICYmICFpZ25vcmVSZWFkT25seSAmJiByZW1vdmVSZWFkT25seVJhbmdlcyhkb2MsIGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pO1xuICAgIGlmIChzcGxpdCkge1xuICAgICAgZm9yICh2YXIgaSA9IHNwbGl0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKVxuICAgICAgICBtYWtlQ2hhbmdlSW5uZXIoZG9jLCB7ZnJvbTogc3BsaXRbaV0uZnJvbSwgdG86IHNwbGl0W2ldLnRvLCB0ZXh0OiBpID8gW1wiXCJdIDogY2hhbmdlLnRleHR9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFrZUNoYW5nZUlubmVyKGRvYywgY2hhbmdlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlQ2hhbmdlSW5uZXIoZG9jLCBjaGFuZ2UpIHtcbiAgICBpZiAoY2hhbmdlLnRleHQubGVuZ3RoID09IDEgJiYgY2hhbmdlLnRleHRbMF0gPT0gXCJcIiAmJiBjbXAoY2hhbmdlLmZyb20sIGNoYW5nZS50bykgPT0gMCkgcmV0dXJuO1xuICAgIHZhciBzZWxBZnRlciA9IGNvbXB1dGVTZWxBZnRlckNoYW5nZShkb2MsIGNoYW5nZSk7XG4gICAgYWRkQ2hhbmdlVG9IaXN0b3J5KGRvYywgY2hhbmdlLCBzZWxBZnRlciwgZG9jLmNtID8gZG9jLmNtLmN1ck9wLmlkIDogTmFOKTtcblxuICAgIG1ha2VDaGFuZ2VTaW5nbGVEb2MoZG9jLCBjaGFuZ2UsIHNlbEFmdGVyLCBzdHJldGNoU3BhbnNPdmVyQ2hhbmdlKGRvYywgY2hhbmdlKSk7XG4gICAgdmFyIHJlYmFzZWQgPSBbXTtcblxuICAgIGxpbmtlZERvY3MoZG9jLCBmdW5jdGlvbihkb2MsIHNoYXJlZEhpc3QpIHtcbiAgICAgIGlmICghc2hhcmVkSGlzdCAmJiBpbmRleE9mKHJlYmFzZWQsIGRvYy5oaXN0b3J5KSA9PSAtMSkge1xuICAgICAgICByZWJhc2VIaXN0KGRvYy5oaXN0b3J5LCBjaGFuZ2UpO1xuICAgICAgICByZWJhc2VkLnB1c2goZG9jLmhpc3RvcnkpO1xuICAgICAgfVxuICAgICAgbWFrZUNoYW5nZVNpbmdsZURvYyhkb2MsIGNoYW5nZSwgbnVsbCwgc3RyZXRjaFNwYW5zT3ZlckNoYW5nZShkb2MsIGNoYW5nZSkpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gUmV2ZXJ0IGEgY2hhbmdlIHN0b3JlZCBpbiBhIGRvY3VtZW50J3MgaGlzdG9yeS5cbiAgZnVuY3Rpb24gbWFrZUNoYW5nZUZyb21IaXN0b3J5KGRvYywgdHlwZSwgYWxsb3dTZWxlY3Rpb25Pbmx5KSB7XG4gICAgaWYgKGRvYy5jbSAmJiBkb2MuY20uc3RhdGUuc3VwcHJlc3NFZGl0cykgcmV0dXJuO1xuXG4gICAgdmFyIGhpc3QgPSBkb2MuaGlzdG9yeSwgZXZlbnQsIHNlbEFmdGVyID0gZG9jLnNlbDtcbiAgICB2YXIgc291cmNlID0gdHlwZSA9PSBcInVuZG9cIiA/IGhpc3QuZG9uZSA6IGhpc3QudW5kb25lLCBkZXN0ID0gdHlwZSA9PSBcInVuZG9cIiA/IGhpc3QudW5kb25lIDogaGlzdC5kb25lO1xuXG4gICAgLy8gVmVyaWZ5IHRoYXQgdGhlcmUgaXMgYSB1c2VhYmxlIGV2ZW50IChzbyB0aGF0IGN0cmwteiB3b24ndFxuICAgIC8vIG5lZWRsZXNzbHkgY2xlYXIgc2VsZWN0aW9uIGV2ZW50cylcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgICAgZXZlbnQgPSBzb3VyY2VbaV07XG4gICAgICBpZiAoYWxsb3dTZWxlY3Rpb25Pbmx5ID8gZXZlbnQucmFuZ2VzICYmICFldmVudC5lcXVhbHMoZG9jLnNlbCkgOiAhZXZlbnQucmFuZ2VzKVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKGkgPT0gc291cmNlLmxlbmd0aCkgcmV0dXJuO1xuICAgIGhpc3QubGFzdE9yaWdpbiA9IGhpc3QubGFzdFNlbE9yaWdpbiA9IG51bGw7XG5cbiAgICBmb3IgKDs7KSB7XG4gICAgICBldmVudCA9IHNvdXJjZS5wb3AoKTtcbiAgICAgIGlmIChldmVudC5yYW5nZXMpIHtcbiAgICAgICAgcHVzaFNlbGVjdGlvblRvSGlzdG9yeShldmVudCwgZGVzdCk7XG4gICAgICAgIGlmIChhbGxvd1NlbGVjdGlvbk9ubHkgJiYgIWV2ZW50LmVxdWFscyhkb2Muc2VsKSkge1xuICAgICAgICAgIHNldFNlbGVjdGlvbihkb2MsIGV2ZW50LCB7Y2xlYXJSZWRvOiBmYWxzZX0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZWxBZnRlciA9IGV2ZW50O1xuICAgICAgfVxuICAgICAgZWxzZSBicmVhaztcbiAgICB9XG5cbiAgICAvLyBCdWlsZCB1cCBhIHJldmVyc2UgY2hhbmdlIG9iamVjdCB0byBhZGQgdG8gdGhlIG9wcG9zaXRlIGhpc3RvcnlcbiAgICAvLyBzdGFjayAocmVkbyB3aGVuIHVuZG9pbmcsIGFuZCB2aWNlIHZlcnNhKS5cbiAgICB2YXIgYW50aUNoYW5nZXMgPSBbXTtcbiAgICBwdXNoU2VsZWN0aW9uVG9IaXN0b3J5KHNlbEFmdGVyLCBkZXN0KTtcbiAgICBkZXN0LnB1c2goe2NoYW5nZXM6IGFudGlDaGFuZ2VzLCBnZW5lcmF0aW9uOiBoaXN0LmdlbmVyYXRpb259KTtcbiAgICBoaXN0LmdlbmVyYXRpb24gPSBldmVudC5nZW5lcmF0aW9uIHx8ICsraGlzdC5tYXhHZW5lcmF0aW9uO1xuXG4gICAgdmFyIGZpbHRlciA9IGhhc0hhbmRsZXIoZG9jLCBcImJlZm9yZUNoYW5nZVwiKSB8fCBkb2MuY20gJiYgaGFzSGFuZGxlcihkb2MuY20sIFwiYmVmb3JlQ2hhbmdlXCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IGV2ZW50LmNoYW5nZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBldmVudC5jaGFuZ2VzW2ldO1xuICAgICAgY2hhbmdlLm9yaWdpbiA9IHR5cGU7XG4gICAgICBpZiAoZmlsdGVyICYmICFmaWx0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UsIGZhbHNlKSkge1xuICAgICAgICBzb3VyY2UubGVuZ3RoID0gMDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhbnRpQ2hhbmdlcy5wdXNoKGhpc3RvcnlDaGFuZ2VGcm9tQ2hhbmdlKGRvYywgY2hhbmdlKSk7XG5cbiAgICAgIHZhciBhZnRlciA9IGkgPyBjb21wdXRlU2VsQWZ0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpIDogbHN0KHNvdXJjZSk7XG4gICAgICBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBhZnRlciwgbWVyZ2VPbGRTcGFucyhkb2MsIGNoYW5nZSkpO1xuICAgICAgaWYgKCFpICYmIGRvYy5jbSkgZG9jLmNtLnNjcm9sbEludG9WaWV3KHtmcm9tOiBjaGFuZ2UuZnJvbSwgdG86IGNoYW5nZUVuZChjaGFuZ2UpfSk7XG4gICAgICB2YXIgcmViYXNlZCA9IFtdO1xuXG4gICAgICAvLyBQcm9wYWdhdGUgdG8gdGhlIGxpbmtlZCBkb2N1bWVudHNcbiAgICAgIGxpbmtlZERvY3MoZG9jLCBmdW5jdGlvbihkb2MsIHNoYXJlZEhpc3QpIHtcbiAgICAgICAgaWYgKCFzaGFyZWRIaXN0ICYmIGluZGV4T2YocmViYXNlZCwgZG9jLmhpc3RvcnkpID09IC0xKSB7XG4gICAgICAgICAgcmViYXNlSGlzdChkb2MuaGlzdG9yeSwgY2hhbmdlKTtcbiAgICAgICAgICByZWJhc2VkLnB1c2goZG9jLmhpc3RvcnkpO1xuICAgICAgICB9XG4gICAgICAgIG1ha2VDaGFuZ2VTaW5nbGVEb2MoZG9jLCBjaGFuZ2UsIG51bGwsIG1lcmdlT2xkU3BhbnMoZG9jLCBjaGFuZ2UpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIFN1Yi12aWV3cyBuZWVkIHRoZWlyIGxpbmUgbnVtYmVycyBzaGlmdGVkIHdoZW4gdGV4dCBpcyBhZGRlZFxuICAvLyBhYm92ZSBvciBiZWxvdyB0aGVtIGluIHRoZSBwYXJlbnQgZG9jdW1lbnQuXG4gIGZ1bmN0aW9uIHNoaWZ0RG9jKGRvYywgZGlzdGFuY2UpIHtcbiAgICBpZiAoZGlzdGFuY2UgPT0gMCkgcmV0dXJuO1xuICAgIGRvYy5maXJzdCArPSBkaXN0YW5jZTtcbiAgICBkb2Muc2VsID0gbmV3IFNlbGVjdGlvbihtYXAoZG9jLnNlbC5yYW5nZXMsIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICByZXR1cm4gbmV3IFJhbmdlKFBvcyhyYW5nZS5hbmNob3IubGluZSArIGRpc3RhbmNlLCByYW5nZS5hbmNob3IuY2gpLFxuICAgICAgICAgICAgICAgICAgICAgICBQb3MocmFuZ2UuaGVhZC5saW5lICsgZGlzdGFuY2UsIHJhbmdlLmhlYWQuY2gpKTtcbiAgICB9KSwgZG9jLnNlbC5wcmltSW5kZXgpO1xuICAgIGlmIChkb2MuY20pIHtcbiAgICAgIHJlZ0NoYW5nZShkb2MuY20sIGRvYy5maXJzdCwgZG9jLmZpcnN0IC0gZGlzdGFuY2UsIGRpc3RhbmNlKTtcbiAgICAgIGZvciAodmFyIGQgPSBkb2MuY20uZGlzcGxheSwgbCA9IGQudmlld0Zyb207IGwgPCBkLnZpZXdUbzsgbCsrKVxuICAgICAgICByZWdMaW5lQ2hhbmdlKGRvYy5jbSwgbCwgXCJndXR0ZXJcIik7XG4gICAgfVxuICB9XG5cbiAgLy8gTW9yZSBsb3dlci1sZXZlbCBjaGFuZ2UgZnVuY3Rpb24sIGhhbmRsaW5nIG9ubHkgYSBzaW5nbGUgZG9jdW1lbnRcbiAgLy8gKG5vdCBsaW5rZWQgb25lcykuXG4gIGZ1bmN0aW9uIG1ha2VDaGFuZ2VTaW5nbGVEb2MoZG9jLCBjaGFuZ2UsIHNlbEFmdGVyLCBzcGFucykge1xuICAgIGlmIChkb2MuY20gJiYgIWRvYy5jbS5jdXJPcClcbiAgICAgIHJldHVybiBvcGVyYXRpb24oZG9jLmNtLCBtYWtlQ2hhbmdlU2luZ2xlRG9jKShkb2MsIGNoYW5nZSwgc2VsQWZ0ZXIsIHNwYW5zKTtcblxuICAgIGlmIChjaGFuZ2UudG8ubGluZSA8IGRvYy5maXJzdCkge1xuICAgICAgc2hpZnREb2MoZG9jLCBjaGFuZ2UudGV4dC5sZW5ndGggLSAxIC0gKGNoYW5nZS50by5saW5lIC0gY2hhbmdlLmZyb20ubGluZSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlLmZyb20ubGluZSA+IGRvYy5sYXN0TGluZSgpKSByZXR1cm47XG5cbiAgICAvLyBDbGlwIHRoZSBjaGFuZ2UgdG8gdGhlIHNpemUgb2YgdGhpcyBkb2NcbiAgICBpZiAoY2hhbmdlLmZyb20ubGluZSA8IGRvYy5maXJzdCkge1xuICAgICAgdmFyIHNoaWZ0ID0gY2hhbmdlLnRleHQubGVuZ3RoIC0gMSAtIChkb2MuZmlyc3QgLSBjaGFuZ2UuZnJvbS5saW5lKTtcbiAgICAgIHNoaWZ0RG9jKGRvYywgc2hpZnQpO1xuICAgICAgY2hhbmdlID0ge2Zyb206IFBvcyhkb2MuZmlyc3QsIDApLCB0bzogUG9zKGNoYW5nZS50by5saW5lICsgc2hpZnQsIGNoYW5nZS50by5jaCksXG4gICAgICAgICAgICAgICAgdGV4dDogW2xzdChjaGFuZ2UudGV4dCldLCBvcmlnaW46IGNoYW5nZS5vcmlnaW59O1xuICAgIH1cbiAgICB2YXIgbGFzdCA9IGRvYy5sYXN0TGluZSgpO1xuICAgIGlmIChjaGFuZ2UudG8ubGluZSA+IGxhc3QpIHtcbiAgICAgIGNoYW5nZSA9IHtmcm9tOiBjaGFuZ2UuZnJvbSwgdG86IFBvcyhsYXN0LCBnZXRMaW5lKGRvYywgbGFzdCkudGV4dC5sZW5ndGgpLFxuICAgICAgICAgICAgICAgIHRleHQ6IFtjaGFuZ2UudGV4dFswXV0sIG9yaWdpbjogY2hhbmdlLm9yaWdpbn07XG4gICAgfVxuXG4gICAgY2hhbmdlLnJlbW92ZWQgPSBnZXRCZXR3ZWVuKGRvYywgY2hhbmdlLmZyb20sIGNoYW5nZS50byk7XG5cbiAgICBpZiAoIXNlbEFmdGVyKSBzZWxBZnRlciA9IGNvbXB1dGVTZWxBZnRlckNoYW5nZShkb2MsIGNoYW5nZSk7XG4gICAgaWYgKGRvYy5jbSkgbWFrZUNoYW5nZVNpbmdsZURvY0luRWRpdG9yKGRvYy5jbSwgY2hhbmdlLCBzcGFucyk7XG4gICAgZWxzZSB1cGRhdGVEb2MoZG9jLCBjaGFuZ2UsIHNwYW5zKTtcbiAgICBzZXRTZWxlY3Rpb25Ob1VuZG8oZG9jLCBzZWxBZnRlciwgc2VsX2RvbnRTY3JvbGwpO1xuICB9XG5cbiAgLy8gSGFuZGxlIHRoZSBpbnRlcmFjdGlvbiBvZiBhIGNoYW5nZSB0byBhIGRvY3VtZW50IHdpdGggdGhlIGVkaXRvclxuICAvLyB0aGF0IHRoaXMgZG9jdW1lbnQgaXMgcGFydCBvZi5cbiAgZnVuY3Rpb24gbWFrZUNoYW5nZVNpbmdsZURvY0luRWRpdG9yKGNtLCBjaGFuZ2UsIHNwYW5zKSB7XG4gICAgdmFyIGRvYyA9IGNtLmRvYywgZGlzcGxheSA9IGNtLmRpc3BsYXksIGZyb20gPSBjaGFuZ2UuZnJvbSwgdG8gPSBjaGFuZ2UudG87XG5cbiAgICB2YXIgcmVjb21wdXRlTWF4TGVuZ3RoID0gZmFsc2UsIGNoZWNrV2lkdGhTdGFydCA9IGZyb20ubGluZTtcbiAgICBpZiAoIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7XG4gICAgICBjaGVja1dpZHRoU3RhcnQgPSBsaW5lTm8odmlzdWFsTGluZShnZXRMaW5lKGRvYywgZnJvbS5saW5lKSkpO1xuICAgICAgZG9jLml0ZXIoY2hlY2tXaWR0aFN0YXJ0LCB0by5saW5lICsgMSwgZnVuY3Rpb24obGluZSkge1xuICAgICAgICBpZiAobGluZSA9PSBkaXNwbGF5Lm1heExpbmUpIHtcbiAgICAgICAgICByZWNvbXB1dGVNYXhMZW5ndGggPSB0cnVlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZG9jLnNlbC5jb250YWlucyhjaGFuZ2UuZnJvbSwgY2hhbmdlLnRvKSA+IC0xKVxuICAgICAgc2lnbmFsQ3Vyc29yQWN0aXZpdHkoY20pO1xuXG4gICAgdXBkYXRlRG9jKGRvYywgY2hhbmdlLCBzcGFucywgZXN0aW1hdGVIZWlnaHQoY20pKTtcblxuICAgIGlmICghY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHtcbiAgICAgIGRvYy5pdGVyKGNoZWNrV2lkdGhTdGFydCwgZnJvbS5saW5lICsgY2hhbmdlLnRleHQubGVuZ3RoLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIHZhciBsZW4gPSBsaW5lTGVuZ3RoKGxpbmUpO1xuICAgICAgICBpZiAobGVuID4gZGlzcGxheS5tYXhMaW5lTGVuZ3RoKSB7XG4gICAgICAgICAgZGlzcGxheS5tYXhMaW5lID0gbGluZTtcbiAgICAgICAgICBkaXNwbGF5Lm1heExpbmVMZW5ndGggPSBsZW47XG4gICAgICAgICAgZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgcmVjb21wdXRlTWF4TGVuZ3RoID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHJlY29tcHV0ZU1heExlbmd0aCkgY20uY3VyT3AudXBkYXRlTWF4TGluZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gQWRqdXN0IGZyb250aWVyLCBzY2hlZHVsZSB3b3JrZXJcbiAgICBkb2MuZnJvbnRpZXIgPSBNYXRoLm1pbihkb2MuZnJvbnRpZXIsIGZyb20ubGluZSk7XG4gICAgc3RhcnRXb3JrZXIoY20sIDQwMCk7XG5cbiAgICB2YXIgbGVuZGlmZiA9IGNoYW5nZS50ZXh0Lmxlbmd0aCAtICh0by5saW5lIC0gZnJvbS5saW5lKSAtIDE7XG4gICAgLy8gUmVtZW1iZXIgdGhhdCB0aGVzZSBsaW5lcyBjaGFuZ2VkLCBmb3IgdXBkYXRpbmcgdGhlIGRpc3BsYXlcbiAgICBpZiAoZnJvbS5saW5lID09IHRvLmxpbmUgJiYgY2hhbmdlLnRleHQubGVuZ3RoID09IDEgJiYgIWlzV2hvbGVMaW5lVXBkYXRlKGNtLmRvYywgY2hhbmdlKSlcbiAgICAgIHJlZ0xpbmVDaGFuZ2UoY20sIGZyb20ubGluZSwgXCJ0ZXh0XCIpO1xuICAgIGVsc2VcbiAgICAgIHJlZ0NoYW5nZShjbSwgZnJvbS5saW5lLCB0by5saW5lICsgMSwgbGVuZGlmZik7XG5cbiAgICB2YXIgY2hhbmdlc0hhbmRsZXIgPSBoYXNIYW5kbGVyKGNtLCBcImNoYW5nZXNcIiksIGNoYW5nZUhhbmRsZXIgPSBoYXNIYW5kbGVyKGNtLCBcImNoYW5nZVwiKTtcbiAgICBpZiAoY2hhbmdlSGFuZGxlciB8fCBjaGFuZ2VzSGFuZGxlcikge1xuICAgICAgdmFyIG9iaiA9IHtcbiAgICAgICAgZnJvbTogZnJvbSwgdG86IHRvLFxuICAgICAgICB0ZXh0OiBjaGFuZ2UudGV4dCxcbiAgICAgICAgcmVtb3ZlZDogY2hhbmdlLnJlbW92ZWQsXG4gICAgICAgIG9yaWdpbjogY2hhbmdlLm9yaWdpblxuICAgICAgfTtcbiAgICAgIGlmIChjaGFuZ2VIYW5kbGVyKSBzaWduYWxMYXRlcihjbSwgXCJjaGFuZ2VcIiwgY20sIG9iaik7XG4gICAgICBpZiAoY2hhbmdlc0hhbmRsZXIpIChjbS5jdXJPcC5jaGFuZ2VPYmpzIHx8IChjbS5jdXJPcC5jaGFuZ2VPYmpzID0gW10pKS5wdXNoKG9iaik7XG4gICAgfVxuICAgIGNtLmRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZVJhbmdlKGRvYywgY29kZSwgZnJvbSwgdG8sIG9yaWdpbikge1xuICAgIGlmICghdG8pIHRvID0gZnJvbTtcbiAgICBpZiAoY21wKHRvLCBmcm9tKSA8IDApIHsgdmFyIHRtcCA9IHRvOyB0byA9IGZyb207IGZyb20gPSB0bXA7IH1cbiAgICBpZiAodHlwZW9mIGNvZGUgPT0gXCJzdHJpbmdcIikgY29kZSA9IHNwbGl0TGluZXMoY29kZSk7XG4gICAgbWFrZUNoYW5nZShkb2MsIHtmcm9tOiBmcm9tLCB0bzogdG8sIHRleHQ6IGNvZGUsIG9yaWdpbjogb3JpZ2lufSk7XG4gIH1cblxuICAvLyBTQ1JPTExJTkcgVEhJTkdTIElOVE8gVklFV1xuXG4gIC8vIElmIGFuIGVkaXRvciBzaXRzIG9uIHRoZSB0b3Agb3IgYm90dG9tIG9mIHRoZSB3aW5kb3csIHBhcnRpYWxseVxuICAvLyBzY3JvbGxlZCBvdXQgb2YgdmlldywgdGhpcyBlbnN1cmVzIHRoYXQgdGhlIGN1cnNvciBpcyB2aXNpYmxlLlxuICBmdW5jdGlvbiBtYXliZVNjcm9sbFdpbmRvdyhjbSwgY29vcmRzKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBib3ggPSBkaXNwbGF5LnNpemVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBkb1Njcm9sbCA9IG51bGw7XG4gICAgaWYgKGNvb3Jkcy50b3AgKyBib3gudG9wIDwgMCkgZG9TY3JvbGwgPSB0cnVlO1xuICAgIGVsc2UgaWYgKGNvb3Jkcy5ib3R0b20gKyBib3gudG9wID4gKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSkgZG9TY3JvbGwgPSBmYWxzZTtcbiAgICBpZiAoZG9TY3JvbGwgIT0gbnVsbCAmJiAhcGhhbnRvbSkge1xuICAgICAgdmFyIHNjcm9sbE5vZGUgPSBlbHQoXCJkaXZcIiwgXCJcXHUyMDBiXCIsIG51bGwsIFwicG9zaXRpb246IGFic29sdXRlOyB0b3A6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb29yZHMudG9wIC0gZGlzcGxheS52aWV3T2Zmc2V0IC0gcGFkZGluZ1RvcChjbS5kaXNwbGF5KSkgKyBcInB4OyBoZWlnaHQ6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb29yZHMuYm90dG9tIC0gY29vcmRzLnRvcCArIHNjcm9sbGVyQ3V0T2ZmKSArIFwicHg7IGxlZnQ6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3Jkcy5sZWZ0ICsgXCJweDsgd2lkdGg6IDJweDtcIik7XG4gICAgICBjbS5kaXNwbGF5LmxpbmVTcGFjZS5hcHBlbmRDaGlsZChzY3JvbGxOb2RlKTtcbiAgICAgIHNjcm9sbE5vZGUuc2Nyb2xsSW50b1ZpZXcoZG9TY3JvbGwpO1xuICAgICAgY20uZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQoc2Nyb2xsTm9kZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2Nyb2xsIGEgZ2l2ZW4gcG9zaXRpb24gaW50byB2aWV3IChpbW1lZGlhdGVseSksIHZlcmlmeWluZyB0aGF0XG4gIC8vIGl0IGFjdHVhbGx5IGJlY2FtZSB2aXNpYmxlIChhcyBsaW5lIGhlaWdodHMgYXJlIGFjY3VyYXRlbHlcbiAgLy8gbWVhc3VyZWQsIHRoZSBwb3NpdGlvbiBvZiBzb21ldGhpbmcgbWF5ICdkcmlmdCcgZHVyaW5nIGRyYXdpbmcpLlxuICBmdW5jdGlvbiBzY3JvbGxQb3NJbnRvVmlldyhjbSwgcG9zLCBlbmQsIG1hcmdpbikge1xuICAgIGlmIChtYXJnaW4gPT0gbnVsbCkgbWFyZ2luID0gMDtcbiAgICBmb3IgKHZhciBsaW1pdCA9IDA7IGxpbWl0IDwgNTsgbGltaXQrKykge1xuICAgICAgdmFyIGNoYW5nZWQgPSBmYWxzZSwgY29vcmRzID0gY3Vyc29yQ29vcmRzKGNtLCBwb3MpO1xuICAgICAgdmFyIGVuZENvb3JkcyA9ICFlbmQgfHwgZW5kID09IHBvcyA/IGNvb3JkcyA6IGN1cnNvckNvb3JkcyhjbSwgZW5kKTtcbiAgICAgIHZhciBzY3JvbGxQb3MgPSBjYWxjdWxhdGVTY3JvbGxQb3MoY20sIE1hdGgubWluKGNvb3Jkcy5sZWZ0LCBlbmRDb29yZHMubGVmdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGNvb3Jkcy50b3AsIGVuZENvb3Jkcy50b3ApIC0gbWFyZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChjb29yZHMubGVmdCwgZW5kQ29vcmRzLmxlZnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChjb29yZHMuYm90dG9tLCBlbmRDb29yZHMuYm90dG9tKSArIG1hcmdpbik7XG4gICAgICB2YXIgc3RhcnRUb3AgPSBjbS5kb2Muc2Nyb2xsVG9wLCBzdGFydExlZnQgPSBjbS5kb2Muc2Nyb2xsTGVmdDtcbiAgICAgIGlmIChzY3JvbGxQb3Muc2Nyb2xsVG9wICE9IG51bGwpIHtcbiAgICAgICAgc2V0U2Nyb2xsVG9wKGNtLCBzY3JvbGxQb3Muc2Nyb2xsVG9wKTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGNtLmRvYy5zY3JvbGxUb3AgLSBzdGFydFRvcCkgPiAxKSBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzY3JvbGxQb3Muc2Nyb2xsTGVmdCAhPSBudWxsKSB7XG4gICAgICAgIHNldFNjcm9sbExlZnQoY20sIHNjcm9sbFBvcy5zY3JvbGxMZWZ0KTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGNtLmRvYy5zY3JvbGxMZWZ0IC0gc3RhcnRMZWZ0KSA+IDEpIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFjaGFuZ2VkKSByZXR1cm4gY29vcmRzO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNjcm9sbCBhIGdpdmVuIHNldCBvZiBjb29yZGluYXRlcyBpbnRvIHZpZXcgKGltbWVkaWF0ZWx5KS5cbiAgZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoY20sIHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgdmFyIHNjcm9sbFBvcyA9IGNhbGN1bGF0ZVNjcm9sbFBvcyhjbSwgeDEsIHkxLCB4MiwgeTIpO1xuICAgIGlmIChzY3JvbGxQb3Muc2Nyb2xsVG9wICE9IG51bGwpIHNldFNjcm9sbFRvcChjbSwgc2Nyb2xsUG9zLnNjcm9sbFRvcCk7XG4gICAgaWYgKHNjcm9sbFBvcy5zY3JvbGxMZWZ0ICE9IG51bGwpIHNldFNjcm9sbExlZnQoY20sIHNjcm9sbFBvcy5zY3JvbGxMZWZ0KTtcbiAgfVxuXG4gIC8vIENhbGN1bGF0ZSBhIG5ldyBzY3JvbGwgcG9zaXRpb24gbmVlZGVkIHRvIHNjcm9sbCB0aGUgZ2l2ZW5cbiAgLy8gcmVjdGFuZ2xlIGludG8gdmlldy4gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBzY3JvbGxUb3AgYW5kXG4gIC8vIHNjcm9sbExlZnQgcHJvcGVydGllcy4gV2hlbiB0aGVzZSBhcmUgdW5kZWZpbmVkLCB0aGVcbiAgLy8gdmVydGljYWwvaG9yaXpvbnRhbCBwb3NpdGlvbiBkb2VzIG5vdCBuZWVkIHRvIGJlIGFkanVzdGVkLlxuICBmdW5jdGlvbiBjYWxjdWxhdGVTY3JvbGxQb3MoY20sIHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBzbmFwTWFyZ2luID0gdGV4dEhlaWdodChjbS5kaXNwbGF5KTtcbiAgICBpZiAoeTEgPCAwKSB5MSA9IDA7XG4gICAgdmFyIHNjcmVlbnRvcCA9IGNtLmN1ck9wICYmIGNtLmN1ck9wLnNjcm9sbFRvcCAhPSBudWxsID8gY20uY3VyT3Auc2Nyb2xsVG9wIDogZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3A7XG4gICAgdmFyIHNjcmVlbiA9IGRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0IC0gc2Nyb2xsZXJDdXRPZmYsIHJlc3VsdCA9IHt9O1xuICAgIGlmICh5MiAtIHkxID4gc2NyZWVuKSB5MiA9IHkxICsgc2NyZWVuO1xuICAgIHZhciBkb2NCb3R0b20gPSBjbS5kb2MuaGVpZ2h0ICsgcGFkZGluZ1ZlcnQoZGlzcGxheSk7XG4gICAgdmFyIGF0VG9wID0geTEgPCBzbmFwTWFyZ2luLCBhdEJvdHRvbSA9IHkyID4gZG9jQm90dG9tIC0gc25hcE1hcmdpbjtcbiAgICBpZiAoeTEgPCBzY3JlZW50b3ApIHtcbiAgICAgIHJlc3VsdC5zY3JvbGxUb3AgPSBhdFRvcCA/IDAgOiB5MTtcbiAgICB9IGVsc2UgaWYgKHkyID4gc2NyZWVudG9wICsgc2NyZWVuKSB7XG4gICAgICB2YXIgbmV3VG9wID0gTWF0aC5taW4oeTEsIChhdEJvdHRvbSA/IGRvY0JvdHRvbSA6IHkyKSAtIHNjcmVlbik7XG4gICAgICBpZiAobmV3VG9wICE9IHNjcmVlbnRvcCkgcmVzdWx0LnNjcm9sbFRvcCA9IG5ld1RvcDtcbiAgICB9XG5cbiAgICB2YXIgc2NyZWVubGVmdCA9IGNtLmN1ck9wICYmIGNtLmN1ck9wLnNjcm9sbExlZnQgIT0gbnVsbCA/IGNtLmN1ck9wLnNjcm9sbExlZnQgOiBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQ7XG4gICAgdmFyIHNjcmVlbncgPSBkaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoIC0gc2Nyb2xsZXJDdXRPZmYgLSBkaXNwbGF5Lmd1dHRlcnMub2Zmc2V0V2lkdGg7XG4gICAgdmFyIHRvb1dpZGUgPSB4MiAtIHgxID4gc2NyZWVudztcbiAgICBpZiAodG9vV2lkZSkgeDIgPSB4MSArIHNjcmVlbnc7XG4gICAgaWYgKHgxIDwgMTApXG4gICAgICByZXN1bHQuc2Nyb2xsTGVmdCA9IDA7XG4gICAgZWxzZSBpZiAoeDEgPCBzY3JlZW5sZWZ0KVxuICAgICAgcmVzdWx0LnNjcm9sbExlZnQgPSBNYXRoLm1heCgwLCB4MSAtICh0b29XaWRlID8gMCA6IDEwKSk7XG4gICAgZWxzZSBpZiAoeDIgPiBzY3JlZW53ICsgc2NyZWVubGVmdCAtIDMpXG4gICAgICByZXN1bHQuc2Nyb2xsTGVmdCA9IHgyICsgKHRvb1dpZGUgPyAwIDogMTApIC0gc2NyZWVudztcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBTdG9yZSBhIHJlbGF0aXZlIGFkanVzdG1lbnQgdG8gdGhlIHNjcm9sbCBwb3NpdGlvbiBpbiB0aGUgY3VycmVudFxuICAvLyBvcGVyYXRpb24gKHRvIGJlIGFwcGxpZWQgd2hlbiB0aGUgb3BlcmF0aW9uIGZpbmlzaGVzKS5cbiAgZnVuY3Rpb24gYWRkVG9TY3JvbGxQb3MoY20sIGxlZnQsIHRvcCkge1xuICAgIGlmIChsZWZ0ICE9IG51bGwgfHwgdG9wICE9IG51bGwpIHJlc29sdmVTY3JvbGxUb1BvcyhjbSk7XG4gICAgaWYgKGxlZnQgIT0gbnVsbClcbiAgICAgIGNtLmN1ck9wLnNjcm9sbExlZnQgPSAoY20uY3VyT3Auc2Nyb2xsTGVmdCA9PSBudWxsID8gY20uZG9jLnNjcm9sbExlZnQgOiBjbS5jdXJPcC5zY3JvbGxMZWZ0KSArIGxlZnQ7XG4gICAgaWYgKHRvcCAhPSBudWxsKVxuICAgICAgY20uY3VyT3Auc2Nyb2xsVG9wID0gKGNtLmN1ck9wLnNjcm9sbFRvcCA9PSBudWxsID8gY20uZG9jLnNjcm9sbFRvcCA6IGNtLmN1ck9wLnNjcm9sbFRvcCkgKyB0b3A7XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgdGhhdCBhdCB0aGUgZW5kIG9mIHRoZSBvcGVyYXRpb24gdGhlIGN1cnJlbnQgY3Vyc29yIGlzXG4gIC8vIHNob3duLlxuICBmdW5jdGlvbiBlbnN1cmVDdXJzb3JWaXNpYmxlKGNtKSB7XG4gICAgcmVzb2x2ZVNjcm9sbFRvUG9zKGNtKTtcbiAgICB2YXIgY3VyID0gY20uZ2V0Q3Vyc29yKCksIGZyb20gPSBjdXIsIHRvID0gY3VyO1xuICAgIGlmICghY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHtcbiAgICAgIGZyb20gPSBjdXIuY2ggPyBQb3MoY3VyLmxpbmUsIGN1ci5jaCAtIDEpIDogY3VyO1xuICAgICAgdG8gPSBQb3MoY3VyLmxpbmUsIGN1ci5jaCArIDEpO1xuICAgIH1cbiAgICBjbS5jdXJPcC5zY3JvbGxUb1BvcyA9IHtmcm9tOiBmcm9tLCB0bzogdG8sIG1hcmdpbjogY20ub3B0aW9ucy5jdXJzb3JTY3JvbGxNYXJnaW4sIGlzQ3Vyc29yOiB0cnVlfTtcbiAgfVxuXG4gIC8vIFdoZW4gYW4gb3BlcmF0aW9uIGhhcyBpdHMgc2Nyb2xsVG9Qb3MgcHJvcGVydHkgc2V0LCBhbmQgYW5vdGhlclxuICAvLyBzY3JvbGwgYWN0aW9uIGlzIGFwcGxpZWQgYmVmb3JlIHRoZSBlbmQgb2YgdGhlIG9wZXJhdGlvbiwgdGhpc1xuICAvLyAnc2ltdWxhdGVzJyBzY3JvbGxpbmcgdGhhdCBwb3NpdGlvbiBpbnRvIHZpZXcgaW4gYSBjaGVhcCB3YXksIHNvXG4gIC8vIHRoYXQgdGhlIGVmZmVjdCBvZiBpbnRlcm1lZGlhdGUgc2Nyb2xsIGNvbW1hbmRzIGlzIG5vdCBpZ25vcmVkLlxuICBmdW5jdGlvbiByZXNvbHZlU2Nyb2xsVG9Qb3MoY20pIHtcbiAgICB2YXIgcmFuZ2UgPSBjbS5jdXJPcC5zY3JvbGxUb1BvcztcbiAgICBpZiAocmFuZ2UpIHtcbiAgICAgIGNtLmN1ck9wLnNjcm9sbFRvUG9zID0gbnVsbDtcbiAgICAgIHZhciBmcm9tID0gZXN0aW1hdGVDb29yZHMoY20sIHJhbmdlLmZyb20pLCB0byA9IGVzdGltYXRlQ29vcmRzKGNtLCByYW5nZS50byk7XG4gICAgICB2YXIgc1BvcyA9IGNhbGN1bGF0ZVNjcm9sbFBvcyhjbSwgTWF0aC5taW4oZnJvbS5sZWZ0LCB0by5sZWZ0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGZyb20udG9wLCB0by50b3ApIC0gcmFuZ2UubWFyZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoZnJvbS5yaWdodCwgdG8ucmlnaHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoZnJvbS5ib3R0b20sIHRvLmJvdHRvbSkgKyByYW5nZS5tYXJnaW4pO1xuICAgICAgY20uc2Nyb2xsVG8oc1Bvcy5zY3JvbGxMZWZ0LCBzUG9zLnNjcm9sbFRvcCk7XG4gICAgfVxuICB9XG5cbiAgLy8gQVBJIFVUSUxJVElFU1xuXG4gIC8vIEluZGVudCB0aGUgZ2l2ZW4gbGluZS4gVGhlIGhvdyBwYXJhbWV0ZXIgY2FuIGJlIFwic21hcnRcIixcbiAgLy8gXCJhZGRcIi9udWxsLCBcInN1YnRyYWN0XCIsIG9yIFwicHJldlwiLiBXaGVuIGFnZ3Jlc3NpdmUgaXMgZmFsc2VcbiAgLy8gKHR5cGljYWxseSBzZXQgdG8gdHJ1ZSBmb3IgZm9yY2VkIHNpbmdsZS1saW5lIGluZGVudHMpLCBlbXB0eVxuICAvLyBsaW5lcyBhcmUgbm90IGluZGVudGVkLCBhbmQgcGxhY2VzIHdoZXJlIHRoZSBtb2RlIHJldHVybnMgUGFzc1xuICAvLyBhcmUgbGVmdCBhbG9uZS5cbiAgZnVuY3Rpb24gaW5kZW50TGluZShjbSwgbiwgaG93LCBhZ2dyZXNzaXZlKSB7XG4gICAgdmFyIGRvYyA9IGNtLmRvYywgc3RhdGU7XG4gICAgaWYgKGhvdyA9PSBudWxsKSBob3cgPSBcImFkZFwiO1xuICAgIGlmIChob3cgPT0gXCJzbWFydFwiKSB7XG4gICAgICAvLyBGYWxsIGJhY2sgdG8gXCJwcmV2XCIgd2hlbiB0aGUgbW9kZSBkb2Vzbid0IGhhdmUgYW4gaW5kZW50YXRpb25cbiAgICAgIC8vIG1ldGhvZC5cbiAgICAgIGlmICghZG9jLm1vZGUuaW5kZW50KSBob3cgPSBcInByZXZcIjtcbiAgICAgIGVsc2Ugc3RhdGUgPSBnZXRTdGF0ZUJlZm9yZShjbSwgbik7XG4gICAgfVxuXG4gICAgdmFyIHRhYlNpemUgPSBjbS5vcHRpb25zLnRhYlNpemU7XG4gICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgbiksIGN1clNwYWNlID0gY291bnRDb2x1bW4obGluZS50ZXh0LCBudWxsLCB0YWJTaXplKTtcbiAgICBpZiAobGluZS5zdGF0ZUFmdGVyKSBsaW5lLnN0YXRlQWZ0ZXIgPSBudWxsO1xuICAgIHZhciBjdXJTcGFjZVN0cmluZyA9IGxpbmUudGV4dC5tYXRjaCgvXlxccyovKVswXSwgaW5kZW50YXRpb247XG4gICAgaWYgKCFhZ2dyZXNzaXZlICYmICEvXFxTLy50ZXN0KGxpbmUudGV4dCkpIHtcbiAgICAgIGluZGVudGF0aW9uID0gMDtcbiAgICAgIGhvdyA9IFwibm90XCI7XG4gICAgfSBlbHNlIGlmIChob3cgPT0gXCJzbWFydFwiKSB7XG4gICAgICBpbmRlbnRhdGlvbiA9IGRvYy5tb2RlLmluZGVudChzdGF0ZSwgbGluZS50ZXh0LnNsaWNlKGN1clNwYWNlU3RyaW5nLmxlbmd0aCksIGxpbmUudGV4dCk7XG4gICAgICBpZiAoaW5kZW50YXRpb24gPT0gUGFzcyB8fCBpbmRlbnRhdGlvbiA+IDE1MCkge1xuICAgICAgICBpZiAoIWFnZ3Jlc3NpdmUpIHJldHVybjtcbiAgICAgICAgaG93ID0gXCJwcmV2XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChob3cgPT0gXCJwcmV2XCIpIHtcbiAgICAgIGlmIChuID4gZG9jLmZpcnN0KSBpbmRlbnRhdGlvbiA9IGNvdW50Q29sdW1uKGdldExpbmUoZG9jLCBuLTEpLnRleHQsIG51bGwsIHRhYlNpemUpO1xuICAgICAgZWxzZSBpbmRlbnRhdGlvbiA9IDA7XG4gICAgfSBlbHNlIGlmIChob3cgPT0gXCJhZGRcIikge1xuICAgICAgaW5kZW50YXRpb24gPSBjdXJTcGFjZSArIGNtLm9wdGlvbnMuaW5kZW50VW5pdDtcbiAgICB9IGVsc2UgaWYgKGhvdyA9PSBcInN1YnRyYWN0XCIpIHtcbiAgICAgIGluZGVudGF0aW9uID0gY3VyU3BhY2UgLSBjbS5vcHRpb25zLmluZGVudFVuaXQ7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaG93ID09IFwibnVtYmVyXCIpIHtcbiAgICAgIGluZGVudGF0aW9uID0gY3VyU3BhY2UgKyBob3c7XG4gICAgfVxuICAgIGluZGVudGF0aW9uID0gTWF0aC5tYXgoMCwgaW5kZW50YXRpb24pO1xuXG4gICAgdmFyIGluZGVudFN0cmluZyA9IFwiXCIsIHBvcyA9IDA7XG4gICAgaWYgKGNtLm9wdGlvbnMuaW5kZW50V2l0aFRhYnMpXG4gICAgICBmb3IgKHZhciBpID0gTWF0aC5mbG9vcihpbmRlbnRhdGlvbiAvIHRhYlNpemUpOyBpOyAtLWkpIHtwb3MgKz0gdGFiU2l6ZTsgaW5kZW50U3RyaW5nICs9IFwiXFx0XCI7fVxuICAgIGlmIChwb3MgPCBpbmRlbnRhdGlvbikgaW5kZW50U3RyaW5nICs9IHNwYWNlU3RyKGluZGVudGF0aW9uIC0gcG9zKTtcblxuICAgIGlmIChpbmRlbnRTdHJpbmcgIT0gY3VyU3BhY2VTdHJpbmcpIHtcbiAgICAgIHJlcGxhY2VSYW5nZShkb2MsIGluZGVudFN0cmluZywgUG9zKG4sIDApLCBQb3MobiwgY3VyU3BhY2VTdHJpbmcubGVuZ3RoKSwgXCIraW5wdXRcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEVuc3VyZSB0aGF0LCBpZiB0aGUgY3Vyc29yIHdhcyBpbiB0aGUgd2hpdGVzcGFjZSBhdCB0aGUgc3RhcnRcbiAgICAgIC8vIG9mIHRoZSBsaW5lLCBpdCBpcyBtb3ZlZCB0byB0aGUgZW5kIG9mIHRoYXQgc3BhY2UuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5zZWwucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByYW5nZSA9IGRvYy5zZWwucmFuZ2VzW2ldO1xuICAgICAgICBpZiAocmFuZ2UuaGVhZC5saW5lID09IG4gJiYgcmFuZ2UuaGVhZC5jaCA8IGN1clNwYWNlU3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBwb3MgPSBQb3MobiwgY3VyU3BhY2VTdHJpbmcubGVuZ3RoKTtcbiAgICAgICAgICByZXBsYWNlT25lU2VsZWN0aW9uKGRvYywgaSwgbmV3IFJhbmdlKHBvcywgcG9zKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGluZS5zdGF0ZUFmdGVyID0gbnVsbDtcbiAgfVxuXG4gIC8vIFV0aWxpdHkgZm9yIGFwcGx5aW5nIGEgY2hhbmdlIHRvIGEgbGluZSBieSBoYW5kbGUgb3IgbnVtYmVyLFxuICAvLyByZXR1cm5pbmcgdGhlIG51bWJlciBhbmQgb3B0aW9uYWxseSByZWdpc3RlcmluZyB0aGUgbGluZSBhc1xuICAvLyBjaGFuZ2VkLlxuICBmdW5jdGlvbiBjaGFuZ2VMaW5lKGRvYywgaGFuZGxlLCBjaGFuZ2VUeXBlLCBvcCkge1xuICAgIHZhciBubyA9IGhhbmRsZSwgbGluZSA9IGhhbmRsZTtcbiAgICBpZiAodHlwZW9mIGhhbmRsZSA9PSBcIm51bWJlclwiKSBsaW5lID0gZ2V0TGluZShkb2MsIGNsaXBMaW5lKGRvYywgaGFuZGxlKSk7XG4gICAgZWxzZSBubyA9IGxpbmVObyhoYW5kbGUpO1xuICAgIGlmIChubyA9PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICBpZiAob3AobGluZSwgbm8pICYmIGRvYy5jbSkgcmVnTGluZUNoYW5nZShkb2MuY20sIG5vLCBjaGFuZ2VUeXBlKTtcbiAgICByZXR1cm4gbGluZTtcbiAgfVxuXG4gIC8vIEhlbHBlciBmb3IgZGVsZXRpbmcgdGV4dCBuZWFyIHRoZSBzZWxlY3Rpb24ocyksIHVzZWQgdG8gaW1wbGVtZW50XG4gIC8vIGJhY2tzcGFjZSwgZGVsZXRlLCBhbmQgc2ltaWxhciBmdW5jdGlvbmFsaXR5LlxuICBmdW5jdGlvbiBkZWxldGVOZWFyU2VsZWN0aW9uKGNtLCBjb21wdXRlKSB7XG4gICAgdmFyIHJhbmdlcyA9IGNtLmRvYy5zZWwucmFuZ2VzLCBraWxsID0gW107XG4gICAgLy8gQnVpbGQgdXAgYSBzZXQgb2YgcmFuZ2VzIHRvIGtpbGwgZmlyc3QsIG1lcmdpbmcgb3ZlcmxhcHBpbmdcbiAgICAvLyByYW5nZXMuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0b0tpbGwgPSBjb21wdXRlKHJhbmdlc1tpXSk7XG4gICAgICB3aGlsZSAoa2lsbC5sZW5ndGggJiYgY21wKHRvS2lsbC5mcm9tLCBsc3Qoa2lsbCkudG8pIDw9IDApIHtcbiAgICAgICAgdmFyIHJlcGxhY2VkID0ga2lsbC5wb3AoKTtcbiAgICAgICAgaWYgKGNtcChyZXBsYWNlZC5mcm9tLCB0b0tpbGwuZnJvbSkgPCAwKSB7XG4gICAgICAgICAgdG9LaWxsLmZyb20gPSByZXBsYWNlZC5mcm9tO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBraWxsLnB1c2godG9LaWxsKTtcbiAgICB9XG4gICAgLy8gTmV4dCwgcmVtb3ZlIHRob3NlIGFjdHVhbCByYW5nZXMuXG4gICAgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKHZhciBpID0ga2lsbC5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAgcmVwbGFjZVJhbmdlKGNtLmRvYywgXCJcIiwga2lsbFtpXS5mcm9tLCBraWxsW2ldLnRvLCBcIitkZWxldGVcIik7XG4gICAgICBlbnN1cmVDdXJzb3JWaXNpYmxlKGNtKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFVzZWQgZm9yIGhvcml6b250YWwgcmVsYXRpdmUgbW90aW9uLiBEaXIgaXMgLTEgb3IgMSAobGVmdCBvclxuICAvLyByaWdodCksIHVuaXQgY2FuIGJlIFwiY2hhclwiLCBcImNvbHVtblwiIChsaWtlIGNoYXIsIGJ1dCBkb2Vzbid0XG4gIC8vIGNyb3NzIGxpbmUgYm91bmRhcmllcyksIFwid29yZFwiIChhY3Jvc3MgbmV4dCB3b3JkKSwgb3IgXCJncm91cFwiICh0b1xuICAvLyB0aGUgc3RhcnQgb2YgbmV4dCBncm91cCBvZiB3b3JkIG9yIG5vbi13b3JkLW5vbi13aGl0ZXNwYWNlXG4gIC8vIGNoYXJzKS4gVGhlIHZpc3VhbGx5IHBhcmFtIGNvbnRyb2xzIHdoZXRoZXIsIGluIHJpZ2h0LXRvLWxlZnRcbiAgLy8gdGV4dCwgZGlyZWN0aW9uIDEgbWVhbnMgdG8gbW92ZSB0b3dhcmRzIHRoZSBuZXh0IGluZGV4IGluIHRoZVxuICAvLyBzdHJpbmcsIG9yIHRvd2FyZHMgdGhlIGNoYXJhY3RlciB0byB0aGUgcmlnaHQgb2YgdGhlIGN1cnJlbnRcbiAgLy8gcG9zaXRpb24uIFRoZSByZXN1bHRpbmcgcG9zaXRpb24gd2lsbCBoYXZlIGEgaGl0U2lkZT10cnVlXG4gIC8vIHByb3BlcnR5IGlmIGl0IHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQuXG4gIGZ1bmN0aW9uIGZpbmRQb3NIKGRvYywgcG9zLCBkaXIsIHVuaXQsIHZpc3VhbGx5KSB7XG4gICAgdmFyIGxpbmUgPSBwb3MubGluZSwgY2ggPSBwb3MuY2gsIG9yaWdEaXIgPSBkaXI7XG4gICAgdmFyIGxpbmVPYmogPSBnZXRMaW5lKGRvYywgbGluZSk7XG4gICAgdmFyIHBvc3NpYmxlID0gdHJ1ZTtcbiAgICBmdW5jdGlvbiBmaW5kTmV4dExpbmUoKSB7XG4gICAgICB2YXIgbCA9IGxpbmUgKyBkaXI7XG4gICAgICBpZiAobCA8IGRvYy5maXJzdCB8fCBsID49IGRvYy5maXJzdCArIGRvYy5zaXplKSByZXR1cm4gKHBvc3NpYmxlID0gZmFsc2UpO1xuICAgICAgbGluZSA9IGw7XG4gICAgICByZXR1cm4gbGluZU9iaiA9IGdldExpbmUoZG9jLCBsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW92ZU9uY2UoYm91bmRUb0xpbmUpIHtcbiAgICAgIHZhciBuZXh0ID0gKHZpc3VhbGx5ID8gbW92ZVZpc3VhbGx5IDogbW92ZUxvZ2ljYWxseSkobGluZU9iaiwgY2gsIGRpciwgdHJ1ZSk7XG4gICAgICBpZiAobmV4dCA9PSBudWxsKSB7XG4gICAgICAgIGlmICghYm91bmRUb0xpbmUgJiYgZmluZE5leHRMaW5lKCkpIHtcbiAgICAgICAgICBpZiAodmlzdWFsbHkpIGNoID0gKGRpciA8IDAgPyBsaW5lUmlnaHQgOiBsaW5lTGVmdCkobGluZU9iaik7XG4gICAgICAgICAgZWxzZSBjaCA9IGRpciA8IDAgPyBsaW5lT2JqLnRleHQubGVuZ3RoIDogMDtcbiAgICAgICAgfSBlbHNlIHJldHVybiAocG9zc2libGUgPSBmYWxzZSk7XG4gICAgICB9IGVsc2UgY2ggPSBuZXh0O1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHVuaXQgPT0gXCJjaGFyXCIpIG1vdmVPbmNlKCk7XG4gICAgZWxzZSBpZiAodW5pdCA9PSBcImNvbHVtblwiKSBtb3ZlT25jZSh0cnVlKTtcbiAgICBlbHNlIGlmICh1bml0ID09IFwid29yZFwiIHx8IHVuaXQgPT0gXCJncm91cFwiKSB7XG4gICAgICB2YXIgc2F3VHlwZSA9IG51bGwsIGdyb3VwID0gdW5pdCA9PSBcImdyb3VwXCI7XG4gICAgICB2YXIgaGVscGVyID0gZG9jLmNtICYmIGRvYy5jbS5nZXRIZWxwZXIocG9zLCBcIndvcmRDaGFyc1wiKTtcbiAgICAgIGZvciAodmFyIGZpcnN0ID0gdHJ1ZTs7IGZpcnN0ID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKGRpciA8IDAgJiYgIW1vdmVPbmNlKCFmaXJzdCkpIGJyZWFrO1xuICAgICAgICB2YXIgY3VyID0gbGluZU9iai50ZXh0LmNoYXJBdChjaCkgfHwgXCJcXG5cIjtcbiAgICAgICAgdmFyIHR5cGUgPSBpc1dvcmRDaGFyKGN1ciwgaGVscGVyKSA/IFwid1wiXG4gICAgICAgICAgOiBncm91cCAmJiBjdXIgPT0gXCJcXG5cIiA/IFwiblwiXG4gICAgICAgICAgOiAhZ3JvdXAgfHwgL1xccy8udGVzdChjdXIpID8gbnVsbFxuICAgICAgICAgIDogXCJwXCI7XG4gICAgICAgIGlmIChncm91cCAmJiAhZmlyc3QgJiYgIXR5cGUpIHR5cGUgPSBcInNcIjtcbiAgICAgICAgaWYgKHNhd1R5cGUgJiYgc2F3VHlwZSAhPSB0eXBlKSB7XG4gICAgICAgICAgaWYgKGRpciA8IDApIHtkaXIgPSAxOyBtb3ZlT25jZSgpO31cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlKSBzYXdUeXBlID0gdHlwZTtcbiAgICAgICAgaWYgKGRpciA+IDAgJiYgIW1vdmVPbmNlKCFmaXJzdCkpIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gc2tpcEF0b21pYyhkb2MsIFBvcyhsaW5lLCBjaCksIG9yaWdEaXIsIHRydWUpO1xuICAgIGlmICghcG9zc2libGUpIHJlc3VsdC5oaXRTaWRlID0gdHJ1ZTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gRm9yIHJlbGF0aXZlIHZlcnRpY2FsIG1vdmVtZW50LiBEaXIgbWF5IGJlIC0xIG9yIDEuIFVuaXQgY2FuIGJlXG4gIC8vIFwicGFnZVwiIG9yIFwibGluZVwiLiBUaGUgcmVzdWx0aW5nIHBvc2l0aW9uIHdpbGwgaGF2ZSBhIGhpdFNpZGU9dHJ1ZVxuICAvLyBwcm9wZXJ0eSBpZiBpdCByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50LlxuICBmdW5jdGlvbiBmaW5kUG9zVihjbSwgcG9zLCBkaXIsIHVuaXQpIHtcbiAgICB2YXIgZG9jID0gY20uZG9jLCB4ID0gcG9zLmxlZnQsIHk7XG4gICAgaWYgKHVuaXQgPT0gXCJwYWdlXCIpIHtcbiAgICAgIHZhciBwYWdlU2l6ZSA9IE1hdGgubWluKGNtLmRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KTtcbiAgICAgIHkgPSBwb3MudG9wICsgZGlyICogKHBhZ2VTaXplIC0gKGRpciA8IDAgPyAxLjUgOiAuNSkgKiB0ZXh0SGVpZ2h0KGNtLmRpc3BsYXkpKTtcbiAgICB9IGVsc2UgaWYgKHVuaXQgPT0gXCJsaW5lXCIpIHtcbiAgICAgIHkgPSBkaXIgPiAwID8gcG9zLmJvdHRvbSArIDMgOiBwb3MudG9wIC0gMztcbiAgICB9XG4gICAgZm9yICg7Oykge1xuICAgICAgdmFyIHRhcmdldCA9IGNvb3Jkc0NoYXIoY20sIHgsIHkpO1xuICAgICAgaWYgKCF0YXJnZXQub3V0c2lkZSkgYnJlYWs7XG4gICAgICBpZiAoZGlyIDwgMCA/IHkgPD0gMCA6IHkgPj0gZG9jLmhlaWdodCkgeyB0YXJnZXQuaGl0U2lkZSA9IHRydWU7IGJyZWFrOyB9XG4gICAgICB5ICs9IGRpciAqIDU7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICAvLyBFRElUT1IgTUVUSE9EU1xuXG4gIC8vIFRoZSBwdWJsaWNseSB2aXNpYmxlIEFQSS4gTm90ZSB0aGF0IG1ldGhvZE9wKGYpIG1lYW5zXG4gIC8vICd3cmFwIGYgaW4gYW4gb3BlcmF0aW9uLCBwZXJmb3JtZWQgb24gaXRzIGB0aGlzYCBwYXJhbWV0ZXInLlxuXG4gIC8vIFRoaXMgaXMgbm90IHRoZSBjb21wbGV0ZSBzZXQgb2YgZWRpdG9yIG1ldGhvZHMuIE1vc3Qgb2YgdGhlXG4gIC8vIG1ldGhvZHMgZGVmaW5lZCBvbiB0aGUgRG9jIHR5cGUgYXJlIGFsc28gaW5qZWN0ZWQgaW50b1xuICAvLyBDb2RlTWlycm9yLnByb3RvdHlwZSwgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGFuZFxuICAvLyBjb252ZW5pZW5jZS5cblxuICBDb2RlTWlycm9yLnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29kZU1pcnJvcixcbiAgICBmb2N1czogZnVuY3Rpb24oKXt3aW5kb3cuZm9jdXMoKTsgZm9jdXNJbnB1dCh0aGlzKTsgZmFzdFBvbGwodGhpcyk7fSxcblxuICAgIHNldE9wdGlvbjogZnVuY3Rpb24ob3B0aW9uLCB2YWx1ZSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsIG9sZCA9IG9wdGlvbnNbb3B0aW9uXTtcbiAgICAgIGlmIChvcHRpb25zW29wdGlvbl0gPT0gdmFsdWUgJiYgb3B0aW9uICE9IFwibW9kZVwiKSByZXR1cm47XG4gICAgICBvcHRpb25zW29wdGlvbl0gPSB2YWx1ZTtcbiAgICAgIGlmIChvcHRpb25IYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKVxuICAgICAgICBvcGVyYXRpb24odGhpcywgb3B0aW9uSGFuZGxlcnNbb3B0aW9uXSkodGhpcywgdmFsdWUsIG9sZCk7XG4gICAgfSxcblxuICAgIGdldE9wdGlvbjogZnVuY3Rpb24ob3B0aW9uKSB7cmV0dXJuIHRoaXMub3B0aW9uc1tvcHRpb25dO30sXG4gICAgZ2V0RG9jOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5kb2M7fSxcblxuICAgIGFkZEtleU1hcDogZnVuY3Rpb24obWFwLCBib3R0b20pIHtcbiAgICAgIHRoaXMuc3RhdGUua2V5TWFwc1tib3R0b20gPyBcInB1c2hcIiA6IFwidW5zaGlmdFwiXShtYXApO1xuICAgIH0sXG4gICAgcmVtb3ZlS2V5TWFwOiBmdW5jdGlvbihtYXApIHtcbiAgICAgIHZhciBtYXBzID0gdGhpcy5zdGF0ZS5rZXlNYXBzO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXBzLmxlbmd0aDsgKytpKVxuICAgICAgICBpZiAobWFwc1tpXSA9PSBtYXAgfHwgKHR5cGVvZiBtYXBzW2ldICE9IFwic3RyaW5nXCIgJiYgbWFwc1tpXS5uYW1lID09IG1hcCkpIHtcbiAgICAgICAgICBtYXBzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBhZGRPdmVybGF5OiBtZXRob2RPcChmdW5jdGlvbihzcGVjLCBvcHRpb25zKSB7XG4gICAgICB2YXIgbW9kZSA9IHNwZWMudG9rZW4gPyBzcGVjIDogQ29kZU1pcnJvci5nZXRNb2RlKHRoaXMub3B0aW9ucywgc3BlYyk7XG4gICAgICBpZiAobW9kZS5zdGFydFN0YXRlKSB0aHJvdyBuZXcgRXJyb3IoXCJPdmVybGF5cyBtYXkgbm90IGJlIHN0YXRlZnVsLlwiKTtcbiAgICAgIHRoaXMuc3RhdGUub3ZlcmxheXMucHVzaCh7bW9kZTogbW9kZSwgbW9kZVNwZWM6IHNwZWMsIG9wYXF1ZTogb3B0aW9ucyAmJiBvcHRpb25zLm9wYXF1ZX0pO1xuICAgICAgdGhpcy5zdGF0ZS5tb2RlR2VuKys7XG4gICAgICByZWdDaGFuZ2UodGhpcyk7XG4gICAgfSksXG4gICAgcmVtb3ZlT3ZlcmxheTogbWV0aG9kT3AoZnVuY3Rpb24oc3BlYykge1xuICAgICAgdmFyIG92ZXJsYXlzID0gdGhpcy5zdGF0ZS5vdmVybGF5cztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3ZlcmxheXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGN1ciA9IG92ZXJsYXlzW2ldLm1vZGVTcGVjO1xuICAgICAgICBpZiAoY3VyID09IHNwZWMgfHwgdHlwZW9mIHNwZWMgPT0gXCJzdHJpbmdcIiAmJiBjdXIubmFtZSA9PSBzcGVjKSB7XG4gICAgICAgICAgb3ZlcmxheXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIHRoaXMuc3RhdGUubW9kZUdlbisrO1xuICAgICAgICAgIHJlZ0NoYW5nZSh0aGlzKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcblxuICAgIGluZGVudExpbmU6IG1ldGhvZE9wKGZ1bmN0aW9uKG4sIGRpciwgYWdncmVzc2l2ZSkge1xuICAgICAgaWYgKHR5cGVvZiBkaXIgIT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZGlyICE9IFwibnVtYmVyXCIpIHtcbiAgICAgICAgaWYgKGRpciA9PSBudWxsKSBkaXIgPSB0aGlzLm9wdGlvbnMuc21hcnRJbmRlbnQgPyBcInNtYXJ0XCIgOiBcInByZXZcIjtcbiAgICAgICAgZWxzZSBkaXIgPSBkaXIgPyBcImFkZFwiIDogXCJzdWJ0cmFjdFwiO1xuICAgICAgfVxuICAgICAgaWYgKGlzTGluZSh0aGlzLmRvYywgbikpIGluZGVudExpbmUodGhpcywgbiwgZGlyLCBhZ2dyZXNzaXZlKTtcbiAgICB9KSxcbiAgICBpbmRlbnRTZWxlY3Rpb246IG1ldGhvZE9wKGZ1bmN0aW9uKGhvdykge1xuICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuZG9jLnNlbC5yYW5nZXMsIGVuZCA9IC0xO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJhbmdlID0gcmFuZ2VzW2ldO1xuICAgICAgICBpZiAoIXJhbmdlLmVtcHR5KCkpIHtcbiAgICAgICAgICB2YXIgZnJvbSA9IHJhbmdlLmZyb20oKSwgdG8gPSByYW5nZS50bygpO1xuICAgICAgICAgIHZhciBzdGFydCA9IE1hdGgubWF4KGVuZCwgZnJvbS5saW5lKTtcbiAgICAgICAgICBlbmQgPSBNYXRoLm1pbih0aGlzLmxhc3RMaW5lKCksIHRvLmxpbmUgLSAodG8uY2ggPyAwIDogMSkpICsgMTtcbiAgICAgICAgICBmb3IgKHZhciBqID0gc3RhcnQ7IGogPCBlbmQ7ICsrailcbiAgICAgICAgICAgIGluZGVudExpbmUodGhpcywgaiwgaG93KTtcbiAgICAgICAgICB2YXIgbmV3UmFuZ2VzID0gdGhpcy5kb2Muc2VsLnJhbmdlcztcbiAgICAgICAgICBpZiAoZnJvbS5jaCA9PSAwICYmIHJhbmdlcy5sZW5ndGggPT0gbmV3UmFuZ2VzLmxlbmd0aCAmJiBuZXdSYW5nZXNbaV0uZnJvbSgpLmNoID4gMClcbiAgICAgICAgICAgIHJlcGxhY2VPbmVTZWxlY3Rpb24odGhpcy5kb2MsIGksIG5ldyBSYW5nZShmcm9tLCBuZXdSYW5nZXNbaV0udG8oKSksIHNlbF9kb250U2Nyb2xsKTtcbiAgICAgICAgfSBlbHNlIGlmIChyYW5nZS5oZWFkLmxpbmUgPiBlbmQpIHtcbiAgICAgICAgICBpbmRlbnRMaW5lKHRoaXMsIHJhbmdlLmhlYWQubGluZSwgaG93LCB0cnVlKTtcbiAgICAgICAgICBlbmQgPSByYW5nZS5oZWFkLmxpbmU7XG4gICAgICAgICAgaWYgKGkgPT0gdGhpcy5kb2Muc2VsLnByaW1JbmRleCkgZW5zdXJlQ3Vyc29yVmlzaWJsZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuXG4gICAgLy8gRmV0Y2ggdGhlIHBhcnNlciB0b2tlbiBmb3IgYSBnaXZlbiBjaGFyYWN0ZXIuIFVzZWZ1bCBmb3IgaGFja3NcbiAgICAvLyB0aGF0IHdhbnQgdG8gaW5zcGVjdCB0aGUgbW9kZSBzdGF0ZSAoc2F5LCBmb3IgY29tcGxldGlvbikuXG4gICAgZ2V0VG9rZW5BdDogZnVuY3Rpb24ocG9zLCBwcmVjaXNlKSB7XG4gICAgICB2YXIgZG9jID0gdGhpcy5kb2M7XG4gICAgICBwb3MgPSBjbGlwUG9zKGRvYywgcG9zKTtcbiAgICAgIHZhciBzdGF0ZSA9IGdldFN0YXRlQmVmb3JlKHRoaXMsIHBvcy5saW5lLCBwcmVjaXNlKSwgbW9kZSA9IHRoaXMuZG9jLm1vZGU7XG4gICAgICB2YXIgbGluZSA9IGdldExpbmUoZG9jLCBwb3MubGluZSk7XG4gICAgICB2YXIgc3RyZWFtID0gbmV3IFN0cmluZ1N0cmVhbShsaW5lLnRleHQsIHRoaXMub3B0aW9ucy50YWJTaXplKTtcbiAgICAgIHdoaWxlIChzdHJlYW0ucG9zIDwgcG9zLmNoICYmICFzdHJlYW0uZW9sKCkpIHtcbiAgICAgICAgc3RyZWFtLnN0YXJ0ID0gc3RyZWFtLnBvcztcbiAgICAgICAgdmFyIHN0eWxlID0gcmVhZFRva2VuKG1vZGUsIHN0cmVhbSwgc3RhdGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtzdGFydDogc3RyZWFtLnN0YXJ0LFxuICAgICAgICAgICAgICBlbmQ6IHN0cmVhbS5wb3MsXG4gICAgICAgICAgICAgIHN0cmluZzogc3RyZWFtLmN1cnJlbnQoKSxcbiAgICAgICAgICAgICAgdHlwZTogc3R5bGUgfHwgbnVsbCxcbiAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlfTtcbiAgICB9LFxuXG4gICAgZ2V0VG9rZW5UeXBlQXQ6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgcG9zID0gY2xpcFBvcyh0aGlzLmRvYywgcG9zKTtcbiAgICAgIHZhciBzdHlsZXMgPSBnZXRMaW5lU3R5bGVzKHRoaXMsIGdldExpbmUodGhpcy5kb2MsIHBvcy5saW5lKSk7XG4gICAgICB2YXIgYmVmb3JlID0gMCwgYWZ0ZXIgPSAoc3R5bGVzLmxlbmd0aCAtIDEpIC8gMiwgY2ggPSBwb3MuY2g7XG4gICAgICB2YXIgdHlwZTtcbiAgICAgIGlmIChjaCA9PSAwKSB0eXBlID0gc3R5bGVzWzJdO1xuICAgICAgZWxzZSBmb3IgKDs7KSB7XG4gICAgICAgIHZhciBtaWQgPSAoYmVmb3JlICsgYWZ0ZXIpID4+IDE7XG4gICAgICAgIGlmICgobWlkID8gc3R5bGVzW21pZCAqIDIgLSAxXSA6IDApID49IGNoKSBhZnRlciA9IG1pZDtcbiAgICAgICAgZWxzZSBpZiAoc3R5bGVzW21pZCAqIDIgKyAxXSA8IGNoKSBiZWZvcmUgPSBtaWQgKyAxO1xuICAgICAgICBlbHNlIHsgdHlwZSA9IHN0eWxlc1ttaWQgKiAyICsgMl07IGJyZWFrOyB9XG4gICAgICB9XG4gICAgICB2YXIgY3V0ID0gdHlwZSA/IHR5cGUuaW5kZXhPZihcImNtLW92ZXJsYXkgXCIpIDogLTE7XG4gICAgICByZXR1cm4gY3V0IDwgMCA/IHR5cGUgOiBjdXQgPT0gMCA/IG51bGwgOiB0eXBlLnNsaWNlKDAsIGN1dCAtIDEpO1xuICAgIH0sXG5cbiAgICBnZXRNb2RlQXQ6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgdmFyIG1vZGUgPSB0aGlzLmRvYy5tb2RlO1xuICAgICAgaWYgKCFtb2RlLmlubmVyTW9kZSkgcmV0dXJuIG1vZGU7XG4gICAgICByZXR1cm4gQ29kZU1pcnJvci5pbm5lck1vZGUobW9kZSwgdGhpcy5nZXRUb2tlbkF0KHBvcykuc3RhdGUpLm1vZGU7XG4gICAgfSxcblxuICAgIGdldEhlbHBlcjogZnVuY3Rpb24ocG9zLCB0eXBlKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRIZWxwZXJzKHBvcywgdHlwZSlbMF07XG4gICAgfSxcblxuICAgIGdldEhlbHBlcnM6IGZ1bmN0aW9uKHBvcywgdHlwZSkge1xuICAgICAgdmFyIGZvdW5kID0gW107XG4gICAgICBpZiAoIWhlbHBlcnMuaGFzT3duUHJvcGVydHkodHlwZSkpIHJldHVybiBoZWxwZXJzO1xuICAgICAgdmFyIGhlbHAgPSBoZWxwZXJzW3R5cGVdLCBtb2RlID0gdGhpcy5nZXRNb2RlQXQocG9zKTtcbiAgICAgIGlmICh0eXBlb2YgbW9kZVt0eXBlXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmIChoZWxwW21vZGVbdHlwZV1dKSBmb3VuZC5wdXNoKGhlbHBbbW9kZVt0eXBlXV0pO1xuICAgICAgfSBlbHNlIGlmIChtb2RlW3R5cGVdKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9kZVt0eXBlXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciB2YWwgPSBoZWxwW21vZGVbdHlwZV1baV1dO1xuICAgICAgICAgIGlmICh2YWwpIGZvdW5kLnB1c2godmFsKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChtb2RlLmhlbHBlclR5cGUgJiYgaGVscFttb2RlLmhlbHBlclR5cGVdKSB7XG4gICAgICAgIGZvdW5kLnB1c2goaGVscFttb2RlLmhlbHBlclR5cGVdKTtcbiAgICAgIH0gZWxzZSBpZiAoaGVscFttb2RlLm5hbWVdKSB7XG4gICAgICAgIGZvdW5kLnB1c2goaGVscFttb2RlLm5hbWVdKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGVscC5fZ2xvYmFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjdXIgPSBoZWxwLl9nbG9iYWxbaV07XG4gICAgICAgIGlmIChjdXIucHJlZChtb2RlLCB0aGlzKSAmJiBpbmRleE9mKGZvdW5kLCBjdXIudmFsKSA9PSAtMSlcbiAgICAgICAgICBmb3VuZC5wdXNoKGN1ci52YWwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH0sXG5cbiAgICBnZXRTdGF0ZUFmdGVyOiBmdW5jdGlvbihsaW5lLCBwcmVjaXNlKSB7XG4gICAgICB2YXIgZG9jID0gdGhpcy5kb2M7XG4gICAgICBsaW5lID0gY2xpcExpbmUoZG9jLCBsaW5lID09IG51bGwgPyBkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDE6IGxpbmUpO1xuICAgICAgcmV0dXJuIGdldFN0YXRlQmVmb3JlKHRoaXMsIGxpbmUgKyAxLCBwcmVjaXNlKTtcbiAgICB9LFxuXG4gICAgY3Vyc29yQ29vcmRzOiBmdW5jdGlvbihzdGFydCwgbW9kZSkge1xuICAgICAgdmFyIHBvcywgcmFuZ2UgPSB0aGlzLmRvYy5zZWwucHJpbWFyeSgpO1xuICAgICAgaWYgKHN0YXJ0ID09IG51bGwpIHBvcyA9IHJhbmdlLmhlYWQ7XG4gICAgICBlbHNlIGlmICh0eXBlb2Ygc3RhcnQgPT0gXCJvYmplY3RcIikgcG9zID0gY2xpcFBvcyh0aGlzLmRvYywgc3RhcnQpO1xuICAgICAgZWxzZSBwb3MgPSBzdGFydCA/IHJhbmdlLmZyb20oKSA6IHJhbmdlLnRvKCk7XG4gICAgICByZXR1cm4gY3Vyc29yQ29vcmRzKHRoaXMsIHBvcywgbW9kZSB8fCBcInBhZ2VcIik7XG4gICAgfSxcblxuICAgIGNoYXJDb29yZHM6IGZ1bmN0aW9uKHBvcywgbW9kZSkge1xuICAgICAgcmV0dXJuIGNoYXJDb29yZHModGhpcywgY2xpcFBvcyh0aGlzLmRvYywgcG9zKSwgbW9kZSB8fCBcInBhZ2VcIik7XG4gICAgfSxcblxuICAgIGNvb3Jkc0NoYXI6IGZ1bmN0aW9uKGNvb3JkcywgbW9kZSkge1xuICAgICAgY29vcmRzID0gZnJvbUNvb3JkU3lzdGVtKHRoaXMsIGNvb3JkcywgbW9kZSB8fCBcInBhZ2VcIik7XG4gICAgICByZXR1cm4gY29vcmRzQ2hhcih0aGlzLCBjb29yZHMubGVmdCwgY29vcmRzLnRvcCk7XG4gICAgfSxcblxuICAgIGxpbmVBdEhlaWdodDogZnVuY3Rpb24oaGVpZ2h0LCBtb2RlKSB7XG4gICAgICBoZWlnaHQgPSBmcm9tQ29vcmRTeXN0ZW0odGhpcywge3RvcDogaGVpZ2h0LCBsZWZ0OiAwfSwgbW9kZSB8fCBcInBhZ2VcIikudG9wO1xuICAgICAgcmV0dXJuIGxpbmVBdEhlaWdodCh0aGlzLmRvYywgaGVpZ2h0ICsgdGhpcy5kaXNwbGF5LnZpZXdPZmZzZXQpO1xuICAgIH0sXG4gICAgaGVpZ2h0QXRMaW5lOiBmdW5jdGlvbihsaW5lLCBtb2RlKSB7XG4gICAgICB2YXIgZW5kID0gZmFsc2UsIGxhc3QgPSB0aGlzLmRvYy5maXJzdCArIHRoaXMuZG9jLnNpemUgLSAxO1xuICAgICAgaWYgKGxpbmUgPCB0aGlzLmRvYy5maXJzdCkgbGluZSA9IHRoaXMuZG9jLmZpcnN0O1xuICAgICAgZWxzZSBpZiAobGluZSA+IGxhc3QpIHsgbGluZSA9IGxhc3Q7IGVuZCA9IHRydWU7IH1cbiAgICAgIHZhciBsaW5lT2JqID0gZ2V0TGluZSh0aGlzLmRvYywgbGluZSk7XG4gICAgICByZXR1cm4gaW50b0Nvb3JkU3lzdGVtKHRoaXMsIGxpbmVPYmosIHt0b3A6IDAsIGxlZnQ6IDB9LCBtb2RlIHx8IFwicGFnZVwiKS50b3AgK1xuICAgICAgICAoZW5kID8gdGhpcy5kb2MuaGVpZ2h0IC0gaGVpZ2h0QXRMaW5lKGxpbmVPYmopIDogMCk7XG4gICAgfSxcblxuICAgIGRlZmF1bHRUZXh0SGVpZ2h0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRleHRIZWlnaHQodGhpcy5kaXNwbGF5KTsgfSxcbiAgICBkZWZhdWx0Q2hhcldpZHRoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGNoYXJXaWR0aCh0aGlzLmRpc3BsYXkpOyB9LFxuXG4gICAgc2V0R3V0dGVyTWFya2VyOiBtZXRob2RPcChmdW5jdGlvbihsaW5lLCBndXR0ZXJJRCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBjaGFuZ2VMaW5lKHRoaXMuZG9jLCBsaW5lLCBcImd1dHRlclwiLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIHZhciBtYXJrZXJzID0gbGluZS5ndXR0ZXJNYXJrZXJzIHx8IChsaW5lLmd1dHRlck1hcmtlcnMgPSB7fSk7XG4gICAgICAgIG1hcmtlcnNbZ3V0dGVySURdID0gdmFsdWU7XG4gICAgICAgIGlmICghdmFsdWUgJiYgaXNFbXB0eShtYXJrZXJzKSkgbGluZS5ndXR0ZXJNYXJrZXJzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9KTtcbiAgICB9KSxcblxuICAgIGNsZWFyR3V0dGVyOiBtZXRob2RPcChmdW5jdGlvbihndXR0ZXJJRCkge1xuICAgICAgdmFyIGNtID0gdGhpcywgZG9jID0gY20uZG9jLCBpID0gZG9jLmZpcnN0O1xuICAgICAgZG9jLml0ZXIoZnVuY3Rpb24obGluZSkge1xuICAgICAgICBpZiAobGluZS5ndXR0ZXJNYXJrZXJzICYmIGxpbmUuZ3V0dGVyTWFya2Vyc1tndXR0ZXJJRF0pIHtcbiAgICAgICAgICBsaW5lLmd1dHRlck1hcmtlcnNbZ3V0dGVySURdID0gbnVsbDtcbiAgICAgICAgICByZWdMaW5lQ2hhbmdlKGNtLCBpLCBcImd1dHRlclwiKTtcbiAgICAgICAgICBpZiAoaXNFbXB0eShsaW5lLmd1dHRlck1hcmtlcnMpKSBsaW5lLmd1dHRlck1hcmtlcnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgICsraTtcbiAgICAgIH0pO1xuICAgIH0pLFxuXG4gICAgYWRkTGluZVdpZGdldDogbWV0aG9kT3AoZnVuY3Rpb24oaGFuZGxlLCBub2RlLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYWRkTGluZVdpZGdldCh0aGlzLCBoYW5kbGUsIG5vZGUsIG9wdGlvbnMpO1xuICAgIH0pLFxuXG4gICAgcmVtb3ZlTGluZVdpZGdldDogZnVuY3Rpb24od2lkZ2V0KSB7IHdpZGdldC5jbGVhcigpOyB9LFxuXG4gICAgbGluZUluZm86IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmICh0eXBlb2YgbGluZSA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGlmICghaXNMaW5lKHRoaXMuZG9jLCBsaW5lKSkgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBuID0gbGluZTtcbiAgICAgICAgbGluZSA9IGdldExpbmUodGhpcy5kb2MsIGxpbmUpO1xuICAgICAgICBpZiAoIWxpbmUpIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG4gPSBsaW5lTm8obGluZSk7XG4gICAgICAgIGlmIChuID09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtsaW5lOiBuLCBoYW5kbGU6IGxpbmUsIHRleHQ6IGxpbmUudGV4dCwgZ3V0dGVyTWFya2VyczogbGluZS5ndXR0ZXJNYXJrZXJzLFxuICAgICAgICAgICAgICB0ZXh0Q2xhc3M6IGxpbmUudGV4dENsYXNzLCBiZ0NsYXNzOiBsaW5lLmJnQ2xhc3MsIHdyYXBDbGFzczogbGluZS53cmFwQ2xhc3MsXG4gICAgICAgICAgICAgIHdpZGdldHM6IGxpbmUud2lkZ2V0c307XG4gICAgfSxcblxuICAgIGdldFZpZXdwb3J0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHtmcm9tOiB0aGlzLmRpc3BsYXkudmlld0Zyb20sIHRvOiB0aGlzLmRpc3BsYXkudmlld1RvfTt9LFxuXG4gICAgYWRkV2lkZ2V0OiBmdW5jdGlvbihwb3MsIG5vZGUsIHNjcm9sbCwgdmVydCwgaG9yaXopIHtcbiAgICAgIHZhciBkaXNwbGF5ID0gdGhpcy5kaXNwbGF5O1xuICAgICAgcG9zID0gY3Vyc29yQ29vcmRzKHRoaXMsIGNsaXBQb3ModGhpcy5kb2MsIHBvcykpO1xuICAgICAgdmFyIHRvcCA9IHBvcy5ib3R0b20sIGxlZnQgPSBwb3MubGVmdDtcbiAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICBkaXNwbGF5LnNpemVyLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgaWYgKHZlcnQgPT0gXCJvdmVyXCIpIHtcbiAgICAgICAgdG9wID0gcG9zLnRvcDtcbiAgICAgIH0gZWxzZSBpZiAodmVydCA9PSBcImFib3ZlXCIgfHwgdmVydCA9PSBcIm5lYXJcIikge1xuICAgICAgICB2YXIgdnNwYWNlID0gTWF0aC5tYXgoZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCwgdGhpcy5kb2MuaGVpZ2h0KSxcbiAgICAgICAgaHNwYWNlID0gTWF0aC5tYXgoZGlzcGxheS5zaXplci5jbGllbnRXaWR0aCwgZGlzcGxheS5saW5lU3BhY2UuY2xpZW50V2lkdGgpO1xuICAgICAgICAvLyBEZWZhdWx0IHRvIHBvc2l0aW9uaW5nIGFib3ZlIChpZiBzcGVjaWZpZWQgYW5kIHBvc3NpYmxlKTsgb3RoZXJ3aXNlIGRlZmF1bHQgdG8gcG9zaXRpb25pbmcgYmVsb3dcbiAgICAgICAgaWYgKCh2ZXJ0ID09ICdhYm92ZScgfHwgcG9zLmJvdHRvbSArIG5vZGUub2Zmc2V0SGVpZ2h0ID4gdnNwYWNlKSAmJiBwb3MudG9wID4gbm9kZS5vZmZzZXRIZWlnaHQpXG4gICAgICAgICAgdG9wID0gcG9zLnRvcCAtIG5vZGUub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBlbHNlIGlmIChwb3MuYm90dG9tICsgbm9kZS5vZmZzZXRIZWlnaHQgPD0gdnNwYWNlKVxuICAgICAgICAgIHRvcCA9IHBvcy5ib3R0b207XG4gICAgICAgIGlmIChsZWZ0ICsgbm9kZS5vZmZzZXRXaWR0aCA+IGhzcGFjZSlcbiAgICAgICAgICBsZWZ0ID0gaHNwYWNlIC0gbm9kZS5vZmZzZXRXaWR0aDtcbiAgICAgIH1cbiAgICAgIG5vZGUuc3R5bGUudG9wID0gdG9wICsgXCJweFwiO1xuICAgICAgbm9kZS5zdHlsZS5sZWZ0ID0gbm9kZS5zdHlsZS5yaWdodCA9IFwiXCI7XG4gICAgICBpZiAoaG9yaXogPT0gXCJyaWdodFwiKSB7XG4gICAgICAgIGxlZnQgPSBkaXNwbGF5LnNpemVyLmNsaWVudFdpZHRoIC0gbm9kZS5vZmZzZXRXaWR0aDtcbiAgICAgICAgbm9kZS5zdHlsZS5yaWdodCA9IFwiMHB4XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaG9yaXogPT0gXCJsZWZ0XCIpIGxlZnQgPSAwO1xuICAgICAgICBlbHNlIGlmIChob3JpeiA9PSBcIm1pZGRsZVwiKSBsZWZ0ID0gKGRpc3BsYXkuc2l6ZXIuY2xpZW50V2lkdGggLSBub2RlLm9mZnNldFdpZHRoKSAvIDI7XG4gICAgICAgIG5vZGUuc3R5bGUubGVmdCA9IGxlZnQgKyBcInB4XCI7XG4gICAgICB9XG4gICAgICBpZiAoc2Nyb2xsKVxuICAgICAgICBzY3JvbGxJbnRvVmlldyh0aGlzLCBsZWZ0LCB0b3AsIGxlZnQgKyBub2RlLm9mZnNldFdpZHRoLCB0b3AgKyBub2RlLm9mZnNldEhlaWdodCk7XG4gICAgfSxcblxuICAgIHRyaWdnZXJPbktleURvd246IG1ldGhvZE9wKG9uS2V5RG93biksXG4gICAgdHJpZ2dlck9uS2V5UHJlc3M6IG1ldGhvZE9wKG9uS2V5UHJlc3MpLFxuICAgIHRyaWdnZXJPbktleVVwOiBvbktleVVwLFxuXG4gICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uKGNtZCkge1xuICAgICAgaWYgKGNvbW1hbmRzLmhhc093blByb3BlcnR5KGNtZCkpXG4gICAgICAgIHJldHVybiBjb21tYW5kc1tjbWRdKHRoaXMpO1xuICAgIH0sXG5cbiAgICBmaW5kUG9zSDogZnVuY3Rpb24oZnJvbSwgYW1vdW50LCB1bml0LCB2aXN1YWxseSkge1xuICAgICAgdmFyIGRpciA9IDE7XG4gICAgICBpZiAoYW1vdW50IDwgMCkgeyBkaXIgPSAtMTsgYW1vdW50ID0gLWFtb3VudDsgfVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGN1ciA9IGNsaXBQb3ModGhpcy5kb2MsIGZyb20pOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgY3VyID0gZmluZFBvc0godGhpcy5kb2MsIGN1ciwgZGlyLCB1bml0LCB2aXN1YWxseSk7XG4gICAgICAgIGlmIChjdXIuaGl0U2lkZSkgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3VyO1xuICAgIH0sXG5cbiAgICBtb3ZlSDogbWV0aG9kT3AoZnVuY3Rpb24oZGlyLCB1bml0KSB7XG4gICAgICB2YXIgY20gPSB0aGlzO1xuICAgICAgY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIGlmIChjbS5kaXNwbGF5LnNoaWZ0IHx8IGNtLmRvYy5leHRlbmQgfHwgcmFuZ2UuZW1wdHkoKSlcbiAgICAgICAgICByZXR1cm4gZmluZFBvc0goY20uZG9jLCByYW5nZS5oZWFkLCBkaXIsIHVuaXQsIGNtLm9wdGlvbnMucnRsTW92ZVZpc3VhbGx5KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldHVybiBkaXIgPCAwID8gcmFuZ2UuZnJvbSgpIDogcmFuZ2UudG8oKTtcbiAgICAgIH0sIHNlbF9tb3ZlKTtcbiAgICB9KSxcblxuICAgIGRlbGV0ZUg6IG1ldGhvZE9wKGZ1bmN0aW9uKGRpciwgdW5pdCkge1xuICAgICAgdmFyIHNlbCA9IHRoaXMuZG9jLnNlbCwgZG9jID0gdGhpcy5kb2M7XG4gICAgICBpZiAoc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCkpXG4gICAgICAgIGRvYy5yZXBsYWNlU2VsZWN0aW9uKFwiXCIsIG51bGwsIFwiK2RlbGV0ZVwiKTtcbiAgICAgIGVsc2VcbiAgICAgICAgZGVsZXRlTmVhclNlbGVjdGlvbih0aGlzLCBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICAgIHZhciBvdGhlciA9IGZpbmRQb3NIKGRvYywgcmFuZ2UuaGVhZCwgZGlyLCB1bml0LCBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuIGRpciA8IDAgPyB7ZnJvbTogb3RoZXIsIHRvOiByYW5nZS5oZWFkfSA6IHtmcm9tOiByYW5nZS5oZWFkLCB0bzogb3RoZXJ9O1xuICAgICAgICB9KTtcbiAgICB9KSxcblxuICAgIGZpbmRQb3NWOiBmdW5jdGlvbihmcm9tLCBhbW91bnQsIHVuaXQsIGdvYWxDb2x1bW4pIHtcbiAgICAgIHZhciBkaXIgPSAxLCB4ID0gZ29hbENvbHVtbjtcbiAgICAgIGlmIChhbW91bnQgPCAwKSB7IGRpciA9IC0xOyBhbW91bnQgPSAtYW1vdW50OyB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgY3VyID0gY2xpcFBvcyh0aGlzLmRvYywgZnJvbSk7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICB2YXIgY29vcmRzID0gY3Vyc29yQ29vcmRzKHRoaXMsIGN1ciwgXCJkaXZcIik7XG4gICAgICAgIGlmICh4ID09IG51bGwpIHggPSBjb29yZHMubGVmdDtcbiAgICAgICAgZWxzZSBjb29yZHMubGVmdCA9IHg7XG4gICAgICAgIGN1ciA9IGZpbmRQb3NWKHRoaXMsIGNvb3JkcywgZGlyLCB1bml0KTtcbiAgICAgICAgaWYgKGN1ci5oaXRTaWRlKSBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXI7XG4gICAgfSxcblxuICAgIG1vdmVWOiBtZXRob2RPcChmdW5jdGlvbihkaXIsIHVuaXQpIHtcbiAgICAgIHZhciBjbSA9IHRoaXMsIGRvYyA9IHRoaXMuZG9jLCBnb2FscyA9IFtdO1xuICAgICAgdmFyIGNvbGxhcHNlID0gIWNtLmRpc3BsYXkuc2hpZnQgJiYgIWRvYy5leHRlbmQgJiYgZG9jLnNlbC5zb21ldGhpbmdTZWxlY3RlZCgpO1xuICAgICAgZG9jLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICBpZiAoY29sbGFwc2UpXG4gICAgICAgICAgcmV0dXJuIGRpciA8IDAgPyByYW5nZS5mcm9tKCkgOiByYW5nZS50bygpO1xuICAgICAgICB2YXIgaGVhZFBvcyA9IGN1cnNvckNvb3JkcyhjbSwgcmFuZ2UuaGVhZCwgXCJkaXZcIik7XG4gICAgICAgIGlmIChyYW5nZS5nb2FsQ29sdW1uICE9IG51bGwpIGhlYWRQb3MubGVmdCA9IHJhbmdlLmdvYWxDb2x1bW47XG4gICAgICAgIGdvYWxzLnB1c2goaGVhZFBvcy5sZWZ0KTtcbiAgICAgICAgdmFyIHBvcyA9IGZpbmRQb3NWKGNtLCBoZWFkUG9zLCBkaXIsIHVuaXQpO1xuICAgICAgICBpZiAodW5pdCA9PSBcInBhZ2VcIiAmJiByYW5nZSA9PSBkb2Muc2VsLnByaW1hcnkoKSlcbiAgICAgICAgICBhZGRUb1Njcm9sbFBvcyhjbSwgbnVsbCwgY2hhckNvb3JkcyhjbSwgcG9zLCBcImRpdlwiKS50b3AgLSBoZWFkUG9zLnRvcCk7XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgICB9LCBzZWxfbW92ZSk7XG4gICAgICBpZiAoZ29hbHMubGVuZ3RoKSBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5zZWwucmFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgICBkb2Muc2VsLnJhbmdlc1tpXS5nb2FsQ29sdW1uID0gZ29hbHNbaV07XG4gICAgfSksXG5cbiAgICAvLyBGaW5kIHRoZSB3b3JkIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiAoYXMgcmV0dXJuZWQgYnkgY29vcmRzQ2hhcikuXG4gICAgZmluZFdvcmRBdDogZnVuY3Rpb24ocG9zKSB7XG4gICAgICB2YXIgZG9jID0gdGhpcy5kb2MsIGxpbmUgPSBnZXRMaW5lKGRvYywgcG9zLmxpbmUpLnRleHQ7XG4gICAgICB2YXIgc3RhcnQgPSBwb3MuY2gsIGVuZCA9IHBvcy5jaDtcbiAgICAgIGlmIChsaW5lKSB7XG4gICAgICAgIHZhciBoZWxwZXIgPSB0aGlzLmdldEhlbHBlcihwb3MsIFwid29yZENoYXJzXCIpO1xuICAgICAgICBpZiAoKHBvcy54UmVsIDwgMCB8fCBlbmQgPT0gbGluZS5sZW5ndGgpICYmIHN0YXJ0KSAtLXN0YXJ0OyBlbHNlICsrZW5kO1xuICAgICAgICB2YXIgc3RhcnRDaGFyID0gbGluZS5jaGFyQXQoc3RhcnQpO1xuICAgICAgICB2YXIgY2hlY2sgPSBpc1dvcmRDaGFyKHN0YXJ0Q2hhciwgaGVscGVyKVxuICAgICAgICAgID8gZnVuY3Rpb24oY2gpIHsgcmV0dXJuIGlzV29yZENoYXIoY2gsIGhlbHBlcik7IH1cbiAgICAgICAgICA6IC9cXHMvLnRlc3Qoc3RhcnRDaGFyKSA/IGZ1bmN0aW9uKGNoKSB7cmV0dXJuIC9cXHMvLnRlc3QoY2gpO31cbiAgICAgICAgICA6IGZ1bmN0aW9uKGNoKSB7cmV0dXJuICEvXFxzLy50ZXN0KGNoKSAmJiAhaXNXb3JkQ2hhcihjaCk7fTtcbiAgICAgICAgd2hpbGUgKHN0YXJ0ID4gMCAmJiBjaGVjayhsaW5lLmNoYXJBdChzdGFydCAtIDEpKSkgLS1zdGFydDtcbiAgICAgICAgd2hpbGUgKGVuZCA8IGxpbmUubGVuZ3RoICYmIGNoZWNrKGxpbmUuY2hhckF0KGVuZCkpKSArK2VuZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUmFuZ2UoUG9zKHBvcy5saW5lLCBzdGFydCksIFBvcyhwb3MubGluZSwgZW5kKSk7XG4gICAgfSxcblxuICAgIHRvZ2dsZU92ZXJ3cml0ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHZhbHVlID09IHRoaXMuc3RhdGUub3ZlcndyaXRlKSByZXR1cm47XG4gICAgICBpZiAodGhpcy5zdGF0ZS5vdmVyd3JpdGUgPSAhdGhpcy5zdGF0ZS5vdmVyd3JpdGUpXG4gICAgICAgIGFkZENsYXNzKHRoaXMuZGlzcGxheS5jdXJzb3JEaXYsIFwiQ29kZU1pcnJvci1vdmVyd3JpdGVcIik7XG4gICAgICBlbHNlXG4gICAgICAgIHJtQ2xhc3ModGhpcy5kaXNwbGF5LmN1cnNvckRpdiwgXCJDb2RlTWlycm9yLW92ZXJ3cml0ZVwiKTtcblxuICAgICAgc2lnbmFsKHRoaXMsIFwib3ZlcndyaXRlVG9nZ2xlXCIsIHRoaXMsIHRoaXMuc3RhdGUub3ZlcndyaXRlKTtcbiAgICB9LFxuICAgIGhhc0ZvY3VzOiBmdW5jdGlvbigpIHsgcmV0dXJuIGFjdGl2ZUVsdCgpID09IHRoaXMuZGlzcGxheS5pbnB1dDsgfSxcblxuICAgIHNjcm9sbFRvOiBtZXRob2RPcChmdW5jdGlvbih4LCB5KSB7XG4gICAgICBpZiAoeCAhPSBudWxsIHx8IHkgIT0gbnVsbCkgcmVzb2x2ZVNjcm9sbFRvUG9zKHRoaXMpO1xuICAgICAgaWYgKHggIT0gbnVsbCkgdGhpcy5jdXJPcC5zY3JvbGxMZWZ0ID0geDtcbiAgICAgIGlmICh5ICE9IG51bGwpIHRoaXMuY3VyT3Auc2Nyb2xsVG9wID0geTtcbiAgICB9KSxcbiAgICBnZXRTY3JvbGxJbmZvOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzY3JvbGxlciA9IHRoaXMuZGlzcGxheS5zY3JvbGxlciwgY28gPSBzY3JvbGxlckN1dE9mZjtcbiAgICAgIHJldHVybiB7bGVmdDogc2Nyb2xsZXIuc2Nyb2xsTGVmdCwgdG9wOiBzY3JvbGxlci5zY3JvbGxUb3AsXG4gICAgICAgICAgICAgIGhlaWdodDogc2Nyb2xsZXIuc2Nyb2xsSGVpZ2h0IC0gY28sIHdpZHRoOiBzY3JvbGxlci5zY3JvbGxXaWR0aCAtIGNvLFxuICAgICAgICAgICAgICBjbGllbnRIZWlnaHQ6IHNjcm9sbGVyLmNsaWVudEhlaWdodCAtIGNvLCBjbGllbnRXaWR0aDogc2Nyb2xsZXIuY2xpZW50V2lkdGggLSBjb307XG4gICAgfSxcblxuICAgIHNjcm9sbEludG9WaWV3OiBtZXRob2RPcChmdW5jdGlvbihyYW5nZSwgbWFyZ2luKSB7XG4gICAgICBpZiAocmFuZ2UgPT0gbnVsbCkge1xuICAgICAgICByYW5nZSA9IHtmcm9tOiB0aGlzLmRvYy5zZWwucHJpbWFyeSgpLmhlYWQsIHRvOiBudWxsfTtcbiAgICAgICAgaWYgKG1hcmdpbiA9PSBudWxsKSBtYXJnaW4gPSB0aGlzLm9wdGlvbnMuY3Vyc29yU2Nyb2xsTWFyZ2luO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmFuZ2UgPT0gXCJudW1iZXJcIikge1xuICAgICAgICByYW5nZSA9IHtmcm9tOiBQb3MocmFuZ2UsIDApLCB0bzogbnVsbH07XG4gICAgICB9IGVsc2UgaWYgKHJhbmdlLmZyb20gPT0gbnVsbCkge1xuICAgICAgICByYW5nZSA9IHtmcm9tOiByYW5nZSwgdG86IG51bGx9O1xuICAgICAgfVxuICAgICAgaWYgKCFyYW5nZS50bykgcmFuZ2UudG8gPSByYW5nZS5mcm9tO1xuICAgICAgcmFuZ2UubWFyZ2luID0gbWFyZ2luIHx8IDA7XG5cbiAgICAgIGlmIChyYW5nZS5mcm9tLmxpbmUgIT0gbnVsbCkge1xuICAgICAgICByZXNvbHZlU2Nyb2xsVG9Qb3ModGhpcyk7XG4gICAgICAgIHRoaXMuY3VyT3Auc2Nyb2xsVG9Qb3MgPSByYW5nZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzUG9zID0gY2FsY3VsYXRlU2Nyb2xsUG9zKHRoaXMsIE1hdGgubWluKHJhbmdlLmZyb20ubGVmdCwgcmFuZ2UudG8ubGVmdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKHJhbmdlLmZyb20udG9wLCByYW5nZS50by50b3ApIC0gcmFuZ2UubWFyZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChyYW5nZS5mcm9tLnJpZ2h0LCByYW5nZS50by5yaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHJhbmdlLmZyb20uYm90dG9tLCByYW5nZS50by5ib3R0b20pICsgcmFuZ2UubWFyZ2luKTtcbiAgICAgICAgdGhpcy5zY3JvbGxUbyhzUG9zLnNjcm9sbExlZnQsIHNQb3Muc2Nyb2xsVG9wKTtcbiAgICAgIH1cbiAgICB9KSxcblxuICAgIHNldFNpemU6IG1ldGhvZE9wKGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHZhciBjbSA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBpbnRlcnByZXQodmFsKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsID09IFwibnVtYmVyXCIgfHwgL15cXGQrJC8udGVzdChTdHJpbmcodmFsKSkgPyB2YWwgKyBcInB4XCIgOiB2YWw7XG4gICAgICB9XG4gICAgICBpZiAod2lkdGggIT0gbnVsbCkgY20uZGlzcGxheS53cmFwcGVyLnN0eWxlLndpZHRoID0gaW50ZXJwcmV0KHdpZHRoKTtcbiAgICAgIGlmIChoZWlnaHQgIT0gbnVsbCkgY20uZGlzcGxheS53cmFwcGVyLnN0eWxlLmhlaWdodCA9IGludGVycHJldChoZWlnaHQpO1xuICAgICAgaWYgKGNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSBjbGVhckxpbmVNZWFzdXJlbWVudENhY2hlKHRoaXMpO1xuICAgICAgdmFyIGxpbmVObyA9IGNtLmRpc3BsYXkudmlld0Zyb207XG4gICAgICBjbS5kb2MuaXRlcihsaW5lTm8sIGNtLmRpc3BsYXkudmlld1RvLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIGlmIChsaW5lLndpZGdldHMpIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZS53aWRnZXRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIGlmIChsaW5lLndpZGdldHNbaV0ubm9IU2Nyb2xsKSB7IHJlZ0xpbmVDaGFuZ2UoY20sIGxpbmVObywgXCJ3aWRnZXRcIik7IGJyZWFrOyB9XG4gICAgICAgICsrbGluZU5vO1xuICAgICAgfSk7XG4gICAgICBjbS5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICBzaWduYWwoY20sIFwicmVmcmVzaFwiLCB0aGlzKTtcbiAgICB9KSxcblxuICAgIG9wZXJhdGlvbjogZnVuY3Rpb24oZil7cmV0dXJuIHJ1bkluT3AodGhpcywgZik7fSxcblxuICAgIHJlZnJlc2g6IG1ldGhvZE9wKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9sZEhlaWdodCA9IHRoaXMuZGlzcGxheS5jYWNoZWRUZXh0SGVpZ2h0O1xuICAgICAgcmVnQ2hhbmdlKHRoaXMpO1xuICAgICAgdGhpcy5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICBjbGVhckNhY2hlcyh0aGlzKTtcbiAgICAgIHRoaXMuc2Nyb2xsVG8odGhpcy5kb2Muc2Nyb2xsTGVmdCwgdGhpcy5kb2Muc2Nyb2xsVG9wKTtcbiAgICAgIHVwZGF0ZUd1dHRlclNwYWNlKHRoaXMpO1xuICAgICAgaWYgKG9sZEhlaWdodCA9PSBudWxsIHx8IE1hdGguYWJzKG9sZEhlaWdodCAtIHRleHRIZWlnaHQodGhpcy5kaXNwbGF5KSkgPiAuNSlcbiAgICAgICAgZXN0aW1hdGVMaW5lSGVpZ2h0cyh0aGlzKTtcbiAgICAgIHNpZ25hbCh0aGlzLCBcInJlZnJlc2hcIiwgdGhpcyk7XG4gICAgfSksXG5cbiAgICBzd2FwRG9jOiBtZXRob2RPcChmdW5jdGlvbihkb2MpIHtcbiAgICAgIHZhciBvbGQgPSB0aGlzLmRvYztcbiAgICAgIG9sZC5jbSA9IG51bGw7XG4gICAgICBhdHRhY2hEb2ModGhpcywgZG9jKTtcbiAgICAgIGNsZWFyQ2FjaGVzKHRoaXMpO1xuICAgICAgcmVzZXRJbnB1dCh0aGlzKTtcbiAgICAgIHRoaXMuc2Nyb2xsVG8oZG9jLnNjcm9sbExlZnQsIGRvYy5zY3JvbGxUb3ApO1xuICAgICAgdGhpcy5jdXJPcC5mb3JjZVNjcm9sbCA9IHRydWU7XG4gICAgICBzaWduYWxMYXRlcih0aGlzLCBcInN3YXBEb2NcIiwgdGhpcywgb2xkKTtcbiAgICAgIHJldHVybiBvbGQ7XG4gICAgfSksXG5cbiAgICBnZXRJbnB1dEZpZWxkOiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkuaW5wdXQ7fSxcbiAgICBnZXRXcmFwcGVyRWxlbWVudDogZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5LndyYXBwZXI7fSxcbiAgICBnZXRTY3JvbGxlckVsZW1lbnQ6IGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5zY3JvbGxlcjt9LFxuICAgIGdldEd1dHRlckVsZW1lbnQ6IGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5ndXR0ZXJzO31cbiAgfTtcbiAgZXZlbnRNaXhpbihDb2RlTWlycm9yKTtcblxuICAvLyBPUFRJT04gREVGQVVMVFNcblxuICAvLyBUaGUgZGVmYXVsdCBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gIHZhciBkZWZhdWx0cyA9IENvZGVNaXJyb3IuZGVmYXVsdHMgPSB7fTtcbiAgLy8gRnVuY3Rpb25zIHRvIHJ1biB3aGVuIG9wdGlvbnMgYXJlIGNoYW5nZWQuXG4gIHZhciBvcHRpb25IYW5kbGVycyA9IENvZGVNaXJyb3Iub3B0aW9uSGFuZGxlcnMgPSB7fTtcblxuICBmdW5jdGlvbiBvcHRpb24obmFtZSwgZGVmbHQsIGhhbmRsZSwgbm90T25Jbml0KSB7XG4gICAgQ29kZU1pcnJvci5kZWZhdWx0c1tuYW1lXSA9IGRlZmx0O1xuICAgIGlmIChoYW5kbGUpIG9wdGlvbkhhbmRsZXJzW25hbWVdID1cbiAgICAgIG5vdE9uSW5pdCA/IGZ1bmN0aW9uKGNtLCB2YWwsIG9sZCkge2lmIChvbGQgIT0gSW5pdCkgaGFuZGxlKGNtLCB2YWwsIG9sZCk7fSA6IGhhbmRsZTtcbiAgfVxuXG4gIC8vIFBhc3NlZCB0byBvcHRpb24gaGFuZGxlcnMgd2hlbiB0aGVyZSBpcyBubyBvbGQgdmFsdWUuXG4gIHZhciBJbml0ID0gQ29kZU1pcnJvci5Jbml0ID0ge3RvU3RyaW5nOiBmdW5jdGlvbigpe3JldHVybiBcIkNvZGVNaXJyb3IuSW5pdFwiO319O1xuXG4gIC8vIFRoZXNlIHR3byBhcmUsIG9uIGluaXQsIGNhbGxlZCBmcm9tIHRoZSBjb25zdHJ1Y3RvciBiZWNhdXNlIHRoZXlcbiAgLy8gaGF2ZSB0byBiZSBpbml0aWFsaXplZCBiZWZvcmUgdGhlIGVkaXRvciBjYW4gc3RhcnQgYXQgYWxsLlxuICBvcHRpb24oXCJ2YWx1ZVwiLCBcIlwiLCBmdW5jdGlvbihjbSwgdmFsKSB7XG4gICAgY20uc2V0VmFsdWUodmFsKTtcbiAgfSwgdHJ1ZSk7XG4gIG9wdGlvbihcIm1vZGVcIiwgbnVsbCwgZnVuY3Rpb24oY20sIHZhbCkge1xuICAgIGNtLmRvYy5tb2RlT3B0aW9uID0gdmFsO1xuICAgIGxvYWRNb2RlKGNtKTtcbiAgfSwgdHJ1ZSk7XG5cbiAgb3B0aW9uKFwiaW5kZW50VW5pdFwiLCAyLCBsb2FkTW9kZSwgdHJ1ZSk7XG4gIG9wdGlvbihcImluZGVudFdpdGhUYWJzXCIsIGZhbHNlKTtcbiAgb3B0aW9uKFwic21hcnRJbmRlbnRcIiwgdHJ1ZSk7XG4gIG9wdGlvbihcInRhYlNpemVcIiwgNCwgZnVuY3Rpb24oY20pIHtcbiAgICByZXNldE1vZGVTdGF0ZShjbSk7XG4gICAgY2xlYXJDYWNoZXMoY20pO1xuICAgIHJlZ0NoYW5nZShjbSk7XG4gIH0sIHRydWUpO1xuICBvcHRpb24oXCJzcGVjaWFsQ2hhcnNcIiwgL1tcXHRcXHUwMDAwLVxcdTAwMTlcXHUwMGFkXFx1MjAwYi1cXHUyMDBmXFx1MjAyOFxcdTIwMjlcXHVmZWZmXS9nLCBmdW5jdGlvbihjbSwgdmFsKSB7XG4gICAgY20ub3B0aW9ucy5zcGVjaWFsQ2hhcnMgPSBuZXcgUmVnRXhwKHZhbC5zb3VyY2UgKyAodmFsLnRlc3QoXCJcXHRcIikgPyBcIlwiIDogXCJ8XFx0XCIpLCBcImdcIik7XG4gICAgY20ucmVmcmVzaCgpO1xuICB9LCB0cnVlKTtcbiAgb3B0aW9uKFwic3BlY2lhbENoYXJQbGFjZWhvbGRlclwiLCBkZWZhdWx0U3BlY2lhbENoYXJQbGFjZWhvbGRlciwgZnVuY3Rpb24oY20pIHtjbS5yZWZyZXNoKCk7fSwgdHJ1ZSk7XG4gIG9wdGlvbihcImVsZWN0cmljQ2hhcnNcIiwgdHJ1ZSk7XG4gIG9wdGlvbihcInJ0bE1vdmVWaXN1YWxseVwiLCAhd2luZG93cyk7XG4gIG9wdGlvbihcIndob2xlTGluZVVwZGF0ZUJlZm9yZVwiLCB0cnVlKTtcblxuICBvcHRpb24oXCJ0aGVtZVwiLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oY20pIHtcbiAgICB0aGVtZUNoYW5nZWQoY20pO1xuICAgIGd1dHRlcnNDaGFuZ2VkKGNtKTtcbiAgfSwgdHJ1ZSk7XG4gIG9wdGlvbihcImtleU1hcFwiLCBcImRlZmF1bHRcIiwga2V5TWFwQ2hhbmdlZCk7XG4gIG9wdGlvbihcImV4dHJhS2V5c1wiLCBudWxsKTtcblxuICBvcHRpb24oXCJsaW5lV3JhcHBpbmdcIiwgZmFsc2UsIHdyYXBwaW5nQ2hhbmdlZCwgdHJ1ZSk7XG4gIG9wdGlvbihcImd1dHRlcnNcIiwgW10sIGZ1bmN0aW9uKGNtKSB7XG4gICAgc2V0R3V0dGVyc0ZvckxpbmVOdW1iZXJzKGNtLm9wdGlvbnMpO1xuICAgIGd1dHRlcnNDaGFuZ2VkKGNtKTtcbiAgfSwgdHJ1ZSk7XG4gIG9wdGlvbihcImZpeGVkR3V0dGVyXCIsIHRydWUsIGZ1bmN0aW9uKGNtLCB2YWwpIHtcbiAgICBjbS5kaXNwbGF5Lmd1dHRlcnMuc3R5bGUubGVmdCA9IHZhbCA/IGNvbXBlbnNhdGVGb3JIU2Nyb2xsKGNtLmRpc3BsYXkpICsgXCJweFwiIDogXCIwXCI7XG4gICAgY20ucmVmcmVzaCgpO1xuICB9LCB0cnVlKTtcbiAgb3B0aW9uKFwiY292ZXJHdXR0ZXJOZXh0VG9TY3JvbGxiYXJcIiwgZmFsc2UsIHVwZGF0ZVNjcm9sbGJhcnMsIHRydWUpO1xuICBvcHRpb24oXCJsaW5lTnVtYmVyc1wiLCBmYWxzZSwgZnVuY3Rpb24oY20pIHtcbiAgICBzZXRHdXR0ZXJzRm9yTGluZU51bWJlcnMoY20ub3B0aW9ucyk7XG4gICAgZ3V0dGVyc0NoYW5nZWQoY20pO1xuICB9LCB0cnVlKTtcbiAgb3B0aW9uKFwiZmlyc3RMaW5lTnVtYmVyXCIsIDEsIGd1dHRlcnNDaGFuZ2VkLCB0cnVlKTtcbiAgb3B0aW9uKFwibGluZU51bWJlckZvcm1hdHRlclwiLCBmdW5jdGlvbihpbnRlZ2VyKSB7cmV0dXJuIGludGVnZXI7fSwgZ3V0dGVyc0NoYW5nZWQsIHRydWUpO1xuICBvcHRpb24oXCJzaG93Q3Vyc29yV2hlblNlbGVjdGluZ1wiLCBmYWxzZSwgdXBkYXRlU2VsZWN0aW9uLCB0cnVlKTtcblxuICBvcHRpb24oXCJyZXNldFNlbGVjdGlvbk9uQ29udGV4dE1lbnVcIiwgdHJ1ZSk7XG5cbiAgb3B0aW9uKFwicmVhZE9ubHlcIiwgZmFsc2UsIGZ1bmN0aW9uKGNtLCB2YWwpIHtcbiAgICBpZiAodmFsID09IFwibm9jdXJzb3JcIikge1xuICAgICAgb25CbHVyKGNtKTtcbiAgICAgIGNtLmRpc3BsYXkuaW5wdXQuYmx1cigpO1xuICAgICAgY20uZGlzcGxheS5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNtLmRpc3BsYXkuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGlmICghdmFsKSByZXNldElucHV0KGNtKTtcbiAgICB9XG4gIH0pO1xuICBvcHRpb24oXCJkaXNhYmxlSW5wdXRcIiwgZmFsc2UsIGZ1bmN0aW9uKGNtLCB2YWwpIHtpZiAoIXZhbCkgcmVzZXRJbnB1dChjbSk7fSwgdHJ1ZSk7XG4gIG9wdGlvbihcImRyYWdEcm9wXCIsIHRydWUpO1xuXG4gIG9wdGlvbihcImN1cnNvckJsaW5rUmF0ZVwiLCA1MzApO1xuICBvcHRpb24oXCJjdXJzb3JTY3JvbGxNYXJnaW5cIiwgMCk7XG4gIG9wdGlvbihcImN1cnNvckhlaWdodFwiLCAxLCB1cGRhdGVTZWxlY3Rpb24sIHRydWUpO1xuICBvcHRpb24oXCJzaW5nbGVDdXJzb3JIZWlnaHRQZXJMaW5lXCIsIHRydWUsIHVwZGF0ZVNlbGVjdGlvbiwgdHJ1ZSk7XG4gIG9wdGlvbihcIndvcmtUaW1lXCIsIDEwMCk7XG4gIG9wdGlvbihcIndvcmtEZWxheVwiLCAxMDApO1xuICBvcHRpb24oXCJmbGF0dGVuU3BhbnNcIiwgdHJ1ZSwgcmVzZXRNb2RlU3RhdGUsIHRydWUpO1xuICBvcHRpb24oXCJhZGRNb2RlQ2xhc3NcIiwgZmFsc2UsIHJlc2V0TW9kZVN0YXRlLCB0cnVlKTtcbiAgb3B0aW9uKFwicG9sbEludGVydmFsXCIsIDEwMCk7XG4gIG9wdGlvbihcInVuZG9EZXB0aFwiLCAyMDAsIGZ1bmN0aW9uKGNtLCB2YWwpe2NtLmRvYy5oaXN0b3J5LnVuZG9EZXB0aCA9IHZhbDt9KTtcbiAgb3B0aW9uKFwiaGlzdG9yeUV2ZW50RGVsYXlcIiwgMTI1MCk7XG4gIG9wdGlvbihcInZpZXdwb3J0TWFyZ2luXCIsIDEwLCBmdW5jdGlvbihjbSl7Y20ucmVmcmVzaCgpO30sIHRydWUpO1xuICBvcHRpb24oXCJtYXhIaWdobGlnaHRMZW5ndGhcIiwgMTAwMDAsIHJlc2V0TW9kZVN0YXRlLCB0cnVlKTtcbiAgb3B0aW9uKFwibW92ZUlucHV0V2l0aEN1cnNvclwiLCB0cnVlLCBmdW5jdGlvbihjbSwgdmFsKSB7XG4gICAgaWYgKCF2YWwpIGNtLmRpc3BsYXkuaW5wdXREaXYuc3R5bGUudG9wID0gY20uZGlzcGxheS5pbnB1dERpdi5zdHlsZS5sZWZ0ID0gMDtcbiAgfSk7XG5cbiAgb3B0aW9uKFwidGFiaW5kZXhcIiwgbnVsbCwgZnVuY3Rpb24oY20sIHZhbCkge1xuICAgIGNtLmRpc3BsYXkuaW5wdXQudGFiSW5kZXggPSB2YWwgfHwgXCJcIjtcbiAgfSk7XG4gIG9wdGlvbihcImF1dG9mb2N1c1wiLCBudWxsKTtcblxuICAvLyBNT0RFIERFRklOSVRJT04gQU5EIFFVRVJZSU5HXG5cbiAgLy8gS25vd24gbW9kZXMsIGJ5IG5hbWUgYW5kIGJ5IE1JTUVcbiAgdmFyIG1vZGVzID0gQ29kZU1pcnJvci5tb2RlcyA9IHt9LCBtaW1lTW9kZXMgPSBDb2RlTWlycm9yLm1pbWVNb2RlcyA9IHt9O1xuXG4gIC8vIEV4dHJhIGFyZ3VtZW50cyBhcmUgc3RvcmVkIGFzIHRoZSBtb2RlJ3MgZGVwZW5kZW5jaWVzLCB3aGljaCBpc1xuICAvLyB1c2VkIGJ5IChsZWdhY3kpIG1lY2hhbmlzbXMgbGlrZSBsb2FkbW9kZS5qcyB0byBhdXRvbWF0aWNhbGx5XG4gIC8vIGxvYWQgYSBtb2RlLiAoUHJlZmVycmVkIG1lY2hhbmlzbSBpcyB0aGUgcmVxdWlyZS9kZWZpbmUgY2FsbHMuKVxuICBDb2RlTWlycm9yLmRlZmluZU1vZGUgPSBmdW5jdGlvbihuYW1lLCBtb2RlKSB7XG4gICAgaWYgKCFDb2RlTWlycm9yLmRlZmF1bHRzLm1vZGUgJiYgbmFtZSAhPSBcIm51bGxcIikgQ29kZU1pcnJvci5kZWZhdWx0cy5tb2RlID0gbmFtZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpXG4gICAgICBtb2RlLmRlcGVuZGVuY2llcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgbW9kZXNbbmFtZV0gPSBtb2RlO1xuICB9O1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lTUlNRSA9IGZ1bmN0aW9uKG1pbWUsIHNwZWMpIHtcbiAgICBtaW1lTW9kZXNbbWltZV0gPSBzcGVjO1xuICB9O1xuXG4gIC8vIEdpdmVuIGEgTUlNRSB0eXBlLCBhIHtuYW1lLCAuLi5vcHRpb25zfSBjb25maWcgb2JqZWN0LCBvciBhIG5hbWVcbiAgLy8gc3RyaW5nLCByZXR1cm4gYSBtb2RlIGNvbmZpZyBvYmplY3QuXG4gIENvZGVNaXJyb3IucmVzb2x2ZU1vZGUgPSBmdW5jdGlvbihzcGVjKSB7XG4gICAgaWYgKHR5cGVvZiBzcGVjID09IFwic3RyaW5nXCIgJiYgbWltZU1vZGVzLmhhc093blByb3BlcnR5KHNwZWMpKSB7XG4gICAgICBzcGVjID0gbWltZU1vZGVzW3NwZWNdO1xuICAgIH0gZWxzZSBpZiAoc3BlYyAmJiB0eXBlb2Ygc3BlYy5uYW1lID09IFwic3RyaW5nXCIgJiYgbWltZU1vZGVzLmhhc093blByb3BlcnR5KHNwZWMubmFtZSkpIHtcbiAgICAgIHZhciBmb3VuZCA9IG1pbWVNb2Rlc1tzcGVjLm5hbWVdO1xuICAgICAgaWYgKHR5cGVvZiBmb3VuZCA9PSBcInN0cmluZ1wiKSBmb3VuZCA9IHtuYW1lOiBmb3VuZH07XG4gICAgICBzcGVjID0gY3JlYXRlT2JqKGZvdW5kLCBzcGVjKTtcbiAgICAgIHNwZWMubmFtZSA9IGZvdW5kLm5hbWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3BlYyA9PSBcInN0cmluZ1wiICYmIC9eW1xcd1xcLV0rXFwvW1xcd1xcLV0rXFwreG1sJC8udGVzdChzcGVjKSkge1xuICAgICAgcmV0dXJuIENvZGVNaXJyb3IucmVzb2x2ZU1vZGUoXCJhcHBsaWNhdGlvbi94bWxcIik7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc3BlYyA9PSBcInN0cmluZ1wiKSByZXR1cm4ge25hbWU6IHNwZWN9O1xuICAgIGVsc2UgcmV0dXJuIHNwZWMgfHwge25hbWU6IFwibnVsbFwifTtcbiAgfTtcblxuICAvLyBHaXZlbiBhIG1vZGUgc3BlYyAoYW55dGhpbmcgdGhhdCByZXNvbHZlTW9kZSBhY2NlcHRzKSwgZmluZCBhbmRcbiAgLy8gaW5pdGlhbGl6ZSBhbiBhY3R1YWwgbW9kZSBvYmplY3QuXG4gIENvZGVNaXJyb3IuZ2V0TW9kZSA9IGZ1bmN0aW9uKG9wdGlvbnMsIHNwZWMpIHtcbiAgICB2YXIgc3BlYyA9IENvZGVNaXJyb3IucmVzb2x2ZU1vZGUoc3BlYyk7XG4gICAgdmFyIG1mYWN0b3J5ID0gbW9kZXNbc3BlYy5uYW1lXTtcbiAgICBpZiAoIW1mYWN0b3J5KSByZXR1cm4gQ29kZU1pcnJvci5nZXRNb2RlKG9wdGlvbnMsIFwidGV4dC9wbGFpblwiKTtcbiAgICB2YXIgbW9kZU9iaiA9IG1mYWN0b3J5KG9wdGlvbnMsIHNwZWMpO1xuICAgIGlmIChtb2RlRXh0ZW5zaW9ucy5oYXNPd25Qcm9wZXJ0eShzcGVjLm5hbWUpKSB7XG4gICAgICB2YXIgZXh0cyA9IG1vZGVFeHRlbnNpb25zW3NwZWMubmFtZV07XG4gICAgICBmb3IgKHZhciBwcm9wIGluIGV4dHMpIHtcbiAgICAgICAgaWYgKCFleHRzLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcbiAgICAgICAgaWYgKG1vZGVPYmouaGFzT3duUHJvcGVydHkocHJvcCkpIG1vZGVPYmpbXCJfXCIgKyBwcm9wXSA9IG1vZGVPYmpbcHJvcF07XG4gICAgICAgIG1vZGVPYmpbcHJvcF0gPSBleHRzW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICBtb2RlT2JqLm5hbWUgPSBzcGVjLm5hbWU7XG4gICAgaWYgKHNwZWMuaGVscGVyVHlwZSkgbW9kZU9iai5oZWxwZXJUeXBlID0gc3BlYy5oZWxwZXJUeXBlO1xuICAgIGlmIChzcGVjLm1vZGVQcm9wcykgZm9yICh2YXIgcHJvcCBpbiBzcGVjLm1vZGVQcm9wcylcbiAgICAgIG1vZGVPYmpbcHJvcF0gPSBzcGVjLm1vZGVQcm9wc1twcm9wXTtcblxuICAgIHJldHVybiBtb2RlT2JqO1xuICB9O1xuXG4gIC8vIE1pbmltYWwgZGVmYXVsdCBtb2RlLlxuICBDb2RlTWlycm9yLmRlZmluZU1vZGUoXCJudWxsXCIsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7dG9rZW46IGZ1bmN0aW9uKHN0cmVhbSkge3N0cmVhbS5za2lwVG9FbmQoKTt9fTtcbiAgfSk7XG4gIENvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQvcGxhaW5cIiwgXCJudWxsXCIpO1xuXG4gIC8vIFRoaXMgY2FuIGJlIHVzZWQgdG8gYXR0YWNoIHByb3BlcnRpZXMgdG8gbW9kZSBvYmplY3RzIGZyb21cbiAgLy8gb3V0c2lkZSB0aGUgYWN0dWFsIG1vZGUgZGVmaW5pdGlvbi5cbiAgdmFyIG1vZGVFeHRlbnNpb25zID0gQ29kZU1pcnJvci5tb2RlRXh0ZW5zaW9ucyA9IHt9O1xuICBDb2RlTWlycm9yLmV4dGVuZE1vZGUgPSBmdW5jdGlvbihtb2RlLCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIGV4dHMgPSBtb2RlRXh0ZW5zaW9ucy5oYXNPd25Qcm9wZXJ0eShtb2RlKSA/IG1vZGVFeHRlbnNpb25zW21vZGVdIDogKG1vZGVFeHRlbnNpb25zW21vZGVdID0ge30pO1xuICAgIGNvcHlPYmoocHJvcGVydGllcywgZXh0cyk7XG4gIH07XG5cbiAgLy8gRVhURU5TSU9OU1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lRXh0ZW5zaW9uID0gZnVuY3Rpb24obmFtZSwgZnVuYykge1xuICAgIENvZGVNaXJyb3IucHJvdG90eXBlW25hbWVdID0gZnVuYztcbiAgfTtcbiAgQ29kZU1pcnJvci5kZWZpbmVEb2NFeHRlbnNpb24gPSBmdW5jdGlvbihuYW1lLCBmdW5jKSB7XG4gICAgRG9jLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmM7XG4gIH07XG4gIENvZGVNaXJyb3IuZGVmaW5lT3B0aW9uID0gb3B0aW9uO1xuXG4gIHZhciBpbml0SG9va3MgPSBbXTtcbiAgQ29kZU1pcnJvci5kZWZpbmVJbml0SG9vayA9IGZ1bmN0aW9uKGYpIHtpbml0SG9va3MucHVzaChmKTt9O1xuXG4gIHZhciBoZWxwZXJzID0gQ29kZU1pcnJvci5oZWxwZXJzID0ge307XG4gIENvZGVNaXJyb3IucmVnaXN0ZXJIZWxwZXIgPSBmdW5jdGlvbih0eXBlLCBuYW1lLCB2YWx1ZSkge1xuICAgIGlmICghaGVscGVycy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgaGVscGVyc1t0eXBlXSA9IENvZGVNaXJyb3JbdHlwZV0gPSB7X2dsb2JhbDogW119O1xuICAgIGhlbHBlcnNbdHlwZV1bbmFtZV0gPSB2YWx1ZTtcbiAgfTtcbiAgQ29kZU1pcnJvci5yZWdpc3Rlckdsb2JhbEhlbHBlciA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHByZWRpY2F0ZSwgdmFsdWUpIHtcbiAgICBDb2RlTWlycm9yLnJlZ2lzdGVySGVscGVyKHR5cGUsIG5hbWUsIHZhbHVlKTtcbiAgICBoZWxwZXJzW3R5cGVdLl9nbG9iYWwucHVzaCh7cHJlZDogcHJlZGljYXRlLCB2YWw6IHZhbHVlfSk7XG4gIH07XG5cbiAgLy8gTU9ERSBTVEFURSBIQU5ETElOR1xuXG4gIC8vIFV0aWxpdHkgZnVuY3Rpb25zIGZvciB3b3JraW5nIHdpdGggc3RhdGUuIEV4cG9ydGVkIGJlY2F1c2UgbmVzdGVkXG4gIC8vIG1vZGVzIG5lZWQgdG8gZG8gdGhpcyBmb3IgdGhlaXIgaW5uZXIgbW9kZXMuXG5cbiAgdmFyIGNvcHlTdGF0ZSA9IENvZGVNaXJyb3IuY29weVN0YXRlID0gZnVuY3Rpb24obW9kZSwgc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUgPT09IHRydWUpIHJldHVybiBzdGF0ZTtcbiAgICBpZiAobW9kZS5jb3B5U3RhdGUpIHJldHVybiBtb2RlLmNvcHlTdGF0ZShzdGF0ZSk7XG4gICAgdmFyIG5zdGF0ZSA9IHt9O1xuICAgIGZvciAodmFyIG4gaW4gc3RhdGUpIHtcbiAgICAgIHZhciB2YWwgPSBzdGF0ZVtuXTtcbiAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBBcnJheSkgdmFsID0gdmFsLmNvbmNhdChbXSk7XG4gICAgICBuc3RhdGVbbl0gPSB2YWw7XG4gICAgfVxuICAgIHJldHVybiBuc3RhdGU7XG4gIH07XG5cbiAgdmFyIHN0YXJ0U3RhdGUgPSBDb2RlTWlycm9yLnN0YXJ0U3RhdGUgPSBmdW5jdGlvbihtb2RlLCBhMSwgYTIpIHtcbiAgICByZXR1cm4gbW9kZS5zdGFydFN0YXRlID8gbW9kZS5zdGFydFN0YXRlKGExLCBhMikgOiB0cnVlO1xuICB9O1xuXG4gIC8vIEdpdmVuIGEgbW9kZSBhbmQgYSBzdGF0ZSAoZm9yIHRoYXQgbW9kZSksIGZpbmQgdGhlIGlubmVyIG1vZGUgYW5kXG4gIC8vIHN0YXRlIGF0IHRoZSBwb3NpdGlvbiB0aGF0IHRoZSBzdGF0ZSByZWZlcnMgdG8uXG4gIENvZGVNaXJyb3IuaW5uZXJNb2RlID0gZnVuY3Rpb24obW9kZSwgc3RhdGUpIHtcbiAgICB3aGlsZSAobW9kZS5pbm5lck1vZGUpIHtcbiAgICAgIHZhciBpbmZvID0gbW9kZS5pbm5lck1vZGUoc3RhdGUpO1xuICAgICAgaWYgKCFpbmZvIHx8IGluZm8ubW9kZSA9PSBtb2RlKSBicmVhaztcbiAgICAgIHN0YXRlID0gaW5mby5zdGF0ZTtcbiAgICAgIG1vZGUgPSBpbmZvLm1vZGU7XG4gICAgfVxuICAgIHJldHVybiBpbmZvIHx8IHttb2RlOiBtb2RlLCBzdGF0ZTogc3RhdGV9O1xuICB9O1xuXG4gIC8vIFNUQU5EQVJEIENPTU1BTkRTXG5cbiAgLy8gQ29tbWFuZHMgYXJlIHBhcmFtZXRlci1sZXNzIGFjdGlvbnMgdGhhdCBjYW4gYmUgcGVyZm9ybWVkIG9uIGFuXG4gIC8vIGVkaXRvciwgbW9zdGx5IHVzZWQgZm9yIGtleWJpbmRpbmdzLlxuICB2YXIgY29tbWFuZHMgPSBDb2RlTWlycm9yLmNvbW1hbmRzID0ge1xuICAgIHNlbGVjdEFsbDogZnVuY3Rpb24oY20pIHtjbS5zZXRTZWxlY3Rpb24oUG9zKGNtLmZpcnN0TGluZSgpLCAwKSwgUG9zKGNtLmxhc3RMaW5lKCkpLCBzZWxfZG9udFNjcm9sbCk7fSxcbiAgICBzaW5nbGVTZWxlY3Rpb246IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBjbS5zZXRTZWxlY3Rpb24oY20uZ2V0Q3Vyc29yKFwiYW5jaG9yXCIpLCBjbS5nZXRDdXJzb3IoXCJoZWFkXCIpLCBzZWxfZG9udFNjcm9sbCk7XG4gICAgfSxcbiAgICBraWxsTGluZTogZnVuY3Rpb24oY20pIHtcbiAgICAgIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIGlmIChyYW5nZS5lbXB0eSgpKSB7XG4gICAgICAgICAgdmFyIGxlbiA9IGdldExpbmUoY20uZG9jLCByYW5nZS5oZWFkLmxpbmUpLnRleHQubGVuZ3RoO1xuICAgICAgICAgIGlmIChyYW5nZS5oZWFkLmNoID09IGxlbiAmJiByYW5nZS5oZWFkLmxpbmUgPCBjbS5sYXN0TGluZSgpKVxuICAgICAgICAgICAgcmV0dXJuIHtmcm9tOiByYW5nZS5oZWFkLCB0bzogUG9zKHJhbmdlLmhlYWQubGluZSArIDEsIDApfTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4ge2Zyb206IHJhbmdlLmhlYWQsIHRvOiBQb3MocmFuZ2UuaGVhZC5saW5lLCBsZW4pfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4ge2Zyb206IHJhbmdlLmZyb20oKSwgdG86IHJhbmdlLnRvKCl9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGRlbGV0ZUxpbmU6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBkZWxldGVOZWFyU2VsZWN0aW9uKGNtLCBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICByZXR1cm4ge2Zyb206IFBvcyhyYW5nZS5mcm9tKCkubGluZSwgMCksXG4gICAgICAgICAgICAgICAgdG86IGNsaXBQb3MoY20uZG9jLCBQb3MocmFuZ2UudG8oKS5saW5lICsgMSwgMCkpfTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsTGluZUxlZnQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBkZWxldGVOZWFyU2VsZWN0aW9uKGNtLCBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICByZXR1cm4ge2Zyb206IFBvcyhyYW5nZS5mcm9tKCkubGluZSwgMCksIHRvOiByYW5nZS5mcm9tKCl9O1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBkZWxXcmFwcGVkTGluZUxlZnQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBkZWxldGVOZWFyU2VsZWN0aW9uKGNtLCBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgdG9wID0gY20uY2hhckNvb3JkcyhyYW5nZS5oZWFkLCBcImRpdlwiKS50b3AgKyA1O1xuICAgICAgICB2YXIgbGVmdFBvcyA9IGNtLmNvb3Jkc0NoYXIoe2xlZnQ6IDAsIHRvcDogdG9wfSwgXCJkaXZcIik7XG4gICAgICAgIHJldHVybiB7ZnJvbTogbGVmdFBvcywgdG86IHJhbmdlLmZyb20oKX07XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGRlbFdyYXBwZWRMaW5lUmlnaHQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBkZWxldGVOZWFyU2VsZWN0aW9uKGNtLCBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgdG9wID0gY20uY2hhckNvb3JkcyhyYW5nZS5oZWFkLCBcImRpdlwiKS50b3AgKyA1O1xuICAgICAgICB2YXIgcmlnaHRQb3MgPSBjbS5jb29yZHNDaGFyKHtsZWZ0OiBjbS5kaXNwbGF5LmxpbmVEaXYub2Zmc2V0V2lkdGggKyAxMDAsIHRvcDogdG9wfSwgXCJkaXZcIik7XG4gICAgICAgIHJldHVybiB7ZnJvbTogcmFuZ2UuZnJvbSgpLCB0bzogcmlnaHRQb3MgfTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdW5kbzogZnVuY3Rpb24oY20pIHtjbS51bmRvKCk7fSxcbiAgICByZWRvOiBmdW5jdGlvbihjbSkge2NtLnJlZG8oKTt9LFxuICAgIHVuZG9TZWxlY3Rpb246IGZ1bmN0aW9uKGNtKSB7Y20udW5kb1NlbGVjdGlvbigpO30sXG4gICAgcmVkb1NlbGVjdGlvbjogZnVuY3Rpb24oY20pIHtjbS5yZWRvU2VsZWN0aW9uKCk7fSxcbiAgICBnb0RvY1N0YXJ0OiBmdW5jdGlvbihjbSkge2NtLmV4dGVuZFNlbGVjdGlvbihQb3MoY20uZmlyc3RMaW5lKCksIDApKTt9LFxuICAgIGdvRG9jRW5kOiBmdW5jdGlvbihjbSkge2NtLmV4dGVuZFNlbGVjdGlvbihQb3MoY20ubGFzdExpbmUoKSkpO30sXG4gICAgZ29MaW5lU3RhcnQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24ocmFuZ2UpIHsgcmV0dXJuIGxpbmVTdGFydChjbSwgcmFuZ2UuaGVhZC5saW5lKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7b3JpZ2luOiBcIittb3ZlXCIsIGJpYXM6IDF9KTtcbiAgICB9LFxuICAgIGdvTGluZVN0YXJ0U21hcnQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIGxpbmVTdGFydFNtYXJ0KGNtLCByYW5nZS5oZWFkKTtcbiAgICAgIH0sIHtvcmlnaW46IFwiK21vdmVcIiwgYmlhczogMX0pO1xuICAgIH0sXG4gICAgZ29MaW5lRW5kOiBmdW5jdGlvbihjbSkge1xuICAgICAgY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHJhbmdlKSB7IHJldHVybiBsaW5lRW5kKGNtLCByYW5nZS5oZWFkLmxpbmUpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcmlnaW46IFwiK21vdmVcIiwgYmlhczogLTF9KTtcbiAgICB9LFxuICAgIGdvTGluZVJpZ2h0OiBmdW5jdGlvbihjbSkge1xuICAgICAgY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHZhciB0b3AgPSBjbS5jaGFyQ29vcmRzKHJhbmdlLmhlYWQsIFwiZGl2XCIpLnRvcCArIDU7XG4gICAgICAgIHJldHVybiBjbS5jb29yZHNDaGFyKHtsZWZ0OiBjbS5kaXNwbGF5LmxpbmVEaXYub2Zmc2V0V2lkdGggKyAxMDAsIHRvcDogdG9wfSwgXCJkaXZcIik7XG4gICAgICB9LCBzZWxfbW92ZSk7XG4gICAgfSxcbiAgICBnb0xpbmVMZWZ0OiBmdW5jdGlvbihjbSkge1xuICAgICAgY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHZhciB0b3AgPSBjbS5jaGFyQ29vcmRzKHJhbmdlLmhlYWQsIFwiZGl2XCIpLnRvcCArIDU7XG4gICAgICAgIHJldHVybiBjbS5jb29yZHNDaGFyKHtsZWZ0OiAwLCB0b3A6IHRvcH0sIFwiZGl2XCIpO1xuICAgICAgfSwgc2VsX21vdmUpO1xuICAgIH0sXG4gICAgZ29MaW5lTGVmdFNtYXJ0OiBmdW5jdGlvbihjbSkge1xuICAgICAgY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHZhciB0b3AgPSBjbS5jaGFyQ29vcmRzKHJhbmdlLmhlYWQsIFwiZGl2XCIpLnRvcCArIDU7XG4gICAgICAgIHZhciBwb3MgPSBjbS5jb29yZHNDaGFyKHtsZWZ0OiAwLCB0b3A6IHRvcH0sIFwiZGl2XCIpO1xuICAgICAgICBpZiAocG9zLmNoIDwgY20uZ2V0TGluZShwb3MubGluZSkuc2VhcmNoKC9cXFMvKSkgcmV0dXJuIGxpbmVTdGFydFNtYXJ0KGNtLCByYW5nZS5oZWFkKTtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgIH0sIHNlbF9tb3ZlKTtcbiAgICB9LFxuICAgIGdvTGluZVVwOiBmdW5jdGlvbihjbSkge2NtLm1vdmVWKC0xLCBcImxpbmVcIik7fSxcbiAgICBnb0xpbmVEb3duOiBmdW5jdGlvbihjbSkge2NtLm1vdmVWKDEsIFwibGluZVwiKTt9LFxuICAgIGdvUGFnZVVwOiBmdW5jdGlvbihjbSkge2NtLm1vdmVWKC0xLCBcInBhZ2VcIik7fSxcbiAgICBnb1BhZ2VEb3duOiBmdW5jdGlvbihjbSkge2NtLm1vdmVWKDEsIFwicGFnZVwiKTt9LFxuICAgIGdvQ2hhckxlZnQ6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZUgoLTEsIFwiY2hhclwiKTt9LFxuICAgIGdvQ2hhclJpZ2h0OiBmdW5jdGlvbihjbSkge2NtLm1vdmVIKDEsIFwiY2hhclwiKTt9LFxuICAgIGdvQ29sdW1uTGVmdDogZnVuY3Rpb24oY20pIHtjbS5tb3ZlSCgtMSwgXCJjb2x1bW5cIik7fSxcbiAgICBnb0NvbHVtblJpZ2h0OiBmdW5jdGlvbihjbSkge2NtLm1vdmVIKDEsIFwiY29sdW1uXCIpO30sXG4gICAgZ29Xb3JkTGVmdDogZnVuY3Rpb24oY20pIHtjbS5tb3ZlSCgtMSwgXCJ3b3JkXCIpO30sXG4gICAgZ29Hcm91cFJpZ2h0OiBmdW5jdGlvbihjbSkge2NtLm1vdmVIKDEsIFwiZ3JvdXBcIik7fSxcbiAgICBnb0dyb3VwTGVmdDogZnVuY3Rpb24oY20pIHtjbS5tb3ZlSCgtMSwgXCJncm91cFwiKTt9LFxuICAgIGdvV29yZFJpZ2h0OiBmdW5jdGlvbihjbSkge2NtLm1vdmVIKDEsIFwid29yZFwiKTt9LFxuICAgIGRlbENoYXJCZWZvcmU6IGZ1bmN0aW9uKGNtKSB7Y20uZGVsZXRlSCgtMSwgXCJjaGFyXCIpO30sXG4gICAgZGVsQ2hhckFmdGVyOiBmdW5jdGlvbihjbSkge2NtLmRlbGV0ZUgoMSwgXCJjaGFyXCIpO30sXG4gICAgZGVsV29yZEJlZm9yZTogZnVuY3Rpb24oY20pIHtjbS5kZWxldGVIKC0xLCBcIndvcmRcIik7fSxcbiAgICBkZWxXb3JkQWZ0ZXI6IGZ1bmN0aW9uKGNtKSB7Y20uZGVsZXRlSCgxLCBcIndvcmRcIik7fSxcbiAgICBkZWxHcm91cEJlZm9yZTogZnVuY3Rpb24oY20pIHtjbS5kZWxldGVIKC0xLCBcImdyb3VwXCIpO30sXG4gICAgZGVsR3JvdXBBZnRlcjogZnVuY3Rpb24oY20pIHtjbS5kZWxldGVIKDEsIFwiZ3JvdXBcIik7fSxcbiAgICBpbmRlbnRBdXRvOiBmdW5jdGlvbihjbSkge2NtLmluZGVudFNlbGVjdGlvbihcInNtYXJ0XCIpO30sXG4gICAgaW5kZW50TW9yZTogZnVuY3Rpb24oY20pIHtjbS5pbmRlbnRTZWxlY3Rpb24oXCJhZGRcIik7fSxcbiAgICBpbmRlbnRMZXNzOiBmdW5jdGlvbihjbSkge2NtLmluZGVudFNlbGVjdGlvbihcInN1YnRyYWN0XCIpO30sXG4gICAgaW5zZXJ0VGFiOiBmdW5jdGlvbihjbSkge2NtLnJlcGxhY2VTZWxlY3Rpb24oXCJcXHRcIik7fSxcbiAgICBpbnNlcnRTb2Z0VGFiOiBmdW5jdGlvbihjbSkge1xuICAgICAgdmFyIHNwYWNlcyA9IFtdLCByYW5nZXMgPSBjbS5saXN0U2VsZWN0aW9ucygpLCB0YWJTaXplID0gY20ub3B0aW9ucy50YWJTaXplO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBvcyA9IHJhbmdlc1tpXS5mcm9tKCk7XG4gICAgICAgIHZhciBjb2wgPSBjb3VudENvbHVtbihjbS5nZXRMaW5lKHBvcy5saW5lKSwgcG9zLmNoLCB0YWJTaXplKTtcbiAgICAgICAgc3BhY2VzLnB1c2gobmV3IEFycmF5KHRhYlNpemUgLSBjb2wgJSB0YWJTaXplICsgMSkuam9pbihcIiBcIikpO1xuICAgICAgfVxuICAgICAgY20ucmVwbGFjZVNlbGVjdGlvbnMoc3BhY2VzKTtcbiAgICB9LFxuICAgIGRlZmF1bHRUYWI6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBpZiAoY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkgY20uaW5kZW50U2VsZWN0aW9uKFwiYWRkXCIpO1xuICAgICAgZWxzZSBjbS5leGVjQ29tbWFuZChcImluc2VydFRhYlwiKTtcbiAgICB9LFxuICAgIHRyYW5zcG9zZUNoYXJzOiBmdW5jdGlvbihjbSkge1xuICAgICAgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByYW5nZXMgPSBjbS5saXN0U2VsZWN0aW9ucygpLCBuZXdTZWwgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgY3VyID0gcmFuZ2VzW2ldLmhlYWQsIGxpbmUgPSBnZXRMaW5lKGNtLmRvYywgY3VyLmxpbmUpLnRleHQ7XG4gICAgICAgICAgaWYgKGxpbmUpIHtcbiAgICAgICAgICAgIGlmIChjdXIuY2ggPT0gbGluZS5sZW5ndGgpIGN1ciA9IG5ldyBQb3MoY3VyLmxpbmUsIGN1ci5jaCAtIDEpO1xuICAgICAgICAgICAgaWYgKGN1ci5jaCA+IDApIHtcbiAgICAgICAgICAgICAgY3VyID0gbmV3IFBvcyhjdXIubGluZSwgY3VyLmNoICsgMSk7XG4gICAgICAgICAgICAgIGNtLnJlcGxhY2VSYW5nZShsaW5lLmNoYXJBdChjdXIuY2ggLSAxKSArIGxpbmUuY2hhckF0KGN1ci5jaCAtIDIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9zKGN1ci5saW5lLCBjdXIuY2ggLSAyKSwgY3VyLCBcIit0cmFuc3Bvc2VcIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGN1ci5saW5lID4gY20uZG9jLmZpcnN0KSB7XG4gICAgICAgICAgICAgIHZhciBwcmV2ID0gZ2V0TGluZShjbS5kb2MsIGN1ci5saW5lIC0gMSkudGV4dDtcbiAgICAgICAgICAgICAgaWYgKHByZXYpXG4gICAgICAgICAgICAgICAgY20ucmVwbGFjZVJhbmdlKGxpbmUuY2hhckF0KDApICsgXCJcXG5cIiArIHByZXYuY2hhckF0KHByZXYubGVuZ3RoIC0gMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvcyhjdXIubGluZSAtIDEsIHByZXYubGVuZ3RoIC0gMSksIFBvcyhjdXIubGluZSwgMSksIFwiK3RyYW5zcG9zZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3U2VsLnB1c2gobmV3IFJhbmdlKGN1ciwgY3VyKSk7XG4gICAgICAgIH1cbiAgICAgICAgY20uc2V0U2VsZWN0aW9ucyhuZXdTZWwpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBuZXdsaW5lQW5kSW5kZW50OiBmdW5jdGlvbihjbSkge1xuICAgICAgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBsZW4gPSBjbS5saXN0U2VsZWN0aW9ucygpLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIHZhciByYW5nZSA9IGNtLmxpc3RTZWxlY3Rpb25zKClbaV07XG4gICAgICAgICAgY20ucmVwbGFjZVJhbmdlKFwiXFxuXCIsIHJhbmdlLmFuY2hvciwgcmFuZ2UuaGVhZCwgXCIraW5wdXRcIik7XG4gICAgICAgICAgY20uaW5kZW50TGluZShyYW5nZS5mcm9tKCkubGluZSArIDEsIG51bGwsIHRydWUpO1xuICAgICAgICAgIGVuc3VyZUN1cnNvclZpc2libGUoY20pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHRvZ2dsZU92ZXJ3cml0ZTogZnVuY3Rpb24oY20pIHtjbS50b2dnbGVPdmVyd3JpdGUoKTt9XG4gIH07XG5cbiAgLy8gU1RBTkRBUkQgS0VZTUFQU1xuXG4gIHZhciBrZXlNYXAgPSBDb2RlTWlycm9yLmtleU1hcCA9IHt9O1xuICBrZXlNYXAuYmFzaWMgPSB7XG4gICAgXCJMZWZ0XCI6IFwiZ29DaGFyTGVmdFwiLCBcIlJpZ2h0XCI6IFwiZ29DaGFyUmlnaHRcIiwgXCJVcFwiOiBcImdvTGluZVVwXCIsIFwiRG93blwiOiBcImdvTGluZURvd25cIixcbiAgICBcIkVuZFwiOiBcImdvTGluZUVuZFwiLCBcIkhvbWVcIjogXCJnb0xpbmVTdGFydFNtYXJ0XCIsIFwiUGFnZVVwXCI6IFwiZ29QYWdlVXBcIiwgXCJQYWdlRG93blwiOiBcImdvUGFnZURvd25cIixcbiAgICBcIkRlbGV0ZVwiOiBcImRlbENoYXJBZnRlclwiLCBcIkJhY2tzcGFjZVwiOiBcImRlbENoYXJCZWZvcmVcIiwgXCJTaGlmdC1CYWNrc3BhY2VcIjogXCJkZWxDaGFyQmVmb3JlXCIsXG4gICAgXCJUYWJcIjogXCJkZWZhdWx0VGFiXCIsIFwiU2hpZnQtVGFiXCI6IFwiaW5kZW50QXV0b1wiLFxuICAgIFwiRW50ZXJcIjogXCJuZXdsaW5lQW5kSW5kZW50XCIsIFwiSW5zZXJ0XCI6IFwidG9nZ2xlT3ZlcndyaXRlXCIsXG4gICAgXCJFc2NcIjogXCJzaW5nbGVTZWxlY3Rpb25cIlxuICB9O1xuICAvLyBOb3RlIHRoYXQgdGhlIHNhdmUgYW5kIGZpbmQtcmVsYXRlZCBjb21tYW5kcyBhcmVuJ3QgZGVmaW5lZCBieVxuICAvLyBkZWZhdWx0LiBVc2VyIGNvZGUgb3IgYWRkb25zIGNhbiBkZWZpbmUgdGhlbS4gVW5rbm93biBjb21tYW5kc1xuICAvLyBhcmUgc2ltcGx5IGlnbm9yZWQuXG4gIGtleU1hcC5wY0RlZmF1bHQgPSB7XG4gICAgXCJDdHJsLUFcIjogXCJzZWxlY3RBbGxcIiwgXCJDdHJsLURcIjogXCJkZWxldGVMaW5lXCIsIFwiQ3RybC1aXCI6IFwidW5kb1wiLCBcIlNoaWZ0LUN0cmwtWlwiOiBcInJlZG9cIiwgXCJDdHJsLVlcIjogXCJyZWRvXCIsXG4gICAgXCJDdHJsLUhvbWVcIjogXCJnb0RvY1N0YXJ0XCIsIFwiQ3RybC1FbmRcIjogXCJnb0RvY0VuZFwiLCBcIkN0cmwtVXBcIjogXCJnb0xpbmVVcFwiLCBcIkN0cmwtRG93blwiOiBcImdvTGluZURvd25cIixcbiAgICBcIkN0cmwtTGVmdFwiOiBcImdvR3JvdXBMZWZ0XCIsIFwiQ3RybC1SaWdodFwiOiBcImdvR3JvdXBSaWdodFwiLCBcIkFsdC1MZWZ0XCI6IFwiZ29MaW5lU3RhcnRcIiwgXCJBbHQtUmlnaHRcIjogXCJnb0xpbmVFbmRcIixcbiAgICBcIkN0cmwtQmFja3NwYWNlXCI6IFwiZGVsR3JvdXBCZWZvcmVcIiwgXCJDdHJsLURlbGV0ZVwiOiBcImRlbEdyb3VwQWZ0ZXJcIiwgXCJDdHJsLVNcIjogXCJzYXZlXCIsIFwiQ3RybC1GXCI6IFwiZmluZFwiLFxuICAgIFwiQ3RybC1HXCI6IFwiZmluZE5leHRcIiwgXCJTaGlmdC1DdHJsLUdcIjogXCJmaW5kUHJldlwiLCBcIlNoaWZ0LUN0cmwtRlwiOiBcInJlcGxhY2VcIiwgXCJTaGlmdC1DdHJsLVJcIjogXCJyZXBsYWNlQWxsXCIsXG4gICAgXCJDdHJsLVtcIjogXCJpbmRlbnRMZXNzXCIsIFwiQ3RybC1dXCI6IFwiaW5kZW50TW9yZVwiLFxuICAgIFwiQ3RybC1VXCI6IFwidW5kb1NlbGVjdGlvblwiLCBcIlNoaWZ0LUN0cmwtVVwiOiBcInJlZG9TZWxlY3Rpb25cIiwgXCJBbHQtVVwiOiBcInJlZG9TZWxlY3Rpb25cIixcbiAgICBmYWxsdGhyb3VnaDogXCJiYXNpY1wiXG4gIH07XG4gIGtleU1hcC5tYWNEZWZhdWx0ID0ge1xuICAgIFwiQ21kLUFcIjogXCJzZWxlY3RBbGxcIiwgXCJDbWQtRFwiOiBcImRlbGV0ZUxpbmVcIiwgXCJDbWQtWlwiOiBcInVuZG9cIiwgXCJTaGlmdC1DbWQtWlwiOiBcInJlZG9cIiwgXCJDbWQtWVwiOiBcInJlZG9cIixcbiAgICBcIkNtZC1Ib21lXCI6IFwiZ29Eb2NTdGFydFwiLCBcIkNtZC1VcFwiOiBcImdvRG9jU3RhcnRcIiwgXCJDbWQtRW5kXCI6IFwiZ29Eb2NFbmRcIiwgXCJDbWQtRG93blwiOiBcImdvRG9jRW5kXCIsIFwiQWx0LUxlZnRcIjogXCJnb0dyb3VwTGVmdFwiLFxuICAgIFwiQWx0LVJpZ2h0XCI6IFwiZ29Hcm91cFJpZ2h0XCIsIFwiQ21kLUxlZnRcIjogXCJnb0xpbmVMZWZ0XCIsIFwiQ21kLVJpZ2h0XCI6IFwiZ29MaW5lUmlnaHRcIiwgXCJBbHQtQmFja3NwYWNlXCI6IFwiZGVsR3JvdXBCZWZvcmVcIixcbiAgICBcIkN0cmwtQWx0LUJhY2tzcGFjZVwiOiBcImRlbEdyb3VwQWZ0ZXJcIiwgXCJBbHQtRGVsZXRlXCI6IFwiZGVsR3JvdXBBZnRlclwiLCBcIkNtZC1TXCI6IFwic2F2ZVwiLCBcIkNtZC1GXCI6IFwiZmluZFwiLFxuICAgIFwiQ21kLUdcIjogXCJmaW5kTmV4dFwiLCBcIlNoaWZ0LUNtZC1HXCI6IFwiZmluZFByZXZcIiwgXCJDbWQtQWx0LUZcIjogXCJyZXBsYWNlXCIsIFwiU2hpZnQtQ21kLUFsdC1GXCI6IFwicmVwbGFjZUFsbFwiLFxuICAgIFwiQ21kLVtcIjogXCJpbmRlbnRMZXNzXCIsIFwiQ21kLV1cIjogXCJpbmRlbnRNb3JlXCIsIFwiQ21kLUJhY2tzcGFjZVwiOiBcImRlbFdyYXBwZWRMaW5lTGVmdFwiLCBcIkNtZC1EZWxldGVcIjogXCJkZWxXcmFwcGVkTGluZVJpZ2h0XCIsXG4gICAgXCJDbWQtVVwiOiBcInVuZG9TZWxlY3Rpb25cIiwgXCJTaGlmdC1DbWQtVVwiOiBcInJlZG9TZWxlY3Rpb25cIiwgXCJDdHJsLVVwXCI6IFwiZ29Eb2NTdGFydFwiLCBcIkN0cmwtRG93blwiOiBcImdvRG9jRW5kXCIsXG4gICAgZmFsbHRocm91Z2g6IFtcImJhc2ljXCIsIFwiZW1hY3N5XCJdXG4gIH07XG4gIC8vIFZlcnkgYmFzaWMgcmVhZGxpbmUvZW1hY3Mtc3R5bGUgYmluZGluZ3MsIHdoaWNoIGFyZSBzdGFuZGFyZCBvbiBNYWMuXG4gIGtleU1hcC5lbWFjc3kgPSB7XG4gICAgXCJDdHJsLUZcIjogXCJnb0NoYXJSaWdodFwiLCBcIkN0cmwtQlwiOiBcImdvQ2hhckxlZnRcIiwgXCJDdHJsLVBcIjogXCJnb0xpbmVVcFwiLCBcIkN0cmwtTlwiOiBcImdvTGluZURvd25cIixcbiAgICBcIkFsdC1GXCI6IFwiZ29Xb3JkUmlnaHRcIiwgXCJBbHQtQlwiOiBcImdvV29yZExlZnRcIiwgXCJDdHJsLUFcIjogXCJnb0xpbmVTdGFydFwiLCBcIkN0cmwtRVwiOiBcImdvTGluZUVuZFwiLFxuICAgIFwiQ3RybC1WXCI6IFwiZ29QYWdlRG93blwiLCBcIlNoaWZ0LUN0cmwtVlwiOiBcImdvUGFnZVVwXCIsIFwiQ3RybC1EXCI6IFwiZGVsQ2hhckFmdGVyXCIsIFwiQ3RybC1IXCI6IFwiZGVsQ2hhckJlZm9yZVwiLFxuICAgIFwiQWx0LURcIjogXCJkZWxXb3JkQWZ0ZXJcIiwgXCJBbHQtQmFja3NwYWNlXCI6IFwiZGVsV29yZEJlZm9yZVwiLCBcIkN0cmwtS1wiOiBcImtpbGxMaW5lXCIsIFwiQ3RybC1UXCI6IFwidHJhbnNwb3NlQ2hhcnNcIlxuICB9O1xuICBrZXlNYXBbXCJkZWZhdWx0XCJdID0gbWFjID8ga2V5TWFwLm1hY0RlZmF1bHQgOiBrZXlNYXAucGNEZWZhdWx0O1xuXG4gIC8vIEtFWU1BUCBESVNQQVRDSFxuXG4gIGZ1bmN0aW9uIGdldEtleU1hcCh2YWwpIHtcbiAgICBpZiAodHlwZW9mIHZhbCA9PSBcInN0cmluZ1wiKSByZXR1cm4ga2V5TWFwW3ZhbF07XG4gICAgZWxzZSByZXR1cm4gdmFsO1xuICB9XG5cbiAgLy8gR2l2ZW4gYW4gYXJyYXkgb2Yga2V5bWFwcyBhbmQgYSBrZXkgbmFtZSwgY2FsbCBoYW5kbGUgb24gYW55XG4gIC8vIGJpbmRpbmdzIGZvdW5kLCB1bnRpbCB0aGF0IHJldHVybnMgYSB0cnV0aHkgdmFsdWUsIGF0IHdoaWNoIHBvaW50XG4gIC8vIHdlIGNvbnNpZGVyIHRoZSBrZXkgaGFuZGxlZC4gSW1wbGVtZW50cyB0aGluZ3MgbGlrZSBiaW5kaW5nIGEga2V5XG4gIC8vIHRvIGZhbHNlIHN0b3BwaW5nIGZ1cnRoZXIgaGFuZGxpbmcgYW5kIGtleW1hcCBmYWxsdGhyb3VnaC5cbiAgdmFyIGxvb2t1cEtleSA9IENvZGVNaXJyb3IubG9va3VwS2V5ID0gZnVuY3Rpb24obmFtZSwgbWFwcywgaGFuZGxlKSB7XG4gICAgZnVuY3Rpb24gbG9va3VwKG1hcCkge1xuICAgICAgbWFwID0gZ2V0S2V5TWFwKG1hcCk7XG4gICAgICB2YXIgZm91bmQgPSBtYXBbbmFtZV07XG4gICAgICBpZiAoZm91bmQgPT09IGZhbHNlKSByZXR1cm4gXCJzdG9wXCI7XG4gICAgICBpZiAoZm91bmQgIT0gbnVsbCAmJiBoYW5kbGUoZm91bmQpKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChtYXAubm9mYWxsdGhyb3VnaCkgcmV0dXJuIFwic3RvcFwiO1xuXG4gICAgICB2YXIgZmFsbHRocm91Z2ggPSBtYXAuZmFsbHRocm91Z2g7XG4gICAgICBpZiAoZmFsbHRocm91Z2ggPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmYWxsdGhyb3VnaCkgIT0gXCJbb2JqZWN0IEFycmF5XVwiKVxuICAgICAgICByZXR1cm4gbG9va3VwKGZhbGx0aHJvdWdoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmFsbHRocm91Z2gubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGRvbmUgPSBsb29rdXAoZmFsbHRocm91Z2hbaV0pO1xuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuIGRvbmU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXBzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgZG9uZSA9IGxvb2t1cChtYXBzW2ldKTtcbiAgICAgIGlmIChkb25lKSByZXR1cm4gZG9uZSAhPSBcInN0b3BcIjtcbiAgICB9XG4gIH07XG5cbiAgLy8gTW9kaWZpZXIga2V5IHByZXNzZXMgZG9uJ3QgY291bnQgYXMgJ3JlYWwnIGtleSBwcmVzc2VzIGZvciB0aGVcbiAgLy8gcHVycG9zZSBvZiBrZXltYXAgZmFsbHRocm91Z2guXG4gIHZhciBpc01vZGlmaWVyS2V5ID0gQ29kZU1pcnJvci5pc01vZGlmaWVyS2V5ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgbmFtZSA9IGtleU5hbWVzW2V2ZW50LmtleUNvZGVdO1xuICAgIHJldHVybiBuYW1lID09IFwiQ3RybFwiIHx8IG5hbWUgPT0gXCJBbHRcIiB8fCBuYW1lID09IFwiU2hpZnRcIiB8fCBuYW1lID09IFwiTW9kXCI7XG4gIH07XG5cbiAgLy8gTG9vayB1cCB0aGUgbmFtZSBvZiBhIGtleSBhcyBpbmRpY2F0ZWQgYnkgYW4gZXZlbnQgb2JqZWN0LlxuICB2YXIga2V5TmFtZSA9IENvZGVNaXJyb3Iua2V5TmFtZSA9IGZ1bmN0aW9uKGV2ZW50LCBub1NoaWZ0KSB7XG4gICAgaWYgKHByZXN0byAmJiBldmVudC5rZXlDb2RlID09IDM0ICYmIGV2ZW50W1wiY2hhclwiXSkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBuYW1lID0ga2V5TmFtZXNbZXZlbnQua2V5Q29kZV07XG4gICAgaWYgKG5hbWUgPT0gbnVsbCB8fCBldmVudC5hbHRHcmFwaEtleSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChldmVudC5hbHRLZXkpIG5hbWUgPSBcIkFsdC1cIiArIG5hbWU7XG4gICAgaWYgKGZsaXBDdHJsQ21kID8gZXZlbnQubWV0YUtleSA6IGV2ZW50LmN0cmxLZXkpIG5hbWUgPSBcIkN0cmwtXCIgKyBuYW1lO1xuICAgIGlmIChmbGlwQ3RybENtZCA/IGV2ZW50LmN0cmxLZXkgOiBldmVudC5tZXRhS2V5KSBuYW1lID0gXCJDbWQtXCIgKyBuYW1lO1xuICAgIGlmICghbm9TaGlmdCAmJiBldmVudC5zaGlmdEtleSkgbmFtZSA9IFwiU2hpZnQtXCIgKyBuYW1lO1xuICAgIHJldHVybiBuYW1lO1xuICB9O1xuXG4gIC8vIEZST01URVhUQVJFQVxuXG4gIENvZGVNaXJyb3IuZnJvbVRleHRBcmVhID0gZnVuY3Rpb24odGV4dGFyZWEsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgICBvcHRpb25zLnZhbHVlID0gdGV4dGFyZWEudmFsdWU7XG4gICAgaWYgKCFvcHRpb25zLnRhYmluZGV4ICYmIHRleHRhcmVhLnRhYmluZGV4KVxuICAgICAgb3B0aW9ucy50YWJpbmRleCA9IHRleHRhcmVhLnRhYmluZGV4O1xuICAgIGlmICghb3B0aW9ucy5wbGFjZWhvbGRlciAmJiB0ZXh0YXJlYS5wbGFjZWhvbGRlcilcbiAgICAgIG9wdGlvbnMucGxhY2Vob2xkZXIgPSB0ZXh0YXJlYS5wbGFjZWhvbGRlcjtcbiAgICAvLyBTZXQgYXV0b2ZvY3VzIHRvIHRydWUgaWYgdGhpcyB0ZXh0YXJlYSBpcyBmb2N1c2VkLCBvciBpZiBpdCBoYXNcbiAgICAvLyBhdXRvZm9jdXMgYW5kIG5vIG90aGVyIGVsZW1lbnQgaXMgZm9jdXNlZC5cbiAgICBpZiAob3B0aW9ucy5hdXRvZm9jdXMgPT0gbnVsbCkge1xuICAgICAgdmFyIGhhc0ZvY3VzID0gYWN0aXZlRWx0KCk7XG4gICAgICBvcHRpb25zLmF1dG9mb2N1cyA9IGhhc0ZvY3VzID09IHRleHRhcmVhIHx8XG4gICAgICAgIHRleHRhcmVhLmdldEF0dHJpYnV0ZShcImF1dG9mb2N1c1wiKSAhPSBudWxsICYmIGhhc0ZvY3VzID09IGRvY3VtZW50LmJvZHk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2F2ZSgpIHt0ZXh0YXJlYS52YWx1ZSA9IGNtLmdldFZhbHVlKCk7fVxuICAgIGlmICh0ZXh0YXJlYS5mb3JtKSB7XG4gICAgICBvbih0ZXh0YXJlYS5mb3JtLCBcInN1Ym1pdFwiLCBzYXZlKTtcbiAgICAgIC8vIERlcGxvcmFibGUgaGFjayB0byBtYWtlIHRoZSBzdWJtaXQgbWV0aG9kIGRvIHRoZSByaWdodCB0aGluZy5cbiAgICAgIGlmICghb3B0aW9ucy5sZWF2ZVN1Ym1pdE1ldGhvZEFsb25lKSB7XG4gICAgICAgIHZhciBmb3JtID0gdGV4dGFyZWEuZm9ybSwgcmVhbFN1Ym1pdCA9IGZvcm0uc3VibWl0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciB3cmFwcGVkU3VibWl0ID0gZm9ybS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNhdmUoKTtcbiAgICAgICAgICAgIGZvcm0uc3VibWl0ID0gcmVhbFN1Ym1pdDtcbiAgICAgICAgICAgIGZvcm0uc3VibWl0KCk7XG4gICAgICAgICAgICBmb3JtLnN1Ym1pdCA9IHdyYXBwZWRTdWJtaXQ7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaChlKSB7fVxuICAgICAgfVxuICAgIH1cblxuICAgIHRleHRhcmVhLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB2YXIgY20gPSBDb2RlTWlycm9yKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHRleHRhcmVhLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIHRleHRhcmVhLm5leHRTaWJsaW5nKTtcbiAgICB9LCBvcHRpb25zKTtcbiAgICBjbS5zYXZlID0gc2F2ZTtcbiAgICBjbS5nZXRUZXh0QXJlYSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGV4dGFyZWE7IH07XG4gICAgY20udG9UZXh0QXJlYSA9IGZ1bmN0aW9uKCkge1xuICAgICAgY20udG9UZXh0QXJlYSA9IGlzTmFOOyAvLyBQcmV2ZW50IHRoaXMgZnJvbSBiZWluZyByYW4gdHdpY2VcbiAgICAgIHNhdmUoKTtcbiAgICAgIHRleHRhcmVhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY20uZ2V0V3JhcHBlckVsZW1lbnQoKSk7XG4gICAgICB0ZXh0YXJlYS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgIGlmICh0ZXh0YXJlYS5mb3JtKSB7XG4gICAgICAgIG9mZih0ZXh0YXJlYS5mb3JtLCBcInN1Ym1pdFwiLCBzYXZlKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0YXJlYS5mb3JtLnN1Ym1pdCA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgdGV4dGFyZWEuZm9ybS5zdWJtaXQgPSByZWFsU3VibWl0O1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGNtO1xuICB9O1xuXG4gIC8vIFNUUklORyBTVFJFQU1cblxuICAvLyBGZWQgdG8gdGhlIG1vZGUgcGFyc2VycywgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byBtYWtlXG4gIC8vIHBhcnNlcnMgbW9yZSBzdWNjaW5jdC5cblxuICB2YXIgU3RyaW5nU3RyZWFtID0gQ29kZU1pcnJvci5TdHJpbmdTdHJlYW0gPSBmdW5jdGlvbihzdHJpbmcsIHRhYlNpemUpIHtcbiAgICB0aGlzLnBvcyA9IHRoaXMuc3RhcnQgPSAwO1xuICAgIHRoaXMuc3RyaW5nID0gc3RyaW5nO1xuICAgIHRoaXMudGFiU2l6ZSA9IHRhYlNpemUgfHwgODtcbiAgICB0aGlzLmxhc3RDb2x1bW5Qb3MgPSB0aGlzLmxhc3RDb2x1bW5WYWx1ZSA9IDA7XG4gICAgdGhpcy5saW5lU3RhcnQgPSAwO1xuICB9O1xuXG4gIFN0cmluZ1N0cmVhbS5wcm90b3R5cGUgPSB7XG4gICAgZW9sOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5wb3MgPj0gdGhpcy5zdHJpbmcubGVuZ3RoO30sXG4gICAgc29sOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5wb3MgPT0gdGhpcy5saW5lU3RhcnQ7fSxcbiAgICBwZWVrOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKSB8fCB1bmRlZmluZWQ7fSxcbiAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnBvcyA8IHRoaXMuc3RyaW5nLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcysrKTtcbiAgICB9LFxuICAgIGVhdDogZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHZhciBjaCA9IHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcyk7XG4gICAgICBpZiAodHlwZW9mIG1hdGNoID09IFwic3RyaW5nXCIpIHZhciBvayA9IGNoID09IG1hdGNoO1xuICAgICAgZWxzZSB2YXIgb2sgPSBjaCAmJiAobWF0Y2gudGVzdCA/IG1hdGNoLnRlc3QoY2gpIDogbWF0Y2goY2gpKTtcbiAgICAgIGlmIChvaykgeysrdGhpcy5wb3M7IHJldHVybiBjaDt9XG4gICAgfSxcbiAgICBlYXRXaGlsZTogZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHZhciBzdGFydCA9IHRoaXMucG9zO1xuICAgICAgd2hpbGUgKHRoaXMuZWF0KG1hdGNoKSl7fVxuICAgICAgcmV0dXJuIHRoaXMucG9zID4gc3RhcnQ7XG4gICAgfSxcbiAgICBlYXRTcGFjZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc3RhcnQgPSB0aGlzLnBvcztcbiAgICAgIHdoaWxlICgvW1xcc1xcdTAwYTBdLy50ZXN0KHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcykpKSArK3RoaXMucG9zO1xuICAgICAgcmV0dXJuIHRoaXMucG9zID4gc3RhcnQ7XG4gICAgfSxcbiAgICBza2lwVG9FbmQ6IGZ1bmN0aW9uKCkge3RoaXMucG9zID0gdGhpcy5zdHJpbmcubGVuZ3RoO30sXG4gICAgc2tpcFRvOiBmdW5jdGlvbihjaCkge1xuICAgICAgdmFyIGZvdW5kID0gdGhpcy5zdHJpbmcuaW5kZXhPZihjaCwgdGhpcy5wb3MpO1xuICAgICAgaWYgKGZvdW5kID4gLTEpIHt0aGlzLnBvcyA9IGZvdW5kOyByZXR1cm4gdHJ1ZTt9XG4gICAgfSxcbiAgICBiYWNrVXA6IGZ1bmN0aW9uKG4pIHt0aGlzLnBvcyAtPSBuO30sXG4gICAgY29sdW1uOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmxhc3RDb2x1bW5Qb3MgPCB0aGlzLnN0YXJ0KSB7XG4gICAgICAgIHRoaXMubGFzdENvbHVtblZhbHVlID0gY291bnRDb2x1bW4odGhpcy5zdHJpbmcsIHRoaXMuc3RhcnQsIHRoaXMudGFiU2l6ZSwgdGhpcy5sYXN0Q29sdW1uUG9zLCB0aGlzLmxhc3RDb2x1bW5WYWx1ZSk7XG4gICAgICAgIHRoaXMubGFzdENvbHVtblBvcyA9IHRoaXMuc3RhcnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5sYXN0Q29sdW1uVmFsdWUgLSAodGhpcy5saW5lU3RhcnQgPyBjb3VudENvbHVtbih0aGlzLnN0cmluZywgdGhpcy5saW5lU3RhcnQsIHRoaXMudGFiU2l6ZSkgOiAwKTtcbiAgICB9LFxuICAgIGluZGVudGF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBjb3VudENvbHVtbih0aGlzLnN0cmluZywgbnVsbCwgdGhpcy50YWJTaXplKSAtXG4gICAgICAgICh0aGlzLmxpbmVTdGFydCA/IGNvdW50Q29sdW1uKHRoaXMuc3RyaW5nLCB0aGlzLmxpbmVTdGFydCwgdGhpcy50YWJTaXplKSA6IDApO1xuICAgIH0sXG4gICAgbWF0Y2g6IGZ1bmN0aW9uKHBhdHRlcm4sIGNvbnN1bWUsIGNhc2VJbnNlbnNpdGl2ZSkge1xuICAgICAgaWYgKHR5cGVvZiBwYXR0ZXJuID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdmFyIGNhc2VkID0gZnVuY3Rpb24oc3RyKSB7cmV0dXJuIGNhc2VJbnNlbnNpdGl2ZSA/IHN0ci50b0xvd2VyQ2FzZSgpIDogc3RyO307XG4gICAgICAgIHZhciBzdWJzdHIgPSB0aGlzLnN0cmluZy5zdWJzdHIodGhpcy5wb3MsIHBhdHRlcm4ubGVuZ3RoKTtcbiAgICAgICAgaWYgKGNhc2VkKHN1YnN0cikgPT0gY2FzZWQocGF0dGVybikpIHtcbiAgICAgICAgICBpZiAoY29uc3VtZSAhPT0gZmFsc2UpIHRoaXMucG9zICs9IHBhdHRlcm4ubGVuZ3RoO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbWF0Y2ggPSB0aGlzLnN0cmluZy5zbGljZSh0aGlzLnBvcykubWF0Y2gocGF0dGVybik7XG4gICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaC5pbmRleCA+IDApIHJldHVybiBudWxsO1xuICAgICAgICBpZiAobWF0Y2ggJiYgY29uc3VtZSAhPT0gZmFsc2UpIHRoaXMucG9zICs9IG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfVxuICAgIH0sXG4gICAgY3VycmVudDogZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJpbmcuc2xpY2UodGhpcy5zdGFydCwgdGhpcy5wb3MpO30sXG4gICAgaGlkZUZpcnN0Q2hhcnM6IGZ1bmN0aW9uKG4sIGlubmVyKSB7XG4gICAgICB0aGlzLmxpbmVTdGFydCArPSBuO1xuICAgICAgdHJ5IHsgcmV0dXJuIGlubmVyKCk7IH1cbiAgICAgIGZpbmFsbHkgeyB0aGlzLmxpbmVTdGFydCAtPSBuOyB9XG4gICAgfVxuICB9O1xuXG4gIC8vIFRFWFRNQVJLRVJTXG5cbiAgLy8gQ3JlYXRlZCB3aXRoIG1hcmtUZXh0IGFuZCBzZXRCb29rbWFyayBtZXRob2RzLiBBIFRleHRNYXJrZXIgaXMgYVxuICAvLyBoYW5kbGUgdGhhdCBjYW4gYmUgdXNlZCB0byBjbGVhciBvciBmaW5kIGEgbWFya2VkIHBvc2l0aW9uIGluIHRoZVxuICAvLyBkb2N1bWVudC4gTGluZSBvYmplY3RzIGhvbGQgYXJyYXlzIChtYXJrZWRTcGFucykgY29udGFpbmluZ1xuICAvLyB7ZnJvbSwgdG8sIG1hcmtlcn0gb2JqZWN0IHBvaW50aW5nIHRvIHN1Y2ggbWFya2VyIG9iamVjdHMsIGFuZFxuICAvLyBpbmRpY2F0aW5nIHRoYXQgc3VjaCBhIG1hcmtlciBpcyBwcmVzZW50IG9uIHRoYXQgbGluZS4gTXVsdGlwbGVcbiAgLy8gbGluZXMgbWF5IHBvaW50IHRvIHRoZSBzYW1lIG1hcmtlciB3aGVuIGl0IHNwYW5zIGFjcm9zcyBsaW5lcy5cbiAgLy8gVGhlIHNwYW5zIHdpbGwgaGF2ZSBudWxsIGZvciB0aGVpciBmcm9tL3RvIHByb3BlcnRpZXMgd2hlbiB0aGVcbiAgLy8gbWFya2VyIGNvbnRpbnVlcyBiZXlvbmQgdGhlIHN0YXJ0L2VuZCBvZiB0aGUgbGluZS4gTWFya2VycyBoYXZlXG4gIC8vIGxpbmtzIGJhY2sgdG8gdGhlIGxpbmVzIHRoZXkgY3VycmVudGx5IHRvdWNoLlxuXG4gIHZhciBUZXh0TWFya2VyID0gQ29kZU1pcnJvci5UZXh0TWFya2VyID0gZnVuY3Rpb24oZG9jLCB0eXBlKSB7XG4gICAgdGhpcy5saW5lcyA9IFtdO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5kb2MgPSBkb2M7XG4gIH07XG4gIGV2ZW50TWl4aW4oVGV4dE1hcmtlcik7XG5cbiAgLy8gQ2xlYXIgdGhlIG1hcmtlci5cbiAgVGV4dE1hcmtlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5leHBsaWNpdGx5Q2xlYXJlZCkgcmV0dXJuO1xuICAgIHZhciBjbSA9IHRoaXMuZG9jLmNtLCB3aXRoT3AgPSBjbSAmJiAhY20uY3VyT3A7XG4gICAgaWYgKHdpdGhPcCkgc3RhcnRPcGVyYXRpb24oY20pO1xuICAgIGlmIChoYXNIYW5kbGVyKHRoaXMsIFwiY2xlYXJcIikpIHtcbiAgICAgIHZhciBmb3VuZCA9IHRoaXMuZmluZCgpO1xuICAgICAgaWYgKGZvdW5kKSBzaWduYWxMYXRlcih0aGlzLCBcImNsZWFyXCIsIGZvdW5kLmZyb20sIGZvdW5kLnRvKTtcbiAgICB9XG4gICAgdmFyIG1pbiA9IG51bGwsIG1heCA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgbGluZSA9IHRoaXMubGluZXNbaV07XG4gICAgICB2YXIgc3BhbiA9IGdldE1hcmtlZFNwYW5Gb3IobGluZS5tYXJrZWRTcGFucywgdGhpcyk7XG4gICAgICBpZiAoY20gJiYgIXRoaXMuY29sbGFwc2VkKSByZWdMaW5lQ2hhbmdlKGNtLCBsaW5lTm8obGluZSksIFwidGV4dFwiKTtcbiAgICAgIGVsc2UgaWYgKGNtKSB7XG4gICAgICAgIGlmIChzcGFuLnRvICE9IG51bGwpIG1heCA9IGxpbmVObyhsaW5lKTtcbiAgICAgICAgaWYgKHNwYW4uZnJvbSAhPSBudWxsKSBtaW4gPSBsaW5lTm8obGluZSk7XG4gICAgICB9XG4gICAgICBsaW5lLm1hcmtlZFNwYW5zID0gcmVtb3ZlTWFya2VkU3BhbihsaW5lLm1hcmtlZFNwYW5zLCBzcGFuKTtcbiAgICAgIGlmIChzcGFuLmZyb20gPT0gbnVsbCAmJiB0aGlzLmNvbGxhcHNlZCAmJiAhbGluZUlzSGlkZGVuKHRoaXMuZG9jLCBsaW5lKSAmJiBjbSlcbiAgICAgICAgdXBkYXRlTGluZUhlaWdodChsaW5lLCB0ZXh0SGVpZ2h0KGNtLmRpc3BsYXkpKTtcbiAgICB9XG4gICAgaWYgKGNtICYmIHRoaXMuY29sbGFwc2VkICYmICFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgdmlzdWFsID0gdmlzdWFsTGluZSh0aGlzLmxpbmVzW2ldKSwgbGVuID0gbGluZUxlbmd0aCh2aXN1YWwpO1xuICAgICAgaWYgKGxlbiA+IGNtLmRpc3BsYXkubWF4TGluZUxlbmd0aCkge1xuICAgICAgICBjbS5kaXNwbGF5Lm1heExpbmUgPSB2aXN1YWw7XG4gICAgICAgIGNtLmRpc3BsYXkubWF4TGluZUxlbmd0aCA9IGxlbjtcbiAgICAgICAgY20uZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1pbiAhPSBudWxsICYmIGNtICYmIHRoaXMuY29sbGFwc2VkKSByZWdDaGFuZ2UoY20sIG1pbiwgbWF4ICsgMSk7XG4gICAgdGhpcy5saW5lcy5sZW5ndGggPSAwO1xuICAgIHRoaXMuZXhwbGljaXRseUNsZWFyZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLmF0b21pYyAmJiB0aGlzLmRvYy5jYW50RWRpdCkge1xuICAgICAgdGhpcy5kb2MuY2FudEVkaXQgPSBmYWxzZTtcbiAgICAgIGlmIChjbSkgcmVDaGVja1NlbGVjdGlvbihjbS5kb2MpO1xuICAgIH1cbiAgICBpZiAoY20pIHNpZ25hbExhdGVyKGNtLCBcIm1hcmtlckNsZWFyZWRcIiwgY20sIHRoaXMpO1xuICAgIGlmICh3aXRoT3ApIGVuZE9wZXJhdGlvbihjbSk7XG4gICAgaWYgKHRoaXMucGFyZW50KSB0aGlzLnBhcmVudC5jbGVhcigpO1xuICB9O1xuXG4gIC8vIEZpbmQgdGhlIHBvc2l0aW9uIG9mIHRoZSBtYXJrZXIgaW4gdGhlIGRvY3VtZW50LiBSZXR1cm5zIGEge2Zyb20sXG4gIC8vIHRvfSBvYmplY3QgYnkgZGVmYXVsdC4gU2lkZSBjYW4gYmUgcGFzc2VkIHRvIGdldCBhIHNwZWNpZmljIHNpZGVcbiAgLy8gLS0gMCAoYm90aCksIC0xIChsZWZ0KSwgb3IgMSAocmlnaHQpLiBXaGVuIGxpbmVPYmogaXMgdHJ1ZSwgdGhlXG4gIC8vIFBvcyBvYmplY3RzIHJldHVybmVkIGNvbnRhaW4gYSBsaW5lIG9iamVjdCwgcmF0aGVyIHRoYW4gYSBsaW5lXG4gIC8vIG51bWJlciAodXNlZCB0byBwcmV2ZW50IGxvb2tpbmcgdXAgdGhlIHNhbWUgbGluZSB0d2ljZSkuXG4gIFRleHRNYXJrZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihzaWRlLCBsaW5lT2JqKSB7XG4gICAgaWYgKHNpZGUgPT0gbnVsbCAmJiB0aGlzLnR5cGUgPT0gXCJib29rbWFya1wiKSBzaWRlID0gMTtcbiAgICB2YXIgZnJvbSwgdG87XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgbGluZSA9IHRoaXMubGluZXNbaV07XG4gICAgICB2YXIgc3BhbiA9IGdldE1hcmtlZFNwYW5Gb3IobGluZS5tYXJrZWRTcGFucywgdGhpcyk7XG4gICAgICBpZiAoc3Bhbi5mcm9tICE9IG51bGwpIHtcbiAgICAgICAgZnJvbSA9IFBvcyhsaW5lT2JqID8gbGluZSA6IGxpbmVObyhsaW5lKSwgc3Bhbi5mcm9tKTtcbiAgICAgICAgaWYgKHNpZGUgPT0gLTEpIHJldHVybiBmcm9tO1xuICAgICAgfVxuICAgICAgaWYgKHNwYW4udG8gIT0gbnVsbCkge1xuICAgICAgICB0byA9IFBvcyhsaW5lT2JqID8gbGluZSA6IGxpbmVObyhsaW5lKSwgc3Bhbi50byk7XG4gICAgICAgIGlmIChzaWRlID09IDEpIHJldHVybiB0bztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZyb20gJiYge2Zyb206IGZyb20sIHRvOiB0b307XG4gIH07XG5cbiAgLy8gU2lnbmFscyB0aGF0IHRoZSBtYXJrZXIncyB3aWRnZXQgY2hhbmdlZCwgYW5kIHN1cnJvdW5kaW5nIGxheW91dFxuICAvLyBzaG91bGQgYmUgcmVjb21wdXRlZC5cbiAgVGV4dE1hcmtlci5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwb3MgPSB0aGlzLmZpbmQoLTEsIHRydWUpLCB3aWRnZXQgPSB0aGlzLCBjbSA9IHRoaXMuZG9jLmNtO1xuICAgIGlmICghcG9zIHx8ICFjbSkgcmV0dXJuO1xuICAgIHJ1bkluT3AoY20sIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxpbmUgPSBwb3MubGluZSwgbGluZU4gPSBsaW5lTm8ocG9zLmxpbmUpO1xuICAgICAgdmFyIHZpZXcgPSBmaW5kVmlld0ZvckxpbmUoY20sIGxpbmVOKTtcbiAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgIGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGVGb3Iodmlldyk7XG4gICAgICAgIGNtLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQgPSBjbS5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBjbS5jdXJPcC51cGRhdGVNYXhMaW5lID0gdHJ1ZTtcbiAgICAgIGlmICghbGluZUlzSGlkZGVuKHdpZGdldC5kb2MsIGxpbmUpICYmIHdpZGdldC5oZWlnaHQgIT0gbnVsbCkge1xuICAgICAgICB2YXIgb2xkSGVpZ2h0ID0gd2lkZ2V0LmhlaWdodDtcbiAgICAgICAgd2lkZ2V0LmhlaWdodCA9IG51bGw7XG4gICAgICAgIHZhciBkSGVpZ2h0ID0gd2lkZ2V0SGVpZ2h0KHdpZGdldCkgLSBvbGRIZWlnaHQ7XG4gICAgICAgIGlmIChkSGVpZ2h0KVxuICAgICAgICAgIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgbGluZS5oZWlnaHQgKyBkSGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBUZXh0TWFya2VyLnByb3RvdHlwZS5hdHRhY2hMaW5lID0gZnVuY3Rpb24obGluZSkge1xuICAgIGlmICghdGhpcy5saW5lcy5sZW5ndGggJiYgdGhpcy5kb2MuY20pIHtcbiAgICAgIHZhciBvcCA9IHRoaXMuZG9jLmNtLmN1ck9wO1xuICAgICAgaWYgKCFvcC5tYXliZUhpZGRlbk1hcmtlcnMgfHwgaW5kZXhPZihvcC5tYXliZUhpZGRlbk1hcmtlcnMsIHRoaXMpID09IC0xKVxuICAgICAgICAob3AubWF5YmVVbmhpZGRlbk1hcmtlcnMgfHwgKG9wLm1heWJlVW5oaWRkZW5NYXJrZXJzID0gW10pKS5wdXNoKHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLmxpbmVzLnB1c2gobGluZSk7XG4gIH07XG4gIFRleHRNYXJrZXIucHJvdG90eXBlLmRldGFjaExpbmUgPSBmdW5jdGlvbihsaW5lKSB7XG4gICAgdGhpcy5saW5lcy5zcGxpY2UoaW5kZXhPZih0aGlzLmxpbmVzLCBsaW5lKSwgMSk7XG4gICAgaWYgKCF0aGlzLmxpbmVzLmxlbmd0aCAmJiB0aGlzLmRvYy5jbSkge1xuICAgICAgdmFyIG9wID0gdGhpcy5kb2MuY20uY3VyT3A7XG4gICAgICAob3AubWF5YmVIaWRkZW5NYXJrZXJzIHx8IChvcC5tYXliZUhpZGRlbk1hcmtlcnMgPSBbXSkpLnB1c2godGhpcyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIENvbGxhcHNlZCBtYXJrZXJzIGhhdmUgdW5pcXVlIGlkcywgaW4gb3JkZXIgdG8gYmUgYWJsZSB0byBvcmRlclxuICAvLyB0aGVtLCB3aGljaCBpcyBuZWVkZWQgZm9yIHVuaXF1ZWx5IGRldGVybWluaW5nIGFuIG91dGVyIG1hcmtlclxuICAvLyB3aGVuIHRoZXkgb3ZlcmxhcCAodGhleSBtYXkgbmVzdCwgYnV0IG5vdCBwYXJ0aWFsbHkgb3ZlcmxhcCkuXG4gIHZhciBuZXh0TWFya2VySWQgPSAwO1xuXG4gIC8vIENyZWF0ZSBhIG1hcmtlciwgd2lyZSBpdCB1cCB0byB0aGUgcmlnaHQgbGluZXMsIGFuZFxuICBmdW5jdGlvbiBtYXJrVGV4dChkb2MsIGZyb20sIHRvLCBvcHRpb25zLCB0eXBlKSB7XG4gICAgLy8gU2hhcmVkIG1hcmtlcnMgKGFjcm9zcyBsaW5rZWQgZG9jdW1lbnRzKSBhcmUgaGFuZGxlZCBzZXBhcmF0ZWx5XG4gICAgLy8gKG1hcmtUZXh0U2hhcmVkIHdpbGwgY2FsbCBvdXQgdG8gdGhpcyBhZ2Fpbiwgb25jZSBwZXJcbiAgICAvLyBkb2N1bWVudCkuXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5zaGFyZWQpIHJldHVybiBtYXJrVGV4dFNoYXJlZChkb2MsIGZyb20sIHRvLCBvcHRpb25zLCB0eXBlKTtcbiAgICAvLyBFbnN1cmUgd2UgYXJlIGluIGFuIG9wZXJhdGlvbi5cbiAgICBpZiAoZG9jLmNtICYmICFkb2MuY20uY3VyT3ApIHJldHVybiBvcGVyYXRpb24oZG9jLmNtLCBtYXJrVGV4dCkoZG9jLCBmcm9tLCB0bywgb3B0aW9ucywgdHlwZSk7XG5cbiAgICB2YXIgbWFya2VyID0gbmV3IFRleHRNYXJrZXIoZG9jLCB0eXBlKSwgZGlmZiA9IGNtcChmcm9tLCB0byk7XG4gICAgaWYgKG9wdGlvbnMpIGNvcHlPYmoob3B0aW9ucywgbWFya2VyLCBmYWxzZSk7XG4gICAgLy8gRG9uJ3QgY29ubmVjdCBlbXB0eSBtYXJrZXJzIHVubGVzcyBjbGVhcldoZW5FbXB0eSBpcyBmYWxzZVxuICAgIGlmIChkaWZmID4gMCB8fCBkaWZmID09IDAgJiYgbWFya2VyLmNsZWFyV2hlbkVtcHR5ICE9PSBmYWxzZSlcbiAgICAgIHJldHVybiBtYXJrZXI7XG4gICAgaWYgKG1hcmtlci5yZXBsYWNlZFdpdGgpIHtcbiAgICAgIC8vIFNob3dpbmcgdXAgYXMgYSB3aWRnZXQgaW1wbGllcyBjb2xsYXBzZWQgKHdpZGdldCByZXBsYWNlcyB0ZXh0KVxuICAgICAgbWFya2VyLmNvbGxhcHNlZCA9IHRydWU7XG4gICAgICBtYXJrZXIud2lkZ2V0Tm9kZSA9IGVsdChcInNwYW5cIiwgW21hcmtlci5yZXBsYWNlZFdpdGhdLCBcIkNvZGVNaXJyb3Itd2lkZ2V0XCIpO1xuICAgICAgaWYgKCFvcHRpb25zLmhhbmRsZU1vdXNlRXZlbnRzKSBtYXJrZXIud2lkZ2V0Tm9kZS5pZ25vcmVFdmVudHMgPSB0cnVlO1xuICAgICAgaWYgKG9wdGlvbnMuaW5zZXJ0TGVmdCkgbWFya2VyLndpZGdldE5vZGUuaW5zZXJ0TGVmdCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChtYXJrZXIuY29sbGFwc2VkKSB7XG4gICAgICBpZiAoY29uZmxpY3RpbmdDb2xsYXBzZWRSYW5nZShkb2MsIGZyb20ubGluZSwgZnJvbSwgdG8sIG1hcmtlcikgfHxcbiAgICAgICAgICBmcm9tLmxpbmUgIT0gdG8ubGluZSAmJiBjb25mbGljdGluZ0NvbGxhcHNlZFJhbmdlKGRvYywgdG8ubGluZSwgZnJvbSwgdG8sIG1hcmtlcikpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluc2VydGluZyBjb2xsYXBzZWQgbWFya2VyIHBhcnRpYWxseSBvdmVybGFwcGluZyBhbiBleGlzdGluZyBvbmVcIik7XG4gICAgICBzYXdDb2xsYXBzZWRTcGFucyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG1hcmtlci5hZGRUb0hpc3RvcnkpXG4gICAgICBhZGRDaGFuZ2VUb0hpc3RvcnkoZG9jLCB7ZnJvbTogZnJvbSwgdG86IHRvLCBvcmlnaW46IFwibWFya1RleHRcIn0sIGRvYy5zZWwsIE5hTik7XG5cbiAgICB2YXIgY3VyTGluZSA9IGZyb20ubGluZSwgY20gPSBkb2MuY20sIHVwZGF0ZU1heExpbmU7XG4gICAgZG9jLml0ZXIoY3VyTGluZSwgdG8ubGluZSArIDEsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmIChjbSAmJiBtYXJrZXIuY29sbGFwc2VkICYmICFjbS5vcHRpb25zLmxpbmVXcmFwcGluZyAmJiB2aXN1YWxMaW5lKGxpbmUpID09IGNtLmRpc3BsYXkubWF4TGluZSlcbiAgICAgICAgdXBkYXRlTWF4TGluZSA9IHRydWU7XG4gICAgICBpZiAobWFya2VyLmNvbGxhcHNlZCAmJiBjdXJMaW5lICE9IGZyb20ubGluZSkgdXBkYXRlTGluZUhlaWdodChsaW5lLCAwKTtcbiAgICAgIGFkZE1hcmtlZFNwYW4obGluZSwgbmV3IE1hcmtlZFNwYW4obWFya2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJMaW5lID09IGZyb20ubGluZSA/IGZyb20uY2ggOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJMaW5lID09IHRvLmxpbmUgPyB0by5jaCA6IG51bGwpKTtcbiAgICAgICsrY3VyTGluZTtcbiAgICB9KTtcbiAgICAvLyBsaW5lSXNIaWRkZW4gZGVwZW5kcyBvbiB0aGUgcHJlc2VuY2Ugb2YgdGhlIHNwYW5zLCBzbyBuZWVkcyBhIHNlY29uZCBwYXNzXG4gICAgaWYgKG1hcmtlci5jb2xsYXBzZWQpIGRvYy5pdGVyKGZyb20ubGluZSwgdG8ubGluZSArIDEsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmIChsaW5lSXNIaWRkZW4oZG9jLCBsaW5lKSkgdXBkYXRlTGluZUhlaWdodChsaW5lLCAwKTtcbiAgICB9KTtcblxuICAgIGlmIChtYXJrZXIuY2xlYXJPbkVudGVyKSBvbihtYXJrZXIsIFwiYmVmb3JlQ3Vyc29yRW50ZXJcIiwgZnVuY3Rpb24oKSB7IG1hcmtlci5jbGVhcigpOyB9KTtcblxuICAgIGlmIChtYXJrZXIucmVhZE9ubHkpIHtcbiAgICAgIHNhd1JlYWRPbmx5U3BhbnMgPSB0cnVlO1xuICAgICAgaWYgKGRvYy5oaXN0b3J5LmRvbmUubGVuZ3RoIHx8IGRvYy5oaXN0b3J5LnVuZG9uZS5sZW5ndGgpXG4gICAgICAgIGRvYy5jbGVhckhpc3RvcnkoKTtcbiAgICB9XG4gICAgaWYgKG1hcmtlci5jb2xsYXBzZWQpIHtcbiAgICAgIG1hcmtlci5pZCA9ICsrbmV4dE1hcmtlcklkO1xuICAgICAgbWFya2VyLmF0b21pYyA9IHRydWU7XG4gICAgfVxuICAgIGlmIChjbSkge1xuICAgICAgLy8gU3luYyBlZGl0b3Igc3RhdGVcbiAgICAgIGlmICh1cGRhdGVNYXhMaW5lKSBjbS5jdXJPcC51cGRhdGVNYXhMaW5lID0gdHJ1ZTtcbiAgICAgIGlmIChtYXJrZXIuY29sbGFwc2VkKVxuICAgICAgICByZWdDaGFuZ2UoY20sIGZyb20ubGluZSwgdG8ubGluZSArIDEpO1xuICAgICAgZWxzZSBpZiAobWFya2VyLmNsYXNzTmFtZSB8fCBtYXJrZXIudGl0bGUgfHwgbWFya2VyLnN0YXJ0U3R5bGUgfHwgbWFya2VyLmVuZFN0eWxlKVxuICAgICAgICBmb3IgKHZhciBpID0gZnJvbS5saW5lOyBpIDw9IHRvLmxpbmU7IGkrKykgcmVnTGluZUNoYW5nZShjbSwgaSwgXCJ0ZXh0XCIpO1xuICAgICAgaWYgKG1hcmtlci5hdG9taWMpIHJlQ2hlY2tTZWxlY3Rpb24oY20uZG9jKTtcbiAgICAgIHNpZ25hbExhdGVyKGNtLCBcIm1hcmtlckFkZGVkXCIsIGNtLCBtYXJrZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbWFya2VyO1xuICB9XG5cbiAgLy8gU0hBUkVEIFRFWFRNQVJLRVJTXG5cbiAgLy8gQSBzaGFyZWQgbWFya2VyIHNwYW5zIG11bHRpcGxlIGxpbmtlZCBkb2N1bWVudHMuIEl0IGlzXG4gIC8vIGltcGxlbWVudGVkIGFzIGEgbWV0YS1tYXJrZXItb2JqZWN0IGNvbnRyb2xsaW5nIG11bHRpcGxlIG5vcm1hbFxuICAvLyBtYXJrZXJzLlxuICB2YXIgU2hhcmVkVGV4dE1hcmtlciA9IENvZGVNaXJyb3IuU2hhcmVkVGV4dE1hcmtlciA9IGZ1bmN0aW9uKG1hcmtlcnMsIHByaW1hcnkpIHtcbiAgICB0aGlzLm1hcmtlcnMgPSBtYXJrZXJzO1xuICAgIHRoaXMucHJpbWFyeSA9IHByaW1hcnk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgKytpKVxuICAgICAgbWFya2Vyc1tpXS5wYXJlbnQgPSB0aGlzO1xuICB9O1xuICBldmVudE1peGluKFNoYXJlZFRleHRNYXJrZXIpO1xuXG4gIFNoYXJlZFRleHRNYXJrZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZXhwbGljaXRseUNsZWFyZWQpIHJldHVybjtcbiAgICB0aGlzLmV4cGxpY2l0bHlDbGVhcmVkID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7ICsraSlcbiAgICAgIHRoaXMubWFya2Vyc1tpXS5jbGVhcigpO1xuICAgIHNpZ25hbExhdGVyKHRoaXMsIFwiY2xlYXJcIik7XG4gIH07XG4gIFNoYXJlZFRleHRNYXJrZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihzaWRlLCBsaW5lT2JqKSB7XG4gICAgcmV0dXJuIHRoaXMucHJpbWFyeS5maW5kKHNpZGUsIGxpbmVPYmopO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1hcmtUZXh0U2hhcmVkKGRvYywgZnJvbSwgdG8sIG9wdGlvbnMsIHR5cGUpIHtcbiAgICBvcHRpb25zID0gY29weU9iaihvcHRpb25zKTtcbiAgICBvcHRpb25zLnNoYXJlZCA9IGZhbHNlO1xuICAgIHZhciBtYXJrZXJzID0gW21hcmtUZXh0KGRvYywgZnJvbSwgdG8sIG9wdGlvbnMsIHR5cGUpXSwgcHJpbWFyeSA9IG1hcmtlcnNbMF07XG4gICAgdmFyIHdpZGdldCA9IG9wdGlvbnMud2lkZ2V0Tm9kZTtcbiAgICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24oZG9jKSB7XG4gICAgICBpZiAod2lkZ2V0KSBvcHRpb25zLndpZGdldE5vZGUgPSB3aWRnZXQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgbWFya2Vycy5wdXNoKG1hcmtUZXh0KGRvYywgY2xpcFBvcyhkb2MsIGZyb20pLCBjbGlwUG9zKGRvYywgdG8pLCBvcHRpb25zLCB0eXBlKSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5saW5rZWQubGVuZ3RoOyArK2kpXG4gICAgICAgIGlmIChkb2MubGlua2VkW2ldLmlzUGFyZW50KSByZXR1cm47XG4gICAgICBwcmltYXJ5ID0gbHN0KG1hcmtlcnMpO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgU2hhcmVkVGV4dE1hcmtlcihtYXJrZXJzLCBwcmltYXJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRTaGFyZWRNYXJrZXJzKGRvYykge1xuICAgIHJldHVybiBkb2MuZmluZE1hcmtzKFBvcyhkb2MuZmlyc3QsIDApLCBkb2MuY2xpcFBvcyhQb3MoZG9jLmxhc3RMaW5lKCkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihtKSB7IHJldHVybiBtLnBhcmVudDsgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjb3B5U2hhcmVkTWFya2Vycyhkb2MsIG1hcmtlcnMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBtYXJrZXIgPSBtYXJrZXJzW2ldLCBwb3MgPSBtYXJrZXIuZmluZCgpO1xuICAgICAgdmFyIG1Gcm9tID0gZG9jLmNsaXBQb3MocG9zLmZyb20pLCBtVG8gPSBkb2MuY2xpcFBvcyhwb3MudG8pO1xuICAgICAgaWYgKGNtcChtRnJvbSwgbVRvKSkge1xuICAgICAgICB2YXIgc3ViTWFyayA9IG1hcmtUZXh0KGRvYywgbUZyb20sIG1UbywgbWFya2VyLnByaW1hcnksIG1hcmtlci5wcmltYXJ5LnR5cGUpO1xuICAgICAgICBtYXJrZXIubWFya2Vycy5wdXNoKHN1Yk1hcmspO1xuICAgICAgICBzdWJNYXJrLnBhcmVudCA9IG1hcmtlcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZXRhY2hTaGFyZWRNYXJrZXJzKG1hcmtlcnMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBtYXJrZXIgPSBtYXJrZXJzW2ldLCBsaW5rZWQgPSBbbWFya2VyLnByaW1hcnkuZG9jXTs7XG4gICAgICBsaW5rZWREb2NzKG1hcmtlci5wcmltYXJ5LmRvYywgZnVuY3Rpb24oZCkgeyBsaW5rZWQucHVzaChkKTsgfSk7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1hcmtlci5tYXJrZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBzdWJNYXJrZXIgPSBtYXJrZXIubWFya2Vyc1tqXTtcbiAgICAgICAgaWYgKGluZGV4T2YobGlua2VkLCBzdWJNYXJrZXIuZG9jKSA9PSAtMSkge1xuICAgICAgICAgIHN1Yk1hcmtlci5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgIG1hcmtlci5tYXJrZXJzLnNwbGljZShqLS0sIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gVEVYVE1BUktFUiBTUEFOU1xuXG4gIGZ1bmN0aW9uIE1hcmtlZFNwYW4obWFya2VyLCBmcm9tLCB0bykge1xuICAgIHRoaXMubWFya2VyID0gbWFya2VyO1xuICAgIHRoaXMuZnJvbSA9IGZyb207IHRoaXMudG8gPSB0bztcbiAgfVxuXG4gIC8vIFNlYXJjaCBhbiBhcnJheSBvZiBzcGFucyBmb3IgYSBzcGFuIG1hdGNoaW5nIHRoZSBnaXZlbiBtYXJrZXIuXG4gIGZ1bmN0aW9uIGdldE1hcmtlZFNwYW5Gb3Ioc3BhbnMsIG1hcmtlcikge1xuICAgIGlmIChzcGFucykgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHNwYW4gPSBzcGFuc1tpXTtcbiAgICAgIGlmIChzcGFuLm1hcmtlciA9PSBtYXJrZXIpIHJldHVybiBzcGFuO1xuICAgIH1cbiAgfVxuICAvLyBSZW1vdmUgYSBzcGFuIGZyb20gYW4gYXJyYXksIHJldHVybmluZyB1bmRlZmluZWQgaWYgbm8gc3BhbnMgYXJlXG4gIC8vIGxlZnQgKHdlIGRvbid0IHN0b3JlIGFycmF5cyBmb3IgbGluZXMgd2l0aG91dCBzcGFucykuXG4gIGZ1bmN0aW9uIHJlbW92ZU1hcmtlZFNwYW4oc3BhbnMsIHNwYW4pIHtcbiAgICBmb3IgKHZhciByLCBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKVxuICAgICAgaWYgKHNwYW5zW2ldICE9IHNwYW4pIChyIHx8IChyID0gW10pKS5wdXNoKHNwYW5zW2ldKTtcbiAgICByZXR1cm4gcjtcbiAgfVxuICAvLyBBZGQgYSBzcGFuIHRvIGEgbGluZS5cbiAgZnVuY3Rpb24gYWRkTWFya2VkU3BhbihsaW5lLCBzcGFuKSB7XG4gICAgbGluZS5tYXJrZWRTcGFucyA9IGxpbmUubWFya2VkU3BhbnMgPyBsaW5lLm1hcmtlZFNwYW5zLmNvbmNhdChbc3Bhbl0pIDogW3NwYW5dO1xuICAgIHNwYW4ubWFya2VyLmF0dGFjaExpbmUobGluZSk7XG4gIH1cblxuICAvLyBVc2VkIGZvciB0aGUgYWxnb3JpdGhtIHRoYXQgYWRqdXN0cyBtYXJrZXJzIGZvciBhIGNoYW5nZSBpbiB0aGVcbiAgLy8gZG9jdW1lbnQuIFRoZXNlIGZ1bmN0aW9ucyBjdXQgYW4gYXJyYXkgb2Ygc3BhbnMgYXQgYSBnaXZlblxuICAvLyBjaGFyYWN0ZXIgcG9zaXRpb24sIHJldHVybmluZyBhbiBhcnJheSBvZiByZW1haW5pbmcgY2h1bmtzIChvclxuICAvLyB1bmRlZmluZWQgaWYgbm90aGluZyByZW1haW5zKS5cbiAgZnVuY3Rpb24gbWFya2VkU3BhbnNCZWZvcmUob2xkLCBzdGFydENoLCBpc0luc2VydCkge1xuICAgIGlmIChvbGQpIGZvciAodmFyIGkgPSAwLCBudzsgaSA8IG9sZC5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHNwYW4gPSBvbGRbaV0sIG1hcmtlciA9IHNwYW4ubWFya2VyO1xuICAgICAgdmFyIHN0YXJ0c0JlZm9yZSA9IHNwYW4uZnJvbSA9PSBudWxsIHx8IChtYXJrZXIuaW5jbHVzaXZlTGVmdCA/IHNwYW4uZnJvbSA8PSBzdGFydENoIDogc3Bhbi5mcm9tIDwgc3RhcnRDaCk7XG4gICAgICBpZiAoc3RhcnRzQmVmb3JlIHx8IHNwYW4uZnJvbSA9PSBzdGFydENoICYmIG1hcmtlci50eXBlID09IFwiYm9va21hcmtcIiAmJiAoIWlzSW5zZXJ0IHx8ICFzcGFuLm1hcmtlci5pbnNlcnRMZWZ0KSkge1xuICAgICAgICB2YXIgZW5kc0FmdGVyID0gc3Bhbi50byA9PSBudWxsIHx8IChtYXJrZXIuaW5jbHVzaXZlUmlnaHQgPyBzcGFuLnRvID49IHN0YXJ0Q2ggOiBzcGFuLnRvID4gc3RhcnRDaCk7XG4gICAgICAgIChudyB8fCAobncgPSBbXSkpLnB1c2gobmV3IE1hcmtlZFNwYW4obWFya2VyLCBzcGFuLmZyb20sIGVuZHNBZnRlciA/IG51bGwgOiBzcGFuLnRvKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudztcbiAgfVxuICBmdW5jdGlvbiBtYXJrZWRTcGFuc0FmdGVyKG9sZCwgZW5kQ2gsIGlzSW5zZXJ0KSB7XG4gICAgaWYgKG9sZCkgZm9yICh2YXIgaSA9IDAsIG53OyBpIDwgb2xkLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgc3BhbiA9IG9sZFtpXSwgbWFya2VyID0gc3Bhbi5tYXJrZXI7XG4gICAgICB2YXIgZW5kc0FmdGVyID0gc3Bhbi50byA9PSBudWxsIHx8IChtYXJrZXIuaW5jbHVzaXZlUmlnaHQgPyBzcGFuLnRvID49IGVuZENoIDogc3Bhbi50byA+IGVuZENoKTtcbiAgICAgIGlmIChlbmRzQWZ0ZXIgfHwgc3Bhbi5mcm9tID09IGVuZENoICYmIG1hcmtlci50eXBlID09IFwiYm9va21hcmtcIiAmJiAoIWlzSW5zZXJ0IHx8IHNwYW4ubWFya2VyLmluc2VydExlZnQpKSB7XG4gICAgICAgIHZhciBzdGFydHNCZWZvcmUgPSBzcGFuLmZyb20gPT0gbnVsbCB8fCAobWFya2VyLmluY2x1c2l2ZUxlZnQgPyBzcGFuLmZyb20gPD0gZW5kQ2ggOiBzcGFuLmZyb20gPCBlbmRDaCk7XG4gICAgICAgIChudyB8fCAobncgPSBbXSkpLnB1c2gobmV3IE1hcmtlZFNwYW4obWFya2VyLCBzdGFydHNCZWZvcmUgPyBudWxsIDogc3Bhbi5mcm9tIC0gZW5kQ2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi50byA9PSBudWxsID8gbnVsbCA6IHNwYW4udG8gLSBlbmRDaCkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnc7XG4gIH1cblxuICAvLyBHaXZlbiBhIGNoYW5nZSBvYmplY3QsIGNvbXB1dGUgdGhlIG5ldyBzZXQgb2YgbWFya2VyIHNwYW5zIHRoYXRcbiAgLy8gY292ZXIgdGhlIGxpbmUgaW4gd2hpY2ggdGhlIGNoYW5nZSB0b29rIHBsYWNlLiBSZW1vdmVzIHNwYW5zXG4gIC8vIGVudGlyZWx5IHdpdGhpbiB0aGUgY2hhbmdlLCByZWNvbm5lY3RzIHNwYW5zIGJlbG9uZ2luZyB0byB0aGVcbiAgLy8gc2FtZSBtYXJrZXIgdGhhdCBhcHBlYXIgb24gYm90aCBzaWRlcyBvZiB0aGUgY2hhbmdlLCBhbmQgY3V0cyBvZmZcbiAgLy8gc3BhbnMgcGFydGlhbGx5IHdpdGhpbiB0aGUgY2hhbmdlLiBSZXR1cm5zIGFuIGFycmF5IG9mIHNwYW5cbiAgLy8gYXJyYXlzIHdpdGggb25lIGVsZW1lbnQgZm9yIGVhY2ggbGluZSBpbiAoYWZ0ZXIpIHRoZSBjaGFuZ2UuXG4gIGZ1bmN0aW9uIHN0cmV0Y2hTcGFuc092ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpIHtcbiAgICB2YXIgb2xkRmlyc3QgPSBpc0xpbmUoZG9jLCBjaGFuZ2UuZnJvbS5saW5lKSAmJiBnZXRMaW5lKGRvYywgY2hhbmdlLmZyb20ubGluZSkubWFya2VkU3BhbnM7XG4gICAgdmFyIG9sZExhc3QgPSBpc0xpbmUoZG9jLCBjaGFuZ2UudG8ubGluZSkgJiYgZ2V0TGluZShkb2MsIGNoYW5nZS50by5saW5lKS5tYXJrZWRTcGFucztcbiAgICBpZiAoIW9sZEZpcnN0ICYmICFvbGRMYXN0KSByZXR1cm4gbnVsbDtcblxuICAgIHZhciBzdGFydENoID0gY2hhbmdlLmZyb20uY2gsIGVuZENoID0gY2hhbmdlLnRvLmNoLCBpc0luc2VydCA9IGNtcChjaGFuZ2UuZnJvbSwgY2hhbmdlLnRvKSA9PSAwO1xuICAgIC8vIEdldCB0aGUgc3BhbnMgdGhhdCAnc3RpY2sgb3V0JyBvbiBib3RoIHNpZGVzXG4gICAgdmFyIGZpcnN0ID0gbWFya2VkU3BhbnNCZWZvcmUob2xkRmlyc3QsIHN0YXJ0Q2gsIGlzSW5zZXJ0KTtcbiAgICB2YXIgbGFzdCA9IG1hcmtlZFNwYW5zQWZ0ZXIob2xkTGFzdCwgZW5kQ2gsIGlzSW5zZXJ0KTtcblxuICAgIC8vIE5leHQsIG1lcmdlIHRob3NlIHR3byBlbmRzXG4gICAgdmFyIHNhbWVMaW5lID0gY2hhbmdlLnRleHQubGVuZ3RoID09IDEsIG9mZnNldCA9IGxzdChjaGFuZ2UudGV4dCkubGVuZ3RoICsgKHNhbWVMaW5lID8gc3RhcnRDaCA6IDApO1xuICAgIGlmIChmaXJzdCkge1xuICAgICAgLy8gRml4IHVwIC50byBwcm9wZXJ0aWVzIG9mIGZpcnN0XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpcnN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBzcGFuID0gZmlyc3RbaV07XG4gICAgICAgIGlmIChzcGFuLnRvID09IG51bGwpIHtcbiAgICAgICAgICB2YXIgZm91bmQgPSBnZXRNYXJrZWRTcGFuRm9yKGxhc3QsIHNwYW4ubWFya2VyKTtcbiAgICAgICAgICBpZiAoIWZvdW5kKSBzcGFuLnRvID0gc3RhcnRDaDtcbiAgICAgICAgICBlbHNlIGlmIChzYW1lTGluZSkgc3Bhbi50byA9IGZvdW5kLnRvID09IG51bGwgPyBudWxsIDogZm91bmQudG8gKyBvZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxhc3QpIHtcbiAgICAgIC8vIEZpeCB1cCAuZnJvbSBpbiBsYXN0IChvciBtb3ZlIHRoZW0gaW50byBmaXJzdCBpbiBjYXNlIG9mIHNhbWVMaW5lKVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBzcGFuID0gbGFzdFtpXTtcbiAgICAgICAgaWYgKHNwYW4udG8gIT0gbnVsbCkgc3Bhbi50byArPSBvZmZzZXQ7XG4gICAgICAgIGlmIChzcGFuLmZyb20gPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBmb3VuZCA9IGdldE1hcmtlZFNwYW5Gb3IoZmlyc3QsIHNwYW4ubWFya2VyKTtcbiAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICBzcGFuLmZyb20gPSBvZmZzZXQ7XG4gICAgICAgICAgICBpZiAoc2FtZUxpbmUpIChmaXJzdCB8fCAoZmlyc3QgPSBbXSkpLnB1c2goc3Bhbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNwYW4uZnJvbSArPSBvZmZzZXQ7XG4gICAgICAgICAgaWYgKHNhbWVMaW5lKSAoZmlyc3QgfHwgKGZpcnN0ID0gW10pKS5wdXNoKHNwYW4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE1ha2Ugc3VyZSB3ZSBkaWRuJ3QgY3JlYXRlIGFueSB6ZXJvLWxlbmd0aCBzcGFuc1xuICAgIGlmIChmaXJzdCkgZmlyc3QgPSBjbGVhckVtcHR5U3BhbnMoZmlyc3QpO1xuICAgIGlmIChsYXN0ICYmIGxhc3QgIT0gZmlyc3QpIGxhc3QgPSBjbGVhckVtcHR5U3BhbnMobGFzdCk7XG5cbiAgICB2YXIgbmV3TWFya2VycyA9IFtmaXJzdF07XG4gICAgaWYgKCFzYW1lTGluZSkge1xuICAgICAgLy8gRmlsbCBnYXAgd2l0aCB3aG9sZS1saW5lLXNwYW5zXG4gICAgICB2YXIgZ2FwID0gY2hhbmdlLnRleHQubGVuZ3RoIC0gMiwgZ2FwTWFya2VycztcbiAgICAgIGlmIChnYXAgPiAwICYmIGZpcnN0KVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpcnN0Lmxlbmd0aDsgKytpKVxuICAgICAgICAgIGlmIChmaXJzdFtpXS50byA9PSBudWxsKVxuICAgICAgICAgICAgKGdhcE1hcmtlcnMgfHwgKGdhcE1hcmtlcnMgPSBbXSkpLnB1c2gobmV3IE1hcmtlZFNwYW4oZmlyc3RbaV0ubWFya2VyLCBudWxsLCBudWxsKSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdhcDsgKytpKVxuICAgICAgICBuZXdNYXJrZXJzLnB1c2goZ2FwTWFya2Vycyk7XG4gICAgICBuZXdNYXJrZXJzLnB1c2gobGFzdCk7XG4gICAgfVxuICAgIHJldHVybiBuZXdNYXJrZXJzO1xuICB9XG5cbiAgLy8gUmVtb3ZlIHNwYW5zIHRoYXQgYXJlIGVtcHR5IGFuZCBkb24ndCBoYXZlIGEgY2xlYXJXaGVuRW1wdHlcbiAgLy8gb3B0aW9uIG9mIGZhbHNlLlxuICBmdW5jdGlvbiBjbGVhckVtcHR5U3BhbnMoc3BhbnMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgc3BhbiA9IHNwYW5zW2ldO1xuICAgICAgaWYgKHNwYW4uZnJvbSAhPSBudWxsICYmIHNwYW4uZnJvbSA9PSBzcGFuLnRvICYmIHNwYW4ubWFya2VyLmNsZWFyV2hlbkVtcHR5ICE9PSBmYWxzZSlcbiAgICAgICAgc3BhbnMuc3BsaWNlKGktLSwgMSk7XG4gICAgfVxuICAgIGlmICghc3BhbnMubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gc3BhbnM7XG4gIH1cblxuICAvLyBVc2VkIGZvciB1bi9yZS1kb2luZyBjaGFuZ2VzIGZyb20gdGhlIGhpc3RvcnkuIENvbWJpbmVzIHRoZVxuICAvLyByZXN1bHQgb2YgY29tcHV0aW5nIHRoZSBleGlzdGluZyBzcGFucyB3aXRoIHRoZSBzZXQgb2Ygc3BhbnMgdGhhdFxuICAvLyBleGlzdGVkIGluIHRoZSBoaXN0b3J5IChzbyB0aGF0IGRlbGV0aW5nIGFyb3VuZCBhIHNwYW4gYW5kIHRoZW5cbiAgLy8gdW5kb2luZyBicmluZ3MgYmFjayB0aGUgc3BhbikuXG4gIGZ1bmN0aW9uIG1lcmdlT2xkU3BhbnMoZG9jLCBjaGFuZ2UpIHtcbiAgICB2YXIgb2xkID0gZ2V0T2xkU3BhbnMoZG9jLCBjaGFuZ2UpO1xuICAgIHZhciBzdHJldGNoZWQgPSBzdHJldGNoU3BhbnNPdmVyQ2hhbmdlKGRvYywgY2hhbmdlKTtcbiAgICBpZiAoIW9sZCkgcmV0dXJuIHN0cmV0Y2hlZDtcbiAgICBpZiAoIXN0cmV0Y2hlZCkgcmV0dXJuIG9sZDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgb2xkQ3VyID0gb2xkW2ldLCBzdHJldGNoQ3VyID0gc3RyZXRjaGVkW2ldO1xuICAgICAgaWYgKG9sZEN1ciAmJiBzdHJldGNoQ3VyKSB7XG4gICAgICAgIHNwYW5zOiBmb3IgKHZhciBqID0gMDsgaiA8IHN0cmV0Y2hDdXIubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICB2YXIgc3BhbiA9IHN0cmV0Y2hDdXJbal07XG4gICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBvbGRDdXIubGVuZ3RoOyArK2spXG4gICAgICAgICAgICBpZiAob2xkQ3VyW2tdLm1hcmtlciA9PSBzcGFuLm1hcmtlcikgY29udGludWUgc3BhbnM7XG4gICAgICAgICAgb2xkQ3VyLnB1c2goc3Bhbik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyZXRjaEN1cikge1xuICAgICAgICBvbGRbaV0gPSBzdHJldGNoQ3VyO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2xkO1xuICB9XG5cbiAgLy8gVXNlZCB0byAnY2xpcCcgb3V0IHJlYWRPbmx5IHJhbmdlcyB3aGVuIG1ha2luZyBhIGNoYW5nZS5cbiAgZnVuY3Rpb24gcmVtb3ZlUmVhZE9ubHlSYW5nZXMoZG9jLCBmcm9tLCB0bykge1xuICAgIHZhciBtYXJrZXJzID0gbnVsbDtcbiAgICBkb2MuaXRlcihmcm9tLmxpbmUsIHRvLmxpbmUgKyAxLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpZiAobGluZS5tYXJrZWRTcGFucykgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lLm1hcmtlZFNwYW5zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBtYXJrID0gbGluZS5tYXJrZWRTcGFuc1tpXS5tYXJrZXI7XG4gICAgICAgIGlmIChtYXJrLnJlYWRPbmx5ICYmICghbWFya2VycyB8fCBpbmRleE9mKG1hcmtlcnMsIG1hcmspID09IC0xKSlcbiAgICAgICAgICAobWFya2VycyB8fCAobWFya2VycyA9IFtdKSkucHVzaChtYXJrKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIW1hcmtlcnMpIHJldHVybiBudWxsO1xuICAgIHZhciBwYXJ0cyA9IFt7ZnJvbTogZnJvbSwgdG86IHRvfV07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgbWsgPSBtYXJrZXJzW2ldLCBtID0gbWsuZmluZCgwKTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcGFydHMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgdmFyIHAgPSBwYXJ0c1tqXTtcbiAgICAgICAgaWYgKGNtcChwLnRvLCBtLmZyb20pIDwgMCB8fCBjbXAocC5mcm9tLCBtLnRvKSA+IDApIGNvbnRpbnVlO1xuICAgICAgICB2YXIgbmV3UGFydHMgPSBbaiwgMV0sIGRmcm9tID0gY21wKHAuZnJvbSwgbS5mcm9tKSwgZHRvID0gY21wKHAudG8sIG0udG8pO1xuICAgICAgICBpZiAoZGZyb20gPCAwIHx8ICFtay5pbmNsdXNpdmVMZWZ0ICYmICFkZnJvbSlcbiAgICAgICAgICBuZXdQYXJ0cy5wdXNoKHtmcm9tOiBwLmZyb20sIHRvOiBtLmZyb219KTtcbiAgICAgICAgaWYgKGR0byA+IDAgfHwgIW1rLmluY2x1c2l2ZVJpZ2h0ICYmICFkdG8pXG4gICAgICAgICAgbmV3UGFydHMucHVzaCh7ZnJvbTogbS50bywgdG86IHAudG99KTtcbiAgICAgICAgcGFydHMuc3BsaWNlLmFwcGx5KHBhcnRzLCBuZXdQYXJ0cyk7XG4gICAgICAgIGogKz0gbmV3UGFydHMubGVuZ3RoIC0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhcnRzO1xuICB9XG5cbiAgLy8gQ29ubmVjdCBvciBkaXNjb25uZWN0IHNwYW5zIGZyb20gYSBsaW5lLlxuICBmdW5jdGlvbiBkZXRhY2hNYXJrZWRTcGFucyhsaW5lKSB7XG4gICAgdmFyIHNwYW5zID0gbGluZS5tYXJrZWRTcGFucztcbiAgICBpZiAoIXNwYW5zKSByZXR1cm47XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSlcbiAgICAgIHNwYW5zW2ldLm1hcmtlci5kZXRhY2hMaW5lKGxpbmUpO1xuICAgIGxpbmUubWFya2VkU3BhbnMgPSBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIGF0dGFjaE1hcmtlZFNwYW5zKGxpbmUsIHNwYW5zKSB7XG4gICAgaWYgKCFzcGFucykgcmV0dXJuO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpXG4gICAgICBzcGFuc1tpXS5tYXJrZXIuYXR0YWNoTGluZShsaW5lKTtcbiAgICBsaW5lLm1hcmtlZFNwYW5zID0gc3BhbnM7XG4gIH1cblxuICAvLyBIZWxwZXJzIHVzZWQgd2hlbiBjb21wdXRpbmcgd2hpY2ggb3ZlcmxhcHBpbmcgY29sbGFwc2VkIHNwYW5cbiAgLy8gY291bnRzIGFzIHRoZSBsYXJnZXIgb25lLlxuICBmdW5jdGlvbiBleHRyYUxlZnQobWFya2VyKSB7IHJldHVybiBtYXJrZXIuaW5jbHVzaXZlTGVmdCA/IC0xIDogMDsgfVxuICBmdW5jdGlvbiBleHRyYVJpZ2h0KG1hcmtlcikgeyByZXR1cm4gbWFya2VyLmluY2x1c2l2ZVJpZ2h0ID8gMSA6IDA7IH1cblxuICAvLyBSZXR1cm5zIGEgbnVtYmVyIGluZGljYXRpbmcgd2hpY2ggb2YgdHdvIG92ZXJsYXBwaW5nIGNvbGxhcHNlZFxuICAvLyBzcGFucyBpcyBsYXJnZXIgKGFuZCB0aHVzIGluY2x1ZGVzIHRoZSBvdGhlcikuIEZhbGxzIGJhY2sgdG9cbiAgLy8gY29tcGFyaW5nIGlkcyB3aGVuIHRoZSBzcGFucyBjb3ZlciBleGFjdGx5IHRoZSBzYW1lIHJhbmdlLlxuICBmdW5jdGlvbiBjb21wYXJlQ29sbGFwc2VkTWFya2VycyhhLCBiKSB7XG4gICAgdmFyIGxlbkRpZmYgPSBhLmxpbmVzLmxlbmd0aCAtIGIubGluZXMubGVuZ3RoO1xuICAgIGlmIChsZW5EaWZmICE9IDApIHJldHVybiBsZW5EaWZmO1xuICAgIHZhciBhUG9zID0gYS5maW5kKCksIGJQb3MgPSBiLmZpbmQoKTtcbiAgICB2YXIgZnJvbUNtcCA9IGNtcChhUG9zLmZyb20sIGJQb3MuZnJvbSkgfHwgZXh0cmFMZWZ0KGEpIC0gZXh0cmFMZWZ0KGIpO1xuICAgIGlmIChmcm9tQ21wKSByZXR1cm4gLWZyb21DbXA7XG4gICAgdmFyIHRvQ21wID0gY21wKGFQb3MudG8sIGJQb3MudG8pIHx8IGV4dHJhUmlnaHQoYSkgLSBleHRyYVJpZ2h0KGIpO1xuICAgIGlmICh0b0NtcCkgcmV0dXJuIHRvQ21wO1xuICAgIHJldHVybiBiLmlkIC0gYS5pZDtcbiAgfVxuXG4gIC8vIEZpbmQgb3V0IHdoZXRoZXIgYSBsaW5lIGVuZHMgb3Igc3RhcnRzIGluIGEgY29sbGFwc2VkIHNwYW4uIElmXG4gIC8vIHNvLCByZXR1cm4gdGhlIG1hcmtlciBmb3IgdGhhdCBzcGFuLlxuICBmdW5jdGlvbiBjb2xsYXBzZWRTcGFuQXRTaWRlKGxpbmUsIHN0YXJ0KSB7XG4gICAgdmFyIHNwcyA9IHNhd0NvbGxhcHNlZFNwYW5zICYmIGxpbmUubWFya2VkU3BhbnMsIGZvdW5kO1xuICAgIGlmIChzcHMpIGZvciAodmFyIHNwLCBpID0gMDsgaSA8IHNwcy5sZW5ndGg7ICsraSkge1xuICAgICAgc3AgPSBzcHNbaV07XG4gICAgICBpZiAoc3AubWFya2VyLmNvbGxhcHNlZCAmJiAoc3RhcnQgPyBzcC5mcm9tIDogc3AudG8pID09IG51bGwgJiZcbiAgICAgICAgICAoIWZvdW5kIHx8IGNvbXBhcmVDb2xsYXBzZWRNYXJrZXJzKGZvdW5kLCBzcC5tYXJrZXIpIDwgMCkpXG4gICAgICAgIGZvdW5kID0gc3AubWFya2VyO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG4gIH1cbiAgZnVuY3Rpb24gY29sbGFwc2VkU3BhbkF0U3RhcnQobGluZSkgeyByZXR1cm4gY29sbGFwc2VkU3BhbkF0U2lkZShsaW5lLCB0cnVlKTsgfVxuICBmdW5jdGlvbiBjb2xsYXBzZWRTcGFuQXRFbmQobGluZSkgeyByZXR1cm4gY29sbGFwc2VkU3BhbkF0U2lkZShsaW5lLCBmYWxzZSk7IH1cblxuICAvLyBUZXN0IHdoZXRoZXIgdGhlcmUgZXhpc3RzIGEgY29sbGFwc2VkIHNwYW4gdGhhdCBwYXJ0aWFsbHlcbiAgLy8gb3ZlcmxhcHMgKGNvdmVycyB0aGUgc3RhcnQgb3IgZW5kLCBidXQgbm90IGJvdGgpIG9mIGEgbmV3IHNwYW4uXG4gIC8vIFN1Y2ggb3ZlcmxhcCBpcyBub3QgYWxsb3dlZC5cbiAgZnVuY3Rpb24gY29uZmxpY3RpbmdDb2xsYXBzZWRSYW5nZShkb2MsIGxpbmVObywgZnJvbSwgdG8sIG1hcmtlcikge1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIGxpbmVObyk7XG4gICAgdmFyIHNwcyA9IHNhd0NvbGxhcHNlZFNwYW5zICYmIGxpbmUubWFya2VkU3BhbnM7XG4gICAgaWYgKHNwcykgZm9yICh2YXIgaSA9IDA7IGkgPCBzcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzcCA9IHNwc1tpXTtcbiAgICAgIGlmICghc3AubWFya2VyLmNvbGxhcHNlZCkgY29udGludWU7XG4gICAgICB2YXIgZm91bmQgPSBzcC5tYXJrZXIuZmluZCgwKTtcbiAgICAgIHZhciBmcm9tQ21wID0gY21wKGZvdW5kLmZyb20sIGZyb20pIHx8IGV4dHJhTGVmdChzcC5tYXJrZXIpIC0gZXh0cmFMZWZ0KG1hcmtlcik7XG4gICAgICB2YXIgdG9DbXAgPSBjbXAoZm91bmQudG8sIHRvKSB8fCBleHRyYVJpZ2h0KHNwLm1hcmtlcikgLSBleHRyYVJpZ2h0KG1hcmtlcik7XG4gICAgICBpZiAoZnJvbUNtcCA+PSAwICYmIHRvQ21wIDw9IDAgfHwgZnJvbUNtcCA8PSAwICYmIHRvQ21wID49IDApIGNvbnRpbnVlO1xuICAgICAgaWYgKGZyb21DbXAgPD0gMCAmJiAoY21wKGZvdW5kLnRvLCBmcm9tKSA+IDAgfHwgKHNwLm1hcmtlci5pbmNsdXNpdmVSaWdodCAmJiBtYXJrZXIuaW5jbHVzaXZlTGVmdCkpIHx8XG4gICAgICAgICAgZnJvbUNtcCA+PSAwICYmIChjbXAoZm91bmQuZnJvbSwgdG8pIDwgMCB8fCAoc3AubWFya2VyLmluY2x1c2l2ZUxlZnQgJiYgbWFya2VyLmluY2x1c2l2ZVJpZ2h0KSkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEEgdmlzdWFsIGxpbmUgaXMgYSBsaW5lIGFzIGRyYXduIG9uIHRoZSBzY3JlZW4uIEZvbGRpbmcsIGZvclxuICAvLyBleGFtcGxlLCBjYW4gY2F1c2UgbXVsdGlwbGUgbG9naWNhbCBsaW5lcyB0byBhcHBlYXIgb24gdGhlIHNhbWVcbiAgLy8gdmlzdWFsIGxpbmUuIFRoaXMgZmluZHMgdGhlIHN0YXJ0IG9mIHRoZSB2aXN1YWwgbGluZSB0aGF0IHRoZVxuICAvLyBnaXZlbiBsaW5lIGlzIHBhcnQgb2YgKHVzdWFsbHkgdGhhdCBpcyB0aGUgbGluZSBpdHNlbGYpLlxuICBmdW5jdGlvbiB2aXN1YWxMaW5lKGxpbmUpIHtcbiAgICB2YXIgbWVyZ2VkO1xuICAgIHdoaWxlIChtZXJnZWQgPSBjb2xsYXBzZWRTcGFuQXRTdGFydChsaW5lKSlcbiAgICAgIGxpbmUgPSBtZXJnZWQuZmluZCgtMSwgdHJ1ZSkubGluZTtcbiAgICByZXR1cm4gbGluZTtcbiAgfVxuXG4gIC8vIFJldHVybnMgYW4gYXJyYXkgb2YgbG9naWNhbCBsaW5lcyB0aGF0IGNvbnRpbnVlIHRoZSB2aXN1YWwgbGluZVxuICAvLyBzdGFydGVkIGJ5IHRoZSBhcmd1bWVudCwgb3IgdW5kZWZpbmVkIGlmIHRoZXJlIGFyZSBubyBzdWNoIGxpbmVzLlxuICBmdW5jdGlvbiB2aXN1YWxMaW5lQ29udGludWVkKGxpbmUpIHtcbiAgICB2YXIgbWVyZ2VkLCBsaW5lcztcbiAgICB3aGlsZSAobWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0RW5kKGxpbmUpKSB7XG4gICAgICBsaW5lID0gbWVyZ2VkLmZpbmQoMSwgdHJ1ZSkubGluZTtcbiAgICAgIChsaW5lcyB8fCAobGluZXMgPSBbXSkpLnB1c2gobGluZSk7XG4gICAgfVxuICAgIHJldHVybiBsaW5lcztcbiAgfVxuXG4gIC8vIEdldCB0aGUgbGluZSBudW1iZXIgb2YgdGhlIHN0YXJ0IG9mIHRoZSB2aXN1YWwgbGluZSB0aGF0IHRoZVxuICAvLyBnaXZlbiBsaW5lIG51bWJlciBpcyBwYXJ0IG9mLlxuICBmdW5jdGlvbiB2aXN1YWxMaW5lTm8oZG9jLCBsaW5lTikge1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIGxpbmVOKSwgdmlzID0gdmlzdWFsTGluZShsaW5lKTtcbiAgICBpZiAobGluZSA9PSB2aXMpIHJldHVybiBsaW5lTjtcbiAgICByZXR1cm4gbGluZU5vKHZpcyk7XG4gIH1cbiAgLy8gR2V0IHRoZSBsaW5lIG51bWJlciBvZiB0aGUgc3RhcnQgb2YgdGhlIG5leHQgdmlzdWFsIGxpbmUgYWZ0ZXJcbiAgLy8gdGhlIGdpdmVuIGxpbmUuXG4gIGZ1bmN0aW9uIHZpc3VhbExpbmVFbmRObyhkb2MsIGxpbmVOKSB7XG4gICAgaWYgKGxpbmVOID4gZG9jLmxhc3RMaW5lKCkpIHJldHVybiBsaW5lTjtcbiAgICB2YXIgbGluZSA9IGdldExpbmUoZG9jLCBsaW5lTiksIG1lcmdlZDtcbiAgICBpZiAoIWxpbmVJc0hpZGRlbihkb2MsIGxpbmUpKSByZXR1cm4gbGluZU47XG4gICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdEVuZChsaW5lKSlcbiAgICAgIGxpbmUgPSBtZXJnZWQuZmluZCgxLCB0cnVlKS5saW5lO1xuICAgIHJldHVybiBsaW5lTm8obGluZSkgKyAxO1xuICB9XG5cbiAgLy8gQ29tcHV0ZSB3aGV0aGVyIGEgbGluZSBpcyBoaWRkZW4uIExpbmVzIGNvdW50IGFzIGhpZGRlbiB3aGVuIHRoZXlcbiAgLy8gYXJlIHBhcnQgb2YgYSB2aXN1YWwgbGluZSB0aGF0IHN0YXJ0cyB3aXRoIGFub3RoZXIgbGluZSwgb3Igd2hlblxuICAvLyB0aGV5IGFyZSBlbnRpcmVseSBjb3ZlcmVkIGJ5IGNvbGxhcHNlZCwgbm9uLXdpZGdldCBzcGFuLlxuICBmdW5jdGlvbiBsaW5lSXNIaWRkZW4oZG9jLCBsaW5lKSB7XG4gICAgdmFyIHNwcyA9IHNhd0NvbGxhcHNlZFNwYW5zICYmIGxpbmUubWFya2VkU3BhbnM7XG4gICAgaWYgKHNwcykgZm9yICh2YXIgc3AsIGkgPSAwOyBpIDwgc3BzLmxlbmd0aDsgKytpKSB7XG4gICAgICBzcCA9IHNwc1tpXTtcbiAgICAgIGlmICghc3AubWFya2VyLmNvbGxhcHNlZCkgY29udGludWU7XG4gICAgICBpZiAoc3AuZnJvbSA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChzcC5tYXJrZXIud2lkZ2V0Tm9kZSkgY29udGludWU7XG4gICAgICBpZiAoc3AuZnJvbSA9PSAwICYmIHNwLm1hcmtlci5pbmNsdXNpdmVMZWZ0ICYmIGxpbmVJc0hpZGRlbklubmVyKGRvYywgbGluZSwgc3ApKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbGluZUlzSGlkZGVuSW5uZXIoZG9jLCBsaW5lLCBzcGFuKSB7XG4gICAgaWYgKHNwYW4udG8gPT0gbnVsbCkge1xuICAgICAgdmFyIGVuZCA9IHNwYW4ubWFya2VyLmZpbmQoMSwgdHJ1ZSk7XG4gICAgICByZXR1cm4gbGluZUlzSGlkZGVuSW5uZXIoZG9jLCBlbmQubGluZSwgZ2V0TWFya2VkU3BhbkZvcihlbmQubGluZS5tYXJrZWRTcGFucywgc3Bhbi5tYXJrZXIpKTtcbiAgICB9XG4gICAgaWYgKHNwYW4ubWFya2VyLmluY2x1c2l2ZVJpZ2h0ICYmIHNwYW4udG8gPT0gbGluZS50ZXh0Lmxlbmd0aClcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGZvciAodmFyIHNwLCBpID0gMDsgaSA8IGxpbmUubWFya2VkU3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHNwID0gbGluZS5tYXJrZWRTcGFuc1tpXTtcbiAgICAgIGlmIChzcC5tYXJrZXIuY29sbGFwc2VkICYmICFzcC5tYXJrZXIud2lkZ2V0Tm9kZSAmJiBzcC5mcm9tID09IHNwYW4udG8gJiZcbiAgICAgICAgICAoc3AudG8gPT0gbnVsbCB8fCBzcC50byAhPSBzcGFuLmZyb20pICYmXG4gICAgICAgICAgKHNwLm1hcmtlci5pbmNsdXNpdmVMZWZ0IHx8IHNwYW4ubWFya2VyLmluY2x1c2l2ZVJpZ2h0KSAmJlxuICAgICAgICAgIGxpbmVJc0hpZGRlbklubmVyKGRvYywgbGluZSwgc3ApKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBMSU5FIFdJREdFVFNcblxuICAvLyBMaW5lIHdpZGdldHMgYXJlIGJsb2NrIGVsZW1lbnRzIGRpc3BsYXllZCBhYm92ZSBvciBiZWxvdyBhIGxpbmUuXG5cbiAgdmFyIExpbmVXaWRnZXQgPSBDb2RlTWlycm9yLkxpbmVXaWRnZXQgPSBmdW5jdGlvbihjbSwgbm9kZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zKSBmb3IgKHZhciBvcHQgaW4gb3B0aW9ucykgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0KSlcbiAgICAgIHRoaXNbb3B0XSA9IG9wdGlvbnNbb3B0XTtcbiAgICB0aGlzLmNtID0gY207XG4gICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgfTtcbiAgZXZlbnRNaXhpbihMaW5lV2lkZ2V0KTtcblxuICBmdW5jdGlvbiBhZGp1c3RTY3JvbGxXaGVuQWJvdmVWaXNpYmxlKGNtLCBsaW5lLCBkaWZmKSB7XG4gICAgaWYgKGhlaWdodEF0TGluZShsaW5lKSA8ICgoY20uY3VyT3AgJiYgY20uY3VyT3Auc2Nyb2xsVG9wKSB8fCBjbS5kb2Muc2Nyb2xsVG9wKSlcbiAgICAgIGFkZFRvU2Nyb2xsUG9zKGNtLCBudWxsLCBkaWZmKTtcbiAgfVxuXG4gIExpbmVXaWRnZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNtID0gdGhpcy5jbSwgd3MgPSB0aGlzLmxpbmUud2lkZ2V0cywgbGluZSA9IHRoaXMubGluZSwgbm8gPSBsaW5lTm8obGluZSk7XG4gICAgaWYgKG5vID09IG51bGwgfHwgIXdzKSByZXR1cm47XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3cy5sZW5ndGg7ICsraSkgaWYgKHdzW2ldID09IHRoaXMpIHdzLnNwbGljZShpLS0sIDEpO1xuICAgIGlmICghd3MubGVuZ3RoKSBsaW5lLndpZGdldHMgPSBudWxsO1xuICAgIHZhciBoZWlnaHQgPSB3aWRnZXRIZWlnaHQodGhpcyk7XG4gICAgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7XG4gICAgICBhZGp1c3RTY3JvbGxXaGVuQWJvdmVWaXNpYmxlKGNtLCBsaW5lLCAtaGVpZ2h0KTtcbiAgICAgIHJlZ0xpbmVDaGFuZ2UoY20sIG5vLCBcIndpZGdldFwiKTtcbiAgICAgIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgTWF0aC5tYXgoMCwgbGluZS5oZWlnaHQgLSBoZWlnaHQpKTtcbiAgICB9KTtcbiAgfTtcbiAgTGluZVdpZGdldC5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvbGRIID0gdGhpcy5oZWlnaHQsIGNtID0gdGhpcy5jbSwgbGluZSA9IHRoaXMubGluZTtcbiAgICB0aGlzLmhlaWdodCA9IG51bGw7XG4gICAgdmFyIGRpZmYgPSB3aWRnZXRIZWlnaHQodGhpcykgLSBvbGRIO1xuICAgIGlmICghZGlmZikgcmV0dXJuO1xuICAgIHJ1bkluT3AoY20sIGZ1bmN0aW9uKCkge1xuICAgICAgY20uY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgICAgYWRqdXN0U2Nyb2xsV2hlbkFib3ZlVmlzaWJsZShjbSwgbGluZSwgZGlmZik7XG4gICAgICB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIGxpbmUuaGVpZ2h0ICsgZGlmZik7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gd2lkZ2V0SGVpZ2h0KHdpZGdldCkge1xuICAgIGlmICh3aWRnZXQuaGVpZ2h0ICE9IG51bGwpIHJldHVybiB3aWRnZXQuaGVpZ2h0O1xuICAgIGlmICghY29udGFpbnMoZG9jdW1lbnQuYm9keSwgd2lkZ2V0Lm5vZGUpKSB7XG4gICAgICB2YXIgcGFyZW50U3R5bGUgPSBcInBvc2l0aW9uOiByZWxhdGl2ZTtcIjtcbiAgICAgIGlmICh3aWRnZXQuY292ZXJHdXR0ZXIpXG4gICAgICAgIHBhcmVudFN0eWxlICs9IFwibWFyZ2luLWxlZnQ6IC1cIiArIHdpZGdldC5jbS5nZXRHdXR0ZXJFbGVtZW50KCkub2Zmc2V0V2lkdGggKyBcInB4O1wiO1xuICAgICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQod2lkZ2V0LmNtLmRpc3BsYXkubWVhc3VyZSwgZWx0KFwiZGl2XCIsIFt3aWRnZXQubm9kZV0sIG51bGwsIHBhcmVudFN0eWxlKSk7XG4gICAgfVxuICAgIHJldHVybiB3aWRnZXQuaGVpZ2h0ID0gd2lkZ2V0Lm5vZGUub2Zmc2V0SGVpZ2h0O1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkTGluZVdpZGdldChjbSwgaGFuZGxlLCBub2RlLCBvcHRpb25zKSB7XG4gICAgdmFyIHdpZGdldCA9IG5ldyBMaW5lV2lkZ2V0KGNtLCBub2RlLCBvcHRpb25zKTtcbiAgICBpZiAod2lkZ2V0Lm5vSFNjcm9sbCkgY20uZGlzcGxheS5hbGlnbldpZGdldHMgPSB0cnVlO1xuICAgIGNoYW5nZUxpbmUoY20uZG9jLCBoYW5kbGUsIFwid2lkZ2V0XCIsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciB3aWRnZXRzID0gbGluZS53aWRnZXRzIHx8IChsaW5lLndpZGdldHMgPSBbXSk7XG4gICAgICBpZiAod2lkZ2V0Lmluc2VydEF0ID09IG51bGwpIHdpZGdldHMucHVzaCh3aWRnZXQpO1xuICAgICAgZWxzZSB3aWRnZXRzLnNwbGljZShNYXRoLm1pbih3aWRnZXRzLmxlbmd0aCAtIDEsIE1hdGgubWF4KDAsIHdpZGdldC5pbnNlcnRBdCkpLCAwLCB3aWRnZXQpO1xuICAgICAgd2lkZ2V0LmxpbmUgPSBsaW5lO1xuICAgICAgaWYgKCFsaW5lSXNIaWRkZW4oY20uZG9jLCBsaW5lKSkge1xuICAgICAgICB2YXIgYWJvdmVWaXNpYmxlID0gaGVpZ2h0QXRMaW5lKGxpbmUpIDwgY20uZG9jLnNjcm9sbFRvcDtcbiAgICAgICAgdXBkYXRlTGluZUhlaWdodChsaW5lLCBsaW5lLmhlaWdodCArIHdpZGdldEhlaWdodCh3aWRnZXQpKTtcbiAgICAgICAgaWYgKGFib3ZlVmlzaWJsZSkgYWRkVG9TY3JvbGxQb3MoY20sIG51bGwsIHdpZGdldC5oZWlnaHQpO1xuICAgICAgICBjbS5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gd2lkZ2V0O1xuICB9XG5cbiAgLy8gTElORSBEQVRBIFNUUlVDVFVSRVxuXG4gIC8vIExpbmUgb2JqZWN0cy4gVGhlc2UgaG9sZCBzdGF0ZSByZWxhdGVkIHRvIGEgbGluZSwgaW5jbHVkaW5nXG4gIC8vIGhpZ2hsaWdodGluZyBpbmZvICh0aGUgc3R5bGVzIGFycmF5KS5cbiAgdmFyIExpbmUgPSBDb2RlTWlycm9yLkxpbmUgPSBmdW5jdGlvbih0ZXh0LCBtYXJrZWRTcGFucywgZXN0aW1hdGVIZWlnaHQpIHtcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIGF0dGFjaE1hcmtlZFNwYW5zKHRoaXMsIG1hcmtlZFNwYW5zKTtcbiAgICB0aGlzLmhlaWdodCA9IGVzdGltYXRlSGVpZ2h0ID8gZXN0aW1hdGVIZWlnaHQodGhpcykgOiAxO1xuICB9O1xuICBldmVudE1peGluKExpbmUpO1xuICBMaW5lLnByb3RvdHlwZS5saW5lTm8gPSBmdW5jdGlvbigpIHsgcmV0dXJuIGxpbmVObyh0aGlzKTsgfTtcblxuICAvLyBDaGFuZ2UgdGhlIGNvbnRlbnQgKHRleHQsIG1hcmtlcnMpIG9mIGEgbGluZS4gQXV0b21hdGljYWxseVxuICAvLyBpbnZhbGlkYXRlcyBjYWNoZWQgaW5mb3JtYXRpb24gYW5kIHRyaWVzIHRvIHJlLWVzdGltYXRlIHRoZVxuICAvLyBsaW5lJ3MgaGVpZ2h0LlxuICBmdW5jdGlvbiB1cGRhdGVMaW5lKGxpbmUsIHRleHQsIG1hcmtlZFNwYW5zLCBlc3RpbWF0ZUhlaWdodCkge1xuICAgIGxpbmUudGV4dCA9IHRleHQ7XG4gICAgaWYgKGxpbmUuc3RhdGVBZnRlcikgbGluZS5zdGF0ZUFmdGVyID0gbnVsbDtcbiAgICBpZiAobGluZS5zdHlsZXMpIGxpbmUuc3R5bGVzID0gbnVsbDtcbiAgICBpZiAobGluZS5vcmRlciAhPSBudWxsKSBsaW5lLm9yZGVyID0gbnVsbDtcbiAgICBkZXRhY2hNYXJrZWRTcGFucyhsaW5lKTtcbiAgICBhdHRhY2hNYXJrZWRTcGFucyhsaW5lLCBtYXJrZWRTcGFucyk7XG4gICAgdmFyIGVzdEhlaWdodCA9IGVzdGltYXRlSGVpZ2h0ID8gZXN0aW1hdGVIZWlnaHQobGluZSkgOiAxO1xuICAgIGlmIChlc3RIZWlnaHQgIT0gbGluZS5oZWlnaHQpIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgZXN0SGVpZ2h0KTtcbiAgfVxuXG4gIC8vIERldGFjaCBhIGxpbmUgZnJvbSB0aGUgZG9jdW1lbnQgdHJlZSBhbmQgaXRzIG1hcmtlcnMuXG4gIGZ1bmN0aW9uIGNsZWFuVXBMaW5lKGxpbmUpIHtcbiAgICBsaW5lLnBhcmVudCA9IG51bGw7XG4gICAgZGV0YWNoTWFya2VkU3BhbnMobGluZSk7XG4gIH1cblxuICBmdW5jdGlvbiBleHRyYWN0TGluZUNsYXNzZXModHlwZSwgb3V0cHV0KSB7XG4gICAgaWYgKHR5cGUpIGZvciAoOzspIHtcbiAgICAgIHZhciBsaW5lQ2xhc3MgPSB0eXBlLm1hdGNoKC8oPzpefFxccyspbGluZS0oYmFja2dyb3VuZC0pPyhcXFMrKS8pO1xuICAgICAgaWYgKCFsaW5lQ2xhc3MpIGJyZWFrO1xuICAgICAgdHlwZSA9IHR5cGUuc2xpY2UoMCwgbGluZUNsYXNzLmluZGV4KSArIHR5cGUuc2xpY2UobGluZUNsYXNzLmluZGV4ICsgbGluZUNsYXNzWzBdLmxlbmd0aCk7XG4gICAgICB2YXIgcHJvcCA9IGxpbmVDbGFzc1sxXSA/IFwiYmdDbGFzc1wiIDogXCJ0ZXh0Q2xhc3NcIjtcbiAgICAgIGlmIChvdXRwdXRbcHJvcF0gPT0gbnVsbClcbiAgICAgICAgb3V0cHV0W3Byb3BdID0gbGluZUNsYXNzWzJdO1xuICAgICAgZWxzZSBpZiAoIShuZXcgUmVnRXhwKFwiKD86XnxcXHMpXCIgKyBsaW5lQ2xhc3NbMl0gKyBcIig/OiR8XFxzKVwiKSkudGVzdChvdXRwdXRbcHJvcF0pKVxuICAgICAgICBvdXRwdXRbcHJvcF0gKz0gXCIgXCIgKyBsaW5lQ2xhc3NbMl07XG4gICAgfVxuICAgIHJldHVybiB0eXBlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FsbEJsYW5rTGluZShtb2RlLCBzdGF0ZSkge1xuICAgIGlmIChtb2RlLmJsYW5rTGluZSkgcmV0dXJuIG1vZGUuYmxhbmtMaW5lKHN0YXRlKTtcbiAgICBpZiAoIW1vZGUuaW5uZXJNb2RlKSByZXR1cm47XG4gICAgdmFyIGlubmVyID0gQ29kZU1pcnJvci5pbm5lck1vZGUobW9kZSwgc3RhdGUpO1xuICAgIGlmIChpbm5lci5tb2RlLmJsYW5rTGluZSkgcmV0dXJuIGlubmVyLm1vZGUuYmxhbmtMaW5lKGlubmVyLnN0YXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRUb2tlbihtb2RlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICB2YXIgc3R5bGUgPSBtb2RlLnRva2VuKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgaWYgKHN0cmVhbS5wb3MgPiBzdHJlYW0uc3RhcnQpIHJldHVybiBzdHlsZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTW9kZSBcIiArIG1vZGUubmFtZSArIFwiIGZhaWxlZCB0byBhZHZhbmNlIHN0cmVhbS5cIik7XG4gIH1cblxuICAvLyBSdW4gdGhlIGdpdmVuIG1vZGUncyBwYXJzZXIgb3ZlciBhIGxpbmUsIGNhbGxpbmcgZiBmb3IgZWFjaCB0b2tlbi5cbiAgZnVuY3Rpb24gcnVuTW9kZShjbSwgdGV4dCwgbW9kZSwgc3RhdGUsIGYsIGxpbmVDbGFzc2VzLCBmb3JjZVRvRW5kKSB7XG4gICAgdmFyIGZsYXR0ZW5TcGFucyA9IG1vZGUuZmxhdHRlblNwYW5zO1xuICAgIGlmIChmbGF0dGVuU3BhbnMgPT0gbnVsbCkgZmxhdHRlblNwYW5zID0gY20ub3B0aW9ucy5mbGF0dGVuU3BhbnM7XG4gICAgdmFyIGN1clN0YXJ0ID0gMCwgY3VyU3R5bGUgPSBudWxsO1xuICAgIHZhciBzdHJlYW0gPSBuZXcgU3RyaW5nU3RyZWFtKHRleHQsIGNtLm9wdGlvbnMudGFiU2l6ZSksIHN0eWxlO1xuICAgIGlmICh0ZXh0ID09IFwiXCIpIGV4dHJhY3RMaW5lQ2xhc3NlcyhjYWxsQmxhbmtMaW5lKG1vZGUsIHN0YXRlKSwgbGluZUNsYXNzZXMpO1xuICAgIHdoaWxlICghc3RyZWFtLmVvbCgpKSB7XG4gICAgICBpZiAoc3RyZWFtLnBvcyA+IGNtLm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoKSB7XG4gICAgICAgIGZsYXR0ZW5TcGFucyA9IGZhbHNlO1xuICAgICAgICBpZiAoZm9yY2VUb0VuZCkgcHJvY2Vzc0xpbmUoY20sIHRleHQsIHN0YXRlLCBzdHJlYW0ucG9zKTtcbiAgICAgICAgc3RyZWFtLnBvcyA9IHRleHQubGVuZ3RoO1xuICAgICAgICBzdHlsZSA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZSA9IGV4dHJhY3RMaW5lQ2xhc3NlcyhyZWFkVG9rZW4obW9kZSwgc3RyZWFtLCBzdGF0ZSksIGxpbmVDbGFzc2VzKTtcbiAgICAgIH1cbiAgICAgIGlmIChjbS5vcHRpb25zLmFkZE1vZGVDbGFzcykge1xuICAgICAgICB2YXIgbU5hbWUgPSBDb2RlTWlycm9yLmlubmVyTW9kZShtb2RlLCBzdGF0ZSkubW9kZS5uYW1lO1xuICAgICAgICBpZiAobU5hbWUpIHN0eWxlID0gXCJtLVwiICsgKHN0eWxlID8gbU5hbWUgKyBcIiBcIiArIHN0eWxlIDogbU5hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKCFmbGF0dGVuU3BhbnMgfHwgY3VyU3R5bGUgIT0gc3R5bGUpIHtcbiAgICAgICAgaWYgKGN1clN0YXJ0IDwgc3RyZWFtLnN0YXJ0KSBmKHN0cmVhbS5zdGFydCwgY3VyU3R5bGUpO1xuICAgICAgICBjdXJTdGFydCA9IHN0cmVhbS5zdGFydDsgY3VyU3R5bGUgPSBzdHlsZTtcbiAgICAgIH1cbiAgICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3M7XG4gICAgfVxuICAgIHdoaWxlIChjdXJTdGFydCA8IHN0cmVhbS5wb3MpIHtcbiAgICAgIC8vIFdlYmtpdCBzZWVtcyB0byByZWZ1c2UgdG8gcmVuZGVyIHRleHQgbm9kZXMgbG9uZ2VyIHRoYW4gNTc0NDQgY2hhcmFjdGVyc1xuICAgICAgdmFyIHBvcyA9IE1hdGgubWluKHN0cmVhbS5wb3MsIGN1clN0YXJ0ICsgNTAwMDApO1xuICAgICAgZihwb3MsIGN1clN0eWxlKTtcbiAgICAgIGN1clN0YXJ0ID0gcG9zO1xuICAgIH1cbiAgfVxuXG4gIC8vIENvbXB1dGUgYSBzdHlsZSBhcnJheSAoYW4gYXJyYXkgc3RhcnRpbmcgd2l0aCBhIG1vZGUgZ2VuZXJhdGlvblxuICAvLyAtLSBmb3IgaW52YWxpZGF0aW9uIC0tIGZvbGxvd2VkIGJ5IHBhaXJzIG9mIGVuZCBwb3NpdGlvbnMgYW5kXG4gIC8vIHN0eWxlIHN0cmluZ3MpLCB3aGljaCBpcyB1c2VkIHRvIGhpZ2hsaWdodCB0aGUgdG9rZW5zIG9uIHRoZVxuICAvLyBsaW5lLlxuICBmdW5jdGlvbiBoaWdobGlnaHRMaW5lKGNtLCBsaW5lLCBzdGF0ZSwgZm9yY2VUb0VuZCkge1xuICAgIC8vIEEgc3R5bGVzIGFycmF5IGFsd2F5cyBzdGFydHMgd2l0aCBhIG51bWJlciBpZGVudGlmeWluZyB0aGVcbiAgICAvLyBtb2RlL292ZXJsYXlzIHRoYXQgaXQgaXMgYmFzZWQgb24gKGZvciBlYXN5IGludmFsaWRhdGlvbikuXG4gICAgdmFyIHN0ID0gW2NtLnN0YXRlLm1vZGVHZW5dLCBsaW5lQ2xhc3NlcyA9IHt9O1xuICAgIC8vIENvbXB1dGUgdGhlIGJhc2UgYXJyYXkgb2Ygc3R5bGVzXG4gICAgcnVuTW9kZShjbSwgbGluZS50ZXh0LCBjbS5kb2MubW9kZSwgc3RhdGUsIGZ1bmN0aW9uKGVuZCwgc3R5bGUpIHtcbiAgICAgIHN0LnB1c2goZW5kLCBzdHlsZSk7XG4gICAgfSwgbGluZUNsYXNzZXMsIGZvcmNlVG9FbmQpO1xuXG4gICAgLy8gUnVuIG92ZXJsYXlzLCBhZGp1c3Qgc3R5bGUgYXJyYXkuXG4gICAgZm9yICh2YXIgbyA9IDA7IG8gPCBjbS5zdGF0ZS5vdmVybGF5cy5sZW5ndGg7ICsrbykge1xuICAgICAgdmFyIG92ZXJsYXkgPSBjbS5zdGF0ZS5vdmVybGF5c1tvXSwgaSA9IDEsIGF0ID0gMDtcbiAgICAgIHJ1bk1vZGUoY20sIGxpbmUudGV4dCwgb3ZlcmxheS5tb2RlLCB0cnVlLCBmdW5jdGlvbihlbmQsIHN0eWxlKSB7XG4gICAgICAgIHZhciBzdGFydCA9IGk7XG4gICAgICAgIC8vIEVuc3VyZSB0aGVyZSdzIGEgdG9rZW4gZW5kIGF0IHRoZSBjdXJyZW50IHBvc2l0aW9uLCBhbmQgdGhhdCBpIHBvaW50cyBhdCBpdFxuICAgICAgICB3aGlsZSAoYXQgPCBlbmQpIHtcbiAgICAgICAgICB2YXIgaV9lbmQgPSBzdFtpXTtcbiAgICAgICAgICBpZiAoaV9lbmQgPiBlbmQpXG4gICAgICAgICAgICBzdC5zcGxpY2UoaSwgMSwgZW5kLCBzdFtpKzFdLCBpX2VuZCk7XG4gICAgICAgICAgaSArPSAyO1xuICAgICAgICAgIGF0ID0gTWF0aC5taW4oZW5kLCBpX2VuZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdHlsZSkgcmV0dXJuO1xuICAgICAgICBpZiAob3ZlcmxheS5vcGFxdWUpIHtcbiAgICAgICAgICBzdC5zcGxpY2Uoc3RhcnQsIGkgLSBzdGFydCwgZW5kLCBcImNtLW92ZXJsYXkgXCIgKyBzdHlsZSk7XG4gICAgICAgICAgaSA9IHN0YXJ0ICsgMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKDsgc3RhcnQgPCBpOyBzdGFydCArPSAyKSB7XG4gICAgICAgICAgICB2YXIgY3VyID0gc3Rbc3RhcnQrMV07XG4gICAgICAgICAgICBzdFtzdGFydCsxXSA9IChjdXIgPyBjdXIgKyBcIiBcIiA6IFwiXCIpICsgXCJjbS1vdmVybGF5IFwiICsgc3R5bGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBsaW5lQ2xhc3Nlcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtzdHlsZXM6IHN0LCBjbGFzc2VzOiBsaW5lQ2xhc3Nlcy5iZ0NsYXNzIHx8IGxpbmVDbGFzc2VzLnRleHRDbGFzcyA/IGxpbmVDbGFzc2VzIDogbnVsbH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRMaW5lU3R5bGVzKGNtLCBsaW5lKSB7XG4gICAgaWYgKCFsaW5lLnN0eWxlcyB8fCBsaW5lLnN0eWxlc1swXSAhPSBjbS5zdGF0ZS5tb2RlR2VuKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gaGlnaGxpZ2h0TGluZShjbSwgbGluZSwgbGluZS5zdGF0ZUFmdGVyID0gZ2V0U3RhdGVCZWZvcmUoY20sIGxpbmVObyhsaW5lKSkpO1xuICAgICAgbGluZS5zdHlsZXMgPSByZXN1bHQuc3R5bGVzO1xuICAgICAgaWYgKHJlc3VsdC5jbGFzc2VzKSBsaW5lLnN0eWxlQ2xhc3NlcyA9IHJlc3VsdC5jbGFzc2VzO1xuICAgICAgZWxzZSBpZiAobGluZS5zdHlsZUNsYXNzZXMpIGxpbmUuc3R5bGVDbGFzc2VzID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmUuc3R5bGVzO1xuICB9XG5cbiAgLy8gTGlnaHR3ZWlnaHQgZm9ybSBvZiBoaWdobGlnaHQgLS0gcHJvY2VlZCBvdmVyIHRoaXMgbGluZSBhbmRcbiAgLy8gdXBkYXRlIHN0YXRlLCBidXQgZG9uJ3Qgc2F2ZSBhIHN0eWxlIGFycmF5LiBVc2VkIGZvciBsaW5lcyB0aGF0XG4gIC8vIGFyZW4ndCBjdXJyZW50bHkgdmlzaWJsZS5cbiAgZnVuY3Rpb24gcHJvY2Vzc0xpbmUoY20sIHRleHQsIHN0YXRlLCBzdGFydEF0KSB7XG4gICAgdmFyIG1vZGUgPSBjbS5kb2MubW9kZTtcbiAgICB2YXIgc3RyZWFtID0gbmV3IFN0cmluZ1N0cmVhbSh0ZXh0LCBjbS5vcHRpb25zLnRhYlNpemUpO1xuICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3MgPSBzdGFydEF0IHx8IDA7XG4gICAgaWYgKHRleHQgPT0gXCJcIikgY2FsbEJsYW5rTGluZShtb2RlLCBzdGF0ZSk7XG4gICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkgJiYgc3RyZWFtLnBvcyA8PSBjbS5vcHRpb25zLm1heEhpZ2hsaWdodExlbmd0aCkge1xuICAgICAgcmVhZFRva2VuKG1vZGUsIHN0cmVhbSwgc3RhdGUpO1xuICAgICAgc3RyZWFtLnN0YXJ0ID0gc3RyZWFtLnBvcztcbiAgICB9XG4gIH1cblxuICAvLyBDb252ZXJ0IGEgc3R5bGUgYXMgcmV0dXJuZWQgYnkgYSBtb2RlIChlaXRoZXIgbnVsbCwgb3IgYSBzdHJpbmdcbiAgLy8gY29udGFpbmluZyBvbmUgb3IgbW9yZSBzdHlsZXMpIHRvIGEgQ1NTIHN0eWxlLiBUaGlzIGlzIGNhY2hlZCxcbiAgLy8gYW5kIGFsc28gbG9va3MgZm9yIGxpbmUtd2lkZSBzdHlsZXMuXG4gIHZhciBzdHlsZVRvQ2xhc3NDYWNoZSA9IHt9LCBzdHlsZVRvQ2xhc3NDYWNoZVdpdGhNb2RlID0ge307XG4gIGZ1bmN0aW9uIGludGVycHJldFRva2VuU3R5bGUoc3R5bGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXN0eWxlIHx8IC9eXFxzKiQvLnRlc3Qoc3R5bGUpKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgY2FjaGUgPSBvcHRpb25zLmFkZE1vZGVDbGFzcyA/IHN0eWxlVG9DbGFzc0NhY2hlV2l0aE1vZGUgOiBzdHlsZVRvQ2xhc3NDYWNoZTtcbiAgICByZXR1cm4gY2FjaGVbc3R5bGVdIHx8XG4gICAgICAoY2FjaGVbc3R5bGVdID0gc3R5bGUucmVwbGFjZSgvXFxTKy9nLCBcImNtLSQmXCIpKTtcbiAgfVxuXG4gIC8vIFJlbmRlciB0aGUgRE9NIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0ZXh0IG9mIGEgbGluZS4gQWxzbyBidWlsZHNcbiAgLy8gdXAgYSAnbGluZSBtYXAnLCB3aGljaCBwb2ludHMgYXQgdGhlIERPTSBub2RlcyB0aGF0IHJlcHJlc2VudFxuICAvLyBzcGVjaWZpYyBzdHJldGNoZXMgb2YgdGV4dCwgYW5kIGlzIHVzZWQgYnkgdGhlIG1lYXN1cmluZyBjb2RlLlxuICAvLyBUaGUgcmV0dXJuZWQgb2JqZWN0IGNvbnRhaW5zIHRoZSBET00gbm9kZSwgdGhpcyBtYXAsIGFuZFxuICAvLyBpbmZvcm1hdGlvbiBhYm91dCBsaW5lLXdpZGUgc3R5bGVzIHRoYXQgd2VyZSBzZXQgYnkgdGhlIG1vZGUuXG4gIGZ1bmN0aW9uIGJ1aWxkTGluZUNvbnRlbnQoY20sIGxpbmVWaWV3KSB7XG4gICAgLy8gVGhlIHBhZGRpbmctcmlnaHQgZm9yY2VzIHRoZSBlbGVtZW50IHRvIGhhdmUgYSAnYm9yZGVyJywgd2hpY2hcbiAgICAvLyBpcyBuZWVkZWQgb24gV2Via2l0IHRvIGJlIGFibGUgdG8gZ2V0IGxpbmUtbGV2ZWwgYm91bmRpbmdcbiAgICAvLyByZWN0YW5nbGVzIGZvciBpdCAoaW4gbWVhc3VyZUNoYXIpLlxuICAgIHZhciBjb250ZW50ID0gZWx0KFwic3BhblwiLCBudWxsLCBudWxsLCB3ZWJraXQgPyBcInBhZGRpbmctcmlnaHQ6IC4xcHhcIiA6IG51bGwpO1xuICAgIHZhciBidWlsZGVyID0ge3ByZTogZWx0KFwicHJlXCIsIFtjb250ZW50XSksIGNvbnRlbnQ6IGNvbnRlbnQsIGNvbDogMCwgcG9zOiAwLCBjbTogY219O1xuICAgIGxpbmVWaWV3Lm1lYXN1cmUgPSB7fTtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUgbG9naWNhbCBsaW5lcyB0aGF0IG1ha2UgdXAgdGhpcyB2aXN1YWwgbGluZS5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSAobGluZVZpZXcucmVzdCA/IGxpbmVWaWV3LnJlc3QubGVuZ3RoIDogMCk7IGkrKykge1xuICAgICAgdmFyIGxpbmUgPSBpID8gbGluZVZpZXcucmVzdFtpIC0gMV0gOiBsaW5lVmlldy5saW5lLCBvcmRlcjtcbiAgICAgIGJ1aWxkZXIucG9zID0gMDtcbiAgICAgIGJ1aWxkZXIuYWRkVG9rZW4gPSBidWlsZFRva2VuO1xuICAgICAgLy8gT3B0aW9uYWxseSB3aXJlIGluIHNvbWUgaGFja3MgaW50byB0aGUgdG9rZW4tcmVuZGVyaW5nXG4gICAgICAvLyBhbGdvcml0aG0sIHRvIGRlYWwgd2l0aCBicm93c2VyIHF1aXJrcy5cbiAgICAgIGlmICgoaWUgfHwgd2Via2l0KSAmJiBjbS5nZXRPcHRpb24oXCJsaW5lV3JhcHBpbmdcIikpXG4gICAgICAgIGJ1aWxkZXIuYWRkVG9rZW4gPSBidWlsZFRva2VuU3BsaXRTcGFjZXMoYnVpbGRlci5hZGRUb2tlbik7XG4gICAgICBpZiAoaGFzQmFkQmlkaVJlY3RzKGNtLmRpc3BsYXkubWVhc3VyZSkgJiYgKG9yZGVyID0gZ2V0T3JkZXIobGluZSkpKVxuICAgICAgICBidWlsZGVyLmFkZFRva2VuID0gYnVpbGRUb2tlbkJhZEJpZGkoYnVpbGRlci5hZGRUb2tlbiwgb3JkZXIpO1xuICAgICAgYnVpbGRlci5tYXAgPSBbXTtcbiAgICAgIGluc2VydExpbmVDb250ZW50KGxpbmUsIGJ1aWxkZXIsIGdldExpbmVTdHlsZXMoY20sIGxpbmUpKTtcbiAgICAgIGlmIChsaW5lLnN0eWxlQ2xhc3Nlcykge1xuICAgICAgICBpZiAobGluZS5zdHlsZUNsYXNzZXMuYmdDbGFzcylcbiAgICAgICAgICBidWlsZGVyLmJnQ2xhc3MgPSBqb2luQ2xhc3NlcyhsaW5lLnN0eWxlQ2xhc3Nlcy5iZ0NsYXNzLCBidWlsZGVyLmJnQ2xhc3MgfHwgXCJcIik7XG4gICAgICAgIGlmIChsaW5lLnN0eWxlQ2xhc3Nlcy50ZXh0Q2xhc3MpXG4gICAgICAgICAgYnVpbGRlci50ZXh0Q2xhc3MgPSBqb2luQ2xhc3NlcyhsaW5lLnN0eWxlQ2xhc3Nlcy50ZXh0Q2xhc3MsIGJ1aWxkZXIudGV4dENsYXNzIHx8IFwiXCIpO1xuICAgICAgfVxuXG4gICAgICAvLyBFbnN1cmUgYXQgbGVhc3QgYSBzaW5nbGUgbm9kZSBpcyBwcmVzZW50LCBmb3IgbWVhc3VyaW5nLlxuICAgICAgaWYgKGJ1aWxkZXIubWFwLmxlbmd0aCA9PSAwKVxuICAgICAgICBidWlsZGVyLm1hcC5wdXNoKDAsIDAsIGJ1aWxkZXIuY29udGVudC5hcHBlbmRDaGlsZCh6ZXJvV2lkdGhFbGVtZW50KGNtLmRpc3BsYXkubWVhc3VyZSkpKTtcblxuICAgICAgLy8gU3RvcmUgdGhlIG1hcCBhbmQgYSBjYWNoZSBvYmplY3QgZm9yIHRoZSBjdXJyZW50IGxvZ2ljYWwgbGluZVxuICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICBsaW5lVmlldy5tZWFzdXJlLm1hcCA9IGJ1aWxkZXIubWFwO1xuICAgICAgICBsaW5lVmlldy5tZWFzdXJlLmNhY2hlID0ge307XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAobGluZVZpZXcubWVhc3VyZS5tYXBzIHx8IChsaW5lVmlldy5tZWFzdXJlLm1hcHMgPSBbXSkpLnB1c2goYnVpbGRlci5tYXApO1xuICAgICAgICAobGluZVZpZXcubWVhc3VyZS5jYWNoZXMgfHwgKGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGVzID0gW10pKS5wdXNoKHt9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzaWduYWwoY20sIFwicmVuZGVyTGluZVwiLCBjbSwgbGluZVZpZXcubGluZSwgYnVpbGRlci5wcmUpO1xuICAgIGlmIChidWlsZGVyLnByZS5jbGFzc05hbWUpXG4gICAgICBidWlsZGVyLnRleHRDbGFzcyA9IGpvaW5DbGFzc2VzKGJ1aWxkZXIucHJlLmNsYXNzTmFtZSwgYnVpbGRlci50ZXh0Q2xhc3MgfHwgXCJcIik7XG4gICAgcmV0dXJuIGJ1aWxkZXI7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0U3BlY2lhbENoYXJQbGFjZWhvbGRlcihjaCkge1xuICAgIHZhciB0b2tlbiA9IGVsdChcInNwYW5cIiwgXCJcXHUyMDIyXCIsIFwiY20taW52YWxpZGNoYXJcIik7XG4gICAgdG9rZW4udGl0bGUgPSBcIlxcXFx1XCIgKyBjaC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KTtcbiAgICByZXR1cm4gdG9rZW47XG4gIH1cblxuICAvLyBCdWlsZCB1cCB0aGUgRE9NIHJlcHJlc2VudGF0aW9uIGZvciBhIHNpbmdsZSB0b2tlbiwgYW5kIGFkZCBpdCB0b1xuICAvLyB0aGUgbGluZSBtYXAuIFRha2VzIGNhcmUgdG8gcmVuZGVyIHNwZWNpYWwgY2hhcmFjdGVycyBzZXBhcmF0ZWx5LlxuICBmdW5jdGlvbiBidWlsZFRva2VuKGJ1aWxkZXIsIHRleHQsIHN0eWxlLCBzdGFydFN0eWxlLCBlbmRTdHlsZSwgdGl0bGUpIHtcbiAgICBpZiAoIXRleHQpIHJldHVybjtcbiAgICB2YXIgc3BlY2lhbCA9IGJ1aWxkZXIuY20ub3B0aW9ucy5zcGVjaWFsQ2hhcnMsIG11c3RXcmFwID0gZmFsc2U7XG4gICAgaWYgKCFzcGVjaWFsLnRlc3QodGV4dCkpIHtcbiAgICAgIGJ1aWxkZXIuY29sICs9IHRleHQubGVuZ3RoO1xuICAgICAgdmFyIGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KTtcbiAgICAgIGJ1aWxkZXIubWFwLnB1c2goYnVpbGRlci5wb3MsIGJ1aWxkZXIucG9zICsgdGV4dC5sZW5ndGgsIGNvbnRlbnQpO1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA5KSBtdXN0V3JhcCA9IHRydWU7XG4gICAgICBidWlsZGVyLnBvcyArPSB0ZXh0Lmxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksIHBvcyA9IDA7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBzcGVjaWFsLmxhc3RJbmRleCA9IHBvcztcbiAgICAgICAgdmFyIG0gPSBzcGVjaWFsLmV4ZWModGV4dCk7XG4gICAgICAgIHZhciBza2lwcGVkID0gbSA/IG0uaW5kZXggLSBwb3MgOiB0ZXh0Lmxlbmd0aCAtIHBvcztcbiAgICAgICAgaWYgKHNraXBwZWQpIHtcbiAgICAgICAgICB2YXIgdHh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dC5zbGljZShwb3MsIHBvcyArIHNraXBwZWQpKTtcbiAgICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDkpIGNvbnRlbnQuYXBwZW5kQ2hpbGQoZWx0KFwic3BhblwiLCBbdHh0XSkpO1xuICAgICAgICAgIGVsc2UgY29udGVudC5hcHBlbmRDaGlsZCh0eHQpO1xuICAgICAgICAgIGJ1aWxkZXIubWFwLnB1c2goYnVpbGRlci5wb3MsIGJ1aWxkZXIucG9zICsgc2tpcHBlZCwgdHh0KTtcbiAgICAgICAgICBidWlsZGVyLmNvbCArPSBza2lwcGVkO1xuICAgICAgICAgIGJ1aWxkZXIucG9zICs9IHNraXBwZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtKSBicmVhaztcbiAgICAgICAgcG9zICs9IHNraXBwZWQgKyAxO1xuICAgICAgICBpZiAobVswXSA9PSBcIlxcdFwiKSB7XG4gICAgICAgICAgdmFyIHRhYlNpemUgPSBidWlsZGVyLmNtLm9wdGlvbnMudGFiU2l6ZSwgdGFiV2lkdGggPSB0YWJTaXplIC0gYnVpbGRlci5jb2wgJSB0YWJTaXplO1xuICAgICAgICAgIHZhciB0eHQgPSBjb250ZW50LmFwcGVuZENoaWxkKGVsdChcInNwYW5cIiwgc3BhY2VTdHIodGFiV2lkdGgpLCBcImNtLXRhYlwiKSk7XG4gICAgICAgICAgYnVpbGRlci5jb2wgKz0gdGFiV2lkdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHR4dCA9IGJ1aWxkZXIuY20ub3B0aW9ucy5zcGVjaWFsQ2hhclBsYWNlaG9sZGVyKG1bMF0pO1xuICAgICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSkgY29udGVudC5hcHBlbmRDaGlsZChlbHQoXCJzcGFuXCIsIFt0eHRdKSk7XG4gICAgICAgICAgZWxzZSBjb250ZW50LmFwcGVuZENoaWxkKHR4dCk7XG4gICAgICAgICAgYnVpbGRlci5jb2wgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBidWlsZGVyLm1hcC5wdXNoKGJ1aWxkZXIucG9zLCBidWlsZGVyLnBvcyArIDEsIHR4dCk7XG4gICAgICAgIGJ1aWxkZXIucG9zKys7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdHlsZSB8fCBzdGFydFN0eWxlIHx8IGVuZFN0eWxlIHx8IG11c3RXcmFwKSB7XG4gICAgICB2YXIgZnVsbFN0eWxlID0gc3R5bGUgfHwgXCJcIjtcbiAgICAgIGlmIChzdGFydFN0eWxlKSBmdWxsU3R5bGUgKz0gc3RhcnRTdHlsZTtcbiAgICAgIGlmIChlbmRTdHlsZSkgZnVsbFN0eWxlICs9IGVuZFN0eWxlO1xuICAgICAgdmFyIHRva2VuID0gZWx0KFwic3BhblwiLCBbY29udGVudF0sIGZ1bGxTdHlsZSk7XG4gICAgICBpZiAodGl0bGUpIHRva2VuLnRpdGxlID0gdGl0bGU7XG4gICAgICByZXR1cm4gYnVpbGRlci5jb250ZW50LmFwcGVuZENoaWxkKHRva2VuKTtcbiAgICB9XG4gICAgYnVpbGRlci5jb250ZW50LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gYnVpbGRUb2tlblNwbGl0U3BhY2VzKGlubmVyKSB7XG4gICAgZnVuY3Rpb24gc3BsaXQob2xkKSB7XG4gICAgICB2YXIgb3V0ID0gXCIgXCI7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGggLSAyOyArK2kpIG91dCArPSBpICUgMiA/IFwiIFwiIDogXCJcXHUwMGEwXCI7XG4gICAgICBvdXQgKz0gXCIgXCI7XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oYnVpbGRlciwgdGV4dCwgc3R5bGUsIHN0YXJ0U3R5bGUsIGVuZFN0eWxlLCB0aXRsZSkge1xuICAgICAgaW5uZXIoYnVpbGRlciwgdGV4dC5yZXBsYWNlKC8gezMsfS9nLCBzcGxpdCksIHN0eWxlLCBzdGFydFN0eWxlLCBlbmRTdHlsZSwgdGl0bGUpO1xuICAgIH07XG4gIH1cblxuICAvLyBXb3JrIGFyb3VuZCBub25zZW5zZSBkaW1lbnNpb25zIGJlaW5nIHJlcG9ydGVkIGZvciBzdHJldGNoZXMgb2ZcbiAgLy8gcmlnaHQtdG8tbGVmdCB0ZXh0LlxuICBmdW5jdGlvbiBidWlsZFRva2VuQmFkQmlkaShpbm5lciwgb3JkZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYnVpbGRlciwgdGV4dCwgc3R5bGUsIHN0YXJ0U3R5bGUsIGVuZFN0eWxlLCB0aXRsZSkge1xuICAgICAgc3R5bGUgPSBzdHlsZSA/IHN0eWxlICsgXCIgY20tZm9yY2UtYm9yZGVyXCIgOiBcImNtLWZvcmNlLWJvcmRlclwiO1xuICAgICAgdmFyIHN0YXJ0ID0gYnVpbGRlci5wb3MsIGVuZCA9IHN0YXJ0ICsgdGV4dC5sZW5ndGg7XG4gICAgICBmb3IgKDs7KSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIHBhcnQgdGhhdCBvdmVybGFwcyB3aXRoIHRoZSBzdGFydCBvZiB0aGlzIHRleHRcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcmRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBwYXJ0ID0gb3JkZXJbaV07XG4gICAgICAgICAgaWYgKHBhcnQudG8gPiBzdGFydCAmJiBwYXJ0LmZyb20gPD0gc3RhcnQpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0LnRvID49IGVuZCkgcmV0dXJuIGlubmVyKGJ1aWxkZXIsIHRleHQsIHN0eWxlLCBzdGFydFN0eWxlLCBlbmRTdHlsZSwgdGl0bGUpO1xuICAgICAgICBpbm5lcihidWlsZGVyLCB0ZXh0LnNsaWNlKDAsIHBhcnQudG8gLSBzdGFydCksIHN0eWxlLCBzdGFydFN0eWxlLCBudWxsLCB0aXRsZSk7XG4gICAgICAgIHN0YXJ0U3R5bGUgPSBudWxsO1xuICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZShwYXJ0LnRvIC0gc3RhcnQpO1xuICAgICAgICBzdGFydCA9IHBhcnQudG87XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1aWxkQ29sbGFwc2VkU3BhbihidWlsZGVyLCBzaXplLCBtYXJrZXIsIGlnbm9yZVdpZGdldCkge1xuICAgIHZhciB3aWRnZXQgPSAhaWdub3JlV2lkZ2V0ICYmIG1hcmtlci53aWRnZXROb2RlO1xuICAgIGlmICh3aWRnZXQpIHtcbiAgICAgIGJ1aWxkZXIubWFwLnB1c2goYnVpbGRlci5wb3MsIGJ1aWxkZXIucG9zICsgc2l6ZSwgd2lkZ2V0KTtcbiAgICAgIGJ1aWxkZXIuY29udGVudC5hcHBlbmRDaGlsZCh3aWRnZXQpO1xuICAgIH1cbiAgICBidWlsZGVyLnBvcyArPSBzaXplO1xuICB9XG5cbiAgLy8gT3V0cHV0cyBhIG51bWJlciBvZiBzcGFucyB0byBtYWtlIHVwIGEgbGluZSwgdGFraW5nIGhpZ2hsaWdodGluZ1xuICAvLyBhbmQgbWFya2VkIHRleHQgaW50byBhY2NvdW50LlxuICBmdW5jdGlvbiBpbnNlcnRMaW5lQ29udGVudChsaW5lLCBidWlsZGVyLCBzdHlsZXMpIHtcbiAgICB2YXIgc3BhbnMgPSBsaW5lLm1hcmtlZFNwYW5zLCBhbGxUZXh0ID0gbGluZS50ZXh0LCBhdCA9IDA7XG4gICAgaWYgKCFzcGFucykge1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKz0yKVxuICAgICAgICBidWlsZGVyLmFkZFRva2VuKGJ1aWxkZXIsIGFsbFRleHQuc2xpY2UoYXQsIGF0ID0gc3R5bGVzW2ldKSwgaW50ZXJwcmV0VG9rZW5TdHlsZShzdHlsZXNbaSsxXSwgYnVpbGRlci5jbS5vcHRpb25zKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGxlbiA9IGFsbFRleHQubGVuZ3RoLCBwb3MgPSAwLCBpID0gMSwgdGV4dCA9IFwiXCIsIHN0eWxlO1xuICAgIHZhciBuZXh0Q2hhbmdlID0gMCwgc3BhblN0eWxlLCBzcGFuRW5kU3R5bGUsIHNwYW5TdGFydFN0eWxlLCB0aXRsZSwgY29sbGFwc2VkO1xuICAgIGZvciAoOzspIHtcbiAgICAgIGlmIChuZXh0Q2hhbmdlID09IHBvcykgeyAvLyBVcGRhdGUgY3VycmVudCBtYXJrZXIgc2V0XG4gICAgICAgIHNwYW5TdHlsZSA9IHNwYW5FbmRTdHlsZSA9IHNwYW5TdGFydFN0eWxlID0gdGl0bGUgPSBcIlwiO1xuICAgICAgICBjb2xsYXBzZWQgPSBudWxsOyBuZXh0Q2hhbmdlID0gSW5maW5pdHk7XG4gICAgICAgIHZhciBmb3VuZEJvb2ttYXJrcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNwYW5zLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgdmFyIHNwID0gc3BhbnNbal0sIG0gPSBzcC5tYXJrZXI7XG4gICAgICAgICAgaWYgKHNwLmZyb20gPD0gcG9zICYmIChzcC50byA9PSBudWxsIHx8IHNwLnRvID4gcG9zKSkge1xuICAgICAgICAgICAgaWYgKHNwLnRvICE9IG51bGwgJiYgbmV4dENoYW5nZSA+IHNwLnRvKSB7IG5leHRDaGFuZ2UgPSBzcC50bzsgc3BhbkVuZFN0eWxlID0gXCJcIjsgfVxuICAgICAgICAgICAgaWYgKG0uY2xhc3NOYW1lKSBzcGFuU3R5bGUgKz0gXCIgXCIgKyBtLmNsYXNzTmFtZTtcbiAgICAgICAgICAgIGlmIChtLnN0YXJ0U3R5bGUgJiYgc3AuZnJvbSA9PSBwb3MpIHNwYW5TdGFydFN0eWxlICs9IFwiIFwiICsgbS5zdGFydFN0eWxlO1xuICAgICAgICAgICAgaWYgKG0uZW5kU3R5bGUgJiYgc3AudG8gPT0gbmV4dENoYW5nZSkgc3BhbkVuZFN0eWxlICs9IFwiIFwiICsgbS5lbmRTdHlsZTtcbiAgICAgICAgICAgIGlmIChtLnRpdGxlICYmICF0aXRsZSkgdGl0bGUgPSBtLnRpdGxlO1xuICAgICAgICAgICAgaWYgKG0uY29sbGFwc2VkICYmICghY29sbGFwc2VkIHx8IGNvbXBhcmVDb2xsYXBzZWRNYXJrZXJzKGNvbGxhcHNlZC5tYXJrZXIsIG0pIDwgMCkpXG4gICAgICAgICAgICAgIGNvbGxhcHNlZCA9IHNwO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3AuZnJvbSA+IHBvcyAmJiBuZXh0Q2hhbmdlID4gc3AuZnJvbSkge1xuICAgICAgICAgICAgbmV4dENoYW5nZSA9IHNwLmZyb207XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtLnR5cGUgPT0gXCJib29rbWFya1wiICYmIHNwLmZyb20gPT0gcG9zICYmIG0ud2lkZ2V0Tm9kZSkgZm91bmRCb29rbWFya3MucHVzaChtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sbGFwc2VkICYmIChjb2xsYXBzZWQuZnJvbSB8fCAwKSA9PSBwb3MpIHtcbiAgICAgICAgICBidWlsZENvbGxhcHNlZFNwYW4oYnVpbGRlciwgKGNvbGxhcHNlZC50byA9PSBudWxsID8gbGVuICsgMSA6IGNvbGxhcHNlZC50bykgLSBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxhcHNlZC5tYXJrZXIsIGNvbGxhcHNlZC5mcm9tID09IG51bGwpO1xuICAgICAgICAgIGlmIChjb2xsYXBzZWQudG8gPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29sbGFwc2VkICYmIGZvdW5kQm9va21hcmtzLmxlbmd0aCkgZm9yICh2YXIgaiA9IDA7IGogPCBmb3VuZEJvb2ttYXJrcy5sZW5ndGg7ICsrailcbiAgICAgICAgICBidWlsZENvbGxhcHNlZFNwYW4oYnVpbGRlciwgMCwgZm91bmRCb29rbWFya3Nbal0pO1xuICAgICAgfVxuICAgICAgaWYgKHBvcyA+PSBsZW4pIGJyZWFrO1xuXG4gICAgICB2YXIgdXB0byA9IE1hdGgubWluKGxlbiwgbmV4dENoYW5nZSk7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgIHZhciBlbmQgPSBwb3MgKyB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgICBpZiAoIWNvbGxhcHNlZCkge1xuICAgICAgICAgICAgdmFyIHRva2VuVGV4dCA9IGVuZCA+IHVwdG8gPyB0ZXh0LnNsaWNlKDAsIHVwdG8gLSBwb3MpIDogdGV4dDtcbiAgICAgICAgICAgIGJ1aWxkZXIuYWRkVG9rZW4oYnVpbGRlciwgdG9rZW5UZXh0LCBzdHlsZSA/IHN0eWxlICsgc3BhblN0eWxlIDogc3BhblN0eWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuU3RhcnRTdHlsZSwgcG9zICsgdG9rZW5UZXh0Lmxlbmd0aCA9PSBuZXh0Q2hhbmdlID8gc3BhbkVuZFN0eWxlIDogXCJcIiwgdGl0bGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZW5kID49IHVwdG8pIHt0ZXh0ID0gdGV4dC5zbGljZSh1cHRvIC0gcG9zKTsgcG9zID0gdXB0bzsgYnJlYWs7fVxuICAgICAgICAgIHBvcyA9IGVuZDtcbiAgICAgICAgICBzcGFuU3RhcnRTdHlsZSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCA9IGFsbFRleHQuc2xpY2UoYXQsIGF0ID0gc3R5bGVzW2krK10pO1xuICAgICAgICBzdHlsZSA9IGludGVycHJldFRva2VuU3R5bGUoc3R5bGVzW2krK10sIGJ1aWxkZXIuY20ub3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gRE9DVU1FTlQgREFUQSBTVFJVQ1RVUkVcblxuICAvLyBCeSBkZWZhdWx0LCB1cGRhdGVzIHRoYXQgc3RhcnQgYW5kIGVuZCBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgbGluZVxuICAvLyBhcmUgdHJlYXRlZCBzcGVjaWFsbHksIGluIG9yZGVyIHRvIG1ha2UgdGhlIGFzc29jaWF0aW9uIG9mIGxpbmVcbiAgLy8gd2lkZ2V0cyBhbmQgbWFya2VyIGVsZW1lbnRzIHdpdGggdGhlIHRleHQgYmVoYXZlIG1vcmUgaW50dWl0aXZlLlxuICBmdW5jdGlvbiBpc1dob2xlTGluZVVwZGF0ZShkb2MsIGNoYW5nZSkge1xuICAgIHJldHVybiBjaGFuZ2UuZnJvbS5jaCA9PSAwICYmIGNoYW5nZS50by5jaCA9PSAwICYmIGxzdChjaGFuZ2UudGV4dCkgPT0gXCJcIiAmJlxuICAgICAgKCFkb2MuY20gfHwgZG9jLmNtLm9wdGlvbnMud2hvbGVMaW5lVXBkYXRlQmVmb3JlKTtcbiAgfVxuXG4gIC8vIFBlcmZvcm0gYSBjaGFuZ2Ugb24gdGhlIGRvY3VtZW50IGRhdGEgc3RydWN0dXJlLlxuICBmdW5jdGlvbiB1cGRhdGVEb2MoZG9jLCBjaGFuZ2UsIG1hcmtlZFNwYW5zLCBlc3RpbWF0ZUhlaWdodCkge1xuICAgIGZ1bmN0aW9uIHNwYW5zRm9yKG4pIHtyZXR1cm4gbWFya2VkU3BhbnMgPyBtYXJrZWRTcGFuc1tuXSA6IG51bGw7fVxuICAgIGZ1bmN0aW9uIHVwZGF0ZShsaW5lLCB0ZXh0LCBzcGFucykge1xuICAgICAgdXBkYXRlTGluZShsaW5lLCB0ZXh0LCBzcGFucywgZXN0aW1hdGVIZWlnaHQpO1xuICAgICAgc2lnbmFsTGF0ZXIobGluZSwgXCJjaGFuZ2VcIiwgbGluZSwgY2hhbmdlKTtcbiAgICB9XG5cbiAgICB2YXIgZnJvbSA9IGNoYW5nZS5mcm9tLCB0byA9IGNoYW5nZS50bywgdGV4dCA9IGNoYW5nZS50ZXh0O1xuICAgIHZhciBmaXJzdExpbmUgPSBnZXRMaW5lKGRvYywgZnJvbS5saW5lKSwgbGFzdExpbmUgPSBnZXRMaW5lKGRvYywgdG8ubGluZSk7XG4gICAgdmFyIGxhc3RUZXh0ID0gbHN0KHRleHQpLCBsYXN0U3BhbnMgPSBzcGFuc0Zvcih0ZXh0Lmxlbmd0aCAtIDEpLCBubGluZXMgPSB0by5saW5lIC0gZnJvbS5saW5lO1xuXG4gICAgLy8gQWRqdXN0IHRoZSBsaW5lIHN0cnVjdHVyZVxuICAgIGlmIChpc1dob2xlTGluZVVwZGF0ZShkb2MsIGNoYW5nZSkpIHtcbiAgICAgIC8vIFRoaXMgaXMgYSB3aG9sZS1saW5lIHJlcGxhY2UuIFRyZWF0ZWQgc3BlY2lhbGx5IHRvIG1ha2VcbiAgICAgIC8vIHN1cmUgbGluZSBvYmplY3RzIG1vdmUgdGhlIHdheSB0aGV5IGFyZSBzdXBwb3NlZCB0by5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBhZGRlZCA9IFtdOyBpIDwgdGV4dC5sZW5ndGggLSAxOyArK2kpXG4gICAgICAgIGFkZGVkLnB1c2gobmV3IExpbmUodGV4dFtpXSwgc3BhbnNGb3IoaSksIGVzdGltYXRlSGVpZ2h0KSk7XG4gICAgICB1cGRhdGUobGFzdExpbmUsIGxhc3RMaW5lLnRleHQsIGxhc3RTcGFucyk7XG4gICAgICBpZiAobmxpbmVzKSBkb2MucmVtb3ZlKGZyb20ubGluZSwgbmxpbmVzKTtcbiAgICAgIGlmIChhZGRlZC5sZW5ndGgpIGRvYy5pbnNlcnQoZnJvbS5saW5lLCBhZGRlZCk7XG4gICAgfSBlbHNlIGlmIChmaXJzdExpbmUgPT0gbGFzdExpbmUpIHtcbiAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIHVwZGF0ZShmaXJzdExpbmUsIGZpcnN0TGluZS50ZXh0LnNsaWNlKDAsIGZyb20uY2gpICsgbGFzdFRleHQgKyBmaXJzdExpbmUudGV4dC5zbGljZSh0by5jaCksIGxhc3RTcGFucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBhZGRlZCA9IFtdLCBpID0gMTsgaSA8IHRleHQubGVuZ3RoIC0gMTsgKytpKVxuICAgICAgICAgIGFkZGVkLnB1c2gobmV3IExpbmUodGV4dFtpXSwgc3BhbnNGb3IoaSksIGVzdGltYXRlSGVpZ2h0KSk7XG4gICAgICAgIGFkZGVkLnB1c2gobmV3IExpbmUobGFzdFRleHQgKyBmaXJzdExpbmUudGV4dC5zbGljZSh0by5jaCksIGxhc3RTcGFucywgZXN0aW1hdGVIZWlnaHQpKTtcbiAgICAgICAgdXBkYXRlKGZpcnN0TGluZSwgZmlyc3RMaW5lLnRleHQuc2xpY2UoMCwgZnJvbS5jaCkgKyB0ZXh0WzBdLCBzcGFuc0ZvcigwKSk7XG4gICAgICAgIGRvYy5pbnNlcnQoZnJvbS5saW5lICsgMSwgYWRkZWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGV4dC5sZW5ndGggPT0gMSkge1xuICAgICAgdXBkYXRlKGZpcnN0TGluZSwgZmlyc3RMaW5lLnRleHQuc2xpY2UoMCwgZnJvbS5jaCkgKyB0ZXh0WzBdICsgbGFzdExpbmUudGV4dC5zbGljZSh0by5jaCksIHNwYW5zRm9yKDApKTtcbiAgICAgIGRvYy5yZW1vdmUoZnJvbS5saW5lICsgMSwgbmxpbmVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlKGZpcnN0TGluZSwgZmlyc3RMaW5lLnRleHQuc2xpY2UoMCwgZnJvbS5jaCkgKyB0ZXh0WzBdLCBzcGFuc0ZvcigwKSk7XG4gICAgICB1cGRhdGUobGFzdExpbmUsIGxhc3RUZXh0ICsgbGFzdExpbmUudGV4dC5zbGljZSh0by5jaCksIGxhc3RTcGFucyk7XG4gICAgICBmb3IgKHZhciBpID0gMSwgYWRkZWQgPSBbXTsgaSA8IHRleHQubGVuZ3RoIC0gMTsgKytpKVxuICAgICAgICBhZGRlZC5wdXNoKG5ldyBMaW5lKHRleHRbaV0sIHNwYW5zRm9yKGkpLCBlc3RpbWF0ZUhlaWdodCkpO1xuICAgICAgaWYgKG5saW5lcyA+IDEpIGRvYy5yZW1vdmUoZnJvbS5saW5lICsgMSwgbmxpbmVzIC0gMSk7XG4gICAgICBkb2MuaW5zZXJ0KGZyb20ubGluZSArIDEsIGFkZGVkKTtcbiAgICB9XG5cbiAgICBzaWduYWxMYXRlcihkb2MsIFwiY2hhbmdlXCIsIGRvYywgY2hhbmdlKTtcbiAgfVxuXG4gIC8vIFRoZSBkb2N1bWVudCBpcyByZXByZXNlbnRlZCBhcyBhIEJUcmVlIGNvbnNpc3Rpbmcgb2YgbGVhdmVzLCB3aXRoXG4gIC8vIGNodW5rIG9mIGxpbmVzIGluIHRoZW0sIGFuZCBicmFuY2hlcywgd2l0aCB1cCB0byB0ZW4gbGVhdmVzIG9yXG4gIC8vIG90aGVyIGJyYW5jaCBub2RlcyBiZWxvdyB0aGVtLiBUaGUgdG9wIG5vZGUgaXMgYWx3YXlzIGEgYnJhbmNoXG4gIC8vIG5vZGUsIGFuZCBpcyB0aGUgZG9jdW1lbnQgb2JqZWN0IGl0c2VsZiAobWVhbmluZyBpdCBoYXNcbiAgLy8gYWRkaXRpb25hbCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzKS5cbiAgLy9cbiAgLy8gQWxsIG5vZGVzIGhhdmUgcGFyZW50IGxpbmtzLiBUaGUgdHJlZSBpcyB1c2VkIGJvdGggdG8gZ28gZnJvbVxuICAvLyBsaW5lIG51bWJlcnMgdG8gbGluZSBvYmplY3RzLCBhbmQgdG8gZ28gZnJvbSBvYmplY3RzIHRvIG51bWJlcnMuXG4gIC8vIEl0IGFsc28gaW5kZXhlcyBieSBoZWlnaHQsIGFuZCBpcyB1c2VkIHRvIGNvbnZlcnQgYmV0d2VlbiBoZWlnaHRcbiAgLy8gYW5kIGxpbmUgb2JqZWN0LCBhbmQgdG8gZmluZCB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBkb2N1bWVudC5cbiAgLy9cbiAgLy8gU2VlIGFsc28gaHR0cDovL21hcmlqbmhhdmVyYmVrZS5ubC9ibG9nL2NvZGVtaXJyb3ItbGluZS10cmVlLmh0bWxcblxuICBmdW5jdGlvbiBMZWFmQ2h1bmsobGluZXMpIHtcbiAgICB0aGlzLmxpbmVzID0gbGluZXM7XG4gICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwLCBoZWlnaHQgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxpbmVzW2ldLnBhcmVudCA9IHRoaXM7XG4gICAgICBoZWlnaHQgKz0gbGluZXNbaV0uaGVpZ2h0O1xuICAgIH1cbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgfVxuXG4gIExlYWZDaHVuay5wcm90b3R5cGUgPSB7XG4gICAgY2h1bmtTaXplOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMubGluZXMubGVuZ3RoOyB9LFxuICAgIC8vIFJlbW92ZSB0aGUgbiBsaW5lcyBhdCBvZmZzZXQgJ2F0Jy5cbiAgICByZW1vdmVJbm5lcjogZnVuY3Rpb24oYXQsIG4pIHtcbiAgICAgIGZvciAodmFyIGkgPSBhdCwgZSA9IGF0ICsgbjsgaSA8IGU7ICsraSkge1xuICAgICAgICB2YXIgbGluZSA9IHRoaXMubGluZXNbaV07XG4gICAgICAgIHRoaXMuaGVpZ2h0IC09IGxpbmUuaGVpZ2h0O1xuICAgICAgICBjbGVhblVwTGluZShsaW5lKTtcbiAgICAgICAgc2lnbmFsTGF0ZXIobGluZSwgXCJkZWxldGVcIik7XG4gICAgICB9XG4gICAgICB0aGlzLmxpbmVzLnNwbGljZShhdCwgbik7XG4gICAgfSxcbiAgICAvLyBIZWxwZXIgdXNlZCB0byBjb2xsYXBzZSBhIHNtYWxsIGJyYW5jaCBpbnRvIGEgc2luZ2xlIGxlYWYuXG4gICAgY29sbGFwc2U6IGZ1bmN0aW9uKGxpbmVzKSB7XG4gICAgICBsaW5lcy5wdXNoLmFwcGx5KGxpbmVzLCB0aGlzLmxpbmVzKTtcbiAgICB9LFxuICAgIC8vIEluc2VydCB0aGUgZ2l2ZW4gYXJyYXkgb2YgbGluZXMgYXQgb2Zmc2V0ICdhdCcsIGNvdW50IHRoZW0gYXNcbiAgICAvLyBoYXZpbmcgdGhlIGdpdmVuIGhlaWdodC5cbiAgICBpbnNlcnRJbm5lcjogZnVuY3Rpb24oYXQsIGxpbmVzLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuaGVpZ2h0ICs9IGhlaWdodDtcbiAgICAgIHRoaXMubGluZXMgPSB0aGlzLmxpbmVzLnNsaWNlKDAsIGF0KS5jb25jYXQobGluZXMpLmNvbmNhdCh0aGlzLmxpbmVzLnNsaWNlKGF0KSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgKytpKSBsaW5lc1tpXS5wYXJlbnQgPSB0aGlzO1xuICAgIH0sXG4gICAgLy8gVXNlZCB0byBpdGVyYXRlIG92ZXIgYSBwYXJ0IG9mIHRoZSB0cmVlLlxuICAgIGl0ZXJOOiBmdW5jdGlvbihhdCwgbiwgb3ApIHtcbiAgICAgIGZvciAodmFyIGUgPSBhdCArIG47IGF0IDwgZTsgKythdClcbiAgICAgICAgaWYgKG9wKHRoaXMubGluZXNbYXRdKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIEJyYW5jaENodW5rKGNoaWxkcmVuKSB7XG4gICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIHZhciBzaXplID0gMCwgaGVpZ2h0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgY2ggPSBjaGlsZHJlbltpXTtcbiAgICAgIHNpemUgKz0gY2guY2h1bmtTaXplKCk7IGhlaWdodCArPSBjaC5oZWlnaHQ7XG4gICAgICBjaC5wYXJlbnQgPSB0aGlzO1xuICAgIH1cbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgfVxuXG4gIEJyYW5jaENodW5rLnByb3RvdHlwZSA9IHtcbiAgICBjaHVua1NpemU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5zaXplOyB9LFxuICAgIHJlbW92ZUlubmVyOiBmdW5jdGlvbihhdCwgbikge1xuICAgICAgdGhpcy5zaXplIC09IG47XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgc3ogPSBjaGlsZC5jaHVua1NpemUoKTtcbiAgICAgICAgaWYgKGF0IDwgc3opIHtcbiAgICAgICAgICB2YXIgcm0gPSBNYXRoLm1pbihuLCBzeiAtIGF0KSwgb2xkSGVpZ2h0ID0gY2hpbGQuaGVpZ2h0O1xuICAgICAgICAgIGNoaWxkLnJlbW92ZUlubmVyKGF0LCBybSk7XG4gICAgICAgICAgdGhpcy5oZWlnaHQgLT0gb2xkSGVpZ2h0IC0gY2hpbGQuaGVpZ2h0O1xuICAgICAgICAgIGlmIChzeiA9PSBybSkgeyB0aGlzLmNoaWxkcmVuLnNwbGljZShpLS0sIDEpOyBjaGlsZC5wYXJlbnQgPSBudWxsOyB9XG4gICAgICAgICAgaWYgKChuIC09IHJtKSA9PSAwKSBicmVhaztcbiAgICAgICAgICBhdCA9IDA7XG4gICAgICAgIH0gZWxzZSBhdCAtPSBzejtcbiAgICAgIH1cbiAgICAgIC8vIElmIHRoZSByZXN1bHQgaXMgc21hbGxlciB0aGFuIDI1IGxpbmVzLCBlbnN1cmUgdGhhdCBpdCBpcyBhXG4gICAgICAvLyBzaW5nbGUgbGVhZiBub2RlLlxuICAgICAgaWYgKHRoaXMuc2l6ZSAtIG4gPCAyNSAmJlxuICAgICAgICAgICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDEgfHwgISh0aGlzLmNoaWxkcmVuWzBdIGluc3RhbmNlb2YgTGVhZkNodW5rKSkpIHtcbiAgICAgICAgdmFyIGxpbmVzID0gW107XG4gICAgICAgIHRoaXMuY29sbGFwc2UobGluZXMpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW25ldyBMZWFmQ2h1bmsobGluZXMpXTtcbiAgICAgICAgdGhpcy5jaGlsZHJlblswXS5wYXJlbnQgPSB0aGlzO1xuICAgICAgfVxuICAgIH0sXG4gICAgY29sbGFwc2U6IGZ1bmN0aW9uKGxpbmVzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHRoaXMuY2hpbGRyZW5baV0uY29sbGFwc2UobGluZXMpO1xuICAgIH0sXG4gICAgaW5zZXJ0SW5uZXI6IGZ1bmN0aW9uKGF0LCBsaW5lcywgaGVpZ2h0KSB7XG4gICAgICB0aGlzLnNpemUgKz0gbGluZXMubGVuZ3RoO1xuICAgICAgdGhpcy5oZWlnaHQgKz0gaGVpZ2h0O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIHN6ID0gY2hpbGQuY2h1bmtTaXplKCk7XG4gICAgICAgIGlmIChhdCA8PSBzeikge1xuICAgICAgICAgIGNoaWxkLmluc2VydElubmVyKGF0LCBsaW5lcywgaGVpZ2h0KTtcbiAgICAgICAgICBpZiAoY2hpbGQubGluZXMgJiYgY2hpbGQubGluZXMubGVuZ3RoID4gNTApIHtcbiAgICAgICAgICAgIHdoaWxlIChjaGlsZC5saW5lcy5sZW5ndGggPiA1MCkge1xuICAgICAgICAgICAgICB2YXIgc3BpbGxlZCA9IGNoaWxkLmxpbmVzLnNwbGljZShjaGlsZC5saW5lcy5sZW5ndGggLSAyNSwgMjUpO1xuICAgICAgICAgICAgICB2YXIgbmV3bGVhZiA9IG5ldyBMZWFmQ2h1bmsoc3BpbGxlZCk7XG4gICAgICAgICAgICAgIGNoaWxkLmhlaWdodCAtPSBuZXdsZWFmLmhlaWdodDtcbiAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaSArIDEsIDAsIG5ld2xlYWYpO1xuICAgICAgICAgICAgICBuZXdsZWFmLnBhcmVudCA9IHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1heWJlU3BpbGwoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYXQgLT0gc3o7XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBXaGVuIGEgbm9kZSBoYXMgZ3Jvd24sIGNoZWNrIHdoZXRoZXIgaXQgc2hvdWxkIGJlIHNwbGl0LlxuICAgIG1heWJlU3BpbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoIDw9IDEwKSByZXR1cm47XG4gICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgZG8ge1xuICAgICAgICB2YXIgc3BpbGxlZCA9IG1lLmNoaWxkcmVuLnNwbGljZShtZS5jaGlsZHJlbi5sZW5ndGggLSA1LCA1KTtcbiAgICAgICAgdmFyIHNpYmxpbmcgPSBuZXcgQnJhbmNoQ2h1bmsoc3BpbGxlZCk7XG4gICAgICAgIGlmICghbWUucGFyZW50KSB7IC8vIEJlY29tZSB0aGUgcGFyZW50IG5vZGVcbiAgICAgICAgICB2YXIgY29weSA9IG5ldyBCcmFuY2hDaHVuayhtZS5jaGlsZHJlbik7XG4gICAgICAgICAgY29weS5wYXJlbnQgPSBtZTtcbiAgICAgICAgICBtZS5jaGlsZHJlbiA9IFtjb3B5LCBzaWJsaW5nXTtcbiAgICAgICAgICBtZSA9IGNvcHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWUuc2l6ZSAtPSBzaWJsaW5nLnNpemU7XG4gICAgICAgICAgbWUuaGVpZ2h0IC09IHNpYmxpbmcuaGVpZ2h0O1xuICAgICAgICAgIHZhciBteUluZGV4ID0gaW5kZXhPZihtZS5wYXJlbnQuY2hpbGRyZW4sIG1lKTtcbiAgICAgICAgICBtZS5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKG15SW5kZXggKyAxLCAwLCBzaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBzaWJsaW5nLnBhcmVudCA9IG1lLnBhcmVudDtcbiAgICAgIH0gd2hpbGUgKG1lLmNoaWxkcmVuLmxlbmd0aCA+IDEwKTtcbiAgICAgIG1lLnBhcmVudC5tYXliZVNwaWxsKCk7XG4gICAgfSxcbiAgICBpdGVyTjogZnVuY3Rpb24oYXQsIG4sIG9wKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgc3ogPSBjaGlsZC5jaHVua1NpemUoKTtcbiAgICAgICAgaWYgKGF0IDwgc3opIHtcbiAgICAgICAgICB2YXIgdXNlZCA9IE1hdGgubWluKG4sIHN6IC0gYXQpO1xuICAgICAgICAgIGlmIChjaGlsZC5pdGVyTihhdCwgdXNlZCwgb3ApKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICBpZiAoKG4gLT0gdXNlZCkgPT0gMCkgYnJlYWs7XG4gICAgICAgICAgYXQgPSAwO1xuICAgICAgICB9IGVsc2UgYXQgLT0gc3o7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBuZXh0RG9jSWQgPSAwO1xuICB2YXIgRG9jID0gQ29kZU1pcnJvci5Eb2MgPSBmdW5jdGlvbih0ZXh0LCBtb2RlLCBmaXJzdExpbmUpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRG9jKSkgcmV0dXJuIG5ldyBEb2ModGV4dCwgbW9kZSwgZmlyc3RMaW5lKTtcbiAgICBpZiAoZmlyc3RMaW5lID09IG51bGwpIGZpcnN0TGluZSA9IDA7XG5cbiAgICBCcmFuY2hDaHVuay5jYWxsKHRoaXMsIFtuZXcgTGVhZkNodW5rKFtuZXcgTGluZShcIlwiLCBudWxsKV0pXSk7XG4gICAgdGhpcy5maXJzdCA9IGZpcnN0TGluZTtcbiAgICB0aGlzLnNjcm9sbFRvcCA9IHRoaXMuc2Nyb2xsTGVmdCA9IDA7XG4gICAgdGhpcy5jYW50RWRpdCA9IGZhbHNlO1xuICAgIHRoaXMuY2xlYW5HZW5lcmF0aW9uID0gMTtcbiAgICB0aGlzLmZyb250aWVyID0gZmlyc3RMaW5lO1xuICAgIHZhciBzdGFydCA9IFBvcyhmaXJzdExpbmUsIDApO1xuICAgIHRoaXMuc2VsID0gc2ltcGxlU2VsZWN0aW9uKHN0YXJ0KTtcbiAgICB0aGlzLmhpc3RvcnkgPSBuZXcgSGlzdG9yeShudWxsKTtcbiAgICB0aGlzLmlkID0gKytuZXh0RG9jSWQ7XG4gICAgdGhpcy5tb2RlT3B0aW9uID0gbW9kZTtcblxuICAgIGlmICh0eXBlb2YgdGV4dCA9PSBcInN0cmluZ1wiKSB0ZXh0ID0gc3BsaXRMaW5lcyh0ZXh0KTtcbiAgICB1cGRhdGVEb2ModGhpcywge2Zyb206IHN0YXJ0LCB0bzogc3RhcnQsIHRleHQ6IHRleHR9KTtcbiAgICBzZXRTZWxlY3Rpb24odGhpcywgc2ltcGxlU2VsZWN0aW9uKHN0YXJ0KSwgc2VsX2RvbnRTY3JvbGwpO1xuICB9O1xuXG4gIERvYy5wcm90b3R5cGUgPSBjcmVhdGVPYmooQnJhbmNoQ2h1bmsucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IERvYyxcbiAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIGRvY3VtZW50LiBTdXBwb3J0cyB0d28gZm9ybXMgLS0gd2l0aCBvbmx5IG9uZVxuICAgIC8vIGFyZ3VtZW50LCBpdCBjYWxscyB0aGF0IGZvciBlYWNoIGxpbmUgaW4gdGhlIGRvY3VtZW50LiBXaXRoXG4gICAgLy8gdGhyZWUsIGl0IGl0ZXJhdGVzIG92ZXIgdGhlIHJhbmdlIGdpdmVuIGJ5IHRoZSBmaXJzdCB0d28gKHdpdGhcbiAgICAvLyB0aGUgc2Vjb25kIGJlaW5nIG5vbi1pbmNsdXNpdmUpLlxuICAgIGl0ZXI6IGZ1bmN0aW9uKGZyb20sIHRvLCBvcCkge1xuICAgICAgaWYgKG9wKSB0aGlzLml0ZXJOKGZyb20gLSB0aGlzLmZpcnN0LCB0byAtIGZyb20sIG9wKTtcbiAgICAgIGVsc2UgdGhpcy5pdGVyTih0aGlzLmZpcnN0LCB0aGlzLmZpcnN0ICsgdGhpcy5zaXplLCBmcm9tKTtcbiAgICB9LFxuXG4gICAgLy8gTm9uLXB1YmxpYyBpbnRlcmZhY2UgZm9yIGFkZGluZyBhbmQgcmVtb3ZpbmcgbGluZXMuXG4gICAgaW5zZXJ0OiBmdW5jdGlvbihhdCwgbGluZXMpIHtcbiAgICAgIHZhciBoZWlnaHQgPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSkgaGVpZ2h0ICs9IGxpbmVzW2ldLmhlaWdodDtcbiAgICAgIHRoaXMuaW5zZXJ0SW5uZXIoYXQgLSB0aGlzLmZpcnN0LCBsaW5lcywgaGVpZ2h0KTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24oYXQsIG4pIHsgdGhpcy5yZW1vdmVJbm5lcihhdCAtIHRoaXMuZmlyc3QsIG4pOyB9LFxuXG4gICAgLy8gRnJvbSBoZXJlLCB0aGUgbWV0aG9kcyBhcmUgcGFydCBvZiB0aGUgcHVibGljIGludGVyZmFjZS4gTW9zdFxuICAgIC8vIGFyZSBhbHNvIGF2YWlsYWJsZSBmcm9tIENvZGVNaXJyb3IgKGVkaXRvcikgaW5zdGFuY2VzLlxuXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uKGxpbmVTZXApIHtcbiAgICAgIHZhciBsaW5lcyA9IGdldExpbmVzKHRoaXMsIHRoaXMuZmlyc3QsIHRoaXMuZmlyc3QgKyB0aGlzLnNpemUpO1xuICAgICAgaWYgKGxpbmVTZXAgPT09IGZhbHNlKSByZXR1cm4gbGluZXM7XG4gICAgICByZXR1cm4gbGluZXMuam9pbihsaW5lU2VwIHx8IFwiXFxuXCIpO1xuICAgIH0sXG4gICAgc2V0VmFsdWU6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGNvZGUpIHtcbiAgICAgIHZhciB0b3AgPSBQb3ModGhpcy5maXJzdCwgMCksIGxhc3QgPSB0aGlzLmZpcnN0ICsgdGhpcy5zaXplIC0gMTtcbiAgICAgIG1ha2VDaGFuZ2UodGhpcywge2Zyb206IHRvcCwgdG86IFBvcyhsYXN0LCBnZXRMaW5lKHRoaXMsIGxhc3QpLnRleHQubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHNwbGl0TGluZXMoY29kZSksIG9yaWdpbjogXCJzZXRWYWx1ZVwifSwgdHJ1ZSk7XG4gICAgICBzZXRTZWxlY3Rpb24odGhpcywgc2ltcGxlU2VsZWN0aW9uKHRvcCkpO1xuICAgIH0pLFxuICAgIHJlcGxhY2VSYW5nZTogZnVuY3Rpb24oY29kZSwgZnJvbSwgdG8sIG9yaWdpbikge1xuICAgICAgZnJvbSA9IGNsaXBQb3ModGhpcywgZnJvbSk7XG4gICAgICB0byA9IHRvID8gY2xpcFBvcyh0aGlzLCB0bykgOiBmcm9tO1xuICAgICAgcmVwbGFjZVJhbmdlKHRoaXMsIGNvZGUsIGZyb20sIHRvLCBvcmlnaW4pO1xuICAgIH0sXG4gICAgZ2V0UmFuZ2U6IGZ1bmN0aW9uKGZyb20sIHRvLCBsaW5lU2VwKSB7XG4gICAgICB2YXIgbGluZXMgPSBnZXRCZXR3ZWVuKHRoaXMsIGNsaXBQb3ModGhpcywgZnJvbSksIGNsaXBQb3ModGhpcywgdG8pKTtcbiAgICAgIGlmIChsaW5lU2VwID09PSBmYWxzZSkgcmV0dXJuIGxpbmVzO1xuICAgICAgcmV0dXJuIGxpbmVzLmpvaW4obGluZVNlcCB8fCBcIlxcblwiKTtcbiAgICB9LFxuXG4gICAgZ2V0TGluZTogZnVuY3Rpb24obGluZSkge3ZhciBsID0gdGhpcy5nZXRMaW5lSGFuZGxlKGxpbmUpOyByZXR1cm4gbCAmJiBsLnRleHQ7fSxcblxuICAgIGdldExpbmVIYW5kbGU6IGZ1bmN0aW9uKGxpbmUpIHtpZiAoaXNMaW5lKHRoaXMsIGxpbmUpKSByZXR1cm4gZ2V0TGluZSh0aGlzLCBsaW5lKTt9LFxuICAgIGdldExpbmVOdW1iZXI6IGZ1bmN0aW9uKGxpbmUpIHtyZXR1cm4gbGluZU5vKGxpbmUpO30sXG5cbiAgICBnZXRMaW5lSGFuZGxlVmlzdWFsU3RhcnQ6IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmICh0eXBlb2YgbGluZSA9PSBcIm51bWJlclwiKSBsaW5lID0gZ2V0TGluZSh0aGlzLCBsaW5lKTtcbiAgICAgIHJldHVybiB2aXN1YWxMaW5lKGxpbmUpO1xuICAgIH0sXG5cbiAgICBsaW5lQ291bnQ6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLnNpemU7fSxcbiAgICBmaXJzdExpbmU6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmZpcnN0O30sXG4gICAgbGFzdExpbmU6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmZpcnN0ICsgdGhpcy5zaXplIC0gMTt9LFxuXG4gICAgY2xpcFBvczogZnVuY3Rpb24ocG9zKSB7cmV0dXJuIGNsaXBQb3ModGhpcywgcG9zKTt9LFxuXG4gICAgZ2V0Q3Vyc29yOiBmdW5jdGlvbihzdGFydCkge1xuICAgICAgdmFyIHJhbmdlID0gdGhpcy5zZWwucHJpbWFyeSgpLCBwb3M7XG4gICAgICBpZiAoc3RhcnQgPT0gbnVsbCB8fCBzdGFydCA9PSBcImhlYWRcIikgcG9zID0gcmFuZ2UuaGVhZDtcbiAgICAgIGVsc2UgaWYgKHN0YXJ0ID09IFwiYW5jaG9yXCIpIHBvcyA9IHJhbmdlLmFuY2hvcjtcbiAgICAgIGVsc2UgaWYgKHN0YXJ0ID09IFwiZW5kXCIgfHwgc3RhcnQgPT0gXCJ0b1wiIHx8IHN0YXJ0ID09PSBmYWxzZSkgcG9zID0gcmFuZ2UudG8oKTtcbiAgICAgIGVsc2UgcG9zID0gcmFuZ2UuZnJvbSgpO1xuICAgICAgcmV0dXJuIHBvcztcbiAgICB9LFxuICAgIGxpc3RTZWxlY3Rpb25zOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuc2VsLnJhbmdlczsgfSxcbiAgICBzb21ldGhpbmdTZWxlY3RlZDogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCk7fSxcblxuICAgIHNldEN1cnNvcjogZG9jTWV0aG9kT3AoZnVuY3Rpb24obGluZSwgY2gsIG9wdGlvbnMpIHtcbiAgICAgIHNldFNpbXBsZVNlbGVjdGlvbih0aGlzLCBjbGlwUG9zKHRoaXMsIHR5cGVvZiBsaW5lID09IFwibnVtYmVyXCIgPyBQb3MobGluZSwgY2ggfHwgMCkgOiBsaW5lKSwgbnVsbCwgb3B0aW9ucyk7XG4gICAgfSksXG4gICAgc2V0U2VsZWN0aW9uOiBkb2NNZXRob2RPcChmdW5jdGlvbihhbmNob3IsIGhlYWQsIG9wdGlvbnMpIHtcbiAgICAgIHNldFNpbXBsZVNlbGVjdGlvbih0aGlzLCBjbGlwUG9zKHRoaXMsIGFuY2hvciksIGNsaXBQb3ModGhpcywgaGVhZCB8fCBhbmNob3IpLCBvcHRpb25zKTtcbiAgICB9KSxcbiAgICBleHRlbmRTZWxlY3Rpb246IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGhlYWQsIG90aGVyLCBvcHRpb25zKSB7XG4gICAgICBleHRlbmRTZWxlY3Rpb24odGhpcywgY2xpcFBvcyh0aGlzLCBoZWFkKSwgb3RoZXIgJiYgY2xpcFBvcyh0aGlzLCBvdGhlciksIG9wdGlvbnMpO1xuICAgIH0pLFxuICAgIGV4dGVuZFNlbGVjdGlvbnM6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGhlYWRzLCBvcHRpb25zKSB7XG4gICAgICBleHRlbmRTZWxlY3Rpb25zKHRoaXMsIGNsaXBQb3NBcnJheSh0aGlzLCBoZWFkcywgb3B0aW9ucykpO1xuICAgIH0pLFxuICAgIGV4dGVuZFNlbGVjdGlvbnNCeTogZG9jTWV0aG9kT3AoZnVuY3Rpb24oZiwgb3B0aW9ucykge1xuICAgICAgZXh0ZW5kU2VsZWN0aW9ucyh0aGlzLCBtYXAodGhpcy5zZWwucmFuZ2VzLCBmKSwgb3B0aW9ucyk7XG4gICAgfSksXG4gICAgc2V0U2VsZWN0aW9uczogZG9jTWV0aG9kT3AoZnVuY3Rpb24ocmFuZ2VzLCBwcmltYXJ5LCBvcHRpb25zKSB7XG4gICAgICBpZiAoIXJhbmdlcy5sZW5ndGgpIHJldHVybjtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBvdXQgPSBbXTsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgb3V0W2ldID0gbmV3IFJhbmdlKGNsaXBQb3ModGhpcywgcmFuZ2VzW2ldLmFuY2hvciksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlwUG9zKHRoaXMsIHJhbmdlc1tpXS5oZWFkKSk7XG4gICAgICBpZiAocHJpbWFyeSA9PSBudWxsKSBwcmltYXJ5ID0gTWF0aC5taW4ocmFuZ2VzLmxlbmd0aCAtIDEsIHRoaXMuc2VsLnByaW1JbmRleCk7XG4gICAgICBzZXRTZWxlY3Rpb24odGhpcywgbm9ybWFsaXplU2VsZWN0aW9uKG91dCwgcHJpbWFyeSksIG9wdGlvbnMpO1xuICAgIH0pLFxuICAgIGFkZFNlbGVjdGlvbjogZG9jTWV0aG9kT3AoZnVuY3Rpb24oYW5jaG9yLCBoZWFkLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcmFuZ2VzID0gdGhpcy5zZWwucmFuZ2VzLnNsaWNlKDApO1xuICAgICAgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKGNsaXBQb3ModGhpcywgYW5jaG9yKSwgY2xpcFBvcyh0aGlzLCBoZWFkIHx8IGFuY2hvcikpKTtcbiAgICAgIHNldFNlbGVjdGlvbih0aGlzLCBub3JtYWxpemVTZWxlY3Rpb24ocmFuZ2VzLCByYW5nZXMubGVuZ3RoIC0gMSksIG9wdGlvbnMpO1xuICAgIH0pLFxuXG4gICAgZ2V0U2VsZWN0aW9uOiBmdW5jdGlvbihsaW5lU2VwKSB7XG4gICAgICB2YXIgcmFuZ2VzID0gdGhpcy5zZWwucmFuZ2VzLCBsaW5lcztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzZWwgPSBnZXRCZXR3ZWVuKHRoaXMsIHJhbmdlc1tpXS5mcm9tKCksIHJhbmdlc1tpXS50bygpKTtcbiAgICAgICAgbGluZXMgPSBsaW5lcyA/IGxpbmVzLmNvbmNhdChzZWwpIDogc2VsO1xuICAgICAgfVxuICAgICAgaWYgKGxpbmVTZXAgPT09IGZhbHNlKSByZXR1cm4gbGluZXM7XG4gICAgICBlbHNlIHJldHVybiBsaW5lcy5qb2luKGxpbmVTZXAgfHwgXCJcXG5cIik7XG4gICAgfSxcbiAgICBnZXRTZWxlY3Rpb25zOiBmdW5jdGlvbihsaW5lU2VwKSB7XG4gICAgICB2YXIgcGFydHMgPSBbXSwgcmFuZ2VzID0gdGhpcy5zZWwucmFuZ2VzO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNlbCA9IGdldEJldHdlZW4odGhpcywgcmFuZ2VzW2ldLmZyb20oKSwgcmFuZ2VzW2ldLnRvKCkpO1xuICAgICAgICBpZiAobGluZVNlcCAhPT0gZmFsc2UpIHNlbCA9IHNlbC5qb2luKGxpbmVTZXAgfHwgXCJcXG5cIik7XG4gICAgICAgIHBhcnRzW2ldID0gc2VsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhcnRzO1xuICAgIH0sXG4gICAgcmVwbGFjZVNlbGVjdGlvbjogZnVuY3Rpb24oY29kZSwgY29sbGFwc2UsIG9yaWdpbikge1xuICAgICAgdmFyIGR1cCA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIGR1cFtpXSA9IGNvZGU7XG4gICAgICB0aGlzLnJlcGxhY2VTZWxlY3Rpb25zKGR1cCwgY29sbGFwc2UsIG9yaWdpbiB8fCBcIitpbnB1dFwiKTtcbiAgICB9LFxuICAgIHJlcGxhY2VTZWxlY3Rpb25zOiBkb2NNZXRob2RPcChmdW5jdGlvbihjb2RlLCBjb2xsYXBzZSwgb3JpZ2luKSB7XG4gICAgICB2YXIgY2hhbmdlcyA9IFtdLCBzZWwgPSB0aGlzLnNlbDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcmFuZ2UgPSBzZWwucmFuZ2VzW2ldO1xuICAgICAgICBjaGFuZ2VzW2ldID0ge2Zyb206IHJhbmdlLmZyb20oKSwgdG86IHJhbmdlLnRvKCksIHRleHQ6IHNwbGl0TGluZXMoY29kZVtpXSksIG9yaWdpbjogb3JpZ2lufTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdTZWwgPSBjb2xsYXBzZSAmJiBjb2xsYXBzZSAhPSBcImVuZFwiICYmIGNvbXB1dGVSZXBsYWNlZFNlbCh0aGlzLCBjaGFuZ2VzLCBjb2xsYXBzZSk7XG4gICAgICBmb3IgKHZhciBpID0gY2hhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAgbWFrZUNoYW5nZSh0aGlzLCBjaGFuZ2VzW2ldKTtcbiAgICAgIGlmIChuZXdTZWwpIHNldFNlbGVjdGlvblJlcGxhY2VIaXN0b3J5KHRoaXMsIG5ld1NlbCk7XG4gICAgICBlbHNlIGlmICh0aGlzLmNtKSBlbnN1cmVDdXJzb3JWaXNpYmxlKHRoaXMuY20pO1xuICAgIH0pLFxuICAgIHVuZG86IGRvY01ldGhvZE9wKGZ1bmN0aW9uKCkge21ha2VDaGFuZ2VGcm9tSGlzdG9yeSh0aGlzLCBcInVuZG9cIik7fSksXG4gICAgcmVkbzogZG9jTWV0aG9kT3AoZnVuY3Rpb24oKSB7bWFrZUNoYW5nZUZyb21IaXN0b3J5KHRoaXMsIFwicmVkb1wiKTt9KSxcbiAgICB1bmRvU2VsZWN0aW9uOiBkb2NNZXRob2RPcChmdW5jdGlvbigpIHttYWtlQ2hhbmdlRnJvbUhpc3RvcnkodGhpcywgXCJ1bmRvXCIsIHRydWUpO30pLFxuICAgIHJlZG9TZWxlY3Rpb246IGRvY01ldGhvZE9wKGZ1bmN0aW9uKCkge21ha2VDaGFuZ2VGcm9tSGlzdG9yeSh0aGlzLCBcInJlZG9cIiwgdHJ1ZSk7fSksXG5cbiAgICBzZXRFeHRlbmRpbmc6IGZ1bmN0aW9uKHZhbCkge3RoaXMuZXh0ZW5kID0gdmFsO30sXG4gICAgZ2V0RXh0ZW5kaW5nOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5leHRlbmQ7fSxcblxuICAgIGhpc3RvcnlTaXplOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBoaXN0ID0gdGhpcy5oaXN0b3J5LCBkb25lID0gMCwgdW5kb25lID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGlzdC5kb25lLmxlbmd0aDsgaSsrKSBpZiAoIWhpc3QuZG9uZVtpXS5yYW5nZXMpICsrZG9uZTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGlzdC51bmRvbmUubGVuZ3RoOyBpKyspIGlmICghaGlzdC51bmRvbmVbaV0ucmFuZ2VzKSArK3VuZG9uZTtcbiAgICAgIHJldHVybiB7dW5kbzogZG9uZSwgcmVkbzogdW5kb25lfTtcbiAgICB9LFxuICAgIGNsZWFySGlzdG9yeTogZnVuY3Rpb24oKSB7dGhpcy5oaXN0b3J5ID0gbmV3IEhpc3RvcnkodGhpcy5oaXN0b3J5Lm1heEdlbmVyYXRpb24pO30sXG5cbiAgICBtYXJrQ2xlYW46IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jbGVhbkdlbmVyYXRpb24gPSB0aGlzLmNoYW5nZUdlbmVyYXRpb24odHJ1ZSk7XG4gICAgfSxcbiAgICBjaGFuZ2VHZW5lcmF0aW9uOiBmdW5jdGlvbihmb3JjZVNwbGl0KSB7XG4gICAgICBpZiAoZm9yY2VTcGxpdClcbiAgICAgICAgdGhpcy5oaXN0b3J5Lmxhc3RPcCA9IHRoaXMuaGlzdG9yeS5sYXN0U2VsT3AgPSB0aGlzLmhpc3RvcnkubGFzdE9yaWdpbiA9IG51bGw7XG4gICAgICByZXR1cm4gdGhpcy5oaXN0b3J5LmdlbmVyYXRpb247XG4gICAgfSxcbiAgICBpc0NsZWFuOiBmdW5jdGlvbiAoZ2VuKSB7XG4gICAgICByZXR1cm4gdGhpcy5oaXN0b3J5LmdlbmVyYXRpb24gPT0gKGdlbiB8fCB0aGlzLmNsZWFuR2VuZXJhdGlvbik7XG4gICAgfSxcblxuICAgIGdldEhpc3Rvcnk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtkb25lOiBjb3B5SGlzdG9yeUFycmF5KHRoaXMuaGlzdG9yeS5kb25lKSxcbiAgICAgICAgICAgICAgdW5kb25lOiBjb3B5SGlzdG9yeUFycmF5KHRoaXMuaGlzdG9yeS51bmRvbmUpfTtcbiAgICB9LFxuICAgIHNldEhpc3Rvcnk6IGZ1bmN0aW9uKGhpc3REYXRhKSB7XG4gICAgICB2YXIgaGlzdCA9IHRoaXMuaGlzdG9yeSA9IG5ldyBIaXN0b3J5KHRoaXMuaGlzdG9yeS5tYXhHZW5lcmF0aW9uKTtcbiAgICAgIGhpc3QuZG9uZSA9IGNvcHlIaXN0b3J5QXJyYXkoaGlzdERhdGEuZG9uZS5zbGljZSgwKSwgbnVsbCwgdHJ1ZSk7XG4gICAgICBoaXN0LnVuZG9uZSA9IGNvcHlIaXN0b3J5QXJyYXkoaGlzdERhdGEudW5kb25lLnNsaWNlKDApLCBudWxsLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgYWRkTGluZUNsYXNzOiBkb2NNZXRob2RPcChmdW5jdGlvbihoYW5kbGUsIHdoZXJlLCBjbHMpIHtcbiAgICAgIHJldHVybiBjaGFuZ2VMaW5lKHRoaXMsIGhhbmRsZSwgXCJjbGFzc1wiLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIHZhciBwcm9wID0gd2hlcmUgPT0gXCJ0ZXh0XCIgPyBcInRleHRDbGFzc1wiIDogd2hlcmUgPT0gXCJiYWNrZ3JvdW5kXCIgPyBcImJnQ2xhc3NcIiA6IFwid3JhcENsYXNzXCI7XG4gICAgICAgIGlmICghbGluZVtwcm9wXSkgbGluZVtwcm9wXSA9IGNscztcbiAgICAgICAgZWxzZSBpZiAobmV3IFJlZ0V4cChcIig/Ol58XFxcXHMpXCIgKyBjbHMgKyBcIig/OiR8XFxcXHMpXCIpLnRlc3QobGluZVtwcm9wXSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgZWxzZSBsaW5lW3Byb3BdICs9IFwiIFwiICsgY2xzO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0pLFxuICAgIHJlbW92ZUxpbmVDbGFzczogZG9jTWV0aG9kT3AoZnVuY3Rpb24oaGFuZGxlLCB3aGVyZSwgY2xzKSB7XG4gICAgICByZXR1cm4gY2hhbmdlTGluZSh0aGlzLCBoYW5kbGUsIFwiY2xhc3NcIiwgZnVuY3Rpb24obGluZSkge1xuICAgICAgICB2YXIgcHJvcCA9IHdoZXJlID09IFwidGV4dFwiID8gXCJ0ZXh0Q2xhc3NcIiA6IHdoZXJlID09IFwiYmFja2dyb3VuZFwiID8gXCJiZ0NsYXNzXCIgOiBcIndyYXBDbGFzc1wiO1xuICAgICAgICB2YXIgY3VyID0gbGluZVtwcm9wXTtcbiAgICAgICAgaWYgKCFjdXIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAoY2xzID09IG51bGwpIGxpbmVbcHJvcF0gPSBudWxsO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgZm91bmQgPSBjdXIubWF0Y2gobmV3IFJlZ0V4cChcIig/Ol58XFxcXHMrKVwiICsgY2xzICsgXCIoPzokfFxcXFxzKylcIikpO1xuICAgICAgICAgIGlmICghZm91bmQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB2YXIgZW5kID0gZm91bmQuaW5kZXggKyBmb3VuZFswXS5sZW5ndGg7XG4gICAgICAgICAgbGluZVtwcm9wXSA9IGN1ci5zbGljZSgwLCBmb3VuZC5pbmRleCkgKyAoIWZvdW5kLmluZGV4IHx8IGVuZCA9PSBjdXIubGVuZ3RoID8gXCJcIiA6IFwiIFwiKSArIGN1ci5zbGljZShlbmQpIHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9KTtcbiAgICB9KSxcblxuICAgIG1hcmtUZXh0OiBmdW5jdGlvbihmcm9tLCB0bywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIG1hcmtUZXh0KHRoaXMsIGNsaXBQb3ModGhpcywgZnJvbSksIGNsaXBQb3ModGhpcywgdG8pLCBvcHRpb25zLCBcInJhbmdlXCIpO1xuICAgIH0sXG4gICAgc2V0Qm9va21hcms6IGZ1bmN0aW9uKHBvcywgb3B0aW9ucykge1xuICAgICAgdmFyIHJlYWxPcHRzID0ge3JlcGxhY2VkV2l0aDogb3B0aW9ucyAmJiAob3B0aW9ucy5ub2RlVHlwZSA9PSBudWxsID8gb3B0aW9ucy53aWRnZXQgOiBvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRMZWZ0OiBvcHRpb25zICYmIG9wdGlvbnMuaW5zZXJ0TGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICBjbGVhcldoZW5FbXB0eTogZmFsc2UsIHNoYXJlZDogb3B0aW9ucyAmJiBvcHRpb25zLnNoYXJlZH07XG4gICAgICBwb3MgPSBjbGlwUG9zKHRoaXMsIHBvcyk7XG4gICAgICByZXR1cm4gbWFya1RleHQodGhpcywgcG9zLCBwb3MsIHJlYWxPcHRzLCBcImJvb2ttYXJrXCIpO1xuICAgIH0sXG4gICAgZmluZE1hcmtzQXQ6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgcG9zID0gY2xpcFBvcyh0aGlzLCBwb3MpO1xuICAgICAgdmFyIG1hcmtlcnMgPSBbXSwgc3BhbnMgPSBnZXRMaW5lKHRoaXMsIHBvcy5saW5lKS5tYXJrZWRTcGFucztcbiAgICAgIGlmIChzcGFucykgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgc3BhbiA9IHNwYW5zW2ldO1xuICAgICAgICBpZiAoKHNwYW4uZnJvbSA9PSBudWxsIHx8IHNwYW4uZnJvbSA8PSBwb3MuY2gpICYmXG4gICAgICAgICAgICAoc3Bhbi50byA9PSBudWxsIHx8IHNwYW4udG8gPj0gcG9zLmNoKSlcbiAgICAgICAgICBtYXJrZXJzLnB1c2goc3Bhbi5tYXJrZXIucGFyZW50IHx8IHNwYW4ubWFya2VyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXJrZXJzO1xuICAgIH0sXG4gICAgZmluZE1hcmtzOiBmdW5jdGlvbihmcm9tLCB0bywgZmlsdGVyKSB7XG4gICAgICBmcm9tID0gY2xpcFBvcyh0aGlzLCBmcm9tKTsgdG8gPSBjbGlwUG9zKHRoaXMsIHRvKTtcbiAgICAgIHZhciBmb3VuZCA9IFtdLCBsaW5lTm8gPSBmcm9tLmxpbmU7XG4gICAgICB0aGlzLml0ZXIoZnJvbS5saW5lLCB0by5saW5lICsgMSwgZnVuY3Rpb24obGluZSkge1xuICAgICAgICB2YXIgc3BhbnMgPSBsaW5lLm1hcmtlZFNwYW5zO1xuICAgICAgICBpZiAoc3BhbnMpIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgc3BhbiA9IHNwYW5zW2ldO1xuICAgICAgICAgIGlmICghKGxpbmVObyA9PSBmcm9tLmxpbmUgJiYgZnJvbS5jaCA+IHNwYW4udG8gfHxcbiAgICAgICAgICAgICAgICBzcGFuLmZyb20gPT0gbnVsbCAmJiBsaW5lTm8gIT0gZnJvbS5saW5lfHxcbiAgICAgICAgICAgICAgICBsaW5lTm8gPT0gdG8ubGluZSAmJiBzcGFuLmZyb20gPiB0by5jaCkgJiZcbiAgICAgICAgICAgICAgKCFmaWx0ZXIgfHwgZmlsdGVyKHNwYW4ubWFya2VyKSkpXG4gICAgICAgICAgICBmb3VuZC5wdXNoKHNwYW4ubWFya2VyLnBhcmVudCB8fCBzcGFuLm1hcmtlcik7XG4gICAgICAgIH1cbiAgICAgICAgKytsaW5lTm87XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9LFxuICAgIGdldEFsbE1hcmtzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtYXJrZXJzID0gW107XG4gICAgICB0aGlzLml0ZXIoZnVuY3Rpb24obGluZSkge1xuICAgICAgICB2YXIgc3BzID0gbGluZS5tYXJrZWRTcGFucztcbiAgICAgICAgaWYgKHNwcykgZm9yICh2YXIgaSA9IDA7IGkgPCBzcHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgaWYgKHNwc1tpXS5mcm9tICE9IG51bGwpIG1hcmtlcnMucHVzaChzcHNbaV0ubWFya2VyKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1hcmtlcnM7XG4gICAgfSxcblxuICAgIHBvc0Zyb21JbmRleDogZnVuY3Rpb24ob2ZmKSB7XG4gICAgICB2YXIgY2gsIGxpbmVObyA9IHRoaXMuZmlyc3Q7XG4gICAgICB0aGlzLml0ZXIoZnVuY3Rpb24obGluZSkge1xuICAgICAgICB2YXIgc3ogPSBsaW5lLnRleHQubGVuZ3RoICsgMTtcbiAgICAgICAgaWYgKHN6ID4gb2ZmKSB7IGNoID0gb2ZmOyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICBvZmYgLT0gc3o7XG4gICAgICAgICsrbGluZU5vO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gY2xpcFBvcyh0aGlzLCBQb3MobGluZU5vLCBjaCkpO1xuICAgIH0sXG4gICAgaW5kZXhGcm9tUG9zOiBmdW5jdGlvbiAoY29vcmRzKSB7XG4gICAgICBjb29yZHMgPSBjbGlwUG9zKHRoaXMsIGNvb3Jkcyk7XG4gICAgICB2YXIgaW5kZXggPSBjb29yZHMuY2g7XG4gICAgICBpZiAoY29vcmRzLmxpbmUgPCB0aGlzLmZpcnN0IHx8IGNvb3Jkcy5jaCA8IDApIHJldHVybiAwO1xuICAgICAgdGhpcy5pdGVyKHRoaXMuZmlyc3QsIGNvb3Jkcy5saW5lLCBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICBpbmRleCArPSBsaW5lLnRleHQubGVuZ3RoICsgMTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH0sXG5cbiAgICBjb3B5OiBmdW5jdGlvbihjb3B5SGlzdG9yeSkge1xuICAgICAgdmFyIGRvYyA9IG5ldyBEb2MoZ2V0TGluZXModGhpcywgdGhpcy5maXJzdCwgdGhpcy5maXJzdCArIHRoaXMuc2l6ZSksIHRoaXMubW9kZU9wdGlvbiwgdGhpcy5maXJzdCk7XG4gICAgICBkb2Muc2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxUb3A7IGRvYy5zY3JvbGxMZWZ0ID0gdGhpcy5zY3JvbGxMZWZ0O1xuICAgICAgZG9jLnNlbCA9IHRoaXMuc2VsO1xuICAgICAgZG9jLmV4dGVuZCA9IGZhbHNlO1xuICAgICAgaWYgKGNvcHlIaXN0b3J5KSB7XG4gICAgICAgIGRvYy5oaXN0b3J5LnVuZG9EZXB0aCA9IHRoaXMuaGlzdG9yeS51bmRvRGVwdGg7XG4gICAgICAgIGRvYy5zZXRIaXN0b3J5KHRoaXMuZ2V0SGlzdG9yeSgpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkb2M7XG4gICAgfSxcblxuICAgIGxpbmtlZERvYzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge307XG4gICAgICB2YXIgZnJvbSA9IHRoaXMuZmlyc3QsIHRvID0gdGhpcy5maXJzdCArIHRoaXMuc2l6ZTtcbiAgICAgIGlmIChvcHRpb25zLmZyb20gIT0gbnVsbCAmJiBvcHRpb25zLmZyb20gPiBmcm9tKSBmcm9tID0gb3B0aW9ucy5mcm9tO1xuICAgICAgaWYgKG9wdGlvbnMudG8gIT0gbnVsbCAmJiBvcHRpb25zLnRvIDwgdG8pIHRvID0gb3B0aW9ucy50bztcbiAgICAgIHZhciBjb3B5ID0gbmV3IERvYyhnZXRMaW5lcyh0aGlzLCBmcm9tLCB0byksIG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGVPcHRpb24sIGZyb20pO1xuICAgICAgaWYgKG9wdGlvbnMuc2hhcmVkSGlzdCkgY29weS5oaXN0b3J5ID0gdGhpcy5oaXN0b3J5O1xuICAgICAgKHRoaXMubGlua2VkIHx8ICh0aGlzLmxpbmtlZCA9IFtdKSkucHVzaCh7ZG9jOiBjb3B5LCBzaGFyZWRIaXN0OiBvcHRpb25zLnNoYXJlZEhpc3R9KTtcbiAgICAgIGNvcHkubGlua2VkID0gW3tkb2M6IHRoaXMsIGlzUGFyZW50OiB0cnVlLCBzaGFyZWRIaXN0OiBvcHRpb25zLnNoYXJlZEhpc3R9XTtcbiAgICAgIGNvcHlTaGFyZWRNYXJrZXJzKGNvcHksIGZpbmRTaGFyZWRNYXJrZXJzKHRoaXMpKTtcbiAgICAgIHJldHVybiBjb3B5O1xuICAgIH0sXG4gICAgdW5saW5rRG9jOiBmdW5jdGlvbihvdGhlcikge1xuICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgQ29kZU1pcnJvcikgb3RoZXIgPSBvdGhlci5kb2M7XG4gICAgICBpZiAodGhpcy5saW5rZWQpIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5saW5rZWQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmxpbmtlZFtpXTtcbiAgICAgICAgaWYgKGxpbmsuZG9jICE9IG90aGVyKSBjb250aW51ZTtcbiAgICAgICAgdGhpcy5saW5rZWQuc3BsaWNlKGksIDEpO1xuICAgICAgICBvdGhlci51bmxpbmtEb2ModGhpcyk7XG4gICAgICAgIGRldGFjaFNoYXJlZE1hcmtlcnMoZmluZFNoYXJlZE1hcmtlcnModGhpcykpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIElmIHRoZSBoaXN0b3JpZXMgd2VyZSBzaGFyZWQsIHNwbGl0IHRoZW0gYWdhaW5cbiAgICAgIGlmIChvdGhlci5oaXN0b3J5ID09IHRoaXMuaGlzdG9yeSkge1xuICAgICAgICB2YXIgc3BsaXRJZHMgPSBbb3RoZXIuaWRdO1xuICAgICAgICBsaW5rZWREb2NzKG90aGVyLCBmdW5jdGlvbihkb2MpIHtzcGxpdElkcy5wdXNoKGRvYy5pZCk7fSwgdHJ1ZSk7XG4gICAgICAgIG90aGVyLmhpc3RvcnkgPSBuZXcgSGlzdG9yeShudWxsKTtcbiAgICAgICAgb3RoZXIuaGlzdG9yeS5kb25lID0gY29weUhpc3RvcnlBcnJheSh0aGlzLmhpc3RvcnkuZG9uZSwgc3BsaXRJZHMpO1xuICAgICAgICBvdGhlci5oaXN0b3J5LnVuZG9uZSA9IGNvcHlIaXN0b3J5QXJyYXkodGhpcy5oaXN0b3J5LnVuZG9uZSwgc3BsaXRJZHMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXRlckxpbmtlZERvY3M6IGZ1bmN0aW9uKGYpIHtsaW5rZWREb2NzKHRoaXMsIGYpO30sXG5cbiAgICBnZXRNb2RlOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5tb2RlO30sXG4gICAgZ2V0RWRpdG9yOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5jbTt9XG4gIH0pO1xuXG4gIC8vIFB1YmxpYyBhbGlhcy5cbiAgRG9jLnByb3RvdHlwZS5lYWNoTGluZSA9IERvYy5wcm90b3R5cGUuaXRlcjtcblxuICAvLyBTZXQgdXAgbWV0aG9kcyBvbiBDb2RlTWlycm9yJ3MgcHJvdG90eXBlIHRvIHJlZGlyZWN0IHRvIHRoZSBlZGl0b3IncyBkb2N1bWVudC5cbiAgdmFyIGRvbnREZWxlZ2F0ZSA9IFwiaXRlciBpbnNlcnQgcmVtb3ZlIGNvcHkgZ2V0RWRpdG9yXCIuc3BsaXQoXCIgXCIpO1xuICBmb3IgKHZhciBwcm9wIGluIERvYy5wcm90b3R5cGUpIGlmIChEb2MucHJvdG90eXBlLmhhc093blByb3BlcnR5KHByb3ApICYmIGluZGV4T2YoZG9udERlbGVnYXRlLCBwcm9wKSA8IDApXG4gICAgQ29kZU1pcnJvci5wcm90b3R5cGVbcHJvcF0gPSAoZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7cmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLmRvYywgYXJndW1lbnRzKTt9O1xuICAgIH0pKERvYy5wcm90b3R5cGVbcHJvcF0pO1xuXG4gIGV2ZW50TWl4aW4oRG9jKTtcblxuICAvLyBDYWxsIGYgZm9yIGFsbCBsaW5rZWQgZG9jdW1lbnRzLlxuICBmdW5jdGlvbiBsaW5rZWREb2NzKGRvYywgZiwgc2hhcmVkSGlzdE9ubHkpIHtcbiAgICBmdW5jdGlvbiBwcm9wYWdhdGUoZG9jLCBza2lwLCBzaGFyZWRIaXN0KSB7XG4gICAgICBpZiAoZG9jLmxpbmtlZCkgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2MubGlua2VkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciByZWwgPSBkb2MubGlua2VkW2ldO1xuICAgICAgICBpZiAocmVsLmRvYyA9PSBza2lwKSBjb250aW51ZTtcbiAgICAgICAgdmFyIHNoYXJlZCA9IHNoYXJlZEhpc3QgJiYgcmVsLnNoYXJlZEhpc3Q7XG4gICAgICAgIGlmIChzaGFyZWRIaXN0T25seSAmJiAhc2hhcmVkKSBjb250aW51ZTtcbiAgICAgICAgZihyZWwuZG9jLCBzaGFyZWQpO1xuICAgICAgICBwcm9wYWdhdGUocmVsLmRvYywgZG9jLCBzaGFyZWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBwcm9wYWdhdGUoZG9jLCBudWxsLCB0cnVlKTtcbiAgfVxuXG4gIC8vIEF0dGFjaCBhIGRvY3VtZW50IHRvIGFuIGVkaXRvci5cbiAgZnVuY3Rpb24gYXR0YWNoRG9jKGNtLCBkb2MpIHtcbiAgICBpZiAoZG9jLmNtKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGRvY3VtZW50IGlzIGFscmVhZHkgaW4gdXNlLlwiKTtcbiAgICBjbS5kb2MgPSBkb2M7XG4gICAgZG9jLmNtID0gY207XG4gICAgZXN0aW1hdGVMaW5lSGVpZ2h0cyhjbSk7XG4gICAgbG9hZE1vZGUoY20pO1xuICAgIGlmICghY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIGZpbmRNYXhMaW5lKGNtKTtcbiAgICBjbS5vcHRpb25zLm1vZGUgPSBkb2MubW9kZU9wdGlvbjtcbiAgICByZWdDaGFuZ2UoY20pO1xuICB9XG5cbiAgLy8gTElORSBVVElMSVRJRVNcblxuICAvLyBGaW5kIHRoZSBsaW5lIG9iamVjdCBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBsaW5lIG51bWJlci5cbiAgZnVuY3Rpb24gZ2V0TGluZShkb2MsIG4pIHtcbiAgICBuIC09IGRvYy5maXJzdDtcbiAgICBpZiAobiA8IDAgfHwgbiA+PSBkb2Muc2l6ZSkgdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgaXMgbm8gbGluZSBcIiArIChuICsgZG9jLmZpcnN0KSArIFwiIGluIHRoZSBkb2N1bWVudC5cIik7XG4gICAgZm9yICh2YXIgY2h1bmsgPSBkb2M7ICFjaHVuay5saW5lczspIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOzsgKytpKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IGNodW5rLmNoaWxkcmVuW2ldLCBzeiA9IGNoaWxkLmNodW5rU2l6ZSgpO1xuICAgICAgICBpZiAobiA8IHN6KSB7IGNodW5rID0gY2hpbGQ7IGJyZWFrOyB9XG4gICAgICAgIG4gLT0gc3o7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaHVuay5saW5lc1tuXTtcbiAgfVxuXG4gIC8vIEdldCB0aGUgcGFydCBvZiBhIGRvY3VtZW50IGJldHdlZW4gdHdvIHBvc2l0aW9ucywgYXMgYW4gYXJyYXkgb2ZcbiAgLy8gc3RyaW5ncy5cbiAgZnVuY3Rpb24gZ2V0QmV0d2Vlbihkb2MsIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgb3V0ID0gW10sIG4gPSBzdGFydC5saW5lO1xuICAgIGRvYy5pdGVyKHN0YXJ0LmxpbmUsIGVuZC5saW5lICsgMSwgZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHRleHQgPSBsaW5lLnRleHQ7XG4gICAgICBpZiAobiA9PSBlbmQubGluZSkgdGV4dCA9IHRleHQuc2xpY2UoMCwgZW5kLmNoKTtcbiAgICAgIGlmIChuID09IHN0YXJ0LmxpbmUpIHRleHQgPSB0ZXh0LnNsaWNlKHN0YXJ0LmNoKTtcbiAgICAgIG91dC5wdXNoKHRleHQpO1xuICAgICAgKytuO1xuICAgIH0pO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgLy8gR2V0IHRoZSBsaW5lcyBiZXR3ZWVuIGZyb20gYW5kIHRvLCBhcyBhcnJheSBvZiBzdHJpbmdzLlxuICBmdW5jdGlvbiBnZXRMaW5lcyhkb2MsIGZyb20sIHRvKSB7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIGRvYy5pdGVyKGZyb20sIHRvLCBmdW5jdGlvbihsaW5lKSB7IG91dC5wdXNoKGxpbmUudGV4dCk7IH0pO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIGhlaWdodCBvZiBhIGxpbmUsIHByb3BhZ2F0aW5nIHRoZSBoZWlnaHQgY2hhbmdlXG4gIC8vIHVwd2FyZHMgdG8gcGFyZW50IG5vZGVzLlxuICBmdW5jdGlvbiB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIGhlaWdodCkge1xuICAgIHZhciBkaWZmID0gaGVpZ2h0IC0gbGluZS5oZWlnaHQ7XG4gICAgaWYgKGRpZmYpIGZvciAodmFyIG4gPSBsaW5lOyBuOyBuID0gbi5wYXJlbnQpIG4uaGVpZ2h0ICs9IGRpZmY7XG4gIH1cblxuICAvLyBHaXZlbiBhIGxpbmUgb2JqZWN0LCBmaW5kIGl0cyBsaW5lIG51bWJlciBieSB3YWxraW5nIHVwIHRocm91Z2hcbiAgLy8gaXRzIHBhcmVudCBsaW5rcy5cbiAgZnVuY3Rpb24gbGluZU5vKGxpbmUpIHtcbiAgICBpZiAobGluZS5wYXJlbnQgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgdmFyIGN1ciA9IGxpbmUucGFyZW50LCBubyA9IGluZGV4T2YoY3VyLmxpbmVzLCBsaW5lKTtcbiAgICBmb3IgKHZhciBjaHVuayA9IGN1ci5wYXJlbnQ7IGNodW5rOyBjdXIgPSBjaHVuaywgY2h1bmsgPSBjaHVuay5wYXJlbnQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOzsgKytpKSB7XG4gICAgICAgIGlmIChjaHVuay5jaGlsZHJlbltpXSA9PSBjdXIpIGJyZWFrO1xuICAgICAgICBubyArPSBjaHVuay5jaGlsZHJlbltpXS5jaHVua1NpemUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vICsgY3VyLmZpcnN0O1xuICB9XG5cbiAgLy8gRmluZCB0aGUgbGluZSBhdCB0aGUgZ2l2ZW4gdmVydGljYWwgcG9zaXRpb24sIHVzaW5nIHRoZSBoZWlnaHRcbiAgLy8gaW5mb3JtYXRpb24gaW4gdGhlIGRvY3VtZW50IHRyZWUuXG4gIGZ1bmN0aW9uIGxpbmVBdEhlaWdodChjaHVuaywgaCkge1xuICAgIHZhciBuID0gY2h1bmsuZmlyc3Q7XG4gICAgb3V0ZXI6IGRvIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2h1bmsuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gY2h1bmsuY2hpbGRyZW5baV0sIGNoID0gY2hpbGQuaGVpZ2h0O1xuICAgICAgICBpZiAoaCA8IGNoKSB7IGNodW5rID0gY2hpbGQ7IGNvbnRpbnVlIG91dGVyOyB9XG4gICAgICAgIGggLT0gY2g7XG4gICAgICAgIG4gKz0gY2hpbGQuY2h1bmtTaXplKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbjtcbiAgICB9IHdoaWxlICghY2h1bmsubGluZXMpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2h1bmsubGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBsaW5lID0gY2h1bmsubGluZXNbaV0sIGxoID0gbGluZS5oZWlnaHQ7XG4gICAgICBpZiAoaCA8IGxoKSBicmVhaztcbiAgICAgIGggLT0gbGg7XG4gICAgfVxuICAgIHJldHVybiBuICsgaTtcbiAgfVxuXG5cbiAgLy8gRmluZCB0aGUgaGVpZ2h0IGFib3ZlIHRoZSBnaXZlbiBsaW5lLlxuICBmdW5jdGlvbiBoZWlnaHRBdExpbmUobGluZU9iaikge1xuICAgIGxpbmVPYmogPSB2aXN1YWxMaW5lKGxpbmVPYmopO1xuXG4gICAgdmFyIGggPSAwLCBjaHVuayA9IGxpbmVPYmoucGFyZW50O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2h1bmsubGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBsaW5lID0gY2h1bmsubGluZXNbaV07XG4gICAgICBpZiAobGluZSA9PSBsaW5lT2JqKSBicmVhaztcbiAgICAgIGVsc2UgaCArPSBsaW5lLmhlaWdodDtcbiAgICB9XG4gICAgZm9yICh2YXIgcCA9IGNodW5rLnBhcmVudDsgcDsgY2h1bmsgPSBwLCBwID0gY2h1bmsucGFyZW50KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHAuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGN1ciA9IHAuY2hpbGRyZW5baV07XG4gICAgICAgIGlmIChjdXIgPT0gY2h1bmspIGJyZWFrO1xuICAgICAgICBlbHNlIGggKz0gY3VyLmhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGg7XG4gIH1cblxuICAvLyBHZXQgdGhlIGJpZGkgb3JkZXJpbmcgZm9yIHRoZSBnaXZlbiBsaW5lIChhbmQgY2FjaGUgaXQpLiBSZXR1cm5zXG4gIC8vIGZhbHNlIGZvciBsaW5lcyB0aGF0IGFyZSBmdWxseSBsZWZ0LXRvLXJpZ2h0LCBhbmQgYW4gYXJyYXkgb2ZcbiAgLy8gQmlkaVNwYW4gb2JqZWN0cyBvdGhlcndpc2UuXG4gIGZ1bmN0aW9uIGdldE9yZGVyKGxpbmUpIHtcbiAgICB2YXIgb3JkZXIgPSBsaW5lLm9yZGVyO1xuICAgIGlmIChvcmRlciA9PSBudWxsKSBvcmRlciA9IGxpbmUub3JkZXIgPSBiaWRpT3JkZXJpbmcobGluZS50ZXh0KTtcbiAgICByZXR1cm4gb3JkZXI7XG4gIH1cblxuICAvLyBISVNUT1JZXG5cbiAgZnVuY3Rpb24gSGlzdG9yeShzdGFydEdlbikge1xuICAgIC8vIEFycmF5cyBvZiBjaGFuZ2UgZXZlbnRzIGFuZCBzZWxlY3Rpb25zLiBEb2luZyBzb21ldGhpbmcgYWRkcyBhblxuICAgIC8vIGV2ZW50IHRvIGRvbmUgYW5kIGNsZWFycyB1bmRvLiBVbmRvaW5nIG1vdmVzIGV2ZW50cyBmcm9tIGRvbmVcbiAgICAvLyB0byB1bmRvbmUsIHJlZG9pbmcgbW92ZXMgdGhlbSBpbiB0aGUgb3RoZXIgZGlyZWN0aW9uLlxuICAgIHRoaXMuZG9uZSA9IFtdOyB0aGlzLnVuZG9uZSA9IFtdO1xuICAgIHRoaXMudW5kb0RlcHRoID0gSW5maW5pdHk7XG4gICAgLy8gVXNlZCB0byB0cmFjayB3aGVuIGNoYW5nZXMgY2FuIGJlIG1lcmdlZCBpbnRvIGEgc2luZ2xlIHVuZG9cbiAgICAvLyBldmVudFxuICAgIHRoaXMubGFzdE1vZFRpbWUgPSB0aGlzLmxhc3RTZWxUaW1lID0gMDtcbiAgICB0aGlzLmxhc3RPcCA9IHRoaXMubGFzdFNlbE9wID0gbnVsbDtcbiAgICB0aGlzLmxhc3RPcmlnaW4gPSB0aGlzLmxhc3RTZWxPcmlnaW4gPSBudWxsO1xuICAgIC8vIFVzZWQgYnkgdGhlIGlzQ2xlYW4oKSBtZXRob2RcbiAgICB0aGlzLmdlbmVyYXRpb24gPSB0aGlzLm1heEdlbmVyYXRpb24gPSBzdGFydEdlbiB8fCAxO1xuICB9XG5cbiAgLy8gQ3JlYXRlIGEgaGlzdG9yeSBjaGFuZ2UgZXZlbnQgZnJvbSBhbiB1cGRhdGVEb2Mtc3R5bGUgY2hhbmdlXG4gIC8vIG9iamVjdC5cbiAgZnVuY3Rpb24gaGlzdG9yeUNoYW5nZUZyb21DaGFuZ2UoZG9jLCBjaGFuZ2UpIHtcbiAgICB2YXIgaGlzdENoYW5nZSA9IHtmcm9tOiBjb3B5UG9zKGNoYW5nZS5mcm9tKSwgdG86IGNoYW5nZUVuZChjaGFuZ2UpLCB0ZXh0OiBnZXRCZXR3ZWVuKGRvYywgY2hhbmdlLmZyb20sIGNoYW5nZS50byl9O1xuICAgIGF0dGFjaExvY2FsU3BhbnMoZG9jLCBoaXN0Q2hhbmdlLCBjaGFuZ2UuZnJvbS5saW5lLCBjaGFuZ2UudG8ubGluZSArIDEpO1xuICAgIGxpbmtlZERvY3MoZG9jLCBmdW5jdGlvbihkb2MpIHthdHRhY2hMb2NhbFNwYW5zKGRvYywgaGlzdENoYW5nZSwgY2hhbmdlLmZyb20ubGluZSwgY2hhbmdlLnRvLmxpbmUgKyAxKTt9LCB0cnVlKTtcbiAgICByZXR1cm4gaGlzdENoYW5nZTtcbiAgfVxuXG4gIC8vIFBvcCBhbGwgc2VsZWN0aW9uIGV2ZW50cyBvZmYgdGhlIGVuZCBvZiBhIGhpc3RvcnkgYXJyYXkuIFN0b3AgYXRcbiAgLy8gYSBjaGFuZ2UgZXZlbnQuXG4gIGZ1bmN0aW9uIGNsZWFyU2VsZWN0aW9uRXZlbnRzKGFycmF5KSB7XG4gICAgd2hpbGUgKGFycmF5Lmxlbmd0aCkge1xuICAgICAgdmFyIGxhc3QgPSBsc3QoYXJyYXkpO1xuICAgICAgaWYgKGxhc3QucmFuZ2VzKSBhcnJheS5wb3AoKTtcbiAgICAgIGVsc2UgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy8gRmluZCB0aGUgdG9wIGNoYW5nZSBldmVudCBpbiB0aGUgaGlzdG9yeS4gUG9wIG9mZiBzZWxlY3Rpb25cbiAgLy8gZXZlbnRzIHRoYXQgYXJlIGluIHRoZSB3YXkuXG4gIGZ1bmN0aW9uIGxhc3RDaGFuZ2VFdmVudChoaXN0LCBmb3JjZSkge1xuICAgIGlmIChmb3JjZSkge1xuICAgICAgY2xlYXJTZWxlY3Rpb25FdmVudHMoaGlzdC5kb25lKTtcbiAgICAgIHJldHVybiBsc3QoaGlzdC5kb25lKTtcbiAgICB9IGVsc2UgaWYgKGhpc3QuZG9uZS5sZW5ndGggJiYgIWxzdChoaXN0LmRvbmUpLnJhbmdlcykge1xuICAgICAgcmV0dXJuIGxzdChoaXN0LmRvbmUpO1xuICAgIH0gZWxzZSBpZiAoaGlzdC5kb25lLmxlbmd0aCA+IDEgJiYgIWhpc3QuZG9uZVtoaXN0LmRvbmUubGVuZ3RoIC0gMl0ucmFuZ2VzKSB7XG4gICAgICBoaXN0LmRvbmUucG9wKCk7XG4gICAgICByZXR1cm4gbHN0KGhpc3QuZG9uZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gUmVnaXN0ZXIgYSBjaGFuZ2UgaW4gdGhlIGhpc3RvcnkuIE1lcmdlcyBjaGFuZ2VzIHRoYXQgYXJlIHdpdGhpblxuICAvLyBhIHNpbmdsZSBvcGVyYXRpb24sIG9yZSBhcmUgY2xvc2UgdG9nZXRoZXIgd2l0aCBhbiBvcmlnaW4gdGhhdFxuICAvLyBhbGxvd3MgbWVyZ2luZyAoc3RhcnRpbmcgd2l0aCBcIitcIikgaW50byBhIHNpbmdsZSBldmVudC5cbiAgZnVuY3Rpb24gYWRkQ2hhbmdlVG9IaXN0b3J5KGRvYywgY2hhbmdlLCBzZWxBZnRlciwgb3BJZCkge1xuICAgIHZhciBoaXN0ID0gZG9jLmhpc3Rvcnk7XG4gICAgaGlzdC51bmRvbmUubGVuZ3RoID0gMDtcbiAgICB2YXIgdGltZSA9ICtuZXcgRGF0ZSwgY3VyO1xuXG4gICAgaWYgKChoaXN0Lmxhc3RPcCA9PSBvcElkIHx8XG4gICAgICAgICBoaXN0Lmxhc3RPcmlnaW4gPT0gY2hhbmdlLm9yaWdpbiAmJiBjaGFuZ2Uub3JpZ2luICYmXG4gICAgICAgICAoKGNoYW5nZS5vcmlnaW4uY2hhckF0KDApID09IFwiK1wiICYmIGRvYy5jbSAmJiBoaXN0Lmxhc3RNb2RUaW1lID4gdGltZSAtIGRvYy5jbS5vcHRpb25zLmhpc3RvcnlFdmVudERlbGF5KSB8fFxuICAgICAgICAgIGNoYW5nZS5vcmlnaW4uY2hhckF0KDApID09IFwiKlwiKSkgJiZcbiAgICAgICAgKGN1ciA9IGxhc3RDaGFuZ2VFdmVudChoaXN0LCBoaXN0Lmxhc3RPcCA9PSBvcElkKSkpIHtcbiAgICAgIC8vIE1lcmdlIHRoaXMgY2hhbmdlIGludG8gdGhlIGxhc3QgZXZlbnRcbiAgICAgIHZhciBsYXN0ID0gbHN0KGN1ci5jaGFuZ2VzKTtcbiAgICAgIGlmIChjbXAoY2hhbmdlLmZyb20sIGNoYW5nZS50bykgPT0gMCAmJiBjbXAoY2hhbmdlLmZyb20sIGxhc3QudG8pID09IDApIHtcbiAgICAgICAgLy8gT3B0aW1pemVkIGNhc2UgZm9yIHNpbXBsZSBpbnNlcnRpb24gLS0gZG9uJ3Qgd2FudCB0byBhZGRcbiAgICAgICAgLy8gbmV3IGNoYW5nZXNldHMgZm9yIGV2ZXJ5IGNoYXJhY3RlciB0eXBlZFxuICAgICAgICBsYXN0LnRvID0gY2hhbmdlRW5kKGNoYW5nZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBZGQgbmV3IHN1Yi1ldmVudFxuICAgICAgICBjdXIuY2hhbmdlcy5wdXNoKGhpc3RvcnlDaGFuZ2VGcm9tQ2hhbmdlKGRvYywgY2hhbmdlKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENhbiBub3QgYmUgbWVyZ2VkLCBzdGFydCBhIG5ldyBldmVudC5cbiAgICAgIHZhciBiZWZvcmUgPSBsc3QoaGlzdC5kb25lKTtcbiAgICAgIGlmICghYmVmb3JlIHx8ICFiZWZvcmUucmFuZ2VzKVxuICAgICAgICBwdXNoU2VsZWN0aW9uVG9IaXN0b3J5KGRvYy5zZWwsIGhpc3QuZG9uZSk7XG4gICAgICBjdXIgPSB7Y2hhbmdlczogW2hpc3RvcnlDaGFuZ2VGcm9tQ2hhbmdlKGRvYywgY2hhbmdlKV0sXG4gICAgICAgICAgICAgZ2VuZXJhdGlvbjogaGlzdC5nZW5lcmF0aW9ufTtcbiAgICAgIGhpc3QuZG9uZS5wdXNoKGN1cik7XG4gICAgICB3aGlsZSAoaGlzdC5kb25lLmxlbmd0aCA+IGhpc3QudW5kb0RlcHRoKSB7XG4gICAgICAgIGhpc3QuZG9uZS5zaGlmdCgpO1xuICAgICAgICBpZiAoIWhpc3QuZG9uZVswXS5yYW5nZXMpIGhpc3QuZG9uZS5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBoaXN0LmRvbmUucHVzaChzZWxBZnRlcik7XG4gICAgaGlzdC5nZW5lcmF0aW9uID0gKytoaXN0Lm1heEdlbmVyYXRpb247XG4gICAgaGlzdC5sYXN0TW9kVGltZSA9IGhpc3QubGFzdFNlbFRpbWUgPSB0aW1lO1xuICAgIGhpc3QubGFzdE9wID0gaGlzdC5sYXN0U2VsT3AgPSBvcElkO1xuICAgIGhpc3QubGFzdE9yaWdpbiA9IGhpc3QubGFzdFNlbE9yaWdpbiA9IGNoYW5nZS5vcmlnaW47XG5cbiAgICBpZiAoIWxhc3QpIHNpZ25hbChkb2MsIFwiaGlzdG9yeUFkZGVkXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0aW9uRXZlbnRDYW5CZU1lcmdlZChkb2MsIG9yaWdpbiwgcHJldiwgc2VsKSB7XG4gICAgdmFyIGNoID0gb3JpZ2luLmNoYXJBdCgwKTtcbiAgICByZXR1cm4gY2ggPT0gXCIqXCIgfHxcbiAgICAgIGNoID09IFwiK1wiICYmXG4gICAgICBwcmV2LnJhbmdlcy5sZW5ndGggPT0gc2VsLnJhbmdlcy5sZW5ndGggJiZcbiAgICAgIHByZXYuc29tZXRoaW5nU2VsZWN0ZWQoKSA9PSBzZWwuc29tZXRoaW5nU2VsZWN0ZWQoKSAmJlxuICAgICAgbmV3IERhdGUgLSBkb2MuaGlzdG9yeS5sYXN0U2VsVGltZSA8PSAoZG9jLmNtID8gZG9jLmNtLm9wdGlvbnMuaGlzdG9yeUV2ZW50RGVsYXkgOiA1MDApO1xuICB9XG5cbiAgLy8gQ2FsbGVkIHdoZW5ldmVyIHRoZSBzZWxlY3Rpb24gY2hhbmdlcywgc2V0cyB0aGUgbmV3IHNlbGVjdGlvbiBhc1xuICAvLyB0aGUgcGVuZGluZyBzZWxlY3Rpb24gaW4gdGhlIGhpc3RvcnksIGFuZCBwdXNoZXMgdGhlIG9sZCBwZW5kaW5nXG4gIC8vIHNlbGVjdGlvbiBpbnRvIHRoZSAnZG9uZScgYXJyYXkgd2hlbiBpdCB3YXMgc2lnbmlmaWNhbnRseVxuICAvLyBkaWZmZXJlbnQgKGluIG51bWJlciBvZiBzZWxlY3RlZCByYW5nZXMsIGVtcHRpbmVzcywgb3IgdGltZSkuXG4gIGZ1bmN0aW9uIGFkZFNlbGVjdGlvblRvSGlzdG9yeShkb2MsIHNlbCwgb3BJZCwgb3B0aW9ucykge1xuICAgIHZhciBoaXN0ID0gZG9jLmhpc3RvcnksIG9yaWdpbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5vcmlnaW47XG5cbiAgICAvLyBBIG5ldyBldmVudCBpcyBzdGFydGVkIHdoZW4gdGhlIHByZXZpb3VzIG9yaWdpbiBkb2VzIG5vdCBtYXRjaFxuICAgIC8vIHRoZSBjdXJyZW50LCBvciB0aGUgb3JpZ2lucyBkb24ndCBhbGxvdyBtYXRjaGluZy4gT3JpZ2luc1xuICAgIC8vIHN0YXJ0aW5nIHdpdGggKiBhcmUgYWx3YXlzIG1lcmdlZCwgdGhvc2Ugc3RhcnRpbmcgd2l0aCArIGFyZVxuICAgIC8vIG1lcmdlZCB3aGVuIHNpbWlsYXIgYW5kIGNsb3NlIHRvZ2V0aGVyIGluIHRpbWUuXG4gICAgaWYgKG9wSWQgPT0gaGlzdC5sYXN0U2VsT3AgfHxcbiAgICAgICAgKG9yaWdpbiAmJiBoaXN0Lmxhc3RTZWxPcmlnaW4gPT0gb3JpZ2luICYmXG4gICAgICAgICAoaGlzdC5sYXN0TW9kVGltZSA9PSBoaXN0Lmxhc3RTZWxUaW1lICYmIGhpc3QubGFzdE9yaWdpbiA9PSBvcmlnaW4gfHxcbiAgICAgICAgICBzZWxlY3Rpb25FdmVudENhbkJlTWVyZ2VkKGRvYywgb3JpZ2luLCBsc3QoaGlzdC5kb25lKSwgc2VsKSkpKVxuICAgICAgaGlzdC5kb25lW2hpc3QuZG9uZS5sZW5ndGggLSAxXSA9IHNlbDtcbiAgICBlbHNlXG4gICAgICBwdXNoU2VsZWN0aW9uVG9IaXN0b3J5KHNlbCwgaGlzdC5kb25lKTtcblxuICAgIGhpc3QubGFzdFNlbFRpbWUgPSArbmV3IERhdGU7XG4gICAgaGlzdC5sYXN0U2VsT3JpZ2luID0gb3JpZ2luO1xuICAgIGhpc3QubGFzdFNlbE9wID0gb3BJZDtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmNsZWFyUmVkbyAhPT0gZmFsc2UpXG4gICAgICBjbGVhclNlbGVjdGlvbkV2ZW50cyhoaXN0LnVuZG9uZSk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoU2VsZWN0aW9uVG9IaXN0b3J5KHNlbCwgZGVzdCkge1xuICAgIHZhciB0b3AgPSBsc3QoZGVzdCk7XG4gICAgaWYgKCEodG9wICYmIHRvcC5yYW5nZXMgJiYgdG9wLmVxdWFscyhzZWwpKSlcbiAgICAgIGRlc3QucHVzaChzZWwpO1xuICB9XG5cbiAgLy8gVXNlZCB0byBzdG9yZSBtYXJrZWQgc3BhbiBpbmZvcm1hdGlvbiBpbiB0aGUgaGlzdG9yeS5cbiAgZnVuY3Rpb24gYXR0YWNoTG9jYWxTcGFucyhkb2MsIGNoYW5nZSwgZnJvbSwgdG8pIHtcbiAgICB2YXIgZXhpc3RpbmcgPSBjaGFuZ2VbXCJzcGFuc19cIiArIGRvYy5pZF0sIG4gPSAwO1xuICAgIGRvYy5pdGVyKE1hdGgubWF4KGRvYy5maXJzdCwgZnJvbSksIE1hdGgubWluKGRvYy5maXJzdCArIGRvYy5zaXplLCB0byksIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmIChsaW5lLm1hcmtlZFNwYW5zKVxuICAgICAgICAoZXhpc3RpbmcgfHwgKGV4aXN0aW5nID0gY2hhbmdlW1wic3BhbnNfXCIgKyBkb2MuaWRdID0ge30pKVtuXSA9IGxpbmUubWFya2VkU3BhbnM7XG4gICAgICArK247XG4gICAgfSk7XG4gIH1cblxuICAvLyBXaGVuIHVuL3JlLWRvaW5nIHJlc3RvcmVzIHRleHQgY29udGFpbmluZyBtYXJrZWQgc3BhbnMsIHRob3NlXG4gIC8vIHRoYXQgaGF2ZSBiZWVuIGV4cGxpY2l0bHkgY2xlYXJlZCBzaG91bGQgbm90IGJlIHJlc3RvcmVkLlxuICBmdW5jdGlvbiByZW1vdmVDbGVhcmVkU3BhbnMoc3BhbnMpIHtcbiAgICBpZiAoIXNwYW5zKSByZXR1cm4gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gMCwgb3V0OyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmIChzcGFuc1tpXS5tYXJrZXIuZXhwbGljaXRseUNsZWFyZWQpIHsgaWYgKCFvdXQpIG91dCA9IHNwYW5zLnNsaWNlKDAsIGkpOyB9XG4gICAgICBlbHNlIGlmIChvdXQpIG91dC5wdXNoKHNwYW5zW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuICFvdXQgPyBzcGFucyA6IG91dC5sZW5ndGggPyBvdXQgOiBudWxsO1xuICB9XG5cbiAgLy8gUmV0cmlldmUgYW5kIGZpbHRlciB0aGUgb2xkIG1hcmtlZCBzcGFucyBzdG9yZWQgaW4gYSBjaGFuZ2UgZXZlbnQuXG4gIGZ1bmN0aW9uIGdldE9sZFNwYW5zKGRvYywgY2hhbmdlKSB7XG4gICAgdmFyIGZvdW5kID0gY2hhbmdlW1wic3BhbnNfXCIgKyBkb2MuaWRdO1xuICAgIGlmICghZm91bmQpIHJldHVybiBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwLCBudyA9IFtdOyBpIDwgY2hhbmdlLnRleHQubGVuZ3RoOyArK2kpXG4gICAgICBudy5wdXNoKHJlbW92ZUNsZWFyZWRTcGFucyhmb3VuZFtpXSkpO1xuICAgIHJldHVybiBudztcbiAgfVxuXG4gIC8vIFVzZWQgYm90aCB0byBwcm92aWRlIGEgSlNPTi1zYWZlIG9iamVjdCBpbiAuZ2V0SGlzdG9yeSwgYW5kLCB3aGVuXG4gIC8vIGRldGFjaGluZyBhIGRvY3VtZW50LCB0byBzcGxpdCB0aGUgaGlzdG9yeSBpbiB0d29cbiAgZnVuY3Rpb24gY29weUhpc3RvcnlBcnJheShldmVudHMsIG5ld0dyb3VwLCBpbnN0YW50aWF0ZVNlbCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBjb3B5ID0gW107IGkgPCBldmVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcbiAgICAgIGlmIChldmVudC5yYW5nZXMpIHtcbiAgICAgICAgY29weS5wdXNoKGluc3RhbnRpYXRlU2VsID8gU2VsZWN0aW9uLnByb3RvdHlwZS5kZWVwQ29weS5jYWxsKGV2ZW50KSA6IGV2ZW50KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgY2hhbmdlcyA9IGV2ZW50LmNoYW5nZXMsIG5ld0NoYW5nZXMgPSBbXTtcbiAgICAgIGNvcHkucHVzaCh7Y2hhbmdlczogbmV3Q2hhbmdlc30pO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGFuZ2VzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzW2pdLCBtO1xuICAgICAgICBuZXdDaGFuZ2VzLnB1c2goe2Zyb206IGNoYW5nZS5mcm9tLCB0bzogY2hhbmdlLnRvLCB0ZXh0OiBjaGFuZ2UudGV4dH0pO1xuICAgICAgICBpZiAobmV3R3JvdXApIGZvciAodmFyIHByb3AgaW4gY2hhbmdlKSBpZiAobSA9IHByb3AubWF0Y2goL15zcGFuc18oXFxkKykkLykpIHtcbiAgICAgICAgICBpZiAoaW5kZXhPZihuZXdHcm91cCwgTnVtYmVyKG1bMV0pKSA+IC0xKSB7XG4gICAgICAgICAgICBsc3QobmV3Q2hhbmdlcylbcHJvcF0gPSBjaGFuZ2VbcHJvcF07XG4gICAgICAgICAgICBkZWxldGUgY2hhbmdlW3Byb3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIC8vIFJlYmFzaW5nL3Jlc2V0dGluZyBoaXN0b3J5IHRvIGRlYWwgd2l0aCBleHRlcm5hbGx5LXNvdXJjZWQgY2hhbmdlc1xuXG4gIGZ1bmN0aW9uIHJlYmFzZUhpc3RTZWxTaW5nbGUocG9zLCBmcm9tLCB0bywgZGlmZikge1xuICAgIGlmICh0byA8IHBvcy5saW5lKSB7XG4gICAgICBwb3MubGluZSArPSBkaWZmO1xuICAgIH0gZWxzZSBpZiAoZnJvbSA8IHBvcy5saW5lKSB7XG4gICAgICBwb3MubGluZSA9IGZyb207XG4gICAgICBwb3MuY2ggPSAwO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRyaWVzIHRvIHJlYmFzZSBhbiBhcnJheSBvZiBoaXN0b3J5IGV2ZW50cyBnaXZlbiBhIGNoYW5nZSBpbiB0aGVcbiAgLy8gZG9jdW1lbnQuIElmIHRoZSBjaGFuZ2UgdG91Y2hlcyB0aGUgc2FtZSBsaW5lcyBhcyB0aGUgZXZlbnQsIHRoZVxuICAvLyBldmVudCwgYW5kIGV2ZXJ5dGhpbmcgJ2JlaGluZCcgaXQsIGlzIGRpc2NhcmRlZC4gSWYgdGhlIGNoYW5nZSBpc1xuICAvLyBiZWZvcmUgdGhlIGV2ZW50LCB0aGUgZXZlbnQncyBwb3NpdGlvbnMgYXJlIHVwZGF0ZWQuIFVzZXMgYVxuICAvLyBjb3B5LW9uLXdyaXRlIHNjaGVtZSBmb3IgdGhlIHBvc2l0aW9ucywgdG8gYXZvaWQgaGF2aW5nIHRvXG4gIC8vIHJlYWxsb2NhdGUgdGhlbSBhbGwgb24gZXZlcnkgcmViYXNlLCBidXQgYWxzbyBhdm9pZCBwcm9ibGVtcyB3aXRoXG4gIC8vIHNoYXJlZCBwb3NpdGlvbiBvYmplY3RzIGJlaW5nIHVuc2FmZWx5IHVwZGF0ZWQuXG4gIGZ1bmN0aW9uIHJlYmFzZUhpc3RBcnJheShhcnJheSwgZnJvbSwgdG8sIGRpZmYpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgc3ViID0gYXJyYXlbaV0sIG9rID0gdHJ1ZTtcbiAgICAgIGlmIChzdWIucmFuZ2VzKSB7XG4gICAgICAgIGlmICghc3ViLmNvcGllZCkgeyBzdWIgPSBhcnJheVtpXSA9IHN1Yi5kZWVwQ29weSgpOyBzdWIuY29waWVkID0gdHJ1ZTsgfVxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN1Yi5yYW5nZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICByZWJhc2VIaXN0U2VsU2luZ2xlKHN1Yi5yYW5nZXNbal0uYW5jaG9yLCBmcm9tLCB0bywgZGlmZik7XG4gICAgICAgICAgcmViYXNlSGlzdFNlbFNpbmdsZShzdWIucmFuZ2VzW2pdLmhlYWQsIGZyb20sIHRvLCBkaWZmKTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3ViLmNoYW5nZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgdmFyIGN1ciA9IHN1Yi5jaGFuZ2VzW2pdO1xuICAgICAgICBpZiAodG8gPCBjdXIuZnJvbS5saW5lKSB7XG4gICAgICAgICAgY3VyLmZyb20gPSBQb3MoY3VyLmZyb20ubGluZSArIGRpZmYsIGN1ci5mcm9tLmNoKTtcbiAgICAgICAgICBjdXIudG8gPSBQb3MoY3VyLnRvLmxpbmUgKyBkaWZmLCBjdXIudG8uY2gpO1xuICAgICAgICB9IGVsc2UgaWYgKGZyb20gPD0gY3VyLnRvLmxpbmUpIHtcbiAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIW9rKSB7XG4gICAgICAgIGFycmF5LnNwbGljZSgwLCBpICsgMSk7XG4gICAgICAgIGkgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYmFzZUhpc3QoaGlzdCwgY2hhbmdlKSB7XG4gICAgdmFyIGZyb20gPSBjaGFuZ2UuZnJvbS5saW5lLCB0byA9IGNoYW5nZS50by5saW5lLCBkaWZmID0gY2hhbmdlLnRleHQubGVuZ3RoIC0gKHRvIC0gZnJvbSkgLSAxO1xuICAgIHJlYmFzZUhpc3RBcnJheShoaXN0LmRvbmUsIGZyb20sIHRvLCBkaWZmKTtcbiAgICByZWJhc2VIaXN0QXJyYXkoaGlzdC51bmRvbmUsIGZyb20sIHRvLCBkaWZmKTtcbiAgfVxuXG4gIC8vIEVWRU5UIFVUSUxJVElFU1xuXG4gIC8vIER1ZSB0byB0aGUgZmFjdCB0aGF0IHdlIHN0aWxsIHN1cHBvcnQganVyYXNzaWMgSUUgdmVyc2lvbnMsIHNvbWVcbiAgLy8gY29tcGF0aWJpbGl0eSB3cmFwcGVycyBhcmUgbmVlZGVkLlxuXG4gIHZhciBlX3ByZXZlbnREZWZhdWx0ID0gQ29kZU1pcnJvci5lX3ByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oZSkge1xuICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZWxzZSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gIH07XG4gIHZhciBlX3N0b3BQcm9wYWdhdGlvbiA9IENvZGVNaXJyb3IuZV9zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGVsc2UgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICB9O1xuICBmdW5jdGlvbiBlX2RlZmF1bHRQcmV2ZW50ZWQoZSkge1xuICAgIHJldHVybiBlLmRlZmF1bHRQcmV2ZW50ZWQgIT0gbnVsbCA/IGUuZGVmYXVsdFByZXZlbnRlZCA6IGUucmV0dXJuVmFsdWUgPT0gZmFsc2U7XG4gIH1cbiAgdmFyIGVfc3RvcCA9IENvZGVNaXJyb3IuZV9zdG9wID0gZnVuY3Rpb24oZSkge2VfcHJldmVudERlZmF1bHQoZSk7IGVfc3RvcFByb3BhZ2F0aW9uKGUpO307XG5cbiAgZnVuY3Rpb24gZV90YXJnZXQoZSkge3JldHVybiBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7fVxuICBmdW5jdGlvbiBlX2J1dHRvbihlKSB7XG4gICAgdmFyIGIgPSBlLndoaWNoO1xuICAgIGlmIChiID09IG51bGwpIHtcbiAgICAgIGlmIChlLmJ1dHRvbiAmIDEpIGIgPSAxO1xuICAgICAgZWxzZSBpZiAoZS5idXR0b24gJiAyKSBiID0gMztcbiAgICAgIGVsc2UgaWYgKGUuYnV0dG9uICYgNCkgYiA9IDI7XG4gICAgfVxuICAgIGlmIChtYWMgJiYgZS5jdHJsS2V5ICYmIGIgPT0gMSkgYiA9IDM7XG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICAvLyBFVkVOVCBIQU5ETElOR1xuXG4gIC8vIExpZ2h0d2VpZ2h0IGV2ZW50IGZyYW1ld29yay4gb24vb2ZmIGFsc28gd29yayBvbiBET00gbm9kZXMsXG4gIC8vIHJlZ2lzdGVyaW5nIG5hdGl2ZSBET00gaGFuZGxlcnMuXG5cbiAgdmFyIG9uID0gQ29kZU1pcnJvci5vbiA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUsIGYpIHtcbiAgICBpZiAoZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKVxuICAgICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGYsIGZhbHNlKTtcbiAgICBlbHNlIGlmIChlbWl0dGVyLmF0dGFjaEV2ZW50KVxuICAgICAgZW1pdHRlci5hdHRhY2hFdmVudChcIm9uXCIgKyB0eXBlLCBmKTtcbiAgICBlbHNlIHtcbiAgICAgIHZhciBtYXAgPSBlbWl0dGVyLl9oYW5kbGVycyB8fCAoZW1pdHRlci5faGFuZGxlcnMgPSB7fSk7XG4gICAgICB2YXIgYXJyID0gbWFwW3R5cGVdIHx8IChtYXBbdHlwZV0gPSBbXSk7XG4gICAgICBhcnIucHVzaChmKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9mZiA9IENvZGVNaXJyb3Iub2ZmID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSwgZikge1xuICAgIGlmIChlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIpXG4gICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZiwgZmFsc2UpO1xuICAgIGVsc2UgaWYgKGVtaXR0ZXIuZGV0YWNoRXZlbnQpXG4gICAgICBlbWl0dGVyLmRldGFjaEV2ZW50KFwib25cIiArIHR5cGUsIGYpO1xuICAgIGVsc2Uge1xuICAgICAgdmFyIGFyciA9IGVtaXR0ZXIuX2hhbmRsZXJzICYmIGVtaXR0ZXIuX2hhbmRsZXJzW3R5cGVdO1xuICAgICAgaWYgKCFhcnIpIHJldHVybjtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKVxuICAgICAgICBpZiAoYXJyW2ldID09IGYpIHsgYXJyLnNwbGljZShpLCAxKTsgYnJlYWs7IH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIHNpZ25hbCA9IENvZGVNaXJyb3Iuc2lnbmFsID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSAvKiwgdmFsdWVzLi4uKi8pIHtcbiAgICB2YXIgYXJyID0gZW1pdHRlci5faGFuZGxlcnMgJiYgZW1pdHRlci5faGFuZGxlcnNbdHlwZV07XG4gICAgaWYgKCFhcnIpIHJldHVybjtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIGFycltpXS5hcHBseShudWxsLCBhcmdzKTtcbiAgfTtcblxuICB2YXIgb3JwaGFuRGVsYXllZENhbGxiYWNrcyA9IG51bGw7XG5cbiAgLy8gT2Z0ZW4sIHdlIHdhbnQgdG8gc2lnbmFsIGV2ZW50cyBhdCBhIHBvaW50IHdoZXJlIHdlIGFyZSBpbiB0aGVcbiAgLy8gbWlkZGxlIG9mIHNvbWUgd29yaywgYnV0IGRvbid0IHdhbnQgdGhlIGhhbmRsZXIgdG8gc3RhcnQgY2FsbGluZ1xuICAvLyBvdGhlciBtZXRob2RzIG9uIHRoZSBlZGl0b3IsIHdoaWNoIG1pZ2h0IGJlIGluIGFuIGluY29uc2lzdGVudFxuICAvLyBzdGF0ZSBvciBzaW1wbHkgbm90IGV4cGVjdCBhbnkgb3RoZXIgZXZlbnRzIHRvIGhhcHBlbi5cbiAgLy8gc2lnbmFsTGF0ZXIgbG9va3Mgd2hldGhlciB0aGVyZSBhcmUgYW55IGhhbmRsZXJzLCBhbmQgc2NoZWR1bGVzXG4gIC8vIHRoZW0gdG8gYmUgZXhlY3V0ZWQgd2hlbiB0aGUgbGFzdCBvcGVyYXRpb24gZW5kcywgb3IsIGlmIG5vXG4gIC8vIG9wZXJhdGlvbiBpcyBhY3RpdmUsIHdoZW4gYSB0aW1lb3V0IGZpcmVzLlxuICBmdW5jdGlvbiBzaWduYWxMYXRlcihlbWl0dGVyLCB0eXBlIC8qLCB2YWx1ZXMuLi4qLykge1xuICAgIHZhciBhcnIgPSBlbWl0dGVyLl9oYW5kbGVycyAmJiBlbWl0dGVyLl9oYW5kbGVyc1t0eXBlXTtcbiAgICBpZiAoIWFycikgcmV0dXJuO1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSwgbGlzdDtcbiAgICBpZiAob3BlcmF0aW9uR3JvdXApIHtcbiAgICAgIGxpc3QgPSBvcGVyYXRpb25Hcm91cC5kZWxheWVkQ2FsbGJhY2tzO1xuICAgIH0gZWxzZSBpZiAob3JwaGFuRGVsYXllZENhbGxiYWNrcykge1xuICAgICAgbGlzdCA9IG9ycGhhbkRlbGF5ZWRDYWxsYmFja3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3QgPSBvcnBoYW5EZWxheWVkQ2FsbGJhY2tzID0gW107XG4gICAgICBzZXRUaW1lb3V0KGZpcmVPcnBoYW5EZWxheWVkLCAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYm5kKGYpIHtyZXR1cm4gZnVuY3Rpb24oKXtmLmFwcGx5KG51bGwsIGFyZ3MpO307fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSlcbiAgICAgIGxpc3QucHVzaChibmQoYXJyW2ldKSk7XG4gIH1cblxuICBmdW5jdGlvbiBmaXJlT3JwaGFuRGVsYXllZCgpIHtcbiAgICB2YXIgZGVsYXllZCA9IG9ycGhhbkRlbGF5ZWRDYWxsYmFja3M7XG4gICAgb3JwaGFuRGVsYXllZENhbGxiYWNrcyA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWxheWVkLmxlbmd0aDsgKytpKSBkZWxheWVkW2ldKCk7XG4gIH1cblxuICAvLyBUaGUgRE9NIGV2ZW50cyB0aGF0IENvZGVNaXJyb3IgaGFuZGxlcyBjYW4gYmUgb3ZlcnJpZGRlbiBieVxuICAvLyByZWdpc3RlcmluZyBhIChub24tRE9NKSBoYW5kbGVyIG9uIHRoZSBlZGl0b3IgZm9yIHRoZSBldmVudCBuYW1lLFxuICAvLyBhbmQgcHJldmVudERlZmF1bHQtaW5nIHRoZSBldmVudCBpbiB0aGF0IGhhbmRsZXIuXG4gIGZ1bmN0aW9uIHNpZ25hbERPTUV2ZW50KGNtLCBlLCBvdmVycmlkZSkge1xuICAgIHNpZ25hbChjbSwgb3ZlcnJpZGUgfHwgZS50eXBlLCBjbSwgZSk7XG4gICAgcmV0dXJuIGVfZGVmYXVsdFByZXZlbnRlZChlKSB8fCBlLmNvZGVtaXJyb3JJZ25vcmU7XG4gIH1cblxuICBmdW5jdGlvbiBzaWduYWxDdXJzb3JBY3Rpdml0eShjbSkge1xuICAgIHZhciBhcnIgPSBjbS5faGFuZGxlcnMgJiYgY20uX2hhbmRsZXJzLmN1cnNvckFjdGl2aXR5O1xuICAgIGlmICghYXJyKSByZXR1cm47XG4gICAgdmFyIHNldCA9IGNtLmN1ck9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMgfHwgKGNtLmN1ck9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMgPSBbXSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIGlmIChpbmRleE9mKHNldCwgYXJyW2ldKSA9PSAtMSlcbiAgICAgIHNldC5wdXNoKGFycltpXSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNIYW5kbGVyKGVtaXR0ZXIsIHR5cGUpIHtcbiAgICB2YXIgYXJyID0gZW1pdHRlci5faGFuZGxlcnMgJiYgZW1pdHRlci5faGFuZGxlcnNbdHlwZV07XG4gICAgcmV0dXJuIGFyciAmJiBhcnIubGVuZ3RoID4gMDtcbiAgfVxuXG4gIC8vIEFkZCBvbiBhbmQgb2ZmIG1ldGhvZHMgdG8gYSBjb25zdHJ1Y3RvcidzIHByb3RvdHlwZSwgdG8gbWFrZVxuICAvLyByZWdpc3RlcmluZyBldmVudHMgb24gc3VjaCBvYmplY3RzIG1vcmUgY29udmVuaWVudC5cbiAgZnVuY3Rpb24gZXZlbnRNaXhpbihjdG9yKSB7XG4gICAgY3Rvci5wcm90b3R5cGUub24gPSBmdW5jdGlvbih0eXBlLCBmKSB7b24odGhpcywgdHlwZSwgZik7fTtcbiAgICBjdG9yLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbih0eXBlLCBmKSB7b2ZmKHRoaXMsIHR5cGUsIGYpO307XG4gIH1cblxuICAvLyBNSVNDIFVUSUxJVElFU1xuXG4gIC8vIE51bWJlciBvZiBwaXhlbHMgYWRkZWQgdG8gc2Nyb2xsZXIgYW5kIHNpemVyIHRvIGhpZGUgc2Nyb2xsYmFyXG4gIHZhciBzY3JvbGxlckN1dE9mZiA9IDMwO1xuXG4gIC8vIFJldHVybmVkIG9yIHRocm93biBieSB2YXJpb3VzIHByb3RvY29scyB0byBzaWduYWwgJ0knbSBub3RcbiAgLy8gaGFuZGxpbmcgdGhpcycuXG4gIHZhciBQYXNzID0gQ29kZU1pcnJvci5QYXNzID0ge3RvU3RyaW5nOiBmdW5jdGlvbigpe3JldHVybiBcIkNvZGVNaXJyb3IuUGFzc1wiO319O1xuXG4gIC8vIFJldXNlZCBvcHRpb24gb2JqZWN0cyBmb3Igc2V0U2VsZWN0aW9uICYgZnJpZW5kc1xuICB2YXIgc2VsX2RvbnRTY3JvbGwgPSB7c2Nyb2xsOiBmYWxzZX0sIHNlbF9tb3VzZSA9IHtvcmlnaW46IFwiKm1vdXNlXCJ9LCBzZWxfbW92ZSA9IHtvcmlnaW46IFwiK21vdmVcIn07XG5cbiAgZnVuY3Rpb24gRGVsYXllZCgpIHt0aGlzLmlkID0gbnVsbDt9XG4gIERlbGF5ZWQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG1zLCBmKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuaWQpO1xuICAgIHRoaXMuaWQgPSBzZXRUaW1lb3V0KGYsIG1zKTtcbiAgfTtcblxuICAvLyBDb3VudHMgdGhlIGNvbHVtbiBvZmZzZXQgaW4gYSBzdHJpbmcsIHRha2luZyB0YWJzIGludG8gYWNjb3VudC5cbiAgLy8gVXNlZCBtb3N0bHkgdG8gZmluZCBpbmRlbnRhdGlvbi5cbiAgdmFyIGNvdW50Q29sdW1uID0gQ29kZU1pcnJvci5jb3VudENvbHVtbiA9IGZ1bmN0aW9uKHN0cmluZywgZW5kLCB0YWJTaXplLCBzdGFydEluZGV4LCBzdGFydFZhbHVlKSB7XG4gICAgaWYgKGVuZCA9PSBudWxsKSB7XG4gICAgICBlbmQgPSBzdHJpbmcuc2VhcmNoKC9bXlxcc1xcdTAwYTBdLyk7XG4gICAgICBpZiAoZW5kID09IC0xKSBlbmQgPSBzdHJpbmcubGVuZ3RoO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleCB8fCAwLCBuID0gc3RhcnRWYWx1ZSB8fCAwOzspIHtcbiAgICAgIHZhciBuZXh0VGFiID0gc3RyaW5nLmluZGV4T2YoXCJcXHRcIiwgaSk7XG4gICAgICBpZiAobmV4dFRhYiA8IDAgfHwgbmV4dFRhYiA+PSBlbmQpXG4gICAgICAgIHJldHVybiBuICsgKGVuZCAtIGkpO1xuICAgICAgbiArPSBuZXh0VGFiIC0gaTtcbiAgICAgIG4gKz0gdGFiU2l6ZSAtIChuICUgdGFiU2l6ZSk7XG4gICAgICBpID0gbmV4dFRhYiArIDE7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRoZSBpbnZlcnNlIG9mIGNvdW50Q29sdW1uIC0tIGZpbmQgdGhlIG9mZnNldCB0aGF0IGNvcnJlc3BvbmRzIHRvXG4gIC8vIGEgcGFydGljdWxhciBjb2x1bW4uXG4gIGZ1bmN0aW9uIGZpbmRDb2x1bW4oc3RyaW5nLCBnb2FsLCB0YWJTaXplKSB7XG4gICAgZm9yICh2YXIgcG9zID0gMCwgY29sID0gMDs7KSB7XG4gICAgICB2YXIgbmV4dFRhYiA9IHN0cmluZy5pbmRleE9mKFwiXFx0XCIsIHBvcyk7XG4gICAgICBpZiAobmV4dFRhYiA9PSAtMSkgbmV4dFRhYiA9IHN0cmluZy5sZW5ndGg7XG4gICAgICB2YXIgc2tpcHBlZCA9IG5leHRUYWIgLSBwb3M7XG4gICAgICBpZiAobmV4dFRhYiA9PSBzdHJpbmcubGVuZ3RoIHx8IGNvbCArIHNraXBwZWQgPj0gZ29hbClcbiAgICAgICAgcmV0dXJuIHBvcyArIE1hdGgubWluKHNraXBwZWQsIGdvYWwgLSBjb2wpO1xuICAgICAgY29sICs9IG5leHRUYWIgLSBwb3M7XG4gICAgICBjb2wgKz0gdGFiU2l6ZSAtIChjb2wgJSB0YWJTaXplKTtcbiAgICAgIHBvcyA9IG5leHRUYWIgKyAxO1xuICAgICAgaWYgKGNvbCA+PSBnb2FsKSByZXR1cm4gcG9zO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzcGFjZVN0cnMgPSBbXCJcIl07XG4gIGZ1bmN0aW9uIHNwYWNlU3RyKG4pIHtcbiAgICB3aGlsZSAoc3BhY2VTdHJzLmxlbmd0aCA8PSBuKVxuICAgICAgc3BhY2VTdHJzLnB1c2gobHN0KHNwYWNlU3RycykgKyBcIiBcIik7XG4gICAgcmV0dXJuIHNwYWNlU3Ryc1tuXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxzdChhcnIpIHsgcmV0dXJuIGFyclthcnIubGVuZ3RoLTFdOyB9XG5cbiAgdmFyIHNlbGVjdElucHV0ID0gZnVuY3Rpb24obm9kZSkgeyBub2RlLnNlbGVjdCgpOyB9O1xuICBpZiAoaW9zKSAvLyBNb2JpbGUgU2FmYXJpIGFwcGFyZW50bHkgaGFzIGEgYnVnIHdoZXJlIHNlbGVjdCgpIGlzIGJyb2tlbi5cbiAgICBzZWxlY3RJbnB1dCA9IGZ1bmN0aW9uKG5vZGUpIHsgbm9kZS5zZWxlY3Rpb25TdGFydCA9IDA7IG5vZGUuc2VsZWN0aW9uRW5kID0gbm9kZS52YWx1ZS5sZW5ndGg7IH07XG4gIGVsc2UgaWYgKGllKSAvLyBTdXBwcmVzcyBteXN0ZXJpb3VzIElFMTAgZXJyb3JzXG4gICAgc2VsZWN0SW5wdXQgPSBmdW5jdGlvbihub2RlKSB7IHRyeSB7IG5vZGUuc2VsZWN0KCk7IH0gY2F0Y2goX2UpIHt9IH07XG5cbiAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgZWx0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7ICsraSlcbiAgICAgIGlmIChhcnJheVtpXSA9PSBlbHQpIHJldHVybiBpO1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBpZiAoW10uaW5kZXhPZikgaW5kZXhPZiA9IGZ1bmN0aW9uKGFycmF5LCBlbHQpIHsgcmV0dXJuIGFycmF5LmluZGV4T2YoZWx0KTsgfTtcbiAgZnVuY3Rpb24gbWFwKGFycmF5LCBmKSB7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIG91dFtpXSA9IGYoYXJyYXlbaV0sIGkpO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgaWYgKFtdLm1hcCkgbWFwID0gZnVuY3Rpb24oYXJyYXksIGYpIHsgcmV0dXJuIGFycmF5Lm1hcChmKTsgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVPYmooYmFzZSwgcHJvcHMpIHtcbiAgICB2YXIgaW5zdDtcbiAgICBpZiAoT2JqZWN0LmNyZWF0ZSkge1xuICAgICAgaW5zdCA9IE9iamVjdC5jcmVhdGUoYmFzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjdG9yID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgIGN0b3IucHJvdG90eXBlID0gYmFzZTtcbiAgICAgIGluc3QgPSBuZXcgY3RvcigpO1xuICAgIH1cbiAgICBpZiAocHJvcHMpIGNvcHlPYmoocHJvcHMsIGluc3QpO1xuICAgIHJldHVybiBpbnN0O1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNvcHlPYmoob2JqLCB0YXJnZXQsIG92ZXJ3cml0ZSkge1xuICAgIGlmICghdGFyZ2V0KSB0YXJnZXQgPSB7fTtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iailcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkgJiYgKG92ZXJ3cml0ZSAhPT0gZmFsc2UgfHwgIXRhcmdldC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkpXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IG9ialtwcm9wXTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gYmluZChmKSB7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHJldHVybiBmdW5jdGlvbigpe3JldHVybiBmLmFwcGx5KG51bGwsIGFyZ3MpO307XG4gIH1cblxuICB2YXIgbm9uQVNDSUlTaW5nbGVDYXNlV29yZENoYXIgPSAvW1xcdTAwZGZcXHUwNTkwLVxcdTA1ZjRcXHUwNjAwLVxcdTA2ZmZcXHUzMDQwLVxcdTMwOWZcXHUzMGEwLVxcdTMwZmZcXHUzNDAwLVxcdTRkYjVcXHU0ZTAwLVxcdTlmY2NcXHVhYzAwLVxcdWQ3YWZdLztcbiAgdmFyIGlzV29yZENoYXJCYXNpYyA9IENvZGVNaXJyb3IuaXNXb3JkQ2hhciA9IGZ1bmN0aW9uKGNoKSB7XG4gICAgcmV0dXJuIC9cXHcvLnRlc3QoY2gpIHx8IGNoID4gXCJcXHg4MFwiICYmXG4gICAgICAoY2gudG9VcHBlckNhc2UoKSAhPSBjaC50b0xvd2VyQ2FzZSgpIHx8IG5vbkFTQ0lJU2luZ2xlQ2FzZVdvcmRDaGFyLnRlc3QoY2gpKTtcbiAgfTtcbiAgZnVuY3Rpb24gaXNXb3JkQ2hhcihjaCwgaGVscGVyKSB7XG4gICAgaWYgKCFoZWxwZXIpIHJldHVybiBpc1dvcmRDaGFyQmFzaWMoY2gpO1xuICAgIGlmIChoZWxwZXIuc291cmNlLmluZGV4T2YoXCJcXFxcd1wiKSA+IC0xICYmIGlzV29yZENoYXJCYXNpYyhjaCkpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBoZWxwZXIudGVzdChjaCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0VtcHR5KG9iaikge1xuICAgIGZvciAodmFyIG4gaW4gb2JqKSBpZiAob2JqLmhhc093blByb3BlcnR5KG4pICYmIG9ialtuXSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gRXh0ZW5kaW5nIHVuaWNvZGUgY2hhcmFjdGVycy4gQSBzZXJpZXMgb2YgYSBub24tZXh0ZW5kaW5nIGNoYXIgK1xuICAvLyBhbnkgbnVtYmVyIG9mIGV4dGVuZGluZyBjaGFycyBpcyB0cmVhdGVkIGFzIGEgc2luZ2xlIHVuaXQgYXMgZmFyXG4gIC8vIGFzIGVkaXRpbmcgYW5kIG1lYXN1cmluZyBpcyBjb25jZXJuZWQuIFRoaXMgaXMgbm90IGZ1bGx5IGNvcnJlY3QsXG4gIC8vIHNpbmNlIHNvbWUgc2NyaXB0cy9mb250cy9icm93c2VycyBhbHNvIHRyZWF0IG90aGVyIGNvbmZpZ3VyYXRpb25zXG4gIC8vIG9mIGNvZGUgcG9pbnRzIGFzIGEgZ3JvdXAuXG4gIHZhciBleHRlbmRpbmdDaGFycyA9IC9bXFx1MDMwMC1cXHUwMzZmXFx1MDQ4My1cXHUwNDg5XFx1MDU5MS1cXHUwNWJkXFx1MDViZlxcdTA1YzFcXHUwNWMyXFx1MDVjNFxcdTA1YzVcXHUwNWM3XFx1MDYxMC1cXHUwNjFhXFx1MDY0Yi1cXHUwNjVlXFx1MDY3MFxcdTA2ZDYtXFx1MDZkY1xcdTA2ZGUtXFx1MDZlNFxcdTA2ZTdcXHUwNmU4XFx1MDZlYS1cXHUwNmVkXFx1MDcxMVxcdTA3MzAtXFx1MDc0YVxcdTA3YTYtXFx1MDdiMFxcdTA3ZWItXFx1MDdmM1xcdTA4MTYtXFx1MDgxOVxcdTA4MWItXFx1MDgyM1xcdTA4MjUtXFx1MDgyN1xcdTA4MjktXFx1MDgyZFxcdTA5MDAtXFx1MDkwMlxcdTA5M2NcXHUwOTQxLVxcdTA5NDhcXHUwOTRkXFx1MDk1MS1cXHUwOTU1XFx1MDk2MlxcdTA5NjNcXHUwOTgxXFx1MDliY1xcdTA5YmVcXHUwOWMxLVxcdTA5YzRcXHUwOWNkXFx1MDlkN1xcdTA5ZTJcXHUwOWUzXFx1MGEwMVxcdTBhMDJcXHUwYTNjXFx1MGE0MVxcdTBhNDJcXHUwYTQ3XFx1MGE0OFxcdTBhNGItXFx1MGE0ZFxcdTBhNTFcXHUwYTcwXFx1MGE3MVxcdTBhNzVcXHUwYTgxXFx1MGE4MlxcdTBhYmNcXHUwYWMxLVxcdTBhYzVcXHUwYWM3XFx1MGFjOFxcdTBhY2RcXHUwYWUyXFx1MGFlM1xcdTBiMDFcXHUwYjNjXFx1MGIzZVxcdTBiM2ZcXHUwYjQxLVxcdTBiNDRcXHUwYjRkXFx1MGI1NlxcdTBiNTdcXHUwYjYyXFx1MGI2M1xcdTBiODJcXHUwYmJlXFx1MGJjMFxcdTBiY2RcXHUwYmQ3XFx1MGMzZS1cXHUwYzQwXFx1MGM0Ni1cXHUwYzQ4XFx1MGM0YS1cXHUwYzRkXFx1MGM1NVxcdTBjNTZcXHUwYzYyXFx1MGM2M1xcdTBjYmNcXHUwY2JmXFx1MGNjMlxcdTBjYzZcXHUwY2NjXFx1MGNjZFxcdTBjZDVcXHUwY2Q2XFx1MGNlMlxcdTBjZTNcXHUwZDNlXFx1MGQ0MS1cXHUwZDQ0XFx1MGQ0ZFxcdTBkNTdcXHUwZDYyXFx1MGQ2M1xcdTBkY2FcXHUwZGNmXFx1MGRkMi1cXHUwZGQ0XFx1MGRkNlxcdTBkZGZcXHUwZTMxXFx1MGUzNC1cXHUwZTNhXFx1MGU0Ny1cXHUwZTRlXFx1MGViMVxcdTBlYjQtXFx1MGViOVxcdTBlYmJcXHUwZWJjXFx1MGVjOC1cXHUwZWNkXFx1MGYxOFxcdTBmMTlcXHUwZjM1XFx1MGYzN1xcdTBmMzlcXHUwZjcxLVxcdTBmN2VcXHUwZjgwLVxcdTBmODRcXHUwZjg2XFx1MGY4N1xcdTBmOTAtXFx1MGY5N1xcdTBmOTktXFx1MGZiY1xcdTBmYzZcXHUxMDJkLVxcdTEwMzBcXHUxMDMyLVxcdTEwMzdcXHUxMDM5XFx1MTAzYVxcdTEwM2RcXHUxMDNlXFx1MTA1OFxcdTEwNTlcXHUxMDVlLVxcdTEwNjBcXHUxMDcxLVxcdTEwNzRcXHUxMDgyXFx1MTA4NVxcdTEwODZcXHUxMDhkXFx1MTA5ZFxcdTEzNWZcXHUxNzEyLVxcdTE3MTRcXHUxNzMyLVxcdTE3MzRcXHUxNzUyXFx1MTc1M1xcdTE3NzJcXHUxNzczXFx1MTdiNy1cXHUxN2JkXFx1MTdjNlxcdTE3YzktXFx1MTdkM1xcdTE3ZGRcXHUxODBiLVxcdTE4MGRcXHUxOGE5XFx1MTkyMC1cXHUxOTIyXFx1MTkyN1xcdTE5MjhcXHUxOTMyXFx1MTkzOS1cXHUxOTNiXFx1MWExN1xcdTFhMThcXHUxYTU2XFx1MWE1OC1cXHUxYTVlXFx1MWE2MFxcdTFhNjJcXHUxYTY1LVxcdTFhNmNcXHUxYTczLVxcdTFhN2NcXHUxYTdmXFx1MWIwMC1cXHUxYjAzXFx1MWIzNFxcdTFiMzYtXFx1MWIzYVxcdTFiM2NcXHUxYjQyXFx1MWI2Yi1cXHUxYjczXFx1MWI4MFxcdTFiODFcXHUxYmEyLVxcdTFiYTVcXHUxYmE4XFx1MWJhOVxcdTFjMmMtXFx1MWMzM1xcdTFjMzZcXHUxYzM3XFx1MWNkMC1cXHUxY2QyXFx1MWNkNC1cXHUxY2UwXFx1MWNlMi1cXHUxY2U4XFx1MWNlZFxcdTFkYzAtXFx1MWRlNlxcdTFkZmQtXFx1MWRmZlxcdTIwMGNcXHUyMDBkXFx1MjBkMC1cXHUyMGYwXFx1MmNlZi1cXHUyY2YxXFx1MmRlMC1cXHUyZGZmXFx1MzAyYS1cXHUzMDJmXFx1MzA5OVxcdTMwOWFcXHVhNjZmLVxcdWE2NzJcXHVhNjdjXFx1YTY3ZFxcdWE2ZjBcXHVhNmYxXFx1YTgwMlxcdWE4MDZcXHVhODBiXFx1YTgyNVxcdWE4MjZcXHVhOGM0XFx1YThlMC1cXHVhOGYxXFx1YTkyNi1cXHVhOTJkXFx1YTk0Ny1cXHVhOTUxXFx1YTk4MC1cXHVhOTgyXFx1YTliM1xcdWE5YjYtXFx1YTliOVxcdWE5YmNcXHVhYTI5LVxcdWFhMmVcXHVhYTMxXFx1YWEzMlxcdWFhMzVcXHVhYTM2XFx1YWE0M1xcdWFhNGNcXHVhYWIwXFx1YWFiMi1cXHVhYWI0XFx1YWFiN1xcdWFhYjhcXHVhYWJlXFx1YWFiZlxcdWFhYzFcXHVhYmU1XFx1YWJlOFxcdWFiZWRcXHVkYzAwLVxcdWRmZmZcXHVmYjFlXFx1ZmUwMC1cXHVmZTBmXFx1ZmUyMC1cXHVmZTI2XFx1ZmY5ZVxcdWZmOWZdLztcbiAgZnVuY3Rpb24gaXNFeHRlbmRpbmdDaGFyKGNoKSB7IHJldHVybiBjaC5jaGFyQ29kZUF0KDApID49IDc2OCAmJiBleHRlbmRpbmdDaGFycy50ZXN0KGNoKTsgfVxuXG4gIC8vIERPTSBVVElMSVRJRVNcblxuICBmdW5jdGlvbiBlbHQodGFnLCBjb250ZW50LCBjbGFzc05hbWUsIHN0eWxlKSB7XG4gICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgaWYgKGNsYXNzTmFtZSkgZS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgaWYgKHN0eWxlKSBlLnN0eWxlLmNzc1RleHQgPSBzdHlsZTtcbiAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT0gXCJzdHJpbmdcIikgZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjb250ZW50KSk7XG4gICAgZWxzZSBpZiAoY29udGVudCkgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250ZW50Lmxlbmd0aDsgKytpKSBlLmFwcGVuZENoaWxkKGNvbnRlbnRbaV0pO1xuICAgIHJldHVybiBlO1xuICB9XG5cbiAgdmFyIHJhbmdlO1xuICBpZiAoZG9jdW1lbnQuY3JlYXRlUmFuZ2UpIHJhbmdlID0gZnVuY3Rpb24obm9kZSwgc3RhcnQsIGVuZCkge1xuICAgIHZhciByID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICByLnNldEVuZChub2RlLCBlbmQpO1xuICAgIHIuc2V0U3RhcnQobm9kZSwgc3RhcnQpO1xuICAgIHJldHVybiByO1xuICB9O1xuICBlbHNlIHJhbmdlID0gZnVuY3Rpb24obm9kZSwgc3RhcnQsIGVuZCkge1xuICAgIHZhciByID0gZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICByLm1vdmVUb0VsZW1lbnRUZXh0KG5vZGUucGFyZW50Tm9kZSk7XG4gICAgci5jb2xsYXBzZSh0cnVlKTtcbiAgICByLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIiwgZW5kKTtcbiAgICByLm1vdmVTdGFydChcImNoYXJhY3RlclwiLCBzdGFydCk7XG4gICAgcmV0dXJuIHI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4oZSkge1xuICAgIGZvciAodmFyIGNvdW50ID0gZS5jaGlsZE5vZGVzLmxlbmd0aDsgY291bnQgPiAwOyAtLWNvdW50KVxuICAgICAgZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpO1xuICAgIHJldHVybiBlO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW5BbmRBZGQocGFyZW50LCBlKSB7XG4gICAgcmV0dXJuIHJlbW92ZUNoaWxkcmVuKHBhcmVudCkuYXBwZW5kQ2hpbGQoZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjb250YWlucyhwYXJlbnQsIGNoaWxkKSB7XG4gICAgaWYgKHBhcmVudC5jb250YWlucylcbiAgICAgIHJldHVybiBwYXJlbnQuY29udGFpbnMoY2hpbGQpO1xuICAgIHdoaWxlIChjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGUpXG4gICAgICBpZiAoY2hpbGQgPT0gcGFyZW50KSByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFjdGl2ZUVsdCgpIHsgcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7IH1cbiAgLy8gT2xkZXIgdmVyc2lvbnMgb2YgSUUgdGhyb3dzIHVuc3BlY2lmaWVkIGVycm9yIHdoZW4gdG91Y2hpbmdcbiAgLy8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbiBzb21lIGNhc2VzIChkdXJpbmcgbG9hZGluZywgaW4gaWZyYW1lKVxuICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDExKSBhY3RpdmVFbHQgPSBmdW5jdGlvbigpIHtcbiAgICB0cnkgeyByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsgfVxuICAgIGNhdGNoKGUpIHsgcmV0dXJuIGRvY3VtZW50LmJvZHk7IH1cbiAgfTtcblxuICBmdW5jdGlvbiBjbGFzc1Rlc3QoY2xzKSB7IHJldHVybiBuZXcgUmVnRXhwKFwiXFxcXGJcIiArIGNscyArIFwiXFxcXGJcXFxccypcIik7IH1cbiAgZnVuY3Rpb24gcm1DbGFzcyhub2RlLCBjbHMpIHtcbiAgICB2YXIgdGVzdCA9IGNsYXNzVGVzdChjbHMpO1xuICAgIGlmICh0ZXN0LnRlc3Qobm9kZS5jbGFzc05hbWUpKSBub2RlLmNsYXNzTmFtZSA9IG5vZGUuY2xhc3NOYW1lLnJlcGxhY2UodGVzdCwgXCJcIik7XG4gIH1cbiAgZnVuY3Rpb24gYWRkQ2xhc3Mobm9kZSwgY2xzKSB7XG4gICAgaWYgKCFjbGFzc1Rlc3QoY2xzKS50ZXN0KG5vZGUuY2xhc3NOYW1lKSkgbm9kZS5jbGFzc05hbWUgKz0gXCIgXCIgKyBjbHM7XG4gIH1cbiAgZnVuY3Rpb24gam9pbkNsYXNzZXMoYSwgYikge1xuICAgIHZhciBhcyA9IGEuc3BsaXQoXCIgXCIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXMubGVuZ3RoOyBpKyspXG4gICAgICBpZiAoYXNbaV0gJiYgIWNsYXNzVGVzdChhc1tpXSkudGVzdChiKSkgYiArPSBcIiBcIiArIGFzW2ldO1xuICAgIHJldHVybiBiO1xuICB9XG5cbiAgLy8gV0lORE9XLVdJREUgRVZFTlRTXG5cbiAgLy8gVGhlc2UgbXVzdCBiZSBoYW5kbGVkIGNhcmVmdWxseSwgYmVjYXVzZSBuYWl2ZWx5IHJlZ2lzdGVyaW5nIGFcbiAgLy8gaGFuZGxlciBmb3IgZWFjaCBlZGl0b3Igd2lsbCBjYXVzZSB0aGUgZWRpdG9ycyB0byBuZXZlciBiZVxuICAvLyBnYXJiYWdlIGNvbGxlY3RlZC5cblxuICBmdW5jdGlvbiBmb3JFYWNoQ29kZU1pcnJvcihmKSB7XG4gICAgaWYgKCFkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpIHJldHVybjtcbiAgICB2YXIgYnlDbGFzcyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIkNvZGVNaXJyb3JcIik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBieUNsYXNzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY20gPSBieUNsYXNzW2ldLkNvZGVNaXJyb3I7XG4gICAgICBpZiAoY20pIGYoY20pO1xuICAgIH1cbiAgfVxuXG4gIHZhciBnbG9iYWxzUmVnaXN0ZXJlZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBlbnN1cmVHbG9iYWxIYW5kbGVycygpIHtcbiAgICBpZiAoZ2xvYmFsc1JlZ2lzdGVyZWQpIHJldHVybjtcbiAgICByZWdpc3Rlckdsb2JhbEhhbmRsZXJzKCk7XG4gICAgZ2xvYmFsc1JlZ2lzdGVyZWQgPSB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIHJlZ2lzdGVyR2xvYmFsSGFuZGxlcnMoKSB7XG4gICAgLy8gV2hlbiB0aGUgd2luZG93IHJlc2l6ZXMsIHdlIG5lZWQgdG8gcmVmcmVzaCBhY3RpdmUgZWRpdG9ycy5cbiAgICB2YXIgcmVzaXplVGltZXI7XG4gICAgb24od2luZG93LCBcInJlc2l6ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChyZXNpemVUaW1lciA9PSBudWxsKSByZXNpemVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc2l6ZVRpbWVyID0gbnVsbDtcbiAgICAgICAga25vd25TY3JvbGxiYXJXaWR0aCA9IG51bGw7XG4gICAgICAgIGZvckVhY2hDb2RlTWlycm9yKG9uUmVzaXplKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfSk7XG4gICAgLy8gV2hlbiB0aGUgd2luZG93IGxvc2VzIGZvY3VzLCB3ZSB3YW50IHRvIHNob3cgdGhlIGVkaXRvciBhcyBibHVycmVkXG4gICAgb24od2luZG93LCBcImJsdXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBmb3JFYWNoQ29kZU1pcnJvcihvbkJsdXIpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gRkVBVFVSRSBERVRFQ1RJT05cblxuICAvLyBEZXRlY3QgZHJhZy1hbmQtZHJvcFxuICB2YXIgZHJhZ0FuZERyb3AgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBUaGVyZSBpcyAqc29tZSoga2luZCBvZiBkcmFnLWFuZC1kcm9wIHN1cHBvcnQgaW4gSUU2LTgsIGJ1dCBJXG4gICAgLy8gY291bGRuJ3QgZ2V0IGl0IHRvIHdvcmsgeWV0LlxuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBkaXYgPSBlbHQoJ2RpdicpO1xuICAgIHJldHVybiBcImRyYWdnYWJsZVwiIGluIGRpdiB8fCBcImRyYWdEcm9wXCIgaW4gZGl2O1xuICB9KCk7XG5cbiAgdmFyIGtub3duU2Nyb2xsYmFyV2lkdGg7XG4gIGZ1bmN0aW9uIHNjcm9sbGJhcldpZHRoKG1lYXN1cmUpIHtcbiAgICBpZiAoa25vd25TY3JvbGxiYXJXaWR0aCAhPSBudWxsKSByZXR1cm4ga25vd25TY3JvbGxiYXJXaWR0aDtcbiAgICB2YXIgdGVzdCA9IGVsdChcImRpdlwiLCBudWxsLCBudWxsLCBcIndpZHRoOiA1MHB4OyBoZWlnaHQ6IDUwcHg7IG92ZXJmbG93LXg6IHNjcm9sbFwiKTtcbiAgICByZW1vdmVDaGlsZHJlbkFuZEFkZChtZWFzdXJlLCB0ZXN0KTtcbiAgICBpZiAodGVzdC5vZmZzZXRXaWR0aClcbiAgICAgIGtub3duU2Nyb2xsYmFyV2lkdGggPSB0ZXN0Lm9mZnNldEhlaWdodCAtIHRlc3QuY2xpZW50SGVpZ2h0O1xuICAgIHJldHVybiBrbm93blNjcm9sbGJhcldpZHRoIHx8IDA7XG4gIH1cblxuICB2YXIgendzcFN1cHBvcnRlZDtcbiAgZnVuY3Rpb24gemVyb1dpZHRoRWxlbWVudChtZWFzdXJlKSB7XG4gICAgaWYgKHp3c3BTdXBwb3J0ZWQgPT0gbnVsbCkge1xuICAgICAgdmFyIHRlc3QgPSBlbHQoXCJzcGFuXCIsIFwiXFx1MjAwYlwiKTtcbiAgICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKG1lYXN1cmUsIGVsdChcInNwYW5cIiwgW3Rlc3QsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwieFwiKV0pKTtcbiAgICAgIGlmIChtZWFzdXJlLmZpcnN0Q2hpbGQub2Zmc2V0SGVpZ2h0ICE9IDApXG4gICAgICAgIHp3c3BTdXBwb3J0ZWQgPSB0ZXN0Lm9mZnNldFdpZHRoIDw9IDEgJiYgdGVzdC5vZmZzZXRIZWlnaHQgPiAyICYmICEoaWUgJiYgaWVfdmVyc2lvbiA8IDgpO1xuICAgIH1cbiAgICBpZiAoendzcFN1cHBvcnRlZCkgcmV0dXJuIGVsdChcInNwYW5cIiwgXCJcXHUyMDBiXCIpO1xuICAgIGVsc2UgcmV0dXJuIGVsdChcInNwYW5cIiwgXCJcXHUwMGEwXCIsIG51bGwsIFwiZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogMXB4OyBtYXJnaW4tcmlnaHQ6IC0xcHhcIik7XG4gIH1cblxuICAvLyBGZWF0dXJlLWRldGVjdCBJRSdzIGNydW1teSBjbGllbnQgcmVjdCByZXBvcnRpbmcgZm9yIGJpZGkgdGV4dFxuICB2YXIgYmFkQmlkaVJlY3RzO1xuICBmdW5jdGlvbiBoYXNCYWRCaWRpUmVjdHMobWVhc3VyZSkge1xuICAgIGlmIChiYWRCaWRpUmVjdHMgIT0gbnVsbCkgcmV0dXJuIGJhZEJpZGlSZWN0cztcbiAgICB2YXIgdHh0ID0gcmVtb3ZlQ2hpbGRyZW5BbmRBZGQobWVhc3VyZSwgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJBXFx1MDYyZUFcIikpO1xuICAgIHZhciByMCA9IHJhbmdlKHR4dCwgMCwgMSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKCFyMCB8fCByMC5sZWZ0ID09IHIwLnJpZ2h0KSByZXR1cm4gZmFsc2U7IC8vIFNhZmFyaSByZXR1cm5zIG51bGwgaW4gc29tZSBjYXNlcyAoIzI3ODApXG4gICAgdmFyIHIxID0gcmFuZ2UodHh0LCAxLCAyKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gYmFkQmlkaVJlY3RzID0gKHIxLnJpZ2h0IC0gcjAucmlnaHQgPCAzKTtcbiAgfVxuXG4gIC8vIFNlZSBpZiBcIlwiLnNwbGl0IGlzIHRoZSBicm9rZW4gSUUgdmVyc2lvbiwgaWYgc28sIHByb3ZpZGUgYW5cbiAgLy8gYWx0ZXJuYXRpdmUgd2F5IHRvIHNwbGl0IGxpbmVzLlxuICB2YXIgc3BsaXRMaW5lcyA9IENvZGVNaXJyb3Iuc3BsaXRMaW5lcyA9IFwiXFxuXFxuYlwiLnNwbGl0KC9cXG4vKS5sZW5ndGggIT0gMyA/IGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHZhciBwb3MgPSAwLCByZXN1bHQgPSBbXSwgbCA9IHN0cmluZy5sZW5ndGg7XG4gICAgd2hpbGUgKHBvcyA8PSBsKSB7XG4gICAgICB2YXIgbmwgPSBzdHJpbmcuaW5kZXhPZihcIlxcblwiLCBwb3MpO1xuICAgICAgaWYgKG5sID09IC0xKSBubCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICB2YXIgbGluZSA9IHN0cmluZy5zbGljZShwb3MsIHN0cmluZy5jaGFyQXQobmwgLSAxKSA9PSBcIlxcclwiID8gbmwgLSAxIDogbmwpO1xuICAgICAgdmFyIHJ0ID0gbGluZS5pbmRleE9mKFwiXFxyXCIpO1xuICAgICAgaWYgKHJ0ICE9IC0xKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGxpbmUuc2xpY2UoMCwgcnQpKTtcbiAgICAgICAgcG9zICs9IHJ0ICsgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGxpbmUpO1xuICAgICAgICBwb3MgPSBubCArIDE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gOiBmdW5jdGlvbihzdHJpbmcpe3JldHVybiBzdHJpbmcuc3BsaXQoL1xcclxcbj98XFxuLyk7fTtcblxuICB2YXIgaGFzU2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbiA/IGZ1bmN0aW9uKHRlKSB7XG4gICAgdHJ5IHsgcmV0dXJuIHRlLnNlbGVjdGlvblN0YXJ0ICE9IHRlLnNlbGVjdGlvbkVuZDsgfVxuICAgIGNhdGNoKGUpIHsgcmV0dXJuIGZhbHNlOyB9XG4gIH0gOiBmdW5jdGlvbih0ZSkge1xuICAgIHRyeSB7dmFyIHJhbmdlID0gdGUub3duZXJEb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTt9XG4gICAgY2F0Y2goZSkge31cbiAgICBpZiAoIXJhbmdlIHx8IHJhbmdlLnBhcmVudEVsZW1lbnQoKSAhPSB0ZSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiByYW5nZS5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb0VuZFwiLCByYW5nZSkgIT0gMDtcbiAgfTtcblxuICB2YXIgaGFzQ29weUV2ZW50ID0gKGZ1bmN0aW9uKCkge1xuICAgIHZhciBlID0gZWx0KFwiZGl2XCIpO1xuICAgIGlmIChcIm9uY29weVwiIGluIGUpIHJldHVybiB0cnVlO1xuICAgIGUuc2V0QXR0cmlidXRlKFwib25jb3B5XCIsIFwicmV0dXJuO1wiKTtcbiAgICByZXR1cm4gdHlwZW9mIGUub25jb3B5ID09IFwiZnVuY3Rpb25cIjtcbiAgfSkoKTtcblxuICB2YXIgYmFkWm9vbWVkUmVjdHMgPSBudWxsO1xuICBmdW5jdGlvbiBoYXNCYWRab29tZWRSZWN0cyhtZWFzdXJlKSB7XG4gICAgaWYgKGJhZFpvb21lZFJlY3RzICE9IG51bGwpIHJldHVybiBiYWRab29tZWRSZWN0cztcbiAgICB2YXIgbm9kZSA9IHJlbW92ZUNoaWxkcmVuQW5kQWRkKG1lYXN1cmUsIGVsdChcInNwYW5cIiwgXCJ4XCIpKTtcbiAgICB2YXIgbm9ybWFsID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgZnJvbVJhbmdlID0gcmFuZ2Uobm9kZSwgMCwgMSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIGJhZFpvb21lZFJlY3RzID0gTWF0aC5hYnMobm9ybWFsLmxlZnQgLSBmcm9tUmFuZ2UubGVmdCkgPiAxO1xuICB9XG5cbiAgLy8gS0VZIE5BTUVTXG5cbiAgdmFyIGtleU5hbWVzID0gezM6IFwiRW50ZXJcIiwgODogXCJCYWNrc3BhY2VcIiwgOTogXCJUYWJcIiwgMTM6IFwiRW50ZXJcIiwgMTY6IFwiU2hpZnRcIiwgMTc6IFwiQ3RybFwiLCAxODogXCJBbHRcIixcbiAgICAgICAgICAgICAgICAgIDE5OiBcIlBhdXNlXCIsIDIwOiBcIkNhcHNMb2NrXCIsIDI3OiBcIkVzY1wiLCAzMjogXCJTcGFjZVwiLCAzMzogXCJQYWdlVXBcIiwgMzQ6IFwiUGFnZURvd25cIiwgMzU6IFwiRW5kXCIsXG4gICAgICAgICAgICAgICAgICAzNjogXCJIb21lXCIsIDM3OiBcIkxlZnRcIiwgMzg6IFwiVXBcIiwgMzk6IFwiUmlnaHRcIiwgNDA6IFwiRG93blwiLCA0NDogXCJQcmludFNjcm5cIiwgNDU6IFwiSW5zZXJ0XCIsXG4gICAgICAgICAgICAgICAgICA0NjogXCJEZWxldGVcIiwgNTk6IFwiO1wiLCA2MTogXCI9XCIsIDkxOiBcIk1vZFwiLCA5MjogXCJNb2RcIiwgOTM6IFwiTW9kXCIsIDEwNzogXCI9XCIsIDEwOTogXCItXCIsIDEyNzogXCJEZWxldGVcIixcbiAgICAgICAgICAgICAgICAgIDE3MzogXCItXCIsIDE4NjogXCI7XCIsIDE4NzogXCI9XCIsIDE4ODogXCIsXCIsIDE4OTogXCItXCIsIDE5MDogXCIuXCIsIDE5MTogXCIvXCIsIDE5MjogXCJgXCIsIDIxOTogXCJbXCIsIDIyMDogXCJcXFxcXCIsXG4gICAgICAgICAgICAgICAgICAyMjE6IFwiXVwiLCAyMjI6IFwiJ1wiLCA2MzIzMjogXCJVcFwiLCA2MzIzMzogXCJEb3duXCIsIDYzMjM0OiBcIkxlZnRcIiwgNjMyMzU6IFwiUmlnaHRcIiwgNjMyNzI6IFwiRGVsZXRlXCIsXG4gICAgICAgICAgICAgICAgICA2MzI3MzogXCJIb21lXCIsIDYzMjc1OiBcIkVuZFwiLCA2MzI3NjogXCJQYWdlVXBcIiwgNjMyNzc6IFwiUGFnZURvd25cIiwgNjMzMDI6IFwiSW5zZXJ0XCJ9O1xuICBDb2RlTWlycm9yLmtleU5hbWVzID0ga2V5TmFtZXM7XG4gIChmdW5jdGlvbigpIHtcbiAgICAvLyBOdW1iZXIga2V5c1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykga2V5TmFtZXNbaSArIDQ4XSA9IGtleU5hbWVzW2kgKyA5Nl0gPSBTdHJpbmcoaSk7XG4gICAgLy8gQWxwaGFiZXRpYyBrZXlzXG4gICAgZm9yICh2YXIgaSA9IDY1OyBpIDw9IDkwOyBpKyspIGtleU5hbWVzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZShpKTtcbiAgICAvLyBGdW5jdGlvbiBrZXlzXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gMTI7IGkrKykga2V5TmFtZXNbaSArIDExMV0gPSBrZXlOYW1lc1tpICsgNjMyMzVdID0gXCJGXCIgKyBpO1xuICB9KSgpO1xuXG4gIC8vIEJJREkgSEVMUEVSU1xuXG4gIGZ1bmN0aW9uIGl0ZXJhdGVCaWRpU2VjdGlvbnMob3JkZXIsIGZyb20sIHRvLCBmKSB7XG4gICAgaWYgKCFvcmRlcikgcmV0dXJuIGYoZnJvbSwgdG8sIFwibHRyXCIpO1xuICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JkZXIubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBwYXJ0ID0gb3JkZXJbaV07XG4gICAgICBpZiAocGFydC5mcm9tIDwgdG8gJiYgcGFydC50byA+IGZyb20gfHwgZnJvbSA9PSB0byAmJiBwYXJ0LnRvID09IGZyb20pIHtcbiAgICAgICAgZihNYXRoLm1heChwYXJ0LmZyb20sIGZyb20pLCBNYXRoLm1pbihwYXJ0LnRvLCB0byksIHBhcnQubGV2ZWwgPT0gMSA/IFwicnRsXCIgOiBcImx0clwiKTtcbiAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWZvdW5kKSBmKGZyb20sIHRvLCBcImx0clwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJpZGlMZWZ0KHBhcnQpIHsgcmV0dXJuIHBhcnQubGV2ZWwgJSAyID8gcGFydC50byA6IHBhcnQuZnJvbTsgfVxuICBmdW5jdGlvbiBiaWRpUmlnaHQocGFydCkgeyByZXR1cm4gcGFydC5sZXZlbCAlIDIgPyBwYXJ0LmZyb20gOiBwYXJ0LnRvOyB9XG5cbiAgZnVuY3Rpb24gbGluZUxlZnQobGluZSkgeyB2YXIgb3JkZXIgPSBnZXRPcmRlcihsaW5lKTsgcmV0dXJuIG9yZGVyID8gYmlkaUxlZnQob3JkZXJbMF0pIDogMDsgfVxuICBmdW5jdGlvbiBsaW5lUmlnaHQobGluZSkge1xuICAgIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmUpO1xuICAgIGlmICghb3JkZXIpIHJldHVybiBsaW5lLnRleHQubGVuZ3RoO1xuICAgIHJldHVybiBiaWRpUmlnaHQobHN0KG9yZGVyKSk7XG4gIH1cblxuICBmdW5jdGlvbiBsaW5lU3RhcnQoY20sIGxpbmVOKSB7XG4gICAgdmFyIGxpbmUgPSBnZXRMaW5lKGNtLmRvYywgbGluZU4pO1xuICAgIHZhciB2aXN1YWwgPSB2aXN1YWxMaW5lKGxpbmUpO1xuICAgIGlmICh2aXN1YWwgIT0gbGluZSkgbGluZU4gPSBsaW5lTm8odmlzdWFsKTtcbiAgICB2YXIgb3JkZXIgPSBnZXRPcmRlcih2aXN1YWwpO1xuICAgIHZhciBjaCA9ICFvcmRlciA/IDAgOiBvcmRlclswXS5sZXZlbCAlIDIgPyBsaW5lUmlnaHQodmlzdWFsKSA6IGxpbmVMZWZ0KHZpc3VhbCk7XG4gICAgcmV0dXJuIFBvcyhsaW5lTiwgY2gpO1xuICB9XG4gIGZ1bmN0aW9uIGxpbmVFbmQoY20sIGxpbmVOKSB7XG4gICAgdmFyIG1lcmdlZCwgbGluZSA9IGdldExpbmUoY20uZG9jLCBsaW5lTik7XG4gICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdEVuZChsaW5lKSkge1xuICAgICAgbGluZSA9IG1lcmdlZC5maW5kKDEsIHRydWUpLmxpbmU7XG4gICAgICBsaW5lTiA9IG51bGw7XG4gICAgfVxuICAgIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmUpO1xuICAgIHZhciBjaCA9ICFvcmRlciA/IGxpbmUudGV4dC5sZW5ndGggOiBvcmRlclswXS5sZXZlbCAlIDIgPyBsaW5lTGVmdChsaW5lKSA6IGxpbmVSaWdodChsaW5lKTtcbiAgICByZXR1cm4gUG9zKGxpbmVOID09IG51bGwgPyBsaW5lTm8obGluZSkgOiBsaW5lTiwgY2gpO1xuICB9XG4gIGZ1bmN0aW9uIGxpbmVTdGFydFNtYXJ0KGNtLCBwb3MpIHtcbiAgICB2YXIgc3RhcnQgPSBsaW5lU3RhcnQoY20sIHBvcy5saW5lKTtcbiAgICB2YXIgbGluZSA9IGdldExpbmUoY20uZG9jLCBzdGFydC5saW5lKTtcbiAgICB2YXIgb3JkZXIgPSBnZXRPcmRlcihsaW5lKTtcbiAgICBpZiAoIW9yZGVyIHx8IG9yZGVyWzBdLmxldmVsID09IDApIHtcbiAgICAgIHZhciBmaXJzdE5vbldTID0gTWF0aC5tYXgoMCwgbGluZS50ZXh0LnNlYXJjaCgvXFxTLykpO1xuICAgICAgdmFyIGluV1MgPSBwb3MubGluZSA9PSBzdGFydC5saW5lICYmIHBvcy5jaCA8PSBmaXJzdE5vbldTICYmIHBvcy5jaDtcbiAgICAgIHJldHVybiBQb3Moc3RhcnQubGluZSwgaW5XUyA/IDAgOiBmaXJzdE5vbldTKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0O1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcGFyZUJpZGlMZXZlbChvcmRlciwgYSwgYikge1xuICAgIHZhciBsaW5lZGlyID0gb3JkZXJbMF0ubGV2ZWw7XG4gICAgaWYgKGEgPT0gbGluZWRpcikgcmV0dXJuIHRydWU7XG4gICAgaWYgKGIgPT0gbGluZWRpcikgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBhIDwgYjtcbiAgfVxuICB2YXIgYmlkaU90aGVyO1xuICBmdW5jdGlvbiBnZXRCaWRpUGFydEF0KG9yZGVyLCBwb3MpIHtcbiAgICBiaWRpT3RoZXIgPSBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwLCBmb3VuZDsgaSA8IG9yZGVyLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgY3VyID0gb3JkZXJbaV07XG4gICAgICBpZiAoY3VyLmZyb20gPCBwb3MgJiYgY3VyLnRvID4gcG9zKSByZXR1cm4gaTtcbiAgICAgIGlmICgoY3VyLmZyb20gPT0gcG9zIHx8IGN1ci50byA9PSBwb3MpKSB7XG4gICAgICAgIGlmIChmb3VuZCA9PSBudWxsKSB7XG4gICAgICAgICAgZm91bmQgPSBpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXBhcmVCaWRpTGV2ZWwob3JkZXIsIGN1ci5sZXZlbCwgb3JkZXJbZm91bmRdLmxldmVsKSkge1xuICAgICAgICAgIGlmIChjdXIuZnJvbSAhPSBjdXIudG8pIGJpZGlPdGhlciA9IGZvdW5kO1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChjdXIuZnJvbSAhPSBjdXIudG8pIGJpZGlPdGhlciA9IGk7XG4gICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmVJbkxpbmUobGluZSwgcG9zLCBkaXIsIGJ5VW5pdCkge1xuICAgIGlmICghYnlVbml0KSByZXR1cm4gcG9zICsgZGlyO1xuICAgIGRvIHBvcyArPSBkaXI7XG4gICAgd2hpbGUgKHBvcyA+IDAgJiYgaXNFeHRlbmRpbmdDaGFyKGxpbmUudGV4dC5jaGFyQXQocG9zKSkpO1xuICAgIHJldHVybiBwb3M7XG4gIH1cblxuICAvLyBUaGlzIGlzIG5lZWRlZCBpbiBvcmRlciB0byBtb3ZlICd2aXN1YWxseScgdGhyb3VnaCBiaS1kaXJlY3Rpb25hbFxuICAvLyB0ZXh0IC0tIGkuZS4sIHByZXNzaW5nIGxlZnQgc2hvdWxkIG1ha2UgdGhlIGN1cnNvciBnbyBsZWZ0LCBldmVuXG4gIC8vIHdoZW4gaW4gUlRMIHRleHQuIFRoZSB0cmlja3kgcGFydCBpcyB0aGUgJ2p1bXBzJywgd2hlcmUgUlRMIGFuZFxuICAvLyBMVFIgdGV4dCB0b3VjaCBlYWNoIG90aGVyLiBUaGlzIG9mdGVuIHJlcXVpcmVzIHRoZSBjdXJzb3Igb2Zmc2V0XG4gIC8vIHRvIG1vdmUgbW9yZSB0aGFuIG9uZSB1bml0LCBpbiBvcmRlciB0byB2aXN1YWxseSBtb3ZlIG9uZSB1bml0LlxuICBmdW5jdGlvbiBtb3ZlVmlzdWFsbHkobGluZSwgc3RhcnQsIGRpciwgYnlVbml0KSB7XG4gICAgdmFyIGJpZGkgPSBnZXRPcmRlcihsaW5lKTtcbiAgICBpZiAoIWJpZGkpIHJldHVybiBtb3ZlTG9naWNhbGx5KGxpbmUsIHN0YXJ0LCBkaXIsIGJ5VW5pdCk7XG4gICAgdmFyIHBvcyA9IGdldEJpZGlQYXJ0QXQoYmlkaSwgc3RhcnQpLCBwYXJ0ID0gYmlkaVtwb3NdO1xuICAgIHZhciB0YXJnZXQgPSBtb3ZlSW5MaW5lKGxpbmUsIHN0YXJ0LCBwYXJ0LmxldmVsICUgMiA/IC1kaXIgOiBkaXIsIGJ5VW5pdCk7XG5cbiAgICBmb3IgKDs7KSB7XG4gICAgICBpZiAodGFyZ2V0ID4gcGFydC5mcm9tICYmIHRhcmdldCA8IHBhcnQudG8pIHJldHVybiB0YXJnZXQ7XG4gICAgICBpZiAodGFyZ2V0ID09IHBhcnQuZnJvbSB8fCB0YXJnZXQgPT0gcGFydC50bykge1xuICAgICAgICBpZiAoZ2V0QmlkaVBhcnRBdChiaWRpLCB0YXJnZXQpID09IHBvcykgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgcGFydCA9IGJpZGlbcG9zICs9IGRpcl07XG4gICAgICAgIHJldHVybiAoZGlyID4gMCkgPT0gcGFydC5sZXZlbCAlIDIgPyBwYXJ0LnRvIDogcGFydC5mcm9tO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydCA9IGJpZGlbcG9zICs9IGRpcl07XG4gICAgICAgIGlmICghcGFydCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICgoZGlyID4gMCkgPT0gcGFydC5sZXZlbCAlIDIpXG4gICAgICAgICAgdGFyZ2V0ID0gbW92ZUluTGluZShsaW5lLCBwYXJ0LnRvLCAtMSwgYnlVbml0KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRhcmdldCA9IG1vdmVJbkxpbmUobGluZSwgcGFydC5mcm9tLCAxLCBieVVuaXQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmVMb2dpY2FsbHkobGluZSwgc3RhcnQsIGRpciwgYnlVbml0KSB7XG4gICAgdmFyIHRhcmdldCA9IHN0YXJ0ICsgZGlyO1xuICAgIGlmIChieVVuaXQpIHdoaWxlICh0YXJnZXQgPiAwICYmIGlzRXh0ZW5kaW5nQ2hhcihsaW5lLnRleHQuY2hhckF0KHRhcmdldCkpKSB0YXJnZXQgKz0gZGlyO1xuICAgIHJldHVybiB0YXJnZXQgPCAwIHx8IHRhcmdldCA+IGxpbmUudGV4dC5sZW5ndGggPyBudWxsIDogdGFyZ2V0O1xuICB9XG5cbiAgLy8gQmlkaXJlY3Rpb25hbCBvcmRlcmluZyBhbGdvcml0aG1cbiAgLy8gU2VlIGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcnRzL3RyOS90cjktMTMuaHRtbCBmb3IgdGhlIGFsZ29yaXRobVxuICAvLyB0aGF0IHRoaXMgKHBhcnRpYWxseSkgaW1wbGVtZW50cy5cblxuICAvLyBPbmUtY2hhciBjb2RlcyB1c2VkIGZvciBjaGFyYWN0ZXIgdHlwZXM6XG4gIC8vIEwgKEwpOiAgIExlZnQtdG8tUmlnaHRcbiAgLy8gUiAoUik6ICAgUmlnaHQtdG8tTGVmdFxuICAvLyByIChBTCk6ICBSaWdodC10by1MZWZ0IEFyYWJpY1xuICAvLyAxIChFTik6ICBFdXJvcGVhbiBOdW1iZXJcbiAgLy8gKyAoRVMpOiAgRXVyb3BlYW4gTnVtYmVyIFNlcGFyYXRvclxuICAvLyAlIChFVCk6ICBFdXJvcGVhbiBOdW1iZXIgVGVybWluYXRvclxuICAvLyBuIChBTik6ICBBcmFiaWMgTnVtYmVyXG4gIC8vICwgKENTKTogIENvbW1vbiBOdW1iZXIgU2VwYXJhdG9yXG4gIC8vIG0gKE5TTSk6IE5vbi1TcGFjaW5nIE1hcmtcbiAgLy8gYiAoQk4pOiAgQm91bmRhcnkgTmV1dHJhbFxuICAvLyBzIChCKTogICBQYXJhZ3JhcGggU2VwYXJhdG9yXG4gIC8vIHQgKFMpOiAgIFNlZ21lbnQgU2VwYXJhdG9yXG4gIC8vIHcgKFdTKTogIFdoaXRlc3BhY2VcbiAgLy8gTiAoT04pOiAgT3RoZXIgTmV1dHJhbHNcblxuICAvLyBSZXR1cm5zIG51bGwgaWYgY2hhcmFjdGVycyBhcmUgb3JkZXJlZCBhcyB0aGV5IGFwcGVhclxuICAvLyAobGVmdC10by1yaWdodCksIG9yIGFuIGFycmF5IG9mIHNlY3Rpb25zICh7ZnJvbSwgdG8sIGxldmVsfVxuICAvLyBvYmplY3RzKSBpbiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBvY2N1ciB2aXN1YWxseS5cbiAgdmFyIGJpZGlPcmRlcmluZyA9IChmdW5jdGlvbigpIHtcbiAgICAvLyBDaGFyYWN0ZXIgdHlwZXMgZm9yIGNvZGVwb2ludHMgMCB0byAweGZmXG4gICAgdmFyIGxvd1R5cGVzID0gXCJiYmJiYmJiYmJ0c3R3c2JiYmJiYmJiYmJiYmJic3NzdHdOTiUlJU5OTk5OTixOLE4xMTExMTExMTExTk5OTk5OTkxMTExMTExMTExMTExMTExMTExMTExMTExMTk5OTk5OTExMTExMTExMTExMTExMTExMTExMTExMTExOTk5OYmJiYmJic2JiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiLE4lJSUlTk5OTkxOTk5OTiUlMTFOTE5OTjFMTk5OTk5MTExMTExMTExMTExMTExMTExMTExMTE5MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTlwiO1xuICAgIC8vIENoYXJhY3RlciB0eXBlcyBmb3IgY29kZXBvaW50cyAweDYwMCB0byAweDZmZlxuICAgIHZhciBhcmFiaWNUeXBlcyA9IFwicnJycnJycnJycnJyLHJOTm1tbW1tbXJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJybW1tbW1tbW1tbW1tbW1ycnJycnJybm5ubm5ubm5ubiVubnJycm1ycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycm1tbW1tbW1tbW1tbW1tbW1tbW1ObW1tbVwiO1xuICAgIGZ1bmN0aW9uIGNoYXJUeXBlKGNvZGUpIHtcbiAgICAgIGlmIChjb2RlIDw9IDB4ZjcpIHJldHVybiBsb3dUeXBlcy5jaGFyQXQoY29kZSk7XG4gICAgICBlbHNlIGlmICgweDU5MCA8PSBjb2RlICYmIGNvZGUgPD0gMHg1ZjQpIHJldHVybiBcIlJcIjtcbiAgICAgIGVsc2UgaWYgKDB4NjAwIDw9IGNvZGUgJiYgY29kZSA8PSAweDZlZCkgcmV0dXJuIGFyYWJpY1R5cGVzLmNoYXJBdChjb2RlIC0gMHg2MDApO1xuICAgICAgZWxzZSBpZiAoMHg2ZWUgPD0gY29kZSAmJiBjb2RlIDw9IDB4OGFjKSByZXR1cm4gXCJyXCI7XG4gICAgICBlbHNlIGlmICgweDIwMDAgPD0gY29kZSAmJiBjb2RlIDw9IDB4MjAwYikgcmV0dXJuIFwid1wiO1xuICAgICAgZWxzZSBpZiAoY29kZSA9PSAweDIwMGMpIHJldHVybiBcImJcIjtcbiAgICAgIGVsc2UgcmV0dXJuIFwiTFwiO1xuICAgIH1cblxuICAgIHZhciBiaWRpUkUgPSAvW1xcdTA1OTAtXFx1MDVmNFxcdTA2MDAtXFx1MDZmZlxcdTA3MDAtXFx1MDhhY10vO1xuICAgIHZhciBpc05ldXRyYWwgPSAvW3N0d05dLywgaXNTdHJvbmcgPSAvW0xScl0vLCBjb3VudHNBc0xlZnQgPSAvW0xiMW5dLywgY291bnRzQXNOdW0gPSAvWzFuXS87XG4gICAgLy8gQnJvd3NlcnMgc2VlbSB0byBhbHdheXMgdHJlYXQgdGhlIGJvdW5kYXJpZXMgb2YgYmxvY2sgZWxlbWVudHMgYXMgYmVpbmcgTC5cbiAgICB2YXIgb3V0ZXJUeXBlID0gXCJMXCI7XG5cbiAgICBmdW5jdGlvbiBCaWRpU3BhbihsZXZlbCwgZnJvbSwgdG8pIHtcbiAgICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICAgIHRoaXMuZnJvbSA9IGZyb207IHRoaXMudG8gPSB0bztcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyKSB7XG4gICAgICBpZiAoIWJpZGlSRS50ZXN0KHN0cikpIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciBsZW4gPSBzdHIubGVuZ3RoLCB0eXBlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIHR5cGU7IGkgPCBsZW47ICsraSlcbiAgICAgICAgdHlwZXMucHVzaCh0eXBlID0gY2hhclR5cGUoc3RyLmNoYXJDb2RlQXQoaSkpKTtcblxuICAgICAgLy8gVzEuIEV4YW1pbmUgZWFjaCBub24tc3BhY2luZyBtYXJrIChOU00pIGluIHRoZSBsZXZlbCBydW4sIGFuZFxuICAgICAgLy8gY2hhbmdlIHRoZSB0eXBlIG9mIHRoZSBOU00gdG8gdGhlIHR5cGUgb2YgdGhlIHByZXZpb3VzXG4gICAgICAvLyBjaGFyYWN0ZXIuIElmIHRoZSBOU00gaXMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBsZXZlbCBydW4sIGl0IHdpbGxcbiAgICAgIC8vIGdldCB0aGUgdHlwZSBvZiBzb3IuXG4gICAgICBmb3IgKHZhciBpID0gMCwgcHJldiA9IG91dGVyVHlwZTsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHZhciB0eXBlID0gdHlwZXNbaV07XG4gICAgICAgIGlmICh0eXBlID09IFwibVwiKSB0eXBlc1tpXSA9IHByZXY7XG4gICAgICAgIGVsc2UgcHJldiA9IHR5cGU7XG4gICAgICB9XG5cbiAgICAgIC8vIFcyLiBTZWFyY2ggYmFja3dhcmRzIGZyb20gZWFjaCBpbnN0YW5jZSBvZiBhIEV1cm9wZWFuIG51bWJlclxuICAgICAgLy8gdW50aWwgdGhlIGZpcnN0IHN0cm9uZyB0eXBlIChSLCBMLCBBTCwgb3Igc29yKSBpcyBmb3VuZC4gSWYgYW5cbiAgICAgIC8vIEFMIGlzIGZvdW5kLCBjaGFuZ2UgdGhlIHR5cGUgb2YgdGhlIEV1cm9wZWFuIG51bWJlciB0byBBcmFiaWNcbiAgICAgIC8vIG51bWJlci5cbiAgICAgIC8vIFczLiBDaGFuZ2UgYWxsIEFMcyB0byBSLlxuICAgICAgZm9yICh2YXIgaSA9IDAsIGN1ciA9IG91dGVyVHlwZTsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHZhciB0eXBlID0gdHlwZXNbaV07XG4gICAgICAgIGlmICh0eXBlID09IFwiMVwiICYmIGN1ciA9PSBcInJcIikgdHlwZXNbaV0gPSBcIm5cIjtcbiAgICAgICAgZWxzZSBpZiAoaXNTdHJvbmcudGVzdCh0eXBlKSkgeyBjdXIgPSB0eXBlOyBpZiAodHlwZSA9PSBcInJcIikgdHlwZXNbaV0gPSBcIlJcIjsgfVxuICAgICAgfVxuXG4gICAgICAvLyBXNC4gQSBzaW5nbGUgRXVyb3BlYW4gc2VwYXJhdG9yIGJldHdlZW4gdHdvIEV1cm9wZWFuIG51bWJlcnNcbiAgICAgIC8vIGNoYW5nZXMgdG8gYSBFdXJvcGVhbiBudW1iZXIuIEEgc2luZ2xlIGNvbW1vbiBzZXBhcmF0b3IgYmV0d2VlblxuICAgICAgLy8gdHdvIG51bWJlcnMgb2YgdGhlIHNhbWUgdHlwZSBjaGFuZ2VzIHRvIHRoYXQgdHlwZS5cbiAgICAgIGZvciAodmFyIGkgPSAxLCBwcmV2ID0gdHlwZXNbMF07IGkgPCBsZW4gLSAxOyArK2kpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCIrXCIgJiYgcHJldiA9PSBcIjFcIiAmJiB0eXBlc1tpKzFdID09IFwiMVwiKSB0eXBlc1tpXSA9IFwiMVwiO1xuICAgICAgICBlbHNlIGlmICh0eXBlID09IFwiLFwiICYmIHByZXYgPT0gdHlwZXNbaSsxXSAmJlxuICAgICAgICAgICAgICAgICAocHJldiA9PSBcIjFcIiB8fCBwcmV2ID09IFwiblwiKSkgdHlwZXNbaV0gPSBwcmV2O1xuICAgICAgICBwcmV2ID0gdHlwZTtcbiAgICAgIH1cblxuICAgICAgLy8gVzUuIEEgc2VxdWVuY2Ugb2YgRXVyb3BlYW4gdGVybWluYXRvcnMgYWRqYWNlbnQgdG8gRXVyb3BlYW5cbiAgICAgIC8vIG51bWJlcnMgY2hhbmdlcyB0byBhbGwgRXVyb3BlYW4gbnVtYmVycy5cbiAgICAgIC8vIFc2LiBPdGhlcndpc2UsIHNlcGFyYXRvcnMgYW5kIHRlcm1pbmF0b3JzIGNoYW5nZSB0byBPdGhlclxuICAgICAgLy8gTmV1dHJhbC5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCIsXCIpIHR5cGVzW2ldID0gXCJOXCI7XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCIlXCIpIHtcbiAgICAgICAgICBmb3IgKHZhciBlbmQgPSBpICsgMTsgZW5kIDwgbGVuICYmIHR5cGVzW2VuZF0gPT0gXCIlXCI7ICsrZW5kKSB7fVxuICAgICAgICAgIHZhciByZXBsYWNlID0gKGkgJiYgdHlwZXNbaS0xXSA9PSBcIiFcIikgfHwgKGVuZCA8IGxlbiAmJiB0eXBlc1tlbmRdID09IFwiMVwiKSA/IFwiMVwiIDogXCJOXCI7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IGk7IGogPCBlbmQ7ICsraikgdHlwZXNbal0gPSByZXBsYWNlO1xuICAgICAgICAgIGkgPSBlbmQgLSAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFc3LiBTZWFyY2ggYmFja3dhcmRzIGZyb20gZWFjaCBpbnN0YW5jZSBvZiBhIEV1cm9wZWFuIG51bWJlclxuICAgICAgLy8gdW50aWwgdGhlIGZpcnN0IHN0cm9uZyB0eXBlIChSLCBMLCBvciBzb3IpIGlzIGZvdW5kLiBJZiBhbiBMIGlzXG4gICAgICAvLyBmb3VuZCwgdGhlbiBjaGFuZ2UgdGhlIHR5cGUgb2YgdGhlIEV1cm9wZWFuIG51bWJlciB0byBMLlxuICAgICAgZm9yICh2YXIgaSA9IDAsIGN1ciA9IG91dGVyVHlwZTsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHZhciB0eXBlID0gdHlwZXNbaV07XG4gICAgICAgIGlmIChjdXIgPT0gXCJMXCIgJiYgdHlwZSA9PSBcIjFcIikgdHlwZXNbaV0gPSBcIkxcIjtcbiAgICAgICAgZWxzZSBpZiAoaXNTdHJvbmcudGVzdCh0eXBlKSkgY3VyID0gdHlwZTtcbiAgICAgIH1cblxuICAgICAgLy8gTjEuIEEgc2VxdWVuY2Ugb2YgbmV1dHJhbHMgdGFrZXMgdGhlIGRpcmVjdGlvbiBvZiB0aGVcbiAgICAgIC8vIHN1cnJvdW5kaW5nIHN0cm9uZyB0ZXh0IGlmIHRoZSB0ZXh0IG9uIGJvdGggc2lkZXMgaGFzIHRoZSBzYW1lXG4gICAgICAvLyBkaXJlY3Rpb24uIEV1cm9wZWFuIGFuZCBBcmFiaWMgbnVtYmVycyBhY3QgYXMgaWYgdGhleSB3ZXJlIFIgaW5cbiAgICAgIC8vIHRlcm1zIG9mIHRoZWlyIGluZmx1ZW5jZSBvbiBuZXV0cmFscy4gU3RhcnQtb2YtbGV2ZWwtcnVuIChzb3IpXG4gICAgICAvLyBhbmQgZW5kLW9mLWxldmVsLXJ1biAoZW9yKSBhcmUgdXNlZCBhdCBsZXZlbCBydW4gYm91bmRhcmllcy5cbiAgICAgIC8vIE4yLiBBbnkgcmVtYWluaW5nIG5ldXRyYWxzIHRha2UgdGhlIGVtYmVkZGluZyBkaXJlY3Rpb24uXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIGlmIChpc05ldXRyYWwudGVzdCh0eXBlc1tpXSkpIHtcbiAgICAgICAgICBmb3IgKHZhciBlbmQgPSBpICsgMTsgZW5kIDwgbGVuICYmIGlzTmV1dHJhbC50ZXN0KHR5cGVzW2VuZF0pOyArK2VuZCkge31cbiAgICAgICAgICB2YXIgYmVmb3JlID0gKGkgPyB0eXBlc1tpLTFdIDogb3V0ZXJUeXBlKSA9PSBcIkxcIjtcbiAgICAgICAgICB2YXIgYWZ0ZXIgPSAoZW5kIDwgbGVuID8gdHlwZXNbZW5kXSA6IG91dGVyVHlwZSkgPT0gXCJMXCI7XG4gICAgICAgICAgdmFyIHJlcGxhY2UgPSBiZWZvcmUgfHwgYWZ0ZXIgPyBcIkxcIiA6IFwiUlwiO1xuICAgICAgICAgIGZvciAodmFyIGogPSBpOyBqIDwgZW5kOyArK2opIHR5cGVzW2pdID0gcmVwbGFjZTtcbiAgICAgICAgICBpID0gZW5kIC0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBIZXJlIHdlIGRlcGFydCBmcm9tIHRoZSBkb2N1bWVudGVkIGFsZ29yaXRobSwgaW4gb3JkZXIgdG8gYXZvaWRcbiAgICAgIC8vIGJ1aWxkaW5nIHVwIGFuIGFjdHVhbCBsZXZlbHMgYXJyYXkuIFNpbmNlIHRoZXJlIGFyZSBvbmx5IHRocmVlXG4gICAgICAvLyBsZXZlbHMgKDAsIDEsIDIpIGluIGFuIGltcGxlbWVudGF0aW9uIHRoYXQgZG9lc24ndCB0YWtlXG4gICAgICAvLyBleHBsaWNpdCBlbWJlZGRpbmcgaW50byBhY2NvdW50LCB3ZSBjYW4gYnVpbGQgdXAgdGhlIG9yZGVyIG9uXG4gICAgICAvLyB0aGUgZmx5LCB3aXRob3V0IGZvbGxvd2luZyB0aGUgbGV2ZWwtYmFzZWQgYWxnb3JpdGhtLlxuICAgICAgdmFyIG9yZGVyID0gW10sIG07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjspIHtcbiAgICAgICAgaWYgKGNvdW50c0FzTGVmdC50ZXN0KHR5cGVzW2ldKSkge1xuICAgICAgICAgIHZhciBzdGFydCA9IGk7XG4gICAgICAgICAgZm9yICgrK2k7IGkgPCBsZW4gJiYgY291bnRzQXNMZWZ0LnRlc3QodHlwZXNbaV0pOyArK2kpIHt9XG4gICAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oMCwgc3RhcnQsIGkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcG9zID0gaSwgYXQgPSBvcmRlci5sZW5ndGg7XG4gICAgICAgICAgZm9yICgrK2k7IGkgPCBsZW4gJiYgdHlwZXNbaV0gIT0gXCJMXCI7ICsraSkge31cbiAgICAgICAgICBmb3IgKHZhciBqID0gcG9zOyBqIDwgaTspIHtcbiAgICAgICAgICAgIGlmIChjb3VudHNBc051bS50ZXN0KHR5cGVzW2pdKSkge1xuICAgICAgICAgICAgICBpZiAocG9zIDwgaikgb3JkZXIuc3BsaWNlKGF0LCAwLCBuZXcgQmlkaVNwYW4oMSwgcG9zLCBqKSk7XG4gICAgICAgICAgICAgIHZhciBuc3RhcnQgPSBqO1xuICAgICAgICAgICAgICBmb3IgKCsrajsgaiA8IGkgJiYgY291bnRzQXNOdW0udGVzdCh0eXBlc1tqXSk7ICsraikge31cbiAgICAgICAgICAgICAgb3JkZXIuc3BsaWNlKGF0LCAwLCBuZXcgQmlkaVNwYW4oMiwgbnN0YXJ0LCBqKSk7XG4gICAgICAgICAgICAgIHBvcyA9IGo7XG4gICAgICAgICAgICB9IGVsc2UgKytqO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocG9zIDwgaSkgb3JkZXIuc3BsaWNlKGF0LCAwLCBuZXcgQmlkaVNwYW4oMSwgcG9zLCBpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChvcmRlclswXS5sZXZlbCA9PSAxICYmIChtID0gc3RyLm1hdGNoKC9eXFxzKy8pKSkge1xuICAgICAgICBvcmRlclswXS5mcm9tID0gbVswXS5sZW5ndGg7XG4gICAgICAgIG9yZGVyLnVuc2hpZnQobmV3IEJpZGlTcGFuKDAsIDAsIG1bMF0ubGVuZ3RoKSk7XG4gICAgICB9XG4gICAgICBpZiAobHN0KG9yZGVyKS5sZXZlbCA9PSAxICYmIChtID0gc3RyLm1hdGNoKC9cXHMrJC8pKSkge1xuICAgICAgICBsc3Qob3JkZXIpLnRvIC09IG1bMF0ubGVuZ3RoO1xuICAgICAgICBvcmRlci5wdXNoKG5ldyBCaWRpU3BhbigwLCBsZW4gLSBtWzBdLmxlbmd0aCwgbGVuKSk7XG4gICAgICB9XG4gICAgICBpZiAob3JkZXJbMF0ubGV2ZWwgIT0gbHN0KG9yZGVyKS5sZXZlbClcbiAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4ob3JkZXJbMF0ubGV2ZWwsIGxlbiwgbGVuKSk7XG5cbiAgICAgIHJldHVybiBvcmRlcjtcbiAgICB9O1xuICB9KSgpO1xuXG4gIC8vIFRIRSBFTkRcblxuICBDb2RlTWlycm9yLnZlcnNpb24gPSBcIjQuNy4wXCI7XG5cbiAgcmV0dXJuIENvZGVNaXJyb3I7XG59KTtcbiIsIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cDovL2NvZGVtaXJyb3IubmV0L0xJQ0VOU0VcblxuLyoqXG4gKiBMaW5rIHRvIHRoZSBwcm9qZWN0J3MgR2l0SHViIHBhZ2U6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGlja2hhcmR0L2NvZmZlZXNjcmlwdC1jb2RlbWlycm9yLW1vZGVcbiAqL1xuKGZ1bmN0aW9uKG1vZCkge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIpIC8vIENvbW1vbkpTXG4gICAgbW9kKHJlcXVpcmUoXCIuLi8uLi9saWIvY29kZW1pcnJvclwiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi8uLi9saWIvY29kZW1pcnJvclwiXSwgbW9kKTtcbiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudlxuICAgIG1vZChDb2RlTWlycm9yKTtcbn0pKGZ1bmN0aW9uKENvZGVNaXJyb3IpIHtcblwidXNlIHN0cmljdFwiO1xuXG5Db2RlTWlycm9yLmRlZmluZU1vZGUoXCJjb2ZmZWVzY3JpcHRcIiwgZnVuY3Rpb24oY29uZikge1xuICB2YXIgRVJST1JDTEFTUyA9IFwiZXJyb3JcIjtcblxuICBmdW5jdGlvbiB3b3JkUmVnZXhwKHdvcmRzKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJeKChcIiArIHdvcmRzLmpvaW4oXCIpfChcIikgKyBcIikpXFxcXGJcIik7XG4gIH1cblxuICB2YXIgb3BlcmF0b3JzID0gL14oPzotPnw9PnxcXCtbKz1dP3wtW1xcLT1dP3xcXCpbXFwqPV0/fFxcL1tcXC89XT98Wz0hXT18PFs+PF0/PT98Pj4/PT98JT0/fCY9P3xcXHw9P3xcXF49P3xcXH58IXxcXD98KG9yfGFuZHxcXHxcXHx8JiZ8XFw/KT0pLztcbiAgdmFyIGRlbGltaXRlcnMgPSAvXig/OlsoKVxcW1xcXXt9LDpgPTtdfFxcLlxcLj9cXC4/KS87XG4gIHZhciBpZGVudGlmaWVycyA9IC9eW19BLVphLXokXVtfQS1aYS16JDAtOV0qLztcbiAgdmFyIHByb3BlcnRpZXMgPSAvXihAfHRoaXNcXC4pW19BLVphLXokXVtfQS1aYS16JDAtOV0qLztcblxuICB2YXIgd29yZE9wZXJhdG9ycyA9IHdvcmRSZWdleHAoW1wiYW5kXCIsIFwib3JcIiwgXCJub3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlzXCIsIFwiaXNudFwiLCBcImluXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbnN0YW5jZW9mXCIsIFwidHlwZW9mXCJdKTtcbiAgdmFyIGluZGVudEtleXdvcmRzID0gW1wiZm9yXCIsIFwid2hpbGVcIiwgXCJsb29wXCIsIFwiaWZcIiwgXCJ1bmxlc3NcIiwgXCJlbHNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN3aXRjaFwiLCBcInRyeVwiLCBcImNhdGNoXCIsIFwiZmluYWxseVwiLCBcImNsYXNzXCJdO1xuICB2YXIgY29tbW9uS2V5d29yZHMgPSBbXCJicmVha1wiLCBcImJ5XCIsIFwiY29udGludWVcIiwgXCJkZWJ1Z2dlclwiLCBcImRlbGV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkb1wiLCBcImluXCIsIFwib2ZcIiwgXCJuZXdcIiwgXCJyZXR1cm5cIiwgXCJ0aGVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRoaXNcIiwgXCJAXCIsIFwidGhyb3dcIiwgXCJ3aGVuXCIsIFwidW50aWxcIiwgXCJleHRlbmRzXCJdO1xuXG4gIHZhciBrZXl3b3JkcyA9IHdvcmRSZWdleHAoaW5kZW50S2V5d29yZHMuY29uY2F0KGNvbW1vbktleXdvcmRzKSk7XG5cbiAgaW5kZW50S2V5d29yZHMgPSB3b3JkUmVnZXhwKGluZGVudEtleXdvcmRzKTtcblxuXG4gIHZhciBzdHJpbmdQcmVmaXhlcyA9IC9eKCd7M318XFxcInszfXxbJ1xcXCJdKS87XG4gIHZhciByZWdleFByZWZpeGVzID0gL14oXFwvezN9fFxcLykvO1xuICB2YXIgY29tbW9uQ29uc3RhbnRzID0gW1wiSW5maW5pdHlcIiwgXCJOYU5cIiwgXCJ1bmRlZmluZWRcIiwgXCJudWxsXCIsIFwidHJ1ZVwiLCBcImZhbHNlXCIsIFwib25cIiwgXCJvZmZcIiwgXCJ5ZXNcIiwgXCJub1wiXTtcbiAgdmFyIGNvbnN0YW50cyA9IHdvcmRSZWdleHAoY29tbW9uQ29uc3RhbnRzKTtcblxuICAvLyBUb2tlbml6ZXJzXG4gIGZ1bmN0aW9uIHRva2VuQmFzZShzdHJlYW0sIHN0YXRlKSB7XG4gICAgLy8gSGFuZGxlIHNjb3BlIGNoYW5nZXNcbiAgICBpZiAoc3RyZWFtLnNvbCgpKSB7XG4gICAgICBpZiAoc3RhdGUuc2NvcGUuYWxpZ24gPT09IG51bGwpIHN0YXRlLnNjb3BlLmFsaWduID0gZmFsc2U7XG4gICAgICB2YXIgc2NvcGVPZmZzZXQgPSBzdGF0ZS5zY29wZS5vZmZzZXQ7XG4gICAgICBpZiAoc3RyZWFtLmVhdFNwYWNlKCkpIHtcbiAgICAgICAgdmFyIGxpbmVPZmZzZXQgPSBzdHJlYW0uaW5kZW50YXRpb24oKTtcbiAgICAgICAgaWYgKGxpbmVPZmZzZXQgPiBzY29wZU9mZnNldCAmJiBzdGF0ZS5zY29wZS50eXBlID09IFwiY29mZmVlXCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJpbmRlbnRcIjtcbiAgICAgICAgfSBlbHNlIGlmIChsaW5lT2Zmc2V0IDwgc2NvcGVPZmZzZXQpIHtcbiAgICAgICAgICByZXR1cm4gXCJkZWRlbnRcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzY29wZU9mZnNldCA+IDApIHtcbiAgICAgICAgICBkZWRlbnQoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHN0cmVhbS5lYXRTcGFjZSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgY2ggPSBzdHJlYW0ucGVlaygpO1xuXG4gICAgLy8gSGFuZGxlIGRvY2NvIHRpdGxlIGNvbW1lbnQgKHNpbmdsZSBsaW5lKVxuICAgIGlmIChzdHJlYW0ubWF0Y2goXCIjIyMjXCIpKSB7XG4gICAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgICByZXR1cm4gXCJjb21tZW50XCI7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIG11bHRpIGxpbmUgY29tbWVudHNcbiAgICBpZiAoc3RyZWFtLm1hdGNoKFwiIyMjXCIpKSB7XG4gICAgICBzdGF0ZS50b2tlbml6ZSA9IGxvbmdDb21tZW50O1xuICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cblxuICAgIC8vIFNpbmdsZSBsaW5lIGNvbW1lbnRcbiAgICBpZiAoY2ggPT09IFwiI1wiKSB7XG4gICAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgICByZXR1cm4gXCJjb21tZW50XCI7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIG51bWJlciBsaXRlcmFsc1xuICAgIGlmIChzdHJlYW0ubWF0Y2goL14tP1swLTlcXC5dLywgZmFsc2UpKSB7XG4gICAgICB2YXIgZmxvYXRMaXRlcmFsID0gZmFsc2U7XG4gICAgICAvLyBGbG9hdHNcbiAgICAgIGlmIChzdHJlYW0ubWF0Y2goL14tP1xcZCpcXC5cXGQrKGVbXFwrXFwtXT9cXGQrKT8vaSkpIHtcbiAgICAgICAgZmxvYXRMaXRlcmFsID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHJlYW0ubWF0Y2goL14tP1xcZCtcXC5cXGQqLykpIHtcbiAgICAgICAgZmxvYXRMaXRlcmFsID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHJlYW0ubWF0Y2goL14tP1xcLlxcZCsvKSkge1xuICAgICAgICBmbG9hdExpdGVyYWwgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmxvYXRMaXRlcmFsKSB7XG4gICAgICAgIC8vIHByZXZlbnQgZnJvbSBnZXR0aW5nIGV4dHJhIC4gb24gMS4uXG4gICAgICAgIGlmIChzdHJlYW0ucGVlaygpID09IFwiLlwiKXtcbiAgICAgICAgICBzdHJlYW0uYmFja1VwKDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIm51bWJlclwiO1xuICAgICAgfVxuICAgICAgLy8gSW50ZWdlcnNcbiAgICAgIHZhciBpbnRMaXRlcmFsID0gZmFsc2U7XG4gICAgICAvLyBIZXhcbiAgICAgIGlmIChzdHJlYW0ubWF0Y2goL14tPzB4WzAtOWEtZl0rL2kpKSB7XG4gICAgICAgIGludExpdGVyYWwgPSB0cnVlO1xuICAgICAgfVxuICAgICAgLy8gRGVjaW1hbFxuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXi0/WzEtOV1cXGQqKGVbXFwrXFwtXT9cXGQrKT8vKSkge1xuICAgICAgICBpbnRMaXRlcmFsID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIFplcm8gYnkgaXRzZWxmIHdpdGggbm8gb3RoZXIgcGllY2Ugb2YgbnVtYmVyLlxuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXi0/MCg/IVtcXGR4XSkvaSkpIHtcbiAgICAgICAgaW50TGl0ZXJhbCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaW50TGl0ZXJhbCkge1xuICAgICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgc3RyaW5nc1xuICAgIGlmIChzdHJlYW0ubWF0Y2goc3RyaW5nUHJlZml4ZXMpKSB7XG4gICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuRmFjdG9yeShzdHJlYW0uY3VycmVudCgpLCBmYWxzZSwgXCJzdHJpbmdcIik7XG4gICAgICByZXR1cm4gc3RhdGUudG9rZW5pemUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfVxuICAgIC8vIEhhbmRsZSByZWdleCBsaXRlcmFsc1xuICAgIGlmIChzdHJlYW0ubWF0Y2gocmVnZXhQcmVmaXhlcykpIHtcbiAgICAgIGlmIChzdHJlYW0uY3VycmVudCgpICE9IFwiL1wiIHx8IHN0cmVhbS5tYXRjaCgvXi4qXFwvLywgZmFsc2UpKSB7IC8vIHByZXZlbnQgaGlnaGxpZ2h0IG9mIGRpdmlzaW9uXG4gICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5GYWN0b3J5KHN0cmVhbS5jdXJyZW50KCksIHRydWUsIFwic3RyaW5nLTJcIik7XG4gICAgICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0cmVhbS5iYWNrVXAoMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIG9wZXJhdG9ycyBhbmQgZGVsaW1pdGVyc1xuICAgIGlmIChzdHJlYW0ubWF0Y2gob3BlcmF0b3JzKSB8fCBzdHJlYW0ubWF0Y2god29yZE9wZXJhdG9ycykpIHtcbiAgICAgIHJldHVybiBcIm9wZXJhdG9yXCI7XG4gICAgfVxuICAgIGlmIChzdHJlYW0ubWF0Y2goZGVsaW1pdGVycykpIHtcbiAgICAgIHJldHVybiBcInB1bmN0dWF0aW9uXCI7XG4gICAgfVxuXG4gICAgaWYgKHN0cmVhbS5tYXRjaChjb25zdGFudHMpKSB7XG4gICAgICByZXR1cm4gXCJhdG9tXCI7XG4gICAgfVxuXG4gICAgaWYgKHN0cmVhbS5tYXRjaChrZXl3b3JkcykpIHtcbiAgICAgIHJldHVybiBcImtleXdvcmRcIjtcbiAgICB9XG5cbiAgICBpZiAoc3RyZWFtLm1hdGNoKGlkZW50aWZpZXJzKSkge1xuICAgICAgcmV0dXJuIFwidmFyaWFibGVcIjtcbiAgICB9XG5cbiAgICBpZiAoc3RyZWFtLm1hdGNoKHByb3BlcnRpZXMpKSB7XG4gICAgICByZXR1cm4gXCJwcm9wZXJ0eVwiO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBub24tZGV0ZWN0ZWQgaXRlbXNcbiAgICBzdHJlYW0ubmV4dCgpO1xuICAgIHJldHVybiBFUlJPUkNMQVNTO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5GYWN0b3J5KGRlbGltaXRlciwgc2luZ2xlbGluZSwgb3V0Y2xhc3MpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHtcbiAgICAgICAgc3RyZWFtLmVhdFdoaWxlKC9bXidcIlxcL1xcXFxdLyk7XG4gICAgICAgIGlmIChzdHJlYW0uZWF0KFwiXFxcXFwiKSkge1xuICAgICAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgICAgICAgaWYgKHNpbmdsZWxpbmUgJiYgc3RyZWFtLmVvbCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0Y2xhc3M7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaChkZWxpbWl0ZXIpKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkJhc2U7XG4gICAgICAgICAgcmV0dXJuIG91dGNsYXNzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0cmVhbS5lYXQoL1snXCJcXC9dLyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzaW5nbGVsaW5lKSB7XG4gICAgICAgIGlmIChjb25mLm1vZGUuc2luZ2xlTGluZVN0cmluZ0Vycm9ycykge1xuICAgICAgICAgIG91dGNsYXNzID0gRVJST1JDTEFTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQmFzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG91dGNsYXNzO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsb25nQ29tbWVudChzdHJlYW0sIHN0YXRlKSB7XG4gICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHtcbiAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW14jXS8pO1xuICAgICAgaWYgKHN0cmVhbS5tYXRjaChcIiMjI1wiKSkge1xuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQmFzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBzdHJlYW0uZWF0V2hpbGUoXCIjXCIpO1xuICAgIH1cbiAgICByZXR1cm4gXCJjb21tZW50XCI7XG4gIH1cblxuICBmdW5jdGlvbiBpbmRlbnQoc3RyZWFtLCBzdGF0ZSwgdHlwZSkge1xuICAgIHR5cGUgPSB0eXBlIHx8IFwiY29mZmVlXCI7XG4gICAgdmFyIG9mZnNldCA9IDAsIGFsaWduID0gZmFsc2UsIGFsaWduT2Zmc2V0ID0gbnVsbDtcbiAgICBmb3IgKHZhciBzY29wZSA9IHN0YXRlLnNjb3BlOyBzY29wZTsgc2NvcGUgPSBzY29wZS5wcmV2KSB7XG4gICAgICBpZiAoc2NvcGUudHlwZSA9PT0gXCJjb2ZmZWVcIiB8fCBzY29wZS50eXBlID09IFwifVwiKSB7XG4gICAgICAgIG9mZnNldCA9IHNjb3BlLm9mZnNldCArIGNvbmYuaW5kZW50VW5pdDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlICE9PSBcImNvZmZlZVwiKSB7XG4gICAgICBhbGlnbiA9IG51bGw7XG4gICAgICBhbGlnbk9mZnNldCA9IHN0cmVhbS5jb2x1bW4oKSArIHN0cmVhbS5jdXJyZW50KCkubGVuZ3RoO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUuc2NvcGUuYWxpZ24pIHtcbiAgICAgIHN0YXRlLnNjb3BlLmFsaWduID0gZmFsc2U7XG4gICAgfVxuICAgIHN0YXRlLnNjb3BlID0ge1xuICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgcHJldjogc3RhdGUuc2NvcGUsXG4gICAgICBhbGlnbjogYWxpZ24sXG4gICAgICBhbGlnbk9mZnNldDogYWxpZ25PZmZzZXRcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZGVkZW50KHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAoIXN0YXRlLnNjb3BlLnByZXYpIHJldHVybjtcbiAgICBpZiAoc3RhdGUuc2NvcGUudHlwZSA9PT0gXCJjb2ZmZWVcIikge1xuICAgICAgdmFyIF9pbmRlbnQgPSBzdHJlYW0uaW5kZW50YXRpb24oKTtcbiAgICAgIHZhciBtYXRjaGVkID0gZmFsc2U7XG4gICAgICBmb3IgKHZhciBzY29wZSA9IHN0YXRlLnNjb3BlOyBzY29wZTsgc2NvcGUgPSBzY29wZS5wcmV2KSB7XG4gICAgICAgIGlmIChfaW5kZW50ID09PSBzY29wZS5vZmZzZXQpIHtcbiAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFtYXRjaGVkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHN0YXRlLnNjb3BlLnByZXYgJiYgc3RhdGUuc2NvcGUub2Zmc2V0ICE9PSBfaW5kZW50KSB7XG4gICAgICAgIHN0YXRlLnNjb3BlID0gc3RhdGUuc2NvcGUucHJldjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuc2NvcGUgPSBzdGF0ZS5zY29wZS5wcmV2O1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRva2VuTGV4ZXIoc3RyZWFtLCBzdGF0ZSkge1xuICAgIHZhciBzdHlsZSA9IHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgIHZhciBjdXJyZW50ID0gc3RyZWFtLmN1cnJlbnQoKTtcblxuICAgIC8vIEhhbmRsZSBcIi5cIiBjb25uZWN0ZWQgaWRlbnRpZmllcnNcbiAgICBpZiAoY3VycmVudCA9PT0gXCIuXCIpIHtcbiAgICAgIHN0eWxlID0gc3RhdGUudG9rZW5pemUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICBjdXJyZW50ID0gc3RyZWFtLmN1cnJlbnQoKTtcbiAgICAgIGlmICgvXlxcLltcXHckXSskLy50ZXN0KGN1cnJlbnQpKSB7XG4gICAgICAgIHJldHVybiBcInZhcmlhYmxlXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRVJST1JDTEFTUztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgc2NvcGUgY2hhbmdlcy5cbiAgICBpZiAoY3VycmVudCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgc3RhdGUuZGVkZW50ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCgoY3VycmVudCA9PT0gXCItPlwiIHx8IGN1cnJlbnQgPT09IFwiPT5cIikgJiZcbiAgICAgICAgICFzdGF0ZS5sYW1iZGEgJiZcbiAgICAgICAgICFzdHJlYW0ucGVlaygpKVxuICAgICAgICB8fCBzdHlsZSA9PT0gXCJpbmRlbnRcIikge1xuICAgICAgaW5kZW50KHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cbiAgICB2YXIgZGVsaW1pdGVyX2luZGV4ID0gXCJbKHtcIi5pbmRleE9mKGN1cnJlbnQpO1xuICAgIGlmIChkZWxpbWl0ZXJfaW5kZXggIT09IC0xKSB7XG4gICAgICBpbmRlbnQoc3RyZWFtLCBzdGF0ZSwgXCJdKX1cIi5zbGljZShkZWxpbWl0ZXJfaW5kZXgsIGRlbGltaXRlcl9pbmRleCsxKSk7XG4gICAgfVxuICAgIGlmIChpbmRlbnRLZXl3b3Jkcy5leGVjKGN1cnJlbnQpKXtcbiAgICAgIGluZGVudChzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnQgPT0gXCJ0aGVuXCIpe1xuICAgICAgZGVkZW50KHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cblxuXG4gICAgaWYgKHN0eWxlID09PSBcImRlZGVudFwiKSB7XG4gICAgICBpZiAoZGVkZW50KHN0cmVhbSwgc3RhdGUpKSB7XG4gICAgICAgIHJldHVybiBFUlJPUkNMQVNTO1xuICAgICAgfVxuICAgIH1cbiAgICBkZWxpbWl0ZXJfaW5kZXggPSBcIl0pfVwiLmluZGV4T2YoY3VycmVudCk7XG4gICAgaWYgKGRlbGltaXRlcl9pbmRleCAhPT0gLTEpIHtcbiAgICAgIHdoaWxlIChzdGF0ZS5zY29wZS50eXBlID09IFwiY29mZmVlXCIgJiYgc3RhdGUuc2NvcGUucHJldilcbiAgICAgICAgc3RhdGUuc2NvcGUgPSBzdGF0ZS5zY29wZS5wcmV2O1xuICAgICAgaWYgKHN0YXRlLnNjb3BlLnR5cGUgPT0gY3VycmVudClcbiAgICAgICAgc3RhdGUuc2NvcGUgPSBzdGF0ZS5zY29wZS5wcmV2O1xuICAgIH1cbiAgICBpZiAoc3RhdGUuZGVkZW50ICYmIHN0cmVhbS5lb2woKSkge1xuICAgICAgaWYgKHN0YXRlLnNjb3BlLnR5cGUgPT0gXCJjb2ZmZWVcIiAmJiBzdGF0ZS5zY29wZS5wcmV2KVxuICAgICAgICBzdGF0ZS5zY29wZSA9IHN0YXRlLnNjb3BlLnByZXY7XG4gICAgICBzdGF0ZS5kZWRlbnQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICB2YXIgZXh0ZXJuYWwgPSB7XG4gICAgc3RhcnRTdGF0ZTogZnVuY3Rpb24oYmFzZWNvbHVtbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9rZW5pemU6IHRva2VuQmFzZSxcbiAgICAgICAgc2NvcGU6IHtvZmZzZXQ6YmFzZWNvbHVtbiB8fCAwLCB0eXBlOlwiY29mZmVlXCIsIHByZXY6IG51bGwsIGFsaWduOiBmYWxzZX0sXG4gICAgICAgIGxhc3RUb2tlbjogbnVsbCxcbiAgICAgICAgbGFtYmRhOiBmYWxzZSxcbiAgICAgICAgZGVkZW50OiAwXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICB0b2tlbjogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgdmFyIGZpbGxBbGlnbiA9IHN0YXRlLnNjb3BlLmFsaWduID09PSBudWxsICYmIHN0YXRlLnNjb3BlO1xuICAgICAgaWYgKGZpbGxBbGlnbiAmJiBzdHJlYW0uc29sKCkpIGZpbGxBbGlnbi5hbGlnbiA9IGZhbHNlO1xuXG4gICAgICB2YXIgc3R5bGUgPSB0b2tlbkxleGVyKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgaWYgKGZpbGxBbGlnbiAmJiBzdHlsZSAmJiBzdHlsZSAhPSBcImNvbW1lbnRcIikgZmlsbEFsaWduLmFsaWduID0gdHJ1ZTtcblxuICAgICAgc3RhdGUubGFzdFRva2VuID0ge3N0eWxlOnN0eWxlLCBjb250ZW50OiBzdHJlYW0uY3VycmVudCgpfTtcblxuICAgICAgaWYgKHN0cmVhbS5lb2woKSAmJiBzdHJlYW0ubGFtYmRhKSB7XG4gICAgICAgIHN0YXRlLmxhbWJkYSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfSxcblxuICAgIGluZGVudDogZnVuY3Rpb24oc3RhdGUsIHRleHQpIHtcbiAgICAgIGlmIChzdGF0ZS50b2tlbml6ZSAhPSB0b2tlbkJhc2UpIHJldHVybiAwO1xuICAgICAgdmFyIHNjb3BlID0gc3RhdGUuc2NvcGU7XG4gICAgICB2YXIgY2xvc2VyID0gdGV4dCAmJiBcIl0pfVwiLmluZGV4T2YodGV4dC5jaGFyQXQoMCkpID4gLTE7XG4gICAgICBpZiAoY2xvc2VyKSB3aGlsZSAoc2NvcGUudHlwZSA9PSBcImNvZmZlZVwiICYmIHNjb3BlLnByZXYpIHNjb3BlID0gc2NvcGUucHJldjtcbiAgICAgIHZhciBjbG9zZXMgPSBjbG9zZXIgJiYgc2NvcGUudHlwZSA9PT0gdGV4dC5jaGFyQXQoMCk7XG4gICAgICBpZiAoc2NvcGUuYWxpZ24pXG4gICAgICAgIHJldHVybiBzY29wZS5hbGlnbk9mZnNldCAtIChjbG9zZXMgPyAxIDogMCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiAoY2xvc2VzID8gc2NvcGUucHJldiA6IHNjb3BlKS5vZmZzZXQ7XG4gICAgfSxcblxuICAgIGxpbmVDb21tZW50OiBcIiNcIixcbiAgICBmb2xkOiBcImluZGVudFwiXG4gIH07XG4gIHJldHVybiBleHRlcm5hbDtcbn0pO1xuXG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L3gtY29mZmVlc2NyaXB0XCIsIFwiY29mZmVlc2NyaXB0XCIpO1xuXG59KTtcbiIsIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cDovL2NvZGVtaXJyb3IubmV0L0xJQ0VOU0VcblxuLy8gVE9ETyBhY3R1YWxseSByZWNvZ25pemUgc3ludGF4IG9mIFR5cGVTY3JpcHQgY29uc3RydWN0c1xuXG4oZnVuY3Rpb24obW9kKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIikgLy8gQ29tbW9uSlNcbiAgICBtb2QocmVxdWlyZShcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCIpKTtcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EXG4gICAgZGVmaW5lKFtcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCJdLCBtb2QpO1xuICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52XG4gICAgbW9kKENvZGVNaXJyb3IpO1xufSkoZnVuY3Rpb24oQ29kZU1pcnJvcikge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbkNvZGVNaXJyb3IuZGVmaW5lTW9kZShcImphdmFzY3JpcHRcIiwgZnVuY3Rpb24oY29uZmlnLCBwYXJzZXJDb25maWcpIHtcbiAgdmFyIGluZGVudFVuaXQgPSBjb25maWcuaW5kZW50VW5pdDtcbiAgdmFyIHN0YXRlbWVudEluZGVudCA9IHBhcnNlckNvbmZpZy5zdGF0ZW1lbnRJbmRlbnQ7XG4gIHZhciBqc29ubGRNb2RlID0gcGFyc2VyQ29uZmlnLmpzb25sZDtcbiAgdmFyIGpzb25Nb2RlID0gcGFyc2VyQ29uZmlnLmpzb24gfHwganNvbmxkTW9kZTtcbiAgdmFyIGlzVFMgPSBwYXJzZXJDb25maWcudHlwZXNjcmlwdDtcbiAgdmFyIHdvcmRSRSA9IHBhcnNlckNvbmZpZy53b3JkQ2hhcmFjdGVycyB8fCAvW1xcdyRcXHhhMS1cXHVmZmZmXS87XG5cbiAgLy8gVG9rZW5pemVyXG5cbiAgdmFyIGtleXdvcmRzID0gZnVuY3Rpb24oKXtcbiAgICBmdW5jdGlvbiBrdyh0eXBlKSB7cmV0dXJuIHt0eXBlOiB0eXBlLCBzdHlsZTogXCJrZXl3b3JkXCJ9O31cbiAgICB2YXIgQSA9IGt3KFwia2V5d29yZCBhXCIpLCBCID0ga3coXCJrZXl3b3JkIGJcIiksIEMgPSBrdyhcImtleXdvcmQgY1wiKTtcbiAgICB2YXIgb3BlcmF0b3IgPSBrdyhcIm9wZXJhdG9yXCIpLCBhdG9tID0ge3R5cGU6IFwiYXRvbVwiLCBzdHlsZTogXCJhdG9tXCJ9O1xuXG4gICAgdmFyIGpzS2V5d29yZHMgPSB7XG4gICAgICBcImlmXCI6IGt3KFwiaWZcIiksIFwid2hpbGVcIjogQSwgXCJ3aXRoXCI6IEEsIFwiZWxzZVwiOiBCLCBcImRvXCI6IEIsIFwidHJ5XCI6IEIsIFwiZmluYWxseVwiOiBCLFxuICAgICAgXCJyZXR1cm5cIjogQywgXCJicmVha1wiOiBDLCBcImNvbnRpbnVlXCI6IEMsIFwibmV3XCI6IEMsIFwiZGVsZXRlXCI6IEMsIFwidGhyb3dcIjogQywgXCJkZWJ1Z2dlclwiOiBDLFxuICAgICAgXCJ2YXJcIjoga3coXCJ2YXJcIiksIFwiY29uc3RcIjoga3coXCJ2YXJcIiksIFwibGV0XCI6IGt3KFwidmFyXCIpLFxuICAgICAgXCJmdW5jdGlvblwiOiBrdyhcImZ1bmN0aW9uXCIpLCBcImNhdGNoXCI6IGt3KFwiY2F0Y2hcIiksXG4gICAgICBcImZvclwiOiBrdyhcImZvclwiKSwgXCJzd2l0Y2hcIjoga3coXCJzd2l0Y2hcIiksIFwiY2FzZVwiOiBrdyhcImNhc2VcIiksIFwiZGVmYXVsdFwiOiBrdyhcImRlZmF1bHRcIiksXG4gICAgICBcImluXCI6IG9wZXJhdG9yLCBcInR5cGVvZlwiOiBvcGVyYXRvciwgXCJpbnN0YW5jZW9mXCI6IG9wZXJhdG9yLFxuICAgICAgXCJ0cnVlXCI6IGF0b20sIFwiZmFsc2VcIjogYXRvbSwgXCJudWxsXCI6IGF0b20sIFwidW5kZWZpbmVkXCI6IGF0b20sIFwiTmFOXCI6IGF0b20sIFwiSW5maW5pdHlcIjogYXRvbSxcbiAgICAgIFwidGhpc1wiOiBrdyhcInRoaXNcIiksIFwibW9kdWxlXCI6IGt3KFwibW9kdWxlXCIpLCBcImNsYXNzXCI6IGt3KFwiY2xhc3NcIiksIFwic3VwZXJcIjoga3coXCJhdG9tXCIpLFxuICAgICAgXCJ5aWVsZFwiOiBDLCBcImV4cG9ydFwiOiBrdyhcImV4cG9ydFwiKSwgXCJpbXBvcnRcIjoga3coXCJpbXBvcnRcIiksIFwiZXh0ZW5kc1wiOiBDXG4gICAgfTtcblxuICAgIC8vIEV4dGVuZCB0aGUgJ25vcm1hbCcga2V5d29yZHMgd2l0aCB0aGUgVHlwZVNjcmlwdCBsYW5ndWFnZSBleHRlbnNpb25zXG4gICAgaWYgKGlzVFMpIHtcbiAgICAgIHZhciB0eXBlID0ge3R5cGU6IFwidmFyaWFibGVcIiwgc3R5bGU6IFwidmFyaWFibGUtM1wifTtcbiAgICAgIHZhciB0c0tleXdvcmRzID0ge1xuICAgICAgICAvLyBvYmplY3QtbGlrZSB0aGluZ3NcbiAgICAgICAgXCJpbnRlcmZhY2VcIjoga3coXCJpbnRlcmZhY2VcIiksXG4gICAgICAgIFwiZXh0ZW5kc1wiOiBrdyhcImV4dGVuZHNcIiksXG4gICAgICAgIFwiY29uc3RydWN0b3JcIjoga3coXCJjb25zdHJ1Y3RvclwiKSxcblxuICAgICAgICAvLyBzY29wZSBtb2RpZmllcnNcbiAgICAgICAgXCJwdWJsaWNcIjoga3coXCJwdWJsaWNcIiksXG4gICAgICAgIFwicHJpdmF0ZVwiOiBrdyhcInByaXZhdGVcIiksXG4gICAgICAgIFwicHJvdGVjdGVkXCI6IGt3KFwicHJvdGVjdGVkXCIpLFxuICAgICAgICBcInN0YXRpY1wiOiBrdyhcInN0YXRpY1wiKSxcblxuICAgICAgICAvLyB0eXBlc1xuICAgICAgICBcInN0cmluZ1wiOiB0eXBlLCBcIm51bWJlclwiOiB0eXBlLCBcImJvb2xcIjogdHlwZSwgXCJhbnlcIjogdHlwZVxuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgYXR0ciBpbiB0c0tleXdvcmRzKSB7XG4gICAgICAgIGpzS2V5d29yZHNbYXR0cl0gPSB0c0tleXdvcmRzW2F0dHJdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBqc0tleXdvcmRzO1xuICB9KCk7XG5cbiAgdmFyIGlzT3BlcmF0b3JDaGFyID0gL1srXFwtKiYlPTw+IT98fl5dLztcbiAgdmFyIGlzSnNvbmxkS2V5d29yZCA9IC9eQChjb250ZXh0fGlkfHZhbHVlfGxhbmd1YWdlfHR5cGV8Y29udGFpbmVyfGxpc3R8c2V0fHJldmVyc2V8aW5kZXh8YmFzZXx2b2NhYnxncmFwaClcIi87XG5cbiAgZnVuY3Rpb24gcmVhZFJlZ2V4cChzdHJlYW0pIHtcbiAgICB2YXIgZXNjYXBlZCA9IGZhbHNlLCBuZXh0LCBpblNldCA9IGZhbHNlO1xuICAgIHdoaWxlICgobmV4dCA9IHN0cmVhbS5uZXh0KCkpICE9IG51bGwpIHtcbiAgICAgIGlmICghZXNjYXBlZCkge1xuICAgICAgICBpZiAobmV4dCA9PSBcIi9cIiAmJiAhaW5TZXQpIHJldHVybjtcbiAgICAgICAgaWYgKG5leHQgPT0gXCJbXCIpIGluU2V0ID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoaW5TZXQgJiYgbmV4dCA9PSBcIl1cIikgaW5TZXQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVzY2FwZWQgPSAhZXNjYXBlZCAmJiBuZXh0ID09IFwiXFxcXFwiO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVzZWQgYXMgc2NyYXRjaCB2YXJpYWJsZXMgdG8gY29tbXVuaWNhdGUgbXVsdGlwbGUgdmFsdWVzIHdpdGhvdXRcbiAgLy8gY29uc2luZyB1cCB0b25zIG9mIG9iamVjdHMuXG4gIHZhciB0eXBlLCBjb250ZW50O1xuICBmdW5jdGlvbiByZXQodHAsIHN0eWxlLCBjb250KSB7XG4gICAgdHlwZSA9IHRwOyBjb250ZW50ID0gY29udDtcbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cbiAgZnVuY3Rpb24gdG9rZW5CYXNlKHN0cmVhbSwgc3RhdGUpIHtcbiAgICB2YXIgY2ggPSBzdHJlYW0ubmV4dCgpO1xuICAgIGlmIChjaCA9PSAnXCInIHx8IGNoID09IFwiJ1wiKSB7XG4gICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuU3RyaW5nKGNoKTtcbiAgICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgICB9IGVsc2UgaWYgKGNoID09IFwiLlwiICYmIHN0cmVhbS5tYXRjaCgvXlxcZCsoPzpbZUVdWytcXC1dP1xcZCspPy8pKSB7XG4gICAgICByZXR1cm4gcmV0KFwibnVtYmVyXCIsIFwibnVtYmVyXCIpO1xuICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIuXCIgJiYgc3RyZWFtLm1hdGNoKFwiLi5cIikpIHtcbiAgICAgIHJldHVybiByZXQoXCJzcHJlYWRcIiwgXCJtZXRhXCIpO1xuICAgIH0gZWxzZSBpZiAoL1tcXFtcXF17fVxcKFxcKSw7XFw6XFwuXS8udGVzdChjaCkpIHtcbiAgICAgIHJldHVybiByZXQoY2gpO1xuICAgIH0gZWxzZSBpZiAoY2ggPT0gXCI9XCIgJiYgc3RyZWFtLmVhdChcIj5cIikpIHtcbiAgICAgIHJldHVybiByZXQoXCI9PlwiLCBcIm9wZXJhdG9yXCIpO1xuICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIwXCIgJiYgc3RyZWFtLmVhdCgveC9pKSkge1xuICAgICAgc3RyZWFtLmVhdFdoaWxlKC9bXFxkYS1mXS9pKTtcbiAgICAgIHJldHVybiByZXQoXCJudW1iZXJcIiwgXCJudW1iZXJcIik7XG4gICAgfSBlbHNlIGlmICgvXFxkLy50ZXN0KGNoKSkge1xuICAgICAgc3RyZWFtLm1hdGNoKC9eXFxkKig/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/Lyk7XG4gICAgICByZXR1cm4gcmV0KFwibnVtYmVyXCIsIFwibnVtYmVyXCIpO1xuICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIvXCIpIHtcbiAgICAgIGlmIChzdHJlYW0uZWF0KFwiKlwiKSkge1xuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQ29tbWVudDtcbiAgICAgICAgcmV0dXJuIHRva2VuQ29tbWVudChzdHJlYW0sIHN0YXRlKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLmVhdChcIi9cIikpIHtcbiAgICAgICAgc3RyZWFtLnNraXBUb0VuZCgpO1xuICAgICAgICByZXR1cm4gcmV0KFwiY29tbWVudFwiLCBcImNvbW1lbnRcIik7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmxhc3RUeXBlID09IFwib3BlcmF0b3JcIiB8fCBzdGF0ZS5sYXN0VHlwZSA9PSBcImtleXdvcmQgY1wiIHx8XG4gICAgICAgICAgICAgICBzdGF0ZS5sYXN0VHlwZSA9PSBcInNvZlwiIHx8IC9eW1xcW3t9XFwoLDs6XSQvLnRlc3Qoc3RhdGUubGFzdFR5cGUpKSB7XG4gICAgICAgIHJlYWRSZWdleHAoc3RyZWFtKTtcbiAgICAgICAgc3RyZWFtLmVhdFdoaWxlKC9bZ2lteV0vKTsgLy8gJ3knIGlzIFwic3RpY2t5XCIgb3B0aW9uIGluIE1vemlsbGFcbiAgICAgICAgcmV0dXJuIHJldChcInJlZ2V4cFwiLCBcInN0cmluZy0yXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyZWFtLmVhdFdoaWxlKGlzT3BlcmF0b3JDaGFyKTtcbiAgICAgICAgcmV0dXJuIHJldChcIm9wZXJhdG9yXCIsIFwib3BlcmF0b3JcIiwgc3RyZWFtLmN1cnJlbnQoKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcImBcIikge1xuICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlblF1YXNpO1xuICAgICAgcmV0dXJuIHRva2VuUXVhc2koc3RyZWFtLCBzdGF0ZSk7XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcIiNcIikge1xuICAgICAgc3RyZWFtLnNraXBUb0VuZCgpO1xuICAgICAgcmV0dXJuIHJldChcImVycm9yXCIsIFwiZXJyb3JcIik7XG4gICAgfSBlbHNlIGlmIChpc09wZXJhdG9yQ2hhci50ZXN0KGNoKSkge1xuICAgICAgc3RyZWFtLmVhdFdoaWxlKGlzT3BlcmF0b3JDaGFyKTtcbiAgICAgIHJldHVybiByZXQoXCJvcGVyYXRvclwiLCBcIm9wZXJhdG9yXCIsIHN0cmVhbS5jdXJyZW50KCkpO1xuICAgIH0gZWxzZSBpZiAod29yZFJFLnRlc3QoY2gpKSB7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUod29yZFJFKTtcbiAgICAgIHZhciB3b3JkID0gc3RyZWFtLmN1cnJlbnQoKSwga25vd24gPSBrZXl3b3Jkcy5wcm9wZXJ0eUlzRW51bWVyYWJsZSh3b3JkKSAmJiBrZXl3b3Jkc1t3b3JkXTtcbiAgICAgIHJldHVybiAoa25vd24gJiYgc3RhdGUubGFzdFR5cGUgIT0gXCIuXCIpID8gcmV0KGtub3duLnR5cGUsIGtub3duLnN0eWxlLCB3b3JkKSA6XG4gICAgICAgICAgICAgICAgICAgICByZXQoXCJ2YXJpYWJsZVwiLCBcInZhcmlhYmxlXCIsIHdvcmQpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRva2VuU3RyaW5nKHF1b3RlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIHZhciBlc2NhcGVkID0gZmFsc2UsIG5leHQ7XG4gICAgICBpZiAoanNvbmxkTW9kZSAmJiBzdHJlYW0ucGVlaygpID09IFwiQFwiICYmIHN0cmVhbS5tYXRjaChpc0pzb25sZEtleXdvcmQpKXtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkJhc2U7XG4gICAgICAgIHJldHVybiByZXQoXCJqc29ubGQta2V5d29yZFwiLCBcIm1ldGFcIik7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKG5leHQgPSBzdHJlYW0ubmV4dCgpKSAhPSBudWxsKSB7XG4gICAgICAgIGlmIChuZXh0ID09IHF1b3RlICYmICFlc2NhcGVkKSBicmVhaztcbiAgICAgICAgZXNjYXBlZCA9ICFlc2NhcGVkICYmIG5leHQgPT0gXCJcXFxcXCI7XG4gICAgICB9XG4gICAgICBpZiAoIWVzY2FwZWQpIHN0YXRlLnRva2VuaXplID0gdG9rZW5CYXNlO1xuICAgICAgcmV0dXJuIHJldChcInN0cmluZ1wiLCBcInN0cmluZ1wiKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5Db21tZW50KHN0cmVhbSwgc3RhdGUpIHtcbiAgICB2YXIgbWF5YmVFbmQgPSBmYWxzZSwgY2g7XG4gICAgd2hpbGUgKGNoID0gc3RyZWFtLm5leHQoKSkge1xuICAgICAgaWYgKGNoID09IFwiL1wiICYmIG1heWJlRW5kKSB7XG4gICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5CYXNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG1heWJlRW5kID0gKGNoID09IFwiKlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldChcImNvbW1lbnRcIiwgXCJjb21tZW50XCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5RdWFzaShzdHJlYW0sIHN0YXRlKSB7XG4gICAgdmFyIGVzY2FwZWQgPSBmYWxzZSwgbmV4dDtcbiAgICB3aGlsZSAoKG5leHQgPSBzdHJlYW0ubmV4dCgpKSAhPSBudWxsKSB7XG4gICAgICBpZiAoIWVzY2FwZWQgJiYgKG5leHQgPT0gXCJgXCIgfHwgbmV4dCA9PSBcIiRcIiAmJiBzdHJlYW0uZWF0KFwie1wiKSkpIHtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkJhc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZXNjYXBlZCA9ICFlc2NhcGVkICYmIG5leHQgPT0gXCJcXFxcXCI7XG4gICAgfVxuICAgIHJldHVybiByZXQoXCJxdWFzaVwiLCBcInN0cmluZy0yXCIsIHN0cmVhbS5jdXJyZW50KCkpO1xuICB9XG5cbiAgdmFyIGJyYWNrZXRzID0gXCIoW3t9XSlcIjtcbiAgLy8gVGhpcyBpcyBhIGNydWRlIGxvb2thaGVhZCB0cmljayB0byB0cnkgYW5kIG5vdGljZSB0aGF0IHdlJ3JlXG4gIC8vIHBhcnNpbmcgdGhlIGFyZ3VtZW50IHBhdHRlcm5zIGZvciBhIGZhdC1hcnJvdyBmdW5jdGlvbiBiZWZvcmUgd2VcbiAgLy8gYWN0dWFsbHkgaGl0IHRoZSBhcnJvdyB0b2tlbi4gSXQgb25seSB3b3JrcyBpZiB0aGUgYXJyb3cgaXMgb25cbiAgLy8gdGhlIHNhbWUgbGluZSBhcyB0aGUgYXJndW1lbnRzIGFuZCB0aGVyZSdzIG5vIHN0cmFuZ2Ugbm9pc2VcbiAgLy8gKGNvbW1lbnRzKSBpbiBiZXR3ZWVuLiBGYWxsYmFjayBpcyB0byBvbmx5IG5vdGljZSB3aGVuIHdlIGhpdCB0aGVcbiAgLy8gYXJyb3csIGFuZCBub3QgZGVjbGFyZSB0aGUgYXJndW1lbnRzIGFzIGxvY2FscyBmb3IgdGhlIGFycm93XG4gIC8vIGJvZHkuXG4gIGZ1bmN0aW9uIGZpbmRGYXRBcnJvdyhzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmZhdEFycm93QXQpIHN0YXRlLmZhdEFycm93QXQgPSBudWxsO1xuICAgIHZhciBhcnJvdyA9IHN0cmVhbS5zdHJpbmcuaW5kZXhPZihcIj0+XCIsIHN0cmVhbS5zdGFydCk7XG4gICAgaWYgKGFycm93IDwgMCkgcmV0dXJuO1xuXG4gICAgdmFyIGRlcHRoID0gMCwgc2F3U29tZXRoaW5nID0gZmFsc2U7XG4gICAgZm9yICh2YXIgcG9zID0gYXJyb3cgLSAxOyBwb3MgPj0gMDsgLS1wb3MpIHtcbiAgICAgIHZhciBjaCA9IHN0cmVhbS5zdHJpbmcuY2hhckF0KHBvcyk7XG4gICAgICB2YXIgYnJhY2tldCA9IGJyYWNrZXRzLmluZGV4T2YoY2gpO1xuICAgICAgaWYgKGJyYWNrZXQgPj0gMCAmJiBicmFja2V0IDwgMykge1xuICAgICAgICBpZiAoIWRlcHRoKSB7ICsrcG9zOyBicmVhazsgfVxuICAgICAgICBpZiAoLS1kZXB0aCA9PSAwKSBicmVhaztcbiAgICAgIH0gZWxzZSBpZiAoYnJhY2tldCA+PSAzICYmIGJyYWNrZXQgPCA2KSB7XG4gICAgICAgICsrZGVwdGg7XG4gICAgICB9IGVsc2UgaWYgKHdvcmRSRS50ZXN0KGNoKSkge1xuICAgICAgICBzYXdTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChzYXdTb21ldGhpbmcgJiYgIWRlcHRoKSB7XG4gICAgICAgICsrcG9zO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNhd1NvbWV0aGluZyAmJiAhZGVwdGgpIHN0YXRlLmZhdEFycm93QXQgPSBwb3M7XG4gIH1cblxuICAvLyBQYXJzZXJcblxuICB2YXIgYXRvbWljVHlwZXMgPSB7XCJhdG9tXCI6IHRydWUsIFwibnVtYmVyXCI6IHRydWUsIFwidmFyaWFibGVcIjogdHJ1ZSwgXCJzdHJpbmdcIjogdHJ1ZSwgXCJyZWdleHBcIjogdHJ1ZSwgXCJ0aGlzXCI6IHRydWUsIFwianNvbmxkLWtleXdvcmRcIjogdHJ1ZX07XG5cbiAgZnVuY3Rpb24gSlNMZXhpY2FsKGluZGVudGVkLCBjb2x1bW4sIHR5cGUsIGFsaWduLCBwcmV2LCBpbmZvKSB7XG4gICAgdGhpcy5pbmRlbnRlZCA9IGluZGVudGVkO1xuICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5wcmV2ID0gcHJldjtcbiAgICB0aGlzLmluZm8gPSBpbmZvO1xuICAgIGlmIChhbGlnbiAhPSBudWxsKSB0aGlzLmFsaWduID0gYWxpZ247XG4gIH1cblxuICBmdW5jdGlvbiBpblNjb3BlKHN0YXRlLCB2YXJuYW1lKSB7XG4gICAgZm9yICh2YXIgdiA9IHN0YXRlLmxvY2FsVmFyczsgdjsgdiA9IHYubmV4dClcbiAgICAgIGlmICh2Lm5hbWUgPT0gdmFybmFtZSkgcmV0dXJuIHRydWU7XG4gICAgZm9yICh2YXIgY3ggPSBzdGF0ZS5jb250ZXh0OyBjeDsgY3ggPSBjeC5wcmV2KSB7XG4gICAgICBmb3IgKHZhciB2ID0gY3gudmFyczsgdjsgdiA9IHYubmV4dClcbiAgICAgICAgaWYgKHYubmFtZSA9PSB2YXJuYW1lKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUpTKHN0YXRlLCBzdHlsZSwgdHlwZSwgY29udGVudCwgc3RyZWFtKSB7XG4gICAgdmFyIGNjID0gc3RhdGUuY2M7XG4gICAgLy8gQ29tbXVuaWNhdGUgb3VyIGNvbnRleHQgdG8gdGhlIGNvbWJpbmF0b3JzLlxuICAgIC8vIChMZXNzIHdhc3RlZnVsIHRoYW4gY29uc2luZyB1cCBhIGh1bmRyZWQgY2xvc3VyZXMgb24gZXZlcnkgY2FsbC4pXG4gICAgY3guc3RhdGUgPSBzdGF0ZTsgY3guc3RyZWFtID0gc3RyZWFtOyBjeC5tYXJrZWQgPSBudWxsLCBjeC5jYyA9IGNjOyBjeC5zdHlsZSA9IHN0eWxlO1xuXG4gICAgaWYgKCFzdGF0ZS5sZXhpY2FsLmhhc093blByb3BlcnR5KFwiYWxpZ25cIikpXG4gICAgICBzdGF0ZS5sZXhpY2FsLmFsaWduID0gdHJ1ZTtcblxuICAgIHdoaWxlKHRydWUpIHtcbiAgICAgIHZhciBjb21iaW5hdG9yID0gY2MubGVuZ3RoID8gY2MucG9wKCkgOiBqc29uTW9kZSA/IGV4cHJlc3Npb24gOiBzdGF0ZW1lbnQ7XG4gICAgICBpZiAoY29tYmluYXRvcih0eXBlLCBjb250ZW50KSkge1xuICAgICAgICB3aGlsZShjYy5sZW5ndGggJiYgY2NbY2MubGVuZ3RoIC0gMV0ubGV4KVxuICAgICAgICAgIGNjLnBvcCgpKCk7XG4gICAgICAgIGlmIChjeC5tYXJrZWQpIHJldHVybiBjeC5tYXJrZWQ7XG4gICAgICAgIGlmICh0eXBlID09IFwidmFyaWFibGVcIiAmJiBpblNjb3BlKHN0YXRlLCBjb250ZW50KSkgcmV0dXJuIFwidmFyaWFibGUtMlwiO1xuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ29tYmluYXRvciB1dGlsc1xuXG4gIHZhciBjeCA9IHtzdGF0ZTogbnVsbCwgY29sdW1uOiBudWxsLCBtYXJrZWQ6IG51bGwsIGNjOiBudWxsfTtcbiAgZnVuY3Rpb24gcGFzcygpIHtcbiAgICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBjeC5jYy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIH1cbiAgZnVuY3Rpb24gY29udCgpIHtcbiAgICBwYXNzLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gcmVnaXN0ZXIodmFybmFtZSkge1xuICAgIGZ1bmN0aW9uIGluTGlzdChsaXN0KSB7XG4gICAgICBmb3IgKHZhciB2ID0gbGlzdDsgdjsgdiA9IHYubmV4dClcbiAgICAgICAgaWYgKHYubmFtZSA9PSB2YXJuYW1lKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHN0YXRlID0gY3guc3RhdGU7XG4gICAgaWYgKHN0YXRlLmNvbnRleHQpIHtcbiAgICAgIGN4Lm1hcmtlZCA9IFwiZGVmXCI7XG4gICAgICBpZiAoaW5MaXN0KHN0YXRlLmxvY2FsVmFycykpIHJldHVybjtcbiAgICAgIHN0YXRlLmxvY2FsVmFycyA9IHtuYW1lOiB2YXJuYW1lLCBuZXh0OiBzdGF0ZS5sb2NhbFZhcnN9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5MaXN0KHN0YXRlLmdsb2JhbFZhcnMpKSByZXR1cm47XG4gICAgICBpZiAocGFyc2VyQ29uZmlnLmdsb2JhbFZhcnMpXG4gICAgICAgIHN0YXRlLmdsb2JhbFZhcnMgPSB7bmFtZTogdmFybmFtZSwgbmV4dDogc3RhdGUuZ2xvYmFsVmFyc307XG4gICAgfVxuICB9XG5cbiAgLy8gQ29tYmluYXRvcnNcblxuICB2YXIgZGVmYXVsdFZhcnMgPSB7bmFtZTogXCJ0aGlzXCIsIG5leHQ6IHtuYW1lOiBcImFyZ3VtZW50c1wifX07XG4gIGZ1bmN0aW9uIHB1c2hjb250ZXh0KCkge1xuICAgIGN4LnN0YXRlLmNvbnRleHQgPSB7cHJldjogY3guc3RhdGUuY29udGV4dCwgdmFyczogY3guc3RhdGUubG9jYWxWYXJzfTtcbiAgICBjeC5zdGF0ZS5sb2NhbFZhcnMgPSBkZWZhdWx0VmFycztcbiAgfVxuICBmdW5jdGlvbiBwb3Bjb250ZXh0KCkge1xuICAgIGN4LnN0YXRlLmxvY2FsVmFycyA9IGN4LnN0YXRlLmNvbnRleHQudmFycztcbiAgICBjeC5zdGF0ZS5jb250ZXh0ID0gY3guc3RhdGUuY29udGV4dC5wcmV2O1xuICB9XG4gIGZ1bmN0aW9uIHB1c2hsZXgodHlwZSwgaW5mbykge1xuICAgIHZhciByZXN1bHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzdGF0ZSA9IGN4LnN0YXRlLCBpbmRlbnQgPSBzdGF0ZS5pbmRlbnRlZDtcbiAgICAgIGlmIChzdGF0ZS5sZXhpY2FsLnR5cGUgPT0gXCJzdGF0XCIpIGluZGVudCA9IHN0YXRlLmxleGljYWwuaW5kZW50ZWQ7XG4gICAgICBlbHNlIGZvciAodmFyIG91dGVyID0gc3RhdGUubGV4aWNhbDsgb3V0ZXIgJiYgb3V0ZXIudHlwZSA9PSBcIilcIiAmJiBvdXRlci5hbGlnbjsgb3V0ZXIgPSBvdXRlci5wcmV2KVxuICAgICAgICBpbmRlbnQgPSBvdXRlci5pbmRlbnRlZDtcbiAgICAgIHN0YXRlLmxleGljYWwgPSBuZXcgSlNMZXhpY2FsKGluZGVudCwgY3guc3RyZWFtLmNvbHVtbigpLCB0eXBlLCBudWxsLCBzdGF0ZS5sZXhpY2FsLCBpbmZvKTtcbiAgICB9O1xuICAgIHJlc3VsdC5sZXggPSB0cnVlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZnVuY3Rpb24gcG9wbGV4KCkge1xuICAgIHZhciBzdGF0ZSA9IGN4LnN0YXRlO1xuICAgIGlmIChzdGF0ZS5sZXhpY2FsLnByZXYpIHtcbiAgICAgIGlmIChzdGF0ZS5sZXhpY2FsLnR5cGUgPT0gXCIpXCIpXG4gICAgICAgIHN0YXRlLmluZGVudGVkID0gc3RhdGUubGV4aWNhbC5pbmRlbnRlZDtcbiAgICAgIHN0YXRlLmxleGljYWwgPSBzdGF0ZS5sZXhpY2FsLnByZXY7XG4gICAgfVxuICB9XG4gIHBvcGxleC5sZXggPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIGV4cGVjdCh3YW50ZWQpIHtcbiAgICBmdW5jdGlvbiBleHAodHlwZSkge1xuICAgICAgaWYgKHR5cGUgPT0gd2FudGVkKSByZXR1cm4gY29udCgpO1xuICAgICAgZWxzZSBpZiAod2FudGVkID09IFwiO1wiKSByZXR1cm4gcGFzcygpO1xuICAgICAgZWxzZSByZXR1cm4gY29udChleHApO1xuICAgIH07XG4gICAgcmV0dXJuIGV4cDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXRlbWVudCh0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlID09IFwidmFyXCIpIHJldHVybiBjb250KHB1c2hsZXgoXCJ2YXJkZWZcIiwgdmFsdWUubGVuZ3RoKSwgdmFyZGVmLCBleHBlY3QoXCI7XCIpLCBwb3BsZXgpO1xuICAgIGlmICh0eXBlID09IFwia2V5d29yZCBhXCIpIHJldHVybiBjb250KHB1c2hsZXgoXCJmb3JtXCIpLCBleHByZXNzaW9uLCBzdGF0ZW1lbnQsIHBvcGxleCk7XG4gICAgaWYgKHR5cGUgPT0gXCJrZXl3b3JkIGJcIikgcmV0dXJuIGNvbnQocHVzaGxleChcImZvcm1cIiksIHN0YXRlbWVudCwgcG9wbGV4KTtcbiAgICBpZiAodHlwZSA9PSBcIntcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIn1cIiksIGJsb2NrLCBwb3BsZXgpO1xuICAgIGlmICh0eXBlID09IFwiO1wiKSByZXR1cm4gY29udCgpO1xuICAgIGlmICh0eXBlID09IFwiaWZcIikge1xuICAgICAgaWYgKGN4LnN0YXRlLmxleGljYWwuaW5mbyA9PSBcImVsc2VcIiAmJiBjeC5zdGF0ZS5jY1tjeC5zdGF0ZS5jYy5sZW5ndGggLSAxXSA9PSBwb3BsZXgpXG4gICAgICAgIGN4LnN0YXRlLmNjLnBvcCgpKCk7XG4gICAgICByZXR1cm4gY29udChwdXNobGV4KFwiZm9ybVwiKSwgZXhwcmVzc2lvbiwgc3RhdGVtZW50LCBwb3BsZXgsIG1heWJlZWxzZSk7XG4gICAgfVxuICAgIGlmICh0eXBlID09IFwiZnVuY3Rpb25cIikgcmV0dXJuIGNvbnQoZnVuY3Rpb25kZWYpO1xuICAgIGlmICh0eXBlID09IFwiZm9yXCIpIHJldHVybiBjb250KHB1c2hsZXgoXCJmb3JtXCIpLCBmb3JzcGVjLCBzdGF0ZW1lbnQsIHBvcGxleCk7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSByZXR1cm4gY29udChwdXNobGV4KFwic3RhdFwiKSwgbWF5YmVsYWJlbCk7XG4gICAgaWYgKHR5cGUgPT0gXCJzd2l0Y2hcIikgcmV0dXJuIGNvbnQocHVzaGxleChcImZvcm1cIiksIGV4cHJlc3Npb24sIHB1c2hsZXgoXCJ9XCIsIFwic3dpdGNoXCIpLCBleHBlY3QoXCJ7XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jaywgcG9wbGV4LCBwb3BsZXgpO1xuICAgIGlmICh0eXBlID09IFwiY2FzZVwiKSByZXR1cm4gY29udChleHByZXNzaW9uLCBleHBlY3QoXCI6XCIpKTtcbiAgICBpZiAodHlwZSA9PSBcImRlZmF1bHRcIikgcmV0dXJuIGNvbnQoZXhwZWN0KFwiOlwiKSk7XG4gICAgaWYgKHR5cGUgPT0gXCJjYXRjaFwiKSByZXR1cm4gY29udChwdXNobGV4KFwiZm9ybVwiKSwgcHVzaGNvbnRleHQsIGV4cGVjdChcIihcIiksIGZ1bmFyZywgZXhwZWN0KFwiKVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZW1lbnQsIHBvcGxleCwgcG9wY29udGV4dCk7XG4gICAgaWYgKHR5cGUgPT0gXCJtb2R1bGVcIikgcmV0dXJuIGNvbnQocHVzaGxleChcImZvcm1cIiksIHB1c2hjb250ZXh0LCBhZnRlck1vZHVsZSwgcG9wY29udGV4dCwgcG9wbGV4KTtcbiAgICBpZiAodHlwZSA9PSBcImNsYXNzXCIpIHJldHVybiBjb250KHB1c2hsZXgoXCJmb3JtXCIpLCBjbGFzc05hbWUsIHBvcGxleCk7XG4gICAgaWYgKHR5cGUgPT0gXCJleHBvcnRcIikgcmV0dXJuIGNvbnQocHVzaGxleChcImZvcm1cIiksIGFmdGVyRXhwb3J0LCBwb3BsZXgpO1xuICAgIGlmICh0eXBlID09IFwiaW1wb3J0XCIpIHJldHVybiBjb250KHB1c2hsZXgoXCJmb3JtXCIpLCBhZnRlckltcG9ydCwgcG9wbGV4KTtcbiAgICByZXR1cm4gcGFzcyhwdXNobGV4KFwic3RhdFwiKSwgZXhwcmVzc2lvbiwgZXhwZWN0KFwiO1wiKSwgcG9wbGV4KTtcbiAgfVxuICBmdW5jdGlvbiBleHByZXNzaW9uKHR5cGUpIHtcbiAgICByZXR1cm4gZXhwcmVzc2lvbklubmVyKHR5cGUsIGZhbHNlKTtcbiAgfVxuICBmdW5jdGlvbiBleHByZXNzaW9uTm9Db21tYSh0eXBlKSB7XG4gICAgcmV0dXJuIGV4cHJlc3Npb25Jbm5lcih0eXBlLCB0cnVlKTtcbiAgfVxuICBmdW5jdGlvbiBleHByZXNzaW9uSW5uZXIodHlwZSwgbm9Db21tYSkge1xuICAgIGlmIChjeC5zdGF0ZS5mYXRBcnJvd0F0ID09IGN4LnN0cmVhbS5zdGFydCkge1xuICAgICAgdmFyIGJvZHkgPSBub0NvbW1hID8gYXJyb3dCb2R5Tm9Db21tYSA6IGFycm93Qm9keTtcbiAgICAgIGlmICh0eXBlID09IFwiKFwiKSByZXR1cm4gY29udChwdXNoY29udGV4dCwgcHVzaGxleChcIilcIiksIGNvbW1hc2VwKHBhdHRlcm4sIFwiKVwiKSwgcG9wbGV4LCBleHBlY3QoXCI9PlwiKSwgYm9keSwgcG9wY29udGV4dCk7XG4gICAgICBlbHNlIGlmICh0eXBlID09IFwidmFyaWFibGVcIikgcmV0dXJuIHBhc3MocHVzaGNvbnRleHQsIHBhdHRlcm4sIGV4cGVjdChcIj0+XCIpLCBib2R5LCBwb3Bjb250ZXh0KTtcbiAgICB9XG5cbiAgICB2YXIgbWF5YmVvcCA9IG5vQ29tbWEgPyBtYXliZW9wZXJhdG9yTm9Db21tYSA6IG1heWJlb3BlcmF0b3JDb21tYTtcbiAgICBpZiAoYXRvbWljVHlwZXMuaGFzT3duUHJvcGVydHkodHlwZSkpIHJldHVybiBjb250KG1heWJlb3ApO1xuICAgIGlmICh0eXBlID09IFwiZnVuY3Rpb25cIikgcmV0dXJuIGNvbnQoZnVuY3Rpb25kZWYsIG1heWJlb3ApO1xuICAgIGlmICh0eXBlID09IFwia2V5d29yZCBjXCIpIHJldHVybiBjb250KG5vQ29tbWEgPyBtYXliZWV4cHJlc3Npb25Ob0NvbW1hIDogbWF5YmVleHByZXNzaW9uKTtcbiAgICBpZiAodHlwZSA9PSBcIihcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIilcIiksIG1heWJlZXhwcmVzc2lvbiwgY29tcHJlaGVuc2lvbiwgZXhwZWN0KFwiKVwiKSwgcG9wbGV4LCBtYXliZW9wKTtcbiAgICBpZiAodHlwZSA9PSBcIm9wZXJhdG9yXCIgfHwgdHlwZSA9PSBcInNwcmVhZFwiKSByZXR1cm4gY29udChub0NvbW1hID8gZXhwcmVzc2lvbk5vQ29tbWEgOiBleHByZXNzaW9uKTtcbiAgICBpZiAodHlwZSA9PSBcIltcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIl1cIiksIGFycmF5TGl0ZXJhbCwgcG9wbGV4LCBtYXliZW9wKTtcbiAgICBpZiAodHlwZSA9PSBcIntcIikgcmV0dXJuIGNvbnRDb21tYXNlcChvYmpwcm9wLCBcIn1cIiwgbnVsbCwgbWF5YmVvcCk7XG4gICAgaWYgKHR5cGUgPT0gXCJxdWFzaVwiKSB7IHJldHVybiBwYXNzKHF1YXNpLCBtYXliZW9wKTsgfVxuICAgIHJldHVybiBjb250KCk7XG4gIH1cbiAgZnVuY3Rpb24gbWF5YmVleHByZXNzaW9uKHR5cGUpIHtcbiAgICBpZiAodHlwZS5tYXRjaCgvWztcXH1cXClcXF0sXS8pKSByZXR1cm4gcGFzcygpO1xuICAgIHJldHVybiBwYXNzKGV4cHJlc3Npb24pO1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlZXhwcmVzc2lvbk5vQ29tbWEodHlwZSkge1xuICAgIGlmICh0eXBlLm1hdGNoKC9bO1xcfVxcKVxcXSxdLykpIHJldHVybiBwYXNzKCk7XG4gICAgcmV0dXJuIHBhc3MoZXhwcmVzc2lvbk5vQ29tbWEpO1xuICB9XG5cbiAgZnVuY3Rpb24gbWF5YmVvcGVyYXRvckNvbW1hKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCIsXCIpIHJldHVybiBjb250KGV4cHJlc3Npb24pO1xuICAgIHJldHVybiBtYXliZW9wZXJhdG9yTm9Db21tYSh0eXBlLCB2YWx1ZSwgZmFsc2UpO1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlb3BlcmF0b3JOb0NvbW1hKHR5cGUsIHZhbHVlLCBub0NvbW1hKSB7XG4gICAgdmFyIG1lID0gbm9Db21tYSA9PSBmYWxzZSA/IG1heWJlb3BlcmF0b3JDb21tYSA6IG1heWJlb3BlcmF0b3JOb0NvbW1hO1xuICAgIHZhciBleHByID0gbm9Db21tYSA9PSBmYWxzZSA/IGV4cHJlc3Npb24gOiBleHByZXNzaW9uTm9Db21tYTtcbiAgICBpZiAodHlwZSA9PSBcIj0+XCIpIHJldHVybiBjb250KHB1c2hjb250ZXh0LCBub0NvbW1hID8gYXJyb3dCb2R5Tm9Db21tYSA6IGFycm93Qm9keSwgcG9wY29udGV4dCk7XG4gICAgaWYgKHR5cGUgPT0gXCJvcGVyYXRvclwiKSB7XG4gICAgICBpZiAoL1xcK1xcK3wtLS8udGVzdCh2YWx1ZSkpIHJldHVybiBjb250KG1lKTtcbiAgICAgIGlmICh2YWx1ZSA9PSBcIj9cIikgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbiwgZXhwZWN0KFwiOlwiKSwgZXhwcik7XG4gICAgICByZXR1cm4gY29udChleHByKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT0gXCJxdWFzaVwiKSB7IHJldHVybiBwYXNzKHF1YXNpLCBtZSk7IH1cbiAgICBpZiAodHlwZSA9PSBcIjtcIikgcmV0dXJuO1xuICAgIGlmICh0eXBlID09IFwiKFwiKSByZXR1cm4gY29udENvbW1hc2VwKGV4cHJlc3Npb25Ob0NvbW1hLCBcIilcIiwgXCJjYWxsXCIsIG1lKTtcbiAgICBpZiAodHlwZSA9PSBcIi5cIikgcmV0dXJuIGNvbnQocHJvcGVydHksIG1lKTtcbiAgICBpZiAodHlwZSA9PSBcIltcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIl1cIiksIG1heWJlZXhwcmVzc2lvbiwgZXhwZWN0KFwiXVwiKSwgcG9wbGV4LCBtZSk7XG4gIH1cbiAgZnVuY3Rpb24gcXVhc2kodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodHlwZSAhPSBcInF1YXNpXCIpIHJldHVybiBwYXNzKCk7XG4gICAgaWYgKHZhbHVlLnNsaWNlKHZhbHVlLmxlbmd0aCAtIDIpICE9IFwiJHtcIikgcmV0dXJuIGNvbnQocXVhc2kpO1xuICAgIHJldHVybiBjb250KGV4cHJlc3Npb24sIGNvbnRpbnVlUXVhc2kpO1xuICB9XG4gIGZ1bmN0aW9uIGNvbnRpbnVlUXVhc2kodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwifVwiKSB7XG4gICAgICBjeC5tYXJrZWQgPSBcInN0cmluZy0yXCI7XG4gICAgICBjeC5zdGF0ZS50b2tlbml6ZSA9IHRva2VuUXVhc2k7XG4gICAgICByZXR1cm4gY29udChxdWFzaSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGFycm93Qm9keSh0eXBlKSB7XG4gICAgZmluZEZhdEFycm93KGN4LnN0cmVhbSwgY3guc3RhdGUpO1xuICAgIHJldHVybiBwYXNzKHR5cGUgPT0gXCJ7XCIgPyBzdGF0ZW1lbnQgOiBleHByZXNzaW9uKTtcbiAgfVxuICBmdW5jdGlvbiBhcnJvd0JvZHlOb0NvbW1hKHR5cGUpIHtcbiAgICBmaW5kRmF0QXJyb3coY3guc3RyZWFtLCBjeC5zdGF0ZSk7XG4gICAgcmV0dXJuIHBhc3ModHlwZSA9PSBcIntcIiA/IHN0YXRlbWVudCA6IGV4cHJlc3Npb25Ob0NvbW1hKTtcbiAgfVxuICBmdW5jdGlvbiBtYXliZWxhYmVsKHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIjpcIikgcmV0dXJuIGNvbnQocG9wbGV4LCBzdGF0ZW1lbnQpO1xuICAgIHJldHVybiBwYXNzKG1heWJlb3BlcmF0b3JDb21tYSwgZXhwZWN0KFwiO1wiKSwgcG9wbGV4KTtcbiAgfVxuICBmdW5jdGlvbiBwcm9wZXJ0eSh0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSB7Y3gubWFya2VkID0gXCJwcm9wZXJ0eVwiOyByZXR1cm4gY29udCgpO31cbiAgfVxuICBmdW5jdGlvbiBvYmpwcm9wKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiIHx8IGN4LnN0eWxlID09IFwia2V5d29yZFwiKSB7XG4gICAgICBjeC5tYXJrZWQgPSBcInByb3BlcnR5XCI7XG4gICAgICBpZiAodmFsdWUgPT0gXCJnZXRcIiB8fCB2YWx1ZSA9PSBcInNldFwiKSByZXR1cm4gY29udChnZXR0ZXJTZXR0ZXIpO1xuICAgICAgcmV0dXJuIGNvbnQoYWZ0ZXJwcm9wKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJudW1iZXJcIiB8fCB0eXBlID09IFwic3RyaW5nXCIpIHtcbiAgICAgIGN4Lm1hcmtlZCA9IGpzb25sZE1vZGUgPyBcInByb3BlcnR5XCIgOiAoY3guc3R5bGUgKyBcIiBwcm9wZXJ0eVwiKTtcbiAgICAgIHJldHVybiBjb250KGFmdGVycHJvcCk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwianNvbmxkLWtleXdvcmRcIikge1xuICAgICAgcmV0dXJuIGNvbnQoYWZ0ZXJwcm9wKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJbXCIpIHtcbiAgICAgIHJldHVybiBjb250KGV4cHJlc3Npb24sIGV4cGVjdChcIl1cIiksIGFmdGVycHJvcCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldHRlclNldHRlcih0eXBlKSB7XG4gICAgaWYgKHR5cGUgIT0gXCJ2YXJpYWJsZVwiKSByZXR1cm4gcGFzcyhhZnRlcnByb3ApO1xuICAgIGN4Lm1hcmtlZCA9IFwicHJvcGVydHlcIjtcbiAgICByZXR1cm4gY29udChmdW5jdGlvbmRlZik7XG4gIH1cbiAgZnVuY3Rpb24gYWZ0ZXJwcm9wKHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIjpcIikgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbk5vQ29tbWEpO1xuICAgIGlmICh0eXBlID09IFwiKFwiKSByZXR1cm4gcGFzcyhmdW5jdGlvbmRlZik7XG4gIH1cbiAgZnVuY3Rpb24gY29tbWFzZXAod2hhdCwgZW5kKSB7XG4gICAgZnVuY3Rpb24gcHJvY2VlZCh0eXBlKSB7XG4gICAgICBpZiAodHlwZSA9PSBcIixcIikge1xuICAgICAgICB2YXIgbGV4ID0gY3guc3RhdGUubGV4aWNhbDtcbiAgICAgICAgaWYgKGxleC5pbmZvID09IFwiY2FsbFwiKSBsZXgucG9zID0gKGxleC5wb3MgfHwgMCkgKyAxO1xuICAgICAgICByZXR1cm4gY29udCh3aGF0LCBwcm9jZWVkKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlID09IGVuZCkgcmV0dXJuIGNvbnQoKTtcbiAgICAgIHJldHVybiBjb250KGV4cGVjdChlbmQpKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIGlmICh0eXBlID09IGVuZCkgcmV0dXJuIGNvbnQoKTtcbiAgICAgIHJldHVybiBwYXNzKHdoYXQsIHByb2NlZWQpO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gY29udENvbW1hc2VwKHdoYXQsIGVuZCwgaW5mbykge1xuICAgIGZvciAodmFyIGkgPSAzOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgY3guY2MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIHJldHVybiBjb250KHB1c2hsZXgoZW5kLCBpbmZvKSwgY29tbWFzZXAod2hhdCwgZW5kKSwgcG9wbGV4KTtcbiAgfVxuICBmdW5jdGlvbiBibG9jayh0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ9XCIpIHJldHVybiBjb250KCk7XG4gICAgcmV0dXJuIHBhc3Moc3RhdGVtZW50LCBibG9jayk7XG4gIH1cbiAgZnVuY3Rpb24gbWF5YmV0eXBlKHR5cGUpIHtcbiAgICBpZiAoaXNUUyAmJiB0eXBlID09IFwiOlwiKSByZXR1cm4gY29udCh0eXBlZGVmKTtcbiAgfVxuICBmdW5jdGlvbiB0eXBlZGVmKHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIpe2N4Lm1hcmtlZCA9IFwidmFyaWFibGUtM1wiOyByZXR1cm4gY29udCgpO31cbiAgfVxuICBmdW5jdGlvbiB2YXJkZWYoKSB7XG4gICAgcmV0dXJuIHBhc3MocGF0dGVybiwgbWF5YmV0eXBlLCBtYXliZUFzc2lnbiwgdmFyZGVmQ29udCk7XG4gIH1cbiAgZnVuY3Rpb24gcGF0dGVybih0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlID09IFwidmFyaWFibGVcIikgeyByZWdpc3Rlcih2YWx1ZSk7IHJldHVybiBjb250KCk7IH1cbiAgICBpZiAodHlwZSA9PSBcIltcIikgcmV0dXJuIGNvbnRDb21tYXNlcChwYXR0ZXJuLCBcIl1cIik7XG4gICAgaWYgKHR5cGUgPT0gXCJ7XCIpIHJldHVybiBjb250Q29tbWFzZXAocHJvcHBhdHRlcm4sIFwifVwiKTtcbiAgfVxuICBmdW5jdGlvbiBwcm9wcGF0dGVybih0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlID09IFwidmFyaWFibGVcIiAmJiAhY3guc3RyZWFtLm1hdGNoKC9eXFxzKjovLCBmYWxzZSkpIHtcbiAgICAgIHJlZ2lzdGVyKHZhbHVlKTtcbiAgICAgIHJldHVybiBjb250KG1heWJlQXNzaWduKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSBjeC5tYXJrZWQgPSBcInByb3BlcnR5XCI7XG4gICAgcmV0dXJuIGNvbnQoZXhwZWN0KFwiOlwiKSwgcGF0dGVybiwgbWF5YmVBc3NpZ24pO1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlQXNzaWduKF90eXBlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBcIj1cIikgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbk5vQ29tbWEpO1xuICB9XG4gIGZ1bmN0aW9uIHZhcmRlZkNvbnQodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwiLFwiKSByZXR1cm4gY29udCh2YXJkZWYpO1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlZWxzZSh0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlID09IFwia2V5d29yZCBiXCIgJiYgdmFsdWUgPT0gXCJlbHNlXCIpIHJldHVybiBjb250KHB1c2hsZXgoXCJmb3JtXCIsIFwiZWxzZVwiKSwgc3RhdGVtZW50LCBwb3BsZXgpO1xuICB9XG4gIGZ1bmN0aW9uIGZvcnNwZWModHlwZSkge1xuICAgIGlmICh0eXBlID09IFwiKFwiKSByZXR1cm4gY29udChwdXNobGV4KFwiKVwiKSwgZm9yc3BlYzEsIGV4cGVjdChcIilcIiksIHBvcGxleCk7XG4gIH1cbiAgZnVuY3Rpb24gZm9yc3BlYzEodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwidmFyXCIpIHJldHVybiBjb250KHZhcmRlZiwgZXhwZWN0KFwiO1wiKSwgZm9yc3BlYzIpO1xuICAgIGlmICh0eXBlID09IFwiO1wiKSByZXR1cm4gY29udChmb3JzcGVjMik7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSByZXR1cm4gY29udChmb3JtYXliZWlub2YpO1xuICAgIHJldHVybiBwYXNzKGV4cHJlc3Npb24sIGV4cGVjdChcIjtcIiksIGZvcnNwZWMyKTtcbiAgfVxuICBmdW5jdGlvbiBmb3JtYXliZWlub2YoX3R5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IFwiaW5cIiB8fCB2YWx1ZSA9PSBcIm9mXCIpIHsgY3gubWFya2VkID0gXCJrZXl3b3JkXCI7IHJldHVybiBjb250KGV4cHJlc3Npb24pOyB9XG4gICAgcmV0dXJuIGNvbnQobWF5YmVvcGVyYXRvckNvbW1hLCBmb3JzcGVjMik7XG4gIH1cbiAgZnVuY3Rpb24gZm9yc3BlYzIodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodHlwZSA9PSBcIjtcIikgcmV0dXJuIGNvbnQoZm9yc3BlYzMpO1xuICAgIGlmICh2YWx1ZSA9PSBcImluXCIgfHwgdmFsdWUgPT0gXCJvZlwiKSB7IGN4Lm1hcmtlZCA9IFwia2V5d29yZFwiOyByZXR1cm4gY29udChleHByZXNzaW9uKTsgfVxuICAgIHJldHVybiBwYXNzKGV4cHJlc3Npb24sIGV4cGVjdChcIjtcIiksIGZvcnNwZWMzKTtcbiAgfVxuICBmdW5jdGlvbiBmb3JzcGVjMyh0eXBlKSB7XG4gICAgaWYgKHR5cGUgIT0gXCIpXCIpIGNvbnQoZXhwcmVzc2lvbik7XG4gIH1cbiAgZnVuY3Rpb24gZnVuY3Rpb25kZWYodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gXCIqXCIpIHtjeC5tYXJrZWQgPSBcImtleXdvcmRcIjsgcmV0dXJuIGNvbnQoZnVuY3Rpb25kZWYpO31cbiAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIpIHtyZWdpc3Rlcih2YWx1ZSk7IHJldHVybiBjb250KGZ1bmN0aW9uZGVmKTt9XG4gICAgaWYgKHR5cGUgPT0gXCIoXCIpIHJldHVybiBjb250KHB1c2hjb250ZXh0LCBwdXNobGV4KFwiKVwiKSwgY29tbWFzZXAoZnVuYXJnLCBcIilcIiksIHBvcGxleCwgc3RhdGVtZW50LCBwb3Bjb250ZXh0KTtcbiAgfVxuICBmdW5jdGlvbiBmdW5hcmcodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwic3ByZWFkXCIpIHJldHVybiBjb250KGZ1bmFyZyk7XG4gICAgcmV0dXJuIHBhc3MocGF0dGVybiwgbWF5YmV0eXBlKTtcbiAgfVxuICBmdW5jdGlvbiBjbGFzc05hbWUodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIpIHtyZWdpc3Rlcih2YWx1ZSk7IHJldHVybiBjb250KGNsYXNzTmFtZUFmdGVyKTt9XG4gIH1cbiAgZnVuY3Rpb24gY2xhc3NOYW1lQWZ0ZXIodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gXCJleHRlbmRzXCIpIHJldHVybiBjb250KGV4cHJlc3Npb24sIGNsYXNzTmFtZUFmdGVyKTtcbiAgICBpZiAodHlwZSA9PSBcIntcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIn1cIiksIGNsYXNzQm9keSwgcG9wbGV4KTtcbiAgfVxuICBmdW5jdGlvbiBjbGFzc0JvZHkodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIgfHwgY3guc3R5bGUgPT0gXCJrZXl3b3JkXCIpIHtcbiAgICAgIGN4Lm1hcmtlZCA9IFwicHJvcGVydHlcIjtcbiAgICAgIGlmICh2YWx1ZSA9PSBcImdldFwiIHx8IHZhbHVlID09IFwic2V0XCIpIHJldHVybiBjb250KGNsYXNzR2V0dGVyU2V0dGVyLCBmdW5jdGlvbmRlZiwgY2xhc3NCb2R5KTtcbiAgICAgIHJldHVybiBjb250KGZ1bmN0aW9uZGVmLCBjbGFzc0JvZHkpO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT0gXCIqXCIpIHtcbiAgICAgIGN4Lm1hcmtlZCA9IFwia2V5d29yZFwiO1xuICAgICAgcmV0dXJuIGNvbnQoY2xhc3NCb2R5KTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT0gXCI7XCIpIHJldHVybiBjb250KGNsYXNzQm9keSk7XG4gICAgaWYgKHR5cGUgPT0gXCJ9XCIpIHJldHVybiBjb250KCk7XG4gIH1cbiAgZnVuY3Rpb24gY2xhc3NHZXR0ZXJTZXR0ZXIodHlwZSkge1xuICAgIGlmICh0eXBlICE9IFwidmFyaWFibGVcIikgcmV0dXJuIHBhc3MoKTtcbiAgICBjeC5tYXJrZWQgPSBcInByb3BlcnR5XCI7XG4gICAgcmV0dXJuIGNvbnQoKTtcbiAgfVxuICBmdW5jdGlvbiBhZnRlck1vZHVsZSh0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlID09IFwic3RyaW5nXCIpIHJldHVybiBjb250KHN0YXRlbWVudCk7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSB7IHJlZ2lzdGVyKHZhbHVlKTsgcmV0dXJuIGNvbnQobWF5YmVGcm9tKTsgfVxuICB9XG4gIGZ1bmN0aW9uIGFmdGVyRXhwb3J0KF90eXBlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBcIipcIikgeyBjeC5tYXJrZWQgPSBcImtleXdvcmRcIjsgcmV0dXJuIGNvbnQobWF5YmVGcm9tLCBleHBlY3QoXCI7XCIpKTsgfVxuICAgIGlmICh2YWx1ZSA9PSBcImRlZmF1bHRcIikgeyBjeC5tYXJrZWQgPSBcImtleXdvcmRcIjsgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbiwgZXhwZWN0KFwiO1wiKSk7IH1cbiAgICByZXR1cm4gcGFzcyhzdGF0ZW1lbnQpO1xuICB9XG4gIGZ1bmN0aW9uIGFmdGVySW1wb3J0KHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PSBcInN0cmluZ1wiKSByZXR1cm4gY29udCgpO1xuICAgIHJldHVybiBwYXNzKGltcG9ydFNwZWMsIG1heWJlRnJvbSk7XG4gIH1cbiAgZnVuY3Rpb24gaW1wb3J0U3BlYyh0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlID09IFwie1wiKSByZXR1cm4gY29udENvbW1hc2VwKGltcG9ydFNwZWMsIFwifVwiKTtcbiAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIpIHJlZ2lzdGVyKHZhbHVlKTtcbiAgICByZXR1cm4gY29udCgpO1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlRnJvbShfdHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gXCJmcm9tXCIpIHsgY3gubWFya2VkID0gXCJrZXl3b3JkXCI7IHJldHVybiBjb250KGV4cHJlc3Npb24pOyB9XG4gIH1cbiAgZnVuY3Rpb24gYXJyYXlMaXRlcmFsKHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIl1cIikgcmV0dXJuIGNvbnQoKTtcbiAgICByZXR1cm4gcGFzcyhleHByZXNzaW9uTm9Db21tYSwgbWF5YmVBcnJheUNvbXByZWhlbnNpb24pO1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlQXJyYXlDb21wcmVoZW5zaW9uKHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PSBcImZvclwiKSByZXR1cm4gcGFzcyhjb21wcmVoZW5zaW9uLCBleHBlY3QoXCJdXCIpKTtcbiAgICBpZiAodHlwZSA9PSBcIixcIikgcmV0dXJuIGNvbnQoY29tbWFzZXAobWF5YmVleHByZXNzaW9uTm9Db21tYSwgXCJdXCIpKTtcbiAgICByZXR1cm4gcGFzcyhjb21tYXNlcChleHByZXNzaW9uTm9Db21tYSwgXCJdXCIpKTtcbiAgfVxuICBmdW5jdGlvbiBjb21wcmVoZW5zaW9uKHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PSBcImZvclwiKSByZXR1cm4gY29udChmb3JzcGVjLCBjb21wcmVoZW5zaW9uKTtcbiAgICBpZiAodHlwZSA9PSBcImlmXCIpIHJldHVybiBjb250KGV4cHJlc3Npb24sIGNvbXByZWhlbnNpb24pO1xuICB9XG5cbiAgLy8gSW50ZXJmYWNlXG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydFN0YXRlOiBmdW5jdGlvbihiYXNlY29sdW1uKSB7XG4gICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgIHRva2VuaXplOiB0b2tlbkJhc2UsXG4gICAgICAgIGxhc3RUeXBlOiBcInNvZlwiLFxuICAgICAgICBjYzogW10sXG4gICAgICAgIGxleGljYWw6IG5ldyBKU0xleGljYWwoKGJhc2Vjb2x1bW4gfHwgMCkgLSBpbmRlbnRVbml0LCAwLCBcImJsb2NrXCIsIGZhbHNlKSxcbiAgICAgICAgbG9jYWxWYXJzOiBwYXJzZXJDb25maWcubG9jYWxWYXJzLFxuICAgICAgICBjb250ZXh0OiBwYXJzZXJDb25maWcubG9jYWxWYXJzICYmIHt2YXJzOiBwYXJzZXJDb25maWcubG9jYWxWYXJzfSxcbiAgICAgICAgaW5kZW50ZWQ6IDBcbiAgICAgIH07XG4gICAgICBpZiAocGFyc2VyQ29uZmlnLmdsb2JhbFZhcnMgJiYgdHlwZW9mIHBhcnNlckNvbmZpZy5nbG9iYWxWYXJzID09IFwib2JqZWN0XCIpXG4gICAgICAgIHN0YXRlLmdsb2JhbFZhcnMgPSBwYXJzZXJDb25maWcuZ2xvYmFsVmFycztcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9LFxuXG4gICAgdG9rZW46IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIGlmIChzdHJlYW0uc29sKCkpIHtcbiAgICAgICAgaWYgKCFzdGF0ZS5sZXhpY2FsLmhhc093blByb3BlcnR5KFwiYWxpZ25cIikpXG4gICAgICAgICAgc3RhdGUubGV4aWNhbC5hbGlnbiA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5pbmRlbnRlZCA9IHN0cmVhbS5pbmRlbnRhdGlvbigpO1xuICAgICAgICBmaW5kRmF0QXJyb3coc3RyZWFtLCBzdGF0ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUudG9rZW5pemUgIT0gdG9rZW5Db21tZW50ICYmIHN0cmVhbS5lYXRTcGFjZSgpKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBzdHlsZSA9IHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgaWYgKHR5cGUgPT0gXCJjb21tZW50XCIpIHJldHVybiBzdHlsZTtcbiAgICAgIHN0YXRlLmxhc3RUeXBlID0gdHlwZSA9PSBcIm9wZXJhdG9yXCIgJiYgKGNvbnRlbnQgPT0gXCIrK1wiIHx8IGNvbnRlbnQgPT0gXCItLVwiKSA/IFwiaW5jZGVjXCIgOiB0eXBlO1xuICAgICAgcmV0dXJuIHBhcnNlSlMoc3RhdGUsIHN0eWxlLCB0eXBlLCBjb250ZW50LCBzdHJlYW0pO1xuICAgIH0sXG5cbiAgICBpbmRlbnQ6IGZ1bmN0aW9uKHN0YXRlLCB0ZXh0QWZ0ZXIpIHtcbiAgICAgIGlmIChzdGF0ZS50b2tlbml6ZSA9PSB0b2tlbkNvbW1lbnQpIHJldHVybiBDb2RlTWlycm9yLlBhc3M7XG4gICAgICBpZiAoc3RhdGUudG9rZW5pemUgIT0gdG9rZW5CYXNlKSByZXR1cm4gMDtcbiAgICAgIHZhciBmaXJzdENoYXIgPSB0ZXh0QWZ0ZXIgJiYgdGV4dEFmdGVyLmNoYXJBdCgwKSwgbGV4aWNhbCA9IHN0YXRlLmxleGljYWw7XG4gICAgICAvLyBLbHVkZ2UgdG8gcHJldmVudCAnbWF5YmVsc2UnIGZyb20gYmxvY2tpbmcgbGV4aWNhbCBzY29wZSBwb3BzXG4gICAgICBpZiAoIS9eXFxzKmVsc2VcXGIvLnRlc3QodGV4dEFmdGVyKSkgZm9yICh2YXIgaSA9IHN0YXRlLmNjLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBjID0gc3RhdGUuY2NbaV07XG4gICAgICAgIGlmIChjID09IHBvcGxleCkgbGV4aWNhbCA9IGxleGljYWwucHJldjtcbiAgICAgICAgZWxzZSBpZiAoYyAhPSBtYXliZWVsc2UpIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGxleGljYWwudHlwZSA9PSBcInN0YXRcIiAmJiBmaXJzdENoYXIgPT0gXCJ9XCIpIGxleGljYWwgPSBsZXhpY2FsLnByZXY7XG4gICAgICBpZiAoc3RhdGVtZW50SW5kZW50ICYmIGxleGljYWwudHlwZSA9PSBcIilcIiAmJiBsZXhpY2FsLnByZXYudHlwZSA9PSBcInN0YXRcIilcbiAgICAgICAgbGV4aWNhbCA9IGxleGljYWwucHJldjtcbiAgICAgIHZhciB0eXBlID0gbGV4aWNhbC50eXBlLCBjbG9zaW5nID0gZmlyc3RDaGFyID09IHR5cGU7XG5cbiAgICAgIGlmICh0eXBlID09IFwidmFyZGVmXCIpIHJldHVybiBsZXhpY2FsLmluZGVudGVkICsgKHN0YXRlLmxhc3RUeXBlID09IFwib3BlcmF0b3JcIiB8fCBzdGF0ZS5sYXN0VHlwZSA9PSBcIixcIiA/IGxleGljYWwuaW5mbyArIDEgOiAwKTtcbiAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJmb3JtXCIgJiYgZmlyc3RDaGFyID09IFwie1wiKSByZXR1cm4gbGV4aWNhbC5pbmRlbnRlZDtcbiAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJmb3JtXCIpIHJldHVybiBsZXhpY2FsLmluZGVudGVkICsgaW5kZW50VW5pdDtcbiAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJzdGF0XCIpXG4gICAgICAgIHJldHVybiBsZXhpY2FsLmluZGVudGVkICsgKHN0YXRlLmxhc3RUeXBlID09IFwib3BlcmF0b3JcIiB8fCBzdGF0ZS5sYXN0VHlwZSA9PSBcIixcIiA/IHN0YXRlbWVudEluZGVudCB8fCBpbmRlbnRVbml0IDogMCk7XG4gICAgICBlbHNlIGlmIChsZXhpY2FsLmluZm8gPT0gXCJzd2l0Y2hcIiAmJiAhY2xvc2luZyAmJiBwYXJzZXJDb25maWcuZG91YmxlSW5kZW50U3dpdGNoICE9IGZhbHNlKVxuICAgICAgICByZXR1cm4gbGV4aWNhbC5pbmRlbnRlZCArICgvXig/OmNhc2V8ZGVmYXVsdClcXGIvLnRlc3QodGV4dEFmdGVyKSA/IGluZGVudFVuaXQgOiAyICogaW5kZW50VW5pdCk7XG4gICAgICBlbHNlIGlmIChsZXhpY2FsLmFsaWduKSByZXR1cm4gbGV4aWNhbC5jb2x1bW4gKyAoY2xvc2luZyA/IDAgOiAxKTtcbiAgICAgIGVsc2UgcmV0dXJuIGxleGljYWwuaW5kZW50ZWQgKyAoY2xvc2luZyA/IDAgOiBpbmRlbnRVbml0KTtcbiAgICB9LFxuXG4gICAgZWxlY3RyaWNJbnB1dDogL15cXHMqKD86Y2FzZSAuKj86fGRlZmF1bHQ6fFxce3xcXH0pJC8sXG4gICAgYmxvY2tDb21tZW50U3RhcnQ6IGpzb25Nb2RlID8gbnVsbCA6IFwiLypcIixcbiAgICBibG9ja0NvbW1lbnRFbmQ6IGpzb25Nb2RlID8gbnVsbCA6IFwiKi9cIixcbiAgICBsaW5lQ29tbWVudDoganNvbk1vZGUgPyBudWxsIDogXCIvL1wiLFxuICAgIGZvbGQ6IFwiYnJhY2VcIixcblxuICAgIGhlbHBlclR5cGU6IGpzb25Nb2RlID8gXCJqc29uXCIgOiBcImphdmFzY3JpcHRcIixcbiAgICBqc29ubGRNb2RlOiBqc29ubGRNb2RlLFxuICAgIGpzb25Nb2RlOiBqc29uTW9kZVxuICB9O1xufSk7XG5cbkNvZGVNaXJyb3IucmVnaXN0ZXJIZWxwZXIoXCJ3b3JkQ2hhcnNcIiwgXCJqYXZhc2NyaXB0XCIsIC9bXFx3JF0vKTtcblxuQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwidGV4dC9qYXZhc2NyaXB0XCIsIFwiamF2YXNjcmlwdFwiKTtcbkNvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQvZWNtYXNjcmlwdFwiLCBcImphdmFzY3JpcHRcIik7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0XCIsIFwiamF2YXNjcmlwdFwiKTtcbkNvZGVNaXJyb3IuZGVmaW5lTUlNRShcImFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdFwiLCBcImphdmFzY3JpcHRcIik7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi9lY21hc2NyaXB0XCIsIFwiamF2YXNjcmlwdFwiKTtcbkNvZGVNaXJyb3IuZGVmaW5lTUlNRShcImFwcGxpY2F0aW9uL2pzb25cIiwge25hbWU6IFwiamF2YXNjcmlwdFwiLCBqc29uOiB0cnVlfSk7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi94LWpzb25cIiwge25hbWU6IFwiamF2YXNjcmlwdFwiLCBqc29uOiB0cnVlfSk7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi9sZCtqc29uXCIsIHtuYW1lOiBcImphdmFzY3JpcHRcIiwganNvbmxkOiB0cnVlfSk7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L3R5cGVzY3JpcHRcIiwgeyBuYW1lOiBcImphdmFzY3JpcHRcIiwgdHlwZXNjcmlwdDogdHJ1ZSB9KTtcbkNvZGVNaXJyb3IuZGVmaW5lTUlNRShcImFwcGxpY2F0aW9uL3R5cGVzY3JpcHRcIiwgeyBuYW1lOiBcImphdmFzY3JpcHRcIiwgdHlwZXNjcmlwdDogdHJ1ZSB9KTtcblxufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHA6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbi8qKlxuICogTGluayB0byB0aGUgcHJvamVjdCdzIEdpdEh1YiBwYWdlOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2R1cmFsb2cvQ29kZU1pcnJvclxuICovXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lTW9kZSgnbGl2ZXNjcmlwdCcsIGZ1bmN0aW9uKCl7XG4gICAgdmFyIHRva2VuQmFzZSA9IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIHZhciBuZXh0X3J1bGUgPSBzdGF0ZS5uZXh0IHx8IFwic3RhcnRcIjtcbiAgICAgIGlmIChuZXh0X3J1bGUpIHtcbiAgICAgICAgc3RhdGUubmV4dCA9IHN0YXRlLm5leHQ7XG4gICAgICAgIHZhciBuciA9IFJ1bGVzW25leHRfcnVsZV07XG4gICAgICAgIGlmIChuci5zcGxpY2UpIHtcbiAgICAgICAgICBmb3IgKHZhciBpJCA9IDA7IGkkIDwgbnIubGVuZ3RoOyArK2kkKSB7XG4gICAgICAgICAgICB2YXIgciA9IG5yW2kkXSwgbTtcbiAgICAgICAgICAgIGlmIChyLnJlZ2V4ICYmIChtID0gc3RyZWFtLm1hdGNoKHIucmVnZXgpKSkge1xuICAgICAgICAgICAgICBzdGF0ZS5uZXh0ID0gci5uZXh0IHx8IHN0YXRlLm5leHQ7XG4gICAgICAgICAgICAgIHJldHVybiByLnRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBzdHJlYW0ubmV4dCgpO1xuICAgICAgICAgIHJldHVybiAnZXJyb3InO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0ubWF0Y2gociA9IFJ1bGVzW25leHRfcnVsZV0pKSB7XG4gICAgICAgICAgaWYgKHIucmVnZXggJiYgc3RyZWFtLm1hdGNoKHIucmVnZXgpKSB7XG4gICAgICAgICAgICBzdGF0ZS5uZXh0ID0gci5uZXh0O1xuICAgICAgICAgICAgcmV0dXJuIHIudG9rZW47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gJ2Vycm9yJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgICByZXR1cm4gJ2Vycm9yJztcbiAgICB9O1xuICAgIHZhciBleHRlcm5hbCA9IHtcbiAgICAgIHN0YXJ0U3RhdGU6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmV4dDogJ3N0YXJ0JyxcbiAgICAgICAgICBsYXN0VG9rZW46IG51bGxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICB0b2tlbjogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSl7XG4gICAgICAgIHdoaWxlIChzdHJlYW0ucG9zID09IHN0cmVhbS5zdGFydClcbiAgICAgICAgICB2YXIgc3R5bGUgPSB0b2tlbkJhc2Uoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICAgIHN0YXRlLmxhc3RUb2tlbiA9IHtcbiAgICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgICAgaW5kZW50OiBzdHJlYW0uaW5kZW50YXRpb24oKSxcbiAgICAgICAgICBjb250ZW50OiBzdHJlYW0uY3VycmVudCgpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzdHlsZS5yZXBsYWNlKC9cXC4vZywgJyAnKTtcbiAgICAgIH0sXG4gICAgICBpbmRlbnQ6IGZ1bmN0aW9uKHN0YXRlKXtcbiAgICAgICAgdmFyIGluZGVudGF0aW9uID0gc3RhdGUubGFzdFRva2VuLmluZGVudDtcbiAgICAgICAgaWYgKHN0YXRlLmxhc3RUb2tlbi5jb250ZW50Lm1hdGNoKGluZGVudGVyKSkge1xuICAgICAgICAgIGluZGVudGF0aW9uICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGVudGF0aW9uO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGV4dGVybmFsO1xuICB9KTtcblxuICB2YXIgaWRlbnRpZmllciA9ICcoPyFbXFxcXGRcXFxcc10pWyRcXFxcd1xcXFx4QUEtXFxcXHVGRkRDXSg/Oig/IVxcXFxzKVskXFxcXHdcXFxceEFBLVxcXFx1RkZEQ118LVtBLVphLXpdKSonO1xuICB2YXIgaW5kZW50ZXIgPSBSZWdFeHAoJyg/Olsoe1s9Ol18Wy1+XT58XFxcXGIoPzplKD86bHNlfHhwb3J0KXxkKD86b3xlZmF1bHQpfHQoPzpyeXxoZW4pfGZpbmFsbHl8aW1wb3J0KD86XFxcXHMqYWxsKT98Y29uc3R8dmFyfGxldHxuZXd8Y2F0Y2goPzpcXFxccyonICsgaWRlbnRpZmllciArICcpPykpXFxcXHMqJCcpO1xuICB2YXIga2V5d29yZGVuZCA9ICcoPyFbJFxcXFx3XXwtW0EtWmEtel18XFxcXHMqOig/IVs6PV0pKSc7XG4gIHZhciBzdHJpbmdmaWxsID0ge1xuICAgIHRva2VuOiAnc3RyaW5nJyxcbiAgICByZWdleDogJy4rJ1xuICB9O1xuICB2YXIgUnVsZXMgPSB7XG4gICAgc3RhcnQ6IFtcbiAgICAgIHtcbiAgICAgICAgdG9rZW46ICdjb21tZW50LmRvYycsXG4gICAgICAgIHJlZ2V4OiAnL1xcXFwqJyxcbiAgICAgICAgbmV4dDogJ2NvbW1lbnQnXG4gICAgICB9LCB7XG4gICAgICAgIHRva2VuOiAnY29tbWVudCcsXG4gICAgICAgIHJlZ2V4OiAnIy4qJ1xuICAgICAgfSwge1xuICAgICAgICB0b2tlbjogJ2tleXdvcmQnLFxuICAgICAgICByZWdleDogJyg/OnQoPzpoKD86aXN8cm93fGVuKXxyeXx5cGVvZiE/KXxjKD86b24oPzp0aW51ZXxzdCl8YSg/OnNlfHRjaCl8bGFzcyl8aSg/Om4oPzpzdGFuY2VvZik/fG1wKD86b3J0KD86XFxcXHMrYWxsKT98bGVtZW50cyl8W2ZzXSl8ZCg/OmUoPzpmYXVsdHxsZXRlfGJ1Z2dlcil8byl8Zig/Om9yKD86XFxcXHMrb3duKT98aW5hbGx5fHVuY3Rpb24pfHMoPzp1cGVyfHdpdGNoKXxlKD86bHNlfHgoPzp0ZW5kc3xwb3J0KXx2YWwpfGEoPzpuZHxyZ3VtZW50cyl8big/OmV3fG90KXx1big/Omxlc3N8dGlsKXx3KD86aGlsZXxpdGgpfG9bZnJdfHJldHVybnxicmVha3xsZXR8dmFyfGxvb3ApJyArIGtleXdvcmRlbmRcbiAgICAgIH0sIHtcbiAgICAgICAgdG9rZW46ICdjb25zdGFudC5sYW5ndWFnZScsXG4gICAgICAgIHJlZ2V4OiAnKD86dHJ1ZXxmYWxzZXx5ZXN8bm98b258b2ZmfG51bGx8dm9pZHx1bmRlZmluZWQpJyArIGtleXdvcmRlbmRcbiAgICAgIH0sIHtcbiAgICAgICAgdG9rZW46ICdpbnZhbGlkLmlsbGVnYWwnLFxuICAgICAgICByZWdleDogJyg/OnAoPzphY2thZ2V8cig/Oml2YXRlfG90ZWN0ZWQpfHVibGljKXxpKD86bXBsZW1lbnRzfG50ZXJmYWNlKXxlbnVtfHN0YXRpY3x5aWVsZCknICsga2V5d29yZGVuZFxuICAgICAgfSwge1xuICAgICAgICB0b2tlbjogJ2xhbmd1YWdlLnN1cHBvcnQuY2xhc3MnLFxuICAgICAgICByZWdleDogJyg/OlIoPzplKD86Z0V4cHxmZXJlbmNlRXJyb3IpfGFuZ2VFcnJvcil8Uyg/OnRyaW5nfHludGF4RXJyb3IpfEUoPzpycm9yfHZhbEVycm9yKXxBcnJheXxCb29sZWFufERhdGV8RnVuY3Rpb258TnVtYmVyfE9iamVjdHxUeXBlRXJyb3J8VVJJRXJyb3IpJyArIGtleXdvcmRlbmRcbiAgICAgIH0sIHtcbiAgICAgICAgdG9rZW46ICdsYW5ndWFnZS5zdXBwb3J0LmZ1bmN0aW9uJyxcbiAgICAgICAgcmVnZXg6ICcoPzppcyg/Ok5hTnxGaW5pdGUpfHBhcnNlKD86SW50fEZsb2F0KXxNYXRofEpTT058KD86ZW58ZGUpY29kZVVSSSg/OkNvbXBvbmVudCk/KScgKyBrZXl3b3JkZW5kXG4gICAgICB9LCB7XG4gICAgICAgIHRva2VuOiAndmFyaWFibGUubGFuZ3VhZ2UnLFxuICAgICAgICByZWdleDogJyg/OnQoPzpoYXR8aWx8byl8Zig/OnJvbXxhbGx0aHJvdWdoKXxpdHxieXxlKScgKyBrZXl3b3JkZW5kXG4gICAgICB9LCB7XG4gICAgICAgIHRva2VuOiAnaWRlbnRpZmllcicsXG4gICAgICAgIHJlZ2V4OiBpZGVudGlmaWVyICsgJ1xcXFxzKjooPyFbOj1dKSdcbiAgICAgIH0sIHtcbiAgICAgICAgdG9rZW46ICd2YXJpYWJsZScsXG4gICAgICAgIHJlZ2V4OiBpZGVudGlmaWVyXG4gICAgICB9LCB7XG4gICAgICAgIHRva2VuOiAna2V5d29yZC5vcGVyYXRvcicsXG4gICAgICAgIHJlZ2V4OiAnKD86XFxcXC57M318XFxcXHMrXFxcXD8pJ1xuICAgICAgfSwge1xuICAgICAgICB0b2tlbjogJ2tleXdvcmQudmFyaWFibGUnLFxuICAgICAgICByZWdleDogJyg/OkArfDo6fFxcXFwuXFxcXC4pJyxcbiAgICAgICAgbmV4dDogJ2tleSdcbiAgICAgIH0sIHtcbiAgICAgICAgdG9rZW46ICdrZXl3b3JkLm9wZXJhdG9yJyxcbiAgICAgICAgcmVnZXg6ICdcXFxcLlxcXFxzKicsXG4gICAgICAgIG5leHQ6ICdrZXknXG4gICAgICB9LCB7XG4gICAgICAgIHRva2VuOiAnc3RyaW5nJyxcbiAgICAgICAgcmVnZXg6ICdcXFxcXFxcXFxcXFxTW15cXFxccyw7KX1cXFxcXV0qJ1xuICAgICAgfSwge1xuICAgICAgICB0b2tlbjogJ3N0cmluZy5kb2MnLFxuICAgICAgICByZWdleDogJ1xcJ1xcJ1xcJycsXG4gICAgICAgIG5leHQ6ICdxZG9jJ1xuICAgICAgfSwge1xuICAgICAgICB0b2tlbjogJ3N0cmluZy5kb2MnLFxuICAgICAgICByZWdleDogJ1wiXCJcIicsXG4gICAgICAgIG5leHQ6ICdxcWRvYydcbiAgICAgIH0sIHtcbiAgICAgICAgdG9rZW46ICdzdHJpbmcnLFxuICAgICAgICByZWdleDogJ1xcJycsXG4gICAgICAgIG5leHQ6ICdxc3RyaW5nJ1xuICAgICAgfSwge1xuICAgICAgICB0b2tlbjogJ3N0cmluZycsXG4gICAgICAgIHJlZ2V4OiAnXCInLFxuICAgICAgICBuZXh0OiAncXFzdHJpbmcnXG4gICAgICB9LCB7XG4gICAgICAgIHRva2VuOiAnc3RyaW5nJyxcbiAgICAgICAgcmVnZXg6ICdgJyxcbiAgICAgICAgbmV4dDogJ2pzJ1xuICAgICAgfSwge1xuICAgICAgICB0b2tlbjogJ3N0cmluZycsXG4gICAgICAgIHJlZ2V4OiAnPFxcXFxbJyxcbiAgICAgICAgbmV4dDogJ3dvcmRzJ1xuICAgICAgfSwge1xuICAgICAgICB0b2tlbjogJ3N0cmluZy5yZWdleCcsXG4gICAgICAgIHJlZ2V4OiAnLy8nLFxuICAgICAgICBuZXh0OiAnaGVyZWdleCdcbiAgICAgIH0sIHtcbiAgICAgICAgdG9rZW46ICdzdHJpbmcucmVnZXgnLFxuICAgICAgICByZWdleDogJ1xcXFwvKD86W15bXFxcXC9cXFxcblxcXFxcXFxcXSooPzooPzpcXFxcXFxcXC58XFxcXFtbXlxcXFxdXFxcXG5cXFxcXFxcXF0qKD86XFxcXFxcXFwuW15cXFxcXVxcXFxuXFxcXFxcXFxdKikqXFxcXF0pW15bXFxcXC9cXFxcblxcXFxcXFxcXSopKilcXFxcL1tnaW15JF17MCw0fScsXG4gICAgICAgIG5leHQ6ICdrZXknXG4gICAgICB9LCB7XG4gICAgICAgIHRva2VuOiAnY29uc3RhbnQubnVtZXJpYycsXG4gICAgICAgIHJlZ2V4OiAnKD86MHhbXFxcXGRhLWZBLUZdW1xcXFxkYS1mQS1GX10qfCg/OlsyLTldfFsxMl1cXFxcZHwzWzAtNl0pcltcXFxcZGEtekEtWl1bXFxcXGRhLXpBLVpfXSp8KD86XFxcXGRbXFxcXGRfXSooPzpcXFxcLlxcXFxkW1xcXFxkX10qKT98XFxcXC5cXFxcZFtcXFxcZF9dKikoPzplWystXT9cXFxcZFtcXFxcZF9dKik/W1xcXFx3JF0qKSdcbiAgICAgIH0sIHtcbiAgICAgICAgdG9rZW46ICdscGFyZW4nLFxuICAgICAgICByZWdleDogJ1soe1tdJ1xuICAgICAgfSwge1xuICAgICAgICB0b2tlbjogJ3JwYXJlbicsXG4gICAgICAgIHJlZ2V4OiAnWyl9XFxcXF1dJyxcbiAgICAgICAgbmV4dDogJ2tleSdcbiAgICAgIH0sIHtcbiAgICAgICAgdG9rZW46ICdrZXl3b3JkLm9wZXJhdG9yJyxcbiAgICAgICAgcmVnZXg6ICdcXFxcUysnXG4gICAgICB9LCB7XG4gICAgICAgIHRva2VuOiAndGV4dCcsXG4gICAgICAgIHJlZ2V4OiAnXFxcXHMrJ1xuICAgICAgfVxuICAgIF0sXG4gICAgaGVyZWdleDogW1xuICAgICAge1xuICAgICAgICB0b2tlbjogJ3N0cmluZy5yZWdleCcsXG4gICAgICAgIHJlZ2V4OiAnLio/Ly9bZ2lteSQ/XXswLDR9JyxcbiAgICAgICAgbmV4dDogJ3N0YXJ0J1xuICAgICAgfSwge1xuICAgICAgICB0b2tlbjogJ3N0cmluZy5yZWdleCcsXG4gICAgICAgIHJlZ2V4OiAnXFxcXHMqI3snXG4gICAgICB9LCB7XG4gICAgICAgIHRva2VuOiAnY29tbWVudC5yZWdleCcsXG4gICAgICAgIHJlZ2V4OiAnXFxcXHMrKD86Iy4qKT8nXG4gICAgICB9LCB7XG4gICAgICAgIHRva2VuOiAnc3RyaW5nLnJlZ2V4JyxcbiAgICAgICAgcmVnZXg6ICdcXFxcUysnXG4gICAgICB9XG4gICAgXSxcbiAgICBrZXk6IFtcbiAgICAgIHtcbiAgICAgICAgdG9rZW46ICdrZXl3b3JkLm9wZXJhdG9yJyxcbiAgICAgICAgcmVnZXg6ICdbLj9AIV0rJ1xuICAgICAgfSwge1xuICAgICAgICB0b2tlbjogJ2lkZW50aWZpZXInLFxuICAgICAgICByZWdleDogaWRlbnRpZmllcixcbiAgICAgICAgbmV4dDogJ3N0YXJ0J1xuICAgICAgfSwge1xuICAgICAgICB0b2tlbjogJ3RleHQnLFxuICAgICAgICByZWdleDogJycsXG4gICAgICAgIG5leHQ6ICdzdGFydCdcbiAgICAgIH1cbiAgICBdLFxuICAgIGNvbW1lbnQ6IFtcbiAgICAgIHtcbiAgICAgICAgdG9rZW46ICdjb21tZW50LmRvYycsXG4gICAgICAgIHJlZ2V4OiAnLio/XFxcXCovJyxcbiAgICAgICAgbmV4dDogJ3N0YXJ0J1xuICAgICAgfSwge1xuICAgICAgICB0b2tlbjogJ2NvbW1lbnQuZG9jJyxcbiAgICAgICAgcmVnZXg6ICcuKydcbiAgICAgIH1cbiAgICBdLFxuICAgIHFkb2M6IFtcbiAgICAgIHtcbiAgICAgICAgdG9rZW46ICdzdHJpbmcnLFxuICAgICAgICByZWdleDogXCIuKj8nJydcIixcbiAgICAgICAgbmV4dDogJ2tleSdcbiAgICAgIH0sIHN0cmluZ2ZpbGxcbiAgICBdLFxuICAgIHFxZG9jOiBbXG4gICAgICB7XG4gICAgICAgIHRva2VuOiAnc3RyaW5nJyxcbiAgICAgICAgcmVnZXg6ICcuKj9cIlwiXCInLFxuICAgICAgICBuZXh0OiAna2V5J1xuICAgICAgfSwgc3RyaW5nZmlsbFxuICAgIF0sXG4gICAgcXN0cmluZzogW1xuICAgICAge1xuICAgICAgICB0b2tlbjogJ3N0cmluZycsXG4gICAgICAgIHJlZ2V4OiAnW15cXFxcXFxcXFxcJ10qKD86XFxcXFxcXFwuW15cXFxcXFxcXFxcJ10qKSpcXCcnLFxuICAgICAgICBuZXh0OiAna2V5J1xuICAgICAgfSwgc3RyaW5nZmlsbFxuICAgIF0sXG4gICAgcXFzdHJpbmc6IFtcbiAgICAgIHtcbiAgICAgICAgdG9rZW46ICdzdHJpbmcnLFxuICAgICAgICByZWdleDogJ1teXFxcXFxcXFxcIl0qKD86XFxcXFxcXFwuW15cXFxcXFxcXFwiXSopKlwiJyxcbiAgICAgICAgbmV4dDogJ2tleSdcbiAgICAgIH0sIHN0cmluZ2ZpbGxcbiAgICBdLFxuICAgIGpzOiBbXG4gICAgICB7XG4gICAgICAgIHRva2VuOiAnc3RyaW5nJyxcbiAgICAgICAgcmVnZXg6ICdbXlxcXFxcXFxcYF0qKD86XFxcXFxcXFwuW15cXFxcXFxcXGBdKikqYCcsXG4gICAgICAgIG5leHQ6ICdrZXknXG4gICAgICB9LCBzdHJpbmdmaWxsXG4gICAgXSxcbiAgICB3b3JkczogW1xuICAgICAge1xuICAgICAgICB0b2tlbjogJ3N0cmluZycsXG4gICAgICAgIHJlZ2V4OiAnLio/XFxcXF0+JyxcbiAgICAgICAgbmV4dDogJ2tleSdcbiAgICAgIH0sIHN0cmluZ2ZpbGxcbiAgICBdXG4gIH07XG4gIGZvciAodmFyIGlkeCBpbiBSdWxlcykge1xuICAgIHZhciByID0gUnVsZXNbaWR4XTtcbiAgICBpZiAoci5zcGxpY2UpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHZhciByciA9IHJbaV07XG4gICAgICAgIGlmICh0eXBlb2YgcnIucmVnZXggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgUnVsZXNbaWR4XVtpXS5yZWdleCA9IG5ldyBSZWdFeHAoJ14nICsgcnIucmVnZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcnIucmVnZXggPT09ICdzdHJpbmcnKSB7XG4gICAgICBSdWxlc1tpZHhdLnJlZ2V4ID0gbmV3IFJlZ0V4cCgnXicgKyByLnJlZ2V4KTtcbiAgICB9XG4gIH1cblxuICBDb2RlTWlycm9yLmRlZmluZU1JTUUoJ3RleHQveC1saXZlc2NyaXB0JywgJ2xpdmVzY3JpcHQnKTtcblxufSk7XG4iLCIoZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsKXtcbi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS44LjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIExleGVyLCBTb3VyY2VNYXAsIGNvbXBpbGUsIGV4dCwgZm9ybWF0U291cmNlUG9zaXRpb24sIGZzLCBnZXRTb3VyY2VNYXAsIGhlbHBlcnMsIGxleGVyLCBwYXJzZXIsIHBhdGgsIHNvdXJjZU1hcHMsIHZtLCB3aXRoUHJldHR5RXJyb3JzLCBfYmFzZSwgX2ksIF9sZW4sIF9yZWYsXG4gICAgX19oYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHksXG4gICAgX19pbmRleE9mID0gW10uaW5kZXhPZiB8fCBmdW5jdGlvbihpdGVtKSB7IGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsgaWYgKGkgaW4gdGhpcyAmJiB0aGlzW2ldID09PSBpdGVtKSByZXR1cm4gaTsgfSByZXR1cm4gLTE7IH07XG5cbiAgZnMgPSByZXF1aXJlKCdmcycpO1xuXG4gIHZtID0gcmVxdWlyZSgndm0nKTtcblxuICBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG4gIExleGVyID0gcmVxdWlyZSgnLi9sZXhlcicpLkxleGVyO1xuXG4gIHBhcnNlciA9IHJlcXVpcmUoJy4vcGFyc2VyJykucGFyc2VyO1xuXG4gIGhlbHBlcnMgPSByZXF1aXJlKCcuL2hlbHBlcnMnKTtcblxuICBTb3VyY2VNYXAgPSByZXF1aXJlKCcuL3NvdXJjZW1hcCcpO1xuXG4gIGV4cG9ydHMuVkVSU0lPTiA9ICcxLjguMCc7XG5cbiAgZXhwb3J0cy5GSUxFX0VYVEVOU0lPTlMgPSBbJy5jb2ZmZWUnLCAnLmxpdGNvZmZlZScsICcuY29mZmVlLm1kJ107XG5cbiAgZXhwb3J0cy5oZWxwZXJzID0gaGVscGVycztcblxuICB3aXRoUHJldHR5RXJyb3JzID0gZnVuY3Rpb24oZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oY29kZSwgb3B0aW9ucykge1xuICAgICAgdmFyIGVycjtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgY29kZSwgb3B0aW9ucyk7XG4gICAgICB9IGNhdGNoIChfZXJyb3IpIHtcbiAgICAgICAgZXJyID0gX2Vycm9yO1xuICAgICAgICB0aHJvdyBoZWxwZXJzLnVwZGF0ZVN5bnRheEVycm9yKGVyciwgY29kZSwgb3B0aW9ucy5maWxlbmFtZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBleHBvcnRzLmNvbXBpbGUgPSBjb21waWxlID0gd2l0aFByZXR0eUVycm9ycyhmdW5jdGlvbihjb2RlLCBvcHRpb25zKSB7XG4gICAgdmFyIGFuc3dlciwgY3VycmVudENvbHVtbiwgY3VycmVudExpbmUsIGV4dGVuZCwgZnJhZ21lbnQsIGZyYWdtZW50cywgaGVhZGVyLCBqcywgbWFwLCBtZXJnZSwgbmV3TGluZXMsIF9pLCBfbGVuO1xuICAgIG1lcmdlID0gaGVscGVycy5tZXJnZSwgZXh0ZW5kID0gaGVscGVycy5leHRlbmQ7XG4gICAgb3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMuc291cmNlTWFwKSB7XG4gICAgICBtYXAgPSBuZXcgU291cmNlTWFwO1xuICAgIH1cbiAgICBmcmFnbWVudHMgPSBwYXJzZXIucGFyc2UobGV4ZXIudG9rZW5pemUoY29kZSwgb3B0aW9ucykpLmNvbXBpbGVUb0ZyYWdtZW50cyhvcHRpb25zKTtcbiAgICBjdXJyZW50TGluZSA9IDA7XG4gICAgaWYgKG9wdGlvbnMuaGVhZGVyKSB7XG4gICAgICBjdXJyZW50TGluZSArPSAxO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5zaGlmdExpbmUpIHtcbiAgICAgIGN1cnJlbnRMaW5lICs9IDE7XG4gICAgfVxuICAgIGN1cnJlbnRDb2x1bW4gPSAwO1xuICAgIGpzID0gXCJcIjtcbiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IGZyYWdtZW50cy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgZnJhZ21lbnQgPSBmcmFnbWVudHNbX2ldO1xuICAgICAgaWYgKG9wdGlvbnMuc291cmNlTWFwKSB7XG4gICAgICAgIGlmIChmcmFnbWVudC5sb2NhdGlvbkRhdGEpIHtcbiAgICAgICAgICBtYXAuYWRkKFtmcmFnbWVudC5sb2NhdGlvbkRhdGEuZmlyc3RfbGluZSwgZnJhZ21lbnQubG9jYXRpb25EYXRhLmZpcnN0X2NvbHVtbl0sIFtjdXJyZW50TGluZSwgY3VycmVudENvbHVtbl0sIHtcbiAgICAgICAgICAgIG5vUmVwbGFjZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIG5ld0xpbmVzID0gaGVscGVycy5jb3VudChmcmFnbWVudC5jb2RlLCBcIlxcblwiKTtcbiAgICAgICAgY3VycmVudExpbmUgKz0gbmV3TGluZXM7XG4gICAgICAgIGlmIChuZXdMaW5lcykge1xuICAgICAgICAgIGN1cnJlbnRDb2x1bW4gPSBmcmFnbWVudC5jb2RlLmxlbmd0aCAtIChmcmFnbWVudC5jb2RlLmxhc3RJbmRleE9mKFwiXFxuXCIpICsgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudENvbHVtbiArPSBmcmFnbWVudC5jb2RlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAganMgKz0gZnJhZ21lbnQuY29kZTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuaGVhZGVyKSB7XG4gICAgICBoZWFkZXIgPSBcIkdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgXCIgKyB0aGlzLlZFUlNJT047XG4gICAgICBqcyA9IFwiLy8gXCIgKyBoZWFkZXIgKyBcIlxcblwiICsganM7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnNvdXJjZU1hcCkge1xuICAgICAgYW5zd2VyID0ge1xuICAgICAgICBqczoganNcbiAgICAgIH07XG4gICAgICBhbnN3ZXIuc291cmNlTWFwID0gbWFwO1xuICAgICAgYW5zd2VyLnYzU291cmNlTWFwID0gbWFwLmdlbmVyYXRlKG9wdGlvbnMsIGNvZGUpO1xuICAgICAgcmV0dXJuIGFuc3dlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGpzO1xuICAgIH1cbiAgfSk7XG5cbiAgZXhwb3J0cy50b2tlbnMgPSB3aXRoUHJldHR5RXJyb3JzKGZ1bmN0aW9uKGNvZGUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGV4ZXIudG9rZW5pemUoY29kZSwgb3B0aW9ucyk7XG4gIH0pO1xuXG4gIGV4cG9ydHMubm9kZXMgPSB3aXRoUHJldHR5RXJyb3JzKGZ1bmN0aW9uKHNvdXJjZSwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIHBhcnNlci5wYXJzZShsZXhlci50b2tlbml6ZShzb3VyY2UsIG9wdGlvbnMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHBhcnNlci5wYXJzZShzb3VyY2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgZXhwb3J0cy5ydW4gPSBmdW5jdGlvbihjb2RlLCBvcHRpb25zKSB7XG4gICAgdmFyIGFuc3dlciwgZGlyLCBtYWluTW9kdWxlLCBfcmVmO1xuICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgbWFpbk1vZHVsZSA9IHJlcXVpcmUubWFpbjtcbiAgICBtYWluTW9kdWxlLmZpbGVuYW1lID0gcHJvY2Vzcy5hcmd2WzFdID0gb3B0aW9ucy5maWxlbmFtZSA/IGZzLnJlYWxwYXRoU3luYyhvcHRpb25zLmZpbGVuYW1lKSA6ICcuJztcbiAgICBtYWluTW9kdWxlLm1vZHVsZUNhY2hlICYmIChtYWluTW9kdWxlLm1vZHVsZUNhY2hlID0ge30pO1xuICAgIGRpciA9IG9wdGlvbnMuZmlsZW5hbWUgPyBwYXRoLmRpcm5hbWUoZnMucmVhbHBhdGhTeW5jKG9wdGlvbnMuZmlsZW5hbWUpKSA6IGZzLnJlYWxwYXRoU3luYygnLicpO1xuICAgIG1haW5Nb2R1bGUucGF0aHMgPSByZXF1aXJlKCdtb2R1bGUnKS5fbm9kZU1vZHVsZVBhdGhzKGRpcik7XG4gICAgaWYgKCFoZWxwZXJzLmlzQ29mZmVlKG1haW5Nb2R1bGUuZmlsZW5hbWUpIHx8IHJlcXVpcmUuZXh0ZW5zaW9ucykge1xuICAgICAgYW5zd2VyID0gY29tcGlsZShjb2RlLCBvcHRpb25zKTtcbiAgICAgIGNvZGUgPSAoX3JlZiA9IGFuc3dlci5qcykgIT0gbnVsbCA/IF9yZWYgOiBhbnN3ZXI7XG4gICAgfVxuICAgIHJldHVybiBtYWluTW9kdWxlLl9jb21waWxlKGNvZGUsIG1haW5Nb2R1bGUuZmlsZW5hbWUpO1xuICB9O1xuXG4gIGV4cG9ydHNbXCJldmFsXCJdID0gZnVuY3Rpb24oY29kZSwgb3B0aW9ucykge1xuICAgIHZhciBNb2R1bGUsIFNjcmlwdCwganMsIGssIG8sIHIsIHNhbmRib3gsIHYsIF9pLCBfbGVuLCBfbW9kdWxlLCBfcmVmLCBfcmVmMSwgX3JlcXVpcmU7XG4gICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBpZiAoIShjb2RlID0gY29kZS50cmltKCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFNjcmlwdCA9IHZtLlNjcmlwdDtcbiAgICBpZiAoU2NyaXB0KSB7XG4gICAgICBpZiAob3B0aW9ucy5zYW5kYm94ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuc2FuZGJveCBpbnN0YW5jZW9mIFNjcmlwdC5jcmVhdGVDb250ZXh0KCkuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICBzYW5kYm94ID0gb3B0aW9ucy5zYW5kYm94O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNhbmRib3ggPSBTY3JpcHQuY3JlYXRlQ29udGV4dCgpO1xuICAgICAgICAgIF9yZWYgPSBvcHRpb25zLnNhbmRib3g7XG4gICAgICAgICAgZm9yIChrIGluIF9yZWYpIHtcbiAgICAgICAgICAgIGlmICghX19oYXNQcm9wLmNhbGwoX3JlZiwgaykpIGNvbnRpbnVlO1xuICAgICAgICAgICAgdiA9IF9yZWZba107XG4gICAgICAgICAgICBzYW5kYm94W2tdID0gdjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2FuZGJveC5nbG9iYWwgPSBzYW5kYm94LnJvb3QgPSBzYW5kYm94LkdMT0JBTCA9IHNhbmRib3g7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzYW5kYm94ID0gZ2xvYmFsO1xuICAgICAgfVxuICAgICAgc2FuZGJveC5fX2ZpbGVuYW1lID0gb3B0aW9ucy5maWxlbmFtZSB8fCAnZXZhbCc7XG4gICAgICBzYW5kYm94Ll9fZGlybmFtZSA9IHBhdGguZGlybmFtZShzYW5kYm94Ll9fZmlsZW5hbWUpO1xuICAgICAgaWYgKCEoc2FuZGJveCAhPT0gZ2xvYmFsIHx8IHNhbmRib3gubW9kdWxlIHx8IHNhbmRib3gucmVxdWlyZSkpIHtcbiAgICAgICAgTW9kdWxlID0gcmVxdWlyZSgnbW9kdWxlJyk7XG4gICAgICAgIHNhbmRib3gubW9kdWxlID0gX21vZHVsZSA9IG5ldyBNb2R1bGUob3B0aW9ucy5tb2R1bGVuYW1lIHx8ICdldmFsJyk7XG4gICAgICAgIHNhbmRib3gucmVxdWlyZSA9IF9yZXF1aXJlID0gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICAgIHJldHVybiBNb2R1bGUuX2xvYWQocGF0aCwgX21vZHVsZSwgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIF9tb2R1bGUuZmlsZW5hbWUgPSBzYW5kYm94Ll9fZmlsZW5hbWU7XG4gICAgICAgIF9yZWYxID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocmVxdWlyZSk7XG4gICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZjEubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICByID0gX3JlZjFbX2ldO1xuICAgICAgICAgIGlmIChyICE9PSAncGF0aHMnKSB7XG4gICAgICAgICAgICBfcmVxdWlyZVtyXSA9IHJlcXVpcmVbcl07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF9yZXF1aXJlLnBhdGhzID0gX21vZHVsZS5wYXRocyA9IE1vZHVsZS5fbm9kZU1vZHVsZVBhdGhzKHByb2Nlc3MuY3dkKCkpO1xuICAgICAgICBfcmVxdWlyZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybiBNb2R1bGUuX3Jlc29sdmVGaWxlbmFtZShyZXF1ZXN0LCBfbW9kdWxlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgbyA9IHt9O1xuICAgIGZvciAoayBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAoIV9faGFzUHJvcC5jYWxsKG9wdGlvbnMsIGspKSBjb250aW51ZTtcbiAgICAgIHYgPSBvcHRpb25zW2tdO1xuICAgICAgb1trXSA9IHY7XG4gICAgfVxuICAgIG8uYmFyZSA9IHRydWU7XG4gICAganMgPSBjb21waWxlKGNvZGUsIG8pO1xuICAgIGlmIChzYW5kYm94ID09PSBnbG9iYWwpIHtcbiAgICAgIHJldHVybiB2bS5ydW5JblRoaXNDb250ZXh0KGpzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLnJ1bkluQ29udGV4dChqcywgc2FuZGJveCk7XG4gICAgfVxuICB9O1xuXG4gIGV4cG9ydHMucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcmVxdWlyZSgnLi9yZWdpc3RlcicpO1xuICB9O1xuXG4gIGlmIChyZXF1aXJlLmV4dGVuc2lvbnMpIHtcbiAgICBfcmVmID0gdGhpcy5GSUxFX0VYVEVOU0lPTlM7XG4gICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICBleHQgPSBfcmVmW19pXTtcbiAgICAgIGlmICgoX2Jhc2UgPSByZXF1aXJlLmV4dGVuc2lvbnMpW2V4dF0gPT0gbnVsbCkge1xuICAgICAgICBfYmFzZVtleHRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXNlIENvZmZlZVNjcmlwdC5yZWdpc3RlcigpIG9yIHJlcXVpcmUgdGhlIGNvZmZlZS1zY3JpcHQvcmVnaXN0ZXIgbW9kdWxlIHRvIHJlcXVpcmUgXCIgKyBleHQgKyBcIiBmaWxlcy5cIik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZXhwb3J0cy5fY29tcGlsZUZpbGUgPSBmdW5jdGlvbihmaWxlbmFtZSwgc291cmNlTWFwKSB7XG4gICAgdmFyIGFuc3dlciwgZXJyLCByYXcsIHN0cmlwcGVkO1xuICAgIGlmIChzb3VyY2VNYXAgPT0gbnVsbCkge1xuICAgICAgc291cmNlTWFwID0gZmFsc2U7XG4gICAgfVxuICAgIHJhdyA9IGZzLnJlYWRGaWxlU3luYyhmaWxlbmFtZSwgJ3V0ZjgnKTtcbiAgICBzdHJpcHBlZCA9IHJhdy5jaGFyQ29kZUF0KDApID09PSAweEZFRkYgPyByYXcuc3Vic3RyaW5nKDEpIDogcmF3O1xuICAgIHRyeSB7XG4gICAgICBhbnN3ZXIgPSBjb21waWxlKHN0cmlwcGVkLCB7XG4gICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZSxcbiAgICAgICAgc291cmNlTWFwOiBzb3VyY2VNYXAsXG4gICAgICAgIGxpdGVyYXRlOiBoZWxwZXJzLmlzTGl0ZXJhdGUoZmlsZW5hbWUpXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChfZXJyb3IpIHtcbiAgICAgIGVyciA9IF9lcnJvcjtcbiAgICAgIHRocm93IGhlbHBlcnMudXBkYXRlU3ludGF4RXJyb3IoZXJyLCBzdHJpcHBlZCwgZmlsZW5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gYW5zd2VyO1xuICB9O1xuXG4gIGxleGVyID0gbmV3IExleGVyO1xuXG4gIHBhcnNlci5sZXhlciA9IHtcbiAgICBsZXg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHRhZywgdG9rZW47XG4gICAgICB0b2tlbiA9IHRoaXMudG9rZW5zW3RoaXMucG9zKytdO1xuICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgIHRhZyA9IHRva2VuWzBdLCB0aGlzLnl5dGV4dCA9IHRva2VuWzFdLCB0aGlzLnl5bGxvYyA9IHRva2VuWzJdO1xuICAgICAgICB0aGlzLmVycm9yVG9rZW4gPSB0b2tlbi5vcmlnaW4gfHwgdG9rZW47XG4gICAgICAgIHRoaXMueXlsaW5lbm8gPSB0aGlzLnl5bGxvYy5maXJzdF9saW5lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFnID0gJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFnO1xuICAgIH0sXG4gICAgc2V0SW5wdXQ6IGZ1bmN0aW9uKHRva2Vucykge1xuICAgICAgdGhpcy50b2tlbnMgPSB0b2tlbnM7XG4gICAgICByZXR1cm4gdGhpcy5wb3MgPSAwO1xuICAgIH0sXG4gICAgdXBjb21pbmdJbnB1dDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gIH07XG5cbiAgcGFyc2VyLnl5ID0gcmVxdWlyZSgnLi9ub2RlcycpO1xuXG4gIHBhcnNlci55eS5wYXJzZUVycm9yID0gZnVuY3Rpb24obWVzc2FnZSwgX2FyZykge1xuICAgIHZhciBlcnJvckxvYywgZXJyb3JUYWcsIGVycm9yVGV4dCwgZXJyb3JUb2tlbiwgdG9rZW4sIHRva2VucywgX3JlZjE7XG4gICAgdG9rZW4gPSBfYXJnLnRva2VuO1xuICAgIF9yZWYxID0gcGFyc2VyLmxleGVyLCBlcnJvclRva2VuID0gX3JlZjEuZXJyb3JUb2tlbiwgdG9rZW5zID0gX3JlZjEudG9rZW5zO1xuICAgIGVycm9yVGFnID0gZXJyb3JUb2tlblswXSwgZXJyb3JUZXh0ID0gZXJyb3JUb2tlblsxXSwgZXJyb3JMb2MgPSBlcnJvclRva2VuWzJdO1xuICAgIGVycm9yVGV4dCA9IGVycm9yVG9rZW4gPT09IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV0gPyAnZW5kIG9mIGlucHV0JyA6IGVycm9yVGFnID09PSAnSU5ERU5UJyB8fCBlcnJvclRhZyA9PT0gJ09VVERFTlQnID8gJ2luZGVudGF0aW9uJyA6IGhlbHBlcnMubmFtZVdoaXRlc3BhY2VDaGFyYWN0ZXIoZXJyb3JUZXh0KTtcbiAgICByZXR1cm4gaGVscGVycy50aHJvd1N5bnRheEVycm9yKFwidW5leHBlY3RlZCBcIiArIGVycm9yVGV4dCwgZXJyb3JMb2MpO1xuICB9O1xuXG4gIGZvcm1hdFNvdXJjZVBvc2l0aW9uID0gZnVuY3Rpb24oZnJhbWUsIGdldFNvdXJjZU1hcHBpbmcpIHtcbiAgICB2YXIgYXMsIGNvbHVtbiwgZmlsZUxvY2F0aW9uLCBmaWxlTmFtZSwgZnVuY3Rpb25OYW1lLCBpc0NvbnN0cnVjdG9yLCBpc01ldGhvZENhbGwsIGxpbmUsIG1ldGhvZE5hbWUsIHNvdXJjZSwgdHAsIHR5cGVOYW1lO1xuICAgIGZpbGVOYW1lID0gdm9pZCAwO1xuICAgIGZpbGVMb2NhdGlvbiA9ICcnO1xuICAgIGlmIChmcmFtZS5pc05hdGl2ZSgpKSB7XG4gICAgICBmaWxlTG9jYXRpb24gPSBcIm5hdGl2ZVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZnJhbWUuaXNFdmFsKCkpIHtcbiAgICAgICAgZmlsZU5hbWUgPSBmcmFtZS5nZXRTY3JpcHROYW1lT3JTb3VyY2VVUkwoKTtcbiAgICAgICAgaWYgKCFmaWxlTmFtZSkge1xuICAgICAgICAgIGZpbGVMb2NhdGlvbiA9IFwiXCIgKyAoZnJhbWUuZ2V0RXZhbE9yaWdpbigpKSArIFwiLCBcIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsZU5hbWUgPSBmcmFtZS5nZXRGaWxlTmFtZSgpO1xuICAgICAgfVxuICAgICAgZmlsZU5hbWUgfHwgKGZpbGVOYW1lID0gXCI8YW5vbnltb3VzPlwiKTtcbiAgICAgIGxpbmUgPSBmcmFtZS5nZXRMaW5lTnVtYmVyKCk7XG4gICAgICBjb2x1bW4gPSBmcmFtZS5nZXRDb2x1bW5OdW1iZXIoKTtcbiAgICAgIHNvdXJjZSA9IGdldFNvdXJjZU1hcHBpbmcoZmlsZU5hbWUsIGxpbmUsIGNvbHVtbik7XG4gICAgICBmaWxlTG9jYXRpb24gPSBzb3VyY2UgPyBcIlwiICsgZmlsZU5hbWUgKyBcIjpcIiArIHNvdXJjZVswXSArIFwiOlwiICsgc291cmNlWzFdIDogXCJcIiArIGZpbGVOYW1lICsgXCI6XCIgKyBsaW5lICsgXCI6XCIgKyBjb2x1bW47XG4gICAgfVxuICAgIGZ1bmN0aW9uTmFtZSA9IGZyYW1lLmdldEZ1bmN0aW9uTmFtZSgpO1xuICAgIGlzQ29uc3RydWN0b3IgPSBmcmFtZS5pc0NvbnN0cnVjdG9yKCk7XG4gICAgaXNNZXRob2RDYWxsID0gIShmcmFtZS5pc1RvcGxldmVsKCkgfHwgaXNDb25zdHJ1Y3Rvcik7XG4gICAgaWYgKGlzTWV0aG9kQ2FsbCkge1xuICAgICAgbWV0aG9kTmFtZSA9IGZyYW1lLmdldE1ldGhvZE5hbWUoKTtcbiAgICAgIHR5cGVOYW1lID0gZnJhbWUuZ2V0VHlwZU5hbWUoKTtcbiAgICAgIGlmIChmdW5jdGlvbk5hbWUpIHtcbiAgICAgICAgdHAgPSBhcyA9ICcnO1xuICAgICAgICBpZiAodHlwZU5hbWUgJiYgZnVuY3Rpb25OYW1lLmluZGV4T2YodHlwZU5hbWUpKSB7XG4gICAgICAgICAgdHAgPSBcIlwiICsgdHlwZU5hbWUgKyBcIi5cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWV0aG9kTmFtZSAmJiBmdW5jdGlvbk5hbWUuaW5kZXhPZihcIi5cIiArIG1ldGhvZE5hbWUpICE9PSBmdW5jdGlvbk5hbWUubGVuZ3RoIC0gbWV0aG9kTmFtZS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgYXMgPSBcIiBbYXMgXCIgKyBtZXRob2ROYW1lICsgXCJdXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiXCIgKyB0cCArIGZ1bmN0aW9uTmFtZSArIGFzICsgXCIgKFwiICsgZmlsZUxvY2F0aW9uICsgXCIpXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJcIiArIHR5cGVOYW1lICsgXCIuXCIgKyAobWV0aG9kTmFtZSB8fCAnPGFub255bW91cz4nKSArIFwiIChcIiArIGZpbGVMb2NhdGlvbiArIFwiKVwiO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNDb25zdHJ1Y3Rvcikge1xuICAgICAgcmV0dXJuIFwibmV3IFwiICsgKGZ1bmN0aW9uTmFtZSB8fCAnPGFub255bW91cz4nKSArIFwiIChcIiArIGZpbGVMb2NhdGlvbiArIFwiKVwiO1xuICAgIH0gZWxzZSBpZiAoZnVuY3Rpb25OYW1lKSB7XG4gICAgICByZXR1cm4gXCJcIiArIGZ1bmN0aW9uTmFtZSArIFwiIChcIiArIGZpbGVMb2NhdGlvbiArIFwiKVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmlsZUxvY2F0aW9uO1xuICAgIH1cbiAgfTtcblxuICBzb3VyY2VNYXBzID0ge307XG5cbiAgZ2V0U291cmNlTWFwID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgICB2YXIgYW5zd2VyLCBfcmVmMTtcbiAgICBpZiAoc291cmNlTWFwc1tmaWxlbmFtZV0pIHtcbiAgICAgIHJldHVybiBzb3VyY2VNYXBzW2ZpbGVuYW1lXTtcbiAgICB9XG4gICAgaWYgKF9yZWYxID0gcGF0aCAhPSBudWxsID8gcGF0aC5leHRuYW1lKGZpbGVuYW1lKSA6IHZvaWQgMCwgX19pbmRleE9mLmNhbGwoZXhwb3J0cy5GSUxFX0VYVEVOU0lPTlMsIF9yZWYxKSA8IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYW5zd2VyID0gZXhwb3J0cy5fY29tcGlsZUZpbGUoZmlsZW5hbWUsIHRydWUpO1xuICAgIHJldHVybiBzb3VyY2VNYXBzW2ZpbGVuYW1lXSA9IGFuc3dlci5zb3VyY2VNYXA7XG4gIH07XG5cbiAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBmdW5jdGlvbihlcnIsIHN0YWNrKSB7XG4gICAgdmFyIGZyYW1lLCBmcmFtZXMsIGdldFNvdXJjZU1hcHBpbmc7XG4gICAgZ2V0U291cmNlTWFwcGluZyA9IGZ1bmN0aW9uKGZpbGVuYW1lLCBsaW5lLCBjb2x1bW4pIHtcbiAgICAgIHZhciBhbnN3ZXIsIHNvdXJjZU1hcDtcbiAgICAgIHNvdXJjZU1hcCA9IGdldFNvdXJjZU1hcChmaWxlbmFtZSk7XG4gICAgICBpZiAoc291cmNlTWFwKSB7XG4gICAgICAgIGFuc3dlciA9IHNvdXJjZU1hcC5zb3VyY2VMb2NhdGlvbihbbGluZSAtIDEsIGNvbHVtbiAtIDFdKTtcbiAgICAgIH1cbiAgICAgIGlmIChhbnN3ZXIpIHtcbiAgICAgICAgcmV0dXJuIFthbnN3ZXJbMF0gKyAxLCBhbnN3ZXJbMV0gKyAxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH07XG4gICAgZnJhbWVzID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF9qLCBfbGVuMSwgX3Jlc3VsdHM7XG4gICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChfaiA9IDAsIF9sZW4xID0gc3RhY2subGVuZ3RoOyBfaiA8IF9sZW4xOyBfaisrKSB7XG4gICAgICAgIGZyYW1lID0gc3RhY2tbX2pdO1xuICAgICAgICBpZiAoZnJhbWUuZ2V0RnVuY3Rpb24oKSA9PT0gZXhwb3J0cy5ydW4pIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBfcmVzdWx0cy5wdXNoKFwiICBhdCBcIiArIChmb3JtYXRTb3VyY2VQb3NpdGlvbihmcmFtZSwgZ2V0U291cmNlTWFwcGluZykpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICB9KSgpO1xuICAgIHJldHVybiBcIlwiICsgKGVyci50b1N0cmluZygpKSArIFwiXFxuXCIgKyAoZnJhbWVzLmpvaW4oJ1xcbicpKSArIFwiXFxuXCI7XG4gIH07XG5cbn0pLmNhbGwodGhpcyk7XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwiKGZ1bmN0aW9uIChwcm9jZXNzKXtcbi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS44LjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIGJ1aWxkTG9jYXRpb25EYXRhLCBleHRlbmQsIGZsYXR0ZW4sIGxhc3QsIHJlcGVhdCwgc3ludGF4RXJyb3JUb1N0cmluZywgX3JlZjtcblxuICBleHBvcnRzLnN0YXJ0cyA9IGZ1bmN0aW9uKHN0cmluZywgbGl0ZXJhbCwgc3RhcnQpIHtcbiAgICByZXR1cm4gbGl0ZXJhbCA9PT0gc3RyaW5nLnN1YnN0cihzdGFydCwgbGl0ZXJhbC5sZW5ndGgpO1xuICB9O1xuXG4gIGV4cG9ydHMuZW5kcyA9IGZ1bmN0aW9uKHN0cmluZywgbGl0ZXJhbCwgYmFjaykge1xuICAgIHZhciBsZW47XG4gICAgbGVuID0gbGl0ZXJhbC5sZW5ndGg7XG4gICAgcmV0dXJuIGxpdGVyYWwgPT09IHN0cmluZy5zdWJzdHIoc3RyaW5nLmxlbmd0aCAtIGxlbiAtIChiYWNrIHx8IDApLCBsZW4pO1xuICB9O1xuXG4gIGV4cG9ydHMucmVwZWF0ID0gcmVwZWF0ID0gZnVuY3Rpb24oc3RyLCBuKSB7XG4gICAgdmFyIHJlcztcbiAgICByZXMgPSAnJztcbiAgICB3aGlsZSAobiA+IDApIHtcbiAgICAgIGlmIChuICYgMSkge1xuICAgICAgICByZXMgKz0gc3RyO1xuICAgICAgfVxuICAgICAgbiA+Pj49IDE7XG4gICAgICBzdHIgKz0gc3RyO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIGV4cG9ydHMuY29tcGFjdCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIGl0ZW0sIF9pLCBfbGVuLCBfcmVzdWx0cztcbiAgICBfcmVzdWx0cyA9IFtdO1xuICAgIGZvciAoX2kgPSAwLCBfbGVuID0gYXJyYXkubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgIGl0ZW0gPSBhcnJheVtfaV07XG4gICAgICBpZiAoaXRlbSkge1xuICAgICAgICBfcmVzdWx0cy5wdXNoKGl0ZW0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3Jlc3VsdHM7XG4gIH07XG5cbiAgZXhwb3J0cy5jb3VudCA9IGZ1bmN0aW9uKHN0cmluZywgc3Vic3RyKSB7XG4gICAgdmFyIG51bSwgcG9zO1xuICAgIG51bSA9IHBvcyA9IDA7XG4gICAgaWYgKCFzdWJzdHIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gMSAvIDA7XG4gICAgfVxuICAgIHdoaWxlIChwb3MgPSAxICsgc3RyaW5nLmluZGV4T2Yoc3Vic3RyLCBwb3MpKSB7XG4gICAgICBudW0rKztcbiAgICB9XG4gICAgcmV0dXJuIG51bTtcbiAgfTtcblxuICBleHBvcnRzLm1lcmdlID0gZnVuY3Rpb24ob3B0aW9ucywgb3ZlcnJpZGVzKSB7XG4gICAgcmV0dXJuIGV4dGVuZChleHRlbmQoe30sIG9wdGlvbnMpLCBvdmVycmlkZXMpO1xuICB9O1xuXG4gIGV4dGVuZCA9IGV4cG9ydHMuZXh0ZW5kID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIGtleSwgdmFsO1xuICAgIGZvciAoa2V5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhbCA9IHByb3BlcnRpZXNba2V5XTtcbiAgICAgIG9iamVjdFtrZXldID0gdmFsO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9O1xuXG4gIGV4cG9ydHMuZmxhdHRlbiA9IGZsYXR0ZW4gPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciBlbGVtZW50LCBmbGF0dGVuZWQsIF9pLCBfbGVuO1xuICAgIGZsYXR0ZW5lZCA9IFtdO1xuICAgIGZvciAoX2kgPSAwLCBfbGVuID0gYXJyYXkubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgIGVsZW1lbnQgPSBhcnJheVtfaV07XG4gICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIGZsYXR0ZW5lZCA9IGZsYXR0ZW5lZC5jb25jYXQoZmxhdHRlbihlbGVtZW50KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbGF0dGVuZWQucHVzaChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZsYXR0ZW5lZDtcbiAgfTtcblxuICBleHBvcnRzLmRlbCA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgdmFyIHZhbDtcbiAgICB2YWwgPSBvYmpba2V5XTtcbiAgICBkZWxldGUgb2JqW2tleV07XG4gICAgcmV0dXJuIHZhbDtcbiAgfTtcblxuICBleHBvcnRzLmxhc3QgPSBsYXN0ID0gZnVuY3Rpb24oYXJyYXksIGJhY2spIHtcbiAgICByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gKGJhY2sgfHwgMCkgLSAxXTtcbiAgfTtcblxuICBleHBvcnRzLnNvbWUgPSAoX3JlZiA9IEFycmF5LnByb3RvdHlwZS5zb21lKSAhPSBudWxsID8gX3JlZiA6IGZ1bmN0aW9uKGZuKSB7XG4gICAgdmFyIGUsIF9pLCBfbGVuO1xuICAgIGZvciAoX2kgPSAwLCBfbGVuID0gdGhpcy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgZSA9IHRoaXNbX2ldO1xuICAgICAgaWYgKGZuKGUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZXhwb3J0cy5pbnZlcnRMaXRlcmF0ZSA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgbGluZSwgbGluZXMsIG1heWJlX2NvZGU7XG4gICAgbWF5YmVfY29kZSA9IHRydWU7XG4gICAgbGluZXMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgX2ksIF9sZW4sIF9yZWYxLCBfcmVzdWx0cztcbiAgICAgIF9yZWYxID0gY29kZS5zcGxpdCgnXFxuJyk7XG4gICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmMS5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBsaW5lID0gX3JlZjFbX2ldO1xuICAgICAgICBpZiAobWF5YmVfY29kZSAmJiAvXihbIF17NH18WyBdezAsM31cXHQpLy50ZXN0KGxpbmUpKSB7XG4gICAgICAgICAgX3Jlc3VsdHMucHVzaChsaW5lKTtcbiAgICAgICAgfSBlbHNlIGlmIChtYXliZV9jb2RlID0gL15cXHMqJC8udGVzdChsaW5lKSkge1xuICAgICAgICAgIF9yZXN1bHRzLnB1c2gobGluZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3Jlc3VsdHMucHVzaCgnIyAnICsgbGluZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICB9KSgpO1xuICAgIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKTtcbiAgfTtcblxuICBidWlsZExvY2F0aW9uRGF0YSA9IGZ1bmN0aW9uKGZpcnN0LCBsYXN0KSB7XG4gICAgaWYgKCFsYXN0KSB7XG4gICAgICByZXR1cm4gZmlyc3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGZpcnN0X2xpbmU6IGZpcnN0LmZpcnN0X2xpbmUsXG4gICAgICAgIGZpcnN0X2NvbHVtbjogZmlyc3QuZmlyc3RfY29sdW1uLFxuICAgICAgICBsYXN0X2xpbmU6IGxhc3QubGFzdF9saW5lLFxuICAgICAgICBsYXN0X2NvbHVtbjogbGFzdC5sYXN0X2NvbHVtblxuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgZXhwb3J0cy5hZGRMb2NhdGlvbkRhdGFGbiA9IGZ1bmN0aW9uKGZpcnN0LCBsYXN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgaWYgKCgodHlwZW9mIG9iaikgPT09ICdvYmplY3QnKSAmJiAoISFvYmpbJ3VwZGF0ZUxvY2F0aW9uRGF0YUlmTWlzc2luZyddKSkge1xuICAgICAgICBvYmoudXBkYXRlTG9jYXRpb25EYXRhSWZNaXNzaW5nKGJ1aWxkTG9jYXRpb25EYXRhKGZpcnN0LCBsYXN0KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gIH07XG5cbiAgZXhwb3J0cy5sb2NhdGlvbkRhdGFUb1N0cmluZyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBsb2NhdGlvbkRhdGE7XG4gICAgaWYgKChcIjJcIiBpbiBvYmopICYmIChcImZpcnN0X2xpbmVcIiBpbiBvYmpbMl0pKSB7XG4gICAgICBsb2NhdGlvbkRhdGEgPSBvYmpbMl07XG4gICAgfSBlbHNlIGlmIChcImZpcnN0X2xpbmVcIiBpbiBvYmopIHtcbiAgICAgIGxvY2F0aW9uRGF0YSA9IG9iajtcbiAgICB9XG4gICAgaWYgKGxvY2F0aW9uRGF0YSkge1xuICAgICAgcmV0dXJuIChcIlwiICsgKGxvY2F0aW9uRGF0YS5maXJzdF9saW5lICsgMSkgKyBcIjpcIiArIChsb2NhdGlvbkRhdGEuZmlyc3RfY29sdW1uICsgMSkgKyBcIi1cIikgKyAoXCJcIiArIChsb2NhdGlvbkRhdGEubGFzdF9saW5lICsgMSkgKyBcIjpcIiArIChsb2NhdGlvbkRhdGEubGFzdF9jb2x1bW4gKyAxKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIk5vIGxvY2F0aW9uIGRhdGFcIjtcbiAgICB9XG4gIH07XG5cbiAgZXhwb3J0cy5iYXNlRmlsZU5hbWUgPSBmdW5jdGlvbihmaWxlLCBzdHJpcEV4dCwgdXNlV2luUGF0aFNlcCkge1xuICAgIHZhciBwYXJ0cywgcGF0aFNlcDtcbiAgICBpZiAoc3RyaXBFeHQgPT0gbnVsbCkge1xuICAgICAgc3RyaXBFeHQgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHVzZVdpblBhdGhTZXAgPT0gbnVsbCkge1xuICAgICAgdXNlV2luUGF0aFNlcCA9IGZhbHNlO1xuICAgIH1cbiAgICBwYXRoU2VwID0gdXNlV2luUGF0aFNlcCA/IC9cXFxcfFxcLy8gOiAvXFwvLztcbiAgICBwYXJ0cyA9IGZpbGUuc3BsaXQocGF0aFNlcCk7XG4gICAgZmlsZSA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGlmICghKHN0cmlwRXh0ICYmIGZpbGUuaW5kZXhPZignLicpID49IDApKSB7XG4gICAgICByZXR1cm4gZmlsZTtcbiAgICB9XG4gICAgcGFydHMgPSBmaWxlLnNwbGl0KCcuJyk7XG4gICAgcGFydHMucG9wKCk7XG4gICAgaWYgKHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdID09PSAnY29mZmVlJyAmJiBwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICBwYXJ0cy5wb3AoKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnRzLmpvaW4oJy4nKTtcbiAgfTtcblxuICBleHBvcnRzLmlzQ29mZmVlID0gZnVuY3Rpb24oZmlsZSkge1xuICAgIHJldHVybiAvXFwuKChsaXQpP2NvZmZlZXxjb2ZmZWVcXC5tZCkkLy50ZXN0KGZpbGUpO1xuICB9O1xuXG4gIGV4cG9ydHMuaXNMaXRlcmF0ZSA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgICByZXR1cm4gL1xcLihsaXRjb2ZmZWV8Y29mZmVlXFwubWQpJC8udGVzdChmaWxlKTtcbiAgfTtcblxuICBleHBvcnRzLnRocm93U3ludGF4RXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlLCBsb2NhdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBlcnJvciA9IG5ldyBTeW50YXhFcnJvcihtZXNzYWdlKTtcbiAgICBlcnJvci5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgIGVycm9yLnRvU3RyaW5nID0gc3ludGF4RXJyb3JUb1N0cmluZztcbiAgICBlcnJvci5zdGFjayA9IGVycm9yLnRvU3RyaW5nKCk7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH07XG5cbiAgZXhwb3J0cy51cGRhdGVTeW50YXhFcnJvciA9IGZ1bmN0aW9uKGVycm9yLCBjb2RlLCBmaWxlbmFtZSkge1xuICAgIGlmIChlcnJvci50b1N0cmluZyA9PT0gc3ludGF4RXJyb3JUb1N0cmluZykge1xuICAgICAgZXJyb3IuY29kZSB8fCAoZXJyb3IuY29kZSA9IGNvZGUpO1xuICAgICAgZXJyb3IuZmlsZW5hbWUgfHwgKGVycm9yLmZpbGVuYW1lID0gZmlsZW5hbWUpO1xuICAgICAgZXJyb3Iuc3RhY2sgPSBlcnJvci50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3I7XG4gIH07XG5cbiAgc3ludGF4RXJyb3JUb1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb2RlTGluZSwgY29sb3JpemUsIGNvbG9yc0VuYWJsZWQsIGVuZCwgZmlsZW5hbWUsIGZpcnN0X2NvbHVtbiwgZmlyc3RfbGluZSwgbGFzdF9jb2x1bW4sIGxhc3RfbGluZSwgbWFya2VyLCBzdGFydCwgX3JlZjEsIF9yZWYyO1xuICAgIGlmICghKHRoaXMuY29kZSAmJiB0aGlzLmxvY2F0aW9uKSkge1xuICAgICAgcmV0dXJuIEVycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBfcmVmMSA9IHRoaXMubG9jYXRpb24sIGZpcnN0X2xpbmUgPSBfcmVmMS5maXJzdF9saW5lLCBmaXJzdF9jb2x1bW4gPSBfcmVmMS5maXJzdF9jb2x1bW4sIGxhc3RfbGluZSA9IF9yZWYxLmxhc3RfbGluZSwgbGFzdF9jb2x1bW4gPSBfcmVmMS5sYXN0X2NvbHVtbjtcbiAgICBpZiAobGFzdF9saW5lID09IG51bGwpIHtcbiAgICAgIGxhc3RfbGluZSA9IGZpcnN0X2xpbmU7XG4gICAgfVxuICAgIGlmIChsYXN0X2NvbHVtbiA9PSBudWxsKSB7XG4gICAgICBsYXN0X2NvbHVtbiA9IGZpcnN0X2NvbHVtbjtcbiAgICB9XG4gICAgZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lIHx8ICdbc3RkaW5dJztcbiAgICBjb2RlTGluZSA9IHRoaXMuY29kZS5zcGxpdCgnXFxuJylbZmlyc3RfbGluZV07XG4gICAgc3RhcnQgPSBmaXJzdF9jb2x1bW47XG4gICAgZW5kID0gZmlyc3RfbGluZSA9PT0gbGFzdF9saW5lID8gbGFzdF9jb2x1bW4gKyAxIDogY29kZUxpbmUubGVuZ3RoO1xuICAgIG1hcmtlciA9IGNvZGVMaW5lLnNsaWNlKDAsIHN0YXJ0KS5yZXBsYWNlKC9bXlxcc10vZywgJyAnKSArIHJlcGVhdCgnXicsIGVuZCAtIHN0YXJ0KTtcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2VzcyAhPT0gbnVsbCkge1xuICAgICAgY29sb3JzRW5hYmxlZCA9IHByb2Nlc3Muc3Rkb3V0LmlzVFRZICYmICFwcm9jZXNzLmVudi5OT0RFX0RJU0FCTEVfQ09MT1JTO1xuICAgIH1cbiAgICBpZiAoKF9yZWYyID0gdGhpcy5jb2xvcmZ1bCkgIT0gbnVsbCA/IF9yZWYyIDogY29sb3JzRW5hYmxlZCkge1xuICAgICAgY29sb3JpemUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgcmV0dXJuIFwiXFx4MUJbMTszMW1cIiArIHN0ciArIFwiXFx4MUJbMG1cIjtcbiAgICAgIH07XG4gICAgICBjb2RlTGluZSA9IGNvZGVMaW5lLnNsaWNlKDAsIHN0YXJ0KSArIGNvbG9yaXplKGNvZGVMaW5lLnNsaWNlKHN0YXJ0LCBlbmQpKSArIGNvZGVMaW5lLnNsaWNlKGVuZCk7XG4gICAgICBtYXJrZXIgPSBjb2xvcml6ZShtYXJrZXIpO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIiArIGZpbGVuYW1lICsgXCI6XCIgKyAoZmlyc3RfbGluZSArIDEpICsgXCI6XCIgKyAoZmlyc3RfY29sdW1uICsgMSkgKyBcIjogZXJyb3I6IFwiICsgdGhpcy5tZXNzYWdlICsgXCJcXG5cIiArIGNvZGVMaW5lICsgXCJcXG5cIiArIG1hcmtlcjtcbiAgfTtcblxuICBleHBvcnRzLm5hbWVXaGl0ZXNwYWNlQ2hhcmFjdGVyID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgc3dpdGNoIChzdHJpbmcpIHtcbiAgICAgIGNhc2UgJyAnOlxuICAgICAgICByZXR1cm4gJ3NwYWNlJztcbiAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgIHJldHVybiAnbmV3bGluZSc7XG4gICAgICBjYXNlICdcXHInOlxuICAgICAgICByZXR1cm4gJ2NhcnJpYWdlIHJldHVybic7XG4gICAgICBjYXNlICdcXHQnOlxuICAgICAgICByZXR1cm4gJ3RhYic7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgIH1cbiAgfTtcblxufSkuY2FsbCh0aGlzKTtcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJykpIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjguMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgQk9NLCBCT09MLCBDQUxMQUJMRSwgQ09ERSwgQ09GRkVFX0FMSUFTRVMsIENPRkZFRV9BTElBU19NQVAsIENPRkZFRV9LRVlXT1JEUywgQ09NTUVOVCwgQ09NUEFSRSwgQ09NUE9VTkRfQVNTSUdOLCBIRVJFRE9DLCBIRVJFRE9DX0lMTEVHQUwsIEhFUkVET0NfSU5ERU5ULCBIRVJFR0VYLCBIRVJFR0VYX09NSVQsIElERU5USUZJRVIsIElOREVOVEFCTEVfQ0xPU0VSUywgSU5ERVhBQkxFLCBJTlZFUlNFUywgSlNUT0tFTiwgSlNfRk9SQklEREVOLCBKU19LRVlXT1JEUywgTElORV9CUkVBSywgTElORV9DT05USU5VRVIsIExPR0lDLCBMZXhlciwgTUFUSCwgTVVMVElMSU5FUiwgTVVMVElfREVOVCwgTk9UX1JFR0VYLCBOT1RfU1BBQ0VEX1JFR0VYLCBOVU1CRVIsIE9QRVJBVE9SLCBSRUdFWCwgUkVMQVRJT04sIFJFU0VSVkVELCBSZXdyaXRlciwgU0hJRlQsIFNJTVBMRVNUUiwgU1RSSUNUX1BST1NDUklCRUQsIFRSQUlMSU5HX1NQQUNFUywgVU5BUlksIFVOQVJZX01BVEgsIFdISVRFU1BBQ0UsIGNvbXBhY3QsIGNvdW50LCBpbnZlcnRMaXRlcmF0ZSwga2V5LCBsYXN0LCBsb2NhdGlvbkRhdGFUb1N0cmluZywgcmVwZWF0LCBzdGFydHMsIHRocm93U3ludGF4RXJyb3IsIF9yZWYsIF9yZWYxLFxuICAgIF9faW5kZXhPZiA9IFtdLmluZGV4T2YgfHwgZnVuY3Rpb24oaXRlbSkgeyBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7IGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkgcmV0dXJuIGk7IH0gcmV0dXJuIC0xOyB9O1xuXG4gIF9yZWYgPSByZXF1aXJlKCcuL3Jld3JpdGVyJyksIFJld3JpdGVyID0gX3JlZi5SZXdyaXRlciwgSU5WRVJTRVMgPSBfcmVmLklOVkVSU0VTO1xuXG4gIF9yZWYxID0gcmVxdWlyZSgnLi9oZWxwZXJzJyksIGNvdW50ID0gX3JlZjEuY291bnQsIHN0YXJ0cyA9IF9yZWYxLnN0YXJ0cywgY29tcGFjdCA9IF9yZWYxLmNvbXBhY3QsIGxhc3QgPSBfcmVmMS5sYXN0LCByZXBlYXQgPSBfcmVmMS5yZXBlYXQsIGludmVydExpdGVyYXRlID0gX3JlZjEuaW52ZXJ0TGl0ZXJhdGUsIGxvY2F0aW9uRGF0YVRvU3RyaW5nID0gX3JlZjEubG9jYXRpb25EYXRhVG9TdHJpbmcsIHRocm93U3ludGF4RXJyb3IgPSBfcmVmMS50aHJvd1N5bnRheEVycm9yO1xuXG4gIGV4cG9ydHMuTGV4ZXIgPSBMZXhlciA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBMZXhlcigpIHt9XG5cbiAgICBMZXhlci5wcm90b3R5cGUudG9rZW5pemUgPSBmdW5jdGlvbihjb2RlLCBvcHRzKSB7XG4gICAgICB2YXIgY29uc3VtZWQsIGksIHRhZywgX3JlZjI7XG4gICAgICBpZiAob3B0cyA9PSBudWxsKSB7XG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICAgIH1cbiAgICAgIHRoaXMubGl0ZXJhdGUgPSBvcHRzLmxpdGVyYXRlO1xuICAgICAgdGhpcy5pbmRlbnQgPSAwO1xuICAgICAgdGhpcy5iYXNlSW5kZW50ID0gMDtcbiAgICAgIHRoaXMuaW5kZWJ0ID0gMDtcbiAgICAgIHRoaXMub3V0ZGVidCA9IDA7XG4gICAgICB0aGlzLmluZGVudHMgPSBbXTtcbiAgICAgIHRoaXMuZW5kcyA9IFtdO1xuICAgICAgdGhpcy50b2tlbnMgPSBbXTtcbiAgICAgIHRoaXMuY2h1bmtMaW5lID0gb3B0cy5saW5lIHx8IDA7XG4gICAgICB0aGlzLmNodW5rQ29sdW1uID0gb3B0cy5jb2x1bW4gfHwgMDtcbiAgICAgIGNvZGUgPSB0aGlzLmNsZWFuKGNvZGUpO1xuICAgICAgaSA9IDA7XG4gICAgICB3aGlsZSAodGhpcy5jaHVuayA9IGNvZGUuc2xpY2UoaSkpIHtcbiAgICAgICAgY29uc3VtZWQgPSB0aGlzLmlkZW50aWZpZXJUb2tlbigpIHx8IHRoaXMuY29tbWVudFRva2VuKCkgfHwgdGhpcy53aGl0ZXNwYWNlVG9rZW4oKSB8fCB0aGlzLmxpbmVUb2tlbigpIHx8IHRoaXMuaGVyZWRvY1Rva2VuKCkgfHwgdGhpcy5zdHJpbmdUb2tlbigpIHx8IHRoaXMubnVtYmVyVG9rZW4oKSB8fCB0aGlzLnJlZ2V4VG9rZW4oKSB8fCB0aGlzLmpzVG9rZW4oKSB8fCB0aGlzLmxpdGVyYWxUb2tlbigpO1xuICAgICAgICBfcmVmMiA9IHRoaXMuZ2V0TGluZUFuZENvbHVtbkZyb21DaHVuayhjb25zdW1lZCksIHRoaXMuY2h1bmtMaW5lID0gX3JlZjJbMF0sIHRoaXMuY2h1bmtDb2x1bW4gPSBfcmVmMlsxXTtcbiAgICAgICAgaSArPSBjb25zdW1lZDtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2xvc2VJbmRlbnRhdGlvbigpO1xuICAgICAgaWYgKHRhZyA9IHRoaXMuZW5kcy5wb3AoKSkge1xuICAgICAgICB0aGlzLmVycm9yKFwibWlzc2luZyBcIiArIHRhZyk7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5yZXdyaXRlID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbnM7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG5ldyBSZXdyaXRlcikucmV3cml0ZSh0aGlzLnRva2Vucyk7XG4gICAgfTtcblxuICAgIExleGVyLnByb3RvdHlwZS5jbGVhbiA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICAgIGlmIChjb2RlLmNoYXJDb2RlQXQoMCkgPT09IEJPTSkge1xuICAgICAgICBjb2RlID0gY29kZS5zbGljZSgxKTtcbiAgICAgIH1cbiAgICAgIGNvZGUgPSBjb2RlLnJlcGxhY2UoL1xcci9nLCAnJykucmVwbGFjZShUUkFJTElOR19TUEFDRVMsICcnKTtcbiAgICAgIGlmIChXSElURVNQQUNFLnRlc3QoY29kZSkpIHtcbiAgICAgICAgY29kZSA9IFwiXFxuXCIgKyBjb2RlO1xuICAgICAgICB0aGlzLmNodW5rTGluZS0tO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMubGl0ZXJhdGUpIHtcbiAgICAgICAgY29kZSA9IGludmVydExpdGVyYXRlKGNvZGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfTtcblxuICAgIExleGVyLnByb3RvdHlwZS5pZGVudGlmaWVyVG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjb2xvbiwgY29sb25PZmZzZXQsIGZvcmNlZElkZW50aWZpZXIsIGlkLCBpZExlbmd0aCwgaW5wdXQsIG1hdGNoLCBwb3BwZWRUb2tlbiwgcHJldiwgdGFnLCB0YWdUb2tlbiwgX3JlZjIsIF9yZWYzLCBfcmVmNDtcbiAgICAgIGlmICghKG1hdGNoID0gSURFTlRJRklFUi5leGVjKHRoaXMuY2h1bmspKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlucHV0ID0gbWF0Y2hbMF0sIGlkID0gbWF0Y2hbMV0sIGNvbG9uID0gbWF0Y2hbMl07XG4gICAgICBpZExlbmd0aCA9IGlkLmxlbmd0aDtcbiAgICAgIHBvcHBlZFRva2VuID0gdm9pZCAwO1xuICAgICAgaWYgKGlkID09PSAnb3duJyAmJiB0aGlzLnRhZygpID09PSAnRk9SJykge1xuICAgICAgICB0aGlzLnRva2VuKCdPV04nLCBpZCk7XG4gICAgICAgIHJldHVybiBpZC5sZW5ndGg7XG4gICAgICB9XG4gICAgICBmb3JjZWRJZGVudGlmaWVyID0gY29sb24gfHwgKHByZXYgPSBsYXN0KHRoaXMudG9rZW5zKSkgJiYgKCgoX3JlZjIgPSBwcmV2WzBdKSA9PT0gJy4nIHx8IF9yZWYyID09PSAnPy4nIHx8IF9yZWYyID09PSAnOjonIHx8IF9yZWYyID09PSAnPzo6JykgfHwgIXByZXYuc3BhY2VkICYmIHByZXZbMF0gPT09ICdAJyk7XG4gICAgICB0YWcgPSAnSURFTlRJRklFUic7XG4gICAgICBpZiAoIWZvcmNlZElkZW50aWZpZXIgJiYgKF9faW5kZXhPZi5jYWxsKEpTX0tFWVdPUkRTLCBpZCkgPj0gMCB8fCBfX2luZGV4T2YuY2FsbChDT0ZGRUVfS0VZV09SRFMsIGlkKSA+PSAwKSkge1xuICAgICAgICB0YWcgPSBpZC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAodGFnID09PSAnV0hFTicgJiYgKF9yZWYzID0gdGhpcy50YWcoKSwgX19pbmRleE9mLmNhbGwoTElORV9CUkVBSywgX3JlZjMpID49IDApKSB7XG4gICAgICAgICAgdGFnID0gJ0xFQURJTkdfV0hFTic7XG4gICAgICAgIH0gZWxzZSBpZiAodGFnID09PSAnRk9SJykge1xuICAgICAgICAgIHRoaXMuc2VlbkZvciA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodGFnID09PSAnVU5MRVNTJykge1xuICAgICAgICAgIHRhZyA9ICdJRic7XG4gICAgICAgIH0gZWxzZSBpZiAoX19pbmRleE9mLmNhbGwoVU5BUlksIHRhZykgPj0gMCkge1xuICAgICAgICAgIHRhZyA9ICdVTkFSWSc7XG4gICAgICAgIH0gZWxzZSBpZiAoX19pbmRleE9mLmNhbGwoUkVMQVRJT04sIHRhZykgPj0gMCkge1xuICAgICAgICAgIGlmICh0YWcgIT09ICdJTlNUQU5DRU9GJyAmJiB0aGlzLnNlZW5Gb3IpIHtcbiAgICAgICAgICAgIHRhZyA9ICdGT1InICsgdGFnO1xuICAgICAgICAgICAgdGhpcy5zZWVuRm9yID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhZyA9ICdSRUxBVElPTic7XG4gICAgICAgICAgICBpZiAodGhpcy52YWx1ZSgpID09PSAnIScpIHtcbiAgICAgICAgICAgICAgcG9wcGVkVG9rZW4gPSB0aGlzLnRva2Vucy5wb3AoKTtcbiAgICAgICAgICAgICAgaWQgPSAnIScgKyBpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChfX2luZGV4T2YuY2FsbChKU19GT1JCSURERU4sIGlkKSA+PSAwKSB7XG4gICAgICAgIGlmIChmb3JjZWRJZGVudGlmaWVyKSB7XG4gICAgICAgICAgdGFnID0gJ0lERU5USUZJRVInO1xuICAgICAgICAgIGlkID0gbmV3IFN0cmluZyhpZCk7XG4gICAgICAgICAgaWQucmVzZXJ2ZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKF9faW5kZXhPZi5jYWxsKFJFU0VSVkVELCBpZCkgPj0gMCkge1xuICAgICAgICAgIHRoaXMuZXJyb3IoXCJyZXNlcnZlZCB3b3JkIFxcXCJcIiArIGlkICsgXCJcXFwiXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWZvcmNlZElkZW50aWZpZXIpIHtcbiAgICAgICAgaWYgKF9faW5kZXhPZi5jYWxsKENPRkZFRV9BTElBU0VTLCBpZCkgPj0gMCkge1xuICAgICAgICAgIGlkID0gQ09GRkVFX0FMSUFTX01BUFtpZF07XG4gICAgICAgIH1cbiAgICAgICAgdGFnID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgICAgICAgIGNhc2UgJyEnOlxuICAgICAgICAgICAgICByZXR1cm4gJ1VOQVJZJztcbiAgICAgICAgICAgIGNhc2UgJz09JzpcbiAgICAgICAgICAgIGNhc2UgJyE9JzpcbiAgICAgICAgICAgICAgcmV0dXJuICdDT01QQVJFJztcbiAgICAgICAgICAgIGNhc2UgJyYmJzpcbiAgICAgICAgICAgIGNhc2UgJ3x8JzpcbiAgICAgICAgICAgICAgcmV0dXJuICdMT0dJQyc7XG4gICAgICAgICAgICBjYXNlICd0cnVlJzpcbiAgICAgICAgICAgIGNhc2UgJ2ZhbHNlJzpcbiAgICAgICAgICAgICAgcmV0dXJuICdCT09MJztcbiAgICAgICAgICAgIGNhc2UgJ2JyZWFrJzpcbiAgICAgICAgICAgIGNhc2UgJ2NvbnRpbnVlJzpcbiAgICAgICAgICAgICAgcmV0dXJuICdTVEFURU1FTlQnO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmV0dXJuIHRhZztcbiAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgICB9XG4gICAgICB0YWdUb2tlbiA9IHRoaXMudG9rZW4odGFnLCBpZCwgMCwgaWRMZW5ndGgpO1xuICAgICAgaWYgKHBvcHBlZFRva2VuKSB7XG4gICAgICAgIF9yZWY0ID0gW3BvcHBlZFRva2VuWzJdLmZpcnN0X2xpbmUsIHBvcHBlZFRva2VuWzJdLmZpcnN0X2NvbHVtbl0sIHRhZ1Rva2VuWzJdLmZpcnN0X2xpbmUgPSBfcmVmNFswXSwgdGFnVG9rZW5bMl0uZmlyc3RfY29sdW1uID0gX3JlZjRbMV07XG4gICAgICB9XG4gICAgICBpZiAoY29sb24pIHtcbiAgICAgICAgY29sb25PZmZzZXQgPSBpbnB1dC5sYXN0SW5kZXhPZignOicpO1xuICAgICAgICB0aGlzLnRva2VuKCc6JywgJzonLCBjb2xvbk9mZnNldCwgY29sb24ubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnB1dC5sZW5ndGg7XG4gICAgfTtcblxuICAgIExleGVyLnByb3RvdHlwZS5udW1iZXJUb2tlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGJpbmFyeUxpdGVyYWwsIGxleGVkTGVuZ3RoLCBtYXRjaCwgbnVtYmVyLCBvY3RhbExpdGVyYWw7XG4gICAgICBpZiAoIShtYXRjaCA9IE5VTUJFUi5leGVjKHRoaXMuY2h1bmspKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIG51bWJlciA9IG1hdGNoWzBdO1xuICAgICAgaWYgKC9eMFtCT1hdLy50ZXN0KG51bWJlcikpIHtcbiAgICAgICAgdGhpcy5lcnJvcihcInJhZGl4IHByZWZpeCAnXCIgKyBudW1iZXIgKyBcIicgbXVzdCBiZSBsb3dlcmNhc2VcIik7XG4gICAgICB9IGVsc2UgaWYgKC9FLy50ZXN0KG51bWJlcikgJiYgIS9eMHgvLnRlc3QobnVtYmVyKSkge1xuICAgICAgICB0aGlzLmVycm9yKFwiZXhwb25lbnRpYWwgbm90YXRpb24gJ1wiICsgbnVtYmVyICsgXCInIG11c3QgYmUgaW5kaWNhdGVkIHdpdGggYSBsb3dlcmNhc2UgJ2UnXCIpO1xuICAgICAgfSBlbHNlIGlmICgvXjBcXGQqWzg5XS8udGVzdChudW1iZXIpKSB7XG4gICAgICAgIHRoaXMuZXJyb3IoXCJkZWNpbWFsIGxpdGVyYWwgJ1wiICsgbnVtYmVyICsgXCInIG11c3Qgbm90IGJlIHByZWZpeGVkIHdpdGggJzAnXCIpO1xuICAgICAgfSBlbHNlIGlmICgvXjBcXGQrLy50ZXN0KG51bWJlcikpIHtcbiAgICAgICAgdGhpcy5lcnJvcihcIm9jdGFsIGxpdGVyYWwgJ1wiICsgbnVtYmVyICsgXCInIG11c3QgYmUgcHJlZml4ZWQgd2l0aCAnMG8nXCIpO1xuICAgICAgfVxuICAgICAgbGV4ZWRMZW5ndGggPSBudW1iZXIubGVuZ3RoO1xuICAgICAgaWYgKG9jdGFsTGl0ZXJhbCA9IC9eMG8oWzAtN10rKS8uZXhlYyhudW1iZXIpKSB7XG4gICAgICAgIG51bWJlciA9ICcweCcgKyBwYXJzZUludChvY3RhbExpdGVyYWxbMV0sIDgpLnRvU3RyaW5nKDE2KTtcbiAgICAgIH1cbiAgICAgIGlmIChiaW5hcnlMaXRlcmFsID0gL14wYihbMDFdKykvLmV4ZWMobnVtYmVyKSkge1xuICAgICAgICBudW1iZXIgPSAnMHgnICsgcGFyc2VJbnQoYmluYXJ5TGl0ZXJhbFsxXSwgMikudG9TdHJpbmcoMTYpO1xuICAgICAgfVxuICAgICAgdGhpcy50b2tlbignTlVNQkVSJywgbnVtYmVyLCAwLCBsZXhlZExlbmd0aCk7XG4gICAgICByZXR1cm4gbGV4ZWRMZW5ndGg7XG4gICAgfTtcblxuICAgIExleGVyLnByb3RvdHlwZS5zdHJpbmdUb2tlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGlubmVyLCBpbm5lckxlbiwgbnVtQnJlYWssIG9jdGFsRXNjLCBwb3MsIHF1b3RlLCBzdHJpbmcsIHRyaW1tZWQ7XG4gICAgICBzd2l0Y2ggKHF1b3RlID0gdGhpcy5jaHVuay5jaGFyQXQoMCkpIHtcbiAgICAgICAgY2FzZSBcIidcIjpcbiAgICAgICAgICBzdHJpbmcgPSAoU0lNUExFU1RSLmV4ZWModGhpcy5jaHVuaykgfHwgW10pWzBdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdcIic6XG4gICAgICAgICAgc3RyaW5nID0gdGhpcy5iYWxhbmNlZFN0cmluZyh0aGlzLmNodW5rLCAnXCInKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaW5uZXIgPSBzdHJpbmcuc2xpY2UoMSwgLTEpO1xuICAgICAgdHJpbW1lZCA9IHRoaXMucmVtb3ZlTmV3bGluZXMoaW5uZXIpO1xuICAgICAgaWYgKHF1b3RlID09PSAnXCInICYmIDAgPCBzdHJpbmcuaW5kZXhPZignI3snLCAxKSkge1xuICAgICAgICBudW1CcmVhayA9IHBvcyA9IDA7XG4gICAgICAgIGlubmVyTGVuID0gaW5uZXIubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaW5uZXIuY2hhckF0KHBvcysrKSA9PT0gJ1xcbicgJiYgcG9zIDwgaW5uZXJMZW4pIHtcbiAgICAgICAgICBudW1CcmVhaysrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW50ZXJwb2xhdGVTdHJpbmcodHJpbW1lZCwge1xuICAgICAgICAgIHN0ck9mZnNldDogMSArIG51bUJyZWFrLFxuICAgICAgICAgIGxleGVkTGVuZ3RoOiBzdHJpbmcubGVuZ3RoXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50b2tlbignU1RSSU5HJywgcXVvdGUgKyB0aGlzLmVzY2FwZUxpbmVzKHRyaW1tZWQpICsgcXVvdGUsIDAsIHN0cmluZy5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgaWYgKG9jdGFsRXNjID0gL14oPzpcXFxcLnxbXlxcXFxdKSpcXFxcKD86MFswLTddfFsxLTddKS8udGVzdChzdHJpbmcpKSB7XG4gICAgICAgIHRoaXMuZXJyb3IoXCJvY3RhbCBlc2NhcGUgc2VxdWVuY2VzIFwiICsgc3RyaW5nICsgXCIgYXJlIG5vdCBhbGxvd2VkXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5sZW5ndGg7XG4gICAgfTtcblxuICAgIExleGVyLnByb3RvdHlwZS5oZXJlZG9jVG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkb2MsIGhlcmVkb2MsIG1hdGNoLCBxdW90ZSwgc3RyT2Zmc2V0O1xuICAgICAgaWYgKCEobWF0Y2ggPSBIRVJFRE9DLmV4ZWModGhpcy5jaHVuaykpKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaGVyZWRvYyA9IG1hdGNoWzBdO1xuICAgICAgcXVvdGUgPSBoZXJlZG9jLmNoYXJBdCgwKTtcbiAgICAgIGRvYyA9IHRoaXMuc2FuaXRpemVIZXJlZG9jKG1hdGNoWzJdLCB7XG4gICAgICAgIHF1b3RlOiBxdW90ZSxcbiAgICAgICAgaW5kZW50OiBudWxsXG4gICAgICB9KTtcbiAgICAgIGlmIChxdW90ZSA9PT0gJ1wiJyAmJiAwIDw9IGRvYy5pbmRleE9mKCcjeycpKSB7XG4gICAgICAgIHN0ck9mZnNldCA9IG1hdGNoWzJdLmNoYXJBdCgwKSA9PT0gJ1xcbicgPyA0IDogMztcbiAgICAgICAgdGhpcy5pbnRlcnBvbGF0ZVN0cmluZyhkb2MsIHtcbiAgICAgICAgICBoZXJlZG9jOiB0cnVlLFxuICAgICAgICAgIHN0ck9mZnNldDogc3RyT2Zmc2V0LFxuICAgICAgICAgIGxleGVkTGVuZ3RoOiBoZXJlZG9jLmxlbmd0aFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudG9rZW4oJ1NUUklORycsIHRoaXMubWFrZVN0cmluZyhkb2MsIHF1b3RlLCB0cnVlKSwgMCwgaGVyZWRvYy5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhlcmVkb2MubGVuZ3RoO1xuICAgIH07XG5cbiAgICBMZXhlci5wcm90b3R5cGUuY29tbWVudFRva2VuID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29tbWVudCwgaGVyZSwgbWF0Y2g7XG4gICAgICBpZiAoIShtYXRjaCA9IHRoaXMuY2h1bmsubWF0Y2goQ09NTUVOVCkpKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgY29tbWVudCA9IG1hdGNoWzBdLCBoZXJlID0gbWF0Y2hbMV07XG4gICAgICBpZiAoaGVyZSkge1xuICAgICAgICB0aGlzLnRva2VuKCdIRVJFQ09NTUVOVCcsIHRoaXMuc2FuaXRpemVIZXJlZG9jKGhlcmUsIHtcbiAgICAgICAgICBoZXJlY29tbWVudDogdHJ1ZSxcbiAgICAgICAgICBpbmRlbnQ6IHJlcGVhdCgnICcsIHRoaXMuaW5kZW50KVxuICAgICAgICB9KSwgMCwgY29tbWVudC5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbW1lbnQubGVuZ3RoO1xuICAgIH07XG5cbiAgICBMZXhlci5wcm90b3R5cGUuanNUb2tlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG1hdGNoLCBzY3JpcHQ7XG4gICAgICBpZiAoISh0aGlzLmNodW5rLmNoYXJBdCgwKSA9PT0gJ2AnICYmIChtYXRjaCA9IEpTVE9LRU4uZXhlYyh0aGlzLmNodW5rKSkpKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgdGhpcy50b2tlbignSlMnLCAoc2NyaXB0ID0gbWF0Y2hbMF0pLnNsaWNlKDEsIC0xKSwgMCwgc2NyaXB0Lmxlbmd0aCk7XG4gICAgICByZXR1cm4gc2NyaXB0Lmxlbmd0aDtcbiAgICB9O1xuXG4gICAgTGV4ZXIucHJvdG90eXBlLnJlZ2V4VG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBmbGFncywgbGVuZ3RoLCBtYXRjaCwgcHJldiwgcmVnZXgsIF9yZWYyLCBfcmVmMztcbiAgICAgIGlmICh0aGlzLmNodW5rLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKGxlbmd0aCA9IHRoaXMuaGVyZWdleFRva2VuKCkpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHByZXYgPSBsYXN0KHRoaXMudG9rZW5zKTtcbiAgICAgIGlmIChwcmV2ICYmIChfcmVmMiA9IHByZXZbMF0sIF9faW5kZXhPZi5jYWxsKChwcmV2LnNwYWNlZCA/IE5PVF9SRUdFWCA6IE5PVF9TUEFDRURfUkVHRVgpLCBfcmVmMikgPj0gMCkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBpZiAoIShtYXRjaCA9IFJFR0VYLmV4ZWModGhpcy5jaHVuaykpKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgX3JlZjMgPSBtYXRjaCwgbWF0Y2ggPSBfcmVmM1swXSwgcmVnZXggPSBfcmVmM1sxXSwgZmxhZ3MgPSBfcmVmM1syXTtcbiAgICAgIGlmIChyZWdleCA9PT0gJy8vJykge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChyZWdleC5zbGljZSgwLCAyKSA9PT0gJy8qJykge1xuICAgICAgICB0aGlzLmVycm9yKCdyZWd1bGFyIGV4cHJlc3Npb25zIGNhbm5vdCBiZWdpbiB3aXRoIGAqYCcpO1xuICAgICAgfVxuICAgICAgdGhpcy50b2tlbignUkVHRVgnLCBcIlwiICsgcmVnZXggKyBmbGFncywgMCwgbWF0Y2gubGVuZ3RoKTtcbiAgICAgIHJldHVybiBtYXRjaC5sZW5ndGg7XG4gICAgfTtcblxuICAgIExleGVyLnByb3RvdHlwZS5oZXJlZ2V4VG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBib2R5LCBmbGFncywgZmxhZ3NPZmZzZXQsIGhlcmVnZXgsIG1hdGNoLCBwbHVzVG9rZW4sIHByZXYsIHJlLCB0YWcsIHRva2VuLCB0b2tlbnMsIHZhbHVlLCBfaSwgX2xlbiwgX3JlZjIsIF9yZWYzLCBfcmVmNDtcbiAgICAgIGlmICghKG1hdGNoID0gSEVSRUdFWC5leGVjKHRoaXMuY2h1bmspKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGhlcmVnZXggPSBtYXRjaFswXSwgYm9keSA9IG1hdGNoWzFdLCBmbGFncyA9IG1hdGNoWzJdO1xuICAgICAgaWYgKDAgPiBib2R5LmluZGV4T2YoJyN7JykpIHtcbiAgICAgICAgcmUgPSB0aGlzLmVzY2FwZUxpbmVzKGJvZHkucmVwbGFjZShIRVJFR0VYX09NSVQsICckMSQyJykucmVwbGFjZSgvXFwvL2csICdcXFxcLycpLCB0cnVlKTtcbiAgICAgICAgaWYgKHJlLm1hdGNoKC9eXFwqLykpIHtcbiAgICAgICAgICB0aGlzLmVycm9yKCdyZWd1bGFyIGV4cHJlc3Npb25zIGNhbm5vdCBiZWdpbiB3aXRoIGAqYCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9rZW4oJ1JFR0VYJywgXCIvXCIgKyAocmUgfHwgJyg/OiknKSArIFwiL1wiICsgZmxhZ3MsIDAsIGhlcmVnZXgubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIGhlcmVnZXgubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdGhpcy50b2tlbignSURFTlRJRklFUicsICdSZWdFeHAnLCAwLCAwKTtcbiAgICAgIHRoaXMudG9rZW4oJ0NBTExfU1RBUlQnLCAnKCcsIDAsIDApO1xuICAgICAgdG9rZW5zID0gW107XG4gICAgICBfcmVmMiA9IHRoaXMuaW50ZXJwb2xhdGVTdHJpbmcoYm9keSwge1xuICAgICAgICByZWdleDogdHJ1ZSxcbiAgICAgICAgc3RyT2Zmc2V0OiAzXG4gICAgICB9KTtcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZjIubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgdG9rZW4gPSBfcmVmMltfaV07XG4gICAgICAgIHRhZyA9IHRva2VuWzBdLCB2YWx1ZSA9IHRva2VuWzFdO1xuICAgICAgICBpZiAodGFnID09PSAnVE9LRU5TJykge1xuICAgICAgICAgIHRva2Vucy5wdXNoLmFwcGx5KHRva2VucywgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHRhZyA9PT0gJ05FT1NUUklORycpIHtcbiAgICAgICAgICBpZiAoISh2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoSEVSRUdFWF9PTUlULCAnJDEkMicpKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKTtcbiAgICAgICAgICB0b2tlblswXSA9ICdTVFJJTkcnO1xuICAgICAgICAgIHRva2VuWzFdID0gdGhpcy5tYWtlU3RyaW5nKHZhbHVlLCAnXCInLCB0cnVlKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5lcnJvcihcIlVuZXhwZWN0ZWQgXCIgKyB0YWcpO1xuICAgICAgICB9XG4gICAgICAgIHByZXYgPSBsYXN0KHRoaXMudG9rZW5zKTtcbiAgICAgICAgcGx1c1Rva2VuID0gWycrJywgJysnXTtcbiAgICAgICAgcGx1c1Rva2VuWzJdID0gcHJldlsyXTtcbiAgICAgICAgdG9rZW5zLnB1c2gocGx1c1Rva2VuKTtcbiAgICAgIH1cbiAgICAgIHRva2Vucy5wb3AoKTtcbiAgICAgIGlmICgoKF9yZWYzID0gdG9rZW5zWzBdKSAhPSBudWxsID8gX3JlZjNbMF0gOiB2b2lkIDApICE9PSAnU1RSSU5HJykge1xuICAgICAgICB0aGlzLnRva2VuKCdTVFJJTkcnLCAnXCJcIicsIDAsIDApO1xuICAgICAgICB0aGlzLnRva2VuKCcrJywgJysnLCAwLCAwKTtcbiAgICAgIH1cbiAgICAgIChfcmVmNCA9IHRoaXMudG9rZW5zKS5wdXNoLmFwcGx5KF9yZWY0LCB0b2tlbnMpO1xuICAgICAgaWYgKGZsYWdzKSB7XG4gICAgICAgIGZsYWdzT2Zmc2V0ID0gaGVyZWdleC5sYXN0SW5kZXhPZihmbGFncyk7XG4gICAgICAgIHRoaXMudG9rZW4oJywnLCAnLCcsIGZsYWdzT2Zmc2V0LCAwKTtcbiAgICAgICAgdGhpcy50b2tlbignU1RSSU5HJywgJ1wiJyArIGZsYWdzICsgJ1wiJywgZmxhZ3NPZmZzZXQsIGZsYWdzLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICB0aGlzLnRva2VuKCcpJywgJyknLCBoZXJlZ2V4Lmxlbmd0aCAtIDEsIDApO1xuICAgICAgcmV0dXJuIGhlcmVnZXgubGVuZ3RoO1xuICAgIH07XG5cbiAgICBMZXhlci5wcm90b3R5cGUubGluZVRva2VuID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGlmZiwgaW5kZW50LCBtYXRjaCwgbm9OZXdsaW5lcywgc2l6ZTtcbiAgICAgIGlmICghKG1hdGNoID0gTVVMVElfREVOVC5leGVjKHRoaXMuY2h1bmspKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGluZGVudCA9IG1hdGNoWzBdO1xuICAgICAgdGhpcy5zZWVuRm9yID0gZmFsc2U7XG4gICAgICBzaXplID0gaW5kZW50Lmxlbmd0aCAtIDEgLSBpbmRlbnQubGFzdEluZGV4T2YoJ1xcbicpO1xuICAgICAgbm9OZXdsaW5lcyA9IHRoaXMudW5maW5pc2hlZCgpO1xuICAgICAgaWYgKHNpemUgLSB0aGlzLmluZGVidCA9PT0gdGhpcy5pbmRlbnQpIHtcbiAgICAgICAgaWYgKG5vTmV3bGluZXMpIHtcbiAgICAgICAgICB0aGlzLnN1cHByZXNzTmV3bGluZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm5ld2xpbmVUb2tlbigwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5kZW50Lmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChzaXplID4gdGhpcy5pbmRlbnQpIHtcbiAgICAgICAgaWYgKG5vTmV3bGluZXMpIHtcbiAgICAgICAgICB0aGlzLmluZGVidCA9IHNpemUgLSB0aGlzLmluZGVudDtcbiAgICAgICAgICB0aGlzLnN1cHByZXNzTmV3bGluZXMoKTtcbiAgICAgICAgICByZXR1cm4gaW5kZW50Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuYmFzZUluZGVudCA9IHRoaXMuaW5kZW50ID0gc2l6ZTtcbiAgICAgICAgICByZXR1cm4gaW5kZW50Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBkaWZmID0gc2l6ZSAtIHRoaXMuaW5kZW50ICsgdGhpcy5vdXRkZWJ0O1xuICAgICAgICB0aGlzLnRva2VuKCdJTkRFTlQnLCBkaWZmLCBpbmRlbnQubGVuZ3RoIC0gc2l6ZSwgc2l6ZSk7XG4gICAgICAgIHRoaXMuaW5kZW50cy5wdXNoKGRpZmYpO1xuICAgICAgICB0aGlzLmVuZHMucHVzaCgnT1VUREVOVCcpO1xuICAgICAgICB0aGlzLm91dGRlYnQgPSB0aGlzLmluZGVidCA9IDA7XG4gICAgICAgIHRoaXMuaW5kZW50ID0gc2l6ZTtcbiAgICAgIH0gZWxzZSBpZiAoc2l6ZSA8IHRoaXMuYmFzZUluZGVudCkge1xuICAgICAgICB0aGlzLmVycm9yKCdtaXNzaW5nIGluZGVudGF0aW9uJywgaW5kZW50Lmxlbmd0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluZGVidCA9IDA7XG4gICAgICAgIHRoaXMub3V0ZGVudFRva2VuKHRoaXMuaW5kZW50IC0gc2l6ZSwgbm9OZXdsaW5lcywgaW5kZW50Lmxlbmd0aCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZW50Lmxlbmd0aDtcbiAgICB9O1xuXG4gICAgTGV4ZXIucHJvdG90eXBlLm91dGRlbnRUb2tlbiA9IGZ1bmN0aW9uKG1vdmVPdXQsIG5vTmV3bGluZXMsIG91dGRlbnRMZW5ndGgpIHtcbiAgICAgIHZhciBkZWNyZWFzZWRJbmRlbnQsIGRlbnQsIGxhc3RJbmRlbnQsIF9yZWYyO1xuICAgICAgZGVjcmVhc2VkSW5kZW50ID0gdGhpcy5pbmRlbnQgLSBtb3ZlT3V0O1xuICAgICAgd2hpbGUgKG1vdmVPdXQgPiAwKSB7XG4gICAgICAgIGxhc3RJbmRlbnQgPSB0aGlzLmluZGVudHNbdGhpcy5pbmRlbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoIWxhc3RJbmRlbnQpIHtcbiAgICAgICAgICBtb3ZlT3V0ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChsYXN0SW5kZW50ID09PSB0aGlzLm91dGRlYnQpIHtcbiAgICAgICAgICBtb3ZlT3V0IC09IHRoaXMub3V0ZGVidDtcbiAgICAgICAgICB0aGlzLm91dGRlYnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGxhc3RJbmRlbnQgPCB0aGlzLm91dGRlYnQpIHtcbiAgICAgICAgICB0aGlzLm91dGRlYnQgLT0gbGFzdEluZGVudDtcbiAgICAgICAgICBtb3ZlT3V0IC09IGxhc3RJbmRlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVudCA9IHRoaXMuaW5kZW50cy5wb3AoKSArIHRoaXMub3V0ZGVidDtcbiAgICAgICAgICBpZiAob3V0ZGVudExlbmd0aCAmJiAoX3JlZjIgPSB0aGlzLmNodW5rW291dGRlbnRMZW5ndGhdLCBfX2luZGV4T2YuY2FsbChJTkRFTlRBQkxFX0NMT1NFUlMsIF9yZWYyKSA+PSAwKSkge1xuICAgICAgICAgICAgZGVjcmVhc2VkSW5kZW50IC09IGRlbnQgLSBtb3ZlT3V0O1xuICAgICAgICAgICAgbW92ZU91dCA9IGRlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMub3V0ZGVidCA9IDA7XG4gICAgICAgICAgdGhpcy5wYWlyKCdPVVRERU5UJyk7XG4gICAgICAgICAgdGhpcy50b2tlbignT1VUREVOVCcsIG1vdmVPdXQsIDAsIG91dGRlbnRMZW5ndGgpO1xuICAgICAgICAgIG1vdmVPdXQgLT0gZGVudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRlbnQpIHtcbiAgICAgICAgdGhpcy5vdXRkZWJ0IC09IG1vdmVPdXQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAodGhpcy52YWx1ZSgpID09PSAnOycpIHtcbiAgICAgICAgdGhpcy50b2tlbnMucG9wKCk7XG4gICAgICB9XG4gICAgICBpZiAoISh0aGlzLnRhZygpID09PSAnVEVSTUlOQVRPUicgfHwgbm9OZXdsaW5lcykpIHtcbiAgICAgICAgdGhpcy50b2tlbignVEVSTUlOQVRPUicsICdcXG4nLCBvdXRkZW50TGVuZ3RoLCAwKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5kZW50ID0gZGVjcmVhc2VkSW5kZW50O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIExleGVyLnByb3RvdHlwZS53aGl0ZXNwYWNlVG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtYXRjaCwgbmxpbmUsIHByZXY7XG4gICAgICBpZiAoISgobWF0Y2ggPSBXSElURVNQQUNFLmV4ZWModGhpcy5jaHVuaykpIHx8IChubGluZSA9IHRoaXMuY2h1bmsuY2hhckF0KDApID09PSAnXFxuJykpKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgcHJldiA9IGxhc3QodGhpcy50b2tlbnMpO1xuICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgcHJldlttYXRjaCA/ICdzcGFjZWQnIDogJ25ld0xpbmUnXSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBMZXhlci5wcm90b3R5cGUubmV3bGluZVRva2VuID0gZnVuY3Rpb24ob2Zmc2V0KSB7XG4gICAgICB3aGlsZSAodGhpcy52YWx1ZSgpID09PSAnOycpIHtcbiAgICAgICAgdGhpcy50b2tlbnMucG9wKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy50YWcoKSAhPT0gJ1RFUk1JTkFUT1InKSB7XG4gICAgICAgIHRoaXMudG9rZW4oJ1RFUk1JTkFUT1InLCAnXFxuJywgb2Zmc2V0LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBMZXhlci5wcm90b3R5cGUuc3VwcHJlc3NOZXdsaW5lcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMudmFsdWUoKSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgIHRoaXMudG9rZW5zLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIExleGVyLnByb3RvdHlwZS5saXRlcmFsVG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtYXRjaCwgcHJldiwgdGFnLCB2YWx1ZSwgX3JlZjIsIF9yZWYzLCBfcmVmNCwgX3JlZjU7XG4gICAgICBpZiAobWF0Y2ggPSBPUEVSQVRPUi5leGVjKHRoaXMuY2h1bmspKSB7XG4gICAgICAgIHZhbHVlID0gbWF0Y2hbMF07XG4gICAgICAgIGlmIChDT0RFLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgdGhpcy50YWdQYXJhbWV0ZXJzKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdGhpcy5jaHVuay5jaGFyQXQoMCk7XG4gICAgICB9XG4gICAgICB0YWcgPSB2YWx1ZTtcbiAgICAgIHByZXYgPSBsYXN0KHRoaXMudG9rZW5zKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gJz0nICYmIHByZXYpIHtcbiAgICAgICAgaWYgKCFwcmV2WzFdLnJlc2VydmVkICYmIChfcmVmMiA9IHByZXZbMV0sIF9faW5kZXhPZi5jYWxsKEpTX0ZPUkJJRERFTiwgX3JlZjIpID49IDApKSB7XG4gICAgICAgICAgdGhpcy5lcnJvcihcInJlc2VydmVkIHdvcmQgXFxcIlwiICsgKHRoaXMudmFsdWUoKSkgKyBcIlxcXCIgY2FuJ3QgYmUgYXNzaWduZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChfcmVmMyA9IHByZXZbMV0pID09PSAnfHwnIHx8IF9yZWYzID09PSAnJiYnKSB7XG4gICAgICAgICAgcHJldlswXSA9ICdDT01QT1VORF9BU1NJR04nO1xuICAgICAgICAgIHByZXZbMV0gKz0gJz0nO1xuICAgICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PT0gJzsnKSB7XG4gICAgICAgIHRoaXMuc2VlbkZvciA9IGZhbHNlO1xuICAgICAgICB0YWcgPSAnVEVSTUlOQVRPUic7XG4gICAgICB9IGVsc2UgaWYgKF9faW5kZXhPZi5jYWxsKE1BVEgsIHZhbHVlKSA+PSAwKSB7XG4gICAgICAgIHRhZyA9ICdNQVRIJztcbiAgICAgIH0gZWxzZSBpZiAoX19pbmRleE9mLmNhbGwoQ09NUEFSRSwgdmFsdWUpID49IDApIHtcbiAgICAgICAgdGFnID0gJ0NPTVBBUkUnO1xuICAgICAgfSBlbHNlIGlmIChfX2luZGV4T2YuY2FsbChDT01QT1VORF9BU1NJR04sIHZhbHVlKSA+PSAwKSB7XG4gICAgICAgIHRhZyA9ICdDT01QT1VORF9BU1NJR04nO1xuICAgICAgfSBlbHNlIGlmIChfX2luZGV4T2YuY2FsbChVTkFSWSwgdmFsdWUpID49IDApIHtcbiAgICAgICAgdGFnID0gJ1VOQVJZJztcbiAgICAgIH0gZWxzZSBpZiAoX19pbmRleE9mLmNhbGwoVU5BUllfTUFUSCwgdmFsdWUpID49IDApIHtcbiAgICAgICAgdGFnID0gJ1VOQVJZX01BVEgnO1xuICAgICAgfSBlbHNlIGlmIChfX2luZGV4T2YuY2FsbChTSElGVCwgdmFsdWUpID49IDApIHtcbiAgICAgICAgdGFnID0gJ1NISUZUJztcbiAgICAgIH0gZWxzZSBpZiAoX19pbmRleE9mLmNhbGwoTE9HSUMsIHZhbHVlKSA+PSAwIHx8IHZhbHVlID09PSAnPycgJiYgKHByZXYgIT0gbnVsbCA/IHByZXYuc3BhY2VkIDogdm9pZCAwKSkge1xuICAgICAgICB0YWcgPSAnTE9HSUMnO1xuICAgICAgfSBlbHNlIGlmIChwcmV2ICYmICFwcmV2LnNwYWNlZCkge1xuICAgICAgICBpZiAodmFsdWUgPT09ICcoJyAmJiAoX3JlZjQgPSBwcmV2WzBdLCBfX2luZGV4T2YuY2FsbChDQUxMQUJMRSwgX3JlZjQpID49IDApKSB7XG4gICAgICAgICAgaWYgKHByZXZbMF0gPT09ICc/Jykge1xuICAgICAgICAgICAgcHJldlswXSA9ICdGVU5DX0VYSVNUJztcbiAgICAgICAgICB9XG4gICAgICAgICAgdGFnID0gJ0NBTExfU1RBUlQnO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnWycgJiYgKF9yZWY1ID0gcHJldlswXSwgX19pbmRleE9mLmNhbGwoSU5ERVhBQkxFLCBfcmVmNSkgPj0gMCkpIHtcbiAgICAgICAgICB0YWcgPSAnSU5ERVhfU1RBUlQnO1xuICAgICAgICAgIHN3aXRjaCAocHJldlswXSkge1xuICAgICAgICAgICAgY2FzZSAnPyc6XG4gICAgICAgICAgICAgIHByZXZbMF0gPSAnSU5ERVhfU09BSyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgIGNhc2UgJygnOlxuICAgICAgICBjYXNlICd7JzpcbiAgICAgICAgY2FzZSAnWyc6XG4gICAgICAgICAgdGhpcy5lbmRzLnB1c2goSU5WRVJTRVNbdmFsdWVdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnKSc6XG4gICAgICAgIGNhc2UgJ30nOlxuICAgICAgICBjYXNlICddJzpcbiAgICAgICAgICB0aGlzLnBhaXIodmFsdWUpO1xuICAgICAgfVxuICAgICAgdGhpcy50b2tlbih0YWcsIHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGg7XG4gICAgfTtcblxuICAgIExleGVyLnByb3RvdHlwZS5zYW5pdGl6ZUhlcmVkb2MgPSBmdW5jdGlvbihkb2MsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBhdHRlbXB0LCBoZXJlY29tbWVudCwgaW5kZW50LCBtYXRjaCwgX3JlZjI7XG4gICAgICBpbmRlbnQgPSBvcHRpb25zLmluZGVudCwgaGVyZWNvbW1lbnQgPSBvcHRpb25zLmhlcmVjb21tZW50O1xuICAgICAgaWYgKGhlcmVjb21tZW50KSB7XG4gICAgICAgIGlmIChIRVJFRE9DX0lMTEVHQUwudGVzdChkb2MpKSB7XG4gICAgICAgICAgdGhpcy5lcnJvcihcImJsb2NrIGNvbW1lbnQgY2Fubm90IGNvbnRhaW4gXFxcIiovXFxcIiwgc3RhcnRpbmdcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRvYy5pbmRleE9mKCdcXG4nKSA8IDApIHtcbiAgICAgICAgICByZXR1cm4gZG9jO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAobWF0Y2ggPSBIRVJFRE9DX0lOREVOVC5leGVjKGRvYykpIHtcbiAgICAgICAgICBhdHRlbXB0ID0gbWF0Y2hbMV07XG4gICAgICAgICAgaWYgKGluZGVudCA9PT0gbnVsbCB8fCAoMCA8IChfcmVmMiA9IGF0dGVtcHQubGVuZ3RoKSAmJiBfcmVmMiA8IGluZGVudC5sZW5ndGgpKSB7XG4gICAgICAgICAgICBpbmRlbnQgPSBhdHRlbXB0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGluZGVudCkge1xuICAgICAgICBkb2MgPSBkb2MucmVwbGFjZShSZWdFeHAoXCJcXFxcblwiICsgaW5kZW50LCBcImdcIiksICdcXG4nKTtcbiAgICAgIH1cbiAgICAgIGlmICghaGVyZWNvbW1lbnQpIHtcbiAgICAgICAgZG9jID0gZG9jLnJlcGxhY2UoL15cXG4vLCAnJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZG9jO1xuICAgIH07XG5cbiAgICBMZXhlci5wcm90b3R5cGUudGFnUGFyYW1ldGVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGksIHN0YWNrLCB0b2ssIHRva2VucztcbiAgICAgIGlmICh0aGlzLnRhZygpICE9PSAnKScpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBzdGFjayA9IFtdO1xuICAgICAgdG9rZW5zID0gdGhpcy50b2tlbnM7XG4gICAgICBpID0gdG9rZW5zLmxlbmd0aDtcbiAgICAgIHRva2Vuc1stLWldWzBdID0gJ1BBUkFNX0VORCc7XG4gICAgICB3aGlsZSAodG9rID0gdG9rZW5zWy0taV0pIHtcbiAgICAgICAgc3dpdGNoICh0b2tbMF0pIHtcbiAgICAgICAgICBjYXNlICcpJzpcbiAgICAgICAgICAgIHN0YWNrLnB1c2godG9rKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJygnOlxuICAgICAgICAgIGNhc2UgJ0NBTExfU1RBUlQnOlxuICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rWzBdID09PSAnKCcpIHtcbiAgICAgICAgICAgICAgdG9rWzBdID0gJ1BBUkFNX1NUQVJUJztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIExleGVyLnByb3RvdHlwZS5jbG9zZUluZGVudGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5vdXRkZW50VG9rZW4odGhpcy5pbmRlbnQpO1xuICAgIH07XG5cbiAgICBMZXhlci5wcm90b3R5cGUuYmFsYW5jZWRTdHJpbmcgPSBmdW5jdGlvbihzdHIsIGVuZCkge1xuICAgICAgdmFyIGNvbnRpbnVlQ291bnQsIGksIGxldHRlciwgbWF0Y2gsIHByZXYsIHN0YWNrLCBfaSwgX3JlZjI7XG4gICAgICBjb250aW51ZUNvdW50ID0gMDtcbiAgICAgIHN0YWNrID0gW2VuZF07XG4gICAgICBmb3IgKGkgPSBfaSA9IDEsIF9yZWYyID0gc3RyLmxlbmd0aDsgMSA8PSBfcmVmMiA/IF9pIDwgX3JlZjIgOiBfaSA+IF9yZWYyOyBpID0gMSA8PSBfcmVmMiA/ICsrX2kgOiAtLV9pKSB7XG4gICAgICAgIGlmIChjb250aW51ZUNvdW50KSB7XG4gICAgICAgICAgLS1jb250aW51ZUNvdW50O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAobGV0dGVyID0gc3RyLmNoYXJBdChpKSkge1xuICAgICAgICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgICAgICAgKytjb250aW51ZUNvdW50O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSBlbmQ6XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGlmICghc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdHIuc2xpY2UoMCwgK2kgKyAxIHx8IDllOSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmQgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmQgPT09ICd9JyAmJiAobGV0dGVyID09PSAnXCInIHx8IGxldHRlciA9PT0gXCInXCIpKSB7XG4gICAgICAgICAgc3RhY2sucHVzaChlbmQgPSBsZXR0ZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKGVuZCA9PT0gJ30nICYmIGxldHRlciA9PT0gJy8nICYmIChtYXRjaCA9IEhFUkVHRVguZXhlYyhzdHIuc2xpY2UoaSkpIHx8IFJFR0VYLmV4ZWMoc3RyLnNsaWNlKGkpKSkpIHtcbiAgICAgICAgICBjb250aW51ZUNvdW50ICs9IG1hdGNoWzBdLmxlbmd0aCAtIDE7XG4gICAgICAgIH0gZWxzZSBpZiAoZW5kID09PSAnfScgJiYgbGV0dGVyID09PSAneycpIHtcbiAgICAgICAgICBzdGFjay5wdXNoKGVuZCA9ICd9Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZW5kID09PSAnXCInICYmIHByZXYgPT09ICcjJyAmJiBsZXR0ZXIgPT09ICd7Jykge1xuICAgICAgICAgIHN0YWNrLnB1c2goZW5kID0gJ30nKTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2ID0gbGV0dGVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoXCJtaXNzaW5nIFwiICsgKHN0YWNrLnBvcCgpKSArIFwiLCBzdGFydGluZ1wiKTtcbiAgICB9O1xuXG4gICAgTGV4ZXIucHJvdG90eXBlLmludGVycG9sYXRlU3RyaW5nID0gZnVuY3Rpb24oc3RyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgY29sdW1uLCBlcnJvclRva2VuLCBleHByLCBoZXJlZG9jLCBpLCBpbm5lciwgaW50ZXJwb2xhdGVkLCBsZW4sIGxldHRlciwgbGV4ZWRMZW5ndGgsIGxpbmUsIGxvY2F0aW9uVG9rZW4sIG5lc3RlZCwgb2Zmc2V0SW5DaHVuaywgcGksIHBsdXNUb2tlbiwgcG9wcGVkLCByZWdleCwgcnBhcmVuLCBzdHJPZmZzZXQsIHRhZywgdG9rZW4sIHRva2VucywgdmFsdWUsIF9pLCBfbGVuLCBfcmVmMiwgX3JlZjMsIF9yZWY0O1xuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBoZXJlZG9jID0gb3B0aW9ucy5oZXJlZG9jLCByZWdleCA9IG9wdGlvbnMucmVnZXgsIG9mZnNldEluQ2h1bmsgPSBvcHRpb25zLm9mZnNldEluQ2h1bmssIHN0ck9mZnNldCA9IG9wdGlvbnMuc3RyT2Zmc2V0LCBsZXhlZExlbmd0aCA9IG9wdGlvbnMubGV4ZWRMZW5ndGg7XG4gICAgICBvZmZzZXRJbkNodW5rIHx8IChvZmZzZXRJbkNodW5rID0gMCk7XG4gICAgICBzdHJPZmZzZXQgfHwgKHN0ck9mZnNldCA9IDApO1xuICAgICAgbGV4ZWRMZW5ndGggfHwgKGxleGVkTGVuZ3RoID0gc3RyLmxlbmd0aCk7XG4gICAgICB0b2tlbnMgPSBbXTtcbiAgICAgIHBpID0gMDtcbiAgICAgIGkgPSAtMTtcbiAgICAgIHdoaWxlIChsZXR0ZXIgPSBzdHIuY2hhckF0KGkgKz0gMSkpIHtcbiAgICAgICAgaWYgKGxldHRlciA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgaSArPSAxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGxldHRlciA9PT0gJyMnICYmIHN0ci5jaGFyQXQoaSArIDEpID09PSAneycgJiYgKGV4cHIgPSB0aGlzLmJhbGFuY2VkU3RyaW5nKHN0ci5zbGljZShpICsgMSksICd9JykpKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwaSA8IGkpIHtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0aGlzLm1ha2VUb2tlbignTkVPU1RSSU5HJywgc3RyLnNsaWNlKHBpLCBpKSwgc3RyT2Zmc2V0ICsgcGkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVycm9yVG9rZW4pIHtcbiAgICAgICAgICBlcnJvclRva2VuID0gdGhpcy5tYWtlVG9rZW4oJycsICdzdHJpbmcgaW50ZXJwb2xhdGlvbicsIG9mZnNldEluQ2h1bmsgKyBpICsgMSwgMik7XG4gICAgICAgIH1cbiAgICAgICAgaW5uZXIgPSBleHByLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgaWYgKGlubmVyLmxlbmd0aCkge1xuICAgICAgICAgIF9yZWYyID0gdGhpcy5nZXRMaW5lQW5kQ29sdW1uRnJvbUNodW5rKHN0ck9mZnNldCArIGkgKyAyKSwgbGluZSA9IF9yZWYyWzBdLCBjb2x1bW4gPSBfcmVmMlsxXTtcbiAgICAgICAgICBuZXN0ZWQgPSBuZXcgTGV4ZXIoKS50b2tlbml6ZShpbm5lciwge1xuICAgICAgICAgICAgbGluZTogbGluZSxcbiAgICAgICAgICAgIGNvbHVtbjogY29sdW1uLFxuICAgICAgICAgICAgcmV3cml0ZTogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwb3BwZWQgPSBuZXN0ZWQucG9wKCk7XG4gICAgICAgICAgaWYgKCgoX3JlZjMgPSBuZXN0ZWRbMF0pICE9IG51bGwgPyBfcmVmM1swXSA6IHZvaWQgMCkgPT09ICdURVJNSU5BVE9SJykge1xuICAgICAgICAgICAgcG9wcGVkID0gbmVzdGVkLnNoaWZ0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChsZW4gPSBuZXN0ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAobGVuID4gMSkge1xuICAgICAgICAgICAgICBuZXN0ZWQudW5zaGlmdCh0aGlzLm1ha2VUb2tlbignKCcsICcoJywgc3RyT2Zmc2V0ICsgaSArIDEsIDApKTtcbiAgICAgICAgICAgICAgbmVzdGVkLnB1c2godGhpcy5tYWtlVG9rZW4oJyknLCAnKScsIHN0ck9mZnNldCArIGkgKyAxICsgaW5uZXIubGVuZ3RoLCAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbnMucHVzaChbJ1RPS0VOUycsIG5lc3RlZF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpICs9IGV4cHIubGVuZ3RoO1xuICAgICAgICBwaSA9IGkgKyAxO1xuICAgICAgfVxuICAgICAgaWYgKChpID4gcGkgJiYgcGkgPCBzdHIubGVuZ3RoKSkge1xuICAgICAgICB0b2tlbnMucHVzaCh0aGlzLm1ha2VUb2tlbignTkVPU1RSSU5HJywgc3RyLnNsaWNlKHBpKSwgc3RyT2Zmc2V0ICsgcGkpKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZWdleCkge1xuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgICAgfVxuICAgICAgaWYgKCF0b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VuKCdTVFJJTkcnLCAnXCJcIicsIG9mZnNldEluQ2h1bmssIGxleGVkTGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0b2tlbnNbMF1bMF0gIT09ICdORU9TVFJJTkcnKSB7XG4gICAgICAgIHRva2Vucy51bnNoaWZ0KHRoaXMubWFrZVRva2VuKCdORU9TVFJJTkcnLCAnJywgb2Zmc2V0SW5DaHVuaykpO1xuICAgICAgfVxuICAgICAgaWYgKGludGVycG9sYXRlZCA9IHRva2Vucy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRoaXMudG9rZW4oJygnLCAnKCcsIG9mZnNldEluQ2h1bmssIDAsIGVycm9yVG9rZW4pO1xuICAgICAgfVxuICAgICAgZm9yIChpID0gX2kgPSAwLCBfbGVuID0gdG9rZW5zLmxlbmd0aDsgX2kgPCBfbGVuOyBpID0gKytfaSkge1xuICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgdGFnID0gdG9rZW5bMF0sIHZhbHVlID0gdG9rZW5bMV07XG4gICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgIHBsdXNUb2tlbiA9IHRoaXMudG9rZW4oJysnLCAnKycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsb2NhdGlvblRva2VuID0gdGFnID09PSAnVE9LRU5TJyA/IHZhbHVlWzBdIDogdG9rZW47XG4gICAgICAgICAgcGx1c1Rva2VuWzJdID0ge1xuICAgICAgICAgICAgZmlyc3RfbGluZTogbG9jYXRpb25Ub2tlblsyXS5maXJzdF9saW5lLFxuICAgICAgICAgICAgZmlyc3RfY29sdW1uOiBsb2NhdGlvblRva2VuWzJdLmZpcnN0X2NvbHVtbixcbiAgICAgICAgICAgIGxhc3RfbGluZTogbG9jYXRpb25Ub2tlblsyXS5maXJzdF9saW5lLFxuICAgICAgICAgICAgbGFzdF9jb2x1bW46IGxvY2F0aW9uVG9rZW5bMl0uZmlyc3RfY29sdW1uXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09PSAnVE9LRU5TJykge1xuICAgICAgICAgIChfcmVmNCA9IHRoaXMudG9rZW5zKS5wdXNoLmFwcGx5KF9yZWY0LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFnID09PSAnTkVPU1RSSU5HJykge1xuICAgICAgICAgIHRva2VuWzBdID0gJ1NUUklORyc7XG4gICAgICAgICAgdG9rZW5bMV0gPSB0aGlzLm1ha2VTdHJpbmcodmFsdWUsICdcIicsIGhlcmVkb2MpO1xuICAgICAgICAgIHRoaXMudG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZXJyb3IoXCJVbmV4cGVjdGVkIFwiICsgdGFnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGludGVycG9sYXRlZCkge1xuICAgICAgICBycGFyZW4gPSB0aGlzLm1ha2VUb2tlbignKScsICcpJywgb2Zmc2V0SW5DaHVuayArIGxleGVkTGVuZ3RoLCAwKTtcbiAgICAgICAgcnBhcmVuLnN0cmluZ0VuZCA9IHRydWU7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2gocnBhcmVuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfTtcblxuICAgIExleGVyLnByb3RvdHlwZS5wYWlyID0gZnVuY3Rpb24odGFnKSB7XG4gICAgICB2YXIgd2FudGVkO1xuICAgICAgaWYgKHRhZyAhPT0gKHdhbnRlZCA9IGxhc3QodGhpcy5lbmRzKSkpIHtcbiAgICAgICAgaWYgKCdPVVRERU5UJyAhPT0gd2FudGVkKSB7XG4gICAgICAgICAgdGhpcy5lcnJvcihcInVubWF0Y2hlZCBcIiArIHRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vdXRkZW50VG9rZW4obGFzdCh0aGlzLmluZGVudHMpLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFpcih0YWcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuZW5kcy5wb3AoKTtcbiAgICB9O1xuXG4gICAgTGV4ZXIucHJvdG90eXBlLmdldExpbmVBbmRDb2x1bW5Gcm9tQ2h1bmsgPSBmdW5jdGlvbihvZmZzZXQpIHtcbiAgICAgIHZhciBjb2x1bW4sIGxpbmVDb3VudCwgbGluZXMsIHN0cmluZztcbiAgICAgIGlmIChvZmZzZXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmNodW5rTGluZSwgdGhpcy5jaHVua0NvbHVtbl07XG4gICAgICB9XG4gICAgICBpZiAob2Zmc2V0ID49IHRoaXMuY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgIHN0cmluZyA9IHRoaXMuY2h1bms7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHJpbmcgPSB0aGlzLmNodW5rLnNsaWNlKDAsICsob2Zmc2V0IC0gMSkgKyAxIHx8IDllOSk7XG4gICAgICB9XG4gICAgICBsaW5lQ291bnQgPSBjb3VudChzdHJpbmcsICdcXG4nKTtcbiAgICAgIGNvbHVtbiA9IHRoaXMuY2h1bmtDb2x1bW47XG4gICAgICBpZiAobGluZUNvdW50ID4gMCkge1xuICAgICAgICBsaW5lcyA9IHN0cmluZy5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGNvbHVtbiA9IGxhc3QobGluZXMpLmxlbmd0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbHVtbiArPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFt0aGlzLmNodW5rTGluZSArIGxpbmVDb3VudCwgY29sdW1uXTtcbiAgICB9O1xuXG4gICAgTGV4ZXIucHJvdG90eXBlLm1ha2VUb2tlbiA9IGZ1bmN0aW9uKHRhZywgdmFsdWUsIG9mZnNldEluQ2h1bmssIGxlbmd0aCkge1xuICAgICAgdmFyIGxhc3RDaGFyYWN0ZXIsIGxvY2F0aW9uRGF0YSwgdG9rZW4sIF9yZWYyLCBfcmVmMztcbiAgICAgIGlmIChvZmZzZXRJbkNodW5rID09IG51bGwpIHtcbiAgICAgICAgb2Zmc2V0SW5DaHVuayA9IDA7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID09IG51bGwpIHtcbiAgICAgICAgbGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgbG9jYXRpb25EYXRhID0ge307XG4gICAgICBfcmVmMiA9IHRoaXMuZ2V0TGluZUFuZENvbHVtbkZyb21DaHVuayhvZmZzZXRJbkNodW5rKSwgbG9jYXRpb25EYXRhLmZpcnN0X2xpbmUgPSBfcmVmMlswXSwgbG9jYXRpb25EYXRhLmZpcnN0X2NvbHVtbiA9IF9yZWYyWzFdO1xuICAgICAgbGFzdENoYXJhY3RlciA9IE1hdGgubWF4KDAsIGxlbmd0aCAtIDEpO1xuICAgICAgX3JlZjMgPSB0aGlzLmdldExpbmVBbmRDb2x1bW5Gcm9tQ2h1bmsob2Zmc2V0SW5DaHVuayArIGxhc3RDaGFyYWN0ZXIpLCBsb2NhdGlvbkRhdGEubGFzdF9saW5lID0gX3JlZjNbMF0sIGxvY2F0aW9uRGF0YS5sYXN0X2NvbHVtbiA9IF9yZWYzWzFdO1xuICAgICAgdG9rZW4gPSBbdGFnLCB2YWx1ZSwgbG9jYXRpb25EYXRhXTtcbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9O1xuXG4gICAgTGV4ZXIucHJvdG90eXBlLnRva2VuID0gZnVuY3Rpb24odGFnLCB2YWx1ZSwgb2Zmc2V0SW5DaHVuaywgbGVuZ3RoLCBvcmlnaW4pIHtcbiAgICAgIHZhciB0b2tlbjtcbiAgICAgIHRva2VuID0gdGhpcy5tYWtlVG9rZW4odGFnLCB2YWx1ZSwgb2Zmc2V0SW5DaHVuaywgbGVuZ3RoKTtcbiAgICAgIGlmIChvcmlnaW4pIHtcbiAgICAgICAgdG9rZW4ub3JpZ2luID0gb3JpZ2luO1xuICAgICAgfVxuICAgICAgdGhpcy50b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfTtcblxuICAgIExleGVyLnByb3RvdHlwZS50YWcgPSBmdW5jdGlvbihpbmRleCwgdGFnKSB7XG4gICAgICB2YXIgdG9rO1xuICAgICAgcmV0dXJuICh0b2sgPSBsYXN0KHRoaXMudG9rZW5zLCBpbmRleCkpICYmICh0YWcgPyB0b2tbMF0gPSB0YWcgOiB0b2tbMF0pO1xuICAgIH07XG5cbiAgICBMZXhlci5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbihpbmRleCwgdmFsKSB7XG4gICAgICB2YXIgdG9rO1xuICAgICAgcmV0dXJuICh0b2sgPSBsYXN0KHRoaXMudG9rZW5zLCBpbmRleCkpICYmICh2YWwgPyB0b2tbMV0gPSB2YWwgOiB0b2tbMV0pO1xuICAgIH07XG5cbiAgICBMZXhlci5wcm90b3R5cGUudW5maW5pc2hlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF9yZWYyO1xuICAgICAgcmV0dXJuIExJTkVfQ09OVElOVUVSLnRlc3QodGhpcy5jaHVuaykgfHwgKChfcmVmMiA9IHRoaXMudGFnKCkpID09PSAnXFxcXCcgfHwgX3JlZjIgPT09ICcuJyB8fCBfcmVmMiA9PT0gJz8uJyB8fCBfcmVmMiA9PT0gJz86OicgfHwgX3JlZjIgPT09ICdVTkFSWScgfHwgX3JlZjIgPT09ICdNQVRIJyB8fCBfcmVmMiA9PT0gJ1VOQVJZX01BVEgnIHx8IF9yZWYyID09PSAnKycgfHwgX3JlZjIgPT09ICctJyB8fCBfcmVmMiA9PT0gJyoqJyB8fCBfcmVmMiA9PT0gJ1NISUZUJyB8fCBfcmVmMiA9PT0gJ1JFTEFUSU9OJyB8fCBfcmVmMiA9PT0gJ0NPTVBBUkUnIHx8IF9yZWYyID09PSAnTE9HSUMnIHx8IF9yZWYyID09PSAnVEhST1cnIHx8IF9yZWYyID09PSAnRVhURU5EUycpO1xuICAgIH07XG5cbiAgICBMZXhlci5wcm90b3R5cGUucmVtb3ZlTmV3bGluZXMgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXlxccypcXG5cXHMqLywgJycpLnJlcGxhY2UoLyhbXlxcXFxdfFxcXFxcXFxcKVxccypcXG5cXHMqJC8sICckMScpO1xuICAgIH07XG5cbiAgICBMZXhlci5wcm90b3R5cGUuZXNjYXBlTGluZXMgPSBmdW5jdGlvbihzdHIsIGhlcmVkb2MpIHtcbiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9cXFxcW15cXFNcXG5dKihcXG58XFxcXClcXHMqL2csIGZ1bmN0aW9uKGVzY2FwZWQsIGNoYXJhY3Rlcikge1xuICAgICAgICBpZiAoY2hhcmFjdGVyID09PSAnXFxuJykge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZXNjYXBlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoaGVyZWRvYykge1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoTVVMVElMSU5FUiwgJ1xcXFxuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xccypcXG5cXHMqL2csICcgJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIExleGVyLnByb3RvdHlwZS5tYWtlU3RyaW5nID0gZnVuY3Rpb24oYm9keSwgcXVvdGUsIGhlcmVkb2MpIHtcbiAgICAgIGlmICghYm9keSkge1xuICAgICAgICByZXR1cm4gcXVvdGUgKyBxdW90ZTtcbiAgICAgIH1cbiAgICAgIGJvZHkgPSBib2R5LnJlcGxhY2UoUmVnRXhwKFwiXFxcXFxcXFwoXCIgKyBxdW90ZSArIFwifFxcXFxcXFxcKVwiLCBcImdcIiksIGZ1bmN0aW9uKG1hdGNoLCBjb250ZW50cykge1xuICAgICAgICBpZiAoY29udGVudHMgPT09IHF1b3RlKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRlbnRzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBib2R5ID0gYm9keS5yZXBsYWNlKFJlZ0V4cChcIlwiICsgcXVvdGUsIFwiZ1wiKSwgJ1xcXFwkJicpO1xuICAgICAgcmV0dXJuIHF1b3RlICsgdGhpcy5lc2NhcGVMaW5lcyhib2R5LCBoZXJlZG9jKSArIHF1b3RlO1xuICAgIH07XG5cbiAgICBMZXhlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlLCBvZmZzZXQpIHtcbiAgICAgIHZhciBmaXJzdF9jb2x1bW4sIGZpcnN0X2xpbmUsIF9yZWYyO1xuICAgICAgaWYgKG9mZnNldCA9PSBudWxsKSB7XG4gICAgICAgIG9mZnNldCA9IDA7XG4gICAgICB9XG4gICAgICBfcmVmMiA9IHRoaXMuZ2V0TGluZUFuZENvbHVtbkZyb21DaHVuayhvZmZzZXQpLCBmaXJzdF9saW5lID0gX3JlZjJbMF0sIGZpcnN0X2NvbHVtbiA9IF9yZWYyWzFdO1xuICAgICAgcmV0dXJuIHRocm93U3ludGF4RXJyb3IobWVzc2FnZSwge1xuICAgICAgICBmaXJzdF9saW5lOiBmaXJzdF9saW5lLFxuICAgICAgICBmaXJzdF9jb2x1bW46IGZpcnN0X2NvbHVtblxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBMZXhlcjtcblxuICB9KSgpO1xuXG4gIEpTX0tFWVdPUkRTID0gWyd0cnVlJywgJ2ZhbHNlJywgJ251bGwnLCAndGhpcycsICduZXcnLCAnZGVsZXRlJywgJ3R5cGVvZicsICdpbicsICdpbnN0YW5jZW9mJywgJ3JldHVybicsICd0aHJvdycsICdicmVhaycsICdjb250aW51ZScsICdkZWJ1Z2dlcicsICdpZicsICdlbHNlJywgJ3N3aXRjaCcsICdmb3InLCAnd2hpbGUnLCAnZG8nLCAndHJ5JywgJ2NhdGNoJywgJ2ZpbmFsbHknLCAnY2xhc3MnLCAnZXh0ZW5kcycsICdzdXBlciddO1xuXG4gIENPRkZFRV9LRVlXT1JEUyA9IFsndW5kZWZpbmVkJywgJ3RoZW4nLCAndW5sZXNzJywgJ3VudGlsJywgJ2xvb3AnLCAnb2YnLCAnYnknLCAnd2hlbiddO1xuXG4gIENPRkZFRV9BTElBU19NQVAgPSB7XG4gICAgYW5kOiAnJiYnLFxuICAgIG9yOiAnfHwnLFxuICAgIGlzOiAnPT0nLFxuICAgIGlzbnQ6ICchPScsXG4gICAgbm90OiAnIScsXG4gICAgeWVzOiAndHJ1ZScsXG4gICAgbm86ICdmYWxzZScsXG4gICAgb246ICd0cnVlJyxcbiAgICBvZmY6ICdmYWxzZSdcbiAgfTtcblxuICBDT0ZGRUVfQUxJQVNFUyA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgX3Jlc3VsdHM7XG4gICAgX3Jlc3VsdHMgPSBbXTtcbiAgICBmb3IgKGtleSBpbiBDT0ZGRUVfQUxJQVNfTUFQKSB7XG4gICAgICBfcmVzdWx0cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBfcmVzdWx0cztcbiAgfSkoKTtcblxuICBDT0ZGRUVfS0VZV09SRFMgPSBDT0ZGRUVfS0VZV09SRFMuY29uY2F0KENPRkZFRV9BTElBU0VTKTtcblxuICBSRVNFUlZFRCA9IFsnY2FzZScsICdkZWZhdWx0JywgJ2Z1bmN0aW9uJywgJ3ZhcicsICd2b2lkJywgJ3dpdGgnLCAnY29uc3QnLCAnbGV0JywgJ2VudW0nLCAnZXhwb3J0JywgJ2ltcG9ydCcsICduYXRpdmUnLCAnX19oYXNQcm9wJywgJ19fZXh0ZW5kcycsICdfX3NsaWNlJywgJ19fYmluZCcsICdfX2luZGV4T2YnLCAnaW1wbGVtZW50cycsICdpbnRlcmZhY2UnLCAncGFja2FnZScsICdwcml2YXRlJywgJ3Byb3RlY3RlZCcsICdwdWJsaWMnLCAnc3RhdGljJywgJ3lpZWxkJ107XG5cbiAgU1RSSUNUX1BST1NDUklCRUQgPSBbJ2FyZ3VtZW50cycsICdldmFsJ107XG5cbiAgSlNfRk9SQklEREVOID0gSlNfS0VZV09SRFMuY29uY2F0KFJFU0VSVkVEKS5jb25jYXQoU1RSSUNUX1BST1NDUklCRUQpO1xuXG4gIGV4cG9ydHMuUkVTRVJWRUQgPSBSRVNFUlZFRC5jb25jYXQoSlNfS0VZV09SRFMpLmNvbmNhdChDT0ZGRUVfS0VZV09SRFMpLmNvbmNhdChTVFJJQ1RfUFJPU0NSSUJFRCk7XG5cbiAgZXhwb3J0cy5TVFJJQ1RfUFJPU0NSSUJFRCA9IFNUUklDVF9QUk9TQ1JJQkVEO1xuXG4gIEJPTSA9IDY1Mjc5O1xuXG4gIElERU5USUZJRVIgPSAvXihbJEEtWmEtel9cXHg3Zi1cXHVmZmZmXVskXFx3XFx4N2YtXFx1ZmZmZl0qKShbXlxcblxcU10qOig/ITopKT8vO1xuXG4gIE5VTUJFUiA9IC9eMGJbMDFdK3xeMG9bMC03XSt8XjB4W1xcZGEtZl0rfF5cXGQqXFwuP1xcZCsoPzplWystXT9cXGQrKT8vaTtcblxuICBIRVJFRE9DID0gL14oXCJcIlwifCcnJykoKD86XFxcXFtcXHNcXFNdfFteXFxcXF0pKj8pKD86XFxuW15cXG5cXFNdKik/XFwxLztcblxuICBPUEVSQVRPUiA9IC9eKD86Wy09XT58Wy0rKlxcLyU8PiZ8XiE/PV09fD4+Pj0/fChbLSs6XSlcXDF8KFsmfDw+KlxcLyVdKVxcMj0/fFxcPyhcXC58OjopfFxcLnsyLDN9KS87XG5cbiAgV0hJVEVTUEFDRSA9IC9eW15cXG5cXFNdKy87XG5cbiAgQ09NTUVOVCA9IC9eIyMjKFteI11bXFxzXFxTXSo/KSg/OiMjI1teXFxuXFxTXSp8IyMjJCl8Xig/OlxccyojKD8hIyNbXiNdKS4qKSsvO1xuXG4gIENPREUgPSAvXlstPV0+LztcblxuICBNVUxUSV9ERU5UID0gL14oPzpcXG5bXlxcblxcU10qKSsvO1xuXG4gIFNJTVBMRVNUUiA9IC9eJ1teXFxcXCddKig/OlxcXFxbXFxzXFxTXVteXFxcXCddKikqJy87XG5cbiAgSlNUT0tFTiA9IC9eYFteXFxcXGBdKig/OlxcXFwuW15cXFxcYF0qKSpgLztcblxuICBSRUdFWCA9IC9eKFxcLyg/IVtcXHM9XSlbXltcXC9cXG5cXFxcXSooPzooPzpcXFxcW1xcc1xcU118XFxbW15cXF1cXG5cXFxcXSooPzpcXFxcW1xcc1xcU11bXlxcXVxcblxcXFxdKikqXSlbXltcXC9cXG5cXFxcXSopKlxcLykoW2ltZ3ldezAsNH0pKD8hXFx3KS87XG5cbiAgSEVSRUdFWCA9IC9eXFwvezN9KCg/OlxcXFw/W1xcc1xcU10pKz8pXFwvezN9KFtpbWd5XXswLDR9KSg/IVxcdykvO1xuXG4gIEhFUkVHRVhfT01JVCA9IC8oKD86XFxcXFxcXFwpKyl8XFxcXChcXHN8XFwvKXxcXHMrKD86Iy4qKT8vZztcblxuICBNVUxUSUxJTkVSID0gL1xcbi9nO1xuXG4gIEhFUkVET0NfSU5ERU5UID0gL1xcbisoW15cXG5cXFNdKikvZztcblxuICBIRVJFRE9DX0lMTEVHQUwgPSAvXFwqXFwvLztcblxuICBMSU5FX0NPTlRJTlVFUiA9IC9eXFxzKig/Oix8XFw/P1xcLig/IVsuXFxkXSl8OjopLztcblxuICBUUkFJTElOR19TUEFDRVMgPSAvXFxzKyQvO1xuXG4gIENPTVBPVU5EX0FTU0lHTiA9IFsnLT0nLCAnKz0nLCAnLz0nLCAnKj0nLCAnJT0nLCAnfHw9JywgJyYmPScsICc/PScsICc8PD0nLCAnPj49JywgJz4+Pj0nLCAnJj0nLCAnXj0nLCAnfD0nLCAnKio9JywgJy8vPScsICclJT0nXTtcblxuICBVTkFSWSA9IFsnTkVXJywgJ1RZUEVPRicsICdERUxFVEUnLCAnRE8nXTtcblxuICBVTkFSWV9NQVRIID0gWychJywgJ34nXTtcblxuICBMT0dJQyA9IFsnJiYnLCAnfHwnLCAnJicsICd8JywgJ14nXTtcblxuICBTSElGVCA9IFsnPDwnLCAnPj4nLCAnPj4+J107XG5cbiAgQ09NUEFSRSA9IFsnPT0nLCAnIT0nLCAnPCcsICc+JywgJzw9JywgJz49J107XG5cbiAgTUFUSCA9IFsnKicsICcvJywgJyUnLCAnLy8nLCAnJSUnXTtcblxuICBSRUxBVElPTiA9IFsnSU4nLCAnT0YnLCAnSU5TVEFOQ0VPRiddO1xuXG4gIEJPT0wgPSBbJ1RSVUUnLCAnRkFMU0UnXTtcblxuICBOT1RfUkVHRVggPSBbJ05VTUJFUicsICdSRUdFWCcsICdCT09MJywgJ05VTEwnLCAnVU5ERUZJTkVEJywgJysrJywgJy0tJ107XG5cbiAgTk9UX1NQQUNFRF9SRUdFWCA9IE5PVF9SRUdFWC5jb25jYXQoJyknLCAnfScsICdUSElTJywgJ0lERU5USUZJRVInLCAnU1RSSU5HJywgJ10nKTtcblxuICBDQUxMQUJMRSA9IFsnSURFTlRJRklFUicsICdTVFJJTkcnLCAnUkVHRVgnLCAnKScsICddJywgJ30nLCAnPycsICc6OicsICdAJywgJ1RISVMnLCAnU1VQRVInXTtcblxuICBJTkRFWEFCTEUgPSBDQUxMQUJMRS5jb25jYXQoJ05VTUJFUicsICdCT09MJywgJ05VTEwnLCAnVU5ERUZJTkVEJyk7XG5cbiAgTElORV9CUkVBSyA9IFsnSU5ERU5UJywgJ09VVERFTlQnLCAnVEVSTUlOQVRPUiddO1xuXG4gIElOREVOVEFCTEVfQ0xPU0VSUyA9IFsnKScsICd9JywgJ10nXTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS44LjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIEFjY2VzcywgQXJyLCBBc3NpZ24sIEJhc2UsIEJsb2NrLCBDYWxsLCBDbGFzcywgQ29kZSwgQ29kZUZyYWdtZW50LCBDb21tZW50LCBFeGlzdGVuY2UsIEV4cGFuc2lvbiwgRXh0ZW5kcywgRm9yLCBIRVhOVU0sIElERU5USUZJRVIsIElERU5USUZJRVJfU1RSLCBJU19SRUdFWCwgSVNfU1RSSU5HLCBJZiwgSW4sIEluZGV4LCBMRVZFTF9BQ0NFU1MsIExFVkVMX0NPTkQsIExFVkVMX0xJU1QsIExFVkVMX09QLCBMRVZFTF9QQVJFTiwgTEVWRUxfVE9QLCBMaXRlcmFsLCBNRVRIT0RfREVGLCBORUdBVEUsIE5PLCBOVU1CRVIsIE9iaiwgT3AsIFBhcmFtLCBQYXJlbnMsIFJFU0VSVkVELCBSYW5nZSwgUmV0dXJuLCBTSU1QTEVOVU0sIFNUUklDVF9QUk9TQ1JJQkVELCBTY29wZSwgU2xpY2UsIFNwbGF0LCBTd2l0Y2gsIFRBQiwgVEhJUywgVGhyb3csIFRyeSwgVVRJTElUSUVTLCBWYWx1ZSwgV2hpbGUsIFlFUywgYWRkTG9jYXRpb25EYXRhRm4sIGNvbXBhY3QsIGRlbCwgZW5kcywgZXh0ZW5kLCBmbGF0dGVuLCBmcmFnbWVudHNUb1RleHQsIGlzTGl0ZXJhbEFyZ3VtZW50cywgaXNMaXRlcmFsVGhpcywgbGFzdCwgbG9jYXRpb25EYXRhVG9TdHJpbmcsIG1lcmdlLCBtdWx0aWRlbnQsIHBhcnNlTnVtLCBzb21lLCBzdGFydHMsIHRocm93U3ludGF4RXJyb3IsIHVuZm9sZFNvYWssIHV0aWxpdHksIF9yZWYsIF9yZWYxLFxuICAgIF9faGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5LFxuICAgIF9fZXh0ZW5kcyA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoX19oYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIF9faW5kZXhPZiA9IFtdLmluZGV4T2YgfHwgZnVuY3Rpb24oaXRlbSkgeyBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7IGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkgcmV0dXJuIGk7IH0gcmV0dXJuIC0xOyB9LFxuICAgIF9fc2xpY2UgPSBbXS5zbGljZTtcblxuICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSBJbmZpbml0eTtcblxuICBTY29wZSA9IHJlcXVpcmUoJy4vc2NvcGUnKS5TY29wZTtcblxuICBfcmVmID0gcmVxdWlyZSgnLi9sZXhlcicpLCBSRVNFUlZFRCA9IF9yZWYuUkVTRVJWRUQsIFNUUklDVF9QUk9TQ1JJQkVEID0gX3JlZi5TVFJJQ1RfUFJPU0NSSUJFRDtcblxuICBfcmVmMSA9IHJlcXVpcmUoJy4vaGVscGVycycpLCBjb21wYWN0ID0gX3JlZjEuY29tcGFjdCwgZmxhdHRlbiA9IF9yZWYxLmZsYXR0ZW4sIGV4dGVuZCA9IF9yZWYxLmV4dGVuZCwgbWVyZ2UgPSBfcmVmMS5tZXJnZSwgZGVsID0gX3JlZjEuZGVsLCBzdGFydHMgPSBfcmVmMS5zdGFydHMsIGVuZHMgPSBfcmVmMS5lbmRzLCBsYXN0ID0gX3JlZjEubGFzdCwgc29tZSA9IF9yZWYxLnNvbWUsIGFkZExvY2F0aW9uRGF0YUZuID0gX3JlZjEuYWRkTG9jYXRpb25EYXRhRm4sIGxvY2F0aW9uRGF0YVRvU3RyaW5nID0gX3JlZjEubG9jYXRpb25EYXRhVG9TdHJpbmcsIHRocm93U3ludGF4RXJyb3IgPSBfcmVmMS50aHJvd1N5bnRheEVycm9yO1xuXG4gIGV4cG9ydHMuZXh0ZW5kID0gZXh0ZW5kO1xuXG4gIGV4cG9ydHMuYWRkTG9jYXRpb25EYXRhRm4gPSBhZGRMb2NhdGlvbkRhdGFGbjtcblxuICBZRVMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICBOTyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBUSElTID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgTkVHQVRFID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5uZWdhdGVkID0gIXRoaXMubmVnYXRlZDtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBleHBvcnRzLkNvZGVGcmFnbWVudCA9IENvZGVGcmFnbWVudCA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBDb2RlRnJhZ21lbnQocGFyZW50LCBjb2RlKSB7XG4gICAgICB2YXIgX3JlZjI7XG4gICAgICB0aGlzLmNvZGUgPSBcIlwiICsgY29kZTtcbiAgICAgIHRoaXMubG9jYXRpb25EYXRhID0gcGFyZW50ICE9IG51bGwgPyBwYXJlbnQubG9jYXRpb25EYXRhIDogdm9pZCAwO1xuICAgICAgdGhpcy50eXBlID0gKHBhcmVudCAhPSBudWxsID8gKF9yZWYyID0gcGFyZW50LmNvbnN0cnVjdG9yKSAhPSBudWxsID8gX3JlZjIubmFtZSA6IHZvaWQgMCA6IHZvaWQgMCkgfHwgJ3Vua25vd24nO1xuICAgIH1cblxuICAgIENvZGVGcmFnbWVudC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdGhpcy5jb2RlICsgKHRoaXMubG9jYXRpb25EYXRhID8gXCI6IFwiICsgbG9jYXRpb25EYXRhVG9TdHJpbmcodGhpcy5sb2NhdGlvbkRhdGEpIDogJycpO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ29kZUZyYWdtZW50O1xuXG4gIH0pKCk7XG5cbiAgZnJhZ21lbnRzVG9UZXh0ID0gZnVuY3Rpb24oZnJhZ21lbnRzKSB7XG4gICAgdmFyIGZyYWdtZW50O1xuICAgIHJldHVybiAoKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF9pLCBfbGVuLCBfcmVzdWx0cztcbiAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IGZyYWdtZW50cy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBmcmFnbWVudCA9IGZyYWdtZW50c1tfaV07XG4gICAgICAgIF9yZXN1bHRzLnB1c2goZnJhZ21lbnQuY29kZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgfSkoKSkuam9pbignJyk7XG4gIH07XG5cbiAgZXhwb3J0cy5CYXNlID0gQmFzZSA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBCYXNlKCkge31cblxuICAgIEJhc2UucHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbihvLCBsdmwpIHtcbiAgICAgIHJldHVybiBmcmFnbWVudHNUb1RleHQodGhpcy5jb21waWxlVG9GcmFnbWVudHMobywgbHZsKSk7XG4gICAgfTtcblxuICAgIEJhc2UucHJvdG90eXBlLmNvbXBpbGVUb0ZyYWdtZW50cyA9IGZ1bmN0aW9uKG8sIGx2bCkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICBvID0gZXh0ZW5kKHt9LCBvKTtcbiAgICAgIGlmIChsdmwpIHtcbiAgICAgICAgby5sZXZlbCA9IGx2bDtcbiAgICAgIH1cbiAgICAgIG5vZGUgPSB0aGlzLnVuZm9sZFNvYWsobykgfHwgdGhpcztcbiAgICAgIG5vZGUudGFiID0gby5pbmRlbnQ7XG4gICAgICBpZiAoby5sZXZlbCA9PT0gTEVWRUxfVE9QIHx8ICFub2RlLmlzU3RhdGVtZW50KG8pKSB7XG4gICAgICAgIHJldHVybiBub2RlLmNvbXBpbGVOb2RlKG8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuY29tcGlsZUNsb3N1cmUobyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEJhc2UucHJvdG90eXBlLmNvbXBpbGVDbG9zdXJlID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIGFyZ3MsIGFyZ3VtZW50c05vZGUsIGZ1bmMsIGp1bXBOb2RlLCBtZXRoO1xuICAgICAgaWYgKGp1bXBOb2RlID0gdGhpcy5qdW1wcygpKSB7XG4gICAgICAgIGp1bXBOb2RlLmVycm9yKCdjYW5ub3QgdXNlIGEgcHVyZSBzdGF0ZW1lbnQgaW4gYW4gZXhwcmVzc2lvbicpO1xuICAgICAgfVxuICAgICAgby5zaGFyZWRTY29wZSA9IHRydWU7XG4gICAgICBmdW5jID0gbmV3IENvZGUoW10sIEJsb2NrLndyYXAoW3RoaXNdKSk7XG4gICAgICBhcmdzID0gW107XG4gICAgICBpZiAoKGFyZ3VtZW50c05vZGUgPSB0aGlzLmNvbnRhaW5zKGlzTGl0ZXJhbEFyZ3VtZW50cykpIHx8IHRoaXMuY29udGFpbnMoaXNMaXRlcmFsVGhpcykpIHtcbiAgICAgICAgYXJncyA9IFtuZXcgTGl0ZXJhbCgndGhpcycpXTtcbiAgICAgICAgaWYgKGFyZ3VtZW50c05vZGUpIHtcbiAgICAgICAgICBtZXRoID0gJ2FwcGx5JztcbiAgICAgICAgICBhcmdzLnB1c2gobmV3IExpdGVyYWwoJ2FyZ3VtZW50cycpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZXRoID0gJ2NhbGwnO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmMgPSBuZXcgVmFsdWUoZnVuYywgW25ldyBBY2Nlc3MobmV3IExpdGVyYWwobWV0aCkpXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG5ldyBDYWxsKGZ1bmMsIGFyZ3MpKS5jb21waWxlTm9kZShvKTtcbiAgICB9O1xuXG4gICAgQmFzZS5wcm90b3R5cGUuY2FjaGUgPSBmdW5jdGlvbihvLCBsZXZlbCwgcmV1c2VkKSB7XG4gICAgICB2YXIgcmVmLCBzdWI7XG4gICAgICBpZiAoIXRoaXMuaXNDb21wbGV4KCkpIHtcbiAgICAgICAgcmVmID0gbGV2ZWwgPyB0aGlzLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBsZXZlbCkgOiB0aGlzO1xuICAgICAgICByZXR1cm4gW3JlZiwgcmVmXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlZiA9IG5ldyBMaXRlcmFsKHJldXNlZCB8fCBvLnNjb3BlLmZyZWVWYXJpYWJsZSgncmVmJykpO1xuICAgICAgICBzdWIgPSBuZXcgQXNzaWduKHJlZiwgdGhpcyk7XG4gICAgICAgIGlmIChsZXZlbCkge1xuICAgICAgICAgIHJldHVybiBbc3ViLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBsZXZlbCksIFt0aGlzLm1ha2VDb2RlKHJlZi52YWx1ZSldXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gW3N1YiwgcmVmXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBCYXNlLnByb3RvdHlwZS5jYWNoZVRvQ29kZUZyYWdtZW50cyA9IGZ1bmN0aW9uKGNhY2hlVmFsdWVzKSB7XG4gICAgICByZXR1cm4gW2ZyYWdtZW50c1RvVGV4dChjYWNoZVZhbHVlc1swXSksIGZyYWdtZW50c1RvVGV4dChjYWNoZVZhbHVlc1sxXSldO1xuICAgIH07XG5cbiAgICBCYXNlLnByb3RvdHlwZS5tYWtlUmV0dXJuID0gZnVuY3Rpb24ocmVzKSB7XG4gICAgICB2YXIgbWU7XG4gICAgICBtZSA9IHRoaXMudW53cmFwQWxsKCk7XG4gICAgICBpZiAocmVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2FsbChuZXcgTGl0ZXJhbChcIlwiICsgcmVzICsgXCIucHVzaFwiKSwgW21lXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IFJldHVybihtZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEJhc2UucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24ocHJlZCkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICBub2RlID0gdm9pZCAwO1xuICAgICAgdGhpcy50cmF2ZXJzZUNoaWxkcmVuKGZhbHNlLCBmdW5jdGlvbihuKSB7XG4gICAgICAgIGlmIChwcmVkKG4pKSB7XG4gICAgICAgICAgbm9kZSA9IG47XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH07XG5cbiAgICBCYXNlLnByb3RvdHlwZS5sYXN0Tm9uQ29tbWVudCA9IGZ1bmN0aW9uKGxpc3QpIHtcbiAgICAgIHZhciBpO1xuICAgICAgaSA9IGxpc3QubGVuZ3RoO1xuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICBpZiAoIShsaXN0W2ldIGluc3RhbmNlb2YgQ29tbWVudCkpIHtcbiAgICAgICAgICByZXR1cm4gbGlzdFtpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIEJhc2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oaWR0LCBuYW1lKSB7XG4gICAgICB2YXIgdHJlZTtcbiAgICAgIGlmIChpZHQgPT0gbnVsbCkge1xuICAgICAgICBpZHQgPSAnJztcbiAgICAgIH1cbiAgICAgIGlmIChuYW1lID09IG51bGwpIHtcbiAgICAgICAgbmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICAgIH1cbiAgICAgIHRyZWUgPSAnXFxuJyArIGlkdCArIG5hbWU7XG4gICAgICBpZiAodGhpcy5zb2FrKSB7XG4gICAgICAgIHRyZWUgKz0gJz8nO1xuICAgICAgfVxuICAgICAgdGhpcy5lYWNoQ2hpbGQoZnVuY3Rpb24obm9kZSkge1xuICAgICAgICByZXR1cm4gdHJlZSArPSBub2RlLnRvU3RyaW5nKGlkdCArIFRBQik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cmVlO1xuICAgIH07XG5cbiAgICBCYXNlLnByb3RvdHlwZS5lYWNoQ2hpbGQgPSBmdW5jdGlvbihmdW5jKSB7XG4gICAgICB2YXIgYXR0ciwgY2hpbGQsIF9pLCBfaiwgX2xlbiwgX2xlbjEsIF9yZWYyLCBfcmVmMztcbiAgICAgIGlmICghdGhpcy5jaGlsZHJlbikge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIF9yZWYyID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZjIubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgYXR0ciA9IF9yZWYyW19pXTtcbiAgICAgICAgaWYgKHRoaXNbYXR0cl0pIHtcbiAgICAgICAgICBfcmVmMyA9IGZsYXR0ZW4oW3RoaXNbYXR0cl1dKTtcbiAgICAgICAgICBmb3IgKF9qID0gMCwgX2xlbjEgPSBfcmVmMy5sZW5ndGg7IF9qIDwgX2xlbjE7IF9qKyspIHtcbiAgICAgICAgICAgIGNoaWxkID0gX3JlZjNbX2pdO1xuICAgICAgICAgICAgaWYgKGZ1bmMoY2hpbGQpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBCYXNlLnByb3RvdHlwZS50cmF2ZXJzZUNoaWxkcmVuID0gZnVuY3Rpb24oY3Jvc3NTY29wZSwgZnVuYykge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaENoaWxkKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgIHZhciByZWN1cjtcbiAgICAgICAgcmVjdXIgPSBmdW5jKGNoaWxkKTtcbiAgICAgICAgaWYgKHJlY3VyICE9PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBjaGlsZC50cmF2ZXJzZUNoaWxkcmVuKGNyb3NzU2NvcGUsIGZ1bmMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgQmFzZS5wcm90b3R5cGUuaW52ZXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IE9wKCchJywgdGhpcyk7XG4gICAgfTtcblxuICAgIEJhc2UucHJvdG90eXBlLnVud3JhcEFsbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICBub2RlID0gdGhpcztcbiAgICAgIHdoaWxlIChub2RlICE9PSAobm9kZSA9IG5vZGUudW53cmFwKCkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfTtcblxuICAgIEJhc2UucHJvdG90eXBlLmNoaWxkcmVuID0gW107XG5cbiAgICBCYXNlLnByb3RvdHlwZS5pc1N0YXRlbWVudCA9IE5PO1xuXG4gICAgQmFzZS5wcm90b3R5cGUuanVtcHMgPSBOTztcblxuICAgIEJhc2UucHJvdG90eXBlLmlzQ29tcGxleCA9IFlFUztcblxuICAgIEJhc2UucHJvdG90eXBlLmlzQ2hhaW5hYmxlID0gTk87XG5cbiAgICBCYXNlLnByb3RvdHlwZS5pc0Fzc2lnbmFibGUgPSBOTztcblxuICAgIEJhc2UucHJvdG90eXBlLnVud3JhcCA9IFRISVM7XG5cbiAgICBCYXNlLnByb3RvdHlwZS51bmZvbGRTb2FrID0gTk87XG5cbiAgICBCYXNlLnByb3RvdHlwZS5hc3NpZ25zID0gTk87XG5cbiAgICBCYXNlLnByb3RvdHlwZS51cGRhdGVMb2NhdGlvbkRhdGFJZk1pc3NpbmcgPSBmdW5jdGlvbihsb2NhdGlvbkRhdGEpIHtcbiAgICAgIGlmICh0aGlzLmxvY2F0aW9uRGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHRoaXMubG9jYXRpb25EYXRhID0gbG9jYXRpb25EYXRhO1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaENoaWxkKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgIHJldHVybiBjaGlsZC51cGRhdGVMb2NhdGlvbkRhdGFJZk1pc3NpbmcobG9jYXRpb25EYXRhKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBCYXNlLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aHJvd1N5bnRheEVycm9yKG1lc3NhZ2UsIHRoaXMubG9jYXRpb25EYXRhKTtcbiAgICB9O1xuXG4gICAgQmFzZS5wcm90b3R5cGUubWFrZUNvZGUgPSBmdW5jdGlvbihjb2RlKSB7XG4gICAgICByZXR1cm4gbmV3IENvZGVGcmFnbWVudCh0aGlzLCBjb2RlKTtcbiAgICB9O1xuXG4gICAgQmFzZS5wcm90b3R5cGUud3JhcEluQnJhY2VzID0gZnVuY3Rpb24oZnJhZ21lbnRzKSB7XG4gICAgICByZXR1cm4gW10uY29uY2F0KHRoaXMubWFrZUNvZGUoJygnKSwgZnJhZ21lbnRzLCB0aGlzLm1ha2VDb2RlKCcpJykpO1xuICAgIH07XG5cbiAgICBCYXNlLnByb3RvdHlwZS5qb2luRnJhZ21lbnRBcnJheXMgPSBmdW5jdGlvbihmcmFnbWVudHNMaXN0LCBqb2luU3RyKSB7XG4gICAgICB2YXIgYW5zd2VyLCBmcmFnbWVudHMsIGksIF9pLCBfbGVuO1xuICAgICAgYW5zd2VyID0gW107XG4gICAgICBmb3IgKGkgPSBfaSA9IDAsIF9sZW4gPSBmcmFnbWVudHNMaXN0Lmxlbmd0aDsgX2kgPCBfbGVuOyBpID0gKytfaSkge1xuICAgICAgICBmcmFnbWVudHMgPSBmcmFnbWVudHNMaXN0W2ldO1xuICAgICAgICBpZiAoaSkge1xuICAgICAgICAgIGFuc3dlci5wdXNoKHRoaXMubWFrZUNvZGUoam9pblN0cikpO1xuICAgICAgICB9XG4gICAgICAgIGFuc3dlciA9IGFuc3dlci5jb25jYXQoZnJhZ21lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhbnN3ZXI7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXNlO1xuXG4gIH0pKCk7XG5cbiAgZXhwb3J0cy5CbG9jayA9IEJsb2NrID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCbG9jaywgX3N1cGVyKTtcblxuICAgIGZ1bmN0aW9uIEJsb2NrKG5vZGVzKSB7XG4gICAgICB0aGlzLmV4cHJlc3Npb25zID0gY29tcGFjdChmbGF0dGVuKG5vZGVzIHx8IFtdKSk7XG4gICAgfVxuXG4gICAgQmxvY2sucHJvdG90eXBlLmNoaWxkcmVuID0gWydleHByZXNzaW9ucyddO1xuXG4gICAgQmxvY2sucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbihub2RlKSB7XG4gICAgICB0aGlzLmV4cHJlc3Npb25zLnB1c2gobm9kZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgQmxvY2sucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXhwcmVzc2lvbnMucG9wKCk7XG4gICAgfTtcblxuICAgIEJsb2NrLnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgdGhpcy5leHByZXNzaW9ucy51bnNoaWZ0KG5vZGUpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIEJsb2NrLnByb3RvdHlwZS51bndyYXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmV4cHJlc3Npb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5leHByZXNzaW9uc1swXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBCbG9jay5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICF0aGlzLmV4cHJlc3Npb25zLmxlbmd0aDtcbiAgICB9O1xuXG4gICAgQmxvY2sucHJvdG90eXBlLmlzU3RhdGVtZW50ID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIGV4cCwgX2ksIF9sZW4sIF9yZWYyO1xuICAgICAgX3JlZjIgPSB0aGlzLmV4cHJlc3Npb25zO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmMi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBleHAgPSBfcmVmMltfaV07XG4gICAgICAgIGlmIChleHAuaXNTdGF0ZW1lbnQobykpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBCbG9jay5wcm90b3R5cGUuanVtcHMgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgZXhwLCBqdW1wTm9kZSwgX2ksIF9sZW4sIF9yZWYyO1xuICAgICAgX3JlZjIgPSB0aGlzLmV4cHJlc3Npb25zO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmMi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBleHAgPSBfcmVmMltfaV07XG4gICAgICAgIGlmIChqdW1wTm9kZSA9IGV4cC5qdW1wcyhvKSkge1xuICAgICAgICAgIHJldHVybiBqdW1wTm9kZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBCbG9jay5wcm90b3R5cGUubWFrZVJldHVybiA9IGZ1bmN0aW9uKHJlcykge1xuICAgICAgdmFyIGV4cHIsIGxlbjtcbiAgICAgIGxlbiA9IHRoaXMuZXhwcmVzc2lvbnMubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbi0tKSB7XG4gICAgICAgIGV4cHIgPSB0aGlzLmV4cHJlc3Npb25zW2xlbl07XG4gICAgICAgIGlmICghKGV4cHIgaW5zdGFuY2VvZiBDb21tZW50KSkge1xuICAgICAgICAgIHRoaXMuZXhwcmVzc2lvbnNbbGVuXSA9IGV4cHIubWFrZVJldHVybihyZXMpO1xuICAgICAgICAgIGlmIChleHByIGluc3RhbmNlb2YgUmV0dXJuICYmICFleHByLmV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMuZXhwcmVzc2lvbnMuc3BsaWNlKGxlbiwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgQmxvY2sucHJvdG90eXBlLmNvbXBpbGVUb0ZyYWdtZW50cyA9IGZ1bmN0aW9uKG8sIGxldmVsKSB7XG4gICAgICBpZiAobyA9PSBudWxsKSB7XG4gICAgICAgIG8gPSB7fTtcbiAgICAgIH1cbiAgICAgIGlmIChvLnNjb3BlKSB7XG4gICAgICAgIHJldHVybiBCbG9jay5fX3N1cGVyX18uY29tcGlsZVRvRnJhZ21lbnRzLmNhbGwodGhpcywgbywgbGV2ZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZVJvb3Qobyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEJsb2NrLnByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBhbnN3ZXIsIGNvbXBpbGVkTm9kZXMsIGZyYWdtZW50cywgaW5kZXgsIG5vZGUsIHRvcCwgX2ksIF9sZW4sIF9yZWYyO1xuICAgICAgdGhpcy50YWIgPSBvLmluZGVudDtcbiAgICAgIHRvcCA9IG8ubGV2ZWwgPT09IExFVkVMX1RPUDtcbiAgICAgIGNvbXBpbGVkTm9kZXMgPSBbXTtcbiAgICAgIF9yZWYyID0gdGhpcy5leHByZXNzaW9ucztcbiAgICAgIGZvciAoaW5kZXggPSBfaSA9IDAsIF9sZW4gPSBfcmVmMi5sZW5ndGg7IF9pIDwgX2xlbjsgaW5kZXggPSArK19pKSB7XG4gICAgICAgIG5vZGUgPSBfcmVmMltpbmRleF07XG4gICAgICAgIG5vZGUgPSBub2RlLnVud3JhcEFsbCgpO1xuICAgICAgICBub2RlID0gbm9kZS51bmZvbGRTb2FrKG8pIHx8IG5vZGU7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQmxvY2spIHtcbiAgICAgICAgICBjb21waWxlZE5vZGVzLnB1c2gobm9kZS5jb21waWxlTm9kZShvKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodG9wKSB7XG4gICAgICAgICAgbm9kZS5mcm9udCA9IHRydWU7XG4gICAgICAgICAgZnJhZ21lbnRzID0gbm9kZS5jb21waWxlVG9GcmFnbWVudHMobyk7XG4gICAgICAgICAgaWYgKCFub2RlLmlzU3RhdGVtZW50KG8pKSB7XG4gICAgICAgICAgICBmcmFnbWVudHMudW5zaGlmdCh0aGlzLm1ha2VDb2RlKFwiXCIgKyB0aGlzLnRhYikpO1xuICAgICAgICAgICAgZnJhZ21lbnRzLnB1c2godGhpcy5tYWtlQ29kZShcIjtcIikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb21waWxlZE5vZGVzLnB1c2goZnJhZ21lbnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb21waWxlZE5vZGVzLnB1c2gobm9kZS5jb21waWxlVG9GcmFnbWVudHMobywgTEVWRUxfTElTVCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodG9wKSB7XG4gICAgICAgIGlmICh0aGlzLnNwYWNlZCkge1xuICAgICAgICAgIHJldHVybiBbXS5jb25jYXQodGhpcy5qb2luRnJhZ21lbnRBcnJheXMoY29tcGlsZWROb2RlcywgJ1xcblxcbicpLCB0aGlzLm1ha2VDb2RlKFwiXFxuXCIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5qb2luRnJhZ21lbnRBcnJheXMoY29tcGlsZWROb2RlcywgJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY29tcGlsZWROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgYW5zd2VyID0gdGhpcy5qb2luRnJhZ21lbnRBcnJheXMoY29tcGlsZWROb2RlcywgJywgJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbnN3ZXIgPSBbdGhpcy5tYWtlQ29kZShcInZvaWQgMFwiKV07XG4gICAgICB9XG4gICAgICBpZiAoY29tcGlsZWROb2Rlcy5sZW5ndGggPiAxICYmIG8ubGV2ZWwgPj0gTEVWRUxfTElTVCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwSW5CcmFjZXMoYW5zd2VyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhbnN3ZXI7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEJsb2NrLnByb3RvdHlwZS5jb21waWxlUm9vdCA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBleHAsIGZyYWdtZW50cywgaSwgbmFtZSwgcHJlbHVkZSwgcHJlbHVkZUV4cHMsIHJlc3QsIF9pLCBfbGVuLCBfcmVmMjtcbiAgICAgIG8uaW5kZW50ID0gby5iYXJlID8gJycgOiBUQUI7XG4gICAgICBvLmxldmVsID0gTEVWRUxfVE9QO1xuICAgICAgdGhpcy5zcGFjZWQgPSB0cnVlO1xuICAgICAgby5zY29wZSA9IG5ldyBTY29wZShudWxsLCB0aGlzLCBudWxsKTtcbiAgICAgIF9yZWYyID0gby5sb2NhbHMgfHwgW107XG4gICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYyLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgIG5hbWUgPSBfcmVmMltfaV07XG4gICAgICAgIG8uc2NvcGUucGFyYW1ldGVyKG5hbWUpO1xuICAgICAgfVxuICAgICAgcHJlbHVkZSA9IFtdO1xuICAgICAgaWYgKCFvLmJhcmUpIHtcbiAgICAgICAgcHJlbHVkZUV4cHMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIF9qLCBfbGVuMSwgX3JlZjMsIF9yZXN1bHRzO1xuICAgICAgICAgIF9yZWYzID0gdGhpcy5leHByZXNzaW9ucztcbiAgICAgICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgICAgIGZvciAoaSA9IF9qID0gMCwgX2xlbjEgPSBfcmVmMy5sZW5ndGg7IF9qIDwgX2xlbjE7IGkgPSArK19qKSB7XG4gICAgICAgICAgICBleHAgPSBfcmVmM1tpXTtcbiAgICAgICAgICAgIGlmICghKGV4cC51bndyYXAoKSBpbnN0YW5jZW9mIENvbW1lbnQpKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3Jlc3VsdHMucHVzaChleHApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgICAgIH0pLmNhbGwodGhpcyk7XG4gICAgICAgIHJlc3QgPSB0aGlzLmV4cHJlc3Npb25zLnNsaWNlKHByZWx1ZGVFeHBzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbnMgPSBwcmVsdWRlRXhwcztcbiAgICAgICAgaWYgKHByZWx1ZGVFeHBzLmxlbmd0aCkge1xuICAgICAgICAgIHByZWx1ZGUgPSB0aGlzLmNvbXBpbGVOb2RlKG1lcmdlKG8sIHtcbiAgICAgICAgICAgIGluZGVudDogJydcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgcHJlbHVkZS5wdXNoKHRoaXMubWFrZUNvZGUoXCJcXG5cIikpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbnMgPSByZXN0O1xuICAgICAgfVxuICAgICAgZnJhZ21lbnRzID0gdGhpcy5jb21waWxlV2l0aERlY2xhcmF0aW9ucyhvKTtcbiAgICAgIGlmIChvLmJhcmUpIHtcbiAgICAgICAgcmV0dXJuIGZyYWdtZW50cztcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXS5jb25jYXQocHJlbHVkZSwgdGhpcy5tYWtlQ29kZShcIihmdW5jdGlvbigpIHtcXG5cIiksIGZyYWdtZW50cywgdGhpcy5tYWtlQ29kZShcIlxcbn0pLmNhbGwodGhpcyk7XFxuXCIpKTtcbiAgICB9O1xuXG4gICAgQmxvY2sucHJvdG90eXBlLmNvbXBpbGVXaXRoRGVjbGFyYXRpb25zID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIGFzc2lnbnMsIGRlY2xhcnMsIGV4cCwgZnJhZ21lbnRzLCBpLCBwb3N0LCByZXN0LCBzY29wZSwgc3BhY2VkLCBfaSwgX2xlbiwgX3JlZjIsIF9yZWYzLCBfcmVmNDtcbiAgICAgIGZyYWdtZW50cyA9IFtdO1xuICAgICAgcG9zdCA9IFtdO1xuICAgICAgX3JlZjIgPSB0aGlzLmV4cHJlc3Npb25zO1xuICAgICAgZm9yIChpID0gX2kgPSAwLCBfbGVuID0gX3JlZjIubGVuZ3RoOyBfaSA8IF9sZW47IGkgPSArK19pKSB7XG4gICAgICAgIGV4cCA9IF9yZWYyW2ldO1xuICAgICAgICBleHAgPSBleHAudW53cmFwKCk7XG4gICAgICAgIGlmICghKGV4cCBpbnN0YW5jZW9mIENvbW1lbnQgfHwgZXhwIGluc3RhbmNlb2YgTGl0ZXJhbCkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbyA9IG1lcmdlKG8sIHtcbiAgICAgICAgbGV2ZWw6IExFVkVMX1RPUFxuICAgICAgfSk7XG4gICAgICBpZiAoaSkge1xuICAgICAgICByZXN0ID0gdGhpcy5leHByZXNzaW9ucy5zcGxpY2UoaSwgOWU5KTtcbiAgICAgICAgX3JlZjMgPSBbdGhpcy5zcGFjZWQsIGZhbHNlXSwgc3BhY2VkID0gX3JlZjNbMF0sIHRoaXMuc3BhY2VkID0gX3JlZjNbMV07XG4gICAgICAgIF9yZWY0ID0gW3RoaXMuY29tcGlsZU5vZGUobyksIHNwYWNlZF0sIGZyYWdtZW50cyA9IF9yZWY0WzBdLCB0aGlzLnNwYWNlZCA9IF9yZWY0WzFdO1xuICAgICAgICB0aGlzLmV4cHJlc3Npb25zID0gcmVzdDtcbiAgICAgIH1cbiAgICAgIHBvc3QgPSB0aGlzLmNvbXBpbGVOb2RlKG8pO1xuICAgICAgc2NvcGUgPSBvLnNjb3BlO1xuICAgICAgaWYgKHNjb3BlLmV4cHJlc3Npb25zID09PSB0aGlzKSB7XG4gICAgICAgIGRlY2xhcnMgPSBvLnNjb3BlLmhhc0RlY2xhcmF0aW9ucygpO1xuICAgICAgICBhc3NpZ25zID0gc2NvcGUuaGFzQXNzaWdubWVudHM7XG4gICAgICAgIGlmIChkZWNsYXJzIHx8IGFzc2lnbnMpIHtcbiAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgZnJhZ21lbnRzLnB1c2godGhpcy5tYWtlQ29kZSgnXFxuJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmcmFnbWVudHMucHVzaCh0aGlzLm1ha2VDb2RlKFwiXCIgKyB0aGlzLnRhYiArIFwidmFyIFwiKSk7XG4gICAgICAgICAgaWYgKGRlY2xhcnMpIHtcbiAgICAgICAgICAgIGZyYWdtZW50cy5wdXNoKHRoaXMubWFrZUNvZGUoc2NvcGUuZGVjbGFyZWRWYXJpYWJsZXMoKS5qb2luKCcsICcpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhc3NpZ25zKSB7XG4gICAgICAgICAgICBpZiAoZGVjbGFycykge1xuICAgICAgICAgICAgICBmcmFnbWVudHMucHVzaCh0aGlzLm1ha2VDb2RlKFwiLFxcblwiICsgKHRoaXMudGFiICsgVEFCKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhZ21lbnRzLnB1c2godGhpcy5tYWtlQ29kZShzY29wZS5hc3NpZ25lZFZhcmlhYmxlcygpLmpvaW4oXCIsXFxuXCIgKyAodGhpcy50YWIgKyBUQUIpKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmcmFnbWVudHMucHVzaCh0aGlzLm1ha2VDb2RlKFwiO1xcblwiICsgKHRoaXMuc3BhY2VkID8gJ1xcbicgOiAnJykpKTtcbiAgICAgICAgfSBlbHNlIGlmIChmcmFnbWVudHMubGVuZ3RoICYmIHBvc3QubGVuZ3RoKSB7XG4gICAgICAgICAgZnJhZ21lbnRzLnB1c2godGhpcy5tYWtlQ29kZShcIlxcblwiKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmcmFnbWVudHMuY29uY2F0KHBvc3QpO1xuICAgIH07XG5cbiAgICBCbG9jay53cmFwID0gZnVuY3Rpb24obm9kZXMpIHtcbiAgICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDEgJiYgbm9kZXNbMF0gaW5zdGFuY2VvZiBCbG9jaykge1xuICAgICAgICByZXR1cm4gbm9kZXNbMF07XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEJsb2NrKG5vZGVzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEJsb2NrO1xuXG4gIH0pKEJhc2UpO1xuXG4gIGV4cG9ydHMuTGl0ZXJhbCA9IExpdGVyYWwgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExpdGVyYWwsIF9zdXBlcik7XG5cbiAgICBmdW5jdGlvbiBMaXRlcmFsKHZhbHVlKSB7XG4gICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgTGl0ZXJhbC5wcm90b3R5cGUubWFrZVJldHVybiA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuaXNTdGF0ZW1lbnQoKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLl9fc3VwZXJfXy5tYWtlUmV0dXJuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIExpdGVyYWwucHJvdG90eXBlLmlzQXNzaWduYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIElERU5USUZJRVIudGVzdCh0aGlzLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgTGl0ZXJhbC5wcm90b3R5cGUuaXNTdGF0ZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBfcmVmMjtcbiAgICAgIHJldHVybiAoX3JlZjIgPSB0aGlzLnZhbHVlKSA9PT0gJ2JyZWFrJyB8fCBfcmVmMiA9PT0gJ2NvbnRpbnVlJyB8fCBfcmVmMiA9PT0gJ2RlYnVnZ2VyJztcbiAgICB9O1xuXG4gICAgTGl0ZXJhbC5wcm90b3R5cGUuaXNDb21wbGV4ID0gTk87XG5cbiAgICBMaXRlcmFsLnByb3RvdHlwZS5hc3NpZ25zID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgcmV0dXJuIG5hbWUgPT09IHRoaXMudmFsdWU7XG4gICAgfTtcblxuICAgIExpdGVyYWwucHJvdG90eXBlLmp1bXBzID0gZnVuY3Rpb24obykge1xuICAgICAgaWYgKHRoaXMudmFsdWUgPT09ICdicmVhaycgJiYgISgobyAhPSBudWxsID8gby5sb29wIDogdm9pZCAwKSB8fCAobyAhPSBudWxsID8gby5ibG9jayA6IHZvaWQgMCkpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmFsdWUgPT09ICdjb250aW51ZScgJiYgIShvICE9IG51bGwgPyBvLmxvb3AgOiB2b2lkIDApKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBMaXRlcmFsLnByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBhbnN3ZXIsIGNvZGUsIF9yZWYyO1xuICAgICAgY29kZSA9IHRoaXMudmFsdWUgPT09ICd0aGlzJyA/ICgoX3JlZjIgPSBvLnNjb3BlLm1ldGhvZCkgIT0gbnVsbCA/IF9yZWYyLmJvdW5kIDogdm9pZCAwKSA/IG8uc2NvcGUubWV0aG9kLmNvbnRleHQgOiB0aGlzLnZhbHVlIDogdGhpcy52YWx1ZS5yZXNlcnZlZCA/IFwiXFxcIlwiICsgdGhpcy52YWx1ZSArIFwiXFxcIlwiIDogdGhpcy52YWx1ZTtcbiAgICAgIGFuc3dlciA9IHRoaXMuaXNTdGF0ZW1lbnQoKSA/IFwiXCIgKyB0aGlzLnRhYiArIGNvZGUgKyBcIjtcIiA6IGNvZGU7XG4gICAgICByZXR1cm4gW3RoaXMubWFrZUNvZGUoYW5zd2VyKV07XG4gICAgfTtcblxuICAgIExpdGVyYWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJyBcIicgKyB0aGlzLnZhbHVlICsgJ1wiJztcbiAgICB9O1xuXG4gICAgcmV0dXJuIExpdGVyYWw7XG5cbiAgfSkoQmFzZSk7XG5cbiAgZXhwb3J0cy5VbmRlZmluZWQgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFVuZGVmaW5lZCwgX3N1cGVyKTtcblxuICAgIGZ1bmN0aW9uIFVuZGVmaW5lZCgpIHtcbiAgICAgIHJldHVybiBVbmRlZmluZWQuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgVW5kZWZpbmVkLnByb3RvdHlwZS5pc0Fzc2lnbmFibGUgPSBOTztcblxuICAgIFVuZGVmaW5lZC5wcm90b3R5cGUuaXNDb21wbGV4ID0gTk87XG5cbiAgICBVbmRlZmluZWQucHJvdG90eXBlLmNvbXBpbGVOb2RlID0gZnVuY3Rpb24obykge1xuICAgICAgcmV0dXJuIFt0aGlzLm1ha2VDb2RlKG8ubGV2ZWwgPj0gTEVWRUxfQUNDRVNTID8gJyh2b2lkIDApJyA6ICd2b2lkIDAnKV07XG4gICAgfTtcblxuICAgIHJldHVybiBVbmRlZmluZWQ7XG5cbiAgfSkoQmFzZSk7XG5cbiAgZXhwb3J0cy5OdWxsID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOdWxsLCBfc3VwZXIpO1xuXG4gICAgZnVuY3Rpb24gTnVsbCgpIHtcbiAgICAgIHJldHVybiBOdWxsLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIE51bGwucHJvdG90eXBlLmlzQXNzaWduYWJsZSA9IE5PO1xuXG4gICAgTnVsbC5wcm90b3R5cGUuaXNDb21wbGV4ID0gTk87XG5cbiAgICBOdWxsLnByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFt0aGlzLm1ha2VDb2RlKFwibnVsbFwiKV07XG4gICAgfTtcblxuICAgIHJldHVybiBOdWxsO1xuXG4gIH0pKEJhc2UpO1xuXG4gIGV4cG9ydHMuQm9vbCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQm9vbCwgX3N1cGVyKTtcblxuICAgIEJvb2wucHJvdG90eXBlLmlzQXNzaWduYWJsZSA9IE5PO1xuXG4gICAgQm9vbC5wcm90b3R5cGUuaXNDb21wbGV4ID0gTk87XG5cbiAgICBCb29sLnByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFt0aGlzLm1ha2VDb2RlKHRoaXMudmFsKV07XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIEJvb2wodmFsKSB7XG4gICAgICB0aGlzLnZhbCA9IHZhbDtcbiAgICB9XG5cbiAgICByZXR1cm4gQm9vbDtcblxuICB9KShCYXNlKTtcblxuICBleHBvcnRzLlJldHVybiA9IFJldHVybiA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmV0dXJuLCBfc3VwZXIpO1xuXG4gICAgZnVuY3Rpb24gUmV0dXJuKGV4cHJlc3Npb24pIHtcbiAgICAgIHRoaXMuZXhwcmVzc2lvbiA9IGV4cHJlc3Npb247XG4gICAgfVxuXG4gICAgUmV0dXJuLnByb3RvdHlwZS5jaGlsZHJlbiA9IFsnZXhwcmVzc2lvbiddO1xuXG4gICAgUmV0dXJuLnByb3RvdHlwZS5pc1N0YXRlbWVudCA9IFlFUztcblxuICAgIFJldHVybi5wcm90b3R5cGUubWFrZVJldHVybiA9IFRISVM7XG5cbiAgICBSZXR1cm4ucHJvdG90eXBlLmp1bXBzID0gVEhJUztcblxuICAgIFJldHVybi5wcm90b3R5cGUuY29tcGlsZVRvRnJhZ21lbnRzID0gZnVuY3Rpb24obywgbGV2ZWwpIHtcbiAgICAgIHZhciBleHByLCBfcmVmMjtcbiAgICAgIGV4cHIgPSAoX3JlZjIgPSB0aGlzLmV4cHJlc3Npb24pICE9IG51bGwgPyBfcmVmMi5tYWtlUmV0dXJuKCkgOiB2b2lkIDA7XG4gICAgICBpZiAoZXhwciAmJiAhKGV4cHIgaW5zdGFuY2VvZiBSZXR1cm4pKSB7XG4gICAgICAgIHJldHVybiBleHByLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBsZXZlbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUmV0dXJuLl9fc3VwZXJfXy5jb21waWxlVG9GcmFnbWVudHMuY2FsbCh0aGlzLCBvLCBsZXZlbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFJldHVybi5wcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgYW5zd2VyO1xuICAgICAgYW5zd2VyID0gW107XG4gICAgICBhbnN3ZXIucHVzaCh0aGlzLm1ha2VDb2RlKHRoaXMudGFiICsgKFwicmV0dXJuXCIgKyAodGhpcy5leHByZXNzaW9uID8gXCIgXCIgOiBcIlwiKSkpKTtcbiAgICAgIGlmICh0aGlzLmV4cHJlc3Npb24pIHtcbiAgICAgICAgYW5zd2VyID0gYW5zd2VyLmNvbmNhdCh0aGlzLmV4cHJlc3Npb24uY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX1BBUkVOKSk7XG4gICAgICB9XG4gICAgICBhbnN3ZXIucHVzaCh0aGlzLm1ha2VDb2RlKFwiO1wiKSk7XG4gICAgICByZXR1cm4gYW5zd2VyO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmV0dXJuO1xuXG4gIH0pKEJhc2UpO1xuXG4gIGV4cG9ydHMuVmFsdWUgPSBWYWx1ZSA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVmFsdWUsIF9zdXBlcik7XG5cbiAgICBmdW5jdGlvbiBWYWx1ZShiYXNlLCBwcm9wcywgdGFnKSB7XG4gICAgICBpZiAoIXByb3BzICYmIGJhc2UgaW5zdGFuY2VvZiBWYWx1ZSkge1xuICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYmFzZSA9IGJhc2U7XG4gICAgICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wcyB8fCBbXTtcbiAgICAgIGlmICh0YWcpIHtcbiAgICAgICAgdGhpc1t0YWddID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIFZhbHVlLnByb3RvdHlwZS5jaGlsZHJlbiA9IFsnYmFzZScsICdwcm9wZXJ0aWVzJ107XG5cbiAgICBWYWx1ZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24ocHJvcHMpIHtcbiAgICAgIHRoaXMucHJvcGVydGllcyA9IHRoaXMucHJvcGVydGllcy5jb25jYXQocHJvcHMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFZhbHVlLnByb3RvdHlwZS5oYXNQcm9wZXJ0aWVzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gISF0aGlzLnByb3BlcnRpZXMubGVuZ3RoO1xuICAgIH07XG5cbiAgICBWYWx1ZS5wcm90b3R5cGUuYmFyZUxpdGVyYWwgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgICByZXR1cm4gIXRoaXMucHJvcGVydGllcy5sZW5ndGggJiYgdGhpcy5iYXNlIGluc3RhbmNlb2YgdHlwZTtcbiAgICB9O1xuXG4gICAgVmFsdWUucHJvdG90eXBlLmlzQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmJhcmVMaXRlcmFsKEFycik7XG4gICAgfTtcblxuICAgIFZhbHVlLnByb3RvdHlwZS5pc1JhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5iYXJlTGl0ZXJhbChSYW5nZSk7XG4gICAgfTtcblxuICAgIFZhbHVlLnByb3RvdHlwZS5pc0NvbXBsZXggPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhc1Byb3BlcnRpZXMoKSB8fCB0aGlzLmJhc2UuaXNDb21wbGV4KCk7XG4gICAgfTtcblxuICAgIFZhbHVlLnByb3RvdHlwZS5pc0Fzc2lnbmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhc1Byb3BlcnRpZXMoKSB8fCB0aGlzLmJhc2UuaXNBc3NpZ25hYmxlKCk7XG4gICAgfTtcblxuICAgIFZhbHVlLnByb3RvdHlwZS5pc1NpbXBsZU51bWJlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYmFyZUxpdGVyYWwoTGl0ZXJhbCkgJiYgU0lNUExFTlVNLnRlc3QodGhpcy5iYXNlLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgVmFsdWUucHJvdG90eXBlLmlzU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5iYXJlTGl0ZXJhbChMaXRlcmFsKSAmJiBJU19TVFJJTkcudGVzdCh0aGlzLmJhc2UudmFsdWUpO1xuICAgIH07XG5cbiAgICBWYWx1ZS5wcm90b3R5cGUuaXNSZWdleCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYmFyZUxpdGVyYWwoTGl0ZXJhbCkgJiYgSVNfUkVHRVgudGVzdCh0aGlzLmJhc2UudmFsdWUpO1xuICAgIH07XG5cbiAgICBWYWx1ZS5wcm90b3R5cGUuaXNBdG9taWMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBub2RlLCBfaSwgX2xlbiwgX3JlZjI7XG4gICAgICBfcmVmMiA9IHRoaXMucHJvcGVydGllcy5jb25jYXQodGhpcy5iYXNlKTtcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZjIubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgbm9kZSA9IF9yZWYyW19pXTtcbiAgICAgICAgaWYgKG5vZGUuc29hayB8fCBub2RlIGluc3RhbmNlb2YgQ2FsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIFZhbHVlLnByb3RvdHlwZS5pc05vdENhbGxhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1NpbXBsZU51bWJlcigpIHx8IHRoaXMuaXNTdHJpbmcoKSB8fCB0aGlzLmlzUmVnZXgoKSB8fCB0aGlzLmlzQXJyYXkoKSB8fCB0aGlzLmlzUmFuZ2UoKSB8fCB0aGlzLmlzU3BsaWNlKCkgfHwgdGhpcy5pc09iamVjdCgpO1xuICAgIH07XG5cbiAgICBWYWx1ZS5wcm90b3R5cGUuaXNTdGF0ZW1lbnQgPSBmdW5jdGlvbihvKSB7XG4gICAgICByZXR1cm4gIXRoaXMucHJvcGVydGllcy5sZW5ndGggJiYgdGhpcy5iYXNlLmlzU3RhdGVtZW50KG8pO1xuICAgIH07XG5cbiAgICBWYWx1ZS5wcm90b3R5cGUuYXNzaWducyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHJldHVybiAhdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aCAmJiB0aGlzLmJhc2UuYXNzaWducyhuYW1lKTtcbiAgICB9O1xuXG4gICAgVmFsdWUucHJvdG90eXBlLmp1bXBzID0gZnVuY3Rpb24obykge1xuICAgICAgcmV0dXJuICF0aGlzLnByb3BlcnRpZXMubGVuZ3RoICYmIHRoaXMuYmFzZS5qdW1wcyhvKTtcbiAgICB9O1xuXG4gICAgVmFsdWUucHJvdG90eXBlLmlzT2JqZWN0ID0gZnVuY3Rpb24ob25seUdlbmVyYXRlZCkge1xuICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuICh0aGlzLmJhc2UgaW5zdGFuY2VvZiBPYmopICYmICghb25seUdlbmVyYXRlZCB8fCB0aGlzLmJhc2UuZ2VuZXJhdGVkKTtcbiAgICB9O1xuXG4gICAgVmFsdWUucHJvdG90eXBlLmlzU3BsaWNlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbGFzdCh0aGlzLnByb3BlcnRpZXMpIGluc3RhbmNlb2YgU2xpY2U7XG4gICAgfTtcblxuICAgIFZhbHVlLnByb3RvdHlwZS5sb29rc1N0YXRpYyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgdmFyIF9yZWYyO1xuICAgICAgcmV0dXJuIHRoaXMuYmFzZS52YWx1ZSA9PT0gY2xhc3NOYW1lICYmIHRoaXMucHJvcGVydGllcy5sZW5ndGggJiYgKChfcmVmMiA9IHRoaXMucHJvcGVydGllc1swXS5uYW1lKSAhPSBudWxsID8gX3JlZjIudmFsdWUgOiB2b2lkIDApICE9PSAncHJvdG90eXBlJztcbiAgICB9O1xuXG4gICAgVmFsdWUucHJvdG90eXBlLnVud3JhcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBWYWx1ZS5wcm90b3R5cGUuY2FjaGVSZWZlcmVuY2UgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgYmFzZSwgYnJlZiwgbmFtZSwgbnJlZjtcbiAgICAgIG5hbWUgPSBsYXN0KHRoaXMucHJvcGVydGllcyk7XG4gICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLmxlbmd0aCA8IDIgJiYgIXRoaXMuYmFzZS5pc0NvbXBsZXgoKSAmJiAhKG5hbWUgIT0gbnVsbCA/IG5hbWUuaXNDb21wbGV4KCkgOiB2b2lkIDApKSB7XG4gICAgICAgIHJldHVybiBbdGhpcywgdGhpc107XG4gICAgICB9XG4gICAgICBiYXNlID0gbmV3IFZhbHVlKHRoaXMuYmFzZSwgdGhpcy5wcm9wZXJ0aWVzLnNsaWNlKDAsIC0xKSk7XG4gICAgICBpZiAoYmFzZS5pc0NvbXBsZXgoKSkge1xuICAgICAgICBicmVmID0gbmV3IExpdGVyYWwoby5zY29wZS5mcmVlVmFyaWFibGUoJ2Jhc2UnKSk7XG4gICAgICAgIGJhc2UgPSBuZXcgVmFsdWUobmV3IFBhcmVucyhuZXcgQXNzaWduKGJyZWYsIGJhc2UpKSk7XG4gICAgICB9XG4gICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIFtiYXNlLCBicmVmXTtcbiAgICAgIH1cbiAgICAgIGlmIChuYW1lLmlzQ29tcGxleCgpKSB7XG4gICAgICAgIG5yZWYgPSBuZXcgTGl0ZXJhbChvLnNjb3BlLmZyZWVWYXJpYWJsZSgnbmFtZScpKTtcbiAgICAgICAgbmFtZSA9IG5ldyBJbmRleChuZXcgQXNzaWduKG5yZWYsIG5hbWUuaW5kZXgpKTtcbiAgICAgICAgbnJlZiA9IG5ldyBJbmRleChucmVmKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbYmFzZS5hZGQobmFtZSksIG5ldyBWYWx1ZShicmVmIHx8IGJhc2UuYmFzZSwgW25yZWYgfHwgbmFtZV0pXTtcbiAgICB9O1xuXG4gICAgVmFsdWUucHJvdG90eXBlLmNvbXBpbGVOb2RlID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIGZyYWdtZW50cywgcHJvcCwgcHJvcHMsIF9pLCBfbGVuO1xuICAgICAgdGhpcy5iYXNlLmZyb250ID0gdGhpcy5mcm9udDtcbiAgICAgIHByb3BzID0gdGhpcy5wcm9wZXJ0aWVzO1xuICAgICAgZnJhZ21lbnRzID0gdGhpcy5iYXNlLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCAocHJvcHMubGVuZ3RoID8gTEVWRUxfQUNDRVNTIDogbnVsbCkpO1xuICAgICAgaWYgKCh0aGlzLmJhc2UgaW5zdGFuY2VvZiBQYXJlbnMgfHwgcHJvcHMubGVuZ3RoKSAmJiBTSU1QTEVOVU0udGVzdChmcmFnbWVudHNUb1RleHQoZnJhZ21lbnRzKSkpIHtcbiAgICAgICAgZnJhZ21lbnRzLnB1c2godGhpcy5tYWtlQ29kZSgnLicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gcHJvcHMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgcHJvcCA9IHByb3BzW19pXTtcbiAgICAgICAgZnJhZ21lbnRzLnB1c2guYXBwbHkoZnJhZ21lbnRzLCBwcm9wLmNvbXBpbGVUb0ZyYWdtZW50cyhvKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnJhZ21lbnRzO1xuICAgIH07XG5cbiAgICBWYWx1ZS5wcm90b3R5cGUudW5mb2xkU29hayA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHJldHVybiB0aGlzLnVuZm9sZGVkU29hayAhPSBudWxsID8gdGhpcy51bmZvbGRlZFNvYWsgOiB0aGlzLnVuZm9sZGVkU29hayA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGZzdCwgaSwgaWZuLCBwcm9wLCByZWYsIHNuZCwgX2ksIF9sZW4sIF9yZWYyLCBfcmVmMztcbiAgICAgICAgICBpZiAoaWZuID0gX3RoaXMuYmFzZS51bmZvbGRTb2FrKG8pKSB7XG4gICAgICAgICAgICAoX3JlZjIgPSBpZm4uYm9keS5wcm9wZXJ0aWVzKS5wdXNoLmFwcGx5KF9yZWYyLCBfdGhpcy5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIHJldHVybiBpZm47XG4gICAgICAgICAgfVxuICAgICAgICAgIF9yZWYzID0gX3RoaXMucHJvcGVydGllcztcbiAgICAgICAgICBmb3IgKGkgPSBfaSA9IDAsIF9sZW4gPSBfcmVmMy5sZW5ndGg7IF9pIDwgX2xlbjsgaSA9ICsrX2kpIHtcbiAgICAgICAgICAgIHByb3AgPSBfcmVmM1tpXTtcbiAgICAgICAgICAgIGlmICghcHJvcC5zb2FrKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvcC5zb2FrID0gZmFsc2U7XG4gICAgICAgICAgICBmc3QgPSBuZXcgVmFsdWUoX3RoaXMuYmFzZSwgX3RoaXMucHJvcGVydGllcy5zbGljZSgwLCBpKSk7XG4gICAgICAgICAgICBzbmQgPSBuZXcgVmFsdWUoX3RoaXMuYmFzZSwgX3RoaXMucHJvcGVydGllcy5zbGljZShpKSk7XG4gICAgICAgICAgICBpZiAoZnN0LmlzQ29tcGxleCgpKSB7XG4gICAgICAgICAgICAgIHJlZiA9IG5ldyBMaXRlcmFsKG8uc2NvcGUuZnJlZVZhcmlhYmxlKCdyZWYnKSk7XG4gICAgICAgICAgICAgIGZzdCA9IG5ldyBQYXJlbnMobmV3IEFzc2lnbihyZWYsIGZzdCkpO1xuICAgICAgICAgICAgICBzbmQuYmFzZSA9IHJlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgSWYobmV3IEV4aXN0ZW5jZShmc3QpLCBzbmQsIHtcbiAgICAgICAgICAgICAgc29hazogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBWYWx1ZTtcblxuICB9KShCYXNlKTtcblxuICBleHBvcnRzLkNvbW1lbnQgPSBDb21tZW50ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb21tZW50LCBfc3VwZXIpO1xuXG4gICAgZnVuY3Rpb24gQ29tbWVudChjb21tZW50KSB7XG4gICAgICB0aGlzLmNvbW1lbnQgPSBjb21tZW50O1xuICAgIH1cblxuICAgIENvbW1lbnQucHJvdG90eXBlLmlzU3RhdGVtZW50ID0gWUVTO1xuXG4gICAgQ29tbWVudC5wcm90b3R5cGUubWFrZVJldHVybiA9IFRISVM7XG5cbiAgICBDb21tZW50LnByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8sIGxldmVsKSB7XG4gICAgICB2YXIgY29kZSwgY29tbWVudDtcbiAgICAgIGNvbW1lbnQgPSB0aGlzLmNvbW1lbnQucmVwbGFjZSgvXihcXHMqKSMvZ20sIFwiJDEgKlwiKTtcbiAgICAgIGNvZGUgPSBcIi8qXCIgKyAobXVsdGlkZW50KGNvbW1lbnQsIHRoaXMudGFiKSkgKyAoX19pbmRleE9mLmNhbGwoY29tbWVudCwgJ1xcbicpID49IDAgPyBcIlxcblwiICsgdGhpcy50YWIgOiAnJykgKyBcIiAqL1wiO1xuICAgICAgaWYgKChsZXZlbCB8fCBvLmxldmVsKSA9PT0gTEVWRUxfVE9QKSB7XG4gICAgICAgIGNvZGUgPSBvLmluZGVudCArIGNvZGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gW3RoaXMubWFrZUNvZGUoXCJcXG5cIiksIHRoaXMubWFrZUNvZGUoY29kZSldO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ29tbWVudDtcblxuICB9KShCYXNlKTtcblxuICBleHBvcnRzLkNhbGwgPSBDYWxsID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYWxsLCBfc3VwZXIpO1xuXG4gICAgZnVuY3Rpb24gQ2FsbCh2YXJpYWJsZSwgYXJncywgc29haykge1xuICAgICAgdGhpcy5hcmdzID0gYXJncyAhPSBudWxsID8gYXJncyA6IFtdO1xuICAgICAgdGhpcy5zb2FrID0gc29haztcbiAgICAgIHRoaXMuaXNOZXcgPSBmYWxzZTtcbiAgICAgIHRoaXMuaXNTdXBlciA9IHZhcmlhYmxlID09PSAnc3VwZXInO1xuICAgICAgdGhpcy52YXJpYWJsZSA9IHRoaXMuaXNTdXBlciA/IG51bGwgOiB2YXJpYWJsZTtcbiAgICAgIGlmICh2YXJpYWJsZSBpbnN0YW5jZW9mIFZhbHVlICYmIHZhcmlhYmxlLmlzTm90Q2FsbGFibGUoKSkge1xuICAgICAgICB2YXJpYWJsZS5lcnJvcihcImxpdGVyYWwgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgQ2FsbC5wcm90b3R5cGUuY2hpbGRyZW4gPSBbJ3ZhcmlhYmxlJywgJ2FyZ3MnXTtcblxuICAgIENhbGwucHJvdG90eXBlLm5ld0luc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYmFzZSwgX3JlZjI7XG4gICAgICBiYXNlID0gKChfcmVmMiA9IHRoaXMudmFyaWFibGUpICE9IG51bGwgPyBfcmVmMi5iYXNlIDogdm9pZCAwKSB8fCB0aGlzLnZhcmlhYmxlO1xuICAgICAgaWYgKGJhc2UgaW5zdGFuY2VvZiBDYWxsICYmICFiYXNlLmlzTmV3KSB7XG4gICAgICAgIGJhc2UubmV3SW5zdGFuY2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaXNOZXcgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIENhbGwucHJvdG90eXBlLnN1cGVyUmVmZXJlbmNlID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIGFjY2Vzc2VzLCBtZXRob2Q7XG4gICAgICBtZXRob2QgPSBvLnNjb3BlLm5hbWVkTWV0aG9kKCk7XG4gICAgICBpZiAobWV0aG9kICE9IG51bGwgPyBtZXRob2Qua2xhc3MgOiB2b2lkIDApIHtcbiAgICAgICAgYWNjZXNzZXMgPSBbbmV3IEFjY2VzcyhuZXcgTGl0ZXJhbCgnX19zdXBlcl9fJykpXTtcbiAgICAgICAgaWYgKG1ldGhvZFtcInN0YXRpY1wiXSkge1xuICAgICAgICAgIGFjY2Vzc2VzLnB1c2gobmV3IEFjY2VzcyhuZXcgTGl0ZXJhbCgnY29uc3RydWN0b3InKSkpO1xuICAgICAgICB9XG4gICAgICAgIGFjY2Vzc2VzLnB1c2gobmV3IEFjY2VzcyhuZXcgTGl0ZXJhbChtZXRob2QubmFtZSkpKTtcbiAgICAgICAgcmV0dXJuIChuZXcgVmFsdWUobmV3IExpdGVyYWwobWV0aG9kLmtsYXNzKSwgYWNjZXNzZXMpKS5jb21waWxlKG8pO1xuICAgICAgfSBlbHNlIGlmIChtZXRob2QgIT0gbnVsbCA/IG1ldGhvZC5jdG9yIDogdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBcIlwiICsgbWV0aG9kLm5hbWUgKyBcIi5fX3N1cGVyX18uY29uc3RydWN0b3JcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yKCdjYW5ub3QgY2FsbCBzdXBlciBvdXRzaWRlIG9mIGFuIGluc3RhbmNlIG1ldGhvZC4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2FsbC5wcm90b3R5cGUuc3VwZXJUaGlzID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIG1ldGhvZDtcbiAgICAgIG1ldGhvZCA9IG8uc2NvcGUubWV0aG9kO1xuICAgICAgcmV0dXJuIChtZXRob2QgJiYgIW1ldGhvZC5rbGFzcyAmJiBtZXRob2QuY29udGV4dCkgfHwgXCJ0aGlzXCI7XG4gICAgfTtcblxuICAgIENhbGwucHJvdG90eXBlLnVuZm9sZFNvYWsgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgY2FsbCwgaWZuLCBsZWZ0LCBsaXN0LCByaXRlLCBfaSwgX2xlbiwgX3JlZjIsIF9yZWYzO1xuICAgICAgaWYgKHRoaXMuc29haykge1xuICAgICAgICBpZiAodGhpcy52YXJpYWJsZSkge1xuICAgICAgICAgIGlmIChpZm4gPSB1bmZvbGRTb2FrKG8sIHRoaXMsICd2YXJpYWJsZScpKSB7XG4gICAgICAgICAgICByZXR1cm4gaWZuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfcmVmMiA9IG5ldyBWYWx1ZSh0aGlzLnZhcmlhYmxlKS5jYWNoZVJlZmVyZW5jZShvKSwgbGVmdCA9IF9yZWYyWzBdLCByaXRlID0gX3JlZjJbMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGVmdCA9IG5ldyBMaXRlcmFsKHRoaXMuc3VwZXJSZWZlcmVuY2UobykpO1xuICAgICAgICAgIHJpdGUgPSBuZXcgVmFsdWUobGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgcml0ZSA9IG5ldyBDYWxsKHJpdGUsIHRoaXMuYXJncyk7XG4gICAgICAgIHJpdGUuaXNOZXcgPSB0aGlzLmlzTmV3O1xuICAgICAgICBsZWZ0ID0gbmV3IExpdGVyYWwoXCJ0eXBlb2YgXCIgKyAobGVmdC5jb21waWxlKG8pKSArIFwiID09PSBcXFwiZnVuY3Rpb25cXFwiXCIpO1xuICAgICAgICByZXR1cm4gbmV3IElmKGxlZnQsIG5ldyBWYWx1ZShyaXRlKSwge1xuICAgICAgICAgIHNvYWs6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjYWxsID0gdGhpcztcbiAgICAgIGxpc3QgPSBbXTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmIChjYWxsLnZhcmlhYmxlIGluc3RhbmNlb2YgQ2FsbCkge1xuICAgICAgICAgIGxpc3QucHVzaChjYWxsKTtcbiAgICAgICAgICBjYWxsID0gY2FsbC52YXJpYWJsZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShjYWxsLnZhcmlhYmxlIGluc3RhbmNlb2YgVmFsdWUpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbGlzdC5wdXNoKGNhbGwpO1xuICAgICAgICBpZiAoISgoY2FsbCA9IGNhbGwudmFyaWFibGUuYmFzZSkgaW5zdGFuY2VvZiBDYWxsKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBfcmVmMyA9IGxpc3QucmV2ZXJzZSgpO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmMy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBjYWxsID0gX3JlZjNbX2ldO1xuICAgICAgICBpZiAoaWZuKSB7XG4gICAgICAgICAgaWYgKGNhbGwudmFyaWFibGUgaW5zdGFuY2VvZiBDYWxsKSB7XG4gICAgICAgICAgICBjYWxsLnZhcmlhYmxlID0gaWZuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxsLnZhcmlhYmxlLmJhc2UgPSBpZm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmbiA9IHVuZm9sZFNvYWsobywgY2FsbCwgJ3ZhcmlhYmxlJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaWZuO1xuICAgIH07XG5cbiAgICBDYWxsLnByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBhcmcsIGFyZ0luZGV4LCBjb21waWxlZEFyZ3MsIGNvbXBpbGVkQXJyYXksIGZyYWdtZW50cywgcHJlZmFjZSwgX2ksIF9sZW4sIF9yZWYyLCBfcmVmMztcbiAgICAgIGlmICgoX3JlZjIgPSB0aGlzLnZhcmlhYmxlKSAhPSBudWxsKSB7XG4gICAgICAgIF9yZWYyLmZyb250ID0gdGhpcy5mcm9udDtcbiAgICAgIH1cbiAgICAgIGNvbXBpbGVkQXJyYXkgPSBTcGxhdC5jb21waWxlU3BsYXR0ZWRBcnJheShvLCB0aGlzLmFyZ3MsIHRydWUpO1xuICAgICAgaWYgKGNvbXBpbGVkQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVTcGxhdChvLCBjb21waWxlZEFycmF5KTtcbiAgICAgIH1cbiAgICAgIGNvbXBpbGVkQXJncyA9IFtdO1xuICAgICAgX3JlZjMgPSB0aGlzLmFyZ3M7XG4gICAgICBmb3IgKGFyZ0luZGV4ID0gX2kgPSAwLCBfbGVuID0gX3JlZjMubGVuZ3RoOyBfaSA8IF9sZW47IGFyZ0luZGV4ID0gKytfaSkge1xuICAgICAgICBhcmcgPSBfcmVmM1thcmdJbmRleF07XG4gICAgICAgIGlmIChhcmdJbmRleCkge1xuICAgICAgICAgIGNvbXBpbGVkQXJncy5wdXNoKHRoaXMubWFrZUNvZGUoXCIsIFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29tcGlsZWRBcmdzLnB1c2guYXBwbHkoY29tcGlsZWRBcmdzLCBhcmcuY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX0xJU1QpKTtcbiAgICAgIH1cbiAgICAgIGZyYWdtZW50cyA9IFtdO1xuICAgICAgaWYgKHRoaXMuaXNTdXBlcikge1xuICAgICAgICBwcmVmYWNlID0gdGhpcy5zdXBlclJlZmVyZW5jZShvKSArIChcIi5jYWxsKFwiICsgKHRoaXMuc3VwZXJUaGlzKG8pKSk7XG4gICAgICAgIGlmIChjb21waWxlZEFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgcHJlZmFjZSArPSBcIiwgXCI7XG4gICAgICAgIH1cbiAgICAgICAgZnJhZ21lbnRzLnB1c2godGhpcy5tYWtlQ29kZShwcmVmYWNlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5pc05ldykge1xuICAgICAgICAgIGZyYWdtZW50cy5wdXNoKHRoaXMubWFrZUNvZGUoJ25ldyAnKSk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhZ21lbnRzLnB1c2guYXBwbHkoZnJhZ21lbnRzLCB0aGlzLnZhcmlhYmxlLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9BQ0NFU1MpKTtcbiAgICAgICAgZnJhZ21lbnRzLnB1c2godGhpcy5tYWtlQ29kZShcIihcIikpO1xuICAgICAgfVxuICAgICAgZnJhZ21lbnRzLnB1c2guYXBwbHkoZnJhZ21lbnRzLCBjb21waWxlZEFyZ3MpO1xuICAgICAgZnJhZ21lbnRzLnB1c2godGhpcy5tYWtlQ29kZShcIilcIikpO1xuICAgICAgcmV0dXJuIGZyYWdtZW50cztcbiAgICB9O1xuXG4gICAgQ2FsbC5wcm90b3R5cGUuY29tcGlsZVNwbGF0ID0gZnVuY3Rpb24obywgc3BsYXRBcmdzKSB7XG4gICAgICB2YXIgYW5zd2VyLCBiYXNlLCBmdW4sIGlkdCwgbmFtZSwgcmVmO1xuICAgICAgaWYgKHRoaXMuaXNTdXBlcikge1xuICAgICAgICByZXR1cm4gW10uY29uY2F0KHRoaXMubWFrZUNvZGUoXCJcIiArICh0aGlzLnN1cGVyUmVmZXJlbmNlKG8pKSArIFwiLmFwcGx5KFwiICsgKHRoaXMuc3VwZXJUaGlzKG8pKSArIFwiLCBcIiksIHNwbGF0QXJncywgdGhpcy5tYWtlQ29kZShcIilcIikpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaXNOZXcpIHtcbiAgICAgICAgaWR0ID0gdGhpcy50YWIgKyBUQUI7XG4gICAgICAgIHJldHVybiBbXS5jb25jYXQodGhpcy5tYWtlQ29kZShcIihmdW5jdGlvbihmdW5jLCBhcmdzLCBjdG9yKSB7XFxuXCIgKyBpZHQgKyBcImN0b3IucHJvdG90eXBlID0gZnVuYy5wcm90b3R5cGU7XFxuXCIgKyBpZHQgKyBcInZhciBjaGlsZCA9IG5ldyBjdG9yLCByZXN1bHQgPSBmdW5jLmFwcGx5KGNoaWxkLCBhcmdzKTtcXG5cIiArIGlkdCArIFwicmV0dXJuIE9iamVjdChyZXN1bHQpID09PSByZXN1bHQgPyByZXN1bHQgOiBjaGlsZDtcXG5cIiArIHRoaXMudGFiICsgXCJ9KShcIiksIHRoaXMudmFyaWFibGUuY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX0xJU1QpLCB0aGlzLm1ha2VDb2RlKFwiLCBcIiksIHNwbGF0QXJncywgdGhpcy5tYWtlQ29kZShcIiwgZnVuY3Rpb24oKXt9KVwiKSk7XG4gICAgICB9XG4gICAgICBhbnN3ZXIgPSBbXTtcbiAgICAgIGJhc2UgPSBuZXcgVmFsdWUodGhpcy52YXJpYWJsZSk7XG4gICAgICBpZiAoKG5hbWUgPSBiYXNlLnByb3BlcnRpZXMucG9wKCkpICYmIGJhc2UuaXNDb21wbGV4KCkpIHtcbiAgICAgICAgcmVmID0gby5zY29wZS5mcmVlVmFyaWFibGUoJ3JlZicpO1xuICAgICAgICBhbnN3ZXIgPSBhbnN3ZXIuY29uY2F0KHRoaXMubWFrZUNvZGUoXCIoXCIgKyByZWYgKyBcIiA9IFwiKSwgYmFzZS5jb21waWxlVG9GcmFnbWVudHMobywgTEVWRUxfTElTVCksIHRoaXMubWFrZUNvZGUoXCIpXCIpLCBuYW1lLmNvbXBpbGVUb0ZyYWdtZW50cyhvKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdW4gPSBiYXNlLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9BQ0NFU1MpO1xuICAgICAgICBpZiAoU0lNUExFTlVNLnRlc3QoZnJhZ21lbnRzVG9UZXh0KGZ1bikpKSB7XG4gICAgICAgICAgZnVuID0gdGhpcy53cmFwSW5CcmFjZXMoZnVuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgIHJlZiA9IGZyYWdtZW50c1RvVGV4dChmdW4pO1xuICAgICAgICAgIGZ1bi5wdXNoLmFwcGx5KGZ1biwgbmFtZS5jb21waWxlVG9GcmFnbWVudHMobykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZiA9ICdudWxsJztcbiAgICAgICAgfVxuICAgICAgICBhbnN3ZXIgPSBhbnN3ZXIuY29uY2F0KGZ1bik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYW5zd2VyID0gYW5zd2VyLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiLmFwcGx5KFwiICsgcmVmICsgXCIsIFwiKSwgc3BsYXRBcmdzLCB0aGlzLm1ha2VDb2RlKFwiKVwiKSk7XG4gICAgfTtcblxuICAgIHJldHVybiBDYWxsO1xuXG4gIH0pKEJhc2UpO1xuXG4gIGV4cG9ydHMuRXh0ZW5kcyA9IEV4dGVuZHMgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEV4dGVuZHMsIF9zdXBlcik7XG5cbiAgICBmdW5jdGlvbiBFeHRlbmRzKGNoaWxkLCBwYXJlbnQpIHtcbiAgICAgIHRoaXMuY2hpbGQgPSBjaGlsZDtcbiAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIH1cblxuICAgIEV4dGVuZHMucHJvdG90eXBlLmNoaWxkcmVuID0gWydjaGlsZCcsICdwYXJlbnQnXTtcblxuICAgIEV4dGVuZHMucHJvdG90eXBlLmNvbXBpbGVUb0ZyYWdtZW50cyA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHJldHVybiBuZXcgQ2FsbChuZXcgVmFsdWUobmV3IExpdGVyYWwodXRpbGl0eSgnZXh0ZW5kcycpKSksIFt0aGlzLmNoaWxkLCB0aGlzLnBhcmVudF0pLmNvbXBpbGVUb0ZyYWdtZW50cyhvKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEV4dGVuZHM7XG5cbiAgfSkoQmFzZSk7XG5cbiAgZXhwb3J0cy5BY2Nlc3MgPSBBY2Nlc3MgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFjY2VzcywgX3N1cGVyKTtcblxuICAgIGZ1bmN0aW9uIEFjY2VzcyhuYW1lLCB0YWcpIHtcbiAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICB0aGlzLm5hbWUuYXNLZXkgPSB0cnVlO1xuICAgICAgdGhpcy5zb2FrID0gdGFnID09PSAnc29hayc7XG4gICAgfVxuXG4gICAgQWNjZXNzLnByb3RvdHlwZS5jaGlsZHJlbiA9IFsnbmFtZSddO1xuXG4gICAgQWNjZXNzLnByb3RvdHlwZS5jb21waWxlVG9GcmFnbWVudHMgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgbmFtZTtcbiAgICAgIG5hbWUgPSB0aGlzLm5hbWUuY29tcGlsZVRvRnJhZ21lbnRzKG8pO1xuICAgICAgaWYgKElERU5USUZJRVIudGVzdChmcmFnbWVudHNUb1RleHQobmFtZSkpKSB7XG4gICAgICAgIG5hbWUudW5zaGlmdCh0aGlzLm1ha2VDb2RlKFwiLlwiKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuYW1lLnVuc2hpZnQodGhpcy5tYWtlQ29kZShcIltcIikpO1xuICAgICAgICBuYW1lLnB1c2godGhpcy5tYWtlQ29kZShcIl1cIikpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfTtcblxuICAgIEFjY2Vzcy5wcm90b3R5cGUuaXNDb21wbGV4ID0gTk87XG5cbiAgICByZXR1cm4gQWNjZXNzO1xuXG4gIH0pKEJhc2UpO1xuXG4gIGV4cG9ydHMuSW5kZXggPSBJbmRleCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW5kZXgsIF9zdXBlcik7XG5cbiAgICBmdW5jdGlvbiBJbmRleChpbmRleCkge1xuICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgIH1cblxuICAgIEluZGV4LnByb3RvdHlwZS5jaGlsZHJlbiA9IFsnaW5kZXgnXTtcblxuICAgIEluZGV4LnByb3RvdHlwZS5jb21waWxlVG9GcmFnbWVudHMgPSBmdW5jdGlvbihvKSB7XG4gICAgICByZXR1cm4gW10uY29uY2F0KHRoaXMubWFrZUNvZGUoXCJbXCIpLCB0aGlzLmluZGV4LmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9QQVJFTiksIHRoaXMubWFrZUNvZGUoXCJdXCIpKTtcbiAgICB9O1xuXG4gICAgSW5kZXgucHJvdG90eXBlLmlzQ29tcGxleCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZXguaXNDb21wbGV4KCk7XG4gICAgfTtcblxuICAgIHJldHVybiBJbmRleDtcblxuICB9KShCYXNlKTtcblxuICBleHBvcnRzLlJhbmdlID0gUmFuZ2UgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJhbmdlLCBfc3VwZXIpO1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLmNoaWxkcmVuID0gWydmcm9tJywgJ3RvJ107XG5cbiAgICBmdW5jdGlvbiBSYW5nZShmcm9tLCB0bywgdGFnKSB7XG4gICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgdGhpcy5leGNsdXNpdmUgPSB0YWcgPT09ICdleGNsdXNpdmUnO1xuICAgICAgdGhpcy5lcXVhbHMgPSB0aGlzLmV4Y2x1c2l2ZSA/ICcnIDogJz0nO1xuICAgIH1cblxuICAgIFJhbmdlLnByb3RvdHlwZS5jb21waWxlVmFyaWFibGVzID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIHN0ZXAsIF9yZWYyLCBfcmVmMywgX3JlZjQsIF9yZWY1O1xuICAgICAgbyA9IG1lcmdlKG8sIHtcbiAgICAgICAgdG9wOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIF9yZWYyID0gdGhpcy5jYWNoZVRvQ29kZUZyYWdtZW50cyh0aGlzLmZyb20uY2FjaGUobywgTEVWRUxfTElTVCkpLCB0aGlzLmZyb21DID0gX3JlZjJbMF0sIHRoaXMuZnJvbVZhciA9IF9yZWYyWzFdO1xuICAgICAgX3JlZjMgPSB0aGlzLmNhY2hlVG9Db2RlRnJhZ21lbnRzKHRoaXMudG8uY2FjaGUobywgTEVWRUxfTElTVCkpLCB0aGlzLnRvQyA9IF9yZWYzWzBdLCB0aGlzLnRvVmFyID0gX3JlZjNbMV07XG4gICAgICBpZiAoc3RlcCA9IGRlbChvLCAnc3RlcCcpKSB7XG4gICAgICAgIF9yZWY0ID0gdGhpcy5jYWNoZVRvQ29kZUZyYWdtZW50cyhzdGVwLmNhY2hlKG8sIExFVkVMX0xJU1QpKSwgdGhpcy5zdGVwID0gX3JlZjRbMF0sIHRoaXMuc3RlcFZhciA9IF9yZWY0WzFdO1xuICAgICAgfVxuICAgICAgX3JlZjUgPSBbdGhpcy5mcm9tVmFyLm1hdGNoKE5VTUJFUiksIHRoaXMudG9WYXIubWF0Y2goTlVNQkVSKV0sIHRoaXMuZnJvbU51bSA9IF9yZWY1WzBdLCB0aGlzLnRvTnVtID0gX3JlZjVbMV07XG4gICAgICBpZiAodGhpcy5zdGVwVmFyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0ZXBOdW0gPSB0aGlzLnN0ZXBWYXIubWF0Y2goTlVNQkVSKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLmNvbXBpbGVOb2RlID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIGNvbmQsIGNvbmRQYXJ0LCBmcm9tLCBndCwgaWR4LCBpZHhOYW1lLCBrbm93biwgbHQsIG5hbWVkSW5kZXgsIHN0ZXBQYXJ0LCB0bywgdmFyUGFydCwgX3JlZjIsIF9yZWYzO1xuICAgICAgaWYgKCF0aGlzLmZyb21WYXIpIHtcbiAgICAgICAgdGhpcy5jb21waWxlVmFyaWFibGVzKG8pO1xuICAgICAgfVxuICAgICAgaWYgKCFvLmluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVBcnJheShvKTtcbiAgICAgIH1cbiAgICAgIGtub3duID0gdGhpcy5mcm9tTnVtICYmIHRoaXMudG9OdW07XG4gICAgICBpZHggPSBkZWwobywgJ2luZGV4Jyk7XG4gICAgICBpZHhOYW1lID0gZGVsKG8sICduYW1lJyk7XG4gICAgICBuYW1lZEluZGV4ID0gaWR4TmFtZSAmJiBpZHhOYW1lICE9PSBpZHg7XG4gICAgICB2YXJQYXJ0ID0gXCJcIiArIGlkeCArIFwiID0gXCIgKyB0aGlzLmZyb21DO1xuICAgICAgaWYgKHRoaXMudG9DICE9PSB0aGlzLnRvVmFyKSB7XG4gICAgICAgIHZhclBhcnQgKz0gXCIsIFwiICsgdGhpcy50b0M7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zdGVwICE9PSB0aGlzLnN0ZXBWYXIpIHtcbiAgICAgICAgdmFyUGFydCArPSBcIiwgXCIgKyB0aGlzLnN0ZXA7XG4gICAgICB9XG4gICAgICBfcmVmMiA9IFtcIlwiICsgaWR4ICsgXCIgPFwiICsgdGhpcy5lcXVhbHMsIFwiXCIgKyBpZHggKyBcIiA+XCIgKyB0aGlzLmVxdWFsc10sIGx0ID0gX3JlZjJbMF0sIGd0ID0gX3JlZjJbMV07XG4gICAgICBjb25kUGFydCA9IHRoaXMuc3RlcE51bSA/IHBhcnNlTnVtKHRoaXMuc3RlcE51bVswXSkgPiAwID8gXCJcIiArIGx0ICsgXCIgXCIgKyB0aGlzLnRvVmFyIDogXCJcIiArIGd0ICsgXCIgXCIgKyB0aGlzLnRvVmFyIDoga25vd24gPyAoKF9yZWYzID0gW3BhcnNlTnVtKHRoaXMuZnJvbU51bVswXSksIHBhcnNlTnVtKHRoaXMudG9OdW1bMF0pXSwgZnJvbSA9IF9yZWYzWzBdLCB0byA9IF9yZWYzWzFdLCBfcmVmMyksIGZyb20gPD0gdG8gPyBcIlwiICsgbHQgKyBcIiBcIiArIHRvIDogXCJcIiArIGd0ICsgXCIgXCIgKyB0bykgOiAoY29uZCA9IHRoaXMuc3RlcFZhciA/IFwiXCIgKyB0aGlzLnN0ZXBWYXIgKyBcIiA+IDBcIiA6IFwiXCIgKyB0aGlzLmZyb21WYXIgKyBcIiA8PSBcIiArIHRoaXMudG9WYXIsIFwiXCIgKyBjb25kICsgXCIgPyBcIiArIGx0ICsgXCIgXCIgKyB0aGlzLnRvVmFyICsgXCIgOiBcIiArIGd0ICsgXCIgXCIgKyB0aGlzLnRvVmFyKTtcbiAgICAgIHN0ZXBQYXJ0ID0gdGhpcy5zdGVwVmFyID8gXCJcIiArIGlkeCArIFwiICs9IFwiICsgdGhpcy5zdGVwVmFyIDoga25vd24gPyBuYW1lZEluZGV4ID8gZnJvbSA8PSB0byA/IFwiKytcIiArIGlkeCA6IFwiLS1cIiArIGlkeCA6IGZyb20gPD0gdG8gPyBcIlwiICsgaWR4ICsgXCIrK1wiIDogXCJcIiArIGlkeCArIFwiLS1cIiA6IG5hbWVkSW5kZXggPyBcIlwiICsgY29uZCArIFwiID8gKytcIiArIGlkeCArIFwiIDogLS1cIiArIGlkeCA6IFwiXCIgKyBjb25kICsgXCIgPyBcIiArIGlkeCArIFwiKysgOiBcIiArIGlkeCArIFwiLS1cIjtcbiAgICAgIGlmIChuYW1lZEluZGV4KSB7XG4gICAgICAgIHZhclBhcnQgPSBcIlwiICsgaWR4TmFtZSArIFwiID0gXCIgKyB2YXJQYXJ0O1xuICAgICAgfVxuICAgICAgaWYgKG5hbWVkSW5kZXgpIHtcbiAgICAgICAgc3RlcFBhcnQgPSBcIlwiICsgaWR4TmFtZSArIFwiID0gXCIgKyBzdGVwUGFydDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbdGhpcy5tYWtlQ29kZShcIlwiICsgdmFyUGFydCArIFwiOyBcIiArIGNvbmRQYXJ0ICsgXCI7IFwiICsgc3RlcFBhcnQpXTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLmNvbXBpbGVBcnJheSA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBhcmdzLCBib2R5LCBjb25kLCBoYXNBcmdzLCBpLCBpZHQsIHBvc3QsIHByZSwgcmFuZ2UsIHJlc3VsdCwgdmFycywgX2ksIF9yZWYyLCBfcmVmMywgX3Jlc3VsdHM7XG4gICAgICBpZiAodGhpcy5mcm9tTnVtICYmIHRoaXMudG9OdW0gJiYgTWF0aC5hYnModGhpcy5mcm9tTnVtIC0gdGhpcy50b051bSkgPD0gMjApIHtcbiAgICAgICAgcmFuZ2UgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBfaSA9IF9yZWYyID0gK3RoaXMuZnJvbU51bSwgX3JlZjMgPSArdGhpcy50b051bTsgX3JlZjIgPD0gX3JlZjMgPyBfaSA8PSBfcmVmMyA6IF9pID49IF9yZWYzOyBfcmVmMiA8PSBfcmVmMyA/IF9pKysgOiBfaS0tKXsgX3Jlc3VsdHMucHVzaChfaSk7IH1cbiAgICAgICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgICAgIH0pLmFwcGx5KHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5leGNsdXNpdmUpIHtcbiAgICAgICAgICByYW5nZS5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RoaXMubWFrZUNvZGUoXCJbXCIgKyAocmFuZ2Uuam9pbignLCAnKSkgKyBcIl1cIildO1xuICAgICAgfVxuICAgICAgaWR0ID0gdGhpcy50YWIgKyBUQUI7XG4gICAgICBpID0gby5zY29wZS5mcmVlVmFyaWFibGUoJ2knKTtcbiAgICAgIHJlc3VsdCA9IG8uc2NvcGUuZnJlZVZhcmlhYmxlKCdyZXN1bHRzJyk7XG4gICAgICBwcmUgPSBcIlxcblwiICsgaWR0ICsgcmVzdWx0ICsgXCIgPSBbXTtcIjtcbiAgICAgIGlmICh0aGlzLmZyb21OdW0gJiYgdGhpcy50b051bSkge1xuICAgICAgICBvLmluZGV4ID0gaTtcbiAgICAgICAgYm9keSA9IGZyYWdtZW50c1RvVGV4dCh0aGlzLmNvbXBpbGVOb2RlKG8pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhcnMgPSAoXCJcIiArIGkgKyBcIiA9IFwiICsgdGhpcy5mcm9tQykgKyAodGhpcy50b0MgIT09IHRoaXMudG9WYXIgPyBcIiwgXCIgKyB0aGlzLnRvQyA6ICcnKTtcbiAgICAgICAgY29uZCA9IFwiXCIgKyB0aGlzLmZyb21WYXIgKyBcIiA8PSBcIiArIHRoaXMudG9WYXI7XG4gICAgICAgIGJvZHkgPSBcInZhciBcIiArIHZhcnMgKyBcIjsgXCIgKyBjb25kICsgXCIgPyBcIiArIGkgKyBcIiA8XCIgKyB0aGlzLmVxdWFscyArIFwiIFwiICsgdGhpcy50b1ZhciArIFwiIDogXCIgKyBpICsgXCIgPlwiICsgdGhpcy5lcXVhbHMgKyBcIiBcIiArIHRoaXMudG9WYXIgKyBcIjsgXCIgKyBjb25kICsgXCIgPyBcIiArIGkgKyBcIisrIDogXCIgKyBpICsgXCItLVwiO1xuICAgICAgfVxuICAgICAgcG9zdCA9IFwieyBcIiArIHJlc3VsdCArIFwiLnB1c2goXCIgKyBpICsgXCIpOyB9XFxuXCIgKyBpZHQgKyBcInJldHVybiBcIiArIHJlc3VsdCArIFwiO1xcblwiICsgby5pbmRlbnQ7XG4gICAgICBoYXNBcmdzID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgICByZXR1cm4gbm9kZSAhPSBudWxsID8gbm9kZS5jb250YWlucyhpc0xpdGVyYWxBcmd1bWVudHMpIDogdm9pZCAwO1xuICAgICAgfTtcbiAgICAgIGlmIChoYXNBcmdzKHRoaXMuZnJvbSkgfHwgaGFzQXJncyh0aGlzLnRvKSkge1xuICAgICAgICBhcmdzID0gJywgYXJndW1lbnRzJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBbdGhpcy5tYWtlQ29kZShcIihmdW5jdGlvbigpIHtcIiArIHByZSArIFwiXFxuXCIgKyBpZHQgKyBcImZvciAoXCIgKyBib2R5ICsgXCIpXCIgKyBwb3N0ICsgXCJ9KS5hcHBseSh0aGlzXCIgKyAoYXJncyAhPSBudWxsID8gYXJncyA6ICcnKSArIFwiKVwiKV07XG4gICAgfTtcblxuICAgIHJldHVybiBSYW5nZTtcblxuICB9KShCYXNlKTtcblxuICBleHBvcnRzLlNsaWNlID0gU2xpY2UgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNsaWNlLCBfc3VwZXIpO1xuXG4gICAgU2xpY2UucHJvdG90eXBlLmNoaWxkcmVuID0gWydyYW5nZSddO1xuXG4gICAgZnVuY3Rpb24gU2xpY2UocmFuZ2UpIHtcbiAgICAgIHRoaXMucmFuZ2UgPSByYW5nZTtcbiAgICAgIFNsaWNlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIFNsaWNlLnByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBjb21waWxlZCwgY29tcGlsZWRUZXh0LCBmcm9tLCBmcm9tQ29tcGlsZWQsIHRvLCB0b1N0ciwgX3JlZjI7XG4gICAgICBfcmVmMiA9IHRoaXMucmFuZ2UsIHRvID0gX3JlZjIudG8sIGZyb20gPSBfcmVmMi5mcm9tO1xuICAgICAgZnJvbUNvbXBpbGVkID0gZnJvbSAmJiBmcm9tLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9QQVJFTikgfHwgW3RoaXMubWFrZUNvZGUoJzAnKV07XG4gICAgICBpZiAodG8pIHtcbiAgICAgICAgY29tcGlsZWQgPSB0by5jb21waWxlVG9GcmFnbWVudHMobywgTEVWRUxfUEFSRU4pO1xuICAgICAgICBjb21waWxlZFRleHQgPSBmcmFnbWVudHNUb1RleHQoY29tcGlsZWQpO1xuICAgICAgICBpZiAoISghdGhpcy5yYW5nZS5leGNsdXNpdmUgJiYgK2NvbXBpbGVkVGV4dCA9PT0gLTEpKSB7XG4gICAgICAgICAgdG9TdHIgPSAnLCAnICsgKHRoaXMucmFuZ2UuZXhjbHVzaXZlID8gY29tcGlsZWRUZXh0IDogU0lNUExFTlVNLnRlc3QoY29tcGlsZWRUZXh0KSA/IFwiXCIgKyAoK2NvbXBpbGVkVGV4dCArIDEpIDogKGNvbXBpbGVkID0gdG8uY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX0FDQ0VTUyksIFwiK1wiICsgKGZyYWdtZW50c1RvVGV4dChjb21waWxlZCkpICsgXCIgKyAxIHx8IDllOVwiKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBbdGhpcy5tYWtlQ29kZShcIi5zbGljZShcIiArIChmcmFnbWVudHNUb1RleHQoZnJvbUNvbXBpbGVkKSkgKyAodG9TdHIgfHwgJycpICsgXCIpXCIpXTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNsaWNlO1xuXG4gIH0pKEJhc2UpO1xuXG4gIGV4cG9ydHMuT2JqID0gT2JqID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPYmosIF9zdXBlcik7XG5cbiAgICBmdW5jdGlvbiBPYmoocHJvcHMsIGdlbmVyYXRlZCkge1xuICAgICAgdGhpcy5nZW5lcmF0ZWQgPSBnZW5lcmF0ZWQgIT0gbnVsbCA/IGdlbmVyYXRlZCA6IGZhbHNlO1xuICAgICAgdGhpcy5vYmplY3RzID0gdGhpcy5wcm9wZXJ0aWVzID0gcHJvcHMgfHwgW107XG4gICAgfVxuXG4gICAgT2JqLnByb3RvdHlwZS5jaGlsZHJlbiA9IFsncHJvcGVydGllcyddO1xuXG4gICAgT2JqLnByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBhbnN3ZXIsIGksIGlkdCwgaW5kZW50LCBqb2luLCBsYXN0Tm9uY29tLCBub2RlLCBwcm9wLCBwcm9wcywgX2ksIF9qLCBfbGVuLCBfbGVuMTtcbiAgICAgIHByb3BzID0gdGhpcy5wcm9wZXJ0aWVzO1xuICAgICAgaWYgKCFwcm9wcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLm1ha2VDb2RlKHRoaXMuZnJvbnQgPyAnKHt9KScgOiAne30nKV07XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5nZW5lcmF0ZWQpIHtcbiAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBwcm9wcy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICAgIG5vZGUgPSBwcm9wc1tfaV07XG4gICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBWYWx1ZSkge1xuICAgICAgICAgICAgbm9kZS5lcnJvcignY2Fubm90IGhhdmUgYW4gaW1wbGljaXQgdmFsdWUgaW4gYW4gaW1wbGljaXQgb2JqZWN0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZHQgPSBvLmluZGVudCArPSBUQUI7XG4gICAgICBsYXN0Tm9uY29tID0gdGhpcy5sYXN0Tm9uQ29tbWVudCh0aGlzLnByb3BlcnRpZXMpO1xuICAgICAgYW5zd2VyID0gW107XG4gICAgICBmb3IgKGkgPSBfaiA9IDAsIF9sZW4xID0gcHJvcHMubGVuZ3RoOyBfaiA8IF9sZW4xOyBpID0gKytfaikge1xuICAgICAgICBwcm9wID0gcHJvcHNbaV07XG4gICAgICAgIGpvaW4gPSBpID09PSBwcm9wcy5sZW5ndGggLSAxID8gJycgOiBwcm9wID09PSBsYXN0Tm9uY29tIHx8IHByb3AgaW5zdGFuY2VvZiBDb21tZW50ID8gJ1xcbicgOiAnLFxcbic7XG4gICAgICAgIGluZGVudCA9IHByb3AgaW5zdGFuY2VvZiBDb21tZW50ID8gJycgOiBpZHQ7XG4gICAgICAgIGlmIChwcm9wIGluc3RhbmNlb2YgQXNzaWduICYmIHByb3AudmFyaWFibGUgaW5zdGFuY2VvZiBWYWx1ZSAmJiBwcm9wLnZhcmlhYmxlLmhhc1Byb3BlcnRpZXMoKSkge1xuICAgICAgICAgIHByb3AudmFyaWFibGUuZXJyb3IoJ0ludmFsaWQgb2JqZWN0IGtleScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wIGluc3RhbmNlb2YgVmFsdWUgJiYgcHJvcFtcInRoaXNcIl0pIHtcbiAgICAgICAgICBwcm9wID0gbmV3IEFzc2lnbihwcm9wLnByb3BlcnRpZXNbMF0ubmFtZSwgcHJvcCwgJ29iamVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKHByb3AgaW5zdGFuY2VvZiBDb21tZW50KSkge1xuICAgICAgICAgIGlmICghKHByb3AgaW5zdGFuY2VvZiBBc3NpZ24pKSB7XG4gICAgICAgICAgICBwcm9wID0gbmV3IEFzc2lnbihwcm9wLCBwcm9wLCAnb2JqZWN0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIChwcm9wLnZhcmlhYmxlLmJhc2UgfHwgcHJvcC52YXJpYWJsZSkuYXNLZXkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRlbnQpIHtcbiAgICAgICAgICBhbnN3ZXIucHVzaCh0aGlzLm1ha2VDb2RlKGluZGVudCkpO1xuICAgICAgICB9XG4gICAgICAgIGFuc3dlci5wdXNoLmFwcGx5KGFuc3dlciwgcHJvcC5jb21waWxlVG9GcmFnbWVudHMobywgTEVWRUxfVE9QKSk7XG4gICAgICAgIGlmIChqb2luKSB7XG4gICAgICAgICAgYW5zd2VyLnB1c2godGhpcy5tYWtlQ29kZShqb2luKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFuc3dlci51bnNoaWZ0KHRoaXMubWFrZUNvZGUoXCJ7XCIgKyAocHJvcHMubGVuZ3RoICYmICdcXG4nKSkpO1xuICAgICAgYW5zd2VyLnB1c2godGhpcy5tYWtlQ29kZShcIlwiICsgKHByb3BzLmxlbmd0aCAmJiAnXFxuJyArIHRoaXMudGFiKSArIFwifVwiKSk7XG4gICAgICBpZiAodGhpcy5mcm9udCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwSW5CcmFjZXMoYW5zd2VyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhbnN3ZXI7XG4gICAgICB9XG4gICAgfTtcblxuICAgIE9iai5wcm90b3R5cGUuYXNzaWducyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHZhciBwcm9wLCBfaSwgX2xlbiwgX3JlZjI7XG4gICAgICBfcmVmMiA9IHRoaXMucHJvcGVydGllcztcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZjIubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgcHJvcCA9IF9yZWYyW19pXTtcbiAgICAgICAgaWYgKHByb3AuYXNzaWducyhuYW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHJldHVybiBPYmo7XG5cbiAgfSkoQmFzZSk7XG5cbiAgZXhwb3J0cy5BcnIgPSBBcnIgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFyciwgX3N1cGVyKTtcblxuICAgIGZ1bmN0aW9uIEFycihvYmpzKSB7XG4gICAgICB0aGlzLm9iamVjdHMgPSBvYmpzIHx8IFtdO1xuICAgIH1cblxuICAgIEFyci5wcm90b3R5cGUuY2hpbGRyZW4gPSBbJ29iamVjdHMnXTtcblxuICAgIEFyci5wcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgYW5zd2VyLCBjb21waWxlZE9ianMsIGZyYWdtZW50cywgaW5kZXgsIG9iaiwgX2ksIF9sZW47XG4gICAgICBpZiAoIXRoaXMub2JqZWN0cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLm1ha2VDb2RlKCdbXScpXTtcbiAgICAgIH1cbiAgICAgIG8uaW5kZW50ICs9IFRBQjtcbiAgICAgIGFuc3dlciA9IFNwbGF0LmNvbXBpbGVTcGxhdHRlZEFycmF5KG8sIHRoaXMub2JqZWN0cyk7XG4gICAgICBpZiAoYW5zd2VyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYW5zd2VyO1xuICAgICAgfVxuICAgICAgYW5zd2VyID0gW107XG4gICAgICBjb21waWxlZE9ianMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfaSwgX2xlbiwgX3JlZjIsIF9yZXN1bHRzO1xuICAgICAgICBfcmVmMiA9IHRoaXMub2JqZWN0cztcbiAgICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmMi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICAgIG9iaiA9IF9yZWYyW19pXTtcbiAgICAgICAgICBfcmVzdWx0cy5wdXNoKG9iai5jb21waWxlVG9GcmFnbWVudHMobywgTEVWRUxfTElTVCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgIH0pLmNhbGwodGhpcyk7XG4gICAgICBmb3IgKGluZGV4ID0gX2kgPSAwLCBfbGVuID0gY29tcGlsZWRPYmpzLmxlbmd0aDsgX2kgPCBfbGVuOyBpbmRleCA9ICsrX2kpIHtcbiAgICAgICAgZnJhZ21lbnRzID0gY29tcGlsZWRPYmpzW2luZGV4XTtcbiAgICAgICAgaWYgKGluZGV4KSB7XG4gICAgICAgICAgYW5zd2VyLnB1c2godGhpcy5tYWtlQ29kZShcIiwgXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBhbnN3ZXIucHVzaC5hcHBseShhbnN3ZXIsIGZyYWdtZW50cyk7XG4gICAgICB9XG4gICAgICBpZiAoZnJhZ21lbnRzVG9UZXh0KGFuc3dlcikuaW5kZXhPZignXFxuJykgPj0gMCkge1xuICAgICAgICBhbnN3ZXIudW5zaGlmdCh0aGlzLm1ha2VDb2RlKFwiW1xcblwiICsgby5pbmRlbnQpKTtcbiAgICAgICAgYW5zd2VyLnB1c2godGhpcy5tYWtlQ29kZShcIlxcblwiICsgdGhpcy50YWIgKyBcIl1cIikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYW5zd2VyLnVuc2hpZnQodGhpcy5tYWtlQ29kZShcIltcIikpO1xuICAgICAgICBhbnN3ZXIucHVzaCh0aGlzLm1ha2VDb2RlKFwiXVwiKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYW5zd2VyO1xuICAgIH07XG5cbiAgICBBcnIucHJvdG90eXBlLmFzc2lnbnMgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgb2JqLCBfaSwgX2xlbiwgX3JlZjI7XG4gICAgICBfcmVmMiA9IHRoaXMub2JqZWN0cztcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZjIubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgb2JqID0gX3JlZjJbX2ldO1xuICAgICAgICBpZiAob2JqLmFzc2lnbnMobmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gQXJyO1xuXG4gIH0pKEJhc2UpO1xuXG4gIGV4cG9ydHMuQ2xhc3MgPSBDbGFzcyA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2xhc3MsIF9zdXBlcik7XG5cbiAgICBmdW5jdGlvbiBDbGFzcyh2YXJpYWJsZSwgcGFyZW50LCBib2R5KSB7XG4gICAgICB0aGlzLnZhcmlhYmxlID0gdmFyaWFibGU7XG4gICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgIHRoaXMuYm9keSA9IGJvZHkgIT0gbnVsbCA/IGJvZHkgOiBuZXcgQmxvY2s7XG4gICAgICB0aGlzLmJvdW5kRnVuY3MgPSBbXTtcbiAgICAgIHRoaXMuYm9keS5jbGFzc0JvZHkgPSB0cnVlO1xuICAgIH1cblxuICAgIENsYXNzLnByb3RvdHlwZS5jaGlsZHJlbiA9IFsndmFyaWFibGUnLCAncGFyZW50JywgJ2JvZHknXTtcblxuICAgIENsYXNzLnByb3RvdHlwZS5kZXRlcm1pbmVOYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGVjbCwgdGFpbDtcbiAgICAgIGlmICghdGhpcy52YXJpYWJsZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGRlY2wgPSAodGFpbCA9IGxhc3QodGhpcy52YXJpYWJsZS5wcm9wZXJ0aWVzKSkgPyB0YWlsIGluc3RhbmNlb2YgQWNjZXNzICYmIHRhaWwubmFtZS52YWx1ZSA6IHRoaXMudmFyaWFibGUuYmFzZS52YWx1ZTtcbiAgICAgIGlmIChfX2luZGV4T2YuY2FsbChTVFJJQ1RfUFJPU0NSSUJFRCwgZGVjbCkgPj0gMCkge1xuICAgICAgICB0aGlzLnZhcmlhYmxlLmVycm9yKFwiY2xhc3MgdmFyaWFibGUgbmFtZSBtYXkgbm90IGJlIFwiICsgZGVjbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVjbCAmJiAoZGVjbCA9IElERU5USUZJRVIudGVzdChkZWNsKSAmJiBkZWNsKTtcbiAgICB9O1xuXG4gICAgQ2xhc3MucHJvdG90eXBlLnNldENvbnRleHQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5ib2R5LnRyYXZlcnNlQ2hpbGRyZW4oZmFsc2UsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUuY2xhc3NCb2R5KSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgTGl0ZXJhbCAmJiBub2RlLnZhbHVlID09PSAndGhpcycpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZS52YWx1ZSA9IG5hbWU7XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIENvZGUpIHtcbiAgICAgICAgICBub2RlLmtsYXNzID0gbmFtZTtcbiAgICAgICAgICBpZiAobm9kZS5ib3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUuY29udGV4dCA9IG5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgQ2xhc3MucHJvdG90eXBlLmFkZEJvdW5kRnVuY3Rpb25zID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIGJ2YXIsIGxocywgX2ksIF9sZW4sIF9yZWYyO1xuICAgICAgX3JlZjIgPSB0aGlzLmJvdW5kRnVuY3M7XG4gICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYyLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgIGJ2YXIgPSBfcmVmMltfaV07XG4gICAgICAgIGxocyA9IChuZXcgVmFsdWUobmV3IExpdGVyYWwoXCJ0aGlzXCIpLCBbbmV3IEFjY2VzcyhidmFyKV0pKS5jb21waWxlKG8pO1xuICAgICAgICB0aGlzLmN0b3IuYm9keS51bnNoaWZ0KG5ldyBMaXRlcmFsKFwiXCIgKyBsaHMgKyBcIiA9IFwiICsgKHV0aWxpdHkoJ2JpbmQnKSkgKyBcIihcIiArIGxocyArIFwiLCB0aGlzKVwiKSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENsYXNzLnByb3RvdHlwZS5hZGRQcm9wZXJ0aWVzID0gZnVuY3Rpb24obm9kZSwgbmFtZSwgbykge1xuICAgICAgdmFyIGFzc2lnbiwgYmFzZSwgZXhwcnMsIGZ1bmMsIHByb3BzO1xuICAgICAgcHJvcHMgPSBub2RlLmJhc2UucHJvcGVydGllcy5zbGljZSgwKTtcbiAgICAgIGV4cHJzID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgX3Jlc3VsdHM7XG4gICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgIHdoaWxlIChhc3NpZ24gPSBwcm9wcy5zaGlmdCgpKSB7XG4gICAgICAgICAgaWYgKGFzc2lnbiBpbnN0YW5jZW9mIEFzc2lnbikge1xuICAgICAgICAgICAgYmFzZSA9IGFzc2lnbi52YXJpYWJsZS5iYXNlO1xuICAgICAgICAgICAgZGVsZXRlIGFzc2lnbi5jb250ZXh0O1xuICAgICAgICAgICAgZnVuYyA9IGFzc2lnbi52YWx1ZTtcbiAgICAgICAgICAgIGlmIChiYXNlLnZhbHVlID09PSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLmN0b3IpIHtcbiAgICAgICAgICAgICAgICBhc3NpZ24uZXJyb3IoJ2Nhbm5vdCBkZWZpbmUgbW9yZSB0aGFuIG9uZSBjb25zdHJ1Y3RvciBpbiBhIGNsYXNzJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGZ1bmMuYm91bmQpIHtcbiAgICAgICAgICAgICAgICBhc3NpZ24uZXJyb3IoJ2Nhbm5vdCBkZWZpbmUgYSBjb25zdHJ1Y3RvciBhcyBhIGJvdW5kIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGZ1bmMgaW5zdGFuY2VvZiBDb2RlKSB7XG4gICAgICAgICAgICAgICAgYXNzaWduID0gdGhpcy5jdG9yID0gZnVuYztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV4dGVybmFsQ3RvciA9IG8uY2xhc3NTY29wZS5mcmVlVmFyaWFibGUoJ2NsYXNzJyk7XG4gICAgICAgICAgICAgICAgYXNzaWduID0gbmV3IEFzc2lnbihuZXcgTGl0ZXJhbCh0aGlzLmV4dGVybmFsQ3RvciksIGZ1bmMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoYXNzaWduLnZhcmlhYmxlW1widGhpc1wiXSkge1xuICAgICAgICAgICAgICAgIGZ1bmNbXCJzdGF0aWNcIl0gPSB0cnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFzc2lnbi52YXJpYWJsZSA9IG5ldyBWYWx1ZShuZXcgTGl0ZXJhbChuYW1lKSwgW25ldyBBY2Nlc3MobmV3IExpdGVyYWwoJ3Byb3RvdHlwZScpKSwgbmV3IEFjY2VzcyhiYXNlKV0pO1xuICAgICAgICAgICAgICAgIGlmIChmdW5jIGluc3RhbmNlb2YgQ29kZSAmJiBmdW5jLmJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmJvdW5kRnVuY3MucHVzaChiYXNlKTtcbiAgICAgICAgICAgICAgICAgIGZ1bmMuYm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgX3Jlc3VsdHMucHVzaChhc3NpZ24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgIH0pLmNhbGwodGhpcyk7XG4gICAgICByZXR1cm4gY29tcGFjdChleHBycyk7XG4gICAgfTtcblxuICAgIENsYXNzLnByb3RvdHlwZS53YWxrQm9keSA9IGZ1bmN0aW9uKG5hbWUsIG8pIHtcbiAgICAgIHJldHVybiB0aGlzLnRyYXZlcnNlQ2hpbGRyZW4oZmFsc2UsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICB2YXIgY29udCwgZXhwcywgaSwgbm9kZSwgX2ksIF9sZW4sIF9yZWYyO1xuICAgICAgICAgIGNvbnQgPSB0cnVlO1xuICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIENsYXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEJsb2NrKSB7XG4gICAgICAgICAgICBfcmVmMiA9IGV4cHMgPSBjaGlsZC5leHByZXNzaW9ucztcbiAgICAgICAgICAgIGZvciAoaSA9IF9pID0gMCwgX2xlbiA9IF9yZWYyLmxlbmd0aDsgX2kgPCBfbGVuOyBpID0gKytfaSkge1xuICAgICAgICAgICAgICBub2RlID0gX3JlZjJbaV07XG4gICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQXNzaWduICYmIG5vZGUudmFyaWFibGUubG9va3NTdGF0aWMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLnZhbHVlW1wic3RhdGljXCJdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgVmFsdWUgJiYgbm9kZS5pc09iamVjdCh0cnVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBleHBzW2ldID0gX3RoaXMuYWRkUHJvcGVydGllcyhub2RlLCBuYW1lLCBvKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hpbGQuZXhwcmVzc2lvbnMgPSBleHBzID0gZmxhdHRlbihleHBzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbnQgJiYgIShjaGlsZCBpbnN0YW5jZW9mIENsYXNzKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9O1xuXG4gICAgQ2xhc3MucHJvdG90eXBlLmhvaXN0RGlyZWN0aXZlUHJvbG9ndWUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBleHByZXNzaW9ucywgaW5kZXgsIG5vZGU7XG4gICAgICBpbmRleCA9IDA7XG4gICAgICBleHByZXNzaW9ucyA9IHRoaXMuYm9keS5leHByZXNzaW9ucztcbiAgICAgIHdoaWxlICgobm9kZSA9IGV4cHJlc3Npb25zW2luZGV4XSkgJiYgbm9kZSBpbnN0YW5jZW9mIENvbW1lbnQgfHwgbm9kZSBpbnN0YW5jZW9mIFZhbHVlICYmIG5vZGUuaXNTdHJpbmcoKSkge1xuICAgICAgICArK2luZGV4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0aXZlcyA9IGV4cHJlc3Npb25zLnNwbGljZSgwLCBpbmRleCk7XG4gICAgfTtcblxuICAgIENsYXNzLnByb3RvdHlwZS5lbnN1cmVDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIGlmICghdGhpcy5jdG9yKSB7XG4gICAgICAgIHRoaXMuY3RvciA9IG5ldyBDb2RlO1xuICAgICAgICBpZiAodGhpcy5leHRlcm5hbEN0b3IpIHtcbiAgICAgICAgICB0aGlzLmN0b3IuYm9keS5wdXNoKG5ldyBMaXRlcmFsKFwiXCIgKyB0aGlzLmV4dGVybmFsQ3RvciArIFwiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcIikpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgdGhpcy5jdG9yLmJvZHkucHVzaChuZXcgTGl0ZXJhbChcIlwiICsgbmFtZSArIFwiLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpXCIpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN0b3IuYm9keS5tYWtlUmV0dXJuKCk7XG4gICAgICAgIHRoaXMuYm9keS5leHByZXNzaW9ucy51bnNoaWZ0KHRoaXMuY3Rvcik7XG4gICAgICB9XG4gICAgICB0aGlzLmN0b3IuY3RvciA9IHRoaXMuY3Rvci5uYW1lID0gbmFtZTtcbiAgICAgIHRoaXMuY3Rvci5rbGFzcyA9IG51bGw7XG4gICAgICByZXR1cm4gdGhpcy5jdG9yLm5vUmV0dXJuID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgQ2xhc3MucHJvdG90eXBlLmNvbXBpbGVOb2RlID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIGFyZ3MsIGFyZ3VtZW50c05vZGUsIGZ1bmMsIGp1bXBOb2RlLCBrbGFzcywgbG5hbWUsIG5hbWUsIHN1cGVyQ2xhc3MsIF9yZWYyO1xuICAgICAgaWYgKGp1bXBOb2RlID0gdGhpcy5ib2R5Lmp1bXBzKCkpIHtcbiAgICAgICAganVtcE5vZGUuZXJyb3IoJ0NsYXNzIGJvZGllcyBjYW5ub3QgY29udGFpbiBwdXJlIHN0YXRlbWVudHMnKTtcbiAgICAgIH1cbiAgICAgIGlmIChhcmd1bWVudHNOb2RlID0gdGhpcy5ib2R5LmNvbnRhaW5zKGlzTGl0ZXJhbEFyZ3VtZW50cykpIHtcbiAgICAgICAgYXJndW1lbnRzTm9kZS5lcnJvcihcIkNsYXNzIGJvZGllcyBzaG91bGRuJ3QgcmVmZXJlbmNlIGFyZ3VtZW50c1wiKTtcbiAgICAgIH1cbiAgICAgIG5hbWUgPSB0aGlzLmRldGVybWluZU5hbWUoKSB8fCAnX0NsYXNzJztcbiAgICAgIGlmIChuYW1lLnJlc2VydmVkKSB7XG4gICAgICAgIG5hbWUgPSBcIl9cIiArIG5hbWU7XG4gICAgICB9XG4gICAgICBsbmFtZSA9IG5ldyBMaXRlcmFsKG5hbWUpO1xuICAgICAgZnVuYyA9IG5ldyBDb2RlKFtdLCBCbG9jay53cmFwKFt0aGlzLmJvZHldKSk7XG4gICAgICBhcmdzID0gW107XG4gICAgICBvLmNsYXNzU2NvcGUgPSBmdW5jLm1ha2VTY29wZShvLnNjb3BlKTtcbiAgICAgIHRoaXMuaG9pc3REaXJlY3RpdmVQcm9sb2d1ZSgpO1xuICAgICAgdGhpcy5zZXRDb250ZXh0KG5hbWUpO1xuICAgICAgdGhpcy53YWxrQm9keShuYW1lLCBvKTtcbiAgICAgIHRoaXMuZW5zdXJlQ29uc3RydWN0b3IobmFtZSk7XG4gICAgICB0aGlzLmFkZEJvdW5kRnVuY3Rpb25zKG8pO1xuICAgICAgdGhpcy5ib2R5LnNwYWNlZCA9IHRydWU7XG4gICAgICB0aGlzLmJvZHkuZXhwcmVzc2lvbnMucHVzaChsbmFtZSk7XG4gICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgc3VwZXJDbGFzcyA9IG5ldyBMaXRlcmFsKG8uY2xhc3NTY29wZS5mcmVlVmFyaWFibGUoJ3N1cGVyJywgZmFsc2UpKTtcbiAgICAgICAgdGhpcy5ib2R5LmV4cHJlc3Npb25zLnVuc2hpZnQobmV3IEV4dGVuZHMobG5hbWUsIHN1cGVyQ2xhc3MpKTtcbiAgICAgICAgZnVuYy5wYXJhbXMucHVzaChuZXcgUGFyYW0oc3VwZXJDbGFzcykpO1xuICAgICAgICBhcmdzLnB1c2godGhpcy5wYXJlbnQpO1xuICAgICAgfVxuICAgICAgKF9yZWYyID0gdGhpcy5ib2R5LmV4cHJlc3Npb25zKS51bnNoaWZ0LmFwcGx5KF9yZWYyLCB0aGlzLmRpcmVjdGl2ZXMpO1xuICAgICAga2xhc3MgPSBuZXcgUGFyZW5zKG5ldyBDYWxsKGZ1bmMsIGFyZ3MpKTtcbiAgICAgIGlmICh0aGlzLnZhcmlhYmxlKSB7XG4gICAgICAgIGtsYXNzID0gbmV3IEFzc2lnbih0aGlzLnZhcmlhYmxlLCBrbGFzcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4ga2xhc3MuY29tcGlsZVRvRnJhZ21lbnRzKG8pO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2xhc3M7XG5cbiAgfSkoQmFzZSk7XG5cbiAgZXhwb3J0cy5Bc3NpZ24gPSBBc3NpZ24gPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFzc2lnbiwgX3N1cGVyKTtcblxuICAgIGZ1bmN0aW9uIEFzc2lnbih2YXJpYWJsZSwgdmFsdWUsIGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBmb3JiaWRkZW4sIG5hbWUsIF9yZWYyO1xuICAgICAgdGhpcy52YXJpYWJsZSA9IHZhcmlhYmxlO1xuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgIHRoaXMucGFyYW0gPSBvcHRpb25zICYmIG9wdGlvbnMucGFyYW07XG4gICAgICB0aGlzLnN1YnBhdHRlcm4gPSBvcHRpb25zICYmIG9wdGlvbnMuc3VicGF0dGVybjtcbiAgICAgIGZvcmJpZGRlbiA9IChfcmVmMiA9IChuYW1lID0gdGhpcy52YXJpYWJsZS51bndyYXBBbGwoKS52YWx1ZSksIF9faW5kZXhPZi5jYWxsKFNUUklDVF9QUk9TQ1JJQkVELCBfcmVmMikgPj0gMCk7XG4gICAgICBpZiAoZm9yYmlkZGVuICYmIHRoaXMuY29udGV4dCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhpcy52YXJpYWJsZS5lcnJvcihcInZhcmlhYmxlIG5hbWUgbWF5IG5vdCBiZSBcXFwiXCIgKyBuYW1lICsgXCJcXFwiXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIEFzc2lnbi5wcm90b3R5cGUuY2hpbGRyZW4gPSBbJ3ZhcmlhYmxlJywgJ3ZhbHVlJ107XG5cbiAgICBBc3NpZ24ucHJvdG90eXBlLmlzU3RhdGVtZW50ID0gZnVuY3Rpb24obykge1xuICAgICAgcmV0dXJuIChvICE9IG51bGwgPyBvLmxldmVsIDogdm9pZCAwKSA9PT0gTEVWRUxfVE9QICYmICh0aGlzLmNvbnRleHQgIT0gbnVsbCkgJiYgX19pbmRleE9mLmNhbGwodGhpcy5jb250ZXh0LCBcIj9cIikgPj0gMDtcbiAgICB9O1xuXG4gICAgQXNzaWduLnByb3RvdHlwZS5hc3NpZ25zID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXNbdGhpcy5jb250ZXh0ID09PSAnb2JqZWN0JyA/ICd2YWx1ZScgOiAndmFyaWFibGUnXS5hc3NpZ25zKG5hbWUpO1xuICAgIH07XG5cbiAgICBBc3NpZ24ucHJvdG90eXBlLnVuZm9sZFNvYWsgPSBmdW5jdGlvbihvKSB7XG4gICAgICByZXR1cm4gdW5mb2xkU29hayhvLCB0aGlzLCAndmFyaWFibGUnKTtcbiAgICB9O1xuXG4gICAgQXNzaWduLnByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBhbnN3ZXIsIGNvbXBpbGVkTmFtZSwgaXNWYWx1ZSwgbWF0Y2gsIG5hbWUsIHZhbCwgdmFyQmFzZSwgX3JlZjIsIF9yZWYzLCBfcmVmNCwgX3JlZjU7XG4gICAgICBpZiAoaXNWYWx1ZSA9IHRoaXMudmFyaWFibGUgaW5zdGFuY2VvZiBWYWx1ZSkge1xuICAgICAgICBpZiAodGhpcy52YXJpYWJsZS5pc0FycmF5KCkgfHwgdGhpcy52YXJpYWJsZS5pc09iamVjdCgpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZVBhdHRlcm5NYXRjaChvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52YXJpYWJsZS5pc1NwbGljZSgpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZVNwbGljZShvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKF9yZWYyID0gdGhpcy5jb250ZXh0KSA9PT0gJ3x8PScgfHwgX3JlZjIgPT09ICcmJj0nIHx8IF9yZWYyID09PSAnPz0nKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZUNvbmRpdGlvbmFsKG8pO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoX3JlZjMgPSB0aGlzLmNvbnRleHQpID09PSAnKio9JyB8fCBfcmVmMyA9PT0gJy8vPScgfHwgX3JlZjMgPT09ICclJT0nKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZVNwZWNpYWxNYXRoKG8pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb21waWxlZE5hbWUgPSB0aGlzLnZhcmlhYmxlLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9MSVNUKTtcbiAgICAgIG5hbWUgPSBmcmFnbWVudHNUb1RleHQoY29tcGlsZWROYW1lKTtcbiAgICAgIGlmICghdGhpcy5jb250ZXh0KSB7XG4gICAgICAgIHZhckJhc2UgPSB0aGlzLnZhcmlhYmxlLnVud3JhcEFsbCgpO1xuICAgICAgICBpZiAoIXZhckJhc2UuaXNBc3NpZ25hYmxlKCkpIHtcbiAgICAgICAgICB0aGlzLnZhcmlhYmxlLmVycm9yKFwiXFxcIlwiICsgKHRoaXMudmFyaWFibGUuY29tcGlsZShvKSkgKyBcIlxcXCIgY2Fubm90IGJlIGFzc2lnbmVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKHR5cGVvZiB2YXJCYXNlLmhhc1Byb3BlcnRpZXMgPT09IFwiZnVuY3Rpb25cIiA/IHZhckJhc2UuaGFzUHJvcGVydGllcygpIDogdm9pZCAwKSkge1xuICAgICAgICAgIGlmICh0aGlzLnBhcmFtKSB7XG4gICAgICAgICAgICBvLnNjb3BlLmFkZChuYW1lLCAndmFyJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG8uc2NvcGUuZmluZChuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZhbHVlIGluc3RhbmNlb2YgQ29kZSAmJiAobWF0Y2ggPSBNRVRIT0RfREVGLmV4ZWMobmFtZSkpKSB7XG4gICAgICAgIGlmIChtYXRjaFsyXSkge1xuICAgICAgICAgIHRoaXMudmFsdWUua2xhc3MgPSBtYXRjaFsxXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlLm5hbWUgPSAoX3JlZjQgPSAoX3JlZjUgPSBtYXRjaFszXSkgIT0gbnVsbCA/IF9yZWY1IDogbWF0Y2hbNF0pICE9IG51bGwgPyBfcmVmNCA6IG1hdGNoWzVdO1xuICAgICAgfVxuICAgICAgdmFsID0gdGhpcy52YWx1ZS5jb21waWxlVG9GcmFnbWVudHMobywgTEVWRUxfTElTVCk7XG4gICAgICBpZiAodGhpcy5jb250ZXh0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gY29tcGlsZWROYW1lLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiOiBcIiksIHZhbCk7XG4gICAgICB9XG4gICAgICBhbnN3ZXIgPSBjb21waWxlZE5hbWUuY29uY2F0KHRoaXMubWFrZUNvZGUoXCIgXCIgKyAodGhpcy5jb250ZXh0IHx8ICc9JykgKyBcIiBcIiksIHZhbCk7XG4gICAgICBpZiAoby5sZXZlbCA8PSBMRVZFTF9MSVNUKSB7XG4gICAgICAgIHJldHVybiBhbnN3ZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwSW5CcmFjZXMoYW5zd2VyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQXNzaWduLnByb3RvdHlwZS5jb21waWxlUGF0dGVybk1hdGNoID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIGFjYywgYXNzaWducywgY29kZSwgZXhwYW5kZWRJZHgsIGZyYWdtZW50cywgaSwgaWR4LCBpc09iamVjdCwgaXZhciwgbmFtZSwgb2JqLCBvYmplY3RzLCBvbGVuLCByZWYsIHJlc3QsIHRvcCwgdmFsLCB2YWx1ZSwgdnZhciwgdnZhclRleHQsIF9pLCBfbGVuLCBfcmVmMiwgX3JlZjMsIF9yZWY0LCBfcmVmNSwgX3JlZjYsIF9yZWY3O1xuICAgICAgdG9wID0gby5sZXZlbCA9PT0gTEVWRUxfVE9QO1xuICAgICAgdmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgb2JqZWN0cyA9IHRoaXMudmFyaWFibGUuYmFzZS5vYmplY3RzO1xuICAgICAgaWYgKCEob2xlbiA9IG9iamVjdHMubGVuZ3RoKSkge1xuICAgICAgICBjb2RlID0gdmFsdWUuY29tcGlsZVRvRnJhZ21lbnRzKG8pO1xuICAgICAgICBpZiAoby5sZXZlbCA+PSBMRVZFTF9PUCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLndyYXBJbkJyYWNlcyhjb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY29kZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaXNPYmplY3QgPSB0aGlzLnZhcmlhYmxlLmlzT2JqZWN0KCk7XG4gICAgICBpZiAodG9wICYmIG9sZW4gPT09IDEgJiYgISgob2JqID0gb2JqZWN0c1swXSkgaW5zdGFuY2VvZiBTcGxhdCkpIHtcbiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEFzc2lnbikge1xuICAgICAgICAgIF9yZWYyID0gb2JqLCAoX3JlZjMgPSBfcmVmMi52YXJpYWJsZSwgaWR4ID0gX3JlZjMuYmFzZSksIG9iaiA9IF9yZWYyLnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlkeCA9IGlzT2JqZWN0ID8gb2JqW1widGhpc1wiXSA/IG9iai5wcm9wZXJ0aWVzWzBdLm5hbWUgOiBvYmogOiBuZXcgTGl0ZXJhbCgwKTtcbiAgICAgICAgfVxuICAgICAgICBhY2MgPSBJREVOVElGSUVSLnRlc3QoaWR4LnVud3JhcCgpLnZhbHVlIHx8IDApO1xuICAgICAgICB2YWx1ZSA9IG5ldyBWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHZhbHVlLnByb3BlcnRpZXMucHVzaChuZXcgKGFjYyA/IEFjY2VzcyA6IEluZGV4KShpZHgpKTtcbiAgICAgICAgaWYgKF9yZWY0ID0gb2JqLnVud3JhcCgpLnZhbHVlLCBfX2luZGV4T2YuY2FsbChSRVNFUlZFRCwgX3JlZjQpID49IDApIHtcbiAgICAgICAgICBvYmouZXJyb3IoXCJhc3NpZ25tZW50IHRvIGEgcmVzZXJ2ZWQgd29yZDogXCIgKyAob2JqLmNvbXBpbGUobykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEFzc2lnbihvYmosIHZhbHVlLCBudWxsLCB7XG4gICAgICAgICAgcGFyYW06IHRoaXMucGFyYW1cbiAgICAgICAgfSkuY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX1RPUCk7XG4gICAgICB9XG4gICAgICB2dmFyID0gdmFsdWUuY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX0xJU1QpO1xuICAgICAgdnZhclRleHQgPSBmcmFnbWVudHNUb1RleHQodnZhcik7XG4gICAgICBhc3NpZ25zID0gW107XG4gICAgICBleHBhbmRlZElkeCA9IGZhbHNlO1xuICAgICAgaWYgKCFJREVOVElGSUVSLnRlc3QodnZhclRleHQpIHx8IHRoaXMudmFyaWFibGUuYXNzaWducyh2dmFyVGV4dCkpIHtcbiAgICAgICAgYXNzaWducy5wdXNoKFt0aGlzLm1ha2VDb2RlKFwiXCIgKyAocmVmID0gby5zY29wZS5mcmVlVmFyaWFibGUoJ3JlZicpKSArIFwiID0gXCIpXS5jb25jYXQoX19zbGljZS5jYWxsKHZ2YXIpKSk7XG4gICAgICAgIHZ2YXIgPSBbdGhpcy5tYWtlQ29kZShyZWYpXTtcbiAgICAgICAgdnZhclRleHQgPSByZWY7XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSBfaSA9IDAsIF9sZW4gPSBvYmplY3RzLmxlbmd0aDsgX2kgPCBfbGVuOyBpID0gKytfaSkge1xuICAgICAgICBvYmogPSBvYmplY3RzW2ldO1xuICAgICAgICBpZHggPSBpO1xuICAgICAgICBpZiAoaXNPYmplY3QpIHtcbiAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQXNzaWduKSB7XG4gICAgICAgICAgICBfcmVmNSA9IG9iaiwgKF9yZWY2ID0gX3JlZjUudmFyaWFibGUsIGlkeCA9IF9yZWY2LmJhc2UpLCBvYmogPSBfcmVmNS52YWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9iai5iYXNlIGluc3RhbmNlb2YgUGFyZW5zKSB7XG4gICAgICAgICAgICAgIF9yZWY3ID0gbmV3IFZhbHVlKG9iai51bndyYXBBbGwoKSkuY2FjaGVSZWZlcmVuY2UobyksIG9iaiA9IF9yZWY3WzBdLCBpZHggPSBfcmVmN1sxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlkeCA9IG9ialtcInRoaXNcIl0gPyBvYmoucHJvcGVydGllc1swXS5uYW1lIDogb2JqO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWV4cGFuZGVkSWR4ICYmIG9iaiBpbnN0YW5jZW9mIFNwbGF0KSB7XG4gICAgICAgICAgbmFtZSA9IG9iai5uYW1lLnVud3JhcCgpLnZhbHVlO1xuICAgICAgICAgIG9iaiA9IG9iai51bndyYXAoKTtcbiAgICAgICAgICB2YWwgPSBcIlwiICsgb2xlbiArIFwiIDw9IFwiICsgdnZhclRleHQgKyBcIi5sZW5ndGggPyBcIiArICh1dGlsaXR5KCdzbGljZScpKSArIFwiLmNhbGwoXCIgKyB2dmFyVGV4dCArIFwiLCBcIiArIGk7XG4gICAgICAgICAgaWYgKHJlc3QgPSBvbGVuIC0gaSAtIDEpIHtcbiAgICAgICAgICAgIGl2YXIgPSBvLnNjb3BlLmZyZWVWYXJpYWJsZSgnaScpO1xuICAgICAgICAgICAgdmFsICs9IFwiLCBcIiArIGl2YXIgKyBcIiA9IFwiICsgdnZhclRleHQgKyBcIi5sZW5ndGggLSBcIiArIHJlc3QgKyBcIikgOiAoXCIgKyBpdmFyICsgXCIgPSBcIiArIGkgKyBcIiwgW10pXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbCArPSBcIikgOiBbXVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YWwgPSBuZXcgTGl0ZXJhbCh2YWwpO1xuICAgICAgICAgIGV4cGFuZGVkSWR4ID0gXCJcIiArIGl2YXIgKyBcIisrXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoIWV4cGFuZGVkSWR4ICYmIG9iaiBpbnN0YW5jZW9mIEV4cGFuc2lvbikge1xuICAgICAgICAgIGlmIChyZXN0ID0gb2xlbiAtIGkgLSAxKSB7XG4gICAgICAgICAgICBpZiAocmVzdCA9PT0gMSkge1xuICAgICAgICAgICAgICBleHBhbmRlZElkeCA9IFwiXCIgKyB2dmFyVGV4dCArIFwiLmxlbmd0aCAtIDFcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGl2YXIgPSBvLnNjb3BlLmZyZWVWYXJpYWJsZSgnaScpO1xuICAgICAgICAgICAgICB2YWwgPSBuZXcgTGl0ZXJhbChcIlwiICsgaXZhciArIFwiID0gXCIgKyB2dmFyVGV4dCArIFwiLmxlbmd0aCAtIFwiICsgcmVzdCk7XG4gICAgICAgICAgICAgIGV4cGFuZGVkSWR4ID0gXCJcIiArIGl2YXIgKyBcIisrXCI7XG4gICAgICAgICAgICAgIGFzc2lnbnMucHVzaCh2YWwuY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX0xJU1QpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmFtZSA9IG9iai51bndyYXAoKS52YWx1ZTtcbiAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgU3BsYXQgfHwgb2JqIGluc3RhbmNlb2YgRXhwYW5zaW9uKSB7XG4gICAgICAgICAgICBvYmouZXJyb3IoXCJtdWx0aXBsZSBzcGxhdHMvZXhwYW5zaW9ucyBhcmUgZGlzYWxsb3dlZCBpbiBhbiBhc3NpZ25tZW50XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIGlkeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGlkeCA9IG5ldyBMaXRlcmFsKGV4cGFuZGVkSWR4IHx8IGlkeCk7XG4gICAgICAgICAgICBhY2MgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWNjID0gaXNPYmplY3QgJiYgSURFTlRJRklFUi50ZXN0KGlkeC51bndyYXAoKS52YWx1ZSB8fCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFsID0gbmV3IFZhbHVlKG5ldyBMaXRlcmFsKHZ2YXJUZXh0KSwgW25ldyAoYWNjID8gQWNjZXNzIDogSW5kZXgpKGlkeCldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKG5hbWUgIT0gbnVsbCkgJiYgX19pbmRleE9mLmNhbGwoUkVTRVJWRUQsIG5hbWUpID49IDApIHtcbiAgICAgICAgICBvYmouZXJyb3IoXCJhc3NpZ25tZW50IHRvIGEgcmVzZXJ2ZWQgd29yZDogXCIgKyAob2JqLmNvbXBpbGUobykpKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25zLnB1c2gobmV3IEFzc2lnbihvYmosIHZhbCwgbnVsbCwge1xuICAgICAgICAgIHBhcmFtOiB0aGlzLnBhcmFtLFxuICAgICAgICAgIHN1YnBhdHRlcm46IHRydWVcbiAgICAgICAgfSkuY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX0xJU1QpKTtcbiAgICAgIH1cbiAgICAgIGlmICghKHRvcCB8fCB0aGlzLnN1YnBhdHRlcm4pKSB7XG4gICAgICAgIGFzc2lnbnMucHVzaCh2dmFyKTtcbiAgICAgIH1cbiAgICAgIGZyYWdtZW50cyA9IHRoaXMuam9pbkZyYWdtZW50QXJyYXlzKGFzc2lnbnMsICcsICcpO1xuICAgICAgaWYgKG8ubGV2ZWwgPCBMRVZFTF9MSVNUKSB7XG4gICAgICAgIHJldHVybiBmcmFnbWVudHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwSW5CcmFjZXMoZnJhZ21lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQXNzaWduLnByb3RvdHlwZS5jb21waWxlQ29uZGl0aW9uYWwgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgZnJhZ21lbnRzLCBsZWZ0LCByaWdodCwgX3JlZjI7XG4gICAgICBfcmVmMiA9IHRoaXMudmFyaWFibGUuY2FjaGVSZWZlcmVuY2UobyksIGxlZnQgPSBfcmVmMlswXSwgcmlnaHQgPSBfcmVmMlsxXTtcbiAgICAgIGlmICghbGVmdC5wcm9wZXJ0aWVzLmxlbmd0aCAmJiBsZWZ0LmJhc2UgaW5zdGFuY2VvZiBMaXRlcmFsICYmIGxlZnQuYmFzZS52YWx1ZSAhPT0gXCJ0aGlzXCIgJiYgIW8uc2NvcGUuY2hlY2sobGVmdC5iYXNlLnZhbHVlKSkge1xuICAgICAgICB0aGlzLnZhcmlhYmxlLmVycm9yKFwidGhlIHZhcmlhYmxlIFxcXCJcIiArIGxlZnQuYmFzZS52YWx1ZSArIFwiXFxcIiBjYW4ndCBiZSBhc3NpZ25lZCB3aXRoIFwiICsgdGhpcy5jb250ZXh0ICsgXCIgYmVjYXVzZSBpdCBoYXMgbm90IGJlZW4gZGVjbGFyZWQgYmVmb3JlXCIpO1xuICAgICAgfVxuICAgICAgaWYgKF9faW5kZXhPZi5jYWxsKHRoaXMuY29udGV4dCwgXCI/XCIpID49IDApIHtcbiAgICAgICAgby5pc0V4aXN0ZW50aWFsRXF1YWxzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG5ldyBJZihuZXcgRXhpc3RlbmNlKGxlZnQpLCByaWdodCwge1xuICAgICAgICAgIHR5cGU6ICdpZidcbiAgICAgICAgfSkuYWRkRWxzZShuZXcgQXNzaWduKHJpZ2h0LCB0aGlzLnZhbHVlLCAnPScpKS5jb21waWxlVG9GcmFnbWVudHMobyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmcmFnbWVudHMgPSBuZXcgT3AodGhpcy5jb250ZXh0LnNsaWNlKDAsIC0xKSwgbGVmdCwgbmV3IEFzc2lnbihyaWdodCwgdGhpcy52YWx1ZSwgJz0nKSkuY29tcGlsZVRvRnJhZ21lbnRzKG8pO1xuICAgICAgICBpZiAoby5sZXZlbCA8PSBMRVZFTF9MSVNUKSB7XG4gICAgICAgICAgcmV0dXJuIGZyYWdtZW50cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy53cmFwSW5CcmFjZXMoZnJhZ21lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBBc3NpZ24ucHJvdG90eXBlLmNvbXBpbGVTcGVjaWFsTWF0aCA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBsZWZ0LCByaWdodCwgX3JlZjI7XG4gICAgICBfcmVmMiA9IHRoaXMudmFyaWFibGUuY2FjaGVSZWZlcmVuY2UobyksIGxlZnQgPSBfcmVmMlswXSwgcmlnaHQgPSBfcmVmMlsxXTtcbiAgICAgIHJldHVybiBuZXcgQXNzaWduKGxlZnQsIG5ldyBPcCh0aGlzLmNvbnRleHQuc2xpY2UoMCwgLTEpLCByaWdodCwgdGhpcy52YWx1ZSkpLmNvbXBpbGVUb0ZyYWdtZW50cyhvKTtcbiAgICB9O1xuXG4gICAgQXNzaWduLnByb3RvdHlwZS5jb21waWxlU3BsaWNlID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIGFuc3dlciwgZXhjbHVzaXZlLCBmcm9tLCBmcm9tRGVjbCwgZnJvbVJlZiwgbmFtZSwgdG8sIHZhbERlZiwgdmFsUmVmLCBfcmVmMiwgX3JlZjMsIF9yZWY0O1xuICAgICAgX3JlZjIgPSB0aGlzLnZhcmlhYmxlLnByb3BlcnRpZXMucG9wKCkucmFuZ2UsIGZyb20gPSBfcmVmMi5mcm9tLCB0byA9IF9yZWYyLnRvLCBleGNsdXNpdmUgPSBfcmVmMi5leGNsdXNpdmU7XG4gICAgICBuYW1lID0gdGhpcy52YXJpYWJsZS5jb21waWxlKG8pO1xuICAgICAgaWYgKGZyb20pIHtcbiAgICAgICAgX3JlZjMgPSB0aGlzLmNhY2hlVG9Db2RlRnJhZ21lbnRzKGZyb20uY2FjaGUobywgTEVWRUxfT1ApKSwgZnJvbURlY2wgPSBfcmVmM1swXSwgZnJvbVJlZiA9IF9yZWYzWzFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJvbURlY2wgPSBmcm9tUmVmID0gJzAnO1xuICAgICAgfVxuICAgICAgaWYgKHRvKSB7XG4gICAgICAgIGlmIChmcm9tIGluc3RhbmNlb2YgVmFsdWUgJiYgZnJvbS5pc1NpbXBsZU51bWJlcigpICYmIHRvIGluc3RhbmNlb2YgVmFsdWUgJiYgdG8uaXNTaW1wbGVOdW1iZXIoKSkge1xuICAgICAgICAgIHRvID0gdG8uY29tcGlsZShvKSAtIGZyb21SZWY7XG4gICAgICAgICAgaWYgKCFleGNsdXNpdmUpIHtcbiAgICAgICAgICAgIHRvICs9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvID0gdG8uY29tcGlsZShvLCBMRVZFTF9BQ0NFU1MpICsgJyAtICcgKyBmcm9tUmVmO1xuICAgICAgICAgIGlmICghZXhjbHVzaXZlKSB7XG4gICAgICAgICAgICB0byArPSAnICsgMSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0byA9IFwiOWU5XCI7XG4gICAgICB9XG4gICAgICBfcmVmNCA9IHRoaXMudmFsdWUuY2FjaGUobywgTEVWRUxfTElTVCksIHZhbERlZiA9IF9yZWY0WzBdLCB2YWxSZWYgPSBfcmVmNFsxXTtcbiAgICAgIGFuc3dlciA9IFtdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiW10uc3BsaWNlLmFwcGx5KFwiICsgbmFtZSArIFwiLCBbXCIgKyBmcm9tRGVjbCArIFwiLCBcIiArIHRvICsgXCJdLmNvbmNhdChcIiksIHZhbERlZiwgdGhpcy5tYWtlQ29kZShcIikpLCBcIiksIHZhbFJlZik7XG4gICAgICBpZiAoby5sZXZlbCA+IExFVkVMX1RPUCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwSW5CcmFjZXMoYW5zd2VyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhbnN3ZXI7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBBc3NpZ247XG5cbiAgfSkoQmFzZSk7XG5cbiAgZXhwb3J0cy5Db2RlID0gQ29kZSA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29kZSwgX3N1cGVyKTtcblxuICAgIGZ1bmN0aW9uIENvZGUocGFyYW1zLCBib2R5LCB0YWcpIHtcbiAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zIHx8IFtdO1xuICAgICAgdGhpcy5ib2R5ID0gYm9keSB8fCBuZXcgQmxvY2s7XG4gICAgICB0aGlzLmJvdW5kID0gdGFnID09PSAnYm91bmRmdW5jJztcbiAgICB9XG5cbiAgICBDb2RlLnByb3RvdHlwZS5jaGlsZHJlbiA9IFsncGFyYW1zJywgJ2JvZHknXTtcblxuICAgIENvZGUucHJvdG90eXBlLmlzU3RhdGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gISF0aGlzLmN0b3I7XG4gICAgfTtcblxuICAgIENvZGUucHJvdG90eXBlLmp1bXBzID0gTk87XG5cbiAgICBDb2RlLnByb3RvdHlwZS5tYWtlU2NvcGUgPSBmdW5jdGlvbihwYXJlbnRTY29wZSkge1xuICAgICAgcmV0dXJuIG5ldyBTY29wZShwYXJlbnRTY29wZSwgdGhpcy5ib2R5LCB0aGlzKTtcbiAgICB9O1xuXG4gICAgQ29kZS5wcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgYW5zd2VyLCBib3VuZGZ1bmMsIGNvZGUsIGV4cHJzLCBpLCBsaXQsIHAsIHBhcmFtLCBwYXJhbXMsIHJlZiwgc3BsYXRzLCB1bmlxcywgdmFsLCB3YXNFbXB0eSwgd3JhcHBlciwgX2ksIF9qLCBfaywgX2wsIF9sZW4sIF9sZW4xLCBfbGVuMiwgX2xlbjMsIF9sZW40LCBfbGVuNSwgX20sIF9uLCBfcmVmMiwgX3JlZjMsIF9yZWY0LCBfcmVmNSwgX3JlZjYsIF9yZWY3O1xuICAgICAgaWYgKHRoaXMuYm91bmQgJiYgKChfcmVmMiA9IG8uc2NvcGUubWV0aG9kKSAhPSBudWxsID8gX3JlZjIuYm91bmQgOiB2b2lkIDApKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG8uc2NvcGUubWV0aG9kLmNvbnRleHQ7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5ib3VuZCAmJiAhdGhpcy5jb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9ICdfdGhpcyc7XG4gICAgICAgIHdyYXBwZXIgPSBuZXcgQ29kZShbbmV3IFBhcmFtKG5ldyBMaXRlcmFsKHRoaXMuY29udGV4dCkpXSwgbmV3IEJsb2NrKFt0aGlzXSkpO1xuICAgICAgICBib3VuZGZ1bmMgPSBuZXcgQ2FsbCh3cmFwcGVyLCBbbmV3IExpdGVyYWwoJ3RoaXMnKV0pO1xuICAgICAgICBib3VuZGZ1bmMudXBkYXRlTG9jYXRpb25EYXRhSWZNaXNzaW5nKHRoaXMubG9jYXRpb25EYXRhKTtcbiAgICAgICAgcmV0dXJuIGJvdW5kZnVuYy5jb21waWxlTm9kZShvKTtcbiAgICAgIH1cbiAgICAgIG8uc2NvcGUgPSBkZWwobywgJ2NsYXNzU2NvcGUnKSB8fCB0aGlzLm1ha2VTY29wZShvLnNjb3BlKTtcbiAgICAgIG8uc2NvcGUuc2hhcmVkID0gZGVsKG8sICdzaGFyZWRTY29wZScpO1xuICAgICAgby5pbmRlbnQgKz0gVEFCO1xuICAgICAgZGVsZXRlIG8uYmFyZTtcbiAgICAgIGRlbGV0ZSBvLmlzRXhpc3RlbnRpYWxFcXVhbHM7XG4gICAgICBwYXJhbXMgPSBbXTtcbiAgICAgIGV4cHJzID0gW107XG4gICAgICBfcmVmMyA9IHRoaXMucGFyYW1zO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmMy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBwYXJhbSA9IF9yZWYzW19pXTtcbiAgICAgICAgaWYgKCEocGFyYW0gaW5zdGFuY2VvZiBFeHBhbnNpb24pKSB7XG4gICAgICAgICAgby5zY29wZS5wYXJhbWV0ZXIocGFyYW0uYXNSZWZlcmVuY2UobykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBfcmVmNCA9IHRoaXMucGFyYW1zO1xuICAgICAgZm9yIChfaiA9IDAsIF9sZW4xID0gX3JlZjQubGVuZ3RoOyBfaiA8IF9sZW4xOyBfaisrKSB7XG4gICAgICAgIHBhcmFtID0gX3JlZjRbX2pdO1xuICAgICAgICBpZiAoIShwYXJhbS5zcGxhdCB8fCBwYXJhbSBpbnN0YW5jZW9mIEV4cGFuc2lvbikpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBfcmVmNSA9IHRoaXMucGFyYW1zO1xuICAgICAgICBmb3IgKF9rID0gMCwgX2xlbjIgPSBfcmVmNS5sZW5ndGg7IF9rIDwgX2xlbjI7IF9rKyspIHtcbiAgICAgICAgICBwID0gX3JlZjVbX2tdLm5hbWU7XG4gICAgICAgICAgaWYgKCEoIShwYXJhbSBpbnN0YW5jZW9mIEV4cGFuc2lvbikpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBbXCJ0aGlzXCJdKSB7XG4gICAgICAgICAgICBwID0gcC5wcm9wZXJ0aWVzWzBdLm5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwLnZhbHVlKSB7XG4gICAgICAgICAgICBvLnNjb3BlLmFkZChwLnZhbHVlLCAndmFyJywgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNwbGF0cyA9IG5ldyBBc3NpZ24obmV3IFZhbHVlKG5ldyBBcnIoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBfbCwgX2xlbjMsIF9yZWY2LCBfcmVzdWx0cztcbiAgICAgICAgICBfcmVmNiA9IHRoaXMucGFyYW1zO1xuICAgICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgICAgZm9yIChfbCA9IDAsIF9sZW4zID0gX3JlZjYubGVuZ3RoOyBfbCA8IF9sZW4zOyBfbCsrKSB7XG4gICAgICAgICAgICBwID0gX3JlZjZbX2xdO1xuICAgICAgICAgICAgX3Jlc3VsdHMucHVzaChwLmFzUmVmZXJlbmNlKG8pKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgICAgICB9KS5jYWxsKHRoaXMpKSksIG5ldyBWYWx1ZShuZXcgTGl0ZXJhbCgnYXJndW1lbnRzJykpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBfcmVmNiA9IHRoaXMucGFyYW1zO1xuICAgICAgZm9yIChfbCA9IDAsIF9sZW4zID0gX3JlZjYubGVuZ3RoOyBfbCA8IF9sZW4zOyBfbCsrKSB7XG4gICAgICAgIHBhcmFtID0gX3JlZjZbX2xdO1xuICAgICAgICBpZiAocGFyYW0uaXNDb21wbGV4KCkpIHtcbiAgICAgICAgICB2YWwgPSByZWYgPSBwYXJhbS5hc1JlZmVyZW5jZShvKTtcbiAgICAgICAgICBpZiAocGFyYW0udmFsdWUpIHtcbiAgICAgICAgICAgIHZhbCA9IG5ldyBPcCgnPycsIHJlZiwgcGFyYW0udmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleHBycy5wdXNoKG5ldyBBc3NpZ24obmV3IFZhbHVlKHBhcmFtLm5hbWUpLCB2YWwsICc9Jywge1xuICAgICAgICAgICAgcGFyYW06IHRydWVcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVmID0gcGFyYW07XG4gICAgICAgICAgaWYgKHBhcmFtLnZhbHVlKSB7XG4gICAgICAgICAgICBsaXQgPSBuZXcgTGl0ZXJhbChyZWYubmFtZS52YWx1ZSArICcgPT0gbnVsbCcpO1xuICAgICAgICAgICAgdmFsID0gbmV3IEFzc2lnbihuZXcgVmFsdWUocGFyYW0ubmFtZSksIHBhcmFtLnZhbHVlLCAnPScpO1xuICAgICAgICAgICAgZXhwcnMucHVzaChuZXcgSWYobGl0LCB2YWwpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzcGxhdHMpIHtcbiAgICAgICAgICBwYXJhbXMucHVzaChyZWYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3YXNFbXB0eSA9IHRoaXMuYm9keS5pc0VtcHR5KCk7XG4gICAgICBpZiAoc3BsYXRzKSB7XG4gICAgICAgIGV4cHJzLnVuc2hpZnQoc3BsYXRzKTtcbiAgICAgIH1cbiAgICAgIGlmIChleHBycy5sZW5ndGgpIHtcbiAgICAgICAgKF9yZWY3ID0gdGhpcy5ib2R5LmV4cHJlc3Npb25zKS51bnNoaWZ0LmFwcGx5KF9yZWY3LCBleHBycyk7XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSBfbSA9IDAsIF9sZW40ID0gcGFyYW1zLmxlbmd0aDsgX20gPCBfbGVuNDsgaSA9ICsrX20pIHtcbiAgICAgICAgcCA9IHBhcmFtc1tpXTtcbiAgICAgICAgcGFyYW1zW2ldID0gcC5jb21waWxlVG9GcmFnbWVudHMobyk7XG4gICAgICAgIG8uc2NvcGUucGFyYW1ldGVyKGZyYWdtZW50c1RvVGV4dChwYXJhbXNbaV0pKTtcbiAgICAgIH1cbiAgICAgIHVuaXFzID0gW107XG4gICAgICB0aGlzLmVhY2hQYXJhbU5hbWUoZnVuY3Rpb24obmFtZSwgbm9kZSkge1xuICAgICAgICBpZiAoX19pbmRleE9mLmNhbGwodW5pcXMsIG5hbWUpID49IDApIHtcbiAgICAgICAgICBub2RlLmVycm9yKFwibXVsdGlwbGUgcGFyYW1ldGVycyBuYW1lZCAnXCIgKyBuYW1lICsgXCInXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmlxcy5wdXNoKG5hbWUpO1xuICAgICAgfSk7XG4gICAgICBpZiAoISh3YXNFbXB0eSB8fCB0aGlzLm5vUmV0dXJuKSkge1xuICAgICAgICB0aGlzLmJvZHkubWFrZVJldHVybigpO1xuICAgICAgfVxuICAgICAgY29kZSA9ICdmdW5jdGlvbic7XG4gICAgICBpZiAodGhpcy5jdG9yKSB7XG4gICAgICAgIGNvZGUgKz0gJyAnICsgdGhpcy5uYW1lO1xuICAgICAgfVxuICAgICAgY29kZSArPSAnKCc7XG4gICAgICBhbnN3ZXIgPSBbdGhpcy5tYWtlQ29kZShjb2RlKV07XG4gICAgICBmb3IgKGkgPSBfbiA9IDAsIF9sZW41ID0gcGFyYW1zLmxlbmd0aDsgX24gPCBfbGVuNTsgaSA9ICsrX24pIHtcbiAgICAgICAgcCA9IHBhcmFtc1tpXTtcbiAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICBhbnN3ZXIucHVzaCh0aGlzLm1ha2VDb2RlKFwiLCBcIikpO1xuICAgICAgICB9XG4gICAgICAgIGFuc3dlci5wdXNoLmFwcGx5KGFuc3dlciwgcCk7XG4gICAgICB9XG4gICAgICBhbnN3ZXIucHVzaCh0aGlzLm1ha2VDb2RlKCcpIHsnKSk7XG4gICAgICBpZiAoIXRoaXMuYm9keS5pc0VtcHR5KCkpIHtcbiAgICAgICAgYW5zd2VyID0gYW5zd2VyLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiXFxuXCIpLCB0aGlzLmJvZHkuY29tcGlsZVdpdGhEZWNsYXJhdGlvbnMobyksIHRoaXMubWFrZUNvZGUoXCJcXG5cIiArIHRoaXMudGFiKSk7XG4gICAgICB9XG4gICAgICBhbnN3ZXIucHVzaCh0aGlzLm1ha2VDb2RlKCd9JykpO1xuICAgICAgaWYgKHRoaXMuY3Rvcikge1xuICAgICAgICByZXR1cm4gW3RoaXMubWFrZUNvZGUodGhpcy50YWIpXS5jb25jYXQoX19zbGljZS5jYWxsKGFuc3dlcikpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZnJvbnQgfHwgKG8ubGV2ZWwgPj0gTEVWRUxfQUNDRVNTKSkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwSW5CcmFjZXMoYW5zd2VyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhbnN3ZXI7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENvZGUucHJvdG90eXBlLmVhY2hQYXJhbU5hbWUgPSBmdW5jdGlvbihpdGVyYXRvcikge1xuICAgICAgdmFyIHBhcmFtLCBfaSwgX2xlbiwgX3JlZjIsIF9yZXN1bHRzO1xuICAgICAgX3JlZjIgPSB0aGlzLnBhcmFtcztcbiAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYyLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgIHBhcmFtID0gX3JlZjJbX2ldO1xuICAgICAgICBfcmVzdWx0cy5wdXNoKHBhcmFtLmVhY2hOYW1lKGl0ZXJhdG9yKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgfTtcblxuICAgIENvZGUucHJvdG90eXBlLnRyYXZlcnNlQ2hpbGRyZW4gPSBmdW5jdGlvbihjcm9zc1Njb3BlLCBmdW5jKSB7XG4gICAgICBpZiAoY3Jvc3NTY29wZSkge1xuICAgICAgICByZXR1cm4gQ29kZS5fX3N1cGVyX18udHJhdmVyc2VDaGlsZHJlbi5jYWxsKHRoaXMsIGNyb3NzU2NvcGUsIGZ1bmMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gQ29kZTtcblxuICB9KShCYXNlKTtcblxuICBleHBvcnRzLlBhcmFtID0gUGFyYW0gPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBhcmFtLCBfc3VwZXIpO1xuXG4gICAgZnVuY3Rpb24gUGFyYW0obmFtZSwgdmFsdWUsIHNwbGF0KSB7XG4gICAgICB2YXIgX3JlZjI7XG4gICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgdGhpcy5zcGxhdCA9IHNwbGF0O1xuICAgICAgaWYgKF9yZWYyID0gKG5hbWUgPSB0aGlzLm5hbWUudW53cmFwQWxsKCkudmFsdWUpLCBfX2luZGV4T2YuY2FsbChTVFJJQ1RfUFJPU0NSSUJFRCwgX3JlZjIpID49IDApIHtcbiAgICAgICAgdGhpcy5uYW1lLmVycm9yKFwicGFyYW1ldGVyIG5hbWUgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBpcyBub3QgYWxsb3dlZFwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBQYXJhbS5wcm90b3R5cGUuY2hpbGRyZW4gPSBbJ25hbWUnLCAndmFsdWUnXTtcblxuICAgIFBhcmFtLnByb3RvdHlwZS5jb21waWxlVG9GcmFnbWVudHMgPSBmdW5jdGlvbihvKSB7XG4gICAgICByZXR1cm4gdGhpcy5uYW1lLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9MSVNUKTtcbiAgICB9O1xuXG4gICAgUGFyYW0ucHJvdG90eXBlLmFzUmVmZXJlbmNlID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICBpZiAodGhpcy5yZWZlcmVuY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmZXJlbmNlO1xuICAgICAgfVxuICAgICAgbm9kZSA9IHRoaXMubmFtZTtcbiAgICAgIGlmIChub2RlW1widGhpc1wiXSkge1xuICAgICAgICBub2RlID0gbm9kZS5wcm9wZXJ0aWVzWzBdLm5hbWU7XG4gICAgICAgIGlmIChub2RlLnZhbHVlLnJlc2VydmVkKSB7XG4gICAgICAgICAgbm9kZSA9IG5ldyBMaXRlcmFsKG8uc2NvcGUuZnJlZVZhcmlhYmxlKG5vZGUudmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLmlzQ29tcGxleCgpKSB7XG4gICAgICAgIG5vZGUgPSBuZXcgTGl0ZXJhbChvLnNjb3BlLmZyZWVWYXJpYWJsZSgnYXJnJykpO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5ldyBWYWx1ZShub2RlKTtcbiAgICAgIGlmICh0aGlzLnNwbGF0KSB7XG4gICAgICAgIG5vZGUgPSBuZXcgU3BsYXQobm9kZSk7XG4gICAgICB9XG4gICAgICBub2RlLnVwZGF0ZUxvY2F0aW9uRGF0YUlmTWlzc2luZyh0aGlzLmxvY2F0aW9uRGF0YSk7XG4gICAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2UgPSBub2RlO1xuICAgIH07XG5cbiAgICBQYXJhbS5wcm90b3R5cGUuaXNDb21wbGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5uYW1lLmlzQ29tcGxleCgpO1xuICAgIH07XG5cbiAgICBQYXJhbS5wcm90b3R5cGUuZWFjaE5hbWUgPSBmdW5jdGlvbihpdGVyYXRvciwgbmFtZSkge1xuICAgICAgdmFyIGF0UGFyYW0sIG5vZGUsIG9iaiwgX2ksIF9sZW4sIF9yZWYyO1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICBuYW1lID0gdGhpcy5uYW1lO1xuICAgICAgfVxuICAgICAgYXRQYXJhbSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgbm9kZSA9IG9iai5wcm9wZXJ0aWVzWzBdLm5hbWU7XG4gICAgICAgIGlmICghbm9kZS52YWx1ZS5yZXNlcnZlZCkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvcihub2RlLnZhbHVlLCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmIChuYW1lIGluc3RhbmNlb2YgTGl0ZXJhbCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3IobmFtZS52YWx1ZSwgbmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAobmFtZSBpbnN0YW5jZW9mIFZhbHVlKSB7XG4gICAgICAgIHJldHVybiBhdFBhcmFtKG5hbWUpO1xuICAgICAgfVxuICAgICAgX3JlZjIgPSBuYW1lLm9iamVjdHM7XG4gICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYyLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgIG9iaiA9IF9yZWYyW19pXTtcbiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEFzc2lnbikge1xuICAgICAgICAgIHRoaXMuZWFjaE5hbWUoaXRlcmF0b3IsIG9iai52YWx1ZS51bndyYXAoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgU3BsYXQpIHtcbiAgICAgICAgICBub2RlID0gb2JqLm5hbWUudW53cmFwKCk7XG4gICAgICAgICAgaXRlcmF0b3Iobm9kZS52YWx1ZSwgbm9kZSk7XG4gICAgICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgVmFsdWUpIHtcbiAgICAgICAgICBpZiAob2JqLmlzQXJyYXkoKSB8fCBvYmouaXNPYmplY3QoKSkge1xuICAgICAgICAgICAgdGhpcy5lYWNoTmFtZShpdGVyYXRvciwgb2JqLmJhc2UpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob2JqW1widGhpc1wiXSkge1xuICAgICAgICAgICAgYXRQYXJhbShvYmopO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVyYXRvcihvYmouYmFzZS52YWx1ZSwgb2JqLmJhc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghKG9iaiBpbnN0YW5jZW9mIEV4cGFuc2lvbikpIHtcbiAgICAgICAgICBvYmouZXJyb3IoXCJpbGxlZ2FsIHBhcmFtZXRlciBcIiArIChvYmouY29tcGlsZSgpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhcmFtO1xuXG4gIH0pKEJhc2UpO1xuXG4gIGV4cG9ydHMuU3BsYXQgPSBTcGxhdCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3BsYXQsIF9zdXBlcik7XG5cbiAgICBTcGxhdC5wcm90b3R5cGUuY2hpbGRyZW4gPSBbJ25hbWUnXTtcblxuICAgIFNwbGF0LnByb3RvdHlwZS5pc0Fzc2lnbmFibGUgPSBZRVM7XG5cbiAgICBmdW5jdGlvbiBTcGxhdChuYW1lKSB7XG4gICAgICB0aGlzLm5hbWUgPSBuYW1lLmNvbXBpbGUgPyBuYW1lIDogbmV3IExpdGVyYWwobmFtZSk7XG4gICAgfVxuXG4gICAgU3BsYXQucHJvdG90eXBlLmFzc2lnbnMgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5uYW1lLmFzc2lnbnMobmFtZSk7XG4gICAgfTtcblxuICAgIFNwbGF0LnByb3RvdHlwZS5jb21waWxlVG9GcmFnbWVudHMgPSBmdW5jdGlvbihvKSB7XG4gICAgICByZXR1cm4gdGhpcy5uYW1lLmNvbXBpbGVUb0ZyYWdtZW50cyhvKTtcbiAgICB9O1xuXG4gICAgU3BsYXQucHJvdG90eXBlLnVud3JhcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9O1xuXG4gICAgU3BsYXQuY29tcGlsZVNwbGF0dGVkQXJyYXkgPSBmdW5jdGlvbihvLCBsaXN0LCBhcHBseSkge1xuICAgICAgdmFyIGFyZ3MsIGJhc2UsIGNvbXBpbGVkTm9kZSwgY29uY2F0UGFydCwgZnJhZ21lbnRzLCBpLCBpbmRleCwgbm9kZSwgX2ksIF9sZW47XG4gICAgICBpbmRleCA9IC0xO1xuICAgICAgd2hpbGUgKChub2RlID0gbGlzdFsrK2luZGV4XSkgJiYgIShub2RlIGluc3RhbmNlb2YgU3BsYXQpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGluZGV4ID49IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBub2RlID0gbGlzdFswXTtcbiAgICAgICAgZnJhZ21lbnRzID0gbm9kZS5jb21waWxlVG9GcmFnbWVudHMobywgTEVWRUxfTElTVCk7XG4gICAgICAgIGlmIChhcHBseSkge1xuICAgICAgICAgIHJldHVybiBmcmFnbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChub2RlLm1ha2VDb2RlKFwiXCIgKyAodXRpbGl0eSgnc2xpY2UnKSkgKyBcIi5jYWxsKFwiKSwgZnJhZ21lbnRzLCBub2RlLm1ha2VDb2RlKFwiKVwiKSk7XG4gICAgICB9XG4gICAgICBhcmdzID0gbGlzdC5zbGljZShpbmRleCk7XG4gICAgICBmb3IgKGkgPSBfaSA9IDAsIF9sZW4gPSBhcmdzLmxlbmd0aDsgX2kgPCBfbGVuOyBpID0gKytfaSkge1xuICAgICAgICBub2RlID0gYXJnc1tpXTtcbiAgICAgICAgY29tcGlsZWROb2RlID0gbm9kZS5jb21waWxlVG9GcmFnbWVudHMobywgTEVWRUxfTElTVCk7XG4gICAgICAgIGFyZ3NbaV0gPSBub2RlIGluc3RhbmNlb2YgU3BsYXQgPyBbXS5jb25jYXQobm9kZS5tYWtlQ29kZShcIlwiICsgKHV0aWxpdHkoJ3NsaWNlJykpICsgXCIuY2FsbChcIiksIGNvbXBpbGVkTm9kZSwgbm9kZS5tYWtlQ29kZShcIilcIikpIDogW10uY29uY2F0KG5vZGUubWFrZUNvZGUoXCJbXCIpLCBjb21waWxlZE5vZGUsIG5vZGUubWFrZUNvZGUoXCJdXCIpKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICBub2RlID0gbGlzdFswXTtcbiAgICAgICAgY29uY2F0UGFydCA9IG5vZGUuam9pbkZyYWdtZW50QXJyYXlzKGFyZ3Muc2xpY2UoMSksICcsICcpO1xuICAgICAgICByZXR1cm4gYXJnc1swXS5jb25jYXQobm9kZS5tYWtlQ29kZShcIi5jb25jYXQoXCIpLCBjb25jYXRQYXJ0LCBub2RlLm1ha2VDb2RlKFwiKVwiKSk7XG4gICAgICB9XG4gICAgICBiYXNlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgX2osIF9sZW4xLCBfcmVmMiwgX3Jlc3VsdHM7XG4gICAgICAgIF9yZWYyID0gbGlzdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgIGZvciAoX2ogPSAwLCBfbGVuMSA9IF9yZWYyLmxlbmd0aDsgX2ogPCBfbGVuMTsgX2orKykge1xuICAgICAgICAgIG5vZGUgPSBfcmVmMltfal07XG4gICAgICAgICAgX3Jlc3VsdHMucHVzaChub2RlLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9MSVNUKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgICAgfSkoKTtcbiAgICAgIGJhc2UgPSBsaXN0WzBdLmpvaW5GcmFnbWVudEFycmF5cyhiYXNlLCAnLCAnKTtcbiAgICAgIGNvbmNhdFBhcnQgPSBsaXN0W2luZGV4XS5qb2luRnJhZ21lbnRBcnJheXMoYXJncywgJywgJyk7XG4gICAgICByZXR1cm4gW10uY29uY2F0KGxpc3RbMF0ubWFrZUNvZGUoXCJbXCIpLCBiYXNlLCBsaXN0W2luZGV4XS5tYWtlQ29kZShcIl0uY29uY2F0KFwiKSwgY29uY2F0UGFydCwgKGxhc3QobGlzdCkpLm1ha2VDb2RlKFwiKVwiKSk7XG4gICAgfTtcblxuICAgIHJldHVybiBTcGxhdDtcblxuICB9KShCYXNlKTtcblxuICBleHBvcnRzLkV4cGFuc2lvbiA9IEV4cGFuc2lvbiA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRXhwYW5zaW9uLCBfc3VwZXIpO1xuXG4gICAgZnVuY3Rpb24gRXhwYW5zaW9uKCkge1xuICAgICAgcmV0dXJuIEV4cGFuc2lvbi5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBFeHBhbnNpb24ucHJvdG90eXBlLmlzQ29tcGxleCA9IE5PO1xuXG4gICAgRXhwYW5zaW9uLnByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHJldHVybiB0aGlzLmVycm9yKCdFeHBhbnNpb24gbXVzdCBiZSB1c2VkIGluc2lkZSBhIGRlc3RydWN0dXJpbmcgYXNzaWdubWVudCBvciBwYXJhbWV0ZXIgbGlzdCcpO1xuICAgIH07XG5cbiAgICBFeHBhbnNpb24ucHJvdG90eXBlLmFzUmVmZXJlbmNlID0gZnVuY3Rpb24obykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIEV4cGFuc2lvbi5wcm90b3R5cGUuZWFjaE5hbWUgPSBmdW5jdGlvbihpdGVyYXRvcikge307XG5cbiAgICByZXR1cm4gRXhwYW5zaW9uO1xuXG4gIH0pKEJhc2UpO1xuXG4gIGV4cG9ydHMuV2hpbGUgPSBXaGlsZSA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoV2hpbGUsIF9zdXBlcik7XG5cbiAgICBmdW5jdGlvbiBXaGlsZShjb25kaXRpb24sIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuY29uZGl0aW9uID0gKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuaW52ZXJ0IDogdm9pZCAwKSA/IGNvbmRpdGlvbi5pbnZlcnQoKSA6IGNvbmRpdGlvbjtcbiAgICAgIHRoaXMuZ3VhcmQgPSBvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmd1YXJkIDogdm9pZCAwO1xuICAgIH1cblxuICAgIFdoaWxlLnByb3RvdHlwZS5jaGlsZHJlbiA9IFsnY29uZGl0aW9uJywgJ2d1YXJkJywgJ2JvZHknXTtcblxuICAgIFdoaWxlLnByb3RvdHlwZS5pc1N0YXRlbWVudCA9IFlFUztcblxuICAgIFdoaWxlLnByb3RvdHlwZS5tYWtlUmV0dXJuID0gZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAocmVzKSB7XG4gICAgICAgIHJldHVybiBXaGlsZS5fX3N1cGVyX18ubWFrZVJldHVybi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXR1cm5zID0gIXRoaXMuanVtcHMoe1xuICAgICAgICAgIGxvb3A6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBXaGlsZS5wcm90b3R5cGUuYWRkQm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgV2hpbGUucHJvdG90eXBlLmp1bXBzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZXhwcmVzc2lvbnMsIGp1bXBOb2RlLCBub2RlLCBfaSwgX2xlbjtcbiAgICAgIGV4cHJlc3Npb25zID0gdGhpcy5ib2R5LmV4cHJlc3Npb25zO1xuICAgICAgaWYgKCFleHByZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBleHByZXNzaW9ucy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBub2RlID0gZXhwcmVzc2lvbnNbX2ldO1xuICAgICAgICBpZiAoanVtcE5vZGUgPSBub2RlLmp1bXBzKHtcbiAgICAgICAgICBsb29wOiB0cnVlXG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgcmV0dXJuIGp1bXBOb2RlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIFdoaWxlLnByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBhbnN3ZXIsIGJvZHksIHJ2YXIsIHNldDtcbiAgICAgIG8uaW5kZW50ICs9IFRBQjtcbiAgICAgIHNldCA9ICcnO1xuICAgICAgYm9keSA9IHRoaXMuYm9keTtcbiAgICAgIGlmIChib2R5LmlzRW1wdHkoKSkge1xuICAgICAgICBib2R5ID0gdGhpcy5tYWtlQ29kZSgnJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5yZXR1cm5zKSB7XG4gICAgICAgICAgYm9keS5tYWtlUmV0dXJuKHJ2YXIgPSBvLnNjb3BlLmZyZWVWYXJpYWJsZSgncmVzdWx0cycpKTtcbiAgICAgICAgICBzZXQgPSBcIlwiICsgdGhpcy50YWIgKyBydmFyICsgXCIgPSBbXTtcXG5cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ndWFyZCkge1xuICAgICAgICAgIGlmIChib2R5LmV4cHJlc3Npb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGJvZHkuZXhwcmVzc2lvbnMudW5zaGlmdChuZXcgSWYoKG5ldyBQYXJlbnModGhpcy5ndWFyZCkpLmludmVydCgpLCBuZXcgTGl0ZXJhbChcImNvbnRpbnVlXCIpKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmd1YXJkKSB7XG4gICAgICAgICAgICAgIGJvZHkgPSBCbG9jay53cmFwKFtuZXcgSWYodGhpcy5ndWFyZCwgYm9keSldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYm9keSA9IFtdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiXFxuXCIpLCBib2R5LmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9UT1ApLCB0aGlzLm1ha2VDb2RlKFwiXFxuXCIgKyB0aGlzLnRhYikpO1xuICAgICAgfVxuICAgICAgYW5zd2VyID0gW10uY29uY2F0KHRoaXMubWFrZUNvZGUoc2V0ICsgdGhpcy50YWIgKyBcIndoaWxlIChcIiksIHRoaXMuY29uZGl0aW9uLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9QQVJFTiksIHRoaXMubWFrZUNvZGUoXCIpIHtcIiksIGJvZHksIHRoaXMubWFrZUNvZGUoXCJ9XCIpKTtcbiAgICAgIGlmICh0aGlzLnJldHVybnMpIHtcbiAgICAgICAgYW5zd2VyLnB1c2godGhpcy5tYWtlQ29kZShcIlxcblwiICsgdGhpcy50YWIgKyBcInJldHVybiBcIiArIHJ2YXIgKyBcIjtcIikpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFuc3dlcjtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFdoaWxlO1xuXG4gIH0pKEJhc2UpO1xuXG4gIGV4cG9ydHMuT3AgPSBPcCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICB2YXIgQ09OVkVSU0lPTlMsIElOVkVSU0lPTlM7XG5cbiAgICBfX2V4dGVuZHMoT3AsIF9zdXBlcik7XG5cbiAgICBmdW5jdGlvbiBPcChvcCwgZmlyc3QsIHNlY29uZCwgZmxpcCkge1xuICAgICAgaWYgKG9wID09PSAnaW4nKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW4oZmlyc3QsIHNlY29uZCk7XG4gICAgICB9XG4gICAgICBpZiAob3AgPT09ICdkbycpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVEbyhmaXJzdCk7XG4gICAgICB9XG4gICAgICBpZiAob3AgPT09ICduZXcnKSB7XG4gICAgICAgIGlmIChmaXJzdCBpbnN0YW5jZW9mIENhbGwgJiYgIWZpcnN0W1wiZG9cIl0gJiYgIWZpcnN0LmlzTmV3KSB7XG4gICAgICAgICAgcmV0dXJuIGZpcnN0Lm5ld0luc3RhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpcnN0IGluc3RhbmNlb2YgQ29kZSAmJiBmaXJzdC5ib3VuZCB8fCBmaXJzdFtcImRvXCJdKSB7XG4gICAgICAgICAgZmlyc3QgPSBuZXcgUGFyZW5zKGZpcnN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5vcGVyYXRvciA9IENPTlZFUlNJT05TW29wXSB8fCBvcDtcbiAgICAgIHRoaXMuZmlyc3QgPSBmaXJzdDtcbiAgICAgIHRoaXMuc2Vjb25kID0gc2Vjb25kO1xuICAgICAgdGhpcy5mbGlwID0gISFmbGlwO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgQ09OVkVSU0lPTlMgPSB7XG4gICAgICAnPT0nOiAnPT09JyxcbiAgICAgICchPSc6ICchPT0nLFxuICAgICAgJ29mJzogJ2luJ1xuICAgIH07XG5cbiAgICBJTlZFUlNJT05TID0ge1xuICAgICAgJyE9PSc6ICc9PT0nLFxuICAgICAgJz09PSc6ICchPT0nXG4gICAgfTtcblxuICAgIE9wLnByb3RvdHlwZS5jaGlsZHJlbiA9IFsnZmlyc3QnLCAnc2Vjb25kJ107XG5cbiAgICBPcC5wcm90b3R5cGUuaXNTaW1wbGVOdW1iZXIgPSBOTztcblxuICAgIE9wLnByb3RvdHlwZS5pc1VuYXJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXRoaXMuc2Vjb25kO1xuICAgIH07XG5cbiAgICBPcC5wcm90b3R5cGUuaXNDb21wbGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgX3JlZjI7XG4gICAgICByZXR1cm4gISh0aGlzLmlzVW5hcnkoKSAmJiAoKF9yZWYyID0gdGhpcy5vcGVyYXRvcikgPT09ICcrJyB8fCBfcmVmMiA9PT0gJy0nKSkgfHwgdGhpcy5maXJzdC5pc0NvbXBsZXgoKTtcbiAgICB9O1xuXG4gICAgT3AucHJvdG90eXBlLmlzQ2hhaW5hYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgX3JlZjI7XG4gICAgICByZXR1cm4gKF9yZWYyID0gdGhpcy5vcGVyYXRvcikgPT09ICc8JyB8fCBfcmVmMiA9PT0gJz4nIHx8IF9yZWYyID09PSAnPj0nIHx8IF9yZWYyID09PSAnPD0nIHx8IF9yZWYyID09PSAnPT09JyB8fCBfcmVmMiA9PT0gJyE9PSc7XG4gICAgfTtcblxuICAgIE9wLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhbGxJbnZlcnRhYmxlLCBjdXJyLCBmc3QsIG9wLCBfcmVmMjtcbiAgICAgIGlmICh0aGlzLmlzQ2hhaW5hYmxlKCkgJiYgdGhpcy5maXJzdC5pc0NoYWluYWJsZSgpKSB7XG4gICAgICAgIGFsbEludmVydGFibGUgPSB0cnVlO1xuICAgICAgICBjdXJyID0gdGhpcztcbiAgICAgICAgd2hpbGUgKGN1cnIgJiYgY3Vyci5vcGVyYXRvcikge1xuICAgICAgICAgIGFsbEludmVydGFibGUgJiYgKGFsbEludmVydGFibGUgPSBjdXJyLm9wZXJhdG9yIGluIElOVkVSU0lPTlMpO1xuICAgICAgICAgIGN1cnIgPSBjdXJyLmZpcnN0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghYWxsSW52ZXJ0YWJsZSkge1xuICAgICAgICAgIHJldHVybiBuZXcgUGFyZW5zKHRoaXMpLmludmVydCgpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnIgPSB0aGlzO1xuICAgICAgICB3aGlsZSAoY3VyciAmJiBjdXJyLm9wZXJhdG9yKSB7XG4gICAgICAgICAgY3Vyci5pbnZlcnQgPSAhY3Vyci5pbnZlcnQ7XG4gICAgICAgICAgY3Vyci5vcGVyYXRvciA9IElOVkVSU0lPTlNbY3Vyci5vcGVyYXRvcl07XG4gICAgICAgICAgY3VyciA9IGN1cnIuZmlyc3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9IGVsc2UgaWYgKG9wID0gSU5WRVJTSU9OU1t0aGlzLm9wZXJhdG9yXSkge1xuICAgICAgICB0aGlzLm9wZXJhdG9yID0gb3A7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0LnVud3JhcCgpIGluc3RhbmNlb2YgT3ApIHtcbiAgICAgICAgICB0aGlzLmZpcnN0LmludmVydCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnNlY29uZCkge1xuICAgICAgICByZXR1cm4gbmV3IFBhcmVucyh0aGlzKS5pbnZlcnQoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5vcGVyYXRvciA9PT0gJyEnICYmIChmc3QgPSB0aGlzLmZpcnN0LnVud3JhcCgpKSBpbnN0YW5jZW9mIE9wICYmICgoX3JlZjIgPSBmc3Qub3BlcmF0b3IpID09PSAnIScgfHwgX3JlZjIgPT09ICdpbicgfHwgX3JlZjIgPT09ICdpbnN0YW5jZW9mJykpIHtcbiAgICAgICAgcmV0dXJuIGZzdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgT3AoJyEnLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgT3AucHJvdG90eXBlLnVuZm9sZFNvYWsgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgX3JlZjI7XG4gICAgICByZXR1cm4gKChfcmVmMiA9IHRoaXMub3BlcmF0b3IpID09PSAnKysnIHx8IF9yZWYyID09PSAnLS0nIHx8IF9yZWYyID09PSAnZGVsZXRlJykgJiYgdW5mb2xkU29hayhvLCB0aGlzLCAnZmlyc3QnKTtcbiAgICB9O1xuXG4gICAgT3AucHJvdG90eXBlLmdlbmVyYXRlRG8gPSBmdW5jdGlvbihleHApIHtcbiAgICAgIHZhciBjYWxsLCBmdW5jLCBwYXJhbSwgcGFzc2VkUGFyYW1zLCByZWYsIF9pLCBfbGVuLCBfcmVmMjtcbiAgICAgIHBhc3NlZFBhcmFtcyA9IFtdO1xuICAgICAgZnVuYyA9IGV4cCBpbnN0YW5jZW9mIEFzc2lnbiAmJiAocmVmID0gZXhwLnZhbHVlLnVud3JhcCgpKSBpbnN0YW5jZW9mIENvZGUgPyByZWYgOiBleHA7XG4gICAgICBfcmVmMiA9IGZ1bmMucGFyYW1zIHx8IFtdO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmMi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBwYXJhbSA9IF9yZWYyW19pXTtcbiAgICAgICAgaWYgKHBhcmFtLnZhbHVlKSB7XG4gICAgICAgICAgcGFzc2VkUGFyYW1zLnB1c2gocGFyYW0udmFsdWUpO1xuICAgICAgICAgIGRlbGV0ZSBwYXJhbS52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXNzZWRQYXJhbXMucHVzaChwYXJhbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNhbGwgPSBuZXcgQ2FsbChleHAsIHBhc3NlZFBhcmFtcyk7XG4gICAgICBjYWxsW1wiZG9cIl0gPSB0cnVlO1xuICAgICAgcmV0dXJuIGNhbGw7XG4gICAgfTtcblxuICAgIE9wLnByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBhbnN3ZXIsIGlzQ2hhaW4sIGxocywgcmhzLCBfcmVmMiwgX3JlZjM7XG4gICAgICBpc0NoYWluID0gdGhpcy5pc0NoYWluYWJsZSgpICYmIHRoaXMuZmlyc3QuaXNDaGFpbmFibGUoKTtcbiAgICAgIGlmICghaXNDaGFpbikge1xuICAgICAgICB0aGlzLmZpcnN0LmZyb250ID0gdGhpcy5mcm9udDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wZXJhdG9yID09PSAnZGVsZXRlJyAmJiBvLnNjb3BlLmNoZWNrKHRoaXMuZmlyc3QudW53cmFwQWxsKCkudmFsdWUpKSB7XG4gICAgICAgIHRoaXMuZXJyb3IoJ2RlbGV0ZSBvcGVyYW5kIG1heSBub3QgYmUgYXJndW1lbnQgb3IgdmFyJyk7XG4gICAgICB9XG4gICAgICBpZiAoKChfcmVmMiA9IHRoaXMub3BlcmF0b3IpID09PSAnLS0nIHx8IF9yZWYyID09PSAnKysnKSAmJiAoX3JlZjMgPSB0aGlzLmZpcnN0LnVud3JhcEFsbCgpLnZhbHVlLCBfX2luZGV4T2YuY2FsbChTVFJJQ1RfUFJPU0NSSUJFRCwgX3JlZjMpID49IDApKSB7XG4gICAgICAgIHRoaXMuZXJyb3IoXCJjYW5ub3QgaW5jcmVtZW50L2RlY3JlbWVudCBcXFwiXCIgKyAodGhpcy5maXJzdC51bndyYXBBbGwoKS52YWx1ZSkgKyBcIlxcXCJcIik7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pc1VuYXJ5KCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZVVuYXJ5KG8pO1xuICAgICAgfVxuICAgICAgaWYgKGlzQ2hhaW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZUNoYWluKG8pO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0aGlzLm9wZXJhdG9yKSB7XG4gICAgICAgIGNhc2UgJz8nOlxuICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVFeGlzdGVuY2Uobyk7XG4gICAgICAgIGNhc2UgJyoqJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb21waWxlUG93ZXIobyk7XG4gICAgICAgIGNhc2UgJy8vJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb21waWxlRmxvb3JEaXZpc2lvbihvKTtcbiAgICAgICAgY2FzZSAnJSUnOlxuICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVNb2R1bG8obyk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGhzID0gdGhpcy5maXJzdC5jb21waWxlVG9GcmFnbWVudHMobywgTEVWRUxfT1ApO1xuICAgICAgICAgIHJocyA9IHRoaXMuc2Vjb25kLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9PUCk7XG4gICAgICAgICAgYW5zd2VyID0gW10uY29uY2F0KGxocywgdGhpcy5tYWtlQ29kZShcIiBcIiArIHRoaXMub3BlcmF0b3IgKyBcIiBcIiksIHJocyk7XG4gICAgICAgICAgaWYgKG8ubGV2ZWwgPD0gTEVWRUxfT1ApIHtcbiAgICAgICAgICAgIHJldHVybiBhbnN3ZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndyYXBJbkJyYWNlcyhhbnN3ZXIpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgT3AucHJvdG90eXBlLmNvbXBpbGVDaGFpbiA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBmcmFnbWVudHMsIGZzdCwgc2hhcmVkLCBfcmVmMjtcbiAgICAgIF9yZWYyID0gdGhpcy5maXJzdC5zZWNvbmQuY2FjaGUobyksIHRoaXMuZmlyc3Quc2Vjb25kID0gX3JlZjJbMF0sIHNoYXJlZCA9IF9yZWYyWzFdO1xuICAgICAgZnN0ID0gdGhpcy5maXJzdC5jb21waWxlVG9GcmFnbWVudHMobywgTEVWRUxfT1ApO1xuICAgICAgZnJhZ21lbnRzID0gZnN0LmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiIFwiICsgKHRoaXMuaW52ZXJ0ID8gJyYmJyA6ICd8fCcpICsgXCIgXCIpLCBzaGFyZWQuY29tcGlsZVRvRnJhZ21lbnRzKG8pLCB0aGlzLm1ha2VDb2RlKFwiIFwiICsgdGhpcy5vcGVyYXRvciArIFwiIFwiKSwgdGhpcy5zZWNvbmQuY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX09QKSk7XG4gICAgICByZXR1cm4gdGhpcy53cmFwSW5CcmFjZXMoZnJhZ21lbnRzKTtcbiAgICB9O1xuXG4gICAgT3AucHJvdG90eXBlLmNvbXBpbGVFeGlzdGVuY2UgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgZnN0LCByZWY7XG4gICAgICBpZiAodGhpcy5maXJzdC5pc0NvbXBsZXgoKSkge1xuICAgICAgICByZWYgPSBuZXcgTGl0ZXJhbChvLnNjb3BlLmZyZWVWYXJpYWJsZSgncmVmJykpO1xuICAgICAgICBmc3QgPSBuZXcgUGFyZW5zKG5ldyBBc3NpZ24ocmVmLCB0aGlzLmZpcnN0KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmc3QgPSB0aGlzLmZpcnN0O1xuICAgICAgICByZWYgPSBmc3Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IElmKG5ldyBFeGlzdGVuY2UoZnN0KSwgcmVmLCB7XG4gICAgICAgIHR5cGU6ICdpZidcbiAgICAgIH0pLmFkZEVsc2UodGhpcy5zZWNvbmQpLmNvbXBpbGVUb0ZyYWdtZW50cyhvKTtcbiAgICB9O1xuXG4gICAgT3AucHJvdG90eXBlLmNvbXBpbGVVbmFyeSA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBvcCwgcGFydHMsIHBsdXNNaW51cztcbiAgICAgIHBhcnRzID0gW107XG4gICAgICBvcCA9IHRoaXMub3BlcmF0b3I7XG4gICAgICBwYXJ0cy5wdXNoKFt0aGlzLm1ha2VDb2RlKG9wKV0pO1xuICAgICAgaWYgKG9wID09PSAnIScgJiYgdGhpcy5maXJzdCBpbnN0YW5jZW9mIEV4aXN0ZW5jZSkge1xuICAgICAgICB0aGlzLmZpcnN0Lm5lZ2F0ZWQgPSAhdGhpcy5maXJzdC5uZWdhdGVkO1xuICAgICAgICByZXR1cm4gdGhpcy5maXJzdC5jb21waWxlVG9GcmFnbWVudHMobyk7XG4gICAgICB9XG4gICAgICBpZiAoby5sZXZlbCA+PSBMRVZFTF9BQ0NFU1MpIHtcbiAgICAgICAgcmV0dXJuIChuZXcgUGFyZW5zKHRoaXMpKS5jb21waWxlVG9GcmFnbWVudHMobyk7XG4gICAgICB9XG4gICAgICBwbHVzTWludXMgPSBvcCA9PT0gJysnIHx8IG9wID09PSAnLSc7XG4gICAgICBpZiAoKG9wID09PSAnbmV3JyB8fCBvcCA9PT0gJ3R5cGVvZicgfHwgb3AgPT09ICdkZWxldGUnKSB8fCBwbHVzTWludXMgJiYgdGhpcy5maXJzdCBpbnN0YW5jZW9mIE9wICYmIHRoaXMuZmlyc3Qub3BlcmF0b3IgPT09IG9wKSB7XG4gICAgICAgIHBhcnRzLnB1c2goW3RoaXMubWFrZUNvZGUoJyAnKV0pO1xuICAgICAgfVxuICAgICAgaWYgKChwbHVzTWludXMgJiYgdGhpcy5maXJzdCBpbnN0YW5jZW9mIE9wKSB8fCAob3AgPT09ICduZXcnICYmIHRoaXMuZmlyc3QuaXNTdGF0ZW1lbnQobykpKSB7XG4gICAgICAgIHRoaXMuZmlyc3QgPSBuZXcgUGFyZW5zKHRoaXMuZmlyc3QpO1xuICAgICAgfVxuICAgICAgcGFydHMucHVzaCh0aGlzLmZpcnN0LmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9PUCkpO1xuICAgICAgaWYgKHRoaXMuZmxpcCkge1xuICAgICAgICBwYXJ0cy5yZXZlcnNlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5qb2luRnJhZ21lbnRBcnJheXMocGFydHMsICcnKTtcbiAgICB9O1xuXG4gICAgT3AucHJvdG90eXBlLmNvbXBpbGVQb3dlciA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBwb3c7XG4gICAgICBwb3cgPSBuZXcgVmFsdWUobmV3IExpdGVyYWwoJ01hdGgnKSwgW25ldyBBY2Nlc3MobmV3IExpdGVyYWwoJ3BvdycpKV0pO1xuICAgICAgcmV0dXJuIG5ldyBDYWxsKHBvdywgW3RoaXMuZmlyc3QsIHRoaXMuc2Vjb25kXSkuY29tcGlsZVRvRnJhZ21lbnRzKG8pO1xuICAgIH07XG5cbiAgICBPcC5wcm90b3R5cGUuY29tcGlsZUZsb29yRGl2aXNpb24gPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgZGl2LCBmbG9vcjtcbiAgICAgIGZsb29yID0gbmV3IFZhbHVlKG5ldyBMaXRlcmFsKCdNYXRoJyksIFtuZXcgQWNjZXNzKG5ldyBMaXRlcmFsKCdmbG9vcicpKV0pO1xuICAgICAgZGl2ID0gbmV3IE9wKCcvJywgdGhpcy5maXJzdCwgdGhpcy5zZWNvbmQpO1xuICAgICAgcmV0dXJuIG5ldyBDYWxsKGZsb29yLCBbZGl2XSkuY29tcGlsZVRvRnJhZ21lbnRzKG8pO1xuICAgIH07XG5cbiAgICBPcC5wcm90b3R5cGUuY29tcGlsZU1vZHVsbyA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBtb2Q7XG4gICAgICBtb2QgPSBuZXcgVmFsdWUobmV3IExpdGVyYWwodXRpbGl0eSgnbW9kdWxvJykpKTtcbiAgICAgIHJldHVybiBuZXcgQ2FsbChtb2QsIFt0aGlzLmZpcnN0LCB0aGlzLnNlY29uZF0pLmNvbXBpbGVUb0ZyYWdtZW50cyhvKTtcbiAgICB9O1xuXG4gICAgT3AucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oaWR0KSB7XG4gICAgICByZXR1cm4gT3AuX19zdXBlcl9fLnRvU3RyaW5nLmNhbGwodGhpcywgaWR0LCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgKyAnICcgKyB0aGlzLm9wZXJhdG9yKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIE9wO1xuXG4gIH0pKEJhc2UpO1xuXG4gIGV4cG9ydHMuSW4gPSBJbiA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW4sIF9zdXBlcik7XG5cbiAgICBmdW5jdGlvbiBJbihvYmplY3QsIGFycmF5KSB7XG4gICAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcbiAgICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbiAgICB9XG5cbiAgICBJbi5wcm90b3R5cGUuY2hpbGRyZW4gPSBbJ29iamVjdCcsICdhcnJheSddO1xuXG4gICAgSW4ucHJvdG90eXBlLmludmVydCA9IE5FR0FURTtcblxuICAgIEluLnByb3RvdHlwZS5jb21waWxlTm9kZSA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBoYXNTcGxhdCwgb2JqLCBfaSwgX2xlbiwgX3JlZjI7XG4gICAgICBpZiAodGhpcy5hcnJheSBpbnN0YW5jZW9mIFZhbHVlICYmIHRoaXMuYXJyYXkuaXNBcnJheSgpICYmIHRoaXMuYXJyYXkuYmFzZS5vYmplY3RzLmxlbmd0aCkge1xuICAgICAgICBfcmVmMiA9IHRoaXMuYXJyYXkuYmFzZS5vYmplY3RzO1xuICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYyLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgb2JqID0gX3JlZjJbX2ldO1xuICAgICAgICAgIGlmICghKG9iaiBpbnN0YW5jZW9mIFNwbGF0KSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhc1NwbGF0ID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc1NwbGF0KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZU9yVGVzdChvKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZUxvb3BUZXN0KG8pO1xuICAgIH07XG5cbiAgICBJbi5wcm90b3R5cGUuY29tcGlsZU9yVGVzdCA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBjbXAsIGNuaiwgaSwgaXRlbSwgcmVmLCBzdWIsIHRlc3RzLCBfaSwgX2xlbiwgX3JlZjIsIF9yZWYzLCBfcmVmNDtcbiAgICAgIF9yZWYyID0gdGhpcy5vYmplY3QuY2FjaGUobywgTEVWRUxfT1ApLCBzdWIgPSBfcmVmMlswXSwgcmVmID0gX3JlZjJbMV07XG4gICAgICBfcmVmMyA9IHRoaXMubmVnYXRlZCA/IFsnICE9PSAnLCAnICYmICddIDogWycgPT09ICcsICcgfHwgJ10sIGNtcCA9IF9yZWYzWzBdLCBjbmogPSBfcmVmM1sxXTtcbiAgICAgIHRlc3RzID0gW107XG4gICAgICBfcmVmNCA9IHRoaXMuYXJyYXkuYmFzZS5vYmplY3RzO1xuICAgICAgZm9yIChpID0gX2kgPSAwLCBfbGVuID0gX3JlZjQubGVuZ3RoOyBfaSA8IF9sZW47IGkgPSArK19pKSB7XG4gICAgICAgIGl0ZW0gPSBfcmVmNFtpXTtcbiAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICB0ZXN0cy5wdXNoKHRoaXMubWFrZUNvZGUoY25qKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGVzdHMgPSB0ZXN0cy5jb25jYXQoKGkgPyByZWYgOiBzdWIpLCB0aGlzLm1ha2VDb2RlKGNtcCksIGl0ZW0uY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX0FDQ0VTUykpO1xuICAgICAgfVxuICAgICAgaWYgKG8ubGV2ZWwgPCBMRVZFTF9PUCkge1xuICAgICAgICByZXR1cm4gdGVzdHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwSW5CcmFjZXModGVzdHMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBJbi5wcm90b3R5cGUuY29tcGlsZUxvb3BUZXN0ID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIGZyYWdtZW50cywgcmVmLCBzdWIsIF9yZWYyO1xuICAgICAgX3JlZjIgPSB0aGlzLm9iamVjdC5jYWNoZShvLCBMRVZFTF9MSVNUKSwgc3ViID0gX3JlZjJbMF0sIHJlZiA9IF9yZWYyWzFdO1xuICAgICAgZnJhZ21lbnRzID0gW10uY29uY2F0KHRoaXMubWFrZUNvZGUodXRpbGl0eSgnaW5kZXhPZicpICsgXCIuY2FsbChcIiksIHRoaXMuYXJyYXkuY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX0xJU1QpLCB0aGlzLm1ha2VDb2RlKFwiLCBcIiksIHJlZiwgdGhpcy5tYWtlQ29kZShcIikgXCIgKyAodGhpcy5uZWdhdGVkID8gJzwgMCcgOiAnPj0gMCcpKSk7XG4gICAgICBpZiAoZnJhZ21lbnRzVG9UZXh0KHN1YikgPT09IGZyYWdtZW50c1RvVGV4dChyZWYpKSB7XG4gICAgICAgIHJldHVybiBmcmFnbWVudHM7XG4gICAgICB9XG4gICAgICBmcmFnbWVudHMgPSBzdWIuY29uY2F0KHRoaXMubWFrZUNvZGUoJywgJyksIGZyYWdtZW50cyk7XG4gICAgICBpZiAoby5sZXZlbCA8IExFVkVMX0xJU1QpIHtcbiAgICAgICAgcmV0dXJuIGZyYWdtZW50cztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBJbkJyYWNlcyhmcmFnbWVudHMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBJbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihpZHQpIHtcbiAgICAgIHJldHVybiBJbi5fX3N1cGVyX18udG9TdHJpbmcuY2FsbCh0aGlzLCBpZHQsIHRoaXMuY29uc3RydWN0b3IubmFtZSArICh0aGlzLm5lZ2F0ZWQgPyAnIScgOiAnJykpO1xuICAgIH07XG5cbiAgICByZXR1cm4gSW47XG5cbiAgfSkoQmFzZSk7XG5cbiAgZXhwb3J0cy5UcnkgPSBUcnkgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRyeSwgX3N1cGVyKTtcblxuICAgIGZ1bmN0aW9uIFRyeShhdHRlbXB0LCBlcnJvclZhcmlhYmxlLCByZWNvdmVyeSwgZW5zdXJlKSB7XG4gICAgICB0aGlzLmF0dGVtcHQgPSBhdHRlbXB0O1xuICAgICAgdGhpcy5lcnJvclZhcmlhYmxlID0gZXJyb3JWYXJpYWJsZTtcbiAgICAgIHRoaXMucmVjb3ZlcnkgPSByZWNvdmVyeTtcbiAgICAgIHRoaXMuZW5zdXJlID0gZW5zdXJlO1xuICAgIH1cblxuICAgIFRyeS5wcm90b3R5cGUuY2hpbGRyZW4gPSBbJ2F0dGVtcHQnLCAncmVjb3ZlcnknLCAnZW5zdXJlJ107XG5cbiAgICBUcnkucHJvdG90eXBlLmlzU3RhdGVtZW50ID0gWUVTO1xuXG4gICAgVHJ5LnByb3RvdHlwZS5qdW1wcyA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBfcmVmMjtcbiAgICAgIHJldHVybiB0aGlzLmF0dGVtcHQuanVtcHMobykgfHwgKChfcmVmMiA9IHRoaXMucmVjb3ZlcnkpICE9IG51bGwgPyBfcmVmMi5qdW1wcyhvKSA6IHZvaWQgMCk7XG4gICAgfTtcblxuICAgIFRyeS5wcm90b3R5cGUubWFrZVJldHVybiA9IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKHRoaXMuYXR0ZW1wdCkge1xuICAgICAgICB0aGlzLmF0dGVtcHQgPSB0aGlzLmF0dGVtcHQubWFrZVJldHVybihyZXMpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucmVjb3ZlcnkpIHtcbiAgICAgICAgdGhpcy5yZWNvdmVyeSA9IHRoaXMucmVjb3ZlcnkubWFrZVJldHVybihyZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFRyeS5wcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgY2F0Y2hQYXJ0LCBlbnN1cmVQYXJ0LCBwbGFjZWhvbGRlciwgdHJ5UGFydDtcbiAgICAgIG8uaW5kZW50ICs9IFRBQjtcbiAgICAgIHRyeVBhcnQgPSB0aGlzLmF0dGVtcHQuY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX1RPUCk7XG4gICAgICBjYXRjaFBhcnQgPSB0aGlzLnJlY292ZXJ5ID8gKHBsYWNlaG9sZGVyID0gbmV3IExpdGVyYWwoJ19lcnJvcicpLCB0aGlzLmVycm9yVmFyaWFibGUgPyB0aGlzLnJlY292ZXJ5LnVuc2hpZnQobmV3IEFzc2lnbih0aGlzLmVycm9yVmFyaWFibGUsIHBsYWNlaG9sZGVyKSkgOiB2b2lkIDAsIFtdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiIGNhdGNoIChcIiksIHBsYWNlaG9sZGVyLmNvbXBpbGVUb0ZyYWdtZW50cyhvKSwgdGhpcy5tYWtlQ29kZShcIikge1xcblwiKSwgdGhpcy5yZWNvdmVyeS5jb21waWxlVG9GcmFnbWVudHMobywgTEVWRUxfVE9QKSwgdGhpcy5tYWtlQ29kZShcIlxcblwiICsgdGhpcy50YWIgKyBcIn1cIikpKSA6ICEodGhpcy5lbnN1cmUgfHwgdGhpcy5yZWNvdmVyeSkgPyBbdGhpcy5tYWtlQ29kZSgnIGNhdGNoIChfZXJyb3IpIHt9JyldIDogW107XG4gICAgICBlbnN1cmVQYXJ0ID0gdGhpcy5lbnN1cmUgPyBbXS5jb25jYXQodGhpcy5tYWtlQ29kZShcIiBmaW5hbGx5IHtcXG5cIiksIHRoaXMuZW5zdXJlLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9UT1ApLCB0aGlzLm1ha2VDb2RlKFwiXFxuXCIgKyB0aGlzLnRhYiArIFwifVwiKSkgOiBbXTtcbiAgICAgIHJldHVybiBbXS5jb25jYXQodGhpcy5tYWtlQ29kZShcIlwiICsgdGhpcy50YWIgKyBcInRyeSB7XFxuXCIpLCB0cnlQYXJ0LCB0aGlzLm1ha2VDb2RlKFwiXFxuXCIgKyB0aGlzLnRhYiArIFwifVwiKSwgY2F0Y2hQYXJ0LCBlbnN1cmVQYXJ0KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRyeTtcblxuICB9KShCYXNlKTtcblxuICBleHBvcnRzLlRocm93ID0gVGhyb3cgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRocm93LCBfc3VwZXIpO1xuXG4gICAgZnVuY3Rpb24gVGhyb3coZXhwcmVzc2lvbikge1xuICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbjtcbiAgICB9XG5cbiAgICBUaHJvdy5wcm90b3R5cGUuY2hpbGRyZW4gPSBbJ2V4cHJlc3Npb24nXTtcblxuICAgIFRocm93LnByb3RvdHlwZS5pc1N0YXRlbWVudCA9IFlFUztcblxuICAgIFRocm93LnByb3RvdHlwZS5qdW1wcyA9IE5PO1xuXG4gICAgVGhyb3cucHJvdG90eXBlLm1ha2VSZXR1cm4gPSBUSElTO1xuXG4gICAgVGhyb3cucHJvdG90eXBlLmNvbXBpbGVOb2RlID0gZnVuY3Rpb24obykge1xuICAgICAgcmV0dXJuIFtdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKHRoaXMudGFiICsgXCJ0aHJvdyBcIiksIHRoaXMuZXhwcmVzc2lvbi5jb21waWxlVG9GcmFnbWVudHMobyksIHRoaXMubWFrZUNvZGUoXCI7XCIpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRocm93O1xuXG4gIH0pKEJhc2UpO1xuXG4gIGV4cG9ydHMuRXhpc3RlbmNlID0gRXhpc3RlbmNlID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFeGlzdGVuY2UsIF9zdXBlcik7XG5cbiAgICBmdW5jdGlvbiBFeGlzdGVuY2UoZXhwcmVzc2lvbikge1xuICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbjtcbiAgICB9XG5cbiAgICBFeGlzdGVuY2UucHJvdG90eXBlLmNoaWxkcmVuID0gWydleHByZXNzaW9uJ107XG5cbiAgICBFeGlzdGVuY2UucHJvdG90eXBlLmludmVydCA9IE5FR0FURTtcblxuICAgIEV4aXN0ZW5jZS5wcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgY21wLCBjbmosIGNvZGUsIF9yZWYyO1xuICAgICAgdGhpcy5leHByZXNzaW9uLmZyb250ID0gdGhpcy5mcm9udDtcbiAgICAgIGNvZGUgPSB0aGlzLmV4cHJlc3Npb24uY29tcGlsZShvLCBMRVZFTF9PUCk7XG4gICAgICBpZiAoSURFTlRJRklFUi50ZXN0KGNvZGUpICYmICFvLnNjb3BlLmNoZWNrKGNvZGUpKSB7XG4gICAgICAgIF9yZWYyID0gdGhpcy5uZWdhdGVkID8gWyc9PT0nLCAnfHwnXSA6IFsnIT09JywgJyYmJ10sIGNtcCA9IF9yZWYyWzBdLCBjbmogPSBfcmVmMlsxXTtcbiAgICAgICAgY29kZSA9IFwidHlwZW9mIFwiICsgY29kZSArIFwiIFwiICsgY21wICsgXCIgXFxcInVuZGVmaW5lZFxcXCIgXCIgKyBjbmogKyBcIiBcIiArIGNvZGUgKyBcIiBcIiArIGNtcCArIFwiIG51bGxcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvZGUgPSBcIlwiICsgY29kZSArIFwiIFwiICsgKHRoaXMubmVnYXRlZCA/ICc9PScgOiAnIT0nKSArIFwiIG51bGxcIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbdGhpcy5tYWtlQ29kZShvLmxldmVsIDw9IExFVkVMX0NPTkQgPyBjb2RlIDogXCIoXCIgKyBjb2RlICsgXCIpXCIpXTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEV4aXN0ZW5jZTtcblxuICB9KShCYXNlKTtcblxuICBleHBvcnRzLlBhcmVucyA9IFBhcmVucyA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGFyZW5zLCBfc3VwZXIpO1xuXG4gICAgZnVuY3Rpb24gUGFyZW5zKGJvZHkpIHtcbiAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgfVxuXG4gICAgUGFyZW5zLnByb3RvdHlwZS5jaGlsZHJlbiA9IFsnYm9keSddO1xuXG4gICAgUGFyZW5zLnByb3RvdHlwZS51bndyYXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmJvZHk7XG4gICAgfTtcblxuICAgIFBhcmVucy5wcm90b3R5cGUuaXNDb21wbGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5ib2R5LmlzQ29tcGxleCgpO1xuICAgIH07XG5cbiAgICBQYXJlbnMucHJvdG90eXBlLmNvbXBpbGVOb2RlID0gZnVuY3Rpb24obykge1xuICAgICAgdmFyIGJhcmUsIGV4cHIsIGZyYWdtZW50cztcbiAgICAgIGV4cHIgPSB0aGlzLmJvZHkudW53cmFwKCk7XG4gICAgICBpZiAoZXhwciBpbnN0YW5jZW9mIFZhbHVlICYmIGV4cHIuaXNBdG9taWMoKSkge1xuICAgICAgICBleHByLmZyb250ID0gdGhpcy5mcm9udDtcbiAgICAgICAgcmV0dXJuIGV4cHIuY29tcGlsZVRvRnJhZ21lbnRzKG8pO1xuICAgICAgfVxuICAgICAgZnJhZ21lbnRzID0gZXhwci5jb21waWxlVG9GcmFnbWVudHMobywgTEVWRUxfUEFSRU4pO1xuICAgICAgYmFyZSA9IG8ubGV2ZWwgPCBMRVZFTF9PUCAmJiAoZXhwciBpbnN0YW5jZW9mIE9wIHx8IGV4cHIgaW5zdGFuY2VvZiBDYWxsIHx8IChleHByIGluc3RhbmNlb2YgRm9yICYmIGV4cHIucmV0dXJucykpO1xuICAgICAgaWYgKGJhcmUpIHtcbiAgICAgICAgcmV0dXJuIGZyYWdtZW50cztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBJbkJyYWNlcyhmcmFnbWVudHMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gUGFyZW5zO1xuXG4gIH0pKEJhc2UpO1xuXG4gIGV4cG9ydHMuRm9yID0gRm9yID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGb3IsIF9zdXBlcik7XG5cbiAgICBmdW5jdGlvbiBGb3IoYm9keSwgc291cmNlKSB7XG4gICAgICB2YXIgX3JlZjI7XG4gICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZS5zb3VyY2UsIHRoaXMuZ3VhcmQgPSBzb3VyY2UuZ3VhcmQsIHRoaXMuc3RlcCA9IHNvdXJjZS5zdGVwLCB0aGlzLm5hbWUgPSBzb3VyY2UubmFtZSwgdGhpcy5pbmRleCA9IHNvdXJjZS5pbmRleDtcbiAgICAgIHRoaXMuYm9keSA9IEJsb2NrLndyYXAoW2JvZHldKTtcbiAgICAgIHRoaXMub3duID0gISFzb3VyY2Uub3duO1xuICAgICAgdGhpcy5vYmplY3QgPSAhIXNvdXJjZS5vYmplY3Q7XG4gICAgICBpZiAodGhpcy5vYmplY3QpIHtcbiAgICAgICAgX3JlZjIgPSBbdGhpcy5pbmRleCwgdGhpcy5uYW1lXSwgdGhpcy5uYW1lID0gX3JlZjJbMF0sIHRoaXMuaW5kZXggPSBfcmVmMlsxXTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmluZGV4IGluc3RhbmNlb2YgVmFsdWUpIHtcbiAgICAgICAgdGhpcy5pbmRleC5lcnJvcignaW5kZXggY2Fubm90IGJlIGEgcGF0dGVybiBtYXRjaGluZyBleHByZXNzaW9uJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnJhbmdlID0gdGhpcy5zb3VyY2UgaW5zdGFuY2VvZiBWYWx1ZSAmJiB0aGlzLnNvdXJjZS5iYXNlIGluc3RhbmNlb2YgUmFuZ2UgJiYgIXRoaXMuc291cmNlLnByb3BlcnRpZXMubGVuZ3RoO1xuICAgICAgdGhpcy5wYXR0ZXJuID0gdGhpcy5uYW1lIGluc3RhbmNlb2YgVmFsdWU7XG4gICAgICBpZiAodGhpcy5yYW5nZSAmJiB0aGlzLmluZGV4KSB7XG4gICAgICAgIHRoaXMuaW5kZXguZXJyb3IoJ2luZGV4ZXMgZG8gbm90IGFwcGx5IHRvIHJhbmdlIGxvb3BzJyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5yYW5nZSAmJiB0aGlzLnBhdHRlcm4pIHtcbiAgICAgICAgdGhpcy5uYW1lLmVycm9yKCdjYW5ub3QgcGF0dGVybiBtYXRjaCBvdmVyIHJhbmdlIGxvb3BzJyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vd24gJiYgIXRoaXMub2JqZWN0KSB7XG4gICAgICAgIHRoaXMubmFtZS5lcnJvcignY2Fubm90IHVzZSBvd24gd2l0aCBmb3ItaW4nKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmV0dXJucyA9IGZhbHNlO1xuICAgIH1cblxuICAgIEZvci5wcm90b3R5cGUuY2hpbGRyZW4gPSBbJ2JvZHknLCAnc291cmNlJywgJ2d1YXJkJywgJ3N0ZXAnXTtcblxuICAgIEZvci5wcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgYm9keSwgYm9keUZyYWdtZW50cywgY29tcGFyZSwgY29tcGFyZURvd24sIGRlY2xhcmUsIGRlY2xhcmVEb3duLCBkZWZQYXJ0LCBkZWZQYXJ0RnJhZ21lbnRzLCBkb3duLCBmb3JQYXJ0RnJhZ21lbnRzLCBndWFyZFBhcnQsIGlkdDEsIGluY3JlbWVudCwgaW5kZXgsIGl2YXIsIGt2YXIsIGt2YXJBc3NpZ24sIGxhc3RKdW1wcywgbHZhciwgbmFtZSwgbmFtZVBhcnQsIHJlZiwgcmVzdWx0UGFydCwgcmV0dXJuUmVzdWx0LCBydmFyLCBzY29wZSwgc291cmNlLCBzdGVwLCBzdGVwTnVtLCBzdGVwVmFyLCBzdmFyLCB2YXJQYXJ0LCBfcmVmMiwgX3JlZjM7XG4gICAgICBib2R5ID0gQmxvY2sud3JhcChbdGhpcy5ib2R5XSk7XG4gICAgICBsYXN0SnVtcHMgPSAoX3JlZjIgPSBsYXN0KGJvZHkuZXhwcmVzc2lvbnMpKSAhPSBudWxsID8gX3JlZjIuanVtcHMoKSA6IHZvaWQgMDtcbiAgICAgIGlmIChsYXN0SnVtcHMgJiYgbGFzdEp1bXBzIGluc3RhbmNlb2YgUmV0dXJuKSB7XG4gICAgICAgIHRoaXMucmV0dXJucyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgc291cmNlID0gdGhpcy5yYW5nZSA/IHRoaXMuc291cmNlLmJhc2UgOiB0aGlzLnNvdXJjZTtcbiAgICAgIHNjb3BlID0gby5zY29wZTtcbiAgICAgIGlmICghdGhpcy5wYXR0ZXJuKSB7XG4gICAgICAgIG5hbWUgPSB0aGlzLm5hbWUgJiYgKHRoaXMubmFtZS5jb21waWxlKG8sIExFVkVMX0xJU1QpKTtcbiAgICAgIH1cbiAgICAgIGluZGV4ID0gdGhpcy5pbmRleCAmJiAodGhpcy5pbmRleC5jb21waWxlKG8sIExFVkVMX0xJU1QpKTtcbiAgICAgIGlmIChuYW1lICYmICF0aGlzLnBhdHRlcm4pIHtcbiAgICAgICAgc2NvcGUuZmluZChuYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbmRleCkge1xuICAgICAgICBzY29wZS5maW5kKGluZGV4KTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJldHVybnMpIHtcbiAgICAgICAgcnZhciA9IHNjb3BlLmZyZWVWYXJpYWJsZSgncmVzdWx0cycpO1xuICAgICAgfVxuICAgICAgaXZhciA9ICh0aGlzLm9iamVjdCAmJiBpbmRleCkgfHwgc2NvcGUuZnJlZVZhcmlhYmxlKCdpJyk7XG4gICAgICBrdmFyID0gKHRoaXMucmFuZ2UgJiYgbmFtZSkgfHwgaW5kZXggfHwgaXZhcjtcbiAgICAgIGt2YXJBc3NpZ24gPSBrdmFyICE9PSBpdmFyID8gXCJcIiArIGt2YXIgKyBcIiA9IFwiIDogXCJcIjtcbiAgICAgIGlmICh0aGlzLnN0ZXAgJiYgIXRoaXMucmFuZ2UpIHtcbiAgICAgICAgX3JlZjMgPSB0aGlzLmNhY2hlVG9Db2RlRnJhZ21lbnRzKHRoaXMuc3RlcC5jYWNoZShvLCBMRVZFTF9MSVNUKSksIHN0ZXAgPSBfcmVmM1swXSwgc3RlcFZhciA9IF9yZWYzWzFdO1xuICAgICAgICBzdGVwTnVtID0gc3RlcFZhci5tYXRjaChOVU1CRVIpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucGF0dGVybikge1xuICAgICAgICBuYW1lID0gaXZhcjtcbiAgICAgIH1cbiAgICAgIHZhclBhcnQgPSAnJztcbiAgICAgIGd1YXJkUGFydCA9ICcnO1xuICAgICAgZGVmUGFydCA9ICcnO1xuICAgICAgaWR0MSA9IHRoaXMudGFiICsgVEFCO1xuICAgICAgaWYgKHRoaXMucmFuZ2UpIHtcbiAgICAgICAgZm9yUGFydEZyYWdtZW50cyA9IHNvdXJjZS5jb21waWxlVG9GcmFnbWVudHMobWVyZ2Uobywge1xuICAgICAgICAgIGluZGV4OiBpdmFyLFxuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgc3RlcDogdGhpcy5zdGVwXG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN2YXIgPSB0aGlzLnNvdXJjZS5jb21waWxlKG8sIExFVkVMX0xJU1QpO1xuICAgICAgICBpZiAoKG5hbWUgfHwgdGhpcy5vd24pICYmICFJREVOVElGSUVSLnRlc3Qoc3ZhcikpIHtcbiAgICAgICAgICBkZWZQYXJ0ICs9IFwiXCIgKyB0aGlzLnRhYiArIChyZWYgPSBzY29wZS5mcmVlVmFyaWFibGUoJ3JlZicpKSArIFwiID0gXCIgKyBzdmFyICsgXCI7XFxuXCI7XG4gICAgICAgICAgc3ZhciA9IHJlZjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSAmJiAhdGhpcy5wYXR0ZXJuKSB7XG4gICAgICAgICAgbmFtZVBhcnQgPSBcIlwiICsgbmFtZSArIFwiID0gXCIgKyBzdmFyICsgXCJbXCIgKyBrdmFyICsgXCJdXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm9iamVjdCkge1xuICAgICAgICAgIGlmIChzdGVwICE9PSBzdGVwVmFyKSB7XG4gICAgICAgICAgICBkZWZQYXJ0ICs9IFwiXCIgKyB0aGlzLnRhYiArIHN0ZXAgKyBcIjtcXG5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEodGhpcy5zdGVwICYmIHN0ZXBOdW0gJiYgKGRvd24gPSBwYXJzZU51bShzdGVwTnVtWzBdKSA8IDApKSkge1xuICAgICAgICAgICAgbHZhciA9IHNjb3BlLmZyZWVWYXJpYWJsZSgnbGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlY2xhcmUgPSBcIlwiICsga3ZhckFzc2lnbiArIGl2YXIgKyBcIiA9IDAsIFwiICsgbHZhciArIFwiID0gXCIgKyBzdmFyICsgXCIubGVuZ3RoXCI7XG4gICAgICAgICAgZGVjbGFyZURvd24gPSBcIlwiICsga3ZhckFzc2lnbiArIGl2YXIgKyBcIiA9IFwiICsgc3ZhciArIFwiLmxlbmd0aCAtIDFcIjtcbiAgICAgICAgICBjb21wYXJlID0gXCJcIiArIGl2YXIgKyBcIiA8IFwiICsgbHZhcjtcbiAgICAgICAgICBjb21wYXJlRG93biA9IFwiXCIgKyBpdmFyICsgXCIgPj0gMFwiO1xuICAgICAgICAgIGlmICh0aGlzLnN0ZXApIHtcbiAgICAgICAgICAgIGlmIChzdGVwTnVtKSB7XG4gICAgICAgICAgICAgIGlmIChkb3duKSB7XG4gICAgICAgICAgICAgICAgY29tcGFyZSA9IGNvbXBhcmVEb3duO1xuICAgICAgICAgICAgICAgIGRlY2xhcmUgPSBkZWNsYXJlRG93bjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29tcGFyZSA9IFwiXCIgKyBzdGVwVmFyICsgXCIgPiAwID8gXCIgKyBjb21wYXJlICsgXCIgOiBcIiArIGNvbXBhcmVEb3duO1xuICAgICAgICAgICAgICBkZWNsYXJlID0gXCIoXCIgKyBzdGVwVmFyICsgXCIgPiAwID8gKFwiICsgZGVjbGFyZSArIFwiKSA6IFwiICsgZGVjbGFyZURvd24gKyBcIilcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluY3JlbWVudCA9IFwiXCIgKyBpdmFyICsgXCIgKz0gXCIgKyBzdGVwVmFyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmNyZW1lbnQgPSBcIlwiICsgKGt2YXIgIT09IGl2YXIgPyBcIisrXCIgKyBpdmFyIDogXCJcIiArIGl2YXIgKyBcIisrXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3JQYXJ0RnJhZ21lbnRzID0gW3RoaXMubWFrZUNvZGUoXCJcIiArIGRlY2xhcmUgKyBcIjsgXCIgKyBjb21wYXJlICsgXCI7IFwiICsga3ZhckFzc2lnbiArIGluY3JlbWVudCldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5yZXR1cm5zKSB7XG4gICAgICAgIHJlc3VsdFBhcnQgPSBcIlwiICsgdGhpcy50YWIgKyBydmFyICsgXCIgPSBbXTtcXG5cIjtcbiAgICAgICAgcmV0dXJuUmVzdWx0ID0gXCJcXG5cIiArIHRoaXMudGFiICsgXCJyZXR1cm4gXCIgKyBydmFyICsgXCI7XCI7XG4gICAgICAgIGJvZHkubWFrZVJldHVybihydmFyKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmd1YXJkKSB7XG4gICAgICAgIGlmIChib2R5LmV4cHJlc3Npb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBib2R5LmV4cHJlc3Npb25zLnVuc2hpZnQobmV3IElmKChuZXcgUGFyZW5zKHRoaXMuZ3VhcmQpKS5pbnZlcnQoKSwgbmV3IExpdGVyYWwoXCJjb250aW51ZVwiKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLmd1YXJkKSB7XG4gICAgICAgICAgICBib2R5ID0gQmxvY2sud3JhcChbbmV3IElmKHRoaXMuZ3VhcmQsIGJvZHkpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wYXR0ZXJuKSB7XG4gICAgICAgIGJvZHkuZXhwcmVzc2lvbnMudW5zaGlmdChuZXcgQXNzaWduKHRoaXMubmFtZSwgbmV3IExpdGVyYWwoXCJcIiArIHN2YXIgKyBcIltcIiArIGt2YXIgKyBcIl1cIikpKTtcbiAgICAgIH1cbiAgICAgIGRlZlBhcnRGcmFnbWVudHMgPSBbXS5jb25jYXQodGhpcy5tYWtlQ29kZShkZWZQYXJ0KSwgdGhpcy5wbHVja0RpcmVjdENhbGwobywgYm9keSkpO1xuICAgICAgaWYgKG5hbWVQYXJ0KSB7XG4gICAgICAgIHZhclBhcnQgPSBcIlxcblwiICsgaWR0MSArIG5hbWVQYXJ0ICsgXCI7XCI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vYmplY3QpIHtcbiAgICAgICAgZm9yUGFydEZyYWdtZW50cyA9IFt0aGlzLm1ha2VDb2RlKFwiXCIgKyBrdmFyICsgXCIgaW4gXCIgKyBzdmFyKV07XG4gICAgICAgIGlmICh0aGlzLm93bikge1xuICAgICAgICAgIGd1YXJkUGFydCA9IFwiXFxuXCIgKyBpZHQxICsgXCJpZiAoIVwiICsgKHV0aWxpdHkoJ2hhc1Byb3AnKSkgKyBcIi5jYWxsKFwiICsgc3ZhciArIFwiLCBcIiArIGt2YXIgKyBcIikpIGNvbnRpbnVlO1wiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBib2R5RnJhZ21lbnRzID0gYm9keS5jb21waWxlVG9GcmFnbWVudHMobWVyZ2Uobywge1xuICAgICAgICBpbmRlbnQ6IGlkdDFcbiAgICAgIH0pLCBMRVZFTF9UT1ApO1xuICAgICAgaWYgKGJvZHlGcmFnbWVudHMgJiYgKGJvZHlGcmFnbWVudHMubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgYm9keUZyYWdtZW50cyA9IFtdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiXFxuXCIpLCBib2R5RnJhZ21lbnRzLCB0aGlzLm1ha2VDb2RlKFwiXFxuXCIpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXS5jb25jYXQoZGVmUGFydEZyYWdtZW50cywgdGhpcy5tYWtlQ29kZShcIlwiICsgKHJlc3VsdFBhcnQgfHwgJycpICsgdGhpcy50YWIgKyBcImZvciAoXCIpLCBmb3JQYXJ0RnJhZ21lbnRzLCB0aGlzLm1ha2VDb2RlKFwiKSB7XCIgKyBndWFyZFBhcnQgKyB2YXJQYXJ0KSwgYm9keUZyYWdtZW50cywgdGhpcy5tYWtlQ29kZShcIlwiICsgdGhpcy50YWIgKyBcIn1cIiArIChyZXR1cm5SZXN1bHQgfHwgJycpKSk7XG4gICAgfTtcblxuICAgIEZvci5wcm90b3R5cGUucGx1Y2tEaXJlY3RDYWxsID0gZnVuY3Rpb24obywgYm9keSkge1xuICAgICAgdmFyIGJhc2UsIGRlZnMsIGV4cHIsIGZuLCBpZHgsIHJlZiwgdmFsLCBfaSwgX2xlbiwgX3JlZjIsIF9yZWYzLCBfcmVmNCwgX3JlZjUsIF9yZWY2LCBfcmVmNywgX3JlZjg7XG4gICAgICBkZWZzID0gW107XG4gICAgICBfcmVmMiA9IGJvZHkuZXhwcmVzc2lvbnM7XG4gICAgICBmb3IgKGlkeCA9IF9pID0gMCwgX2xlbiA9IF9yZWYyLmxlbmd0aDsgX2kgPCBfbGVuOyBpZHggPSArK19pKSB7XG4gICAgICAgIGV4cHIgPSBfcmVmMltpZHhdO1xuICAgICAgICBleHByID0gZXhwci51bndyYXBBbGwoKTtcbiAgICAgICAgaWYgKCEoZXhwciBpbnN0YW5jZW9mIENhbGwpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFsID0gKF9yZWYzID0gZXhwci52YXJpYWJsZSkgIT0gbnVsbCA/IF9yZWYzLnVud3JhcEFsbCgpIDogdm9pZCAwO1xuICAgICAgICBpZiAoISgodmFsIGluc3RhbmNlb2YgQ29kZSkgfHwgKHZhbCBpbnN0YW5jZW9mIFZhbHVlICYmICgoX3JlZjQgPSB2YWwuYmFzZSkgIT0gbnVsbCA/IF9yZWY0LnVud3JhcEFsbCgpIDogdm9pZCAwKSBpbnN0YW5jZW9mIENvZGUgJiYgdmFsLnByb3BlcnRpZXMubGVuZ3RoID09PSAxICYmICgoX3JlZjUgPSAoX3JlZjYgPSB2YWwucHJvcGVydGllc1swXS5uYW1lKSAhPSBudWxsID8gX3JlZjYudmFsdWUgOiB2b2lkIDApID09PSAnY2FsbCcgfHwgX3JlZjUgPT09ICdhcHBseScpKSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmbiA9ICgoX3JlZjcgPSB2YWwuYmFzZSkgIT0gbnVsbCA/IF9yZWY3LnVud3JhcEFsbCgpIDogdm9pZCAwKSB8fCB2YWw7XG4gICAgICAgIHJlZiA9IG5ldyBMaXRlcmFsKG8uc2NvcGUuZnJlZVZhcmlhYmxlKCdmbicpKTtcbiAgICAgICAgYmFzZSA9IG5ldyBWYWx1ZShyZWYpO1xuICAgICAgICBpZiAodmFsLmJhc2UpIHtcbiAgICAgICAgICBfcmVmOCA9IFtiYXNlLCB2YWxdLCB2YWwuYmFzZSA9IF9yZWY4WzBdLCBiYXNlID0gX3JlZjhbMV07XG4gICAgICAgIH1cbiAgICAgICAgYm9keS5leHByZXNzaW9uc1tpZHhdID0gbmV3IENhbGwoYmFzZSwgZXhwci5hcmdzKTtcbiAgICAgICAgZGVmcyA9IGRlZnMuY29uY2F0KHRoaXMubWFrZUNvZGUodGhpcy50YWIpLCBuZXcgQXNzaWduKHJlZiwgZm4pLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9UT1ApLCB0aGlzLm1ha2VDb2RlKCc7XFxuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZnM7XG4gICAgfTtcblxuICAgIHJldHVybiBGb3I7XG5cbiAgfSkoV2hpbGUpO1xuXG4gIGV4cG9ydHMuU3dpdGNoID0gU3dpdGNoID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTd2l0Y2gsIF9zdXBlcik7XG5cbiAgICBmdW5jdGlvbiBTd2l0Y2goc3ViamVjdCwgY2FzZXMsIG90aGVyd2lzZSkge1xuICAgICAgdGhpcy5zdWJqZWN0ID0gc3ViamVjdDtcbiAgICAgIHRoaXMuY2FzZXMgPSBjYXNlcztcbiAgICAgIHRoaXMub3RoZXJ3aXNlID0gb3RoZXJ3aXNlO1xuICAgIH1cblxuICAgIFN3aXRjaC5wcm90b3R5cGUuY2hpbGRyZW4gPSBbJ3N1YmplY3QnLCAnY2FzZXMnLCAnb3RoZXJ3aXNlJ107XG5cbiAgICBTd2l0Y2gucHJvdG90eXBlLmlzU3RhdGVtZW50ID0gWUVTO1xuXG4gICAgU3dpdGNoLnByb3RvdHlwZS5qdW1wcyA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBibG9jaywgY29uZHMsIGp1bXBOb2RlLCBfaSwgX2xlbiwgX3JlZjIsIF9yZWYzLCBfcmVmNDtcbiAgICAgIGlmIChvID09IG51bGwpIHtcbiAgICAgICAgbyA9IHtcbiAgICAgICAgICBibG9jazogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgX3JlZjIgPSB0aGlzLmNhc2VzO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmMi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBfcmVmMyA9IF9yZWYyW19pXSwgY29uZHMgPSBfcmVmM1swXSwgYmxvY2sgPSBfcmVmM1sxXTtcbiAgICAgICAgaWYgKGp1bXBOb2RlID0gYmxvY2suanVtcHMobykpIHtcbiAgICAgICAgICByZXR1cm4ganVtcE5vZGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAoX3JlZjQgPSB0aGlzLm90aGVyd2lzZSkgIT0gbnVsbCA/IF9yZWY0Lmp1bXBzKG8pIDogdm9pZCAwO1xuICAgIH07XG5cbiAgICBTd2l0Y2gucHJvdG90eXBlLm1ha2VSZXR1cm4gPSBmdW5jdGlvbihyZXMpIHtcbiAgICAgIHZhciBwYWlyLCBfaSwgX2xlbiwgX3JlZjIsIF9yZWYzO1xuICAgICAgX3JlZjIgPSB0aGlzLmNhc2VzO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmMi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBwYWlyID0gX3JlZjJbX2ldO1xuICAgICAgICBwYWlyWzFdLm1ha2VSZXR1cm4ocmVzKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgdGhpcy5vdGhlcndpc2UgfHwgKHRoaXMub3RoZXJ3aXNlID0gbmV3IEJsb2NrKFtuZXcgTGl0ZXJhbCgndm9pZCAwJyldKSk7XG4gICAgICB9XG4gICAgICBpZiAoKF9yZWYzID0gdGhpcy5vdGhlcndpc2UpICE9IG51bGwpIHtcbiAgICAgICAgX3JlZjMubWFrZVJldHVybihyZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFN3aXRjaC5wcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgYmxvY2ssIGJvZHksIGNvbmQsIGNvbmRpdGlvbnMsIGV4cHIsIGZyYWdtZW50cywgaSwgaWR0MSwgaWR0MiwgX2ksIF9qLCBfbGVuLCBfbGVuMSwgX3JlZjIsIF9yZWYzLCBfcmVmNDtcbiAgICAgIGlkdDEgPSBvLmluZGVudCArIFRBQjtcbiAgICAgIGlkdDIgPSBvLmluZGVudCA9IGlkdDEgKyBUQUI7XG4gICAgICBmcmFnbWVudHMgPSBbXS5jb25jYXQodGhpcy5tYWtlQ29kZSh0aGlzLnRhYiArIFwic3dpdGNoIChcIiksICh0aGlzLnN1YmplY3QgPyB0aGlzLnN1YmplY3QuY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX1BBUkVOKSA6IHRoaXMubWFrZUNvZGUoXCJmYWxzZVwiKSksIHRoaXMubWFrZUNvZGUoXCIpIHtcXG5cIikpO1xuICAgICAgX3JlZjIgPSB0aGlzLmNhc2VzO1xuICAgICAgZm9yIChpID0gX2kgPSAwLCBfbGVuID0gX3JlZjIubGVuZ3RoOyBfaSA8IF9sZW47IGkgPSArK19pKSB7XG4gICAgICAgIF9yZWYzID0gX3JlZjJbaV0sIGNvbmRpdGlvbnMgPSBfcmVmM1swXSwgYmxvY2sgPSBfcmVmM1sxXTtcbiAgICAgICAgX3JlZjQgPSBmbGF0dGVuKFtjb25kaXRpb25zXSk7XG4gICAgICAgIGZvciAoX2ogPSAwLCBfbGVuMSA9IF9yZWY0Lmxlbmd0aDsgX2ogPCBfbGVuMTsgX2orKykge1xuICAgICAgICAgIGNvbmQgPSBfcmVmNFtfal07XG4gICAgICAgICAgaWYgKCF0aGlzLnN1YmplY3QpIHtcbiAgICAgICAgICAgIGNvbmQgPSBjb25kLmludmVydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmcmFnbWVudHMgPSBmcmFnbWVudHMuY29uY2F0KHRoaXMubWFrZUNvZGUoaWR0MSArIFwiY2FzZSBcIiksIGNvbmQuY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX1BBUkVOKSwgdGhpcy5tYWtlQ29kZShcIjpcXG5cIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoYm9keSA9IGJsb2NrLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9UT1ApKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZnJhZ21lbnRzID0gZnJhZ21lbnRzLmNvbmNhdChib2R5LCB0aGlzLm1ha2VDb2RlKCdcXG4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPT09IHRoaXMuY2FzZXMubGVuZ3RoIC0gMSAmJiAhdGhpcy5vdGhlcndpc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBleHByID0gdGhpcy5sYXN0Tm9uQ29tbWVudChibG9jay5leHByZXNzaW9ucyk7XG4gICAgICAgIGlmIChleHByIGluc3RhbmNlb2YgUmV0dXJuIHx8IChleHByIGluc3RhbmNlb2YgTGl0ZXJhbCAmJiBleHByLmp1bXBzKCkgJiYgZXhwci52YWx1ZSAhPT0gJ2RlYnVnZ2VyJykpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmcmFnbWVudHMucHVzaChjb25kLm1ha2VDb2RlKGlkdDIgKyAnYnJlYWs7XFxuJykpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3RoZXJ3aXNlICYmIHRoaXMub3RoZXJ3aXNlLmV4cHJlc3Npb25zLmxlbmd0aCkge1xuICAgICAgICBmcmFnbWVudHMucHVzaC5hcHBseShmcmFnbWVudHMsIFt0aGlzLm1ha2VDb2RlKGlkdDEgKyBcImRlZmF1bHQ6XFxuXCIpXS5jb25jYXQoX19zbGljZS5jYWxsKHRoaXMub3RoZXJ3aXNlLmNvbXBpbGVUb0ZyYWdtZW50cyhvLCBMRVZFTF9UT1ApKSwgW3RoaXMubWFrZUNvZGUoXCJcXG5cIildKSk7XG4gICAgICB9XG4gICAgICBmcmFnbWVudHMucHVzaCh0aGlzLm1ha2VDb2RlKHRoaXMudGFiICsgJ30nKSk7XG4gICAgICByZXR1cm4gZnJhZ21lbnRzO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3dpdGNoO1xuXG4gIH0pKEJhc2UpO1xuXG4gIGV4cG9ydHMuSWYgPSBJZiA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSWYsIF9zdXBlcik7XG5cbiAgICBmdW5jdGlvbiBJZihjb25kaXRpb24sIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29uZGl0aW9uID0gb3B0aW9ucy50eXBlID09PSAndW5sZXNzJyA/IGNvbmRpdGlvbi5pbnZlcnQoKSA6IGNvbmRpdGlvbjtcbiAgICAgIHRoaXMuZWxzZUJvZHkgPSBudWxsO1xuICAgICAgdGhpcy5pc0NoYWluID0gZmFsc2U7XG4gICAgICB0aGlzLnNvYWsgPSBvcHRpb25zLnNvYWs7XG4gICAgfVxuXG4gICAgSWYucHJvdG90eXBlLmNoaWxkcmVuID0gWydjb25kaXRpb24nLCAnYm9keScsICdlbHNlQm9keSddO1xuXG4gICAgSWYucHJvdG90eXBlLmJvZHlOb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgX3JlZjI7XG4gICAgICByZXR1cm4gKF9yZWYyID0gdGhpcy5ib2R5KSAhPSBudWxsID8gX3JlZjIudW53cmFwKCkgOiB2b2lkIDA7XG4gICAgfTtcblxuICAgIElmLnByb3RvdHlwZS5lbHNlQm9keU5vZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBfcmVmMjtcbiAgICAgIHJldHVybiAoX3JlZjIgPSB0aGlzLmVsc2VCb2R5KSAhPSBudWxsID8gX3JlZjIudW53cmFwKCkgOiB2b2lkIDA7XG4gICAgfTtcblxuICAgIElmLnByb3RvdHlwZS5hZGRFbHNlID0gZnVuY3Rpb24oZWxzZUJvZHkpIHtcbiAgICAgIGlmICh0aGlzLmlzQ2hhaW4pIHtcbiAgICAgICAgdGhpcy5lbHNlQm9keU5vZGUoKS5hZGRFbHNlKGVsc2VCb2R5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaXNDaGFpbiA9IGVsc2VCb2R5IGluc3RhbmNlb2YgSWY7XG4gICAgICAgIHRoaXMuZWxzZUJvZHkgPSB0aGlzLmVuc3VyZUJsb2NrKGVsc2VCb2R5KTtcbiAgICAgICAgdGhpcy5lbHNlQm9keS51cGRhdGVMb2NhdGlvbkRhdGFJZk1pc3NpbmcoZWxzZUJvZHkubG9jYXRpb25EYXRhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBJZi5wcm90b3R5cGUuaXNTdGF0ZW1lbnQgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgX3JlZjI7XG4gICAgICByZXR1cm4gKG8gIT0gbnVsbCA/IG8ubGV2ZWwgOiB2b2lkIDApID09PSBMRVZFTF9UT1AgfHwgdGhpcy5ib2R5Tm9kZSgpLmlzU3RhdGVtZW50KG8pIHx8ICgoX3JlZjIgPSB0aGlzLmVsc2VCb2R5Tm9kZSgpKSAhPSBudWxsID8gX3JlZjIuaXNTdGF0ZW1lbnQobykgOiB2b2lkIDApO1xuICAgIH07XG5cbiAgICBJZi5wcm90b3R5cGUuanVtcHMgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgX3JlZjI7XG4gICAgICByZXR1cm4gdGhpcy5ib2R5Lmp1bXBzKG8pIHx8ICgoX3JlZjIgPSB0aGlzLmVsc2VCb2R5KSAhPSBudWxsID8gX3JlZjIuanVtcHMobykgOiB2b2lkIDApO1xuICAgIH07XG5cbiAgICBJZi5wcm90b3R5cGUuY29tcGlsZU5vZGUgPSBmdW5jdGlvbihvKSB7XG4gICAgICBpZiAodGhpcy5pc1N0YXRlbWVudChvKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21waWxlU3RhdGVtZW50KG8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZUV4cHJlc3Npb24obyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIElmLnByb3RvdHlwZS5tYWtlUmV0dXJuID0gZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAocmVzKSB7XG4gICAgICAgIHRoaXMuZWxzZUJvZHkgfHwgKHRoaXMuZWxzZUJvZHkgPSBuZXcgQmxvY2soW25ldyBMaXRlcmFsKCd2b2lkIDAnKV0pKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYm9keSAmJiAodGhpcy5ib2R5ID0gbmV3IEJsb2NrKFt0aGlzLmJvZHkubWFrZVJldHVybihyZXMpXSkpO1xuICAgICAgdGhpcy5lbHNlQm9keSAmJiAodGhpcy5lbHNlQm9keSA9IG5ldyBCbG9jayhbdGhpcy5lbHNlQm9keS5tYWtlUmV0dXJuKHJlcyldKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgSWYucHJvdG90eXBlLmVuc3VyZUJsb2NrID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBCbG9jaykge1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgQmxvY2soW25vZGVdKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgSWYucHJvdG90eXBlLmNvbXBpbGVTdGF0ZW1lbnQgPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgYW5zd2VyLCBib2R5LCBjaGlsZCwgY29uZCwgZXhlcSwgaWZQYXJ0LCBpbmRlbnQ7XG4gICAgICBjaGlsZCA9IGRlbChvLCAnY2hhaW5DaGlsZCcpO1xuICAgICAgZXhlcSA9IGRlbChvLCAnaXNFeGlzdGVudGlhbEVxdWFscycpO1xuICAgICAgaWYgKGV4ZXEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJZih0aGlzLmNvbmRpdGlvbi5pbnZlcnQoKSwgdGhpcy5lbHNlQm9keU5vZGUoKSwge1xuICAgICAgICAgIHR5cGU6ICdpZidcbiAgICAgICAgfSkuY29tcGlsZVRvRnJhZ21lbnRzKG8pO1xuICAgICAgfVxuICAgICAgaW5kZW50ID0gby5pbmRlbnQgKyBUQUI7XG4gICAgICBjb25kID0gdGhpcy5jb25kaXRpb24uY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX1BBUkVOKTtcbiAgICAgIGJvZHkgPSB0aGlzLmVuc3VyZUJsb2NrKHRoaXMuYm9keSkuY29tcGlsZVRvRnJhZ21lbnRzKG1lcmdlKG8sIHtcbiAgICAgICAgaW5kZW50OiBpbmRlbnRcbiAgICAgIH0pKTtcbiAgICAgIGlmUGFydCA9IFtdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiaWYgKFwiKSwgY29uZCwgdGhpcy5tYWtlQ29kZShcIikge1xcblwiKSwgYm9keSwgdGhpcy5tYWtlQ29kZShcIlxcblwiICsgdGhpcy50YWIgKyBcIn1cIikpO1xuICAgICAgaWYgKCFjaGlsZCkge1xuICAgICAgICBpZlBhcnQudW5zaGlmdCh0aGlzLm1ha2VDb2RlKHRoaXMudGFiKSk7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuZWxzZUJvZHkpIHtcbiAgICAgICAgcmV0dXJuIGlmUGFydDtcbiAgICAgIH1cbiAgICAgIGFuc3dlciA9IGlmUGFydC5jb25jYXQodGhpcy5tYWtlQ29kZSgnIGVsc2UgJykpO1xuICAgICAgaWYgKHRoaXMuaXNDaGFpbikge1xuICAgICAgICBvLmNoYWluQ2hpbGQgPSB0cnVlO1xuICAgICAgICBhbnN3ZXIgPSBhbnN3ZXIuY29uY2F0KHRoaXMuZWxzZUJvZHkudW53cmFwKCkuY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX1RPUCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYW5zd2VyID0gYW5zd2VyLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwie1xcblwiKSwgdGhpcy5lbHNlQm9keS5jb21waWxlVG9GcmFnbWVudHMobWVyZ2Uobywge1xuICAgICAgICAgIGluZGVudDogaW5kZW50XG4gICAgICAgIH0pLCBMRVZFTF9UT1ApLCB0aGlzLm1ha2VDb2RlKFwiXFxuXCIgKyB0aGlzLnRhYiArIFwifVwiKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYW5zd2VyO1xuICAgIH07XG5cbiAgICBJZi5wcm90b3R5cGUuY29tcGlsZUV4cHJlc3Npb24gPSBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgYWx0LCBib2R5LCBjb25kLCBmcmFnbWVudHM7XG4gICAgICBjb25kID0gdGhpcy5jb25kaXRpb24uY29tcGlsZVRvRnJhZ21lbnRzKG8sIExFVkVMX0NPTkQpO1xuICAgICAgYm9keSA9IHRoaXMuYm9keU5vZGUoKS5jb21waWxlVG9GcmFnbWVudHMobywgTEVWRUxfTElTVCk7XG4gICAgICBhbHQgPSB0aGlzLmVsc2VCb2R5Tm9kZSgpID8gdGhpcy5lbHNlQm9keU5vZGUoKS5jb21waWxlVG9GcmFnbWVudHMobywgTEVWRUxfTElTVCkgOiBbdGhpcy5tYWtlQ29kZSgndm9pZCAwJyldO1xuICAgICAgZnJhZ21lbnRzID0gY29uZC5jb25jYXQodGhpcy5tYWtlQ29kZShcIiA/IFwiKSwgYm9keSwgdGhpcy5tYWtlQ29kZShcIiA6IFwiKSwgYWx0KTtcbiAgICAgIGlmIChvLmxldmVsID49IExFVkVMX0NPTkQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcEluQnJhY2VzKGZyYWdtZW50cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZnJhZ21lbnRzO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBJZi5wcm90b3R5cGUudW5mb2xkU29hayA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc29hayAmJiB0aGlzO1xuICAgIH07XG5cbiAgICByZXR1cm4gSWY7XG5cbiAgfSkoQmFzZSk7XG5cbiAgVVRJTElUSUVTID0ge1xuICAgIFwiZXh0ZW5kc1wiOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBcImZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoXCIgKyAodXRpbGl0eSgnaGFzUHJvcCcpKSArIFwiLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9XCI7XG4gICAgfSxcbiAgICBiaW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnZnVuY3Rpb24oZm4sIG1lKXsgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiBmbi5hcHBseShtZSwgYXJndW1lbnRzKTsgfTsgfSc7XG4gICAgfSxcbiAgICBpbmRleE9mOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBcIltdLmluZGV4T2YgfHwgZnVuY3Rpb24oaXRlbSkgeyBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7IGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkgcmV0dXJuIGk7IH0gcmV0dXJuIC0xOyB9XCI7XG4gICAgfSxcbiAgICBtb2R1bG86IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gKCthICUgKGIgPSArYikgKyBiKSAlIGI7IH1cIjtcbiAgICB9LFxuICAgIGhhc1Byb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICd7fS5oYXNPd25Qcm9wZXJ0eSc7XG4gICAgfSxcbiAgICBzbGljZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJ1tdLnNsaWNlJztcbiAgICB9XG4gIH07XG5cbiAgTEVWRUxfVE9QID0gMTtcblxuICBMRVZFTF9QQVJFTiA9IDI7XG5cbiAgTEVWRUxfTElTVCA9IDM7XG5cbiAgTEVWRUxfQ09ORCA9IDQ7XG5cbiAgTEVWRUxfT1AgPSA1O1xuXG4gIExFVkVMX0FDQ0VTUyA9IDY7XG5cbiAgVEFCID0gJyAgJztcblxuICBJREVOVElGSUVSX1NUUiA9IFwiWyRBLVphLXpfXFxcXHg3Zi1cXFxcdWZmZmZdWyRcXFxcd1xcXFx4N2YtXFxcXHVmZmZmXSpcIjtcblxuICBJREVOVElGSUVSID0gUmVnRXhwKFwiXlwiICsgSURFTlRJRklFUl9TVFIgKyBcIiRcIik7XG5cbiAgU0lNUExFTlVNID0gL15bKy1dP1xcZCskLztcblxuICBIRVhOVU0gPSAvXlsrLV0/MHhbXFxkYS1mXSsvaTtcblxuICBOVU1CRVIgPSAvXlsrLV0/KD86MHhbXFxkYS1mXSt8XFxkKlxcLj9cXGQrKD86ZVsrLV0/XFxkKyk/KSQvaTtcblxuICBNRVRIT0RfREVGID0gUmVnRXhwKFwiXihcIiArIElERU5USUZJRVJfU1RSICsgXCIpKFxcXFwucHJvdG90eXBlKT8oPzpcXFxcLihcIiArIElERU5USUZJRVJfU1RSICsgXCIpfFxcXFxbKFxcXCIoPzpbXlxcXFxcXFxcXFxcIlxcXFxyXFxcXG5dfFxcXFxcXFxcLikqXFxcInwnKD86W15cXFxcXFxcXCdcXFxcclxcXFxuXXxcXFxcXFxcXC4pKicpXFxcXF18XFxcXFsoMHhbXFxcXGRhLWZBLUZdK3xcXFxcZCpcXFxcLj9cXFxcZCsoPzpbZUVdWystXT9cXFxcZCspPylcXFxcXSkkXCIpO1xuXG4gIElTX1NUUklORyA9IC9eWydcIl0vO1xuXG4gIElTX1JFR0VYID0gL15cXC8vO1xuXG4gIHV0aWxpdHkgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIHJlZjtcbiAgICByZWYgPSBcIl9fXCIgKyBuYW1lO1xuICAgIFNjb3BlLnJvb3QuYXNzaWduKHJlZiwgVVRJTElUSUVTW25hbWVdKCkpO1xuICAgIHJldHVybiByZWY7XG4gIH07XG5cbiAgbXVsdGlkZW50ID0gZnVuY3Rpb24oY29kZSwgdGFiKSB7XG4gICAgY29kZSA9IGNvZGUucmVwbGFjZSgvXFxuL2csICckJicgKyB0YWIpO1xuICAgIHJldHVybiBjb2RlLnJlcGxhY2UoL1xccyskLywgJycpO1xuICB9O1xuXG4gIHBhcnNlTnVtID0gZnVuY3Rpb24oeCkge1xuICAgIGlmICh4ID09IG51bGwpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSBpZiAoeC5tYXRjaChIRVhOVU0pKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQoeCwgMTYpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh4KTtcbiAgICB9XG4gIH07XG5cbiAgaXNMaXRlcmFsQXJndW1lbnRzID0gZnVuY3Rpb24obm9kZSkge1xuICAgIHJldHVybiBub2RlIGluc3RhbmNlb2YgTGl0ZXJhbCAmJiBub2RlLnZhbHVlID09PSAnYXJndW1lbnRzJyAmJiAhbm9kZS5hc0tleTtcbiAgfTtcblxuICBpc0xpdGVyYWxUaGlzID0gZnVuY3Rpb24obm9kZSkge1xuICAgIHJldHVybiAobm9kZSBpbnN0YW5jZW9mIExpdGVyYWwgJiYgbm9kZS52YWx1ZSA9PT0gJ3RoaXMnICYmICFub2RlLmFzS2V5KSB8fCAobm9kZSBpbnN0YW5jZW9mIENvZGUgJiYgbm9kZS5ib3VuZCkgfHwgKG5vZGUgaW5zdGFuY2VvZiBDYWxsICYmIG5vZGUuaXNTdXBlcik7XG4gIH07XG5cbiAgdW5mb2xkU29hayA9IGZ1bmN0aW9uKG8sIHBhcmVudCwgbmFtZSkge1xuICAgIHZhciBpZm47XG4gICAgaWYgKCEoaWZuID0gcGFyZW50W25hbWVdLnVuZm9sZFNvYWsobykpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBhcmVudFtuYW1lXSA9IGlmbi5ib2R5O1xuICAgIGlmbi5ib2R5ID0gbmV3IFZhbHVlKHBhcmVudCk7XG4gICAgcmV0dXJuIGlmbjtcbiAgfTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIihmdW5jdGlvbiAocHJvY2Vzcyl7XG4vKiBwYXJzZXIgZ2VuZXJhdGVkIGJ5IGppc29uIDAuNC4xMyAqL1xuLypcbiAgUmV0dXJucyBhIFBhcnNlciBvYmplY3Qgb2YgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmU6XG5cbiAgUGFyc2VyOiB7XG4gICAgeXk6IHt9XG4gIH1cblxuICBQYXJzZXIucHJvdG90eXBlOiB7XG4gICAgeXk6IHt9LFxuICAgIHRyYWNlOiBmdW5jdGlvbigpLFxuICAgIHN5bWJvbHNfOiB7YXNzb2NpYXRpdmUgbGlzdDogbmFtZSA9PT4gbnVtYmVyfSxcbiAgICB0ZXJtaW5hbHNfOiB7YXNzb2NpYXRpdmUgbGlzdDogbnVtYmVyID09PiBuYW1lfSxcbiAgICBwcm9kdWN0aW9uc186IFsuLi5dLFxuICAgIHBlcmZvcm1BY3Rpb246IGZ1bmN0aW9uIGFub255bW91cyh5eXRleHQsIHl5bGVuZywgeXlsaW5lbm8sIHl5LCB5eXN0YXRlLCAkJCwgXyQpLFxuICAgIHRhYmxlOiBbLi4uXSxcbiAgICBkZWZhdWx0QWN0aW9uczogey4uLn0sXG4gICAgcGFyc2VFcnJvcjogZnVuY3Rpb24oc3RyLCBoYXNoKSxcbiAgICBwYXJzZTogZnVuY3Rpb24oaW5wdXQpLFxuXG4gICAgbGV4ZXI6IHtcbiAgICAgICAgRU9GOiAxLFxuICAgICAgICBwYXJzZUVycm9yOiBmdW5jdGlvbihzdHIsIGhhc2gpLFxuICAgICAgICBzZXRJbnB1dDogZnVuY3Rpb24oaW5wdXQpLFxuICAgICAgICBpbnB1dDogZnVuY3Rpb24oKSxcbiAgICAgICAgdW5wdXQ6IGZ1bmN0aW9uKHN0ciksXG4gICAgICAgIG1vcmU6IGZ1bmN0aW9uKCksXG4gICAgICAgIGxlc3M6IGZ1bmN0aW9uKG4pLFxuICAgICAgICBwYXN0SW5wdXQ6IGZ1bmN0aW9uKCksXG4gICAgICAgIHVwY29taW5nSW5wdXQ6IGZ1bmN0aW9uKCksXG4gICAgICAgIHNob3dQb3NpdGlvbjogZnVuY3Rpb24oKSxcbiAgICAgICAgdGVzdF9tYXRjaDogZnVuY3Rpb24ocmVnZXhfbWF0Y2hfYXJyYXksIHJ1bGVfaW5kZXgpLFxuICAgICAgICBuZXh0OiBmdW5jdGlvbigpLFxuICAgICAgICBsZXg6IGZ1bmN0aW9uKCksXG4gICAgICAgIGJlZ2luOiBmdW5jdGlvbihjb25kaXRpb24pLFxuICAgICAgICBwb3BTdGF0ZTogZnVuY3Rpb24oKSxcbiAgICAgICAgX2N1cnJlbnRSdWxlczogZnVuY3Rpb24oKSxcbiAgICAgICAgdG9wU3RhdGU6IGZ1bmN0aW9uKCksXG4gICAgICAgIHB1c2hTdGF0ZTogZnVuY3Rpb24oY29uZGl0aW9uKSxcblxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICByYW5nZXM6IGJvb2xlYW4gICAgICAgICAgIChvcHRpb25hbDogdHJ1ZSA9PT4gdG9rZW4gbG9jYXRpb24gaW5mbyB3aWxsIGluY2x1ZGUgYSAucmFuZ2VbXSBtZW1iZXIpXG4gICAgICAgICAgICBmbGV4OiBib29sZWFuICAgICAgICAgICAgIChvcHRpb25hbDogdHJ1ZSA9PT4gZmxleC1saWtlIGxleGluZyBiZWhhdmlvdXIgd2hlcmUgdGhlIHJ1bGVzIGFyZSB0ZXN0ZWQgZXhoYXVzdGl2ZWx5IHRvIGZpbmQgdGhlIGxvbmdlc3QgbWF0Y2gpXG4gICAgICAgICAgICBiYWNrdHJhY2tfbGV4ZXI6IGJvb2xlYW4gIChvcHRpb25hbDogdHJ1ZSA9PT4gbGV4ZXIgcmVnZXhlcyBhcmUgdGVzdGVkIGluIG9yZGVyIGFuZCBmb3IgZWFjaCBtYXRjaGluZyByZWdleCB0aGUgYWN0aW9uIGNvZGUgaXMgaW52b2tlZDsgdGhlIGxleGVyIHRlcm1pbmF0ZXMgdGhlIHNjYW4gd2hlbiBhIHRva2VuIGlzIHJldHVybmVkIGJ5IHRoZSBhY3Rpb24gY29kZSlcbiAgICAgICAgfSxcblxuICAgICAgICBwZXJmb3JtQWN0aW9uOiBmdW5jdGlvbih5eSwgeXlfLCAkYXZvaWRpbmdfbmFtZV9jb2xsaXNpb25zLCBZWV9TVEFSVCksXG4gICAgICAgIHJ1bGVzOiBbLi4uXSxcbiAgICAgICAgY29uZGl0aW9uczoge2Fzc29jaWF0aXZlIGxpc3Q6IG5hbWUgPT0+IHNldH0sXG4gICAgfVxuICB9XG5cblxuICB0b2tlbiBsb2NhdGlvbiBpbmZvIChAJCwgXyQsIGV0Yy4pOiB7XG4gICAgZmlyc3RfbGluZTogbixcbiAgICBsYXN0X2xpbmU6IG4sXG4gICAgZmlyc3RfY29sdW1uOiBuLFxuICAgIGxhc3RfY29sdW1uOiBuLFxuICAgIHJhbmdlOiBbc3RhcnRfbnVtYmVyLCBlbmRfbnVtYmVyXSAgICAgICAod2hlcmUgdGhlIG51bWJlcnMgYXJlIGluZGV4ZXMgaW50byB0aGUgaW5wdXQgc3RyaW5nLCByZWd1bGFyIHplcm8tYmFzZWQpXG4gIH1cblxuXG4gIHRoZSBwYXJzZUVycm9yIGZ1bmN0aW9uIHJlY2VpdmVzIGEgJ2hhc2gnIG9iamVjdCB3aXRoIHRoZXNlIG1lbWJlcnMgZm9yIGxleGVyIGFuZCBwYXJzZXIgZXJyb3JzOiB7XG4gICAgdGV4dDogICAgICAgIChtYXRjaGVkIHRleHQpXG4gICAgdG9rZW46ICAgICAgICh0aGUgcHJvZHVjZWQgdGVybWluYWwgdG9rZW4sIGlmIGFueSlcbiAgICBsaW5lOiAgICAgICAgKHl5bGluZW5vKVxuICB9XG4gIHdoaWxlIHBhcnNlciAoZ3JhbW1hcikgZXJyb3JzIHdpbGwgYWxzbyBwcm92aWRlIHRoZXNlIG1lbWJlcnMsIGkuZS4gcGFyc2VyIGVycm9ycyBkZWxpdmVyIGEgc3VwZXJzZXQgb2YgYXR0cmlidXRlczoge1xuICAgIGxvYzogICAgICAgICAoeXlsbG9jKVxuICAgIGV4cGVjdGVkOiAgICAoc3RyaW5nIGRlc2NyaWJpbmcgdGhlIHNldCBvZiBleHBlY3RlZCB0b2tlbnMpXG4gICAgcmVjb3ZlcmFibGU6IChib29sZWFuOiBUUlVFIHdoZW4gdGhlIHBhcnNlciBoYXMgYSBlcnJvciByZWNvdmVyeSBydWxlIGF2YWlsYWJsZSBmb3IgdGhpcyBwYXJ0aWN1bGFyIGVycm9yKVxuICB9XG4qL1xudmFyIHBhcnNlciA9IChmdW5jdGlvbigpe1xudmFyIHBhcnNlciA9IHt0cmFjZTogZnVuY3Rpb24gdHJhY2UoKSB7IH0sXG55eToge30sXG5zeW1ib2xzXzoge1wiZXJyb3JcIjoyLFwiUm9vdFwiOjMsXCJCb2R5XCI6NCxcIkxpbmVcIjo1LFwiVEVSTUlOQVRPUlwiOjYsXCJFeHByZXNzaW9uXCI6NyxcIlN0YXRlbWVudFwiOjgsXCJSZXR1cm5cIjo5LFwiQ29tbWVudFwiOjEwLFwiU1RBVEVNRU5UXCI6MTEsXCJWYWx1ZVwiOjEyLFwiSW52b2NhdGlvblwiOjEzLFwiQ29kZVwiOjE0LFwiT3BlcmF0aW9uXCI6MTUsXCJBc3NpZ25cIjoxNixcIklmXCI6MTcsXCJUcnlcIjoxOCxcIldoaWxlXCI6MTksXCJGb3JcIjoyMCxcIlN3aXRjaFwiOjIxLFwiQ2xhc3NcIjoyMixcIlRocm93XCI6MjMsXCJCbG9ja1wiOjI0LFwiSU5ERU5UXCI6MjUsXCJPVVRERU5UXCI6MjYsXCJJZGVudGlmaWVyXCI6MjcsXCJJREVOVElGSUVSXCI6MjgsXCJBbHBoYU51bWVyaWNcIjoyOSxcIk5VTUJFUlwiOjMwLFwiU1RSSU5HXCI6MzEsXCJMaXRlcmFsXCI6MzIsXCJKU1wiOjMzLFwiUkVHRVhcIjozNCxcIkRFQlVHR0VSXCI6MzUsXCJVTkRFRklORURcIjozNixcIk5VTExcIjozNyxcIkJPT0xcIjozOCxcIkFzc2lnbmFibGVcIjozOSxcIj1cIjo0MCxcIkFzc2lnbk9ialwiOjQxLFwiT2JqQXNzaWduYWJsZVwiOjQyLFwiOlwiOjQzLFwiVGhpc1Byb3BlcnR5XCI6NDQsXCJSRVRVUk5cIjo0NSxcIkhFUkVDT01NRU5UXCI6NDYsXCJQQVJBTV9TVEFSVFwiOjQ3LFwiUGFyYW1MaXN0XCI6NDgsXCJQQVJBTV9FTkRcIjo0OSxcIkZ1bmNHbHlwaFwiOjUwLFwiLT5cIjo1MSxcIj0+XCI6NTIsXCJPcHRDb21tYVwiOjUzLFwiLFwiOjU0LFwiUGFyYW1cIjo1NSxcIlBhcmFtVmFyXCI6NTYsXCIuLi5cIjo1NyxcIkFycmF5XCI6NTgsXCJPYmplY3RcIjo1OSxcIlNwbGF0XCI6NjAsXCJTaW1wbGVBc3NpZ25hYmxlXCI6NjEsXCJBY2Nlc3NvclwiOjYyLFwiUGFyZW50aGV0aWNhbFwiOjYzLFwiUmFuZ2VcIjo2NCxcIlRoaXNcIjo2NSxcIi5cIjo2NixcIj8uXCI6NjcsXCI6OlwiOjY4LFwiPzo6XCI6NjksXCJJbmRleFwiOjcwLFwiSU5ERVhfU1RBUlRcIjo3MSxcIkluZGV4VmFsdWVcIjo3MixcIklOREVYX0VORFwiOjczLFwiSU5ERVhfU09BS1wiOjc0LFwiU2xpY2VcIjo3NSxcIntcIjo3NixcIkFzc2lnbkxpc3RcIjo3NyxcIn1cIjo3OCxcIkNMQVNTXCI6NzksXCJFWFRFTkRTXCI6ODAsXCJPcHRGdW5jRXhpc3RcIjo4MSxcIkFyZ3VtZW50c1wiOjgyLFwiU1VQRVJcIjo4MyxcIkZVTkNfRVhJU1RcIjo4NCxcIkNBTExfU1RBUlRcIjo4NSxcIkNBTExfRU5EXCI6ODYsXCJBcmdMaXN0XCI6ODcsXCJUSElTXCI6ODgsXCJAXCI6ODksXCJbXCI6OTAsXCJdXCI6OTEsXCJSYW5nZURvdHNcIjo5MixcIi4uXCI6OTMsXCJBcmdcIjo5NCxcIlNpbXBsZUFyZ3NcIjo5NSxcIlRSWVwiOjk2LFwiQ2F0Y2hcIjo5NyxcIkZJTkFMTFlcIjo5OCxcIkNBVENIXCI6OTksXCJUSFJPV1wiOjEwMCxcIihcIjoxMDEsXCIpXCI6MTAyLFwiV2hpbGVTb3VyY2VcIjoxMDMsXCJXSElMRVwiOjEwNCxcIldIRU5cIjoxMDUsXCJVTlRJTFwiOjEwNixcIkxvb3BcIjoxMDcsXCJMT09QXCI6MTA4LFwiRm9yQm9keVwiOjEwOSxcIkZPUlwiOjExMCxcIkZvclN0YXJ0XCI6MTExLFwiRm9yU291cmNlXCI6MTEyLFwiRm9yVmFyaWFibGVzXCI6MTEzLFwiT1dOXCI6MTE0LFwiRm9yVmFsdWVcIjoxMTUsXCJGT1JJTlwiOjExNixcIkZPUk9GXCI6MTE3LFwiQllcIjoxMTgsXCJTV0lUQ0hcIjoxMTksXCJXaGVuc1wiOjEyMCxcIkVMU0VcIjoxMjEsXCJXaGVuXCI6MTIyLFwiTEVBRElOR19XSEVOXCI6MTIzLFwiSWZCbG9ja1wiOjEyNCxcIklGXCI6MTI1LFwiUE9TVF9JRlwiOjEyNixcIlVOQVJZXCI6MTI3LFwiVU5BUllfTUFUSFwiOjEyOCxcIi1cIjoxMjksXCIrXCI6MTMwLFwiLS1cIjoxMzEsXCIrK1wiOjEzMixcIj9cIjoxMzMsXCJNQVRIXCI6MTM0LFwiKipcIjoxMzUsXCJTSElGVFwiOjEzNixcIkNPTVBBUkVcIjoxMzcsXCJMT0dJQ1wiOjEzOCxcIlJFTEFUSU9OXCI6MTM5LFwiQ09NUE9VTkRfQVNTSUdOXCI6MTQwLFwiJGFjY2VwdFwiOjAsXCIkZW5kXCI6MX0sXG50ZXJtaW5hbHNfOiB7MjpcImVycm9yXCIsNjpcIlRFUk1JTkFUT1JcIiwxMTpcIlNUQVRFTUVOVFwiLDI1OlwiSU5ERU5UXCIsMjY6XCJPVVRERU5UXCIsMjg6XCJJREVOVElGSUVSXCIsMzA6XCJOVU1CRVJcIiwzMTpcIlNUUklOR1wiLDMzOlwiSlNcIiwzNDpcIlJFR0VYXCIsMzU6XCJERUJVR0dFUlwiLDM2OlwiVU5ERUZJTkVEXCIsMzc6XCJOVUxMXCIsMzg6XCJCT09MXCIsNDA6XCI9XCIsNDM6XCI6XCIsNDU6XCJSRVRVUk5cIiw0NjpcIkhFUkVDT01NRU5UXCIsNDc6XCJQQVJBTV9TVEFSVFwiLDQ5OlwiUEFSQU1fRU5EXCIsNTE6XCItPlwiLDUyOlwiPT5cIiw1NDpcIixcIiw1NzpcIi4uLlwiLDY2OlwiLlwiLDY3OlwiPy5cIiw2ODpcIjo6XCIsNjk6XCI/OjpcIiw3MTpcIklOREVYX1NUQVJUXCIsNzM6XCJJTkRFWF9FTkRcIiw3NDpcIklOREVYX1NPQUtcIiw3NjpcIntcIiw3ODpcIn1cIiw3OTpcIkNMQVNTXCIsODA6XCJFWFRFTkRTXCIsODM6XCJTVVBFUlwiLDg0OlwiRlVOQ19FWElTVFwiLDg1OlwiQ0FMTF9TVEFSVFwiLDg2OlwiQ0FMTF9FTkRcIiw4ODpcIlRISVNcIiw4OTpcIkBcIiw5MDpcIltcIiw5MTpcIl1cIiw5MzpcIi4uXCIsOTY6XCJUUllcIiw5ODpcIkZJTkFMTFlcIiw5OTpcIkNBVENIXCIsMTAwOlwiVEhST1dcIiwxMDE6XCIoXCIsMTAyOlwiKVwiLDEwNDpcIldISUxFXCIsMTA1OlwiV0hFTlwiLDEwNjpcIlVOVElMXCIsMTA4OlwiTE9PUFwiLDExMDpcIkZPUlwiLDExNDpcIk9XTlwiLDExNjpcIkZPUklOXCIsMTE3OlwiRk9ST0ZcIiwxMTg6XCJCWVwiLDExOTpcIlNXSVRDSFwiLDEyMTpcIkVMU0VcIiwxMjM6XCJMRUFESU5HX1dIRU5cIiwxMjU6XCJJRlwiLDEyNjpcIlBPU1RfSUZcIiwxMjc6XCJVTkFSWVwiLDEyODpcIlVOQVJZX01BVEhcIiwxMjk6XCItXCIsMTMwOlwiK1wiLDEzMTpcIi0tXCIsMTMyOlwiKytcIiwxMzM6XCI/XCIsMTM0OlwiTUFUSFwiLDEzNTpcIioqXCIsMTM2OlwiU0hJRlRcIiwxMzc6XCJDT01QQVJFXCIsMTM4OlwiTE9HSUNcIiwxMzk6XCJSRUxBVElPTlwiLDE0MDpcIkNPTVBPVU5EX0FTU0lHTlwifSxcbnByb2R1Y3Rpb25zXzogWzAsWzMsMF0sWzMsMV0sWzQsMV0sWzQsM10sWzQsMl0sWzUsMV0sWzUsMV0sWzgsMV0sWzgsMV0sWzgsMV0sWzcsMV0sWzcsMV0sWzcsMV0sWzcsMV0sWzcsMV0sWzcsMV0sWzcsMV0sWzcsMV0sWzcsMV0sWzcsMV0sWzcsMV0sWzcsMV0sWzI0LDJdLFsyNCwzXSxbMjcsMV0sWzI5LDFdLFsyOSwxXSxbMzIsMV0sWzMyLDFdLFszMiwxXSxbMzIsMV0sWzMyLDFdLFszMiwxXSxbMzIsMV0sWzE2LDNdLFsxNiw0XSxbMTYsNV0sWzQxLDFdLFs0MSwzXSxbNDEsNV0sWzQxLDFdLFs0MiwxXSxbNDIsMV0sWzQyLDFdLFs5LDJdLFs5LDFdLFsxMCwxXSxbMTQsNV0sWzE0LDJdLFs1MCwxXSxbNTAsMV0sWzUzLDBdLFs1MywxXSxbNDgsMF0sWzQ4LDFdLFs0OCwzXSxbNDgsNF0sWzQ4LDZdLFs1NSwxXSxbNTUsMl0sWzU1LDNdLFs1NSwxXSxbNTYsMV0sWzU2LDFdLFs1NiwxXSxbNTYsMV0sWzYwLDJdLFs2MSwxXSxbNjEsMl0sWzYxLDJdLFs2MSwxXSxbMzksMV0sWzM5LDFdLFszOSwxXSxbMTIsMV0sWzEyLDFdLFsxMiwxXSxbMTIsMV0sWzEyLDFdLFs2MiwyXSxbNjIsMl0sWzYyLDJdLFs2MiwyXSxbNjIsMV0sWzYyLDFdLFs3MCwzXSxbNzAsMl0sWzcyLDFdLFs3MiwxXSxbNTksNF0sWzc3LDBdLFs3NywxXSxbNzcsM10sWzc3LDRdLFs3Nyw2XSxbMjIsMV0sWzIyLDJdLFsyMiwzXSxbMjIsNF0sWzIyLDJdLFsyMiwzXSxbMjIsNF0sWzIyLDVdLFsxMywzXSxbMTMsM10sWzEzLDFdLFsxMywyXSxbODEsMF0sWzgxLDFdLFs4MiwyXSxbODIsNF0sWzY1LDFdLFs2NSwxXSxbNDQsMl0sWzU4LDJdLFs1OCw0XSxbOTIsMV0sWzkyLDFdLFs2NCw1XSxbNzUsM10sWzc1LDJdLFs3NSwyXSxbNzUsMV0sWzg3LDFdLFs4NywzXSxbODcsNF0sWzg3LDRdLFs4Nyw2XSxbOTQsMV0sWzk0LDFdLFs5NCwxXSxbOTUsMV0sWzk1LDNdLFsxOCwyXSxbMTgsM10sWzE4LDRdLFsxOCw1XSxbOTcsM10sWzk3LDNdLFs5NywyXSxbMjMsMl0sWzYzLDNdLFs2Myw1XSxbMTAzLDJdLFsxMDMsNF0sWzEwMywyXSxbMTAzLDRdLFsxOSwyXSxbMTksMl0sWzE5LDJdLFsxOSwxXSxbMTA3LDJdLFsxMDcsMl0sWzIwLDJdLFsyMCwyXSxbMjAsMl0sWzEwOSwyXSxbMTA5LDJdLFsxMTEsMl0sWzExMSwzXSxbMTE1LDFdLFsxMTUsMV0sWzExNSwxXSxbMTE1LDFdLFsxMTMsMV0sWzExMywzXSxbMTEyLDJdLFsxMTIsMl0sWzExMiw0XSxbMTEyLDRdLFsxMTIsNF0sWzExMiw2XSxbMTEyLDZdLFsyMSw1XSxbMjEsN10sWzIxLDRdLFsyMSw2XSxbMTIwLDFdLFsxMjAsMl0sWzEyMiwzXSxbMTIyLDRdLFsxMjQsM10sWzEyNCw1XSxbMTcsMV0sWzE3LDNdLFsxNywzXSxbMTcsM10sWzE1LDJdLFsxNSwyXSxbMTUsMl0sWzE1LDJdLFsxNSwyXSxbMTUsMl0sWzE1LDJdLFsxNSwyXSxbMTUsMl0sWzE1LDNdLFsxNSwzXSxbMTUsM10sWzE1LDNdLFsxNSwzXSxbMTUsM10sWzE1LDNdLFsxNSwzXSxbMTUsM10sWzE1LDVdLFsxNSw0XSxbMTUsM11dLFxucGVyZm9ybUFjdGlvbjogZnVuY3Rpb24gYW5vbnltb3VzKHl5dGV4dCwgeXlsZW5nLCB5eWxpbmVubywgeXksIHl5c3RhdGUgLyogYWN0aW9uWzFdICovLCAkJCAvKiB2c3RhY2sgKi8sIF8kIC8qIGxzdGFjayAqLykge1xuLyogdGhpcyA9PSB5eXZhbCAqL1xuXG52YXIgJDAgPSAkJC5sZW5ndGggLSAxO1xuc3dpdGNoICh5eXN0YXRlKSB7XG5jYXNlIDE6cmV0dXJuIHRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSwgXyRbJDBdKShuZXcgeXkuQmxvY2spO1xuYnJlYWs7XG5jYXNlIDI6cmV0dXJuIHRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAzOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSwgXyRbJDBdKSh5eS5CbG9jay53cmFwKFskJFskMF1dKSk7XG5icmVhaztcbmNhc2UgNDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSwgXyRbJDBdKSgkJFskMC0yXS5wdXNoKCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDU6dGhpcy4kID0gJCRbJDAtMV07XG5icmVhaztcbmNhc2UgNjp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgNzp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgODp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgOTp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgMTA6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLCBfJFskMF0pKG5ldyB5eS5MaXRlcmFsKCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDExOnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAxMjp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgMTM6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDE0OnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAxNTp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgMTY6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDE3OnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAxODp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgMTk6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDIwOnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAyMTp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgMjI6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDIzOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKG5ldyB5eS5CbG9jayk7XG5icmVhaztcbmNhc2UgMjQ6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sIF8kWyQwXSkoJCRbJDAtMV0pO1xuYnJlYWs7XG5jYXNlIDI1OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSwgXyRbJDBdKShuZXcgeXkuTGl0ZXJhbCgkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSAyNjp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LkxpdGVyYWwoJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMjc6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLCBfJFskMF0pKG5ldyB5eS5MaXRlcmFsKCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDI4OnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAyOTp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LkxpdGVyYWwoJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMzA6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLCBfJFskMF0pKG5ldyB5eS5MaXRlcmFsKCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDMxOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSwgXyRbJDBdKShuZXcgeXkuTGl0ZXJhbCgkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSAzMjp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LlVuZGVmaW5lZCk7XG5icmVhaztcbmNhc2UgMzM6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLCBfJFskMF0pKG5ldyB5eS5OdWxsKTtcbmJyZWFrO1xuY2FzZSAzNDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LkJvb2woJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMzU6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sIF8kWyQwXSkobmV3IHl5LkFzc2lnbigkJFskMC0yXSwgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMzY6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtM10sIF8kWyQwXSkobmV3IHl5LkFzc2lnbigkJFskMC0zXSwgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMzc6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtNF0sIF8kWyQwXSkobmV3IHl5LkFzc2lnbigkJFskMC00XSwgJCRbJDAtMV0pKTtcbmJyZWFrO1xuY2FzZSAzODp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LlZhbHVlKCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDM5OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKG5ldyB5eS5Bc3NpZ24oeXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0pKG5ldyB5eS5WYWx1ZSgkJFskMC0yXSkpLCAkJFskMF0sICdvYmplY3QnKSk7XG5icmVhaztcbmNhc2UgNDA6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtNF0sIF8kWyQwXSkobmV3IHl5LkFzc2lnbih5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC00XSkobmV3IHl5LlZhbHVlKCQkWyQwLTRdKSksICQkWyQwLTFdLCAnb2JqZWN0JykpO1xuYnJlYWs7XG5jYXNlIDQxOnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSA0Mjp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgNDM6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDQ0OnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSA0NTp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShuZXcgeXkuUmV0dXJuKCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDQ2OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSwgXyRbJDBdKShuZXcgeXkuUmV0dXJuKTtcbmJyZWFrO1xuY2FzZSA0Nzp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LkNvbW1lbnQoJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgNDg6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtNF0sIF8kWyQwXSkobmV3IHl5LkNvZGUoJCRbJDAtM10sICQkWyQwXSwgJCRbJDAtMV0pKTtcbmJyZWFrO1xuY2FzZSA0OTp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShuZXcgeXkuQ29kZShbXSwgJCRbJDBdLCAkJFskMC0xXSkpO1xuYnJlYWs7XG5jYXNlIDUwOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSwgXyRbJDBdKSgnZnVuYycpO1xuYnJlYWs7XG5jYXNlIDUxOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSwgXyRbJDBdKSgnYm91bmRmdW5jJyk7XG5icmVhaztcbmNhc2UgNTI6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDUzOnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSA1NDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkoW10pO1xuYnJlYWs7XG5jYXNlIDU1OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSwgXyRbJDBdKShbJCRbJDBdXSk7XG5icmVhaztcbmNhc2UgNTY6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sIF8kWyQwXSkoJCRbJDAtMl0uY29uY2F0KCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDU3OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLCBfJFskMF0pKCQkWyQwLTNdLmNvbmNhdCgkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSA1ODp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC01XSwgXyRbJDBdKSgkJFskMC01XS5jb25jYXQoJCRbJDAtMl0pKTtcbmJyZWFrO1xuY2FzZSA1OTp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LlBhcmFtKCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDYwOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKG5ldyB5eS5QYXJhbSgkJFskMC0xXSwgbnVsbCwgdHJ1ZSkpO1xuYnJlYWs7XG5jYXNlIDYxOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKG5ldyB5eS5QYXJhbSgkJFskMC0yXSwgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgNjI6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLCBfJFskMF0pKG5ldyB5eS5FeHBhbnNpb24pO1xuYnJlYWs7XG5jYXNlIDYzOnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSA2NDp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgNjU6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDY2OnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSA2Nzp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShuZXcgeXkuU3BsYXQoJCRbJDAtMV0pKTtcbmJyZWFrO1xuY2FzZSA2ODp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LlZhbHVlKCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDY5OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKCQkWyQwLTFdLmFkZCgkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSA3MDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShuZXcgeXkuVmFsdWUoJCRbJDAtMV0sIFtdLmNvbmNhdCgkJFskMF0pKSk7XG5icmVhaztcbmNhc2UgNzE6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDcyOnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSA3Mzp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LlZhbHVlKCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDc0OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSwgXyRbJDBdKShuZXcgeXkuVmFsdWUoJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgNzU6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDc2OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSwgXyRbJDBdKShuZXcgeXkuVmFsdWUoJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgNzc6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLCBfJFskMF0pKG5ldyB5eS5WYWx1ZSgkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSA3ODp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LlZhbHVlKCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDc5OnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSA4MDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShuZXcgeXkuQWNjZXNzKCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDgxOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKG5ldyB5eS5BY2Nlc3MoJCRbJDBdLCAnc29haycpKTtcbmJyZWFrO1xuY2FzZSA4Mjp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShbeXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0pKG5ldyB5eS5BY2Nlc3MobmV3IHl5LkxpdGVyYWwoJ3Byb3RvdHlwZScpKSksIHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSkobmV3IHl5LkFjY2VzcygkJFskMF0pKV0pO1xuYnJlYWs7XG5jYXNlIDgzOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKFt5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSkobmV3IHl5LkFjY2VzcyhuZXcgeXkuTGl0ZXJhbCgncHJvdG90eXBlJyksICdzb2FrJykpLCB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0pKG5ldyB5eS5BY2Nlc3MoJCRbJDBdKSldKTtcbmJyZWFrO1xuY2FzZSA4NDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LkFjY2VzcyhuZXcgeXkuTGl0ZXJhbCgncHJvdG90eXBlJykpKTtcbmJyZWFrO1xuY2FzZSA4NTp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgODY6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sIF8kWyQwXSkoJCRbJDAtMV0pO1xuYnJlYWs7XG5jYXNlIDg3OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKHl5LmV4dGVuZCgkJFskMF0sIHtcbiAgICAgICAgICBzb2FrOiB0cnVlXG4gICAgICAgIH0pKTtcbmJyZWFrO1xuY2FzZSA4ODp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LkluZGV4KCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDg5OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSwgXyRbJDBdKShuZXcgeXkuU2xpY2UoJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgOTA6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtM10sIF8kWyQwXSkobmV3IHl5Lk9iaigkJFskMC0yXSwgJCRbJDAtM10uZ2VuZXJhdGVkKSk7XG5icmVhaztcbmNhc2UgOTE6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLCBfJFskMF0pKFtdKTtcbmJyZWFrO1xuY2FzZSA5Mjp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkoWyQkWyQwXV0pO1xuYnJlYWs7XG5jYXNlIDkzOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKCQkWyQwLTJdLmNvbmNhdCgkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSA5NDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0zXSwgXyRbJDBdKSgkJFskMC0zXS5jb25jYXQoJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgOTU6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtNV0sIF8kWyQwXSkoJCRbJDAtNV0uY29uY2F0KCQkWyQwLTJdKSk7XG5icmVhaztcbmNhc2UgOTY6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLCBfJFskMF0pKG5ldyB5eS5DbGFzcyk7XG5icmVhaztcbmNhc2UgOTc6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sIF8kWyQwXSkobmV3IHl5LkNsYXNzKG51bGwsIG51bGwsICQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDk4OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKG5ldyB5eS5DbGFzcyhudWxsLCAkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSA5OTp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0zXSwgXyRbJDBdKShuZXcgeXkuQ2xhc3MobnVsbCwgJCRbJDAtMV0sICQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDEwMDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShuZXcgeXkuQ2xhc3MoJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTAxOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKG5ldyB5eS5DbGFzcygkJFskMC0xXSwgbnVsbCwgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTAyOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLCBfJFskMF0pKG5ldyB5eS5DbGFzcygkJFskMC0yXSwgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTAzOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTRdLCBfJFskMF0pKG5ldyB5eS5DbGFzcygkJFskMC0zXSwgJCRbJDAtMV0sICQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDEwNDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSwgXyRbJDBdKShuZXcgeXkuQ2FsbCgkJFskMC0yXSwgJCRbJDBdLCAkJFskMC0xXSkpO1xuYnJlYWs7XG5jYXNlIDEwNTp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSwgXyRbJDBdKShuZXcgeXkuQ2FsbCgkJFskMC0yXSwgJCRbJDBdLCAkJFskMC0xXSkpO1xuYnJlYWs7XG5jYXNlIDEwNjp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LkNhbGwoJ3N1cGVyJywgW25ldyB5eS5TcGxhdChuZXcgeXkuTGl0ZXJhbCgnYXJndW1lbnRzJykpXSkpO1xuYnJlYWs7XG5jYXNlIDEwNzp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShuZXcgeXkuQ2FsbCgnc3VwZXInLCAkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSAxMDg6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLCBfJFskMF0pKGZhbHNlKTtcbmJyZWFrO1xuY2FzZSAxMDk6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLCBfJFskMF0pKHRydWUpO1xuYnJlYWs7XG5jYXNlIDExMDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShbXSk7XG5icmVhaztcbmNhc2UgMTExOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLCBfJFskMF0pKCQkWyQwLTJdKTtcbmJyZWFrO1xuY2FzZSAxMTI6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLCBfJFskMF0pKG5ldyB5eS5WYWx1ZShuZXcgeXkuTGl0ZXJhbCgndGhpcycpKSk7XG5icmVhaztcbmNhc2UgMTEzOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSwgXyRbJDBdKShuZXcgeXkuVmFsdWUobmV3IHl5LkxpdGVyYWwoJ3RoaXMnKSkpO1xuYnJlYWs7XG5jYXNlIDExNDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShuZXcgeXkuVmFsdWUoeXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0pKG5ldyB5eS5MaXRlcmFsKCd0aGlzJykpLCBbeXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdKShuZXcgeXkuQWNjZXNzKCQkWyQwXSkpXSwgJ3RoaXMnKSk7XG5icmVhaztcbmNhc2UgMTE1OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKG5ldyB5eS5BcnIoW10pKTtcbmJyZWFrO1xuY2FzZSAxMTY6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtM10sIF8kWyQwXSkobmV3IHl5LkFycigkJFskMC0yXSkpO1xuYnJlYWs7XG5jYXNlIDExNzp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkoJ2luY2x1c2l2ZScpO1xuYnJlYWs7XG5jYXNlIDExODp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkoJ2V4Y2x1c2l2ZScpO1xuYnJlYWs7XG5jYXNlIDExOTp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC00XSwgXyRbJDBdKShuZXcgeXkuUmFuZ2UoJCRbJDAtM10sICQkWyQwLTFdLCAkJFskMC0yXSkpO1xuYnJlYWs7XG5jYXNlIDEyMDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSwgXyRbJDBdKShuZXcgeXkuUmFuZ2UoJCRbJDAtMl0sICQkWyQwXSwgJCRbJDAtMV0pKTtcbmJyZWFrO1xuY2FzZSAxMjE6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sIF8kWyQwXSkobmV3IHl5LlJhbmdlKCQkWyQwLTFdLCBudWxsLCAkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSAxMjI6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sIF8kWyQwXSkobmV3IHl5LlJhbmdlKG51bGwsICQkWyQwXSwgJCRbJDAtMV0pKTtcbmJyZWFrO1xuY2FzZSAxMjM6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLCBfJFskMF0pKG5ldyB5eS5SYW5nZShudWxsLCBudWxsLCAkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSAxMjQ6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLCBfJFskMF0pKFskJFskMF1dKTtcbmJyZWFrO1xuY2FzZSAxMjU6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sIF8kWyQwXSkoJCRbJDAtMl0uY29uY2F0KCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDEyNjp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0zXSwgXyRbJDBdKSgkJFskMC0zXS5jb25jYXQoJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTI3OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLCBfJFskMF0pKCQkWyQwLTJdKTtcbmJyZWFrO1xuY2FzZSAxMjg6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtNV0sIF8kWyQwXSkoJCRbJDAtNV0uY29uY2F0KCQkWyQwLTJdKSk7XG5icmVhaztcbmNhc2UgMTI5OnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAxMzA6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDEzMTp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LkV4cGFuc2lvbik7XG5icmVhaztcbmNhc2UgMTMyOnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAxMzM6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sIF8kWyQwXSkoW10uY29uY2F0KCQkWyQwLTJdLCAkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSAxMzQ6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sIF8kWyQwXSkobmV3IHl5LlRyeSgkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSAxMzU6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sIF8kWyQwXSkobmV3IHl5LlRyeSgkJFskMC0xXSwgJCRbJDBdWzBdLCAkJFskMF1bMV0pKTtcbmJyZWFrO1xuY2FzZSAxMzY6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtM10sIF8kWyQwXSkobmV3IHl5LlRyeSgkJFskMC0yXSwgbnVsbCwgbnVsbCwgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTM3OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTRdLCBfJFskMF0pKG5ldyB5eS5UcnkoJCRbJDAtM10sICQkWyQwLTJdWzBdLCAkJFskMC0yXVsxXSwgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTM4OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKFskJFskMC0xXSwgJCRbJDBdXSk7XG5icmVhaztcbmNhc2UgMTM5OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKFt5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSkobmV3IHl5LlZhbHVlKCQkWyQwLTFdKSksICQkWyQwXV0pO1xuYnJlYWs7XG5jYXNlIDE0MDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShbbnVsbCwgJCRbJDBdXSk7XG5icmVhaztcbmNhc2UgMTQxOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKG5ldyB5eS5UaHJvdygkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSAxNDI6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sIF8kWyQwXSkobmV3IHl5LlBhcmVucygkJFskMC0xXSkpO1xuYnJlYWs7XG5jYXNlIDE0Mzp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC00XSwgXyRbJDBdKShuZXcgeXkuUGFyZW5zKCQkWyQwLTJdKSk7XG5icmVhaztcbmNhc2UgMTQ0OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKG5ldyB5eS5XaGlsZSgkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSAxNDU6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtM10sIF8kWyQwXSkobmV3IHl5LldoaWxlKCQkWyQwLTJdLCB7XG4gICAgICAgICAgZ3VhcmQ6ICQkWyQwXVxuICAgICAgICB9KSk7XG5icmVhaztcbmNhc2UgMTQ2OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKG5ldyB5eS5XaGlsZSgkJFskMF0sIHtcbiAgICAgICAgICBpbnZlcnQ6IHRydWVcbiAgICAgICAgfSkpO1xuYnJlYWs7XG5jYXNlIDE0Nzp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0zXSwgXyRbJDBdKShuZXcgeXkuV2hpbGUoJCRbJDAtMl0sIHtcbiAgICAgICAgICBpbnZlcnQ6IHRydWUsXG4gICAgICAgICAgZ3VhcmQ6ICQkWyQwXVxuICAgICAgICB9KSk7XG5icmVhaztcbmNhc2UgMTQ4OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKCQkWyQwLTFdLmFkZEJvZHkoJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTQ5OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKCQkWyQwXS5hZGRCb2R5KHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdKSh5eS5CbG9jay53cmFwKFskJFskMC0xXV0pKSkpO1xuYnJlYWs7XG5jYXNlIDE1MDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKSgkJFskMF0uYWRkQm9keSh5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSkoeXkuQmxvY2sud3JhcChbJCRbJDAtMV1dKSkpKTtcbmJyZWFrO1xuY2FzZSAxNTE6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLCBfJFskMF0pKCQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTUyOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKG5ldyB5eS5XaGlsZSh5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSkobmV3IHl5LkxpdGVyYWwoJ3RydWUnKSkpLmFkZEJvZHkoJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTUzOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKG5ldyB5eS5XaGlsZSh5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSkobmV3IHl5LkxpdGVyYWwoJ3RydWUnKSkpLmFkZEJvZHkoeXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdKSh5eS5CbG9jay53cmFwKFskJFskMF1dKSkpKTtcbmJyZWFrO1xuY2FzZSAxNTQ6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sIF8kWyQwXSkobmV3IHl5LkZvcigkJFskMC0xXSwgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTU1OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKG5ldyB5eS5Gb3IoJCRbJDAtMV0sICQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDE1Njp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShuZXcgeXkuRm9yKCQkWyQwXSwgJCRbJDAtMV0pKTtcbmJyZWFrO1xuY2FzZSAxNTc6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sIF8kWyQwXSkoe1xuICAgICAgICAgIHNvdXJjZTogeXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdKShuZXcgeXkuVmFsdWUoJCRbJDBdKSlcbiAgICAgICAgfSk7XG5icmVhaztcbmNhc2UgMTU4OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKChmdW5jdGlvbiAoKSB7XG4gICAgICAgICQkWyQwXS5vd24gPSAkJFskMC0xXS5vd247XG4gICAgICAgICQkWyQwXS5uYW1lID0gJCRbJDAtMV1bMF07XG4gICAgICAgICQkWyQwXS5pbmRleCA9ICQkWyQwLTFdWzFdO1xuICAgICAgICByZXR1cm4gJCRbJDBdO1xuICAgICAgfSgpKSk7XG5icmVhaztcbmNhc2UgMTU5OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKCQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTYwOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKChmdW5jdGlvbiAoKSB7XG4gICAgICAgICQkWyQwXS5vd24gPSB0cnVlO1xuICAgICAgICByZXR1cm4gJCRbJDBdO1xuICAgICAgfSgpKSk7XG5icmVhaztcbmNhc2UgMTYxOnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAxNjI6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDE2Mzp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LlZhbHVlKCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDE2NDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkobmV3IHl5LlZhbHVlKCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDE2NTp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sIF8kWyQwXSkoWyQkWyQwXV0pO1xuYnJlYWs7XG5jYXNlIDE2Njp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSwgXyRbJDBdKShbJCRbJDAtMl0sICQkWyQwXV0pO1xuYnJlYWs7XG5jYXNlIDE2Nzp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKSh7XG4gICAgICAgICAgc291cmNlOiAkJFskMF1cbiAgICAgICAgfSk7XG5icmVhaztcbmNhc2UgMTY4OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKHtcbiAgICAgICAgICBzb3VyY2U6ICQkWyQwXSxcbiAgICAgICAgICBvYmplY3Q6IHRydWVcbiAgICAgICAgfSk7XG5icmVhaztcbmNhc2UgMTY5OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLCBfJFskMF0pKHtcbiAgICAgICAgICBzb3VyY2U6ICQkWyQwLTJdLFxuICAgICAgICAgIGd1YXJkOiAkJFskMF1cbiAgICAgICAgfSk7XG5icmVhaztcbmNhc2UgMTcwOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLCBfJFskMF0pKHtcbiAgICAgICAgICBzb3VyY2U6ICQkWyQwLTJdLFxuICAgICAgICAgIGd1YXJkOiAkJFskMF0sXG4gICAgICAgICAgb2JqZWN0OiB0cnVlXG4gICAgICAgIH0pO1xuYnJlYWs7XG5jYXNlIDE3MTp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0zXSwgXyRbJDBdKSh7XG4gICAgICAgICAgc291cmNlOiAkJFskMC0yXSxcbiAgICAgICAgICBzdGVwOiAkJFskMF1cbiAgICAgICAgfSk7XG5icmVhaztcbmNhc2UgMTcyOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTVdLCBfJFskMF0pKHtcbiAgICAgICAgICBzb3VyY2U6ICQkWyQwLTRdLFxuICAgICAgICAgIGd1YXJkOiAkJFskMC0yXSxcbiAgICAgICAgICBzdGVwOiAkJFskMF1cbiAgICAgICAgfSk7XG5icmVhaztcbmNhc2UgMTczOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTVdLCBfJFskMF0pKHtcbiAgICAgICAgICBzb3VyY2U6ICQkWyQwLTRdLFxuICAgICAgICAgIHN0ZXA6ICQkWyQwLTJdLFxuICAgICAgICAgIGd1YXJkOiAkJFskMF1cbiAgICAgICAgfSk7XG5icmVhaztcbmNhc2UgMTc0OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTRdLCBfJFskMF0pKG5ldyB5eS5Td2l0Y2goJCRbJDAtM10sICQkWyQwLTFdKSk7XG5icmVhaztcbmNhc2UgMTc1OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTZdLCBfJFskMF0pKG5ldyB5eS5Td2l0Y2goJCRbJDAtNV0sICQkWyQwLTNdLCAkJFskMC0xXSkpO1xuYnJlYWs7XG5jYXNlIDE3Njp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0zXSwgXyRbJDBdKShuZXcgeXkuU3dpdGNoKG51bGwsICQkWyQwLTFdKSk7XG5icmVhaztcbmNhc2UgMTc3OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTVdLCBfJFskMF0pKG5ldyB5eS5Td2l0Y2gobnVsbCwgJCRbJDAtM10sICQkWyQwLTFdKSk7XG5icmVhaztcbmNhc2UgMTc4OnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAxNzk6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sIF8kWyQwXSkoJCRbJDAtMV0uY29uY2F0KCQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDE4MDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSwgXyRbJDBdKShbWyQkWyQwLTFdLCAkJFskMF1dXSk7XG5icmVhaztcbmNhc2UgMTgxOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLCBfJFskMF0pKFtbJCRbJDAtMl0sICQkWyQwLTFdXV0pO1xuYnJlYWs7XG5jYXNlIDE4Mjp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSwgXyRbJDBdKShuZXcgeXkuSWYoJCRbJDAtMV0sICQkWyQwXSwge1xuICAgICAgICAgIHR5cGU6ICQkWyQwLTJdXG4gICAgICAgIH0pKTtcbmJyZWFrO1xuY2FzZSAxODM6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtNF0sIF8kWyQwXSkoJCRbJDAtNF0uYWRkRWxzZSh5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSwgXyRbJDBdKShuZXcgeXkuSWYoJCRbJDAtMV0sICQkWyQwXSwge1xuICAgICAgICAgIHR5cGU6ICQkWyQwLTJdXG4gICAgICAgIH0pKSkpO1xuYnJlYWs7XG5jYXNlIDE4NDp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgMTg1OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKCQkWyQwLTJdLmFkZEVsc2UoJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTg2OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKG5ldyB5eS5JZigkJFskMF0sIHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdKSh5eS5CbG9jay53cmFwKFskJFskMC0yXV0pKSwge1xuICAgICAgICAgIHR5cGU6ICQkWyQwLTFdLFxuICAgICAgICAgIHN0YXRlbWVudDogdHJ1ZVxuICAgICAgICB9KSk7XG5icmVhaztcbmNhc2UgMTg3OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKG5ldyB5eS5JZigkJFskMF0sIHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdKSh5eS5CbG9jay53cmFwKFskJFskMC0yXV0pKSwge1xuICAgICAgICAgIHR5cGU6ICQkWyQwLTFdLFxuICAgICAgICAgIHN0YXRlbWVudDogdHJ1ZVxuICAgICAgICB9KSk7XG5icmVhaztcbmNhc2UgMTg4OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKG5ldyB5eS5PcCgkJFskMC0xXSwgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTg5OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKG5ldyB5eS5PcCgkJFskMC0xXSwgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTkwOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKG5ldyB5eS5PcCgnLScsICQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDE5MTp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShuZXcgeXkuT3AoJysnLCAkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSAxOTI6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sIF8kWyQwXSkobmV3IHl5Lk9wKCctLScsICQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDE5Mzp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShuZXcgeXkuT3AoJysrJywgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTk0OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLCBfJFskMF0pKG5ldyB5eS5PcCgnLS0nLCAkJFskMC0xXSwgbnVsbCwgdHJ1ZSkpO1xuYnJlYWs7XG5jYXNlIDE5NTp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSwgXyRbJDBdKShuZXcgeXkuT3AoJysrJywgJCRbJDAtMV0sIG51bGwsIHRydWUpKTtcbmJyZWFrO1xuY2FzZSAxOTY6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sIF8kWyQwXSkobmV3IHl5LkV4aXN0ZW5jZSgkJFskMC0xXSkpO1xuYnJlYWs7XG5jYXNlIDE5Nzp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSwgXyRbJDBdKShuZXcgeXkuT3AoJysnLCAkJFskMC0yXSwgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMTk4OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKG5ldyB5eS5PcCgnLScsICQkWyQwLTJdLCAkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSAxOTk6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sIF8kWyQwXSkobmV3IHl5Lk9wKCQkWyQwLTFdLCAkJFskMC0yXSwgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMjAwOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKG5ldyB5eS5PcCgkJFskMC0xXSwgJCRbJDAtMl0sICQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDIwMTp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSwgXyRbJDBdKShuZXcgeXkuT3AoJCRbJDAtMV0sICQkWyQwLTJdLCAkJFskMF0pKTtcbmJyZWFrO1xuY2FzZSAyMDI6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sIF8kWyQwXSkobmV3IHl5Lk9wKCQkWyQwLTFdLCAkJFskMC0yXSwgJCRbJDBdKSk7XG5icmVhaztcbmNhc2UgMjAzOnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKG5ldyB5eS5PcCgkJFskMC0xXSwgJCRbJDAtMl0sICQkWyQwXSkpO1xuYnJlYWs7XG5jYXNlIDIwNDp0aGlzLiQgPSB5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSwgXyRbJDBdKSgoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJCRbJDAtMV0uY2hhckF0KDApID09PSAnIScpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IHl5Lk9wKCQkWyQwLTFdLnNsaWNlKDEpLCAkJFskMC0yXSwgJCRbJDBdKS5pbnZlcnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbmV3IHl5Lk9wKCQkWyQwLTFdLCAkJFskMC0yXSwgJCRbJDBdKTtcbiAgICAgICAgfVxuICAgICAgfSgpKSk7XG5icmVhaztcbmNhc2UgMjA1OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLCBfJFskMF0pKG5ldyB5eS5Bc3NpZ24oJCRbJDAtMl0sICQkWyQwXSwgJCRbJDAtMV0pKTtcbmJyZWFrO1xuY2FzZSAyMDY6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtNF0sIF8kWyQwXSkobmV3IHl5LkFzc2lnbigkJFskMC00XSwgJCRbJDAtMV0sICQkWyQwLTNdKSk7XG5icmVhaztcbmNhc2UgMjA3OnRoaXMuJCA9IHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLCBfJFskMF0pKG5ldyB5eS5Bc3NpZ24oJCRbJDAtM10sICQkWyQwXSwgJCRbJDAtMl0pKTtcbmJyZWFrO1xuY2FzZSAyMDg6dGhpcy4kID0geXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sIF8kWyQwXSkobmV3IHl5LkV4dGVuZHMoJCRbJDAtMl0sICQkWyQwXSkpO1xuYnJlYWs7XG59XG59LFxudGFibGU6IFt7MTpbMiwxXSwzOjEsNDoyLDU6Myw3OjQsODo1LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHsxOlszXX0sezE6WzIsMl0sNjpbMSw3M119LHsxOlsyLDNdLDY6WzIsM10sMjY6WzIsM10sMTAyOlsyLDNdfSx7MTpbMiw2XSw2OlsyLDZdLDI2OlsyLDZdLDEwMjpbMiw2XSwxMDM6ODQsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwOTo4NSwxMTA6WzEsNjddLDExMTo2OCwxMjY6WzEsODNdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7MTpbMiw3XSw2OlsyLDddLDI2OlsyLDddLDEwMjpbMiw3XSwxMDM6ODcsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwOTo4OCwxMTA6WzEsNjddLDExMTo2OCwxMjY6WzEsODZdfSx7MTpbMiwxMV0sNjpbMiwxMV0sMjU6WzIsMTFdLDI2OlsyLDExXSw0OTpbMiwxMV0sNTQ6WzIsMTFdLDU3OlsyLDExXSw2Mjo5MCw2NjpbMSw5Ml0sNjc6WzEsOTNdLDY4OlsxLDk0XSw2OTpbMSw5NV0sNzA6OTYsNzE6WzEsOTddLDczOlsyLDExXSw3NDpbMSw5OF0sNzg6WzIsMTFdLDgxOjg5LDg0OlsxLDkxXSw4NTpbMiwxMDhdLDg2OlsyLDExXSw5MTpbMiwxMV0sOTM6WzIsMTFdLDEwMjpbMiwxMV0sMTA0OlsyLDExXSwxMDU6WzIsMTFdLDEwNjpbMiwxMV0sMTEwOlsyLDExXSwxMTg6WzIsMTFdLDEyNjpbMiwxMV0sMTI5OlsyLDExXSwxMzA6WzIsMTFdLDEzMzpbMiwxMV0sMTM0OlsyLDExXSwxMzU6WzIsMTFdLDEzNjpbMiwxMV0sMTM3OlsyLDExXSwxMzg6WzIsMTFdLDEzOTpbMiwxMV19LHsxOlsyLDEyXSw2OlsyLDEyXSwyNTpbMiwxMl0sMjY6WzIsMTJdLDQ5OlsyLDEyXSw1NDpbMiwxMl0sNTc6WzIsMTJdLDYyOjEwMCw2NjpbMSw5Ml0sNjc6WzEsOTNdLDY4OlsxLDk0XSw2OTpbMSw5NV0sNzA6OTYsNzE6WzEsOTddLDczOlsyLDEyXSw3NDpbMSw5OF0sNzg6WzIsMTJdLDgxOjk5LDg0OlsxLDkxXSw4NTpbMiwxMDhdLDg2OlsyLDEyXSw5MTpbMiwxMl0sOTM6WzIsMTJdLDEwMjpbMiwxMl0sMTA0OlsyLDEyXSwxMDU6WzIsMTJdLDEwNjpbMiwxMl0sMTEwOlsyLDEyXSwxMTg6WzIsMTJdLDEyNjpbMiwxMl0sMTI5OlsyLDEyXSwxMzA6WzIsMTJdLDEzMzpbMiwxMl0sMTM0OlsyLDEyXSwxMzU6WzIsMTJdLDEzNjpbMiwxMl0sMTM3OlsyLDEyXSwxMzg6WzIsMTJdLDEzOTpbMiwxMl19LHsxOlsyLDEzXSw2OlsyLDEzXSwyNTpbMiwxM10sMjY6WzIsMTNdLDQ5OlsyLDEzXSw1NDpbMiwxM10sNTc6WzIsMTNdLDczOlsyLDEzXSw3ODpbMiwxM10sODY6WzIsMTNdLDkxOlsyLDEzXSw5MzpbMiwxM10sMTAyOlsyLDEzXSwxMDQ6WzIsMTNdLDEwNTpbMiwxM10sMTA2OlsyLDEzXSwxMTA6WzIsMTNdLDExODpbMiwxM10sMTI2OlsyLDEzXSwxMjk6WzIsMTNdLDEzMDpbMiwxM10sMTMzOlsyLDEzXSwxMzQ6WzIsMTNdLDEzNTpbMiwxM10sMTM2OlsyLDEzXSwxMzc6WzIsMTNdLDEzODpbMiwxM10sMTM5OlsyLDEzXX0sezE6WzIsMTRdLDY6WzIsMTRdLDI1OlsyLDE0XSwyNjpbMiwxNF0sNDk6WzIsMTRdLDU0OlsyLDE0XSw1NzpbMiwxNF0sNzM6WzIsMTRdLDc4OlsyLDE0XSw4NjpbMiwxNF0sOTE6WzIsMTRdLDkzOlsyLDE0XSwxMDI6WzIsMTRdLDEwNDpbMiwxNF0sMTA1OlsyLDE0XSwxMDY6WzIsMTRdLDExMDpbMiwxNF0sMTE4OlsyLDE0XSwxMjY6WzIsMTRdLDEyOTpbMiwxNF0sMTMwOlsyLDE0XSwxMzM6WzIsMTRdLDEzNDpbMiwxNF0sMTM1OlsyLDE0XSwxMzY6WzIsMTRdLDEzNzpbMiwxNF0sMTM4OlsyLDE0XSwxMzk6WzIsMTRdfSx7MTpbMiwxNV0sNjpbMiwxNV0sMjU6WzIsMTVdLDI2OlsyLDE1XSw0OTpbMiwxNV0sNTQ6WzIsMTVdLDU3OlsyLDE1XSw3MzpbMiwxNV0sNzg6WzIsMTVdLDg2OlsyLDE1XSw5MTpbMiwxNV0sOTM6WzIsMTVdLDEwMjpbMiwxNV0sMTA0OlsyLDE1XSwxMDU6WzIsMTVdLDEwNjpbMiwxNV0sMTEwOlsyLDE1XSwxMTg6WzIsMTVdLDEyNjpbMiwxNV0sMTI5OlsyLDE1XSwxMzA6WzIsMTVdLDEzMzpbMiwxNV0sMTM0OlsyLDE1XSwxMzU6WzIsMTVdLDEzNjpbMiwxNV0sMTM3OlsyLDE1XSwxMzg6WzIsMTVdLDEzOTpbMiwxNV19LHsxOlsyLDE2XSw2OlsyLDE2XSwyNTpbMiwxNl0sMjY6WzIsMTZdLDQ5OlsyLDE2XSw1NDpbMiwxNl0sNTc6WzIsMTZdLDczOlsyLDE2XSw3ODpbMiwxNl0sODY6WzIsMTZdLDkxOlsyLDE2XSw5MzpbMiwxNl0sMTAyOlsyLDE2XSwxMDQ6WzIsMTZdLDEwNTpbMiwxNl0sMTA2OlsyLDE2XSwxMTA6WzIsMTZdLDExODpbMiwxNl0sMTI2OlsyLDE2XSwxMjk6WzIsMTZdLDEzMDpbMiwxNl0sMTMzOlsyLDE2XSwxMzQ6WzIsMTZdLDEzNTpbMiwxNl0sMTM2OlsyLDE2XSwxMzc6WzIsMTZdLDEzODpbMiwxNl0sMTM5OlsyLDE2XX0sezE6WzIsMTddLDY6WzIsMTddLDI1OlsyLDE3XSwyNjpbMiwxN10sNDk6WzIsMTddLDU0OlsyLDE3XSw1NzpbMiwxN10sNzM6WzIsMTddLDc4OlsyLDE3XSw4NjpbMiwxN10sOTE6WzIsMTddLDkzOlsyLDE3XSwxMDI6WzIsMTddLDEwNDpbMiwxN10sMTA1OlsyLDE3XSwxMDY6WzIsMTddLDExMDpbMiwxN10sMTE4OlsyLDE3XSwxMjY6WzIsMTddLDEyOTpbMiwxN10sMTMwOlsyLDE3XSwxMzM6WzIsMTddLDEzNDpbMiwxN10sMTM1OlsyLDE3XSwxMzY6WzIsMTddLDEzNzpbMiwxN10sMTM4OlsyLDE3XSwxMzk6WzIsMTddfSx7MTpbMiwxOF0sNjpbMiwxOF0sMjU6WzIsMThdLDI2OlsyLDE4XSw0OTpbMiwxOF0sNTQ6WzIsMThdLDU3OlsyLDE4XSw3MzpbMiwxOF0sNzg6WzIsMThdLDg2OlsyLDE4XSw5MTpbMiwxOF0sOTM6WzIsMThdLDEwMjpbMiwxOF0sMTA0OlsyLDE4XSwxMDU6WzIsMThdLDEwNjpbMiwxOF0sMTEwOlsyLDE4XSwxMTg6WzIsMThdLDEyNjpbMiwxOF0sMTI5OlsyLDE4XSwxMzA6WzIsMThdLDEzMzpbMiwxOF0sMTM0OlsyLDE4XSwxMzU6WzIsMThdLDEzNjpbMiwxOF0sMTM3OlsyLDE4XSwxMzg6WzIsMThdLDEzOTpbMiwxOF19LHsxOlsyLDE5XSw2OlsyLDE5XSwyNTpbMiwxOV0sMjY6WzIsMTldLDQ5OlsyLDE5XSw1NDpbMiwxOV0sNTc6WzIsMTldLDczOlsyLDE5XSw3ODpbMiwxOV0sODY6WzIsMTldLDkxOlsyLDE5XSw5MzpbMiwxOV0sMTAyOlsyLDE5XSwxMDQ6WzIsMTldLDEwNTpbMiwxOV0sMTA2OlsyLDE5XSwxMTA6WzIsMTldLDExODpbMiwxOV0sMTI2OlsyLDE5XSwxMjk6WzIsMTldLDEzMDpbMiwxOV0sMTMzOlsyLDE5XSwxMzQ6WzIsMTldLDEzNTpbMiwxOV0sMTM2OlsyLDE5XSwxMzc6WzIsMTldLDEzODpbMiwxOV0sMTM5OlsyLDE5XX0sezE6WzIsMjBdLDY6WzIsMjBdLDI1OlsyLDIwXSwyNjpbMiwyMF0sNDk6WzIsMjBdLDU0OlsyLDIwXSw1NzpbMiwyMF0sNzM6WzIsMjBdLDc4OlsyLDIwXSw4NjpbMiwyMF0sOTE6WzIsMjBdLDkzOlsyLDIwXSwxMDI6WzIsMjBdLDEwNDpbMiwyMF0sMTA1OlsyLDIwXSwxMDY6WzIsMjBdLDExMDpbMiwyMF0sMTE4OlsyLDIwXSwxMjY6WzIsMjBdLDEyOTpbMiwyMF0sMTMwOlsyLDIwXSwxMzM6WzIsMjBdLDEzNDpbMiwyMF0sMTM1OlsyLDIwXSwxMzY6WzIsMjBdLDEzNzpbMiwyMF0sMTM4OlsyLDIwXSwxMzk6WzIsMjBdfSx7MTpbMiwyMV0sNjpbMiwyMV0sMjU6WzIsMjFdLDI2OlsyLDIxXSw0OTpbMiwyMV0sNTQ6WzIsMjFdLDU3OlsyLDIxXSw3MzpbMiwyMV0sNzg6WzIsMjFdLDg2OlsyLDIxXSw5MTpbMiwyMV0sOTM6WzIsMjFdLDEwMjpbMiwyMV0sMTA0OlsyLDIxXSwxMDU6WzIsMjFdLDEwNjpbMiwyMV0sMTEwOlsyLDIxXSwxMTg6WzIsMjFdLDEyNjpbMiwyMV0sMTI5OlsyLDIxXSwxMzA6WzIsMjFdLDEzMzpbMiwyMV0sMTM0OlsyLDIxXSwxMzU6WzIsMjFdLDEzNjpbMiwyMV0sMTM3OlsyLDIxXSwxMzg6WzIsMjFdLDEzOTpbMiwyMV19LHsxOlsyLDIyXSw2OlsyLDIyXSwyNTpbMiwyMl0sMjY6WzIsMjJdLDQ5OlsyLDIyXSw1NDpbMiwyMl0sNTc6WzIsMjJdLDczOlsyLDIyXSw3ODpbMiwyMl0sODY6WzIsMjJdLDkxOlsyLDIyXSw5MzpbMiwyMl0sMTAyOlsyLDIyXSwxMDQ6WzIsMjJdLDEwNTpbMiwyMl0sMTA2OlsyLDIyXSwxMTA6WzIsMjJdLDExODpbMiwyMl0sMTI2OlsyLDIyXSwxMjk6WzIsMjJdLDEzMDpbMiwyMl0sMTMzOlsyLDIyXSwxMzQ6WzIsMjJdLDEzNTpbMiwyMl0sMTM2OlsyLDIyXSwxMzc6WzIsMjJdLDEzODpbMiwyMl0sMTM5OlsyLDIyXX0sezE6WzIsOF0sNjpbMiw4XSwyNjpbMiw4XSwxMDI6WzIsOF0sMTA0OlsyLDhdLDEwNjpbMiw4XSwxMTA6WzIsOF0sMTI2OlsyLDhdfSx7MTpbMiw5XSw2OlsyLDldLDI2OlsyLDldLDEwMjpbMiw5XSwxMDQ6WzIsOV0sMTA2OlsyLDldLDExMDpbMiw5XSwxMjY6WzIsOV19LHsxOlsyLDEwXSw2OlsyLDEwXSwyNjpbMiwxMF0sMTAyOlsyLDEwXSwxMDQ6WzIsMTBdLDEwNjpbMiwxMF0sMTEwOlsyLDEwXSwxMjY6WzIsMTBdfSx7MTpbMiw3NV0sNjpbMiw3NV0sMjU6WzIsNzVdLDI2OlsyLDc1XSw0MDpbMSwxMDFdLDQ5OlsyLDc1XSw1NDpbMiw3NV0sNTc6WzIsNzVdLDY2OlsyLDc1XSw2NzpbMiw3NV0sNjg6WzIsNzVdLDY5OlsyLDc1XSw3MTpbMiw3NV0sNzM6WzIsNzVdLDc0OlsyLDc1XSw3ODpbMiw3NV0sODQ6WzIsNzVdLDg1OlsyLDc1XSw4NjpbMiw3NV0sOTE6WzIsNzVdLDkzOlsyLDc1XSwxMDI6WzIsNzVdLDEwNDpbMiw3NV0sMTA1OlsyLDc1XSwxMDY6WzIsNzVdLDExMDpbMiw3NV0sMTE4OlsyLDc1XSwxMjY6WzIsNzVdLDEyOTpbMiw3NV0sMTMwOlsyLDc1XSwxMzM6WzIsNzVdLDEzNDpbMiw3NV0sMTM1OlsyLDc1XSwxMzY6WzIsNzVdLDEzNzpbMiw3NV0sMTM4OlsyLDc1XSwxMzk6WzIsNzVdfSx7MTpbMiw3Nl0sNjpbMiw3Nl0sMjU6WzIsNzZdLDI2OlsyLDc2XSw0OTpbMiw3Nl0sNTQ6WzIsNzZdLDU3OlsyLDc2XSw2NjpbMiw3Nl0sNjc6WzIsNzZdLDY4OlsyLDc2XSw2OTpbMiw3Nl0sNzE6WzIsNzZdLDczOlsyLDc2XSw3NDpbMiw3Nl0sNzg6WzIsNzZdLDg0OlsyLDc2XSw4NTpbMiw3Nl0sODY6WzIsNzZdLDkxOlsyLDc2XSw5MzpbMiw3Nl0sMTAyOlsyLDc2XSwxMDQ6WzIsNzZdLDEwNTpbMiw3Nl0sMTA2OlsyLDc2XSwxMTA6WzIsNzZdLDExODpbMiw3Nl0sMTI2OlsyLDc2XSwxMjk6WzIsNzZdLDEzMDpbMiw3Nl0sMTMzOlsyLDc2XSwxMzQ6WzIsNzZdLDEzNTpbMiw3Nl0sMTM2OlsyLDc2XSwxMzc6WzIsNzZdLDEzODpbMiw3Nl0sMTM5OlsyLDc2XX0sezE6WzIsNzddLDY6WzIsNzddLDI1OlsyLDc3XSwyNjpbMiw3N10sNDk6WzIsNzddLDU0OlsyLDc3XSw1NzpbMiw3N10sNjY6WzIsNzddLDY3OlsyLDc3XSw2ODpbMiw3N10sNjk6WzIsNzddLDcxOlsyLDc3XSw3MzpbMiw3N10sNzQ6WzIsNzddLDc4OlsyLDc3XSw4NDpbMiw3N10sODU6WzIsNzddLDg2OlsyLDc3XSw5MTpbMiw3N10sOTM6WzIsNzddLDEwMjpbMiw3N10sMTA0OlsyLDc3XSwxMDU6WzIsNzddLDEwNjpbMiw3N10sMTEwOlsyLDc3XSwxMTg6WzIsNzddLDEyNjpbMiw3N10sMTI5OlsyLDc3XSwxMzA6WzIsNzddLDEzMzpbMiw3N10sMTM0OlsyLDc3XSwxMzU6WzIsNzddLDEzNjpbMiw3N10sMTM3OlsyLDc3XSwxMzg6WzIsNzddLDEzOTpbMiw3N119LHsxOlsyLDc4XSw2OlsyLDc4XSwyNTpbMiw3OF0sMjY6WzIsNzhdLDQ5OlsyLDc4XSw1NDpbMiw3OF0sNTc6WzIsNzhdLDY2OlsyLDc4XSw2NzpbMiw3OF0sNjg6WzIsNzhdLDY5OlsyLDc4XSw3MTpbMiw3OF0sNzM6WzIsNzhdLDc0OlsyLDc4XSw3ODpbMiw3OF0sODQ6WzIsNzhdLDg1OlsyLDc4XSw4NjpbMiw3OF0sOTE6WzIsNzhdLDkzOlsyLDc4XSwxMDI6WzIsNzhdLDEwNDpbMiw3OF0sMTA1OlsyLDc4XSwxMDY6WzIsNzhdLDExMDpbMiw3OF0sMTE4OlsyLDc4XSwxMjY6WzIsNzhdLDEyOTpbMiw3OF0sMTMwOlsyLDc4XSwxMzM6WzIsNzhdLDEzNDpbMiw3OF0sMTM1OlsyLDc4XSwxMzY6WzIsNzhdLDEzNzpbMiw3OF0sMTM4OlsyLDc4XSwxMzk6WzIsNzhdfSx7MTpbMiw3OV0sNjpbMiw3OV0sMjU6WzIsNzldLDI2OlsyLDc5XSw0OTpbMiw3OV0sNTQ6WzIsNzldLDU3OlsyLDc5XSw2NjpbMiw3OV0sNjc6WzIsNzldLDY4OlsyLDc5XSw2OTpbMiw3OV0sNzE6WzIsNzldLDczOlsyLDc5XSw3NDpbMiw3OV0sNzg6WzIsNzldLDg0OlsyLDc5XSw4NTpbMiw3OV0sODY6WzIsNzldLDkxOlsyLDc5XSw5MzpbMiw3OV0sMTAyOlsyLDc5XSwxMDQ6WzIsNzldLDEwNTpbMiw3OV0sMTA2OlsyLDc5XSwxMTA6WzIsNzldLDExODpbMiw3OV0sMTI2OlsyLDc5XSwxMjk6WzIsNzldLDEzMDpbMiw3OV0sMTMzOlsyLDc5XSwxMzQ6WzIsNzldLDEzNTpbMiw3OV0sMTM2OlsyLDc5XSwxMzc6WzIsNzldLDEzODpbMiw3OV0sMTM5OlsyLDc5XX0sezE6WzIsMTA2XSw2OlsyLDEwNl0sMjU6WzIsMTA2XSwyNjpbMiwxMDZdLDQ5OlsyLDEwNl0sNTQ6WzIsMTA2XSw1NzpbMiwxMDZdLDY2OlsyLDEwNl0sNjc6WzIsMTA2XSw2ODpbMiwxMDZdLDY5OlsyLDEwNl0sNzE6WzIsMTA2XSw3MzpbMiwxMDZdLDc0OlsyLDEwNl0sNzg6WzIsMTA2XSw4MjoxMDIsODQ6WzIsMTA2XSw4NTpbMSwxMDNdLDg2OlsyLDEwNl0sOTE6WzIsMTA2XSw5MzpbMiwxMDZdLDEwMjpbMiwxMDZdLDEwNDpbMiwxMDZdLDEwNTpbMiwxMDZdLDEwNjpbMiwxMDZdLDExMDpbMiwxMDZdLDExODpbMiwxMDZdLDEyNjpbMiwxMDZdLDEyOTpbMiwxMDZdLDEzMDpbMiwxMDZdLDEzMzpbMiwxMDZdLDEzNDpbMiwxMDZdLDEzNTpbMiwxMDZdLDEzNjpbMiwxMDZdLDEzNzpbMiwxMDZdLDEzODpbMiwxMDZdLDEzOTpbMiwxMDZdfSx7NjpbMiw1NF0sMjU6WzIsNTRdLDI3OjEwOCwyODpbMSw3Ml0sNDQ6MTA5LDQ4OjEwNCw0OTpbMiw1NF0sNTQ6WzIsNTRdLDU1OjEwNSw1NjoxMDYsNTc6WzEsMTA3XSw1ODoxMTAsNTk6MTExLDc2OlsxLDY5XSw4OTpbMSwxMTJdLDkwOlsxLDExM119LHsyNDoxMTQsMjU6WzEsMTE1XX0sezc6MTE2LDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHs3OjExOCw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTg6NDYsNTk6NDcsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7NzoxMTksODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezc6MTIwLDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHsxMjoxMjIsMTM6MTIzLDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjEyNCw0NDo2Miw1ODo0Niw1OTo0Nyw2MToxMjEsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSwxMDE6WzEsNTVdfSx7MTI6MTIyLDEzOjEyMywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToxMjQsNDQ6NjIsNTg6NDYsNTk6NDcsNjE6MTI1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sMTAxOlsxLDU1XX0sezE6WzIsNzJdLDY6WzIsNzJdLDI1OlsyLDcyXSwyNjpbMiw3Ml0sNDA6WzIsNzJdLDQ5OlsyLDcyXSw1NDpbMiw3Ml0sNTc6WzIsNzJdLDY2OlsyLDcyXSw2NzpbMiw3Ml0sNjg6WzIsNzJdLDY5OlsyLDcyXSw3MTpbMiw3Ml0sNzM6WzIsNzJdLDc0OlsyLDcyXSw3ODpbMiw3Ml0sODA6WzEsMTI5XSw4NDpbMiw3Ml0sODU6WzIsNzJdLDg2OlsyLDcyXSw5MTpbMiw3Ml0sOTM6WzIsNzJdLDEwMjpbMiw3Ml0sMTA0OlsyLDcyXSwxMDU6WzIsNzJdLDEwNjpbMiw3Ml0sMTEwOlsyLDcyXSwxMTg6WzIsNzJdLDEyNjpbMiw3Ml0sMTI5OlsyLDcyXSwxMzA6WzIsNzJdLDEzMTpbMSwxMjZdLDEzMjpbMSwxMjddLDEzMzpbMiw3Ml0sMTM0OlsyLDcyXSwxMzU6WzIsNzJdLDEzNjpbMiw3Ml0sMTM3OlsyLDcyXSwxMzg6WzIsNzJdLDEzOTpbMiw3Ml0sMTQwOlsxLDEyOF19LHsxOlsyLDE4NF0sNjpbMiwxODRdLDI1OlsyLDE4NF0sMjY6WzIsMTg0XSw0OTpbMiwxODRdLDU0OlsyLDE4NF0sNTc6WzIsMTg0XSw3MzpbMiwxODRdLDc4OlsyLDE4NF0sODY6WzIsMTg0XSw5MTpbMiwxODRdLDkzOlsyLDE4NF0sMTAyOlsyLDE4NF0sMTA0OlsyLDE4NF0sMTA1OlsyLDE4NF0sMTA2OlsyLDE4NF0sMTEwOlsyLDE4NF0sMTE4OlsyLDE4NF0sMTIxOlsxLDEzMF0sMTI2OlsyLDE4NF0sMTI5OlsyLDE4NF0sMTMwOlsyLDE4NF0sMTMzOlsyLDE4NF0sMTM0OlsyLDE4NF0sMTM1OlsyLDE4NF0sMTM2OlsyLDE4NF0sMTM3OlsyLDE4NF0sMTM4OlsyLDE4NF0sMTM5OlsyLDE4NF19LHsyNDoxMzEsMjU6WzEsMTE1XX0sezI0OjEzMiwyNTpbMSwxMTVdfSx7MTpbMiwxNTFdLDY6WzIsMTUxXSwyNTpbMiwxNTFdLDI2OlsyLDE1MV0sNDk6WzIsMTUxXSw1NDpbMiwxNTFdLDU3OlsyLDE1MV0sNzM6WzIsMTUxXSw3ODpbMiwxNTFdLDg2OlsyLDE1MV0sOTE6WzIsMTUxXSw5MzpbMiwxNTFdLDEwMjpbMiwxNTFdLDEwNDpbMiwxNTFdLDEwNTpbMiwxNTFdLDEwNjpbMiwxNTFdLDExMDpbMiwxNTFdLDExODpbMiwxNTFdLDEyNjpbMiwxNTFdLDEyOTpbMiwxNTFdLDEzMDpbMiwxNTFdLDEzMzpbMiwxNTFdLDEzNDpbMiwxNTFdLDEzNTpbMiwxNTFdLDEzNjpbMiwxNTFdLDEzNzpbMiwxNTFdLDEzODpbMiwxNTFdLDEzOTpbMiwxNTFdfSx7MjQ6MTMzLDI1OlsxLDExNV19LHs3OjEzNCw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI1OlsxLDEzNV0sMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHsxOlsyLDk2XSw2OlsyLDk2XSwxMjoxMjIsMTM6MTIzLDI0OjEzNiwyNTpbMSwxMTVdLDI2OlsyLDk2XSwyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToxMjQsNDQ6NjIsNDk6WzIsOTZdLDU0OlsyLDk2XSw1NzpbMiw5Nl0sNTg6NDYsNTk6NDcsNjE6MTM4LDYzOjIzLDY0OjI0LDY1OjI1LDczOlsyLDk2XSw3NjpbMSw2OV0sNzg6WzIsOTZdLDgwOlsxLDEzN10sODM6WzEsMjZdLDg2OlsyLDk2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5MTpbMiw5Nl0sOTM6WzIsOTZdLDEwMTpbMSw1NV0sMTAyOlsyLDk2XSwxMDQ6WzIsOTZdLDEwNTpbMiw5Nl0sMTA2OlsyLDk2XSwxMTA6WzIsOTZdLDExODpbMiw5Nl0sMTI2OlsyLDk2XSwxMjk6WzIsOTZdLDEzMDpbMiw5Nl0sMTMzOlsyLDk2XSwxMzQ6WzIsOTZdLDEzNTpbMiw5Nl0sMTM2OlsyLDk2XSwxMzc6WzIsOTZdLDEzODpbMiw5Nl0sMTM5OlsyLDk2XX0sezc6MTM5LDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHsxOlsyLDQ2XSw2OlsyLDQ2XSw3OjE0MCw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI2OlsyLDQ2XSwyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAyOlsyLDQ2XSwxMDM6MzgsMTA0OlsyLDQ2XSwxMDY6WzIsNDZdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzIsNDZdLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNjpbMiw0Nl0sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHsxOlsyLDQ3XSw2OlsyLDQ3XSwyNTpbMiw0N10sMjY6WzIsNDddLDU0OlsyLDQ3XSw3ODpbMiw0N10sMTAyOlsyLDQ3XSwxMDQ6WzIsNDddLDEwNjpbMiw0N10sMTEwOlsyLDQ3XSwxMjY6WzIsNDddfSx7MTpbMiw3M10sNjpbMiw3M10sMjU6WzIsNzNdLDI2OlsyLDczXSw0MDpbMiw3M10sNDk6WzIsNzNdLDU0OlsyLDczXSw1NzpbMiw3M10sNjY6WzIsNzNdLDY3OlsyLDczXSw2ODpbMiw3M10sNjk6WzIsNzNdLDcxOlsyLDczXSw3MzpbMiw3M10sNzQ6WzIsNzNdLDc4OlsyLDczXSw4NDpbMiw3M10sODU6WzIsNzNdLDg2OlsyLDczXSw5MTpbMiw3M10sOTM6WzIsNzNdLDEwMjpbMiw3M10sMTA0OlsyLDczXSwxMDU6WzIsNzNdLDEwNjpbMiw3M10sMTEwOlsyLDczXSwxMTg6WzIsNzNdLDEyNjpbMiw3M10sMTI5OlsyLDczXSwxMzA6WzIsNzNdLDEzMzpbMiw3M10sMTM0OlsyLDczXSwxMzU6WzIsNzNdLDEzNjpbMiw3M10sMTM3OlsyLDczXSwxMzg6WzIsNzNdLDEzOTpbMiw3M119LHsxOlsyLDc0XSw2OlsyLDc0XSwyNTpbMiw3NF0sMjY6WzIsNzRdLDQwOlsyLDc0XSw0OTpbMiw3NF0sNTQ6WzIsNzRdLDU3OlsyLDc0XSw2NjpbMiw3NF0sNjc6WzIsNzRdLDY4OlsyLDc0XSw2OTpbMiw3NF0sNzE6WzIsNzRdLDczOlsyLDc0XSw3NDpbMiw3NF0sNzg6WzIsNzRdLDg0OlsyLDc0XSw4NTpbMiw3NF0sODY6WzIsNzRdLDkxOlsyLDc0XSw5MzpbMiw3NF0sMTAyOlsyLDc0XSwxMDQ6WzIsNzRdLDEwNTpbMiw3NF0sMTA2OlsyLDc0XSwxMTA6WzIsNzRdLDExODpbMiw3NF0sMTI2OlsyLDc0XSwxMjk6WzIsNzRdLDEzMDpbMiw3NF0sMTMzOlsyLDc0XSwxMzQ6WzIsNzRdLDEzNTpbMiw3NF0sMTM2OlsyLDc0XSwxMzc6WzIsNzRdLDEzODpbMiw3NF0sMTM5OlsyLDc0XX0sezE6WzIsMjhdLDY6WzIsMjhdLDI1OlsyLDI4XSwyNjpbMiwyOF0sNDk6WzIsMjhdLDU0OlsyLDI4XSw1NzpbMiwyOF0sNjY6WzIsMjhdLDY3OlsyLDI4XSw2ODpbMiwyOF0sNjk6WzIsMjhdLDcxOlsyLDI4XSw3MzpbMiwyOF0sNzQ6WzIsMjhdLDc4OlsyLDI4XSw4NDpbMiwyOF0sODU6WzIsMjhdLDg2OlsyLDI4XSw5MTpbMiwyOF0sOTM6WzIsMjhdLDEwMjpbMiwyOF0sMTA0OlsyLDI4XSwxMDU6WzIsMjhdLDEwNjpbMiwyOF0sMTEwOlsyLDI4XSwxMTg6WzIsMjhdLDEyNjpbMiwyOF0sMTI5OlsyLDI4XSwxMzA6WzIsMjhdLDEzMzpbMiwyOF0sMTM0OlsyLDI4XSwxMzU6WzIsMjhdLDEzNjpbMiwyOF0sMTM3OlsyLDI4XSwxMzg6WzIsMjhdLDEzOTpbMiwyOF19LHsxOlsyLDI5XSw2OlsyLDI5XSwyNTpbMiwyOV0sMjY6WzIsMjldLDQ5OlsyLDI5XSw1NDpbMiwyOV0sNTc6WzIsMjldLDY2OlsyLDI5XSw2NzpbMiwyOV0sNjg6WzIsMjldLDY5OlsyLDI5XSw3MTpbMiwyOV0sNzM6WzIsMjldLDc0OlsyLDI5XSw3ODpbMiwyOV0sODQ6WzIsMjldLDg1OlsyLDI5XSw4NjpbMiwyOV0sOTE6WzIsMjldLDkzOlsyLDI5XSwxMDI6WzIsMjldLDEwNDpbMiwyOV0sMTA1OlsyLDI5XSwxMDY6WzIsMjldLDExMDpbMiwyOV0sMTE4OlsyLDI5XSwxMjY6WzIsMjldLDEyOTpbMiwyOV0sMTMwOlsyLDI5XSwxMzM6WzIsMjldLDEzNDpbMiwyOV0sMTM1OlsyLDI5XSwxMzY6WzIsMjldLDEzNzpbMiwyOV0sMTM4OlsyLDI5XSwxMzk6WzIsMjldfSx7MTpbMiwzMF0sNjpbMiwzMF0sMjU6WzIsMzBdLDI2OlsyLDMwXSw0OTpbMiwzMF0sNTQ6WzIsMzBdLDU3OlsyLDMwXSw2NjpbMiwzMF0sNjc6WzIsMzBdLDY4OlsyLDMwXSw2OTpbMiwzMF0sNzE6WzIsMzBdLDczOlsyLDMwXSw3NDpbMiwzMF0sNzg6WzIsMzBdLDg0OlsyLDMwXSw4NTpbMiwzMF0sODY6WzIsMzBdLDkxOlsyLDMwXSw5MzpbMiwzMF0sMTAyOlsyLDMwXSwxMDQ6WzIsMzBdLDEwNTpbMiwzMF0sMTA2OlsyLDMwXSwxMTA6WzIsMzBdLDExODpbMiwzMF0sMTI2OlsyLDMwXSwxMjk6WzIsMzBdLDEzMDpbMiwzMF0sMTMzOlsyLDMwXSwxMzQ6WzIsMzBdLDEzNTpbMiwzMF0sMTM2OlsyLDMwXSwxMzc6WzIsMzBdLDEzODpbMiwzMF0sMTM5OlsyLDMwXX0sezE6WzIsMzFdLDY6WzIsMzFdLDI1OlsyLDMxXSwyNjpbMiwzMV0sNDk6WzIsMzFdLDU0OlsyLDMxXSw1NzpbMiwzMV0sNjY6WzIsMzFdLDY3OlsyLDMxXSw2ODpbMiwzMV0sNjk6WzIsMzFdLDcxOlsyLDMxXSw3MzpbMiwzMV0sNzQ6WzIsMzFdLDc4OlsyLDMxXSw4NDpbMiwzMV0sODU6WzIsMzFdLDg2OlsyLDMxXSw5MTpbMiwzMV0sOTM6WzIsMzFdLDEwMjpbMiwzMV0sMTA0OlsyLDMxXSwxMDU6WzIsMzFdLDEwNjpbMiwzMV0sMTEwOlsyLDMxXSwxMTg6WzIsMzFdLDEyNjpbMiwzMV0sMTI5OlsyLDMxXSwxMzA6WzIsMzFdLDEzMzpbMiwzMV0sMTM0OlsyLDMxXSwxMzU6WzIsMzFdLDEzNjpbMiwzMV0sMTM3OlsyLDMxXSwxMzg6WzIsMzFdLDEzOTpbMiwzMV19LHsxOlsyLDMyXSw2OlsyLDMyXSwyNTpbMiwzMl0sMjY6WzIsMzJdLDQ5OlsyLDMyXSw1NDpbMiwzMl0sNTc6WzIsMzJdLDY2OlsyLDMyXSw2NzpbMiwzMl0sNjg6WzIsMzJdLDY5OlsyLDMyXSw3MTpbMiwzMl0sNzM6WzIsMzJdLDc0OlsyLDMyXSw3ODpbMiwzMl0sODQ6WzIsMzJdLDg1OlsyLDMyXSw4NjpbMiwzMl0sOTE6WzIsMzJdLDkzOlsyLDMyXSwxMDI6WzIsMzJdLDEwNDpbMiwzMl0sMTA1OlsyLDMyXSwxMDY6WzIsMzJdLDExMDpbMiwzMl0sMTE4OlsyLDMyXSwxMjY6WzIsMzJdLDEyOTpbMiwzMl0sMTMwOlsyLDMyXSwxMzM6WzIsMzJdLDEzNDpbMiwzMl0sMTM1OlsyLDMyXSwxMzY6WzIsMzJdLDEzNzpbMiwzMl0sMTM4OlsyLDMyXSwxMzk6WzIsMzJdfSx7MTpbMiwzM10sNjpbMiwzM10sMjU6WzIsMzNdLDI2OlsyLDMzXSw0OTpbMiwzM10sNTQ6WzIsMzNdLDU3OlsyLDMzXSw2NjpbMiwzM10sNjc6WzIsMzNdLDY4OlsyLDMzXSw2OTpbMiwzM10sNzE6WzIsMzNdLDczOlsyLDMzXSw3NDpbMiwzM10sNzg6WzIsMzNdLDg0OlsyLDMzXSw4NTpbMiwzM10sODY6WzIsMzNdLDkxOlsyLDMzXSw5MzpbMiwzM10sMTAyOlsyLDMzXSwxMDQ6WzIsMzNdLDEwNTpbMiwzM10sMTA2OlsyLDMzXSwxMTA6WzIsMzNdLDExODpbMiwzM10sMTI2OlsyLDMzXSwxMjk6WzIsMzNdLDEzMDpbMiwzM10sMTMzOlsyLDMzXSwxMzQ6WzIsMzNdLDEzNTpbMiwzM10sMTM2OlsyLDMzXSwxMzc6WzIsMzNdLDEzODpbMiwzM10sMTM5OlsyLDMzXX0sezE6WzIsMzRdLDY6WzIsMzRdLDI1OlsyLDM0XSwyNjpbMiwzNF0sNDk6WzIsMzRdLDU0OlsyLDM0XSw1NzpbMiwzNF0sNjY6WzIsMzRdLDY3OlsyLDM0XSw2ODpbMiwzNF0sNjk6WzIsMzRdLDcxOlsyLDM0XSw3MzpbMiwzNF0sNzQ6WzIsMzRdLDc4OlsyLDM0XSw4NDpbMiwzNF0sODU6WzIsMzRdLDg2OlsyLDM0XSw5MTpbMiwzNF0sOTM6WzIsMzRdLDEwMjpbMiwzNF0sMTA0OlsyLDM0XSwxMDU6WzIsMzRdLDEwNjpbMiwzNF0sMTEwOlsyLDM0XSwxMTg6WzIsMzRdLDEyNjpbMiwzNF0sMTI5OlsyLDM0XSwxMzA6WzIsMzRdLDEzMzpbMiwzNF0sMTM0OlsyLDM0XSwxMzU6WzIsMzRdLDEzNjpbMiwzNF0sMTM3OlsyLDM0XSwxMzg6WzIsMzRdLDEzOTpbMiwzNF19LHs0OjE0MSw1OjMsNzo0LDg6NSw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI1OlsxLDE0Ml0sMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHs3OjE0Myw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI1OlsxLDE0N10sMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1NzpbMSwxNDldLDU4OjQ2LDU5OjQ3LDYwOjE0OCw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4NzoxNDUsODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTE6WzEsMTQ0XSw5NDoxNDYsOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7MTpbMiwxMTJdLDY6WzIsMTEyXSwyNTpbMiwxMTJdLDI2OlsyLDExMl0sNDk6WzIsMTEyXSw1NDpbMiwxMTJdLDU3OlsyLDExMl0sNjY6WzIsMTEyXSw2NzpbMiwxMTJdLDY4OlsyLDExMl0sNjk6WzIsMTEyXSw3MTpbMiwxMTJdLDczOlsyLDExMl0sNzQ6WzIsMTEyXSw3ODpbMiwxMTJdLDg0OlsyLDExMl0sODU6WzIsMTEyXSw4NjpbMiwxMTJdLDkxOlsyLDExMl0sOTM6WzIsMTEyXSwxMDI6WzIsMTEyXSwxMDQ6WzIsMTEyXSwxMDU6WzIsMTEyXSwxMDY6WzIsMTEyXSwxMTA6WzIsMTEyXSwxMTg6WzIsMTEyXSwxMjY6WzIsMTEyXSwxMjk6WzIsMTEyXSwxMzA6WzIsMTEyXSwxMzM6WzIsMTEyXSwxMzQ6WzIsMTEyXSwxMzU6WzIsMTEyXSwxMzY6WzIsMTEyXSwxMzc6WzIsMTEyXSwxMzg6WzIsMTEyXSwxMzk6WzIsMTEyXX0sezE6WzIsMTEzXSw2OlsyLDExM10sMjU6WzIsMTEzXSwyNjpbMiwxMTNdLDI3OjE1MCwyODpbMSw3Ml0sNDk6WzIsMTEzXSw1NDpbMiwxMTNdLDU3OlsyLDExM10sNjY6WzIsMTEzXSw2NzpbMiwxMTNdLDY4OlsyLDExM10sNjk6WzIsMTEzXSw3MTpbMiwxMTNdLDczOlsyLDExM10sNzQ6WzIsMTEzXSw3ODpbMiwxMTNdLDg0OlsyLDExM10sODU6WzIsMTEzXSw4NjpbMiwxMTNdLDkxOlsyLDExM10sOTM6WzIsMTEzXSwxMDI6WzIsMTEzXSwxMDQ6WzIsMTEzXSwxMDU6WzIsMTEzXSwxMDY6WzIsMTEzXSwxMTA6WzIsMTEzXSwxMTg6WzIsMTEzXSwxMjY6WzIsMTEzXSwxMjk6WzIsMTEzXSwxMzA6WzIsMTEzXSwxMzM6WzIsMTEzXSwxMzQ6WzIsMTEzXSwxMzU6WzIsMTEzXSwxMzY6WzIsMTEzXSwxMzc6WzIsMTEzXSwxMzg6WzIsMTEzXSwxMzk6WzIsMTEzXX0sezI1OlsyLDUwXX0sezI1OlsyLDUxXX0sezE6WzIsNjhdLDY6WzIsNjhdLDI1OlsyLDY4XSwyNjpbMiw2OF0sNDA6WzIsNjhdLDQ5OlsyLDY4XSw1NDpbMiw2OF0sNTc6WzIsNjhdLDY2OlsyLDY4XSw2NzpbMiw2OF0sNjg6WzIsNjhdLDY5OlsyLDY4XSw3MTpbMiw2OF0sNzM6WzIsNjhdLDc0OlsyLDY4XSw3ODpbMiw2OF0sODA6WzIsNjhdLDg0OlsyLDY4XSw4NTpbMiw2OF0sODY6WzIsNjhdLDkxOlsyLDY4XSw5MzpbMiw2OF0sMTAyOlsyLDY4XSwxMDQ6WzIsNjhdLDEwNTpbMiw2OF0sMTA2OlsyLDY4XSwxMTA6WzIsNjhdLDExODpbMiw2OF0sMTI2OlsyLDY4XSwxMjk6WzIsNjhdLDEzMDpbMiw2OF0sMTMxOlsyLDY4XSwxMzI6WzIsNjhdLDEzMzpbMiw2OF0sMTM0OlsyLDY4XSwxMzU6WzIsNjhdLDEzNjpbMiw2OF0sMTM3OlsyLDY4XSwxMzg6WzIsNjhdLDEzOTpbMiw2OF0sMTQwOlsyLDY4XX0sezE6WzIsNzFdLDY6WzIsNzFdLDI1OlsyLDcxXSwyNjpbMiw3MV0sNDA6WzIsNzFdLDQ5OlsyLDcxXSw1NDpbMiw3MV0sNTc6WzIsNzFdLDY2OlsyLDcxXSw2NzpbMiw3MV0sNjg6WzIsNzFdLDY5OlsyLDcxXSw3MTpbMiw3MV0sNzM6WzIsNzFdLDc0OlsyLDcxXSw3ODpbMiw3MV0sODA6WzIsNzFdLDg0OlsyLDcxXSw4NTpbMiw3MV0sODY6WzIsNzFdLDkxOlsyLDcxXSw5MzpbMiw3MV0sMTAyOlsyLDcxXSwxMDQ6WzIsNzFdLDEwNTpbMiw3MV0sMTA2OlsyLDcxXSwxMTA6WzIsNzFdLDExODpbMiw3MV0sMTI2OlsyLDcxXSwxMjk6WzIsNzFdLDEzMDpbMiw3MV0sMTMxOlsyLDcxXSwxMzI6WzIsNzFdLDEzMzpbMiw3MV0sMTM0OlsyLDcxXSwxMzU6WzIsNzFdLDEzNjpbMiw3MV0sMTM3OlsyLDcxXSwxMzg6WzIsNzFdLDEzOTpbMiw3MV0sMTQwOlsyLDcxXX0sezc6MTUxLDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHs3OjE1Miw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTg6NDYsNTk6NDcsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7NzoxNTMsODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezc6MTU1LDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjQ6MTU0LDI1OlsxLDExNV0sMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHsyNzoxNjAsMjg6WzEsNzJdLDQ0OjE2MSw1ODoxNjIsNTk6MTYzLDY0OjE1Niw3NjpbMSw2OV0sODk6WzEsMTEyXSw5MDpbMSw1Nl0sMTEzOjE1NywxMTQ6WzEsMTU4XSwxMTU6MTU5fSx7MTEyOjE2NCwxMTY6WzEsMTY1XSwxMTc6WzEsMTY2XX0sezY6WzIsOTFdLDEwOjE3MCwyNTpbMiw5MV0sMjc6MTcxLDI4OlsxLDcyXSwyOToxNzIsMzA6WzEsNzBdLDMxOlsxLDcxXSw0MToxNjgsNDI6MTY5LDQ0OjE3Myw0NjpbMSw0NV0sNTQ6WzIsOTFdLDc3OjE2Nyw3ODpbMiw5MV0sODk6WzEsMTEyXX0sezE6WzIsMjZdLDY6WzIsMjZdLDI1OlsyLDI2XSwyNjpbMiwyNl0sNDM6WzIsMjZdLDQ5OlsyLDI2XSw1NDpbMiwyNl0sNTc6WzIsMjZdLDY2OlsyLDI2XSw2NzpbMiwyNl0sNjg6WzIsMjZdLDY5OlsyLDI2XSw3MTpbMiwyNl0sNzM6WzIsMjZdLDc0OlsyLDI2XSw3ODpbMiwyNl0sODQ6WzIsMjZdLDg1OlsyLDI2XSw4NjpbMiwyNl0sOTE6WzIsMjZdLDkzOlsyLDI2XSwxMDI6WzIsMjZdLDEwNDpbMiwyNl0sMTA1OlsyLDI2XSwxMDY6WzIsMjZdLDExMDpbMiwyNl0sMTE4OlsyLDI2XSwxMjY6WzIsMjZdLDEyOTpbMiwyNl0sMTMwOlsyLDI2XSwxMzM6WzIsMjZdLDEzNDpbMiwyNl0sMTM1OlsyLDI2XSwxMzY6WzIsMjZdLDEzNzpbMiwyNl0sMTM4OlsyLDI2XSwxMzk6WzIsMjZdfSx7MTpbMiwyN10sNjpbMiwyN10sMjU6WzIsMjddLDI2OlsyLDI3XSw0MzpbMiwyN10sNDk6WzIsMjddLDU0OlsyLDI3XSw1NzpbMiwyN10sNjY6WzIsMjddLDY3OlsyLDI3XSw2ODpbMiwyN10sNjk6WzIsMjddLDcxOlsyLDI3XSw3MzpbMiwyN10sNzQ6WzIsMjddLDc4OlsyLDI3XSw4NDpbMiwyN10sODU6WzIsMjddLDg2OlsyLDI3XSw5MTpbMiwyN10sOTM6WzIsMjddLDEwMjpbMiwyN10sMTA0OlsyLDI3XSwxMDU6WzIsMjddLDEwNjpbMiwyN10sMTEwOlsyLDI3XSwxMTg6WzIsMjddLDEyNjpbMiwyN10sMTI5OlsyLDI3XSwxMzA6WzIsMjddLDEzMzpbMiwyN10sMTM0OlsyLDI3XSwxMzU6WzIsMjddLDEzNjpbMiwyN10sMTM3OlsyLDI3XSwxMzg6WzIsMjddLDEzOTpbMiwyN119LHsxOlsyLDI1XSw2OlsyLDI1XSwyNTpbMiwyNV0sMjY6WzIsMjVdLDQwOlsyLDI1XSw0MzpbMiwyNV0sNDk6WzIsMjVdLDU0OlsyLDI1XSw1NzpbMiwyNV0sNjY6WzIsMjVdLDY3OlsyLDI1XSw2ODpbMiwyNV0sNjk6WzIsMjVdLDcxOlsyLDI1XSw3MzpbMiwyNV0sNzQ6WzIsMjVdLDc4OlsyLDI1XSw4MDpbMiwyNV0sODQ6WzIsMjVdLDg1OlsyLDI1XSw4NjpbMiwyNV0sOTE6WzIsMjVdLDkzOlsyLDI1XSwxMDI6WzIsMjVdLDEwNDpbMiwyNV0sMTA1OlsyLDI1XSwxMDY6WzIsMjVdLDExMDpbMiwyNV0sMTE2OlsyLDI1XSwxMTc6WzIsMjVdLDExODpbMiwyNV0sMTI2OlsyLDI1XSwxMjk6WzIsMjVdLDEzMDpbMiwyNV0sMTMxOlsyLDI1XSwxMzI6WzIsMjVdLDEzMzpbMiwyNV0sMTM0OlsyLDI1XSwxMzU6WzIsMjVdLDEzNjpbMiwyNV0sMTM3OlsyLDI1XSwxMzg6WzIsMjVdLDEzOTpbMiwyNV0sMTQwOlsyLDI1XX0sezE6WzIsNV0sNToxNzQsNjpbMiw1XSw3OjQsODo1LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjY6WzIsNV0sMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMjpbMiw1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7MTpbMiwxOTZdLDY6WzIsMTk2XSwyNTpbMiwxOTZdLDI2OlsyLDE5Nl0sNDk6WzIsMTk2XSw1NDpbMiwxOTZdLDU3OlsyLDE5Nl0sNzM6WzIsMTk2XSw3ODpbMiwxOTZdLDg2OlsyLDE5Nl0sOTE6WzIsMTk2XSw5MzpbMiwxOTZdLDEwMjpbMiwxOTZdLDEwNDpbMiwxOTZdLDEwNTpbMiwxOTZdLDEwNjpbMiwxOTZdLDExMDpbMiwxOTZdLDExODpbMiwxOTZdLDEyNjpbMiwxOTZdLDEyOTpbMiwxOTZdLDEzMDpbMiwxOTZdLDEzMzpbMiwxOTZdLDEzNDpbMiwxOTZdLDEzNTpbMiwxOTZdLDEzNjpbMiwxOTZdLDEzNzpbMiwxOTZdLDEzODpbMiwxOTZdLDEzOTpbMiwxOTZdfSx7NzoxNzUsODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezc6MTc2LDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHs3OjE3Nyw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTg6NDYsNTk6NDcsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7NzoxNzgsODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezc6MTc5LDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHs3OjE4MCw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTg6NDYsNTk6NDcsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7NzoxODEsODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezc6MTgyLDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHs3OjE4Myw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTg6NDYsNTk6NDcsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7MTpbMiwxNTBdLDY6WzIsMTUwXSwyNTpbMiwxNTBdLDI2OlsyLDE1MF0sNDk6WzIsMTUwXSw1NDpbMiwxNTBdLDU3OlsyLDE1MF0sNzM6WzIsMTUwXSw3ODpbMiwxNTBdLDg2OlsyLDE1MF0sOTE6WzIsMTUwXSw5MzpbMiwxNTBdLDEwMjpbMiwxNTBdLDEwNDpbMiwxNTBdLDEwNTpbMiwxNTBdLDEwNjpbMiwxNTBdLDExMDpbMiwxNTBdLDExODpbMiwxNTBdLDEyNjpbMiwxNTBdLDEyOTpbMiwxNTBdLDEzMDpbMiwxNTBdLDEzMzpbMiwxNTBdLDEzNDpbMiwxNTBdLDEzNTpbMiwxNTBdLDEzNjpbMiwxNTBdLDEzNzpbMiwxNTBdLDEzODpbMiwxNTBdLDEzOTpbMiwxNTBdfSx7MTpbMiwxNTVdLDY6WzIsMTU1XSwyNTpbMiwxNTVdLDI2OlsyLDE1NV0sNDk6WzIsMTU1XSw1NDpbMiwxNTVdLDU3OlsyLDE1NV0sNzM6WzIsMTU1XSw3ODpbMiwxNTVdLDg2OlsyLDE1NV0sOTE6WzIsMTU1XSw5MzpbMiwxNTVdLDEwMjpbMiwxNTVdLDEwNDpbMiwxNTVdLDEwNTpbMiwxNTVdLDEwNjpbMiwxNTVdLDExMDpbMiwxNTVdLDExODpbMiwxNTVdLDEyNjpbMiwxNTVdLDEyOTpbMiwxNTVdLDEzMDpbMiwxNTVdLDEzMzpbMiwxNTVdLDEzNDpbMiwxNTVdLDEzNTpbMiwxNTVdLDEzNjpbMiwxNTVdLDEzNzpbMiwxNTVdLDEzODpbMiwxNTVdLDEzOTpbMiwxNTVdfSx7NzoxODQsODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezE6WzIsMTQ5XSw2OlsyLDE0OV0sMjU6WzIsMTQ5XSwyNjpbMiwxNDldLDQ5OlsyLDE0OV0sNTQ6WzIsMTQ5XSw1NzpbMiwxNDldLDczOlsyLDE0OV0sNzg6WzIsMTQ5XSw4NjpbMiwxNDldLDkxOlsyLDE0OV0sOTM6WzIsMTQ5XSwxMDI6WzIsMTQ5XSwxMDQ6WzIsMTQ5XSwxMDU6WzIsMTQ5XSwxMDY6WzIsMTQ5XSwxMTA6WzIsMTQ5XSwxMTg6WzIsMTQ5XSwxMjY6WzIsMTQ5XSwxMjk6WzIsMTQ5XSwxMzA6WzIsMTQ5XSwxMzM6WzIsMTQ5XSwxMzQ6WzIsMTQ5XSwxMzU6WzIsMTQ5XSwxMzY6WzIsMTQ5XSwxMzc6WzIsMTQ5XSwxMzg6WzIsMTQ5XSwxMzk6WzIsMTQ5XX0sezE6WzIsMTU0XSw2OlsyLDE1NF0sMjU6WzIsMTU0XSwyNjpbMiwxNTRdLDQ5OlsyLDE1NF0sNTQ6WzIsMTU0XSw1NzpbMiwxNTRdLDczOlsyLDE1NF0sNzg6WzIsMTU0XSw4NjpbMiwxNTRdLDkxOlsyLDE1NF0sOTM6WzIsMTU0XSwxMDI6WzIsMTU0XSwxMDQ6WzIsMTU0XSwxMDU6WzIsMTU0XSwxMDY6WzIsMTU0XSwxMTA6WzIsMTU0XSwxMTg6WzIsMTU0XSwxMjY6WzIsMTU0XSwxMjk6WzIsMTU0XSwxMzA6WzIsMTU0XSwxMzM6WzIsMTU0XSwxMzQ6WzIsMTU0XSwxMzU6WzIsMTU0XSwxMzY6WzIsMTU0XSwxMzc6WzIsMTU0XSwxMzg6WzIsMTU0XSwxMzk6WzIsMTU0XX0sezgyOjE4NSw4NTpbMSwxMDNdfSx7MTpbMiw2OV0sNjpbMiw2OV0sMjU6WzIsNjldLDI2OlsyLDY5XSw0MDpbMiw2OV0sNDk6WzIsNjldLDU0OlsyLDY5XSw1NzpbMiw2OV0sNjY6WzIsNjldLDY3OlsyLDY5XSw2ODpbMiw2OV0sNjk6WzIsNjldLDcxOlsyLDY5XSw3MzpbMiw2OV0sNzQ6WzIsNjldLDc4OlsyLDY5XSw4MDpbMiw2OV0sODQ6WzIsNjldLDg1OlsyLDY5XSw4NjpbMiw2OV0sOTE6WzIsNjldLDkzOlsyLDY5XSwxMDI6WzIsNjldLDEwNDpbMiw2OV0sMTA1OlsyLDY5XSwxMDY6WzIsNjldLDExMDpbMiw2OV0sMTE4OlsyLDY5XSwxMjY6WzIsNjldLDEyOTpbMiw2OV0sMTMwOlsyLDY5XSwxMzE6WzIsNjldLDEzMjpbMiw2OV0sMTMzOlsyLDY5XSwxMzQ6WzIsNjldLDEzNTpbMiw2OV0sMTM2OlsyLDY5XSwxMzc6WzIsNjldLDEzODpbMiw2OV0sMTM5OlsyLDY5XSwxNDA6WzIsNjldfSx7ODU6WzIsMTA5XX0sezI3OjE4NiwyODpbMSw3Ml19LHsyNzoxODcsMjg6WzEsNzJdfSx7MTpbMiw4NF0sNjpbMiw4NF0sMjU6WzIsODRdLDI2OlsyLDg0XSwyNzoxODgsMjg6WzEsNzJdLDQwOlsyLDg0XSw0OTpbMiw4NF0sNTQ6WzIsODRdLDU3OlsyLDg0XSw2NjpbMiw4NF0sNjc6WzIsODRdLDY4OlsyLDg0XSw2OTpbMiw4NF0sNzE6WzIsODRdLDczOlsyLDg0XSw3NDpbMiw4NF0sNzg6WzIsODRdLDgwOlsyLDg0XSw4NDpbMiw4NF0sODU6WzIsODRdLDg2OlsyLDg0XSw5MTpbMiw4NF0sOTM6WzIsODRdLDEwMjpbMiw4NF0sMTA0OlsyLDg0XSwxMDU6WzIsODRdLDEwNjpbMiw4NF0sMTEwOlsyLDg0XSwxMTg6WzIsODRdLDEyNjpbMiw4NF0sMTI5OlsyLDg0XSwxMzA6WzIsODRdLDEzMTpbMiw4NF0sMTMyOlsyLDg0XSwxMzM6WzIsODRdLDEzNDpbMiw4NF0sMTM1OlsyLDg0XSwxMzY6WzIsODRdLDEzNzpbMiw4NF0sMTM4OlsyLDg0XSwxMzk6WzIsODRdLDE0MDpbMiw4NF19LHsyNzoxODksMjg6WzEsNzJdfSx7MTpbMiw4NV0sNjpbMiw4NV0sMjU6WzIsODVdLDI2OlsyLDg1XSw0MDpbMiw4NV0sNDk6WzIsODVdLDU0OlsyLDg1XSw1NzpbMiw4NV0sNjY6WzIsODVdLDY3OlsyLDg1XSw2ODpbMiw4NV0sNjk6WzIsODVdLDcxOlsyLDg1XSw3MzpbMiw4NV0sNzQ6WzIsODVdLDc4OlsyLDg1XSw4MDpbMiw4NV0sODQ6WzIsODVdLDg1OlsyLDg1XSw4NjpbMiw4NV0sOTE6WzIsODVdLDkzOlsyLDg1XSwxMDI6WzIsODVdLDEwNDpbMiw4NV0sMTA1OlsyLDg1XSwxMDY6WzIsODVdLDExMDpbMiw4NV0sMTE4OlsyLDg1XSwxMjY6WzIsODVdLDEyOTpbMiw4NV0sMTMwOlsyLDg1XSwxMzE6WzIsODVdLDEzMjpbMiw4NV0sMTMzOlsyLDg1XSwxMzQ6WzIsODVdLDEzNTpbMiw4NV0sMTM2OlsyLDg1XSwxMzc6WzIsODVdLDEzODpbMiw4NV0sMTM5OlsyLDg1XSwxNDA6WzIsODVdfSx7NzoxOTEsODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU3OlsxLDE5NV0sNTg6NDYsNTk6NDcsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzI6MTkwLDc1OjE5Miw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5MjoxOTMsOTM6WzEsMTk0XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHs3MDoxOTYsNzE6WzEsOTddLDc0OlsxLDk4XX0sezgyOjE5Nyw4NTpbMSwxMDNdfSx7MTpbMiw3MF0sNjpbMiw3MF0sMjU6WzIsNzBdLDI2OlsyLDcwXSw0MDpbMiw3MF0sNDk6WzIsNzBdLDU0OlsyLDcwXSw1NzpbMiw3MF0sNjY6WzIsNzBdLDY3OlsyLDcwXSw2ODpbMiw3MF0sNjk6WzIsNzBdLDcxOlsyLDcwXSw3MzpbMiw3MF0sNzQ6WzIsNzBdLDc4OlsyLDcwXSw4MDpbMiw3MF0sODQ6WzIsNzBdLDg1OlsyLDcwXSw4NjpbMiw3MF0sOTE6WzIsNzBdLDkzOlsyLDcwXSwxMDI6WzIsNzBdLDEwNDpbMiw3MF0sMTA1OlsyLDcwXSwxMDY6WzIsNzBdLDExMDpbMiw3MF0sMTE4OlsyLDcwXSwxMjY6WzIsNzBdLDEyOTpbMiw3MF0sMTMwOlsyLDcwXSwxMzE6WzIsNzBdLDEzMjpbMiw3MF0sMTMzOlsyLDcwXSwxMzQ6WzIsNzBdLDEzNTpbMiw3MF0sMTM2OlsyLDcwXSwxMzc6WzIsNzBdLDEzODpbMiw3MF0sMTM5OlsyLDcwXSwxNDA6WzIsNzBdfSx7NjpbMSwxOTldLDc6MTk4LDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjU6WzEsMjAwXSwyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezE6WzIsMTA3XSw2OlsyLDEwN10sMjU6WzIsMTA3XSwyNjpbMiwxMDddLDQ5OlsyLDEwN10sNTQ6WzIsMTA3XSw1NzpbMiwxMDddLDY2OlsyLDEwN10sNjc6WzIsMTA3XSw2ODpbMiwxMDddLDY5OlsyLDEwN10sNzE6WzIsMTA3XSw3MzpbMiwxMDddLDc0OlsyLDEwN10sNzg6WzIsMTA3XSw4NDpbMiwxMDddLDg1OlsyLDEwN10sODY6WzIsMTA3XSw5MTpbMiwxMDddLDkzOlsyLDEwN10sMTAyOlsyLDEwN10sMTA0OlsyLDEwN10sMTA1OlsyLDEwN10sMTA2OlsyLDEwN10sMTEwOlsyLDEwN10sMTE4OlsyLDEwN10sMTI2OlsyLDEwN10sMTI5OlsyLDEwN10sMTMwOlsyLDEwN10sMTMzOlsyLDEwN10sMTM0OlsyLDEwN10sMTM1OlsyLDEwN10sMTM2OlsyLDEwN10sMTM3OlsyLDEwN10sMTM4OlsyLDEwN10sMTM5OlsyLDEwN119LHs3OjIwMyw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI1OlsxLDE0N10sMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1NzpbMSwxNDldLDU4OjQ2LDU5OjQ3LDYwOjE0OCw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4NjpbMSwyMDFdLDg3OjIwMiw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NDoxNDYsOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7NjpbMiw1Ml0sMjU6WzIsNTJdLDQ5OlsxLDIwNF0sNTM6MjA2LDU0OlsxLDIwNV19LHs2OlsyLDU1XSwyNTpbMiw1NV0sMjY6WzIsNTVdLDQ5OlsyLDU1XSw1NDpbMiw1NV19LHs2OlsyLDU5XSwyNTpbMiw1OV0sMjY6WzIsNTldLDQwOlsxLDIwOF0sNDk6WzIsNTldLDU0OlsyLDU5XSw1NzpbMSwyMDddfSx7NjpbMiw2Ml0sMjU6WzIsNjJdLDI2OlsyLDYyXSw0OTpbMiw2Ml0sNTQ6WzIsNjJdfSx7NjpbMiw2M10sMjU6WzIsNjNdLDI2OlsyLDYzXSw0MDpbMiw2M10sNDk6WzIsNjNdLDU0OlsyLDYzXSw1NzpbMiw2M119LHs2OlsyLDY0XSwyNTpbMiw2NF0sMjY6WzIsNjRdLDQwOlsyLDY0XSw0OTpbMiw2NF0sNTQ6WzIsNjRdLDU3OlsyLDY0XX0sezY6WzIsNjVdLDI1OlsyLDY1XSwyNjpbMiw2NV0sNDA6WzIsNjVdLDQ5OlsyLDY1XSw1NDpbMiw2NV0sNTc6WzIsNjVdfSx7NjpbMiw2Nl0sMjU6WzIsNjZdLDI2OlsyLDY2XSw0MDpbMiw2Nl0sNDk6WzIsNjZdLDU0OlsyLDY2XSw1NzpbMiw2Nl19LHsyNzoxNTAsMjg6WzEsNzJdfSx7NzoyMDMsODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNTpbMSwxNDddLDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTc6WzEsMTQ5XSw1ODo0Niw1OTo0Nyw2MDoxNDgsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODc6MTQ1LDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDkxOlsxLDE0NF0sOTQ6MTQ2LDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezE6WzIsNDldLDY6WzIsNDldLDI1OlsyLDQ5XSwyNjpbMiw0OV0sNDk6WzIsNDldLDU0OlsyLDQ5XSw1NzpbMiw0OV0sNzM6WzIsNDldLDc4OlsyLDQ5XSw4NjpbMiw0OV0sOTE6WzIsNDldLDkzOlsyLDQ5XSwxMDI6WzIsNDldLDEwNDpbMiw0OV0sMTA1OlsyLDQ5XSwxMDY6WzIsNDldLDExMDpbMiw0OV0sMTE4OlsyLDQ5XSwxMjY6WzIsNDldLDEyOTpbMiw0OV0sMTMwOlsyLDQ5XSwxMzM6WzIsNDldLDEzNDpbMiw0OV0sMTM1OlsyLDQ5XSwxMzY6WzIsNDldLDEzNzpbMiw0OV0sMTM4OlsyLDQ5XSwxMzk6WzIsNDldfSx7NDoyMTAsNTozLDc6NCw4OjUsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNjpbMSwyMDldLDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTg6NDYsNTk6NDcsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7MTpbMiwxODhdLDY6WzIsMTg4XSwyNTpbMiwxODhdLDI2OlsyLDE4OF0sNDk6WzIsMTg4XSw1NDpbMiwxODhdLDU3OlsyLDE4OF0sNzM6WzIsMTg4XSw3ODpbMiwxODhdLDg2OlsyLDE4OF0sOTE6WzIsMTg4XSw5MzpbMiwxODhdLDEwMjpbMiwxODhdLDEwMzo4NCwxMDQ6WzIsMTg4XSwxMDU6WzIsMTg4XSwxMDY6WzIsMTg4XSwxMDk6ODUsMTEwOlsyLDE4OF0sMTExOjY4LDExODpbMiwxODhdLDEyNjpbMiwxODhdLDEyOTpbMiwxODhdLDEzMDpbMiwxODhdLDEzMzpbMSw3NF0sMTM0OlsyLDE4OF0sMTM1OlsyLDE4OF0sMTM2OlsyLDE4OF0sMTM3OlsyLDE4OF0sMTM4OlsyLDE4OF0sMTM5OlsyLDE4OF19LHsxMDM6ODcsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwOTo4OCwxMTA6WzEsNjddLDExMTo2OCwxMjY6WzEsODZdfSx7MTpbMiwxODldLDY6WzIsMTg5XSwyNTpbMiwxODldLDI2OlsyLDE4OV0sNDk6WzIsMTg5XSw1NDpbMiwxODldLDU3OlsyLDE4OV0sNzM6WzIsMTg5XSw3ODpbMiwxODldLDg2OlsyLDE4OV0sOTE6WzIsMTg5XSw5MzpbMiwxODldLDEwMjpbMiwxODldLDEwMzo4NCwxMDQ6WzIsMTg5XSwxMDU6WzIsMTg5XSwxMDY6WzIsMTg5XSwxMDk6ODUsMTEwOlsyLDE4OV0sMTExOjY4LDExODpbMiwxODldLDEyNjpbMiwxODldLDEyOTpbMiwxODldLDEzMDpbMiwxODldLDEzMzpbMSw3NF0sMTM0OlsyLDE4OV0sMTM1OlsxLDc4XSwxMzY6WzIsMTg5XSwxMzc6WzIsMTg5XSwxMzg6WzIsMTg5XSwxMzk6WzIsMTg5XX0sezE6WzIsMTkwXSw2OlsyLDE5MF0sMjU6WzIsMTkwXSwyNjpbMiwxOTBdLDQ5OlsyLDE5MF0sNTQ6WzIsMTkwXSw1NzpbMiwxOTBdLDczOlsyLDE5MF0sNzg6WzIsMTkwXSw4NjpbMiwxOTBdLDkxOlsyLDE5MF0sOTM6WzIsMTkwXSwxMDI6WzIsMTkwXSwxMDM6ODQsMTA0OlsyLDE5MF0sMTA1OlsyLDE5MF0sMTA2OlsyLDE5MF0sMTA5Ojg1LDExMDpbMiwxOTBdLDExMTo2OCwxMTg6WzIsMTkwXSwxMjY6WzIsMTkwXSwxMjk6WzIsMTkwXSwxMzA6WzIsMTkwXSwxMzM6WzEsNzRdLDEzNDpbMiwxOTBdLDEzNTpbMSw3OF0sMTM2OlsyLDE5MF0sMTM3OlsyLDE5MF0sMTM4OlsyLDE5MF0sMTM5OlsyLDE5MF19LHsxOlsyLDE5MV0sNjpbMiwxOTFdLDI1OlsyLDE5MV0sMjY6WzIsMTkxXSw0OTpbMiwxOTFdLDU0OlsyLDE5MV0sNTc6WzIsMTkxXSw3MzpbMiwxOTFdLDc4OlsyLDE5MV0sODY6WzIsMTkxXSw5MTpbMiwxOTFdLDkzOlsyLDE5MV0sMTAyOlsyLDE5MV0sMTAzOjg0LDEwNDpbMiwxOTFdLDEwNTpbMiwxOTFdLDEwNjpbMiwxOTFdLDEwOTo4NSwxMTA6WzIsMTkxXSwxMTE6NjgsMTE4OlsyLDE5MV0sMTI2OlsyLDE5MV0sMTI5OlsyLDE5MV0sMTMwOlsyLDE5MV0sMTMzOlsxLDc0XSwxMzQ6WzIsMTkxXSwxMzU6WzEsNzhdLDEzNjpbMiwxOTFdLDEzNzpbMiwxOTFdLDEzODpbMiwxOTFdLDEzOTpbMiwxOTFdfSx7MTpbMiwxOTJdLDY6WzIsMTkyXSwyNTpbMiwxOTJdLDI2OlsyLDE5Ml0sNDk6WzIsMTkyXSw1NDpbMiwxOTJdLDU3OlsyLDE5Ml0sNjY6WzIsNzJdLDY3OlsyLDcyXSw2ODpbMiw3Ml0sNjk6WzIsNzJdLDcxOlsyLDcyXSw3MzpbMiwxOTJdLDc0OlsyLDcyXSw3ODpbMiwxOTJdLDg0OlsyLDcyXSw4NTpbMiw3Ml0sODY6WzIsMTkyXSw5MTpbMiwxOTJdLDkzOlsyLDE5Ml0sMTAyOlsyLDE5Ml0sMTA0OlsyLDE5Ml0sMTA1OlsyLDE5Ml0sMTA2OlsyLDE5Ml0sMTEwOlsyLDE5Ml0sMTE4OlsyLDE5Ml0sMTI2OlsyLDE5Ml0sMTI5OlsyLDE5Ml0sMTMwOlsyLDE5Ml0sMTMzOlsyLDE5Ml0sMTM0OlsyLDE5Ml0sMTM1OlsyLDE5Ml0sMTM2OlsyLDE5Ml0sMTM3OlsyLDE5Ml0sMTM4OlsyLDE5Ml0sMTM5OlsyLDE5Ml19LHs2Mjo5MCw2NjpbMSw5Ml0sNjc6WzEsOTNdLDY4OlsxLDk0XSw2OTpbMSw5NV0sNzA6OTYsNzE6WzEsOTddLDc0OlsxLDk4XSw4MTo4OSw4NDpbMSw5MV0sODU6WzIsMTA4XX0sezYyOjEwMCw2NjpbMSw5Ml0sNjc6WzEsOTNdLDY4OlsxLDk0XSw2OTpbMSw5NV0sNzA6OTYsNzE6WzEsOTddLDc0OlsxLDk4XSw4MTo5OSw4NDpbMSw5MV0sODU6WzIsMTA4XX0sezY2OlsyLDc1XSw2NzpbMiw3NV0sNjg6WzIsNzVdLDY5OlsyLDc1XSw3MTpbMiw3NV0sNzQ6WzIsNzVdLDg0OlsyLDc1XSw4NTpbMiw3NV19LHsxOlsyLDE5M10sNjpbMiwxOTNdLDI1OlsyLDE5M10sMjY6WzIsMTkzXSw0OTpbMiwxOTNdLDU0OlsyLDE5M10sNTc6WzIsMTkzXSw2NjpbMiw3Ml0sNjc6WzIsNzJdLDY4OlsyLDcyXSw2OTpbMiw3Ml0sNzE6WzIsNzJdLDczOlsyLDE5M10sNzQ6WzIsNzJdLDc4OlsyLDE5M10sODQ6WzIsNzJdLDg1OlsyLDcyXSw4NjpbMiwxOTNdLDkxOlsyLDE5M10sOTM6WzIsMTkzXSwxMDI6WzIsMTkzXSwxMDQ6WzIsMTkzXSwxMDU6WzIsMTkzXSwxMDY6WzIsMTkzXSwxMTA6WzIsMTkzXSwxMTg6WzIsMTkzXSwxMjY6WzIsMTkzXSwxMjk6WzIsMTkzXSwxMzA6WzIsMTkzXSwxMzM6WzIsMTkzXSwxMzQ6WzIsMTkzXSwxMzU6WzIsMTkzXSwxMzY6WzIsMTkzXSwxMzc6WzIsMTkzXSwxMzg6WzIsMTkzXSwxMzk6WzIsMTkzXX0sezE6WzIsMTk0XSw2OlsyLDE5NF0sMjU6WzIsMTk0XSwyNjpbMiwxOTRdLDQ5OlsyLDE5NF0sNTQ6WzIsMTk0XSw1NzpbMiwxOTRdLDczOlsyLDE5NF0sNzg6WzIsMTk0XSw4NjpbMiwxOTRdLDkxOlsyLDE5NF0sOTM6WzIsMTk0XSwxMDI6WzIsMTk0XSwxMDQ6WzIsMTk0XSwxMDU6WzIsMTk0XSwxMDY6WzIsMTk0XSwxMTA6WzIsMTk0XSwxMTg6WzIsMTk0XSwxMjY6WzIsMTk0XSwxMjk6WzIsMTk0XSwxMzA6WzIsMTk0XSwxMzM6WzIsMTk0XSwxMzQ6WzIsMTk0XSwxMzU6WzIsMTk0XSwxMzY6WzIsMTk0XSwxMzc6WzIsMTk0XSwxMzg6WzIsMTk0XSwxMzk6WzIsMTk0XX0sezE6WzIsMTk1XSw2OlsyLDE5NV0sMjU6WzIsMTk1XSwyNjpbMiwxOTVdLDQ5OlsyLDE5NV0sNTQ6WzIsMTk1XSw1NzpbMiwxOTVdLDczOlsyLDE5NV0sNzg6WzIsMTk1XSw4NjpbMiwxOTVdLDkxOlsyLDE5NV0sOTM6WzIsMTk1XSwxMDI6WzIsMTk1XSwxMDQ6WzIsMTk1XSwxMDU6WzIsMTk1XSwxMDY6WzIsMTk1XSwxMTA6WzIsMTk1XSwxMTg6WzIsMTk1XSwxMjY6WzIsMTk1XSwxMjk6WzIsMTk1XSwxMzA6WzIsMTk1XSwxMzM6WzIsMTk1XSwxMzQ6WzIsMTk1XSwxMzU6WzIsMTk1XSwxMzY6WzIsMTk1XSwxMzc6WzIsMTk1XSwxMzg6WzIsMTk1XSwxMzk6WzIsMTk1XX0sezY6WzEsMjEzXSw3OjIxMSw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI1OlsxLDIxMl0sMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHs3OjIxNCw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTg6NDYsNTk6NDcsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7MjQ6MjE1LDI1OlsxLDExNV0sMTI1OlsxLDIxNl19LHsxOlsyLDEzNF0sNjpbMiwxMzRdLDI1OlsyLDEzNF0sMjY6WzIsMTM0XSw0OTpbMiwxMzRdLDU0OlsyLDEzNF0sNTc6WzIsMTM0XSw3MzpbMiwxMzRdLDc4OlsyLDEzNF0sODY6WzIsMTM0XSw5MTpbMiwxMzRdLDkzOlsyLDEzNF0sOTc6MjE3LDk4OlsxLDIxOF0sOTk6WzEsMjE5XSwxMDI6WzIsMTM0XSwxMDQ6WzIsMTM0XSwxMDU6WzIsMTM0XSwxMDY6WzIsMTM0XSwxMTA6WzIsMTM0XSwxMTg6WzIsMTM0XSwxMjY6WzIsMTM0XSwxMjk6WzIsMTM0XSwxMzA6WzIsMTM0XSwxMzM6WzIsMTM0XSwxMzQ6WzIsMTM0XSwxMzU6WzIsMTM0XSwxMzY6WzIsMTM0XSwxMzc6WzIsMTM0XSwxMzg6WzIsMTM0XSwxMzk6WzIsMTM0XX0sezE6WzIsMTQ4XSw2OlsyLDE0OF0sMjU6WzIsMTQ4XSwyNjpbMiwxNDhdLDQ5OlsyLDE0OF0sNTQ6WzIsMTQ4XSw1NzpbMiwxNDhdLDczOlsyLDE0OF0sNzg6WzIsMTQ4XSw4NjpbMiwxNDhdLDkxOlsyLDE0OF0sOTM6WzIsMTQ4XSwxMDI6WzIsMTQ4XSwxMDQ6WzIsMTQ4XSwxMDU6WzIsMTQ4XSwxMDY6WzIsMTQ4XSwxMTA6WzIsMTQ4XSwxMTg6WzIsMTQ4XSwxMjY6WzIsMTQ4XSwxMjk6WzIsMTQ4XSwxMzA6WzIsMTQ4XSwxMzM6WzIsMTQ4XSwxMzQ6WzIsMTQ4XSwxMzU6WzIsMTQ4XSwxMzY6WzIsMTQ4XSwxMzc6WzIsMTQ4XSwxMzg6WzIsMTQ4XSwxMzk6WzIsMTQ4XX0sezE6WzIsMTU2XSw2OlsyLDE1Nl0sMjU6WzIsMTU2XSwyNjpbMiwxNTZdLDQ5OlsyLDE1Nl0sNTQ6WzIsMTU2XSw1NzpbMiwxNTZdLDczOlsyLDE1Nl0sNzg6WzIsMTU2XSw4NjpbMiwxNTZdLDkxOlsyLDE1Nl0sOTM6WzIsMTU2XSwxMDI6WzIsMTU2XSwxMDQ6WzIsMTU2XSwxMDU6WzIsMTU2XSwxMDY6WzIsMTU2XSwxMTA6WzIsMTU2XSwxMTg6WzIsMTU2XSwxMjY6WzIsMTU2XSwxMjk6WzIsMTU2XSwxMzA6WzIsMTU2XSwxMzM6WzIsMTU2XSwxMzQ6WzIsMTU2XSwxMzU6WzIsMTU2XSwxMzY6WzIsMTU2XSwxMzc6WzIsMTU2XSwxMzg6WzIsMTU2XSwxMzk6WzIsMTU2XX0sezI1OlsxLDIyMF0sMTAzOjg0LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDk6ODUsMTEwOlsxLDY3XSwxMTE6NjgsMTI2OlsxLDgzXSwxMjk6WzEsNzZdLDEzMDpbMSw3NV0sMTMzOlsxLDc0XSwxMzQ6WzEsNzddLDEzNTpbMSw3OF0sMTM2OlsxLDc5XSwxMzc6WzEsODBdLDEzODpbMSw4MV0sMTM5OlsxLDgyXX0sezEyMDoyMjEsMTIyOjIyMiwxMjM6WzEsMjIzXX0sezE6WzIsOTddLDY6WzIsOTddLDI1OlsyLDk3XSwyNjpbMiw5N10sNDk6WzIsOTddLDU0OlsyLDk3XSw1NzpbMiw5N10sNzM6WzIsOTddLDc4OlsyLDk3XSw4NjpbMiw5N10sOTE6WzIsOTddLDkzOlsyLDk3XSwxMDI6WzIsOTddLDEwNDpbMiw5N10sMTA1OlsyLDk3XSwxMDY6WzIsOTddLDExMDpbMiw5N10sMTE4OlsyLDk3XSwxMjY6WzIsOTddLDEyOTpbMiw5N10sMTMwOlsyLDk3XSwxMzM6WzIsOTddLDEzNDpbMiw5N10sMTM1OlsyLDk3XSwxMzY6WzIsOTddLDEzNzpbMiw5N10sMTM4OlsyLDk3XSwxMzk6WzIsOTddfSx7NzoyMjQsODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezE6WzIsMTAwXSw2OlsyLDEwMF0sMjQ6MjI1LDI1OlsxLDExNV0sMjY6WzIsMTAwXSw0OTpbMiwxMDBdLDU0OlsyLDEwMF0sNTc6WzIsMTAwXSw2NjpbMiw3Ml0sNjc6WzIsNzJdLDY4OlsyLDcyXSw2OTpbMiw3Ml0sNzE6WzIsNzJdLDczOlsyLDEwMF0sNzQ6WzIsNzJdLDc4OlsyLDEwMF0sODA6WzEsMjI2XSw4NDpbMiw3Ml0sODU6WzIsNzJdLDg2OlsyLDEwMF0sOTE6WzIsMTAwXSw5MzpbMiwxMDBdLDEwMjpbMiwxMDBdLDEwNDpbMiwxMDBdLDEwNTpbMiwxMDBdLDEwNjpbMiwxMDBdLDExMDpbMiwxMDBdLDExODpbMiwxMDBdLDEyNjpbMiwxMDBdLDEyOTpbMiwxMDBdLDEzMDpbMiwxMDBdLDEzMzpbMiwxMDBdLDEzNDpbMiwxMDBdLDEzNTpbMiwxMDBdLDEzNjpbMiwxMDBdLDEzNzpbMiwxMDBdLDEzODpbMiwxMDBdLDEzOTpbMiwxMDBdfSx7MTpbMiwxNDFdLDY6WzIsMTQxXSwyNTpbMiwxNDFdLDI2OlsyLDE0MV0sNDk6WzIsMTQxXSw1NDpbMiwxNDFdLDU3OlsyLDE0MV0sNzM6WzIsMTQxXSw3ODpbMiwxNDFdLDg2OlsyLDE0MV0sOTE6WzIsMTQxXSw5MzpbMiwxNDFdLDEwMjpbMiwxNDFdLDEwMzo4NCwxMDQ6WzIsMTQxXSwxMDU6WzIsMTQxXSwxMDY6WzIsMTQxXSwxMDk6ODUsMTEwOlsyLDE0MV0sMTExOjY4LDExODpbMiwxNDFdLDEyNjpbMiwxNDFdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7MTpbMiw0NV0sNjpbMiw0NV0sMjY6WzIsNDVdLDEwMjpbMiw0NV0sMTAzOjg0LDEwNDpbMiw0NV0sMTA2OlsyLDQ1XSwxMDk6ODUsMTEwOlsyLDQ1XSwxMTE6NjgsMTI2OlsyLDQ1XSwxMjk6WzEsNzZdLDEzMDpbMSw3NV0sMTMzOlsxLDc0XSwxMzQ6WzEsNzddLDEzNTpbMSw3OF0sMTM2OlsxLDc5XSwxMzc6WzEsODBdLDEzODpbMSw4MV0sMTM5OlsxLDgyXX0sezY6WzEsNzNdLDEwMjpbMSwyMjddfSx7NDoyMjgsNTozLDc6NCw4OjUsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezY6WzIsMTI5XSwyNTpbMiwxMjldLDU0OlsyLDEyOV0sNTc6WzEsMjMwXSw5MTpbMiwxMjldLDkyOjIyOSw5MzpbMSwxOTRdLDEwMzo4NCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA5Ojg1LDExMDpbMSw2N10sMTExOjY4LDEyNjpbMSw4M10sMTI5OlsxLDc2XSwxMzA6WzEsNzVdLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMSw3OV0sMTM3OlsxLDgwXSwxMzg6WzEsODFdLDEzOTpbMSw4Ml19LHsxOlsyLDExNV0sNjpbMiwxMTVdLDI1OlsyLDExNV0sMjY6WzIsMTE1XSw0MDpbMiwxMTVdLDQ5OlsyLDExNV0sNTQ6WzIsMTE1XSw1NzpbMiwxMTVdLDY2OlsyLDExNV0sNjc6WzIsMTE1XSw2ODpbMiwxMTVdLDY5OlsyLDExNV0sNzE6WzIsMTE1XSw3MzpbMiwxMTVdLDc0OlsyLDExNV0sNzg6WzIsMTE1XSw4NDpbMiwxMTVdLDg1OlsyLDExNV0sODY6WzIsMTE1XSw5MTpbMiwxMTVdLDkzOlsyLDExNV0sMTAyOlsyLDExNV0sMTA0OlsyLDExNV0sMTA1OlsyLDExNV0sMTA2OlsyLDExNV0sMTEwOlsyLDExNV0sMTE2OlsyLDExNV0sMTE3OlsyLDExNV0sMTE4OlsyLDExNV0sMTI2OlsyLDExNV0sMTI5OlsyLDExNV0sMTMwOlsyLDExNV0sMTMzOlsyLDExNV0sMTM0OlsyLDExNV0sMTM1OlsyLDExNV0sMTM2OlsyLDExNV0sMTM3OlsyLDExNV0sMTM4OlsyLDExNV0sMTM5OlsyLDExNV19LHs2OlsyLDUyXSwyNTpbMiw1Ml0sNTM6MjMxLDU0OlsxLDIzMl0sOTE6WzIsNTJdfSx7NjpbMiwxMjRdLDI1OlsyLDEyNF0sMjY6WzIsMTI0XSw1NDpbMiwxMjRdLDg2OlsyLDEyNF0sOTE6WzIsMTI0XX0sezc6MjAzLDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjU6WzEsMTQ3XSwyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU3OlsxLDE0OV0sNTg6NDYsNTk6NDcsNjA6MTQ4LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg3OjIzMyw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NDoxNDYsOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7NjpbMiwxMzBdLDI1OlsyLDEzMF0sMjY6WzIsMTMwXSw1NDpbMiwxMzBdLDg2OlsyLDEzMF0sOTE6WzIsMTMwXX0sezY6WzIsMTMxXSwyNTpbMiwxMzFdLDI2OlsyLDEzMV0sNTQ6WzIsMTMxXSw4NjpbMiwxMzFdLDkxOlsyLDEzMV19LHsxOlsyLDExNF0sNjpbMiwxMTRdLDI1OlsyLDExNF0sMjY6WzIsMTE0XSw0MDpbMiwxMTRdLDQzOlsyLDExNF0sNDk6WzIsMTE0XSw1NDpbMiwxMTRdLDU3OlsyLDExNF0sNjY6WzIsMTE0XSw2NzpbMiwxMTRdLDY4OlsyLDExNF0sNjk6WzIsMTE0XSw3MTpbMiwxMTRdLDczOlsyLDExNF0sNzQ6WzIsMTE0XSw3ODpbMiwxMTRdLDgwOlsyLDExNF0sODQ6WzIsMTE0XSw4NTpbMiwxMTRdLDg2OlsyLDExNF0sOTE6WzIsMTE0XSw5MzpbMiwxMTRdLDEwMjpbMiwxMTRdLDEwNDpbMiwxMTRdLDEwNTpbMiwxMTRdLDEwNjpbMiwxMTRdLDExMDpbMiwxMTRdLDExNjpbMiwxMTRdLDExNzpbMiwxMTRdLDExODpbMiwxMTRdLDEyNjpbMiwxMTRdLDEyOTpbMiwxMTRdLDEzMDpbMiwxMTRdLDEzMTpbMiwxMTRdLDEzMjpbMiwxMTRdLDEzMzpbMiwxMTRdLDEzNDpbMiwxMTRdLDEzNTpbMiwxMTRdLDEzNjpbMiwxMTRdLDEzNzpbMiwxMTRdLDEzODpbMiwxMTRdLDEzOTpbMiwxMTRdLDE0MDpbMiwxMTRdfSx7MjQ6MjM0LDI1OlsxLDExNV0sMTAzOjg0LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDk6ODUsMTEwOlsxLDY3XSwxMTE6NjgsMTI2OlsxLDgzXSwxMjk6WzEsNzZdLDEzMDpbMSw3NV0sMTMzOlsxLDc0XSwxMzQ6WzEsNzddLDEzNTpbMSw3OF0sMTM2OlsxLDc5XSwxMzc6WzEsODBdLDEzODpbMSw4MV0sMTM5OlsxLDgyXX0sezE6WzIsMTQ0XSw2OlsyLDE0NF0sMjU6WzIsMTQ0XSwyNjpbMiwxNDRdLDQ5OlsyLDE0NF0sNTQ6WzIsMTQ0XSw1NzpbMiwxNDRdLDczOlsyLDE0NF0sNzg6WzIsMTQ0XSw4NjpbMiwxNDRdLDkxOlsyLDE0NF0sOTM6WzIsMTQ0XSwxMDI6WzIsMTQ0XSwxMDM6ODQsMTA0OlsxLDY0XSwxMDU6WzEsMjM1XSwxMDY6WzEsNjVdLDEwOTo4NSwxMTA6WzEsNjddLDExMTo2OCwxMTg6WzIsMTQ0XSwxMjY6WzIsMTQ0XSwxMjk6WzEsNzZdLDEzMDpbMSw3NV0sMTMzOlsxLDc0XSwxMzQ6WzEsNzddLDEzNTpbMSw3OF0sMTM2OlsxLDc5XSwxMzc6WzEsODBdLDEzODpbMSw4MV0sMTM5OlsxLDgyXX0sezE6WzIsMTQ2XSw2OlsyLDE0Nl0sMjU6WzIsMTQ2XSwyNjpbMiwxNDZdLDQ5OlsyLDE0Nl0sNTQ6WzIsMTQ2XSw1NzpbMiwxNDZdLDczOlsyLDE0Nl0sNzg6WzIsMTQ2XSw4NjpbMiwxNDZdLDkxOlsyLDE0Nl0sOTM6WzIsMTQ2XSwxMDI6WzIsMTQ2XSwxMDM6ODQsMTA0OlsxLDY0XSwxMDU6WzEsMjM2XSwxMDY6WzEsNjVdLDEwOTo4NSwxMTA6WzEsNjddLDExMTo2OCwxMTg6WzIsMTQ2XSwxMjY6WzIsMTQ2XSwxMjk6WzEsNzZdLDEzMDpbMSw3NV0sMTMzOlsxLDc0XSwxMzQ6WzEsNzddLDEzNTpbMSw3OF0sMTM2OlsxLDc5XSwxMzc6WzEsODBdLDEzODpbMSw4MV0sMTM5OlsxLDgyXX0sezE6WzIsMTUyXSw2OlsyLDE1Ml0sMjU6WzIsMTUyXSwyNjpbMiwxNTJdLDQ5OlsyLDE1Ml0sNTQ6WzIsMTUyXSw1NzpbMiwxNTJdLDczOlsyLDE1Ml0sNzg6WzIsMTUyXSw4NjpbMiwxNTJdLDkxOlsyLDE1Ml0sOTM6WzIsMTUyXSwxMDI6WzIsMTUyXSwxMDQ6WzIsMTUyXSwxMDU6WzIsMTUyXSwxMDY6WzIsMTUyXSwxMTA6WzIsMTUyXSwxMTg6WzIsMTUyXSwxMjY6WzIsMTUyXSwxMjk6WzIsMTUyXSwxMzA6WzIsMTUyXSwxMzM6WzIsMTUyXSwxMzQ6WzIsMTUyXSwxMzU6WzIsMTUyXSwxMzY6WzIsMTUyXSwxMzc6WzIsMTUyXSwxMzg6WzIsMTUyXSwxMzk6WzIsMTUyXX0sezE6WzIsMTUzXSw2OlsyLDE1M10sMjU6WzIsMTUzXSwyNjpbMiwxNTNdLDQ5OlsyLDE1M10sNTQ6WzIsMTUzXSw1NzpbMiwxNTNdLDczOlsyLDE1M10sNzg6WzIsMTUzXSw4NjpbMiwxNTNdLDkxOlsyLDE1M10sOTM6WzIsMTUzXSwxMDI6WzIsMTUzXSwxMDM6ODQsMTA0OlsxLDY0XSwxMDU6WzIsMTUzXSwxMDY6WzEsNjVdLDEwOTo4NSwxMTA6WzEsNjddLDExMTo2OCwxMTg6WzIsMTUzXSwxMjY6WzIsMTUzXSwxMjk6WzEsNzZdLDEzMDpbMSw3NV0sMTMzOlsxLDc0XSwxMzQ6WzEsNzddLDEzNTpbMSw3OF0sMTM2OlsxLDc5XSwxMzc6WzEsODBdLDEzODpbMSw4MV0sMTM5OlsxLDgyXX0sezE6WzIsMTU3XSw2OlsyLDE1N10sMjU6WzIsMTU3XSwyNjpbMiwxNTddLDQ5OlsyLDE1N10sNTQ6WzIsMTU3XSw1NzpbMiwxNTddLDczOlsyLDE1N10sNzg6WzIsMTU3XSw4NjpbMiwxNTddLDkxOlsyLDE1N10sOTM6WzIsMTU3XSwxMDI6WzIsMTU3XSwxMDQ6WzIsMTU3XSwxMDU6WzIsMTU3XSwxMDY6WzIsMTU3XSwxMTA6WzIsMTU3XSwxMTg6WzIsMTU3XSwxMjY6WzIsMTU3XSwxMjk6WzIsMTU3XSwxMzA6WzIsMTU3XSwxMzM6WzIsMTU3XSwxMzQ6WzIsMTU3XSwxMzU6WzIsMTU3XSwxMzY6WzIsMTU3XSwxMzc6WzIsMTU3XSwxMzg6WzIsMTU3XSwxMzk6WzIsMTU3XX0sezExNjpbMiwxNTldLDExNzpbMiwxNTldfSx7Mjc6MTYwLDI4OlsxLDcyXSw0NDoxNjEsNTg6MTYyLDU5OjE2Myw3NjpbMSw2OV0sODk6WzEsMTEyXSw5MDpbMSwxMTNdLDExMzoyMzcsMTE1OjE1OX0sezU0OlsxLDIzOF0sMTE2OlsyLDE2NV0sMTE3OlsyLDE2NV19LHs1NDpbMiwxNjFdLDExNjpbMiwxNjFdLDExNzpbMiwxNjFdfSx7NTQ6WzIsMTYyXSwxMTY6WzIsMTYyXSwxMTc6WzIsMTYyXX0sezU0OlsyLDE2M10sMTE2OlsyLDE2M10sMTE3OlsyLDE2M119LHs1NDpbMiwxNjRdLDExNjpbMiwxNjRdLDExNzpbMiwxNjRdfSx7MTpbMiwxNThdLDY6WzIsMTU4XSwyNTpbMiwxNThdLDI2OlsyLDE1OF0sNDk6WzIsMTU4XSw1NDpbMiwxNThdLDU3OlsyLDE1OF0sNzM6WzIsMTU4XSw3ODpbMiwxNThdLDg2OlsyLDE1OF0sOTE6WzIsMTU4XSw5MzpbMiwxNThdLDEwMjpbMiwxNThdLDEwNDpbMiwxNThdLDEwNTpbMiwxNThdLDEwNjpbMiwxNThdLDExMDpbMiwxNThdLDExODpbMiwxNThdLDEyNjpbMiwxNThdLDEyOTpbMiwxNThdLDEzMDpbMiwxNThdLDEzMzpbMiwxNThdLDEzNDpbMiwxNThdLDEzNTpbMiwxNThdLDEzNjpbMiwxNThdLDEzNzpbMiwxNThdLDEzODpbMiwxNThdLDEzOTpbMiwxNThdfSx7NzoyMzksODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezc6MjQwLDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHs2OlsyLDUyXSwyNTpbMiw1Ml0sNTM6MjQxLDU0OlsxLDI0Ml0sNzg6WzIsNTJdfSx7NjpbMiw5Ml0sMjU6WzIsOTJdLDI2OlsyLDkyXSw1NDpbMiw5Ml0sNzg6WzIsOTJdfSx7NjpbMiwzOF0sMjU6WzIsMzhdLDI2OlsyLDM4XSw0MzpbMSwyNDNdLDU0OlsyLDM4XSw3ODpbMiwzOF19LHs2OlsyLDQxXSwyNTpbMiw0MV0sMjY6WzIsNDFdLDU0OlsyLDQxXSw3ODpbMiw0MV19LHs2OlsyLDQyXSwyNTpbMiw0Ml0sMjY6WzIsNDJdLDQzOlsyLDQyXSw1NDpbMiw0Ml0sNzg6WzIsNDJdfSx7NjpbMiw0M10sMjU6WzIsNDNdLDI2OlsyLDQzXSw0MzpbMiw0M10sNTQ6WzIsNDNdLDc4OlsyLDQzXX0sezY6WzIsNDRdLDI1OlsyLDQ0XSwyNjpbMiw0NF0sNDM6WzIsNDRdLDU0OlsyLDQ0XSw3ODpbMiw0NF19LHsxOlsyLDRdLDY6WzIsNF0sMjY6WzIsNF0sMTAyOlsyLDRdfSx7MTpbMiwxOTddLDY6WzIsMTk3XSwyNTpbMiwxOTddLDI2OlsyLDE5N10sNDk6WzIsMTk3XSw1NDpbMiwxOTddLDU3OlsyLDE5N10sNzM6WzIsMTk3XSw3ODpbMiwxOTddLDg2OlsyLDE5N10sOTE6WzIsMTk3XSw5MzpbMiwxOTddLDEwMjpbMiwxOTddLDEwMzo4NCwxMDQ6WzIsMTk3XSwxMDU6WzIsMTk3XSwxMDY6WzIsMTk3XSwxMDk6ODUsMTEwOlsyLDE5N10sMTExOjY4LDExODpbMiwxOTddLDEyNjpbMiwxOTddLDEyOTpbMiwxOTddLDEzMDpbMiwxOTddLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMiwxOTddLDEzNzpbMiwxOTddLDEzODpbMiwxOTddLDEzOTpbMiwxOTddfSx7MTpbMiwxOThdLDY6WzIsMTk4XSwyNTpbMiwxOThdLDI2OlsyLDE5OF0sNDk6WzIsMTk4XSw1NDpbMiwxOThdLDU3OlsyLDE5OF0sNzM6WzIsMTk4XSw3ODpbMiwxOThdLDg2OlsyLDE5OF0sOTE6WzIsMTk4XSw5MzpbMiwxOThdLDEwMjpbMiwxOThdLDEwMzo4NCwxMDQ6WzIsMTk4XSwxMDU6WzIsMTk4XSwxMDY6WzIsMTk4XSwxMDk6ODUsMTEwOlsyLDE5OF0sMTExOjY4LDExODpbMiwxOThdLDEyNjpbMiwxOThdLDEyOTpbMiwxOThdLDEzMDpbMiwxOThdLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMiwxOThdLDEzNzpbMiwxOThdLDEzODpbMiwxOThdLDEzOTpbMiwxOThdfSx7MTpbMiwxOTldLDY6WzIsMTk5XSwyNTpbMiwxOTldLDI2OlsyLDE5OV0sNDk6WzIsMTk5XSw1NDpbMiwxOTldLDU3OlsyLDE5OV0sNzM6WzIsMTk5XSw3ODpbMiwxOTldLDg2OlsyLDE5OV0sOTE6WzIsMTk5XSw5MzpbMiwxOTldLDEwMjpbMiwxOTldLDEwMzo4NCwxMDQ6WzIsMTk5XSwxMDU6WzIsMTk5XSwxMDY6WzIsMTk5XSwxMDk6ODUsMTEwOlsyLDE5OV0sMTExOjY4LDExODpbMiwxOTldLDEyNjpbMiwxOTldLDEyOTpbMiwxOTldLDEzMDpbMiwxOTldLDEzMzpbMSw3NF0sMTM0OlsyLDE5OV0sMTM1OlsxLDc4XSwxMzY6WzIsMTk5XSwxMzc6WzIsMTk5XSwxMzg6WzIsMTk5XSwxMzk6WzIsMTk5XX0sezE6WzIsMjAwXSw2OlsyLDIwMF0sMjU6WzIsMjAwXSwyNjpbMiwyMDBdLDQ5OlsyLDIwMF0sNTQ6WzIsMjAwXSw1NzpbMiwyMDBdLDczOlsyLDIwMF0sNzg6WzIsMjAwXSw4NjpbMiwyMDBdLDkxOlsyLDIwMF0sOTM6WzIsMjAwXSwxMDI6WzIsMjAwXSwxMDM6ODQsMTA0OlsyLDIwMF0sMTA1OlsyLDIwMF0sMTA2OlsyLDIwMF0sMTA5Ojg1LDExMDpbMiwyMDBdLDExMTo2OCwxMTg6WzIsMjAwXSwxMjY6WzIsMjAwXSwxMjk6WzIsMjAwXSwxMzA6WzIsMjAwXSwxMzM6WzEsNzRdLDEzNDpbMiwyMDBdLDEzNTpbMSw3OF0sMTM2OlsyLDIwMF0sMTM3OlsyLDIwMF0sMTM4OlsyLDIwMF0sMTM5OlsyLDIwMF19LHsxOlsyLDIwMV0sNjpbMiwyMDFdLDI1OlsyLDIwMV0sMjY6WzIsMjAxXSw0OTpbMiwyMDFdLDU0OlsyLDIwMV0sNTc6WzIsMjAxXSw3MzpbMiwyMDFdLDc4OlsyLDIwMV0sODY6WzIsMjAxXSw5MTpbMiwyMDFdLDkzOlsyLDIwMV0sMTAyOlsyLDIwMV0sMTAzOjg0LDEwNDpbMiwyMDFdLDEwNTpbMiwyMDFdLDEwNjpbMiwyMDFdLDEwOTo4NSwxMTA6WzIsMjAxXSwxMTE6NjgsMTE4OlsyLDIwMV0sMTI2OlsyLDIwMV0sMTI5OlsxLDc2XSwxMzA6WzEsNzVdLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMiwyMDFdLDEzNzpbMiwyMDFdLDEzODpbMiwyMDFdLDEzOTpbMiwyMDFdfSx7MTpbMiwyMDJdLDY6WzIsMjAyXSwyNTpbMiwyMDJdLDI2OlsyLDIwMl0sNDk6WzIsMjAyXSw1NDpbMiwyMDJdLDU3OlsyLDIwMl0sNzM6WzIsMjAyXSw3ODpbMiwyMDJdLDg2OlsyLDIwMl0sOTE6WzIsMjAyXSw5MzpbMiwyMDJdLDEwMjpbMiwyMDJdLDEwMzo4NCwxMDQ6WzIsMjAyXSwxMDU6WzIsMjAyXSwxMDY6WzIsMjAyXSwxMDk6ODUsMTEwOlsyLDIwMl0sMTExOjY4LDExODpbMiwyMDJdLDEyNjpbMiwyMDJdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMiwyMDJdLDEzODpbMiwyMDJdLDEzOTpbMSw4Ml19LHsxOlsyLDIwM10sNjpbMiwyMDNdLDI1OlsyLDIwM10sMjY6WzIsMjAzXSw0OTpbMiwyMDNdLDU0OlsyLDIwM10sNTc6WzIsMjAzXSw3MzpbMiwyMDNdLDc4OlsyLDIwM10sODY6WzIsMjAzXSw5MTpbMiwyMDNdLDkzOlsyLDIwM10sMTAyOlsyLDIwM10sMTAzOjg0LDEwNDpbMiwyMDNdLDEwNTpbMiwyMDNdLDEwNjpbMiwyMDNdLDEwOTo4NSwxMTA6WzIsMjAzXSwxMTE6NjgsMTE4OlsyLDIwM10sMTI2OlsyLDIwM10sMTI5OlsxLDc2XSwxMzA6WzEsNzVdLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMSw3OV0sMTM3OlsxLDgwXSwxMzg6WzIsMjAzXSwxMzk6WzEsODJdfSx7MTpbMiwyMDRdLDY6WzIsMjA0XSwyNTpbMiwyMDRdLDI2OlsyLDIwNF0sNDk6WzIsMjA0XSw1NDpbMiwyMDRdLDU3OlsyLDIwNF0sNzM6WzIsMjA0XSw3ODpbMiwyMDRdLDg2OlsyLDIwNF0sOTE6WzIsMjA0XSw5MzpbMiwyMDRdLDEwMjpbMiwyMDRdLDEwMzo4NCwxMDQ6WzIsMjA0XSwxMDU6WzIsMjA0XSwxMDY6WzIsMjA0XSwxMDk6ODUsMTEwOlsyLDIwNF0sMTExOjY4LDExODpbMiwyMDRdLDEyNjpbMiwyMDRdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMiwyMDRdLDEzODpbMiwyMDRdLDEzOTpbMiwyMDRdfSx7MTpbMiwxODddLDY6WzIsMTg3XSwyNTpbMiwxODddLDI2OlsyLDE4N10sNDk6WzIsMTg3XSw1NDpbMiwxODddLDU3OlsyLDE4N10sNzM6WzIsMTg3XSw3ODpbMiwxODddLDg2OlsyLDE4N10sOTE6WzIsMTg3XSw5MzpbMiwxODddLDEwMjpbMiwxODddLDEwMzo4NCwxMDQ6WzEsNjRdLDEwNTpbMiwxODddLDEwNjpbMSw2NV0sMTA5Ojg1LDExMDpbMSw2N10sMTExOjY4LDExODpbMiwxODddLDEyNjpbMiwxODddLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7MTpbMiwxODZdLDY6WzIsMTg2XSwyNTpbMiwxODZdLDI2OlsyLDE4Nl0sNDk6WzIsMTg2XSw1NDpbMiwxODZdLDU3OlsyLDE4Nl0sNzM6WzIsMTg2XSw3ODpbMiwxODZdLDg2OlsyLDE4Nl0sOTE6WzIsMTg2XSw5MzpbMiwxODZdLDEwMjpbMiwxODZdLDEwMzo4NCwxMDQ6WzEsNjRdLDEwNTpbMiwxODZdLDEwNjpbMSw2NV0sMTA5Ojg1LDExMDpbMSw2N10sMTExOjY4LDExODpbMiwxODZdLDEyNjpbMiwxODZdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7MTpbMiwxMDRdLDY6WzIsMTA0XSwyNTpbMiwxMDRdLDI2OlsyLDEwNF0sNDk6WzIsMTA0XSw1NDpbMiwxMDRdLDU3OlsyLDEwNF0sNjY6WzIsMTA0XSw2NzpbMiwxMDRdLDY4OlsyLDEwNF0sNjk6WzIsMTA0XSw3MTpbMiwxMDRdLDczOlsyLDEwNF0sNzQ6WzIsMTA0XSw3ODpbMiwxMDRdLDg0OlsyLDEwNF0sODU6WzIsMTA0XSw4NjpbMiwxMDRdLDkxOlsyLDEwNF0sOTM6WzIsMTA0XSwxMDI6WzIsMTA0XSwxMDQ6WzIsMTA0XSwxMDU6WzIsMTA0XSwxMDY6WzIsMTA0XSwxMTA6WzIsMTA0XSwxMTg6WzIsMTA0XSwxMjY6WzIsMTA0XSwxMjk6WzIsMTA0XSwxMzA6WzIsMTA0XSwxMzM6WzIsMTA0XSwxMzQ6WzIsMTA0XSwxMzU6WzIsMTA0XSwxMzY6WzIsMTA0XSwxMzc6WzIsMTA0XSwxMzg6WzIsMTA0XSwxMzk6WzIsMTA0XX0sezE6WzIsODBdLDY6WzIsODBdLDI1OlsyLDgwXSwyNjpbMiw4MF0sNDA6WzIsODBdLDQ5OlsyLDgwXSw1NDpbMiw4MF0sNTc6WzIsODBdLDY2OlsyLDgwXSw2NzpbMiw4MF0sNjg6WzIsODBdLDY5OlsyLDgwXSw3MTpbMiw4MF0sNzM6WzIsODBdLDc0OlsyLDgwXSw3ODpbMiw4MF0sODA6WzIsODBdLDg0OlsyLDgwXSw4NTpbMiw4MF0sODY6WzIsODBdLDkxOlsyLDgwXSw5MzpbMiw4MF0sMTAyOlsyLDgwXSwxMDQ6WzIsODBdLDEwNTpbMiw4MF0sMTA2OlsyLDgwXSwxMTA6WzIsODBdLDExODpbMiw4MF0sMTI2OlsyLDgwXSwxMjk6WzIsODBdLDEzMDpbMiw4MF0sMTMxOlsyLDgwXSwxMzI6WzIsODBdLDEzMzpbMiw4MF0sMTM0OlsyLDgwXSwxMzU6WzIsODBdLDEzNjpbMiw4MF0sMTM3OlsyLDgwXSwxMzg6WzIsODBdLDEzOTpbMiw4MF0sMTQwOlsyLDgwXX0sezE6WzIsODFdLDY6WzIsODFdLDI1OlsyLDgxXSwyNjpbMiw4MV0sNDA6WzIsODFdLDQ5OlsyLDgxXSw1NDpbMiw4MV0sNTc6WzIsODFdLDY2OlsyLDgxXSw2NzpbMiw4MV0sNjg6WzIsODFdLDY5OlsyLDgxXSw3MTpbMiw4MV0sNzM6WzIsODFdLDc0OlsyLDgxXSw3ODpbMiw4MV0sODA6WzIsODFdLDg0OlsyLDgxXSw4NTpbMiw4MV0sODY6WzIsODFdLDkxOlsyLDgxXSw5MzpbMiw4MV0sMTAyOlsyLDgxXSwxMDQ6WzIsODFdLDEwNTpbMiw4MV0sMTA2OlsyLDgxXSwxMTA6WzIsODFdLDExODpbMiw4MV0sMTI2OlsyLDgxXSwxMjk6WzIsODFdLDEzMDpbMiw4MV0sMTMxOlsyLDgxXSwxMzI6WzIsODFdLDEzMzpbMiw4MV0sMTM0OlsyLDgxXSwxMzU6WzIsODFdLDEzNjpbMiw4MV0sMTM3OlsyLDgxXSwxMzg6WzIsODFdLDEzOTpbMiw4MV0sMTQwOlsyLDgxXX0sezE6WzIsODJdLDY6WzIsODJdLDI1OlsyLDgyXSwyNjpbMiw4Ml0sNDA6WzIsODJdLDQ5OlsyLDgyXSw1NDpbMiw4Ml0sNTc6WzIsODJdLDY2OlsyLDgyXSw2NzpbMiw4Ml0sNjg6WzIsODJdLDY5OlsyLDgyXSw3MTpbMiw4Ml0sNzM6WzIsODJdLDc0OlsyLDgyXSw3ODpbMiw4Ml0sODA6WzIsODJdLDg0OlsyLDgyXSw4NTpbMiw4Ml0sODY6WzIsODJdLDkxOlsyLDgyXSw5MzpbMiw4Ml0sMTAyOlsyLDgyXSwxMDQ6WzIsODJdLDEwNTpbMiw4Ml0sMTA2OlsyLDgyXSwxMTA6WzIsODJdLDExODpbMiw4Ml0sMTI2OlsyLDgyXSwxMjk6WzIsODJdLDEzMDpbMiw4Ml0sMTMxOlsyLDgyXSwxMzI6WzIsODJdLDEzMzpbMiw4Ml0sMTM0OlsyLDgyXSwxMzU6WzIsODJdLDEzNjpbMiw4Ml0sMTM3OlsyLDgyXSwxMzg6WzIsODJdLDEzOTpbMiw4Ml0sMTQwOlsyLDgyXX0sezE6WzIsODNdLDY6WzIsODNdLDI1OlsyLDgzXSwyNjpbMiw4M10sNDA6WzIsODNdLDQ5OlsyLDgzXSw1NDpbMiw4M10sNTc6WzIsODNdLDY2OlsyLDgzXSw2NzpbMiw4M10sNjg6WzIsODNdLDY5OlsyLDgzXSw3MTpbMiw4M10sNzM6WzIsODNdLDc0OlsyLDgzXSw3ODpbMiw4M10sODA6WzIsODNdLDg0OlsyLDgzXSw4NTpbMiw4M10sODY6WzIsODNdLDkxOlsyLDgzXSw5MzpbMiw4M10sMTAyOlsyLDgzXSwxMDQ6WzIsODNdLDEwNTpbMiw4M10sMTA2OlsyLDgzXSwxMTA6WzIsODNdLDExODpbMiw4M10sMTI2OlsyLDgzXSwxMjk6WzIsODNdLDEzMDpbMiw4M10sMTMxOlsyLDgzXSwxMzI6WzIsODNdLDEzMzpbMiw4M10sMTM0OlsyLDgzXSwxMzU6WzIsODNdLDEzNjpbMiw4M10sMTM3OlsyLDgzXSwxMzg6WzIsODNdLDEzOTpbMiw4M10sMTQwOlsyLDgzXX0sezczOlsxLDI0NF19LHs1NzpbMSwxOTVdLDczOlsyLDg4XSw5MjoyNDUsOTM6WzEsMTk0XSwxMDM6ODQsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwOTo4NSwxMTA6WzEsNjddLDExMTo2OCwxMjY6WzEsODNdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7NzM6WzIsODldfSx7NzoyNDYsODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDczOlsyLDEyM10sNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7MTE6WzIsMTE3XSwyODpbMiwxMTddLDMwOlsyLDExN10sMzE6WzIsMTE3XSwzMzpbMiwxMTddLDM0OlsyLDExN10sMzU6WzIsMTE3XSwzNjpbMiwxMTddLDM3OlsyLDExN10sMzg6WzIsMTE3XSw0NTpbMiwxMTddLDQ2OlsyLDExN10sNDc6WzIsMTE3XSw1MTpbMiwxMTddLDUyOlsyLDExN10sNzM6WzIsMTE3XSw3NjpbMiwxMTddLDc5OlsyLDExN10sODM6WzIsMTE3XSw4ODpbMiwxMTddLDg5OlsyLDExN10sOTA6WzIsMTE3XSw5NjpbMiwxMTddLDEwMDpbMiwxMTddLDEwMTpbMiwxMTddLDEwNDpbMiwxMTddLDEwNjpbMiwxMTddLDEwODpbMiwxMTddLDExMDpbMiwxMTddLDExOTpbMiwxMTddLDEyNTpbMiwxMTddLDEyNzpbMiwxMTddLDEyODpbMiwxMTddLDEyOTpbMiwxMTddLDEzMDpbMiwxMTddLDEzMTpbMiwxMTddLDEzMjpbMiwxMTddfSx7MTE6WzIsMTE4XSwyODpbMiwxMThdLDMwOlsyLDExOF0sMzE6WzIsMTE4XSwzMzpbMiwxMThdLDM0OlsyLDExOF0sMzU6WzIsMTE4XSwzNjpbMiwxMThdLDM3OlsyLDExOF0sMzg6WzIsMTE4XSw0NTpbMiwxMThdLDQ2OlsyLDExOF0sNDc6WzIsMTE4XSw1MTpbMiwxMThdLDUyOlsyLDExOF0sNzM6WzIsMTE4XSw3NjpbMiwxMThdLDc5OlsyLDExOF0sODM6WzIsMTE4XSw4ODpbMiwxMThdLDg5OlsyLDExOF0sOTA6WzIsMTE4XSw5NjpbMiwxMThdLDEwMDpbMiwxMThdLDEwMTpbMiwxMThdLDEwNDpbMiwxMThdLDEwNjpbMiwxMThdLDEwODpbMiwxMThdLDExMDpbMiwxMThdLDExOTpbMiwxMThdLDEyNTpbMiwxMThdLDEyNzpbMiwxMThdLDEyODpbMiwxMThdLDEyOTpbMiwxMThdLDEzMDpbMiwxMThdLDEzMTpbMiwxMThdLDEzMjpbMiwxMThdfSx7MTpbMiw4N10sNjpbMiw4N10sMjU6WzIsODddLDI2OlsyLDg3XSw0MDpbMiw4N10sNDk6WzIsODddLDU0OlsyLDg3XSw1NzpbMiw4N10sNjY6WzIsODddLDY3OlsyLDg3XSw2ODpbMiw4N10sNjk6WzIsODddLDcxOlsyLDg3XSw3MzpbMiw4N10sNzQ6WzIsODddLDc4OlsyLDg3XSw4MDpbMiw4N10sODQ6WzIsODddLDg1OlsyLDg3XSw4NjpbMiw4N10sOTE6WzIsODddLDkzOlsyLDg3XSwxMDI6WzIsODddLDEwNDpbMiw4N10sMTA1OlsyLDg3XSwxMDY6WzIsODddLDExMDpbMiw4N10sMTE4OlsyLDg3XSwxMjY6WzIsODddLDEyOTpbMiw4N10sMTMwOlsyLDg3XSwxMzE6WzIsODddLDEzMjpbMiw4N10sMTMzOlsyLDg3XSwxMzQ6WzIsODddLDEzNTpbMiw4N10sMTM2OlsyLDg3XSwxMzc6WzIsODddLDEzODpbMiw4N10sMTM5OlsyLDg3XSwxNDA6WzIsODddfSx7MTpbMiwxMDVdLDY6WzIsMTA1XSwyNTpbMiwxMDVdLDI2OlsyLDEwNV0sNDk6WzIsMTA1XSw1NDpbMiwxMDVdLDU3OlsyLDEwNV0sNjY6WzIsMTA1XSw2NzpbMiwxMDVdLDY4OlsyLDEwNV0sNjk6WzIsMTA1XSw3MTpbMiwxMDVdLDczOlsyLDEwNV0sNzQ6WzIsMTA1XSw3ODpbMiwxMDVdLDg0OlsyLDEwNV0sODU6WzIsMTA1XSw4NjpbMiwxMDVdLDkxOlsyLDEwNV0sOTM6WzIsMTA1XSwxMDI6WzIsMTA1XSwxMDQ6WzIsMTA1XSwxMDU6WzIsMTA1XSwxMDY6WzIsMTA1XSwxMTA6WzIsMTA1XSwxMTg6WzIsMTA1XSwxMjY6WzIsMTA1XSwxMjk6WzIsMTA1XSwxMzA6WzIsMTA1XSwxMzM6WzIsMTA1XSwxMzQ6WzIsMTA1XSwxMzU6WzIsMTA1XSwxMzY6WzIsMTA1XSwxMzc6WzIsMTA1XSwxMzg6WzIsMTA1XSwxMzk6WzIsMTA1XX0sezE6WzIsMzVdLDY6WzIsMzVdLDI1OlsyLDM1XSwyNjpbMiwzNV0sNDk6WzIsMzVdLDU0OlsyLDM1XSw1NzpbMiwzNV0sNzM6WzIsMzVdLDc4OlsyLDM1XSw4NjpbMiwzNV0sOTE6WzIsMzVdLDkzOlsyLDM1XSwxMDI6WzIsMzVdLDEwMzo4NCwxMDQ6WzIsMzVdLDEwNTpbMiwzNV0sMTA2OlsyLDM1XSwxMDk6ODUsMTEwOlsyLDM1XSwxMTE6NjgsMTE4OlsyLDM1XSwxMjY6WzIsMzVdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7NzoyNDcsODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezc6MjQ4LDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHsxOlsyLDExMF0sNjpbMiwxMTBdLDI1OlsyLDExMF0sMjY6WzIsMTEwXSw0OTpbMiwxMTBdLDU0OlsyLDExMF0sNTc6WzIsMTEwXSw2NjpbMiwxMTBdLDY3OlsyLDExMF0sNjg6WzIsMTEwXSw2OTpbMiwxMTBdLDcxOlsyLDExMF0sNzM6WzIsMTEwXSw3NDpbMiwxMTBdLDc4OlsyLDExMF0sODQ6WzIsMTEwXSw4NTpbMiwxMTBdLDg2OlsyLDExMF0sOTE6WzIsMTEwXSw5MzpbMiwxMTBdLDEwMjpbMiwxMTBdLDEwNDpbMiwxMTBdLDEwNTpbMiwxMTBdLDEwNjpbMiwxMTBdLDExMDpbMiwxMTBdLDExODpbMiwxMTBdLDEyNjpbMiwxMTBdLDEyOTpbMiwxMTBdLDEzMDpbMiwxMTBdLDEzMzpbMiwxMTBdLDEzNDpbMiwxMTBdLDEzNTpbMiwxMTBdLDEzNjpbMiwxMTBdLDEzNzpbMiwxMTBdLDEzODpbMiwxMTBdLDEzOTpbMiwxMTBdfSx7NjpbMiw1Ml0sMjU6WzIsNTJdLDUzOjI0OSw1NDpbMSwyMzJdLDg2OlsyLDUyXX0sezY6WzIsMTI5XSwyNTpbMiwxMjldLDI2OlsyLDEyOV0sNTQ6WzIsMTI5XSw1NzpbMSwyNTBdLDg2OlsyLDEyOV0sOTE6WzIsMTI5XSwxMDM6ODQsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwOTo4NSwxMTA6WzEsNjddLDExMTo2OCwxMjY6WzEsODNdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7NTA6MjUxLDUxOlsxLDU5XSw1MjpbMSw2MF19LHs2OlsyLDUzXSwyNTpbMiw1M10sMjY6WzIsNTNdLDI3OjEwOCwyODpbMSw3Ml0sNDQ6MTA5LDU1OjI1Miw1NjoxMDYsNTc6WzEsMTA3XSw1ODoxMTAsNTk6MTExLDc2OlsxLDY5XSw4OTpbMSwxMTJdLDkwOlsxLDExM119LHs2OlsxLDI1M10sMjU6WzEsMjU0XX0sezY6WzIsNjBdLDI1OlsyLDYwXSwyNjpbMiw2MF0sNDk6WzIsNjBdLDU0OlsyLDYwXX0sezc6MjU1LDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHsxOlsyLDIzXSw2OlsyLDIzXSwyNTpbMiwyM10sMjY6WzIsMjNdLDQ5OlsyLDIzXSw1NDpbMiwyM10sNTc6WzIsMjNdLDczOlsyLDIzXSw3ODpbMiwyM10sODY6WzIsMjNdLDkxOlsyLDIzXSw5MzpbMiwyM10sOTg6WzIsMjNdLDk5OlsyLDIzXSwxMDI6WzIsMjNdLDEwNDpbMiwyM10sMTA1OlsyLDIzXSwxMDY6WzIsMjNdLDExMDpbMiwyM10sMTE4OlsyLDIzXSwxMjE6WzIsMjNdLDEyMzpbMiwyM10sMTI2OlsyLDIzXSwxMjk6WzIsMjNdLDEzMDpbMiwyM10sMTMzOlsyLDIzXSwxMzQ6WzIsMjNdLDEzNTpbMiwyM10sMTM2OlsyLDIzXSwxMzc6WzIsMjNdLDEzODpbMiwyM10sMTM5OlsyLDIzXX0sezY6WzEsNzNdLDI2OlsxLDI1Nl19LHsxOlsyLDIwNV0sNjpbMiwyMDVdLDI1OlsyLDIwNV0sMjY6WzIsMjA1XSw0OTpbMiwyMDVdLDU0OlsyLDIwNV0sNTc6WzIsMjA1XSw3MzpbMiwyMDVdLDc4OlsyLDIwNV0sODY6WzIsMjA1XSw5MTpbMiwyMDVdLDkzOlsyLDIwNV0sMTAyOlsyLDIwNV0sMTAzOjg0LDEwNDpbMiwyMDVdLDEwNTpbMiwyMDVdLDEwNjpbMiwyMDVdLDEwOTo4NSwxMTA6WzIsMjA1XSwxMTE6NjgsMTE4OlsyLDIwNV0sMTI2OlsyLDIwNV0sMTI5OlsxLDc2XSwxMzA6WzEsNzVdLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMSw3OV0sMTM3OlsxLDgwXSwxMzg6WzEsODFdLDEzOTpbMSw4Ml19LHs3OjI1Nyw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTg6NDYsNTk6NDcsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7NzoyNTgsODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezE6WzIsMjA4XSw2OlsyLDIwOF0sMjU6WzIsMjA4XSwyNjpbMiwyMDhdLDQ5OlsyLDIwOF0sNTQ6WzIsMjA4XSw1NzpbMiwyMDhdLDczOlsyLDIwOF0sNzg6WzIsMjA4XSw4NjpbMiwyMDhdLDkxOlsyLDIwOF0sOTM6WzIsMjA4XSwxMDI6WzIsMjA4XSwxMDM6ODQsMTA0OlsyLDIwOF0sMTA1OlsyLDIwOF0sMTA2OlsyLDIwOF0sMTA5Ojg1LDExMDpbMiwyMDhdLDExMTo2OCwxMTg6WzIsMjA4XSwxMjY6WzIsMjA4XSwxMjk6WzEsNzZdLDEzMDpbMSw3NV0sMTMzOlsxLDc0XSwxMzQ6WzEsNzddLDEzNTpbMSw3OF0sMTM2OlsxLDc5XSwxMzc6WzEsODBdLDEzODpbMSw4MV0sMTM5OlsxLDgyXX0sezE6WzIsMTg1XSw2OlsyLDE4NV0sMjU6WzIsMTg1XSwyNjpbMiwxODVdLDQ5OlsyLDE4NV0sNTQ6WzIsMTg1XSw1NzpbMiwxODVdLDczOlsyLDE4NV0sNzg6WzIsMTg1XSw4NjpbMiwxODVdLDkxOlsyLDE4NV0sOTM6WzIsMTg1XSwxMDI6WzIsMTg1XSwxMDQ6WzIsMTg1XSwxMDU6WzIsMTg1XSwxMDY6WzIsMTg1XSwxMTA6WzIsMTg1XSwxMTg6WzIsMTg1XSwxMjY6WzIsMTg1XSwxMjk6WzIsMTg1XSwxMzA6WzIsMTg1XSwxMzM6WzIsMTg1XSwxMzQ6WzIsMTg1XSwxMzU6WzIsMTg1XSwxMzY6WzIsMTg1XSwxMzc6WzIsMTg1XSwxMzg6WzIsMTg1XSwxMzk6WzIsMTg1XX0sezc6MjU5LDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHsxOlsyLDEzNV0sNjpbMiwxMzVdLDI1OlsyLDEzNV0sMjY6WzIsMTM1XSw0OTpbMiwxMzVdLDU0OlsyLDEzNV0sNTc6WzIsMTM1XSw3MzpbMiwxMzVdLDc4OlsyLDEzNV0sODY6WzIsMTM1XSw5MTpbMiwxMzVdLDkzOlsyLDEzNV0sOTg6WzEsMjYwXSwxMDI6WzIsMTM1XSwxMDQ6WzIsMTM1XSwxMDU6WzIsMTM1XSwxMDY6WzIsMTM1XSwxMTA6WzIsMTM1XSwxMTg6WzIsMTM1XSwxMjY6WzIsMTM1XSwxMjk6WzIsMTM1XSwxMzA6WzIsMTM1XSwxMzM6WzIsMTM1XSwxMzQ6WzIsMTM1XSwxMzU6WzIsMTM1XSwxMzY6WzIsMTM1XSwxMzc6WzIsMTM1XSwxMzg6WzIsMTM1XSwxMzk6WzIsMTM1XX0sezI0OjI2MSwyNTpbMSwxMTVdfSx7MjQ6MjY0LDI1OlsxLDExNV0sMjc6MjYyLDI4OlsxLDcyXSw1OToyNjMsNzY6WzEsNjldfSx7MTIwOjI2NSwxMjI6MjIyLDEyMzpbMSwyMjNdfSx7MjY6WzEsMjY2XSwxMjE6WzEsMjY3XSwxMjI6MjY4LDEyMzpbMSwyMjNdfSx7MjY6WzIsMTc4XSwxMjE6WzIsMTc4XSwxMjM6WzIsMTc4XX0sezc6MjcwLDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NToyNjksOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7MTpbMiw5OF0sNjpbMiw5OF0sMjQ6MjcxLDI1OlsxLDExNV0sMjY6WzIsOThdLDQ5OlsyLDk4XSw1NDpbMiw5OF0sNTc6WzIsOThdLDczOlsyLDk4XSw3ODpbMiw5OF0sODY6WzIsOThdLDkxOlsyLDk4XSw5MzpbMiw5OF0sMTAyOlsyLDk4XSwxMDM6ODQsMTA0OlsxLDY0XSwxMDU6WzIsOThdLDEwNjpbMSw2NV0sMTA5Ojg1LDExMDpbMSw2N10sMTExOjY4LDExODpbMiw5OF0sMTI2OlsyLDk4XSwxMjk6WzEsNzZdLDEzMDpbMSw3NV0sMTMzOlsxLDc0XSwxMzQ6WzEsNzddLDEzNTpbMSw3OF0sMTM2OlsxLDc5XSwxMzc6WzEsODBdLDEzODpbMSw4MV0sMTM5OlsxLDgyXX0sezE6WzIsMTAxXSw2OlsyLDEwMV0sMjU6WzIsMTAxXSwyNjpbMiwxMDFdLDQ5OlsyLDEwMV0sNTQ6WzIsMTAxXSw1NzpbMiwxMDFdLDczOlsyLDEwMV0sNzg6WzIsMTAxXSw4NjpbMiwxMDFdLDkxOlsyLDEwMV0sOTM6WzIsMTAxXSwxMDI6WzIsMTAxXSwxMDQ6WzIsMTAxXSwxMDU6WzIsMTAxXSwxMDY6WzIsMTAxXSwxMTA6WzIsMTAxXSwxMTg6WzIsMTAxXSwxMjY6WzIsMTAxXSwxMjk6WzIsMTAxXSwxMzA6WzIsMTAxXSwxMzM6WzIsMTAxXSwxMzQ6WzIsMTAxXSwxMzU6WzIsMTAxXSwxMzY6WzIsMTAxXSwxMzc6WzIsMTAxXSwxMzg6WzIsMTAxXSwxMzk6WzIsMTAxXX0sezc6MjcyLDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHsxOlsyLDE0Ml0sNjpbMiwxNDJdLDI1OlsyLDE0Ml0sMjY6WzIsMTQyXSw0OTpbMiwxNDJdLDU0OlsyLDE0Ml0sNTc6WzIsMTQyXSw2NjpbMiwxNDJdLDY3OlsyLDE0Ml0sNjg6WzIsMTQyXSw2OTpbMiwxNDJdLDcxOlsyLDE0Ml0sNzM6WzIsMTQyXSw3NDpbMiwxNDJdLDc4OlsyLDE0Ml0sODQ6WzIsMTQyXSw4NTpbMiwxNDJdLDg2OlsyLDE0Ml0sOTE6WzIsMTQyXSw5MzpbMiwxNDJdLDEwMjpbMiwxNDJdLDEwNDpbMiwxNDJdLDEwNTpbMiwxNDJdLDEwNjpbMiwxNDJdLDExMDpbMiwxNDJdLDExODpbMiwxNDJdLDEyNjpbMiwxNDJdLDEyOTpbMiwxNDJdLDEzMDpbMiwxNDJdLDEzMzpbMiwxNDJdLDEzNDpbMiwxNDJdLDEzNTpbMiwxNDJdLDEzNjpbMiwxNDJdLDEzNzpbMiwxNDJdLDEzODpbMiwxNDJdLDEzOTpbMiwxNDJdfSx7NjpbMSw3M10sMjY6WzEsMjczXX0sezc6Mjc0LDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHs2OlsyLDY3XSwxMTpbMiwxMThdLDI1OlsyLDY3XSwyODpbMiwxMThdLDMwOlsyLDExOF0sMzE6WzIsMTE4XSwzMzpbMiwxMThdLDM0OlsyLDExOF0sMzU6WzIsMTE4XSwzNjpbMiwxMThdLDM3OlsyLDExOF0sMzg6WzIsMTE4XSw0NTpbMiwxMThdLDQ2OlsyLDExOF0sNDc6WzIsMTE4XSw1MTpbMiwxMThdLDUyOlsyLDExOF0sNTQ6WzIsNjddLDc2OlsyLDExOF0sNzk6WzIsMTE4XSw4MzpbMiwxMThdLDg4OlsyLDExOF0sODk6WzIsMTE4XSw5MDpbMiwxMThdLDkxOlsyLDY3XSw5NjpbMiwxMThdLDEwMDpbMiwxMThdLDEwMTpbMiwxMThdLDEwNDpbMiwxMThdLDEwNjpbMiwxMThdLDEwODpbMiwxMThdLDExMDpbMiwxMThdLDExOTpbMiwxMThdLDEyNTpbMiwxMThdLDEyNzpbMiwxMThdLDEyODpbMiwxMThdLDEyOTpbMiwxMThdLDEzMDpbMiwxMThdLDEzMTpbMiwxMThdLDEzMjpbMiwxMThdfSx7NjpbMSwyNzZdLDI1OlsxLDI3N10sOTE6WzEsMjc1XX0sezY6WzIsNTNdLDc6MjAzLDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjU6WzIsNTNdLDI2OlsyLDUzXSwyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU3OlsxLDE0OV0sNTg6NDYsNTk6NDcsNjA6MTQ4LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg2OlsyLDUzXSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5MTpbMiw1M10sOTQ6Mjc4LDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezY6WzIsNTJdLDI1OlsyLDUyXSwyNjpbMiw1Ml0sNTM6Mjc5LDU0OlsxLDIzMl19LHsxOlsyLDE4Ml0sNjpbMiwxODJdLDI1OlsyLDE4Ml0sMjY6WzIsMTgyXSw0OTpbMiwxODJdLDU0OlsyLDE4Ml0sNTc6WzIsMTgyXSw3MzpbMiwxODJdLDc4OlsyLDE4Ml0sODY6WzIsMTgyXSw5MTpbMiwxODJdLDkzOlsyLDE4Ml0sMTAyOlsyLDE4Ml0sMTA0OlsyLDE4Ml0sMTA1OlsyLDE4Ml0sMTA2OlsyLDE4Ml0sMTEwOlsyLDE4Ml0sMTE4OlsyLDE4Ml0sMTIxOlsyLDE4Ml0sMTI2OlsyLDE4Ml0sMTI5OlsyLDE4Ml0sMTMwOlsyLDE4Ml0sMTMzOlsyLDE4Ml0sMTM0OlsyLDE4Ml0sMTM1OlsyLDE4Ml0sMTM2OlsyLDE4Ml0sMTM3OlsyLDE4Ml0sMTM4OlsyLDE4Ml0sMTM5OlsyLDE4Ml19LHs3OjI4MCw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTg6NDYsNTk6NDcsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7NzoyODEsODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezExNjpbMiwxNjBdLDExNzpbMiwxNjBdfSx7Mjc6MTYwLDI4OlsxLDcyXSw0NDoxNjEsNTg6MTYyLDU5OjE2Myw3NjpbMSw2OV0sODk6WzEsMTEyXSw5MDpbMSwxMTNdLDExNToyODJ9LHsxOlsyLDE2N10sNjpbMiwxNjddLDI1OlsyLDE2N10sMjY6WzIsMTY3XSw0OTpbMiwxNjddLDU0OlsyLDE2N10sNTc6WzIsMTY3XSw3MzpbMiwxNjddLDc4OlsyLDE2N10sODY6WzIsMTY3XSw5MTpbMiwxNjddLDkzOlsyLDE2N10sMTAyOlsyLDE2N10sMTAzOjg0LDEwNDpbMiwxNjddLDEwNTpbMSwyODNdLDEwNjpbMiwxNjddLDEwOTo4NSwxMTA6WzIsMTY3XSwxMTE6NjgsMTE4OlsxLDI4NF0sMTI2OlsyLDE2N10sMTI5OlsxLDc2XSwxMzA6WzEsNzVdLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMSw3OV0sMTM3OlsxLDgwXSwxMzg6WzEsODFdLDEzOTpbMSw4Ml19LHsxOlsyLDE2OF0sNjpbMiwxNjhdLDI1OlsyLDE2OF0sMjY6WzIsMTY4XSw0OTpbMiwxNjhdLDU0OlsyLDE2OF0sNTc6WzIsMTY4XSw3MzpbMiwxNjhdLDc4OlsyLDE2OF0sODY6WzIsMTY4XSw5MTpbMiwxNjhdLDkzOlsyLDE2OF0sMTAyOlsyLDE2OF0sMTAzOjg0LDEwNDpbMiwxNjhdLDEwNTpbMSwyODVdLDEwNjpbMiwxNjhdLDEwOTo4NSwxMTA6WzIsMTY4XSwxMTE6NjgsMTE4OlsyLDE2OF0sMTI2OlsyLDE2OF0sMTI5OlsxLDc2XSwxMzA6WzEsNzVdLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMSw3OV0sMTM3OlsxLDgwXSwxMzg6WzEsODFdLDEzOTpbMSw4Ml19LHs2OlsxLDI4N10sMjU6WzEsMjg4XSw3ODpbMSwyODZdfSx7NjpbMiw1M10sMTA6MTcwLDI1OlsyLDUzXSwyNjpbMiw1M10sMjc6MTcxLDI4OlsxLDcyXSwyOToxNzIsMzA6WzEsNzBdLDMxOlsxLDcxXSw0MToyODksNDI6MTY5LDQ0OjE3Myw0NjpbMSw0NV0sNzg6WzIsNTNdLDg5OlsxLDExMl19LHs3OjI5MCw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI1OlsxLDI5MV0sMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHsxOlsyLDg2XSw2OlsyLDg2XSwyNTpbMiw4Nl0sMjY6WzIsODZdLDQwOlsyLDg2XSw0OTpbMiw4Nl0sNTQ6WzIsODZdLDU3OlsyLDg2XSw2NjpbMiw4Nl0sNjc6WzIsODZdLDY4OlsyLDg2XSw2OTpbMiw4Nl0sNzE6WzIsODZdLDczOlsyLDg2XSw3NDpbMiw4Nl0sNzg6WzIsODZdLDgwOlsyLDg2XSw4NDpbMiw4Nl0sODU6WzIsODZdLDg2OlsyLDg2XSw5MTpbMiw4Nl0sOTM6WzIsODZdLDEwMjpbMiw4Nl0sMTA0OlsyLDg2XSwxMDU6WzIsODZdLDEwNjpbMiw4Nl0sMTEwOlsyLDg2XSwxMTg6WzIsODZdLDEyNjpbMiw4Nl0sMTI5OlsyLDg2XSwxMzA6WzIsODZdLDEzMTpbMiw4Nl0sMTMyOlsyLDg2XSwxMzM6WzIsODZdLDEzNDpbMiw4Nl0sMTM1OlsyLDg2XSwxMzY6WzIsODZdLDEzNzpbMiw4Nl0sMTM4OlsyLDg2XSwxMzk6WzIsODZdLDE0MDpbMiw4Nl19LHs3OjI5Miw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTg6NDYsNTk6NDcsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzM6WzIsMTIxXSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHs3MzpbMiwxMjJdLDEwMzo4NCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA5Ojg1LDExMDpbMSw2N10sMTExOjY4LDEyNjpbMSw4M10sMTI5OlsxLDc2XSwxMzA6WzEsNzVdLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMSw3OV0sMTM3OlsxLDgwXSwxMzg6WzEsODFdLDEzOTpbMSw4Ml19LHsxOlsyLDM2XSw2OlsyLDM2XSwyNTpbMiwzNl0sMjY6WzIsMzZdLDQ5OlsyLDM2XSw1NDpbMiwzNl0sNTc6WzIsMzZdLDczOlsyLDM2XSw3ODpbMiwzNl0sODY6WzIsMzZdLDkxOlsyLDM2XSw5MzpbMiwzNl0sMTAyOlsyLDM2XSwxMDM6ODQsMTA0OlsyLDM2XSwxMDU6WzIsMzZdLDEwNjpbMiwzNl0sMTA5Ojg1LDExMDpbMiwzNl0sMTExOjY4LDExODpbMiwzNl0sMTI2OlsyLDM2XSwxMjk6WzEsNzZdLDEzMDpbMSw3NV0sMTMzOlsxLDc0XSwxMzQ6WzEsNzddLDEzNTpbMSw3OF0sMTM2OlsxLDc5XSwxMzc6WzEsODBdLDEzODpbMSw4MV0sMTM5OlsxLDgyXX0sezI2OlsxLDI5M10sMTAzOjg0LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDk6ODUsMTEwOlsxLDY3XSwxMTE6NjgsMTI2OlsxLDgzXSwxMjk6WzEsNzZdLDEzMDpbMSw3NV0sMTMzOlsxLDc0XSwxMzQ6WzEsNzddLDEzNTpbMSw3OF0sMTM2OlsxLDc5XSwxMzc6WzEsODBdLDEzODpbMSw4MV0sMTM5OlsxLDgyXX0sezY6WzEsMjc2XSwyNTpbMSwyNzddLDg2OlsxLDI5NF19LHs2OlsyLDY3XSwyNTpbMiw2N10sMjY6WzIsNjddLDU0OlsyLDY3XSw4NjpbMiw2N10sOTE6WzIsNjddfSx7MjQ6Mjk1LDI1OlsxLDExNV19LHs2OlsyLDU2XSwyNTpbMiw1Nl0sMjY6WzIsNTZdLDQ5OlsyLDU2XSw1NDpbMiw1Nl19LHsyNzoxMDgsMjg6WzEsNzJdLDQ0OjEwOSw1NToyOTYsNTY6MTA2LDU3OlsxLDEwN10sNTg6MTEwLDU5OjExMSw3NjpbMSw2OV0sODk6WzEsMTEyXSw5MDpbMSwxMTNdfSx7NjpbMiw1NF0sMjU6WzIsNTRdLDI2OlsyLDU0XSwyNzoxMDgsMjg6WzEsNzJdLDQ0OjEwOSw0ODoyOTcsNTQ6WzIsNTRdLDU1OjEwNSw1NjoxMDYsNTc6WzEsMTA3XSw1ODoxMTAsNTk6MTExLDc2OlsxLDY5XSw4OTpbMSwxMTJdLDkwOlsxLDExM119LHs2OlsyLDYxXSwyNTpbMiw2MV0sMjY6WzIsNjFdLDQ5OlsyLDYxXSw1NDpbMiw2MV0sMTAzOjg0LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDk6ODUsMTEwOlsxLDY3XSwxMTE6NjgsMTI2OlsxLDgzXSwxMjk6WzEsNzZdLDEzMDpbMSw3NV0sMTMzOlsxLDc0XSwxMzQ6WzEsNzddLDEzNTpbMSw3OF0sMTM2OlsxLDc5XSwxMzc6WzEsODBdLDEzODpbMSw4MV0sMTM5OlsxLDgyXX0sezE6WzIsMjRdLDY6WzIsMjRdLDI1OlsyLDI0XSwyNjpbMiwyNF0sNDk6WzIsMjRdLDU0OlsyLDI0XSw1NzpbMiwyNF0sNzM6WzIsMjRdLDc4OlsyLDI0XSw4NjpbMiwyNF0sOTE6WzIsMjRdLDkzOlsyLDI0XSw5ODpbMiwyNF0sOTk6WzIsMjRdLDEwMjpbMiwyNF0sMTA0OlsyLDI0XSwxMDU6WzIsMjRdLDEwNjpbMiwyNF0sMTEwOlsyLDI0XSwxMTg6WzIsMjRdLDEyMTpbMiwyNF0sMTIzOlsyLDI0XSwxMjY6WzIsMjRdLDEyOTpbMiwyNF0sMTMwOlsyLDI0XSwxMzM6WzIsMjRdLDEzNDpbMiwyNF0sMTM1OlsyLDI0XSwxMzY6WzIsMjRdLDEzNzpbMiwyNF0sMTM4OlsyLDI0XSwxMzk6WzIsMjRdfSx7MjY6WzEsMjk4XSwxMDM6ODQsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwOTo4NSwxMTA6WzEsNjddLDExMTo2OCwxMjY6WzEsODNdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7MTpbMiwyMDddLDY6WzIsMjA3XSwyNTpbMiwyMDddLDI2OlsyLDIwN10sNDk6WzIsMjA3XSw1NDpbMiwyMDddLDU3OlsyLDIwN10sNzM6WzIsMjA3XSw3ODpbMiwyMDddLDg2OlsyLDIwN10sOTE6WzIsMjA3XSw5MzpbMiwyMDddLDEwMjpbMiwyMDddLDEwMzo4NCwxMDQ6WzIsMjA3XSwxMDU6WzIsMjA3XSwxMDY6WzIsMjA3XSwxMDk6ODUsMTEwOlsyLDIwN10sMTExOjY4LDExODpbMiwyMDddLDEyNjpbMiwyMDddLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7MjQ6Mjk5LDI1OlsxLDExNV0sMTAzOjg0LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDk6ODUsMTEwOlsxLDY3XSwxMTE6NjgsMTI2OlsxLDgzXSwxMjk6WzEsNzZdLDEzMDpbMSw3NV0sMTMzOlsxLDc0XSwxMzQ6WzEsNzddLDEzNTpbMSw3OF0sMTM2OlsxLDc5XSwxMzc6WzEsODBdLDEzODpbMSw4MV0sMTM5OlsxLDgyXX0sezI0OjMwMCwyNTpbMSwxMTVdfSx7MTpbMiwxMzZdLDY6WzIsMTM2XSwyNTpbMiwxMzZdLDI2OlsyLDEzNl0sNDk6WzIsMTM2XSw1NDpbMiwxMzZdLDU3OlsyLDEzNl0sNzM6WzIsMTM2XSw3ODpbMiwxMzZdLDg2OlsyLDEzNl0sOTE6WzIsMTM2XSw5MzpbMiwxMzZdLDEwMjpbMiwxMzZdLDEwNDpbMiwxMzZdLDEwNTpbMiwxMzZdLDEwNjpbMiwxMzZdLDExMDpbMiwxMzZdLDExODpbMiwxMzZdLDEyNjpbMiwxMzZdLDEyOTpbMiwxMzZdLDEzMDpbMiwxMzZdLDEzMzpbMiwxMzZdLDEzNDpbMiwxMzZdLDEzNTpbMiwxMzZdLDEzNjpbMiwxMzZdLDEzNzpbMiwxMzZdLDEzODpbMiwxMzZdLDEzOTpbMiwxMzZdfSx7MjQ6MzAxLDI1OlsxLDExNV19LHsyNDozMDIsMjU6WzEsMTE1XX0sezE6WzIsMTQwXSw2OlsyLDE0MF0sMjU6WzIsMTQwXSwyNjpbMiwxNDBdLDQ5OlsyLDE0MF0sNTQ6WzIsMTQwXSw1NzpbMiwxNDBdLDczOlsyLDE0MF0sNzg6WzIsMTQwXSw4NjpbMiwxNDBdLDkxOlsyLDE0MF0sOTM6WzIsMTQwXSw5ODpbMiwxNDBdLDEwMjpbMiwxNDBdLDEwNDpbMiwxNDBdLDEwNTpbMiwxNDBdLDEwNjpbMiwxNDBdLDExMDpbMiwxNDBdLDExODpbMiwxNDBdLDEyNjpbMiwxNDBdLDEyOTpbMiwxNDBdLDEzMDpbMiwxNDBdLDEzMzpbMiwxNDBdLDEzNDpbMiwxNDBdLDEzNTpbMiwxNDBdLDEzNjpbMiwxNDBdLDEzNzpbMiwxNDBdLDEzODpbMiwxNDBdLDEzOTpbMiwxNDBdfSx7MjY6WzEsMzAzXSwxMjE6WzEsMzA0XSwxMjI6MjY4LDEyMzpbMSwyMjNdfSx7MTpbMiwxNzZdLDY6WzIsMTc2XSwyNTpbMiwxNzZdLDI2OlsyLDE3Nl0sNDk6WzIsMTc2XSw1NDpbMiwxNzZdLDU3OlsyLDE3Nl0sNzM6WzIsMTc2XSw3ODpbMiwxNzZdLDg2OlsyLDE3Nl0sOTE6WzIsMTc2XSw5MzpbMiwxNzZdLDEwMjpbMiwxNzZdLDEwNDpbMiwxNzZdLDEwNTpbMiwxNzZdLDEwNjpbMiwxNzZdLDExMDpbMiwxNzZdLDExODpbMiwxNzZdLDEyNjpbMiwxNzZdLDEyOTpbMiwxNzZdLDEzMDpbMiwxNzZdLDEzMzpbMiwxNzZdLDEzNDpbMiwxNzZdLDEzNTpbMiwxNzZdLDEzNjpbMiwxNzZdLDEzNzpbMiwxNzZdLDEzODpbMiwxNzZdLDEzOTpbMiwxNzZdfSx7MjQ6MzA1LDI1OlsxLDExNV19LHsyNjpbMiwxNzldLDEyMTpbMiwxNzldLDEyMzpbMiwxNzldfSx7MjQ6MzA2LDI1OlsxLDExNV0sNTQ6WzEsMzA3XX0sezI1OlsyLDEzMl0sNTQ6WzIsMTMyXSwxMDM6ODQsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwOTo4NSwxMTA6WzEsNjddLDExMTo2OCwxMjY6WzEsODNdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7MTpbMiw5OV0sNjpbMiw5OV0sMjU6WzIsOTldLDI2OlsyLDk5XSw0OTpbMiw5OV0sNTQ6WzIsOTldLDU3OlsyLDk5XSw3MzpbMiw5OV0sNzg6WzIsOTldLDg2OlsyLDk5XSw5MTpbMiw5OV0sOTM6WzIsOTldLDEwMjpbMiw5OV0sMTA0OlsyLDk5XSwxMDU6WzIsOTldLDEwNjpbMiw5OV0sMTEwOlsyLDk5XSwxMTg6WzIsOTldLDEyNjpbMiw5OV0sMTI5OlsyLDk5XSwxMzA6WzIsOTldLDEzMzpbMiw5OV0sMTM0OlsyLDk5XSwxMzU6WzIsOTldLDEzNjpbMiw5OV0sMTM3OlsyLDk5XSwxMzg6WzIsOTldLDEzOTpbMiw5OV19LHsxOlsyLDEwMl0sNjpbMiwxMDJdLDI0OjMwOCwyNTpbMSwxMTVdLDI2OlsyLDEwMl0sNDk6WzIsMTAyXSw1NDpbMiwxMDJdLDU3OlsyLDEwMl0sNzM6WzIsMTAyXSw3ODpbMiwxMDJdLDg2OlsyLDEwMl0sOTE6WzIsMTAyXSw5MzpbMiwxMDJdLDEwMjpbMiwxMDJdLDEwMzo4NCwxMDQ6WzEsNjRdLDEwNTpbMiwxMDJdLDEwNjpbMSw2NV0sMTA5Ojg1LDExMDpbMSw2N10sMTExOjY4LDExODpbMiwxMDJdLDEyNjpbMiwxMDJdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7MTAyOlsxLDMwOV19LHs5MTpbMSwzMTBdLDEwMzo4NCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA5Ojg1LDExMDpbMSw2N10sMTExOjY4LDEyNjpbMSw4M10sMTI5OlsxLDc2XSwxMzA6WzEsNzVdLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMSw3OV0sMTM3OlsxLDgwXSwxMzg6WzEsODFdLDEzOTpbMSw4Ml19LHsxOlsyLDExNl0sNjpbMiwxMTZdLDI1OlsyLDExNl0sMjY6WzIsMTE2XSw0MDpbMiwxMTZdLDQ5OlsyLDExNl0sNTQ6WzIsMTE2XSw1NzpbMiwxMTZdLDY2OlsyLDExNl0sNjc6WzIsMTE2XSw2ODpbMiwxMTZdLDY5OlsyLDExNl0sNzE6WzIsMTE2XSw3MzpbMiwxMTZdLDc0OlsyLDExNl0sNzg6WzIsMTE2XSw4NDpbMiwxMTZdLDg1OlsyLDExNl0sODY6WzIsMTE2XSw5MTpbMiwxMTZdLDkzOlsyLDExNl0sMTAyOlsyLDExNl0sMTA0OlsyLDExNl0sMTA1OlsyLDExNl0sMTA2OlsyLDExNl0sMTEwOlsyLDExNl0sMTE2OlsyLDExNl0sMTE3OlsyLDExNl0sMTE4OlsyLDExNl0sMTI2OlsyLDExNl0sMTI5OlsyLDExNl0sMTMwOlsyLDExNl0sMTMzOlsyLDExNl0sMTM0OlsyLDExNl0sMTM1OlsyLDExNl0sMTM2OlsyLDExNl0sMTM3OlsyLDExNl0sMTM4OlsyLDExNl0sMTM5OlsyLDExNl19LHs3OjIwMyw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTc6WzEsMTQ5XSw1ODo0Niw1OTo0Nyw2MDoxNDgsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTQ6MzExLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezc6MjAzLDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjU6WzEsMTQ3XSwyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU3OlsxLDE0OV0sNTg6NDYsNTk6NDcsNjA6MTQ4LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg3OjMxMiw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NDoxNDYsOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7NjpbMiwxMjVdLDI1OlsyLDEyNV0sMjY6WzIsMTI1XSw1NDpbMiwxMjVdLDg2OlsyLDEyNV0sOTE6WzIsMTI1XX0sezY6WzEsMjc2XSwyNTpbMSwyNzddLDI2OlsxLDMxM119LHsxOlsyLDE0NV0sNjpbMiwxNDVdLDI1OlsyLDE0NV0sMjY6WzIsMTQ1XSw0OTpbMiwxNDVdLDU0OlsyLDE0NV0sNTc6WzIsMTQ1XSw3MzpbMiwxNDVdLDc4OlsyLDE0NV0sODY6WzIsMTQ1XSw5MTpbMiwxNDVdLDkzOlsyLDE0NV0sMTAyOlsyLDE0NV0sMTAzOjg0LDEwNDpbMSw2NF0sMTA1OlsyLDE0NV0sMTA2OlsxLDY1XSwxMDk6ODUsMTEwOlsxLDY3XSwxMTE6NjgsMTE4OlsyLDE0NV0sMTI2OlsyLDE0NV0sMTI5OlsxLDc2XSwxMzA6WzEsNzVdLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMSw3OV0sMTM3OlsxLDgwXSwxMzg6WzEsODFdLDEzOTpbMSw4Ml19LHsxOlsyLDE0N10sNjpbMiwxNDddLDI1OlsyLDE0N10sMjY6WzIsMTQ3XSw0OTpbMiwxNDddLDU0OlsyLDE0N10sNTc6WzIsMTQ3XSw3MzpbMiwxNDddLDc4OlsyLDE0N10sODY6WzIsMTQ3XSw5MTpbMiwxNDddLDkzOlsyLDE0N10sMTAyOlsyLDE0N10sMTAzOjg0LDEwNDpbMSw2NF0sMTA1OlsyLDE0N10sMTA2OlsxLDY1XSwxMDk6ODUsMTEwOlsxLDY3XSwxMTE6NjgsMTE4OlsyLDE0N10sMTI2OlsyLDE0N10sMTI5OlsxLDc2XSwxMzA6WzEsNzVdLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMSw3OV0sMTM3OlsxLDgwXSwxMzg6WzEsODFdLDEzOTpbMSw4Ml19LHsxMTY6WzIsMTY2XSwxMTc6WzIsMTY2XX0sezc6MzE0LDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHs3OjMxNSw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTg6NDYsNTk6NDcsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7NzozMTYsODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezE6WzIsOTBdLDY6WzIsOTBdLDI1OlsyLDkwXSwyNjpbMiw5MF0sNDA6WzIsOTBdLDQ5OlsyLDkwXSw1NDpbMiw5MF0sNTc6WzIsOTBdLDY2OlsyLDkwXSw2NzpbMiw5MF0sNjg6WzIsOTBdLDY5OlsyLDkwXSw3MTpbMiw5MF0sNzM6WzIsOTBdLDc0OlsyLDkwXSw3ODpbMiw5MF0sODQ6WzIsOTBdLDg1OlsyLDkwXSw4NjpbMiw5MF0sOTE6WzIsOTBdLDkzOlsyLDkwXSwxMDI6WzIsOTBdLDEwNDpbMiw5MF0sMTA1OlsyLDkwXSwxMDY6WzIsOTBdLDExMDpbMiw5MF0sMTE2OlsyLDkwXSwxMTc6WzIsOTBdLDExODpbMiw5MF0sMTI2OlsyLDkwXSwxMjk6WzIsOTBdLDEzMDpbMiw5MF0sMTMzOlsyLDkwXSwxMzQ6WzIsOTBdLDEzNTpbMiw5MF0sMTM2OlsyLDkwXSwxMzc6WzIsOTBdLDEzODpbMiw5MF0sMTM5OlsyLDkwXX0sezEwOjE3MCwyNzoxNzEsMjg6WzEsNzJdLDI5OjE3MiwzMDpbMSw3MF0sMzE6WzEsNzFdLDQxOjMxNyw0MjoxNjksNDQ6MTczLDQ2OlsxLDQ1XSw4OTpbMSwxMTJdfSx7NjpbMiw5MV0sMTA6MTcwLDI1OlsyLDkxXSwyNjpbMiw5MV0sMjc6MTcxLDI4OlsxLDcyXSwyOToxNzIsMzA6WzEsNzBdLDMxOlsxLDcxXSw0MToxNjgsNDI6MTY5LDQ0OjE3Myw0NjpbMSw0NV0sNTQ6WzIsOTFdLDc3OjMxOCw4OTpbMSwxMTJdfSx7NjpbMiw5M10sMjU6WzIsOTNdLDI2OlsyLDkzXSw1NDpbMiw5M10sNzg6WzIsOTNdfSx7NjpbMiwzOV0sMjU6WzIsMzldLDI2OlsyLDM5XSw1NDpbMiwzOV0sNzg6WzIsMzldLDEwMzo4NCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA5Ojg1LDExMDpbMSw2N10sMTExOjY4LDEyNjpbMSw4M10sMTI5OlsxLDc2XSwxMzA6WzEsNzVdLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMSw3OV0sMTM3OlsxLDgwXSwxMzg6WzEsODFdLDEzOTpbMSw4Ml19LHs3OjMxOSw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTg6NDYsNTk6NDcsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7NzM6WzIsMTIwXSwxMDM6ODQsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwOTo4NSwxMTA6WzEsNjddLDExMTo2OCwxMjY6WzEsODNdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7MTpbMiwzN10sNjpbMiwzN10sMjU6WzIsMzddLDI2OlsyLDM3XSw0OTpbMiwzN10sNTQ6WzIsMzddLDU3OlsyLDM3XSw3MzpbMiwzN10sNzg6WzIsMzddLDg2OlsyLDM3XSw5MTpbMiwzN10sOTM6WzIsMzddLDEwMjpbMiwzN10sMTA0OlsyLDM3XSwxMDU6WzIsMzddLDEwNjpbMiwzN10sMTEwOlsyLDM3XSwxMTg6WzIsMzddLDEyNjpbMiwzN10sMTI5OlsyLDM3XSwxMzA6WzIsMzddLDEzMzpbMiwzN10sMTM0OlsyLDM3XSwxMzU6WzIsMzddLDEzNjpbMiwzN10sMTM3OlsyLDM3XSwxMzg6WzIsMzddLDEzOTpbMiwzN119LHsxOlsyLDExMV0sNjpbMiwxMTFdLDI1OlsyLDExMV0sMjY6WzIsMTExXSw0OTpbMiwxMTFdLDU0OlsyLDExMV0sNTc6WzIsMTExXSw2NjpbMiwxMTFdLDY3OlsyLDExMV0sNjg6WzIsMTExXSw2OTpbMiwxMTFdLDcxOlsyLDExMV0sNzM6WzIsMTExXSw3NDpbMiwxMTFdLDc4OlsyLDExMV0sODQ6WzIsMTExXSw4NTpbMiwxMTFdLDg2OlsyLDExMV0sOTE6WzIsMTExXSw5MzpbMiwxMTFdLDEwMjpbMiwxMTFdLDEwNDpbMiwxMTFdLDEwNTpbMiwxMTFdLDEwNjpbMiwxMTFdLDExMDpbMiwxMTFdLDExODpbMiwxMTFdLDEyNjpbMiwxMTFdLDEyOTpbMiwxMTFdLDEzMDpbMiwxMTFdLDEzMzpbMiwxMTFdLDEzNDpbMiwxMTFdLDEzNTpbMiwxMTFdLDEzNjpbMiwxMTFdLDEzNzpbMiwxMTFdLDEzODpbMiwxMTFdLDEzOTpbMiwxMTFdfSx7MTpbMiw0OF0sNjpbMiw0OF0sMjU6WzIsNDhdLDI2OlsyLDQ4XSw0OTpbMiw0OF0sNTQ6WzIsNDhdLDU3OlsyLDQ4XSw3MzpbMiw0OF0sNzg6WzIsNDhdLDg2OlsyLDQ4XSw5MTpbMiw0OF0sOTM6WzIsNDhdLDEwMjpbMiw0OF0sMTA0OlsyLDQ4XSwxMDU6WzIsNDhdLDEwNjpbMiw0OF0sMTEwOlsyLDQ4XSwxMTg6WzIsNDhdLDEyNjpbMiw0OF0sMTI5OlsyLDQ4XSwxMzA6WzIsNDhdLDEzMzpbMiw0OF0sMTM0OlsyLDQ4XSwxMzU6WzIsNDhdLDEzNjpbMiw0OF0sMTM3OlsyLDQ4XSwxMzg6WzIsNDhdLDEzOTpbMiw0OF19LHs2OlsyLDU3XSwyNTpbMiw1N10sMjY6WzIsNTddLDQ5OlsyLDU3XSw1NDpbMiw1N119LHs2OlsyLDUyXSwyNTpbMiw1Ml0sMjY6WzIsNTJdLDUzOjMyMCw1NDpbMSwyMDVdfSx7MTpbMiwyMDZdLDY6WzIsMjA2XSwyNTpbMiwyMDZdLDI2OlsyLDIwNl0sNDk6WzIsMjA2XSw1NDpbMiwyMDZdLDU3OlsyLDIwNl0sNzM6WzIsMjA2XSw3ODpbMiwyMDZdLDg2OlsyLDIwNl0sOTE6WzIsMjA2XSw5MzpbMiwyMDZdLDEwMjpbMiwyMDZdLDEwNDpbMiwyMDZdLDEwNTpbMiwyMDZdLDEwNjpbMiwyMDZdLDExMDpbMiwyMDZdLDExODpbMiwyMDZdLDEyNjpbMiwyMDZdLDEyOTpbMiwyMDZdLDEzMDpbMiwyMDZdLDEzMzpbMiwyMDZdLDEzNDpbMiwyMDZdLDEzNTpbMiwyMDZdLDEzNjpbMiwyMDZdLDEzNzpbMiwyMDZdLDEzODpbMiwyMDZdLDEzOTpbMiwyMDZdfSx7MTpbMiwxODNdLDY6WzIsMTgzXSwyNTpbMiwxODNdLDI2OlsyLDE4M10sNDk6WzIsMTgzXSw1NDpbMiwxODNdLDU3OlsyLDE4M10sNzM6WzIsMTgzXSw3ODpbMiwxODNdLDg2OlsyLDE4M10sOTE6WzIsMTgzXSw5MzpbMiwxODNdLDEwMjpbMiwxODNdLDEwNDpbMiwxODNdLDEwNTpbMiwxODNdLDEwNjpbMiwxODNdLDExMDpbMiwxODNdLDExODpbMiwxODNdLDEyMTpbMiwxODNdLDEyNjpbMiwxODNdLDEyOTpbMiwxODNdLDEzMDpbMiwxODNdLDEzMzpbMiwxODNdLDEzNDpbMiwxODNdLDEzNTpbMiwxODNdLDEzNjpbMiwxODNdLDEzNzpbMiwxODNdLDEzODpbMiwxODNdLDEzOTpbMiwxODNdfSx7MTpbMiwxMzddLDY6WzIsMTM3XSwyNTpbMiwxMzddLDI2OlsyLDEzN10sNDk6WzIsMTM3XSw1NDpbMiwxMzddLDU3OlsyLDEzN10sNzM6WzIsMTM3XSw3ODpbMiwxMzddLDg2OlsyLDEzN10sOTE6WzIsMTM3XSw5MzpbMiwxMzddLDEwMjpbMiwxMzddLDEwNDpbMiwxMzddLDEwNTpbMiwxMzddLDEwNjpbMiwxMzddLDExMDpbMiwxMzddLDExODpbMiwxMzddLDEyNjpbMiwxMzddLDEyOTpbMiwxMzddLDEzMDpbMiwxMzddLDEzMzpbMiwxMzddLDEzNDpbMiwxMzddLDEzNTpbMiwxMzddLDEzNjpbMiwxMzddLDEzNzpbMiwxMzddLDEzODpbMiwxMzddLDEzOTpbMiwxMzddfSx7MTpbMiwxMzhdLDY6WzIsMTM4XSwyNTpbMiwxMzhdLDI2OlsyLDEzOF0sNDk6WzIsMTM4XSw1NDpbMiwxMzhdLDU3OlsyLDEzOF0sNzM6WzIsMTM4XSw3ODpbMiwxMzhdLDg2OlsyLDEzOF0sOTE6WzIsMTM4XSw5MzpbMiwxMzhdLDk4OlsyLDEzOF0sMTAyOlsyLDEzOF0sMTA0OlsyLDEzOF0sMTA1OlsyLDEzOF0sMTA2OlsyLDEzOF0sMTEwOlsyLDEzOF0sMTE4OlsyLDEzOF0sMTI2OlsyLDEzOF0sMTI5OlsyLDEzOF0sMTMwOlsyLDEzOF0sMTMzOlsyLDEzOF0sMTM0OlsyLDEzOF0sMTM1OlsyLDEzOF0sMTM2OlsyLDEzOF0sMTM3OlsyLDEzOF0sMTM4OlsyLDEzOF0sMTM5OlsyLDEzOF19LHsxOlsyLDEzOV0sNjpbMiwxMzldLDI1OlsyLDEzOV0sMjY6WzIsMTM5XSw0OTpbMiwxMzldLDU0OlsyLDEzOV0sNTc6WzIsMTM5XSw3MzpbMiwxMzldLDc4OlsyLDEzOV0sODY6WzIsMTM5XSw5MTpbMiwxMzldLDkzOlsyLDEzOV0sOTg6WzIsMTM5XSwxMDI6WzIsMTM5XSwxMDQ6WzIsMTM5XSwxMDU6WzIsMTM5XSwxMDY6WzIsMTM5XSwxMTA6WzIsMTM5XSwxMTg6WzIsMTM5XSwxMjY6WzIsMTM5XSwxMjk6WzIsMTM5XSwxMzA6WzIsMTM5XSwxMzM6WzIsMTM5XSwxMzQ6WzIsMTM5XSwxMzU6WzIsMTM5XSwxMzY6WzIsMTM5XSwxMzc6WzIsMTM5XSwxMzg6WzIsMTM5XSwxMzk6WzIsMTM5XX0sezE6WzIsMTc0XSw2OlsyLDE3NF0sMjU6WzIsMTc0XSwyNjpbMiwxNzRdLDQ5OlsyLDE3NF0sNTQ6WzIsMTc0XSw1NzpbMiwxNzRdLDczOlsyLDE3NF0sNzg6WzIsMTc0XSw4NjpbMiwxNzRdLDkxOlsyLDE3NF0sOTM6WzIsMTc0XSwxMDI6WzIsMTc0XSwxMDQ6WzIsMTc0XSwxMDU6WzIsMTc0XSwxMDY6WzIsMTc0XSwxMTA6WzIsMTc0XSwxMTg6WzIsMTc0XSwxMjY6WzIsMTc0XSwxMjk6WzIsMTc0XSwxMzA6WzIsMTc0XSwxMzM6WzIsMTc0XSwxMzQ6WzIsMTc0XSwxMzU6WzIsMTc0XSwxMzY6WzIsMTc0XSwxMzc6WzIsMTc0XSwxMzg6WzIsMTc0XSwxMzk6WzIsMTc0XX0sezI0OjMyMSwyNTpbMSwxMTVdfSx7MjY6WzEsMzIyXX0sezY6WzEsMzIzXSwyNjpbMiwxODBdLDEyMTpbMiwxODBdLDEyMzpbMiwxODBdfSx7NzozMjQsODoxMTcsOToxOCwxMDoxOSwxMTpbMSwyMF0sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MSwyODpbMSw3Ml0sMjk6NDgsMzA6WzEsNzBdLDMxOlsxLDcxXSwzMjoyMiwzMzpbMSw0OV0sMzQ6WzEsNTBdLDM1OlsxLDUxXSwzNjpbMSw1Ml0sMzc6WzEsNTNdLDM4OlsxLDU0XSwzOToyMSw0NDo2Miw0NTpbMSw0NF0sNDY6WzEsNDVdLDQ3OlsxLDI3XSw1MDoyOCw1MTpbMSw1OV0sNTI6WzEsNjBdLDU4OjQ2LDU5OjQ3LDYxOjM1LDYzOjIzLDY0OjI0LDY1OjI1LDc2OlsxLDY5XSw3OTpbMSw0Ml0sODM6WzEsMjZdLDg4OlsxLDU3XSw4OTpbMSw1OF0sOTA6WzEsNTZdLDk2OlsxLDM3XSwxMDA6WzEsNDNdLDEwMTpbMSw1NV0sMTAzOjM4LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDc6MzksMTA4OlsxLDY2XSwxMDk6NDAsMTEwOlsxLDY3XSwxMTE6NjgsMTE5OlsxLDQxXSwxMjQ6MzYsMTI1OlsxLDYzXSwxMjc6WzEsMjldLDEyODpbMSwzMF0sMTI5OlsxLDMxXSwxMzA6WzEsMzJdLDEzMTpbMSwzM10sMTMyOlsxLDM0XX0sezE6WzIsMTAzXSw2OlsyLDEwM10sMjU6WzIsMTAzXSwyNjpbMiwxMDNdLDQ5OlsyLDEwM10sNTQ6WzIsMTAzXSw1NzpbMiwxMDNdLDczOlsyLDEwM10sNzg6WzIsMTAzXSw4NjpbMiwxMDNdLDkxOlsyLDEwM10sOTM6WzIsMTAzXSwxMDI6WzIsMTAzXSwxMDQ6WzIsMTAzXSwxMDU6WzIsMTAzXSwxMDY6WzIsMTAzXSwxMTA6WzIsMTAzXSwxMTg6WzIsMTAzXSwxMjY6WzIsMTAzXSwxMjk6WzIsMTAzXSwxMzA6WzIsMTAzXSwxMzM6WzIsMTAzXSwxMzQ6WzIsMTAzXSwxMzU6WzIsMTAzXSwxMzY6WzIsMTAzXSwxMzc6WzIsMTAzXSwxMzg6WzIsMTAzXSwxMzk6WzIsMTAzXX0sezE6WzIsMTQzXSw2OlsyLDE0M10sMjU6WzIsMTQzXSwyNjpbMiwxNDNdLDQ5OlsyLDE0M10sNTQ6WzIsMTQzXSw1NzpbMiwxNDNdLDY2OlsyLDE0M10sNjc6WzIsMTQzXSw2ODpbMiwxNDNdLDY5OlsyLDE0M10sNzE6WzIsMTQzXSw3MzpbMiwxNDNdLDc0OlsyLDE0M10sNzg6WzIsMTQzXSw4NDpbMiwxNDNdLDg1OlsyLDE0M10sODY6WzIsMTQzXSw5MTpbMiwxNDNdLDkzOlsyLDE0M10sMTAyOlsyLDE0M10sMTA0OlsyLDE0M10sMTA1OlsyLDE0M10sMTA2OlsyLDE0M10sMTEwOlsyLDE0M10sMTE4OlsyLDE0M10sMTI2OlsyLDE0M10sMTI5OlsyLDE0M10sMTMwOlsyLDE0M10sMTMzOlsyLDE0M10sMTM0OlsyLDE0M10sMTM1OlsyLDE0M10sMTM2OlsyLDE0M10sMTM3OlsyLDE0M10sMTM4OlsyLDE0M10sMTM5OlsyLDE0M119LHsxOlsyLDExOV0sNjpbMiwxMTldLDI1OlsyLDExOV0sMjY6WzIsMTE5XSw0OTpbMiwxMTldLDU0OlsyLDExOV0sNTc6WzIsMTE5XSw2NjpbMiwxMTldLDY3OlsyLDExOV0sNjg6WzIsMTE5XSw2OTpbMiwxMTldLDcxOlsyLDExOV0sNzM6WzIsMTE5XSw3NDpbMiwxMTldLDc4OlsyLDExOV0sODQ6WzIsMTE5XSw4NTpbMiwxMTldLDg2OlsyLDExOV0sOTE6WzIsMTE5XSw5MzpbMiwxMTldLDEwMjpbMiwxMTldLDEwNDpbMiwxMTldLDEwNTpbMiwxMTldLDEwNjpbMiwxMTldLDExMDpbMiwxMTldLDExODpbMiwxMTldLDEyNjpbMiwxMTldLDEyOTpbMiwxMTldLDEzMDpbMiwxMTldLDEzMzpbMiwxMTldLDEzNDpbMiwxMTldLDEzNTpbMiwxMTldLDEzNjpbMiwxMTldLDEzNzpbMiwxMTldLDEzODpbMiwxMTldLDEzOTpbMiwxMTldfSx7NjpbMiwxMjZdLDI1OlsyLDEyNl0sMjY6WzIsMTI2XSw1NDpbMiwxMjZdLDg2OlsyLDEyNl0sOTE6WzIsMTI2XX0sezY6WzIsNTJdLDI1OlsyLDUyXSwyNjpbMiw1Ml0sNTM6MzI1LDU0OlsxLDIzMl19LHs2OlsyLDEyN10sMjU6WzIsMTI3XSwyNjpbMiwxMjddLDU0OlsyLDEyN10sODY6WzIsMTI3XSw5MTpbMiwxMjddfSx7MTpbMiwxNjldLDY6WzIsMTY5XSwyNTpbMiwxNjldLDI2OlsyLDE2OV0sNDk6WzIsMTY5XSw1NDpbMiwxNjldLDU3OlsyLDE2OV0sNzM6WzIsMTY5XSw3ODpbMiwxNjldLDg2OlsyLDE2OV0sOTE6WzIsMTY5XSw5MzpbMiwxNjldLDEwMjpbMiwxNjldLDEwMzo4NCwxMDQ6WzIsMTY5XSwxMDU6WzIsMTY5XSwxMDY6WzIsMTY5XSwxMDk6ODUsMTEwOlsyLDE2OV0sMTExOjY4LDExODpbMSwzMjZdLDEyNjpbMiwxNjldLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7MTpbMiwxNzFdLDY6WzIsMTcxXSwyNTpbMiwxNzFdLDI2OlsyLDE3MV0sNDk6WzIsMTcxXSw1NDpbMiwxNzFdLDU3OlsyLDE3MV0sNzM6WzIsMTcxXSw3ODpbMiwxNzFdLDg2OlsyLDE3MV0sOTE6WzIsMTcxXSw5MzpbMiwxNzFdLDEwMjpbMiwxNzFdLDEwMzo4NCwxMDQ6WzIsMTcxXSwxMDU6WzEsMzI3XSwxMDY6WzIsMTcxXSwxMDk6ODUsMTEwOlsyLDE3MV0sMTExOjY4LDExODpbMiwxNzFdLDEyNjpbMiwxNzFdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7MTpbMiwxNzBdLDY6WzIsMTcwXSwyNTpbMiwxNzBdLDI2OlsyLDE3MF0sNDk6WzIsMTcwXSw1NDpbMiwxNzBdLDU3OlsyLDE3MF0sNzM6WzIsMTcwXSw3ODpbMiwxNzBdLDg2OlsyLDE3MF0sOTE6WzIsMTcwXSw5MzpbMiwxNzBdLDEwMjpbMiwxNzBdLDEwMzo4NCwxMDQ6WzIsMTcwXSwxMDU6WzIsMTcwXSwxMDY6WzIsMTcwXSwxMDk6ODUsMTEwOlsyLDE3MF0sMTExOjY4LDExODpbMiwxNzBdLDEyNjpbMiwxNzBdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7NjpbMiw5NF0sMjU6WzIsOTRdLDI2OlsyLDk0XSw1NDpbMiw5NF0sNzg6WzIsOTRdfSx7NjpbMiw1Ml0sMjU6WzIsNTJdLDI2OlsyLDUyXSw1MzozMjgsNTQ6WzEsMjQyXX0sezI2OlsxLDMyOV0sMTAzOjg0LDEwNDpbMSw2NF0sMTA2OlsxLDY1XSwxMDk6ODUsMTEwOlsxLDY3XSwxMTE6NjgsMTI2OlsxLDgzXSwxMjk6WzEsNzZdLDEzMDpbMSw3NV0sMTMzOlsxLDc0XSwxMzQ6WzEsNzddLDEzNTpbMSw3OF0sMTM2OlsxLDc5XSwxMzc6WzEsODBdLDEzODpbMSw4MV0sMTM5OlsxLDgyXX0sezY6WzEsMjUzXSwyNTpbMSwyNTRdLDI2OlsxLDMzMF19LHsyNjpbMSwzMzFdfSx7MTpbMiwxNzddLDY6WzIsMTc3XSwyNTpbMiwxNzddLDI2OlsyLDE3N10sNDk6WzIsMTc3XSw1NDpbMiwxNzddLDU3OlsyLDE3N10sNzM6WzIsMTc3XSw3ODpbMiwxNzddLDg2OlsyLDE3N10sOTE6WzIsMTc3XSw5MzpbMiwxNzddLDEwMjpbMiwxNzddLDEwNDpbMiwxNzddLDEwNTpbMiwxNzddLDEwNjpbMiwxNzddLDExMDpbMiwxNzddLDExODpbMiwxNzddLDEyNjpbMiwxNzddLDEyOTpbMiwxNzddLDEzMDpbMiwxNzddLDEzMzpbMiwxNzddLDEzNDpbMiwxNzddLDEzNTpbMiwxNzddLDEzNjpbMiwxNzddLDEzNzpbMiwxNzddLDEzODpbMiwxNzddLDEzOTpbMiwxNzddfSx7MjY6WzIsMTgxXSwxMjE6WzIsMTgxXSwxMjM6WzIsMTgxXX0sezI1OlsyLDEzM10sNTQ6WzIsMTMzXSwxMDM6ODQsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwOTo4NSwxMTA6WzEsNjddLDExMTo2OCwxMjY6WzEsODNdLDEyOTpbMSw3Nl0sMTMwOlsxLDc1XSwxMzM6WzEsNzRdLDEzNDpbMSw3N10sMTM1OlsxLDc4XSwxMzY6WzEsNzldLDEzNzpbMSw4MF0sMTM4OlsxLDgxXSwxMzk6WzEsODJdfSx7NjpbMSwyNzZdLDI1OlsxLDI3N10sMjY6WzEsMzMyXX0sezc6MzMzLDg6MTE3LDk6MTgsMTA6MTksMTE6WzEsMjBdLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjEsMjg6WzEsNzJdLDI5OjQ4LDMwOlsxLDcwXSwzMTpbMSw3MV0sMzI6MjIsMzM6WzEsNDldLDM0OlsxLDUwXSwzNTpbMSw1MV0sMzY6WzEsNTJdLDM3OlsxLDUzXSwzODpbMSw1NF0sMzk6MjEsNDQ6NjIsNDU6WzEsNDRdLDQ2OlsxLDQ1XSw0NzpbMSwyN10sNTA6MjgsNTE6WzEsNTldLDUyOlsxLDYwXSw1ODo0Niw1OTo0Nyw2MTozNSw2MzoyMyw2NDoyNCw2NToyNSw3NjpbMSw2OV0sNzk6WzEsNDJdLDgzOlsxLDI2XSw4ODpbMSw1N10sODk6WzEsNThdLDkwOlsxLDU2XSw5NjpbMSwzN10sMTAwOlsxLDQzXSwxMDE6WzEsNTVdLDEwMzozOCwxMDQ6WzEsNjRdLDEwNjpbMSw2NV0sMTA3OjM5LDEwODpbMSw2Nl0sMTA5OjQwLDExMDpbMSw2N10sMTExOjY4LDExOTpbMSw0MV0sMTI0OjM2LDEyNTpbMSw2M10sMTI3OlsxLDI5XSwxMjg6WzEsMzBdLDEyOTpbMSwzMV0sMTMwOlsxLDMyXSwxMzE6WzEsMzNdLDEzMjpbMSwzNF19LHs3OjMzNCw4OjExNyw5OjE4LDEwOjE5LDExOlsxLDIwXSwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYxLDI4OlsxLDcyXSwyOTo0OCwzMDpbMSw3MF0sMzE6WzEsNzFdLDMyOjIyLDMzOlsxLDQ5XSwzNDpbMSw1MF0sMzU6WzEsNTFdLDM2OlsxLDUyXSwzNzpbMSw1M10sMzg6WzEsNTRdLDM5OjIxLDQ0OjYyLDQ1OlsxLDQ0XSw0NjpbMSw0NV0sNDc6WzEsMjddLDUwOjI4LDUxOlsxLDU5XSw1MjpbMSw2MF0sNTg6NDYsNTk6NDcsNjE6MzUsNjM6MjMsNjQ6MjQsNjU6MjUsNzY6WzEsNjldLDc5OlsxLDQyXSw4MzpbMSwyNl0sODg6WzEsNTddLDg5OlsxLDU4XSw5MDpbMSw1Nl0sOTY6WzEsMzddLDEwMDpbMSw0M10sMTAxOlsxLDU1XSwxMDM6MzgsMTA0OlsxLDY0XSwxMDY6WzEsNjVdLDEwNzozOSwxMDg6WzEsNjZdLDEwOTo0MCwxMTA6WzEsNjddLDExMTo2OCwxMTk6WzEsNDFdLDEyNDozNiwxMjU6WzEsNjNdLDEyNzpbMSwyOV0sMTI4OlsxLDMwXSwxMjk6WzEsMzFdLDEzMDpbMSwzMl0sMTMxOlsxLDMzXSwxMzI6WzEsMzRdfSx7NjpbMSwyODddLDI1OlsxLDI4OF0sMjY6WzEsMzM1XX0sezY6WzIsNDBdLDI1OlsyLDQwXSwyNjpbMiw0MF0sNTQ6WzIsNDBdLDc4OlsyLDQwXX0sezY6WzIsNThdLDI1OlsyLDU4XSwyNjpbMiw1OF0sNDk6WzIsNThdLDU0OlsyLDU4XX0sezE6WzIsMTc1XSw2OlsyLDE3NV0sMjU6WzIsMTc1XSwyNjpbMiwxNzVdLDQ5OlsyLDE3NV0sNTQ6WzIsMTc1XSw1NzpbMiwxNzVdLDczOlsyLDE3NV0sNzg6WzIsMTc1XSw4NjpbMiwxNzVdLDkxOlsyLDE3NV0sOTM6WzIsMTc1XSwxMDI6WzIsMTc1XSwxMDQ6WzIsMTc1XSwxMDU6WzIsMTc1XSwxMDY6WzIsMTc1XSwxMTA6WzIsMTc1XSwxMTg6WzIsMTc1XSwxMjY6WzIsMTc1XSwxMjk6WzIsMTc1XSwxMzA6WzIsMTc1XSwxMzM6WzIsMTc1XSwxMzQ6WzIsMTc1XSwxMzU6WzIsMTc1XSwxMzY6WzIsMTc1XSwxMzc6WzIsMTc1XSwxMzg6WzIsMTc1XSwxMzk6WzIsMTc1XX0sezY6WzIsMTI4XSwyNTpbMiwxMjhdLDI2OlsyLDEyOF0sNTQ6WzIsMTI4XSw4NjpbMiwxMjhdLDkxOlsyLDEyOF19LHsxOlsyLDE3Ml0sNjpbMiwxNzJdLDI1OlsyLDE3Ml0sMjY6WzIsMTcyXSw0OTpbMiwxNzJdLDU0OlsyLDE3Ml0sNTc6WzIsMTcyXSw3MzpbMiwxNzJdLDc4OlsyLDE3Ml0sODY6WzIsMTcyXSw5MTpbMiwxNzJdLDkzOlsyLDE3Ml0sMTAyOlsyLDE3Ml0sMTAzOjg0LDEwNDpbMiwxNzJdLDEwNTpbMiwxNzJdLDEwNjpbMiwxNzJdLDEwOTo4NSwxMTA6WzIsMTcyXSwxMTE6NjgsMTE4OlsyLDE3Ml0sMTI2OlsyLDE3Ml0sMTI5OlsxLDc2XSwxMzA6WzEsNzVdLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMSw3OV0sMTM3OlsxLDgwXSwxMzg6WzEsODFdLDEzOTpbMSw4Ml19LHsxOlsyLDE3M10sNjpbMiwxNzNdLDI1OlsyLDE3M10sMjY6WzIsMTczXSw0OTpbMiwxNzNdLDU0OlsyLDE3M10sNTc6WzIsMTczXSw3MzpbMiwxNzNdLDc4OlsyLDE3M10sODY6WzIsMTczXSw5MTpbMiwxNzNdLDkzOlsyLDE3M10sMTAyOlsyLDE3M10sMTAzOjg0LDEwNDpbMiwxNzNdLDEwNTpbMiwxNzNdLDEwNjpbMiwxNzNdLDEwOTo4NSwxMTA6WzIsMTczXSwxMTE6NjgsMTE4OlsyLDE3M10sMTI2OlsyLDE3M10sMTI5OlsxLDc2XSwxMzA6WzEsNzVdLDEzMzpbMSw3NF0sMTM0OlsxLDc3XSwxMzU6WzEsNzhdLDEzNjpbMSw3OV0sMTM3OlsxLDgwXSwxMzg6WzEsODFdLDEzOTpbMSw4Ml19LHs2OlsyLDk1XSwyNTpbMiw5NV0sMjY6WzIsOTVdLDU0OlsyLDk1XSw3ODpbMiw5NV19XSxcbmRlZmF1bHRBY3Rpb25zOiB7NTk6WzIsNTBdLDYwOlsyLDUxXSw5MTpbMiwxMDldLDE5MjpbMiw4OV19LFxucGFyc2VFcnJvcjogZnVuY3Rpb24gcGFyc2VFcnJvcihzdHIsIGhhc2gpIHtcbiAgICBpZiAoaGFzaC5yZWNvdmVyYWJsZSkge1xuICAgICAgICB0aGlzLnRyYWNlKHN0cik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHN0cik7XG4gICAgfVxufSxcbnBhcnNlOiBmdW5jdGlvbiBwYXJzZShpbnB1dCkge1xuICAgIHZhciBzZWxmID0gdGhpcywgc3RhY2sgPSBbMF0sIHZzdGFjayA9IFtudWxsXSwgbHN0YWNrID0gW10sIHRhYmxlID0gdGhpcy50YWJsZSwgeXl0ZXh0ID0gJycsIHl5bGluZW5vID0gMCwgeXlsZW5nID0gMCwgcmVjb3ZlcmluZyA9IDAsIFRFUlJPUiA9IDIsIEVPRiA9IDE7XG4gICAgdmFyIGFyZ3MgPSBsc3RhY2suc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHRoaXMubGV4ZXIuc2V0SW5wdXQoaW5wdXQpO1xuICAgIHRoaXMubGV4ZXIueXkgPSB0aGlzLnl5O1xuICAgIHRoaXMueXkubGV4ZXIgPSB0aGlzLmxleGVyO1xuICAgIHRoaXMueXkucGFyc2VyID0gdGhpcztcbiAgICBpZiAodHlwZW9mIHRoaXMubGV4ZXIueXlsbG9jID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMubGV4ZXIueXlsbG9jID0ge307XG4gICAgfVxuICAgIHZhciB5eWxvYyA9IHRoaXMubGV4ZXIueXlsbG9jO1xuICAgIGxzdGFjay5wdXNoKHl5bG9jKTtcbiAgICB2YXIgcmFuZ2VzID0gdGhpcy5sZXhlci5vcHRpb25zICYmIHRoaXMubGV4ZXIub3B0aW9ucy5yYW5nZXM7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnl5LnBhcnNlRXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5wYXJzZUVycm9yID0gdGhpcy55eS5wYXJzZUVycm9yO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGFyc2VFcnJvciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5wYXJzZUVycm9yO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BTdGFjayhuKSB7XG4gICAgICAgIHN0YWNrLmxlbmd0aCA9IHN0YWNrLmxlbmd0aCAtIDIgKiBuO1xuICAgICAgICB2c3RhY2subGVuZ3RoID0gdnN0YWNrLmxlbmd0aCAtIG47XG4gICAgICAgIGxzdGFjay5sZW5ndGggPSBsc3RhY2subGVuZ3RoIC0gbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGV4KCkge1xuICAgICAgICB2YXIgdG9rZW47XG4gICAgICAgIHRva2VuID0gc2VsZi5sZXhlci5sZXgoKSB8fCBFT0Y7XG4gICAgICAgIGlmICh0eXBlb2YgdG9rZW4gIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHNlbGYuc3ltYm9sc19bdG9rZW5dIHx8IHRva2VuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgdmFyIHN5bWJvbCwgcHJlRXJyb3JTeW1ib2wsIHN0YXRlLCBhY3Rpb24sIGEsIHIsIHl5dmFsID0ge30sIHAsIGxlbiwgbmV3U3RhdGUsIGV4cGVjdGVkO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHRBY3Rpb25zW3N0YXRlXSkge1xuICAgICAgICAgICAgYWN0aW9uID0gdGhpcy5kZWZhdWx0QWN0aW9uc1tzdGF0ZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc3ltYm9sID09PSBudWxsIHx8IHR5cGVvZiBzeW1ib2wgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBzeW1ib2wgPSBsZXgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjdGlvbiA9IHRhYmxlW3N0YXRlXSAmJiB0YWJsZVtzdGF0ZV1bc3ltYm9sXTtcbiAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ3VuZGVmaW5lZCcgfHwgIWFjdGlvbi5sZW5ndGggfHwgIWFjdGlvblswXSkge1xuICAgICAgICAgICAgICAgIHZhciBlcnJTdHIgPSAnJztcbiAgICAgICAgICAgICAgICBleHBlY3RlZCA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAocCBpbiB0YWJsZVtzdGF0ZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGVybWluYWxzX1twXSAmJiBwID4gVEVSUk9SKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZC5wdXNoKCdcXCcnICsgdGhpcy50ZXJtaW5hbHNfW3BdICsgJ1xcJycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxleGVyLnNob3dQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBlcnJTdHIgPSAnUGFyc2UgZXJyb3Igb24gbGluZSAnICsgKHl5bGluZW5vICsgMSkgKyAnOlxcbicgKyB0aGlzLmxleGVyLnNob3dQb3NpdGlvbigpICsgJ1xcbkV4cGVjdGluZyAnICsgZXhwZWN0ZWQuam9pbignLCAnKSArICcsIGdvdCBcXCcnICsgKHRoaXMudGVybWluYWxzX1tzeW1ib2xdIHx8IHN5bWJvbCkgKyAnXFwnJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlcnJTdHIgPSAnUGFyc2UgZXJyb3Igb24gbGluZSAnICsgKHl5bGluZW5vICsgMSkgKyAnOiBVbmV4cGVjdGVkICcgKyAoc3ltYm9sID09IEVPRiA/ICdlbmQgb2YgaW5wdXQnIDogJ1xcJycgKyAodGhpcy50ZXJtaW5hbHNfW3N5bWJvbF0gfHwgc3ltYm9sKSArICdcXCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZUVycm9yKGVyclN0ciwge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLmxleGVyLm1hdGNoLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy50ZXJtaW5hbHNfW3N5bWJvbF0gfHwgc3ltYm9sLFxuICAgICAgICAgICAgICAgICAgICBsaW5lOiB0aGlzLmxleGVyLnl5bGluZW5vLFxuICAgICAgICAgICAgICAgICAgICBsb2M6IHl5bG9jLFxuICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogZXhwZWN0ZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGlvblswXSBpbnN0YW5jZW9mIEFycmF5ICYmIGFjdGlvbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcnNlIEVycm9yOiBtdWx0aXBsZSBhY3Rpb25zIHBvc3NpYmxlIGF0IHN0YXRlOiAnICsgc3RhdGUgKyAnLCB0b2tlbjogJyArIHN5bWJvbCk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChhY3Rpb25bMF0pIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgc3RhY2sucHVzaChzeW1ib2wpO1xuICAgICAgICAgICAgdnN0YWNrLnB1c2godGhpcy5sZXhlci55eXRleHQpO1xuICAgICAgICAgICAgbHN0YWNrLnB1c2godGhpcy5sZXhlci55eWxsb2MpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChhY3Rpb25bMV0pO1xuICAgICAgICAgICAgc3ltYm9sID0gbnVsbDtcbiAgICAgICAgICAgIGlmICghcHJlRXJyb3JTeW1ib2wpIHtcbiAgICAgICAgICAgICAgICB5eWxlbmcgPSB0aGlzLmxleGVyLnl5bGVuZztcbiAgICAgICAgICAgICAgICB5eXRleHQgPSB0aGlzLmxleGVyLnl5dGV4dDtcbiAgICAgICAgICAgICAgICB5eWxpbmVubyA9IHRoaXMubGV4ZXIueXlsaW5lbm87XG4gICAgICAgICAgICAgICAgeXlsb2MgPSB0aGlzLmxleGVyLnl5bGxvYztcbiAgICAgICAgICAgICAgICBpZiAocmVjb3ZlcmluZyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3ZlcmluZy0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3ltYm9sID0gcHJlRXJyb3JTeW1ib2w7XG4gICAgICAgICAgICAgICAgcHJlRXJyb3JTeW1ib2wgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGxlbiA9IHRoaXMucHJvZHVjdGlvbnNfW2FjdGlvblsxXV1bMV07XG4gICAgICAgICAgICB5eXZhbC4kID0gdnN0YWNrW3ZzdGFjay5sZW5ndGggLSBsZW5dO1xuICAgICAgICAgICAgeXl2YWwuXyQgPSB7XG4gICAgICAgICAgICAgICAgZmlyc3RfbGluZTogbHN0YWNrW2xzdGFjay5sZW5ndGggLSAobGVuIHx8IDEpXS5maXJzdF9saW5lLFxuICAgICAgICAgICAgICAgIGxhc3RfbGluZTogbHN0YWNrW2xzdGFjay5sZW5ndGggLSAxXS5sYXN0X2xpbmUsXG4gICAgICAgICAgICAgICAgZmlyc3RfY29sdW1uOiBsc3RhY2tbbHN0YWNrLmxlbmd0aCAtIChsZW4gfHwgMSldLmZpcnN0X2NvbHVtbixcbiAgICAgICAgICAgICAgICBsYXN0X2NvbHVtbjogbHN0YWNrW2xzdGFjay5sZW5ndGggLSAxXS5sYXN0X2NvbHVtblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChyYW5nZXMpIHtcbiAgICAgICAgICAgICAgICB5eXZhbC5fJC5yYW5nZSA9IFtcbiAgICAgICAgICAgICAgICAgICAgbHN0YWNrW2xzdGFjay5sZW5ndGggLSAobGVuIHx8IDEpXS5yYW5nZVswXSxcbiAgICAgICAgICAgICAgICAgICAgbHN0YWNrW2xzdGFjay5sZW5ndGggLSAxXS5yYW5nZVsxXVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByID0gdGhpcy5wZXJmb3JtQWN0aW9uLmFwcGx5KHl5dmFsLCBbXG4gICAgICAgICAgICAgICAgeXl0ZXh0LFxuICAgICAgICAgICAgICAgIHl5bGVuZyxcbiAgICAgICAgICAgICAgICB5eWxpbmVubyxcbiAgICAgICAgICAgICAgICB0aGlzLnl5LFxuICAgICAgICAgICAgICAgIGFjdGlvblsxXSxcbiAgICAgICAgICAgICAgICB2c3RhY2ssXG4gICAgICAgICAgICAgICAgbHN0YWNrXG4gICAgICAgICAgICBdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGVuKSB7XG4gICAgICAgICAgICAgICAgc3RhY2sgPSBzdGFjay5zbGljZSgwLCAtMSAqIGxlbiAqIDIpO1xuICAgICAgICAgICAgICAgIHZzdGFjayA9IHZzdGFjay5zbGljZSgwLCAtMSAqIGxlbik7XG4gICAgICAgICAgICAgICAgbHN0YWNrID0gbHN0YWNrLnNsaWNlKDAsIC0xICogbGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YWNrLnB1c2godGhpcy5wcm9kdWN0aW9uc19bYWN0aW9uWzFdXVswXSk7XG4gICAgICAgICAgICB2c3RhY2sucHVzaCh5eXZhbC4kKTtcbiAgICAgICAgICAgIGxzdGFjay5wdXNoKHl5dmFsLl8kKTtcbiAgICAgICAgICAgIG5ld1N0YXRlID0gdGFibGVbc3RhY2tbc3RhY2subGVuZ3RoIC0gMl1dW3N0YWNrW3N0YWNrLmxlbmd0aCAtIDFdXTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gobmV3U3RhdGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufX07XG5cbmZ1bmN0aW9uIFBhcnNlciAoKSB7XG4gIHRoaXMueXkgPSB7fTtcbn1cblBhcnNlci5wcm90b3R5cGUgPSBwYXJzZXI7cGFyc2VyLlBhcnNlciA9IFBhcnNlcjtcbnJldHVybiBuZXcgUGFyc2VyO1xufSkoKTtcblxuXG5pZiAodHlwZW9mIHJlcXVpcmUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuZXhwb3J0cy5wYXJzZXIgPSBwYXJzZXI7XG5leHBvcnRzLlBhcnNlciA9IHBhcnNlci5QYXJzZXI7XG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcGFyc2VyLnBhcnNlLmFwcGx5KHBhcnNlciwgYXJndW1lbnRzKTsgfTtcbmV4cG9ydHMubWFpbiA9IGZ1bmN0aW9uIGNvbW1vbmpzTWFpbihhcmdzKSB7XG4gICAgaWYgKCFhcmdzWzFdKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2FnZTogJythcmdzWzBdKycgRklMRScpO1xuICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgfVxuICAgIHZhciBzb3VyY2UgPSByZXF1aXJlKCdmcycpLnJlYWRGaWxlU3luYyhyZXF1aXJlKCdwYXRoJykubm9ybWFsaXplKGFyZ3NbMV0pLCBcInV0ZjhcIik7XG4gICAgcmV0dXJuIGV4cG9ydHMucGFyc2VyLnBhcnNlKHNvdXJjZSk7XG59O1xuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIHJlcXVpcmUubWFpbiA9PT0gbW9kdWxlKSB7XG4gIGV4cG9ydHMubWFpbihwcm9jZXNzLmFyZ3Yuc2xpY2UoMSkpO1xufVxufVxufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJykpIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjguMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgQ29mZmVlU2NyaXB0LCBNb2R1bGUsIGJpbmFyeSwgY2hpbGRfcHJvY2VzcywgZXh0LCBmaW5kRXh0ZW5zaW9uLCBmb3JrLCBoZWxwZXJzLCBsb2FkRmlsZSwgcGF0aCwgX2ksIF9sZW4sIF9yZWY7XG5cbiAgQ29mZmVlU2NyaXB0ID0gcmVxdWlyZSgnLi9jb2ZmZWUtc2NyaXB0Jyk7XG5cbiAgY2hpbGRfcHJvY2VzcyA9IHJlcXVpcmUoJ2NoaWxkX3Byb2Nlc3MnKTtcblxuICBoZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG5cbiAgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuICBsb2FkRmlsZSA9IGZ1bmN0aW9uKG1vZHVsZSwgZmlsZW5hbWUpIHtcbiAgICB2YXIgYW5zd2VyO1xuICAgIGFuc3dlciA9IENvZmZlZVNjcmlwdC5fY29tcGlsZUZpbGUoZmlsZW5hbWUsIGZhbHNlKTtcbiAgICByZXR1cm4gbW9kdWxlLl9jb21waWxlKGFuc3dlciwgZmlsZW5hbWUpO1xuICB9O1xuXG4gIGlmIChyZXF1aXJlLmV4dGVuc2lvbnMpIHtcbiAgICBfcmVmID0gQ29mZmVlU2NyaXB0LkZJTEVfRVhURU5TSU9OUztcbiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgIGV4dCA9IF9yZWZbX2ldO1xuICAgICAgcmVxdWlyZS5leHRlbnNpb25zW2V4dF0gPSBsb2FkRmlsZTtcbiAgICB9XG4gICAgTW9kdWxlID0gcmVxdWlyZSgnbW9kdWxlJyk7XG4gICAgZmluZEV4dGVuc2lvbiA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XG4gICAgICB2YXIgY3VyRXh0ZW5zaW9uLCBleHRlbnNpb25zO1xuICAgICAgZXh0ZW5zaW9ucyA9IHBhdGguYmFzZW5hbWUoZmlsZW5hbWUpLnNwbGl0KCcuJyk7XG4gICAgICBpZiAoZXh0ZW5zaW9uc1swXSA9PT0gJycpIHtcbiAgICAgICAgZXh0ZW5zaW9ucy5zaGlmdCgpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKGV4dGVuc2lvbnMuc2hpZnQoKSkge1xuICAgICAgICBjdXJFeHRlbnNpb24gPSAnLicgKyBleHRlbnNpb25zLmpvaW4oJy4nKTtcbiAgICAgICAgaWYgKE1vZHVsZS5fZXh0ZW5zaW9uc1tjdXJFeHRlbnNpb25dKSB7XG4gICAgICAgICAgcmV0dXJuIGN1ckV4dGVuc2lvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICcuanMnO1xuICAgIH07XG4gICAgTW9kdWxlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgICAgIHZhciBleHRlbnNpb247XG4gICAgICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gICAgICB0aGlzLnBhdGhzID0gTW9kdWxlLl9ub2RlTW9kdWxlUGF0aHMocGF0aC5kaXJuYW1lKGZpbGVuYW1lKSk7XG4gICAgICBleHRlbnNpb24gPSBmaW5kRXh0ZW5zaW9uKGZpbGVuYW1lKTtcbiAgICAgIE1vZHVsZS5fZXh0ZW5zaW9uc1tleHRlbnNpb25dKHRoaXMsIGZpbGVuYW1lKTtcbiAgICAgIHJldHVybiB0aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChjaGlsZF9wcm9jZXNzKSB7XG4gICAgZm9yayA9IGNoaWxkX3Byb2Nlc3MuZm9yaztcbiAgICBiaW5hcnkgPSByZXF1aXJlLnJlc29sdmUoJy4uLy4uL2Jpbi9jb2ZmZWUnKTtcbiAgICBjaGlsZF9wcm9jZXNzLmZvcmsgPSBmdW5jdGlvbihwYXRoLCBhcmdzLCBvcHRpb25zKSB7XG4gICAgICBpZiAoaGVscGVycy5pc0NvZmZlZShwYXRoKSkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJncykpIHtcbiAgICAgICAgICBvcHRpb25zID0gYXJncyB8fCB7fTtcbiAgICAgICAgICBhcmdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgYXJncyA9IFtwYXRoXS5jb25jYXQoYXJncyk7XG4gICAgICAgIHBhdGggPSBiaW5hcnk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZm9yayhwYXRoLCBhcmdzLCBvcHRpb25zKTtcbiAgICB9O1xuICB9XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuOC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBCQUxBTkNFRF9QQUlSUywgQ0FMTF9DTE9TRVJTLCBFWFBSRVNTSU9OX0NMT1NFLCBFWFBSRVNTSU9OX0VORCwgRVhQUkVTU0lPTl9TVEFSVCwgSU1QTElDSVRfQ0FMTCwgSU1QTElDSVRfRU5ELCBJTVBMSUNJVF9GVU5DLCBJTVBMSUNJVF9VTlNQQUNFRF9DQUxMLCBJTlZFUlNFUywgTElORUJSRUFLUywgU0lOR0xFX0NMT1NFUlMsIFNJTkdMRV9MSU5FUlMsIGdlbmVyYXRlLCBsZWZ0LCByaXRlLCBfaSwgX2xlbiwgX3JlZixcbiAgICBfX2luZGV4T2YgPSBbXS5pbmRleE9mIHx8IGZ1bmN0aW9uKGl0ZW0pIHsgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykgeyBpZiAoaSBpbiB0aGlzICYmIHRoaXNbaV0gPT09IGl0ZW0pIHJldHVybiBpOyB9IHJldHVybiAtMTsgfSxcbiAgICBfX3NsaWNlID0gW10uc2xpY2U7XG5cbiAgZ2VuZXJhdGUgPSBmdW5jdGlvbih0YWcsIHZhbHVlLCBvcmlnaW4pIHtcbiAgICB2YXIgdG9rO1xuICAgIHRvayA9IFt0YWcsIHZhbHVlXTtcbiAgICB0b2suZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICBpZiAob3JpZ2luKSB7XG4gICAgICB0b2sub3JpZ2luID0gb3JpZ2luO1xuICAgIH1cbiAgICByZXR1cm4gdG9rO1xuICB9O1xuXG4gIGV4cG9ydHMuUmV3cml0ZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gUmV3cml0ZXIoKSB7fVxuXG4gICAgUmV3cml0ZXIucHJvdG90eXBlLnJld3JpdGUgPSBmdW5jdGlvbih0b2tlbnMpIHtcbiAgICAgIHRoaXMudG9rZW5zID0gdG9rZW5zO1xuICAgICAgdGhpcy5yZW1vdmVMZWFkaW5nTmV3bGluZXMoKTtcbiAgICAgIHRoaXMuY2xvc2VPcGVuQ2FsbHMoKTtcbiAgICAgIHRoaXMuY2xvc2VPcGVuSW5kZXhlcygpO1xuICAgICAgdGhpcy5ub3JtYWxpemVMaW5lcygpO1xuICAgICAgdGhpcy50YWdQb3N0Zml4Q29uZGl0aW9uYWxzKCk7XG4gICAgICB0aGlzLmFkZEltcGxpY2l0QnJhY2VzQW5kUGFyZW5zKCk7XG4gICAgICB0aGlzLmFkZExvY2F0aW9uRGF0YVRvR2VuZXJhdGVkVG9rZW5zKCk7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbnM7XG4gICAgfTtcblxuICAgIFJld3JpdGVyLnByb3RvdHlwZS5zY2FuVG9rZW5zID0gZnVuY3Rpb24oYmxvY2spIHtcbiAgICAgIHZhciBpLCB0b2tlbiwgdG9rZW5zO1xuICAgICAgdG9rZW5zID0gdGhpcy50b2tlbnM7XG4gICAgICBpID0gMDtcbiAgICAgIHdoaWxlICh0b2tlbiA9IHRva2Vuc1tpXSkge1xuICAgICAgICBpICs9IGJsb2NrLmNhbGwodGhpcywgdG9rZW4sIGksIHRva2Vucyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgUmV3cml0ZXIucHJvdG90eXBlLmRldGVjdEVuZCA9IGZ1bmN0aW9uKGksIGNvbmRpdGlvbiwgYWN0aW9uKSB7XG4gICAgICB2YXIgbGV2ZWxzLCB0b2tlbiwgdG9rZW5zLCBfcmVmLCBfcmVmMTtcbiAgICAgIHRva2VucyA9IHRoaXMudG9rZW5zO1xuICAgICAgbGV2ZWxzID0gMDtcbiAgICAgIHdoaWxlICh0b2tlbiA9IHRva2Vuc1tpXSkge1xuICAgICAgICBpZiAobGV2ZWxzID09PSAwICYmIGNvbmRpdGlvbi5jYWxsKHRoaXMsIHRva2VuLCBpKSkge1xuICAgICAgICAgIHJldHVybiBhY3Rpb24uY2FsbCh0aGlzLCB0b2tlbiwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0b2tlbiB8fCBsZXZlbHMgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIGFjdGlvbi5jYWxsKHRoaXMsIHRva2VuLCBpIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9yZWYgPSB0b2tlblswXSwgX19pbmRleE9mLmNhbGwoRVhQUkVTU0lPTl9TVEFSVCwgX3JlZikgPj0gMCkge1xuICAgICAgICAgIGxldmVscyArPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKF9yZWYxID0gdG9rZW5bMF0sIF9faW5kZXhPZi5jYWxsKEVYUFJFU1NJT05fRU5ELCBfcmVmMSkgPj0gMCkge1xuICAgICAgICAgIGxldmVscyAtPSAxO1xuICAgICAgICB9XG4gICAgICAgIGkgKz0gMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpIC0gMTtcbiAgICB9O1xuXG4gICAgUmV3cml0ZXIucHJvdG90eXBlLnJlbW92ZUxlYWRpbmdOZXdsaW5lcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGksIHRhZywgX2ksIF9sZW4sIF9yZWY7XG4gICAgICBfcmVmID0gdGhpcy50b2tlbnM7XG4gICAgICBmb3IgKGkgPSBfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBpID0gKytfaSkge1xuICAgICAgICB0YWcgPSBfcmVmW2ldWzBdO1xuICAgICAgICBpZiAodGFnICE9PSAnVEVSTUlOQVRPUicpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW5zLnNwbGljZSgwLCBpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgUmV3cml0ZXIucHJvdG90eXBlLmNsb3NlT3BlbkNhbGxzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYWN0aW9uLCBjb25kaXRpb247XG4gICAgICBjb25kaXRpb24gPSBmdW5jdGlvbih0b2tlbiwgaSkge1xuICAgICAgICB2YXIgX3JlZjtcbiAgICAgICAgcmV0dXJuICgoX3JlZiA9IHRva2VuWzBdKSA9PT0gJyknIHx8IF9yZWYgPT09ICdDQUxMX0VORCcpIHx8IHRva2VuWzBdID09PSAnT1VUREVOVCcgJiYgdGhpcy50YWcoaSAtIDEpID09PSAnKSc7XG4gICAgICB9O1xuICAgICAgYWN0aW9uID0gZnVuY3Rpb24odG9rZW4sIGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW5zW3Rva2VuWzBdID09PSAnT1VUREVOVCcgPyBpIC0gMSA6IGldWzBdID0gJ0NBTExfRU5EJztcbiAgICAgIH07XG4gICAgICByZXR1cm4gdGhpcy5zY2FuVG9rZW5zKGZ1bmN0aW9uKHRva2VuLCBpKSB7XG4gICAgICAgIGlmICh0b2tlblswXSA9PT0gJ0NBTExfU1RBUlQnKSB7XG4gICAgICAgICAgdGhpcy5kZXRlY3RFbmQoaSArIDEsIGNvbmRpdGlvbiwgYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBSZXdyaXRlci5wcm90b3R5cGUuY2xvc2VPcGVuSW5kZXhlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFjdGlvbiwgY29uZGl0aW9uO1xuICAgICAgY29uZGl0aW9uID0gZnVuY3Rpb24odG9rZW4sIGkpIHtcbiAgICAgICAgdmFyIF9yZWY7XG4gICAgICAgIHJldHVybiAoX3JlZiA9IHRva2VuWzBdKSA9PT0gJ10nIHx8IF9yZWYgPT09ICdJTkRFWF9FTkQnO1xuICAgICAgfTtcbiAgICAgIGFjdGlvbiA9IGZ1bmN0aW9uKHRva2VuLCBpKSB7XG4gICAgICAgIHJldHVybiB0b2tlblswXSA9ICdJTkRFWF9FTkQnO1xuICAgICAgfTtcbiAgICAgIHJldHVybiB0aGlzLnNjYW5Ub2tlbnMoZnVuY3Rpb24odG9rZW4sIGkpIHtcbiAgICAgICAgaWYgKHRva2VuWzBdID09PSAnSU5ERVhfU1RBUlQnKSB7XG4gICAgICAgICAgdGhpcy5kZXRlY3RFbmQoaSArIDEsIGNvbmRpdGlvbiwgYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBSZXdyaXRlci5wcm90b3R5cGUubWF0Y2hUYWdzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZnV6eiwgaSwgaiwgcGF0dGVybiwgX2ksIF9yZWYsIF9yZWYxO1xuICAgICAgaSA9IGFyZ3VtZW50c1swXSwgcGF0dGVybiA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IF9fc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG4gICAgICBmdXp6ID0gMDtcbiAgICAgIGZvciAoaiA9IF9pID0gMCwgX3JlZiA9IHBhdHRlcm4ubGVuZ3RoOyAwIDw9IF9yZWYgPyBfaSA8IF9yZWYgOiBfaSA+IF9yZWY7IGogPSAwIDw9IF9yZWYgPyArK19pIDogLS1faSkge1xuICAgICAgICB3aGlsZSAodGhpcy50YWcoaSArIGogKyBmdXp6KSA9PT0gJ0hFUkVDT01NRU5UJykge1xuICAgICAgICAgIGZ1enogKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0dGVybltqXSA9PSBudWxsKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBwYXR0ZXJuW2pdID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHBhdHRlcm5bal0gPSBbcGF0dGVybltqXV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9yZWYxID0gdGhpcy50YWcoaSArIGogKyBmdXp6KSwgX19pbmRleE9mLmNhbGwocGF0dGVybltqXSwgX3JlZjEpIDwgMCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIFJld3JpdGVyLnByb3RvdHlwZS5sb29rc09iamVjdGlzaCA9IGZ1bmN0aW9uKGopIHtcbiAgICAgIHJldHVybiB0aGlzLm1hdGNoVGFncyhqLCAnQCcsIG51bGwsICc6JykgfHwgdGhpcy5tYXRjaFRhZ3MoaiwgbnVsbCwgJzonKTtcbiAgICB9O1xuXG4gICAgUmV3cml0ZXIucHJvdG90eXBlLmZpbmRUYWdzQmFja3dhcmRzID0gZnVuY3Rpb24oaSwgdGFncykge1xuICAgICAgdmFyIGJhY2tTdGFjaywgX3JlZiwgX3JlZjEsIF9yZWYyLCBfcmVmMywgX3JlZjQsIF9yZWY1O1xuICAgICAgYmFja1N0YWNrID0gW107XG4gICAgICB3aGlsZSAoaSA+PSAwICYmIChiYWNrU3RhY2subGVuZ3RoIHx8IChfcmVmMiA9IHRoaXMudGFnKGkpLCBfX2luZGV4T2YuY2FsbCh0YWdzLCBfcmVmMikgPCAwKSAmJiAoKF9yZWYzID0gdGhpcy50YWcoaSksIF9faW5kZXhPZi5jYWxsKEVYUFJFU1NJT05fU1RBUlQsIF9yZWYzKSA8IDApIHx8IHRoaXMudG9rZW5zW2ldLmdlbmVyYXRlZCkgJiYgKF9yZWY0ID0gdGhpcy50YWcoaSksIF9faW5kZXhPZi5jYWxsKExJTkVCUkVBS1MsIF9yZWY0KSA8IDApKSkge1xuICAgICAgICBpZiAoX3JlZiA9IHRoaXMudGFnKGkpLCBfX2luZGV4T2YuY2FsbChFWFBSRVNTSU9OX0VORCwgX3JlZikgPj0gMCkge1xuICAgICAgICAgIGJhY2tTdGFjay5wdXNoKHRoaXMudGFnKGkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKF9yZWYxID0gdGhpcy50YWcoaSksIF9faW5kZXhPZi5jYWxsKEVYUFJFU1NJT05fU1RBUlQsIF9yZWYxKSA+PSAwKSAmJiBiYWNrU3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgYmFja1N0YWNrLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGkgLT0gMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfcmVmNSA9IHRoaXMudGFnKGkpLCBfX2luZGV4T2YuY2FsbCh0YWdzLCBfcmVmNSkgPj0gMDtcbiAgICB9O1xuXG4gICAgUmV3cml0ZXIucHJvdG90eXBlLmFkZEltcGxpY2l0QnJhY2VzQW5kUGFyZW5zID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc3RhY2s7XG4gICAgICBzdGFjayA9IFtdO1xuICAgICAgcmV0dXJuIHRoaXMuc2NhblRva2VucyhmdW5jdGlvbih0b2tlbiwgaSwgdG9rZW5zKSB7XG4gICAgICAgIHZhciBlbmRJbXBsaWNpdENhbGwsIGVuZEltcGxpY2l0T2JqZWN0LCBmb3J3YXJkLCBpbkltcGxpY2l0LCBpbkltcGxpY2l0Q2FsbCwgaW5JbXBsaWNpdENvbnRyb2wsIGluSW1wbGljaXRPYmplY3QsIG5ld0xpbmUsIG5leHRUYWcsIG9mZnNldCwgcHJldlRhZywgcHJldlRva2VuLCBzLCBzYW1lTGluZSwgc3RhY2tJZHgsIHN0YWNrVGFnLCBzdGFja1RvcCwgc3RhcnRJZHgsIHN0YXJ0SW1wbGljaXRDYWxsLCBzdGFydEltcGxpY2l0T2JqZWN0LCBzdGFydHNMaW5lLCB0YWcsIF9yZWYsIF9yZWYxLCBfcmVmMiwgX3JlZjMsIF9yZWY0LCBfcmVmNTtcbiAgICAgICAgdGFnID0gdG9rZW5bMF07XG4gICAgICAgIHByZXZUYWcgPSAocHJldlRva2VuID0gaSA+IDAgPyB0b2tlbnNbaSAtIDFdIDogW10pWzBdO1xuICAgICAgICBuZXh0VGFnID0gKGkgPCB0b2tlbnMubGVuZ3RoIC0gMSA/IHRva2Vuc1tpICsgMV0gOiBbXSlbMF07XG4gICAgICAgIHN0YWNrVG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICB9O1xuICAgICAgICBzdGFydElkeCA9IGk7XG4gICAgICAgIGZvcndhcmQgPSBmdW5jdGlvbihuKSB7XG4gICAgICAgICAgcmV0dXJuIGkgLSBzdGFydElkeCArIG47XG4gICAgICAgIH07XG4gICAgICAgIGluSW1wbGljaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgX3JlZiwgX3JlZjE7XG4gICAgICAgICAgcmV0dXJuIChfcmVmID0gc3RhY2tUb3AoKSkgIT0gbnVsbCA/IChfcmVmMSA9IF9yZWZbMl0pICE9IG51bGwgPyBfcmVmMS5vdXJzIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICB9O1xuICAgICAgICBpbkltcGxpY2l0Q2FsbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBfcmVmO1xuICAgICAgICAgIHJldHVybiBpbkltcGxpY2l0KCkgJiYgKChfcmVmID0gc3RhY2tUb3AoKSkgIT0gbnVsbCA/IF9yZWZbMF0gOiB2b2lkIDApID09PSAnKCc7XG4gICAgICAgIH07XG4gICAgICAgIGluSW1wbGljaXRPYmplY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgX3JlZjtcbiAgICAgICAgICByZXR1cm4gaW5JbXBsaWNpdCgpICYmICgoX3JlZiA9IHN0YWNrVG9wKCkpICE9IG51bGwgPyBfcmVmWzBdIDogdm9pZCAwKSA9PT0gJ3snO1xuICAgICAgICB9O1xuICAgICAgICBpbkltcGxpY2l0Q29udHJvbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBfcmVmO1xuICAgICAgICAgIHJldHVybiBpbkltcGxpY2l0ICYmICgoX3JlZiA9IHN0YWNrVG9wKCkpICE9IG51bGwgPyBfcmVmWzBdIDogdm9pZCAwKSA9PT0gJ0NPTlRST0wnO1xuICAgICAgICB9O1xuICAgICAgICBzdGFydEltcGxpY2l0Q2FsbCA9IGZ1bmN0aW9uKGopIHtcbiAgICAgICAgICB2YXIgaWR4O1xuICAgICAgICAgIGlkeCA9IGogIT0gbnVsbCA/IGogOiBpO1xuICAgICAgICAgIHN0YWNrLnB1c2goW1xuICAgICAgICAgICAgJygnLCBpZHgsIHtcbiAgICAgICAgICAgICAgb3VyczogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0pO1xuICAgICAgICAgIHRva2Vucy5zcGxpY2UoaWR4LCAwLCBnZW5lcmF0ZSgnQ0FMTF9TVEFSVCcsICcoJykpO1xuICAgICAgICAgIGlmIChqID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBpICs9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBlbmRJbXBsaWNpdENhbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICB0b2tlbnMuc3BsaWNlKGksIDAsIGdlbmVyYXRlKCdDQUxMX0VORCcsICcpJykpO1xuICAgICAgICAgIHJldHVybiBpICs9IDE7XG4gICAgICAgIH07XG4gICAgICAgIHN0YXJ0SW1wbGljaXRPYmplY3QgPSBmdW5jdGlvbihqLCBzdGFydHNMaW5lKSB7XG4gICAgICAgICAgdmFyIGlkeDtcbiAgICAgICAgICBpZiAoc3RhcnRzTGluZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBzdGFydHNMaW5lID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWR4ID0gaiAhPSBudWxsID8gaiA6IGk7XG4gICAgICAgICAgc3RhY2sucHVzaChbXG4gICAgICAgICAgICAneycsIGlkeCwge1xuICAgICAgICAgICAgICBzYW1lTGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgc3RhcnRzTGluZTogc3RhcnRzTGluZSxcbiAgICAgICAgICAgICAgb3VyczogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0pO1xuICAgICAgICAgIHRva2Vucy5zcGxpY2UoaWR4LCAwLCBnZW5lcmF0ZSgneycsIGdlbmVyYXRlKG5ldyBTdHJpbmcoJ3snKSksIHRva2VuKSk7XG4gICAgICAgICAgaWYgKGogPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGkgKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGVuZEltcGxpY2l0T2JqZWN0ID0gZnVuY3Rpb24oaikge1xuICAgICAgICAgIGogPSBqICE9IG51bGwgPyBqIDogaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICB0b2tlbnMuc3BsaWNlKGosIDAsIGdlbmVyYXRlKCd9JywgJ30nLCB0b2tlbikpO1xuICAgICAgICAgIHJldHVybiBpICs9IDE7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChpbkltcGxpY2l0Q2FsbCgpICYmICh0YWcgPT09ICdJRicgfHwgdGFnID09PSAnVFJZJyB8fCB0YWcgPT09ICdGSU5BTExZJyB8fCB0YWcgPT09ICdDQVRDSCcgfHwgdGFnID09PSAnQ0xBU1MnIHx8IHRhZyA9PT0gJ1NXSVRDSCcpKSB7XG4gICAgICAgICAgc3RhY2sucHVzaChbXG4gICAgICAgICAgICAnQ09OVFJPTCcsIGksIHtcbiAgICAgICAgICAgICAgb3VyczogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0pO1xuICAgICAgICAgIHJldHVybiBmb3J3YXJkKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT09ICdJTkRFTlQnICYmIGluSW1wbGljaXQoKSkge1xuICAgICAgICAgIGlmIChwcmV2VGFnICE9PSAnPT4nICYmIHByZXZUYWcgIT09ICctPicgJiYgcHJldlRhZyAhPT0gJ1snICYmIHByZXZUYWcgIT09ICcoJyAmJiBwcmV2VGFnICE9PSAnLCcgJiYgcHJldlRhZyAhPT0gJ3snICYmIHByZXZUYWcgIT09ICdUUlknICYmIHByZXZUYWcgIT09ICdFTFNFJyAmJiBwcmV2VGFnICE9PSAnPScpIHtcbiAgICAgICAgICAgIHdoaWxlIChpbkltcGxpY2l0Q2FsbCgpKSB7XG4gICAgICAgICAgICAgIGVuZEltcGxpY2l0Q2FsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5JbXBsaWNpdENvbnRyb2woKSkge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YWNrLnB1c2goW3RhZywgaV0pO1xuICAgICAgICAgIHJldHVybiBmb3J3YXJkKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfX2luZGV4T2YuY2FsbChFWFBSRVNTSU9OX1NUQVJULCB0YWcpID49IDApIHtcbiAgICAgICAgICBzdGFjay5wdXNoKFt0YWcsIGldKTtcbiAgICAgICAgICByZXR1cm4gZm9yd2FyZCgxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX19pbmRleE9mLmNhbGwoRVhQUkVTU0lPTl9FTkQsIHRhZykgPj0gMCkge1xuICAgICAgICAgIHdoaWxlIChpbkltcGxpY2l0KCkpIHtcbiAgICAgICAgICAgIGlmIChpbkltcGxpY2l0Q2FsbCgpKSB7XG4gICAgICAgICAgICAgIGVuZEltcGxpY2l0Q2FsbCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbkltcGxpY2l0T2JqZWN0KCkpIHtcbiAgICAgICAgICAgICAgZW5kSW1wbGljaXRPYmplY3QoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKF9faW5kZXhPZi5jYWxsKElNUExJQ0lUX0ZVTkMsIHRhZykgPj0gMCAmJiB0b2tlbi5zcGFjZWQgJiYgIXRva2VuLnN0cmluZ0VuZCB8fCB0YWcgPT09ICc/JyAmJiBpID4gMCAmJiAhdG9rZW5zW2kgLSAxXS5zcGFjZWQpICYmIChfX2luZGV4T2YuY2FsbChJTVBMSUNJVF9DQUxMLCBuZXh0VGFnKSA+PSAwIHx8IF9faW5kZXhPZi5jYWxsKElNUExJQ0lUX1VOU1BBQ0VEX0NBTEwsIG5leHRUYWcpID49IDAgJiYgISgoX3JlZiA9IHRva2Vuc1tpICsgMV0pICE9IG51bGwgPyBfcmVmLnNwYWNlZCA6IHZvaWQgMCkgJiYgISgoX3JlZjEgPSB0b2tlbnNbaSArIDFdKSAhPSBudWxsID8gX3JlZjEubmV3TGluZSA6IHZvaWQgMCkpKSB7XG4gICAgICAgICAgaWYgKHRhZyA9PT0gJz8nKSB7XG4gICAgICAgICAgICB0YWcgPSB0b2tlblswXSA9ICdGVU5DX0VYSVNUJztcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhcnRJbXBsaWNpdENhbGwoaSArIDEpO1xuICAgICAgICAgIHJldHVybiBmb3J3YXJkKDIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfX2luZGV4T2YuY2FsbChJTVBMSUNJVF9GVU5DLCB0YWcpID49IDAgJiYgdGhpcy5tYXRjaFRhZ3MoaSArIDEsICdJTkRFTlQnLCBudWxsLCAnOicpICYmICF0aGlzLmZpbmRUYWdzQmFja3dhcmRzKGksIFsnQ0xBU1MnLCAnRVhURU5EUycsICdJRicsICdDQVRDSCcsICdTV0lUQ0gnLCAnTEVBRElOR19XSEVOJywgJ0ZPUicsICdXSElMRScsICdVTlRJTCddKSkge1xuICAgICAgICAgIHN0YXJ0SW1wbGljaXRDYWxsKGkgKyAxKTtcbiAgICAgICAgICBzdGFjay5wdXNoKFsnSU5ERU5UJywgaSArIDJdKTtcbiAgICAgICAgICByZXR1cm4gZm9yd2FyZCgzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09PSAnOicpIHtcbiAgICAgICAgICBpZiAodGhpcy50YWcoaSAtIDIpID09PSAnQCcpIHtcbiAgICAgICAgICAgIHMgPSBpIC0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcyA9IGkgLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3aGlsZSAodGhpcy50YWcocyAtIDIpID09PSAnSEVSRUNPTU1FTlQnKSB7XG4gICAgICAgICAgICBzIC09IDI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaW5zaWRlRm9yRGVjbGFyYXRpb24gPSBuZXh0VGFnID09PSAnRk9SJztcbiAgICAgICAgICBzdGFydHNMaW5lID0gcyA9PT0gMCB8fCAoX3JlZjIgPSB0aGlzLnRhZyhzIC0gMSksIF9faW5kZXhPZi5jYWxsKExJTkVCUkVBS1MsIF9yZWYyKSA+PSAwKSB8fCB0b2tlbnNbcyAtIDFdLm5ld0xpbmU7XG4gICAgICAgICAgaWYgKHN0YWNrVG9wKCkpIHtcbiAgICAgICAgICAgIF9yZWYzID0gc3RhY2tUb3AoKSwgc3RhY2tUYWcgPSBfcmVmM1swXSwgc3RhY2tJZHggPSBfcmVmM1sxXTtcbiAgICAgICAgICAgIGlmICgoc3RhY2tUYWcgPT09ICd7JyB8fCBzdGFja1RhZyA9PT0gJ0lOREVOVCcgJiYgdGhpcy50YWcoc3RhY2tJZHggLSAxKSA9PT0gJ3snKSAmJiAoc3RhcnRzTGluZSB8fCB0aGlzLnRhZyhzIC0gMSkgPT09ICcsJyB8fCB0aGlzLnRhZyhzIC0gMSkgPT09ICd7JykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZvcndhcmQoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YXJ0SW1wbGljaXRPYmplY3QocywgISFzdGFydHNMaW5lKTtcbiAgICAgICAgICByZXR1cm4gZm9yd2FyZCgyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5JbXBsaWNpdE9iamVjdCgpICYmIF9faW5kZXhPZi5jYWxsKExJTkVCUkVBS1MsIHRhZykgPj0gMCkge1xuICAgICAgICAgIHN0YWNrVG9wKClbMl0uc2FtZUxpbmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBuZXdMaW5lID0gcHJldlRhZyA9PT0gJ09VVERFTlQnIHx8IHByZXZUb2tlbi5uZXdMaW5lO1xuICAgICAgICBpZiAoX19pbmRleE9mLmNhbGwoSU1QTElDSVRfRU5ELCB0YWcpID49IDAgfHwgX19pbmRleE9mLmNhbGwoQ0FMTF9DTE9TRVJTLCB0YWcpID49IDAgJiYgbmV3TGluZSkge1xuICAgICAgICAgIHdoaWxlIChpbkltcGxpY2l0KCkpIHtcbiAgICAgICAgICAgIF9yZWY0ID0gc3RhY2tUb3AoKSwgc3RhY2tUYWcgPSBfcmVmNFswXSwgc3RhY2tJZHggPSBfcmVmNFsxXSwgKF9yZWY1ID0gX3JlZjRbMl0sIHNhbWVMaW5lID0gX3JlZjUuc2FtZUxpbmUsIHN0YXJ0c0xpbmUgPSBfcmVmNS5zdGFydHNMaW5lKTtcbiAgICAgICAgICAgIGlmIChpbkltcGxpY2l0Q2FsbCgpICYmIHByZXZUYWcgIT09ICcsJykge1xuICAgICAgICAgICAgICBlbmRJbXBsaWNpdENhbGwoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5JbXBsaWNpdE9iamVjdCgpICYmICF0aGlzLmluc2lkZUZvckRlY2xhcmF0aW9uICYmIHNhbWVMaW5lICYmIHRhZyAhPT0gJ1RFUk1JTkFUT1InICYmIHByZXZUYWcgIT09ICc6JyAmJiBlbmRJbXBsaWNpdE9iamVjdCgpKSB7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5JbXBsaWNpdE9iamVjdCgpICYmIHRhZyA9PT0gJ1RFUk1JTkFUT1InICYmIHByZXZUYWcgIT09ICcsJyAmJiAhKHN0YXJ0c0xpbmUgJiYgdGhpcy5sb29rc09iamVjdGlzaChpICsgMSkpKSB7XG4gICAgICAgICAgICAgIGVuZEltcGxpY2l0T2JqZWN0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PT0gJywnICYmICF0aGlzLmxvb2tzT2JqZWN0aXNoKGkgKyAxKSAmJiBpbkltcGxpY2l0T2JqZWN0KCkgJiYgIXRoaXMuaW5zaWRlRm9yRGVjbGFyYXRpb24gJiYgKG5leHRUYWcgIT09ICdURVJNSU5BVE9SJyB8fCAhdGhpcy5sb29rc09iamVjdGlzaChpICsgMikpKSB7XG4gICAgICAgICAgb2Zmc2V0ID0gbmV4dFRhZyA9PT0gJ09VVERFTlQnID8gMSA6IDA7XG4gICAgICAgICAgd2hpbGUgKGluSW1wbGljaXRPYmplY3QoKSkge1xuICAgICAgICAgICAgZW5kSW1wbGljaXRPYmplY3QoaSArIG9mZnNldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3J3YXJkKDEpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIFJld3JpdGVyLnByb3RvdHlwZS5hZGRMb2NhdGlvbkRhdGFUb0dlbmVyYXRlZFRva2VucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2NhblRva2VucyhmdW5jdGlvbih0b2tlbiwgaSwgdG9rZW5zKSB7XG4gICAgICAgIHZhciBjb2x1bW4sIGxpbmUsIG5leHRMb2NhdGlvbiwgcHJldkxvY2F0aW9uLCBfcmVmLCBfcmVmMTtcbiAgICAgICAgaWYgKHRva2VuWzJdKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodG9rZW4uZ2VuZXJhdGVkIHx8IHRva2VuLmV4cGxpY2l0KSkge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b2tlblswXSA9PT0gJ3snICYmIChuZXh0TG9jYXRpb24gPSAoX3JlZiA9IHRva2Vuc1tpICsgMV0pICE9IG51bGwgPyBfcmVmWzJdIDogdm9pZCAwKSkge1xuICAgICAgICAgIGxpbmUgPSBuZXh0TG9jYXRpb24uZmlyc3RfbGluZSwgY29sdW1uID0gbmV4dExvY2F0aW9uLmZpcnN0X2NvbHVtbjtcbiAgICAgICAgfSBlbHNlIGlmIChwcmV2TG9jYXRpb24gPSAoX3JlZjEgPSB0b2tlbnNbaSAtIDFdKSAhPSBudWxsID8gX3JlZjFbMl0gOiB2b2lkIDApIHtcbiAgICAgICAgICBsaW5lID0gcHJldkxvY2F0aW9uLmxhc3RfbGluZSwgY29sdW1uID0gcHJldkxvY2F0aW9uLmxhc3RfY29sdW1uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpbmUgPSBjb2x1bW4gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRva2VuWzJdID0ge1xuICAgICAgICAgIGZpcnN0X2xpbmU6IGxpbmUsXG4gICAgICAgICAgZmlyc3RfY29sdW1uOiBjb2x1bW4sXG4gICAgICAgICAgbGFzdF9saW5lOiBsaW5lLFxuICAgICAgICAgIGxhc3RfY29sdW1uOiBjb2x1bW5cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgUmV3cml0ZXIucHJvdG90eXBlLm5vcm1hbGl6ZUxpbmVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYWN0aW9uLCBjb25kaXRpb24sIGluZGVudCwgb3V0ZGVudCwgc3RhcnRlcjtcbiAgICAgIHN0YXJ0ZXIgPSBpbmRlbnQgPSBvdXRkZW50ID0gbnVsbDtcbiAgICAgIGNvbmRpdGlvbiA9IGZ1bmN0aW9uKHRva2VuLCBpKSB7XG4gICAgICAgIHZhciBfcmVmLCBfcmVmMSwgX3JlZjIsIF9yZWYzO1xuICAgICAgICByZXR1cm4gdG9rZW5bMV0gIT09ICc7JyAmJiAoX3JlZiA9IHRva2VuWzBdLCBfX2luZGV4T2YuY2FsbChTSU5HTEVfQ0xPU0VSUywgX3JlZikgPj0gMCkgJiYgISh0b2tlblswXSA9PT0gJ1RFUk1JTkFUT1InICYmIChfcmVmMSA9IHRoaXMudGFnKGkgKyAxKSwgX19pbmRleE9mLmNhbGwoRVhQUkVTU0lPTl9DTE9TRSwgX3JlZjEpID49IDApKSAmJiAhKHRva2VuWzBdID09PSAnRUxTRScgJiYgc3RhcnRlciAhPT0gJ1RIRU4nKSAmJiAhKCgoX3JlZjIgPSB0b2tlblswXSkgPT09ICdDQVRDSCcgfHwgX3JlZjIgPT09ICdGSU5BTExZJykgJiYgKHN0YXJ0ZXIgPT09ICctPicgfHwgc3RhcnRlciA9PT0gJz0+JykpIHx8IChfcmVmMyA9IHRva2VuWzBdLCBfX2luZGV4T2YuY2FsbChDQUxMX0NMT1NFUlMsIF9yZWYzKSA+PSAwKSAmJiB0aGlzLnRva2Vuc1tpIC0gMV0ubmV3TGluZTtcbiAgICAgIH07XG4gICAgICBhY3Rpb24gPSBmdW5jdGlvbih0b2tlbiwgaSkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbnMuc3BsaWNlKCh0aGlzLnRhZyhpIC0gMSkgPT09ICcsJyA/IGkgLSAxIDogaSksIDAsIG91dGRlbnQpO1xuICAgICAgfTtcbiAgICAgIHJldHVybiB0aGlzLnNjYW5Ub2tlbnMoZnVuY3Rpb24odG9rZW4sIGksIHRva2Vucykge1xuICAgICAgICB2YXIgaiwgdGFnLCBfaSwgX3JlZiwgX3JlZjEsIF9yZWYyO1xuICAgICAgICB0YWcgPSB0b2tlblswXTtcbiAgICAgICAgaWYgKHRhZyA9PT0gJ1RFUk1JTkFUT1InKSB7XG4gICAgICAgICAgaWYgKHRoaXMudGFnKGkgKyAxKSA9PT0gJ0VMU0UnICYmIHRoaXMudGFnKGkgLSAxKSAhPT0gJ09VVERFTlQnKSB7XG4gICAgICAgICAgICB0b2tlbnMuc3BsaWNlLmFwcGx5KHRva2VucywgW2ksIDFdLmNvbmNhdChfX3NsaWNlLmNhbGwodGhpcy5pbmRlbnRhdGlvbigpKSkpO1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChfcmVmID0gdGhpcy50YWcoaSArIDEpLCBfX2luZGV4T2YuY2FsbChFWFBSRVNTSU9OX0NMT1NFLCBfcmVmKSA+PSAwKSB7XG4gICAgICAgICAgICB0b2tlbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT09ICdDQVRDSCcpIHtcbiAgICAgICAgICBmb3IgKGogPSBfaSA9IDE7IF9pIDw9IDI7IGogPSArK19pKSB7XG4gICAgICAgICAgICBpZiAoISgoX3JlZjEgPSB0aGlzLnRhZyhpICsgaikpID09PSAnT1VUREVOVCcgfHwgX3JlZjEgPT09ICdURVJNSU5BVE9SJyB8fCBfcmVmMSA9PT0gJ0ZJTkFMTFknKSkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2Vucy5zcGxpY2UuYXBwbHkodG9rZW5zLCBbaSArIGosIDBdLmNvbmNhdChfX3NsaWNlLmNhbGwodGhpcy5pbmRlbnRhdGlvbigpKSkpO1xuICAgICAgICAgICAgcmV0dXJuIDIgKyBqO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoX19pbmRleE9mLmNhbGwoU0lOR0xFX0xJTkVSUywgdGFnKSA+PSAwICYmIHRoaXMudGFnKGkgKyAxKSAhPT0gJ0lOREVOVCcgJiYgISh0YWcgPT09ICdFTFNFJyAmJiB0aGlzLnRhZyhpICsgMSkgPT09ICdJRicpKSB7XG4gICAgICAgICAgc3RhcnRlciA9IHRhZztcbiAgICAgICAgICBfcmVmMiA9IHRoaXMuaW5kZW50YXRpb24odG9rZW5zW2ldKSwgaW5kZW50ID0gX3JlZjJbMF0sIG91dGRlbnQgPSBfcmVmMlsxXTtcbiAgICAgICAgICBpZiAoc3RhcnRlciA9PT0gJ1RIRU4nKSB7XG4gICAgICAgICAgICBpbmRlbnQuZnJvbVRoZW4gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbnMuc3BsaWNlKGkgKyAxLCAwLCBpbmRlbnQpO1xuICAgICAgICAgIHRoaXMuZGV0ZWN0RW5kKGkgKyAyLCBjb25kaXRpb24sIGFjdGlvbik7XG4gICAgICAgICAgaWYgKHRhZyA9PT0gJ1RIRU4nKSB7XG4gICAgICAgICAgICB0b2tlbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBSZXdyaXRlci5wcm90b3R5cGUudGFnUG9zdGZpeENvbmRpdGlvbmFscyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFjdGlvbiwgY29uZGl0aW9uLCBvcmlnaW5hbDtcbiAgICAgIG9yaWdpbmFsID0gbnVsbDtcbiAgICAgIGNvbmRpdGlvbiA9IGZ1bmN0aW9uKHRva2VuLCBpKSB7XG4gICAgICAgIHZhciBwcmV2VGFnLCB0YWc7XG4gICAgICAgIHRhZyA9IHRva2VuWzBdO1xuICAgICAgICBwcmV2VGFnID0gdGhpcy50b2tlbnNbaSAtIDFdWzBdO1xuICAgICAgICByZXR1cm4gdGFnID09PSAnVEVSTUlOQVRPUicgfHwgKHRhZyA9PT0gJ0lOREVOVCcgJiYgX19pbmRleE9mLmNhbGwoU0lOR0xFX0xJTkVSUywgcHJldlRhZykgPCAwKTtcbiAgICAgIH07XG4gICAgICBhY3Rpb24gPSBmdW5jdGlvbih0b2tlbiwgaSkge1xuICAgICAgICBpZiAodG9rZW5bMF0gIT09ICdJTkRFTlQnIHx8ICh0b2tlbi5nZW5lcmF0ZWQgJiYgIXRva2VuLmZyb21UaGVuKSkge1xuICAgICAgICAgIHJldHVybiBvcmlnaW5hbFswXSA9ICdQT1NUXycgKyBvcmlnaW5hbFswXTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJldHVybiB0aGlzLnNjYW5Ub2tlbnMoZnVuY3Rpb24odG9rZW4sIGkpIHtcbiAgICAgICAgaWYgKHRva2VuWzBdICE9PSAnSUYnKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgb3JpZ2luYWwgPSB0b2tlbjtcbiAgICAgICAgdGhpcy5kZXRlY3RFbmQoaSArIDEsIGNvbmRpdGlvbiwgYWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgUmV3cml0ZXIucHJvdG90eXBlLmluZGVudGF0aW9uID0gZnVuY3Rpb24ob3JpZ2luKSB7XG4gICAgICB2YXIgaW5kZW50LCBvdXRkZW50O1xuICAgICAgaW5kZW50ID0gWydJTkRFTlQnLCAyXTtcbiAgICAgIG91dGRlbnQgPSBbJ09VVERFTlQnLCAyXTtcbiAgICAgIGlmIChvcmlnaW4pIHtcbiAgICAgICAgaW5kZW50LmdlbmVyYXRlZCA9IG91dGRlbnQuZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgaW5kZW50Lm9yaWdpbiA9IG91dGRlbnQub3JpZ2luID0gb3JpZ2luO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZW50LmV4cGxpY2l0ID0gb3V0ZGVudC5leHBsaWNpdCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gW2luZGVudCwgb3V0ZGVudF07XG4gICAgfTtcblxuICAgIFJld3JpdGVyLnByb3RvdHlwZS5nZW5lcmF0ZSA9IGdlbmVyYXRlO1xuXG4gICAgUmV3cml0ZXIucHJvdG90eXBlLnRhZyA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgIHZhciBfcmVmO1xuICAgICAgcmV0dXJuIChfcmVmID0gdGhpcy50b2tlbnNbaV0pICE9IG51bGwgPyBfcmVmWzBdIDogdm9pZCAwO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmV3cml0ZXI7XG5cbiAgfSkoKTtcblxuICBCQUxBTkNFRF9QQUlSUyA9IFtbJygnLCAnKSddLCBbJ1snLCAnXSddLCBbJ3snLCAnfSddLCBbJ0lOREVOVCcsICdPVVRERU5UJ10sIFsnQ0FMTF9TVEFSVCcsICdDQUxMX0VORCddLCBbJ1BBUkFNX1NUQVJUJywgJ1BBUkFNX0VORCddLCBbJ0lOREVYX1NUQVJUJywgJ0lOREVYX0VORCddXTtcblxuICBleHBvcnRzLklOVkVSU0VTID0gSU5WRVJTRVMgPSB7fTtcblxuICBFWFBSRVNTSU9OX1NUQVJUID0gW107XG5cbiAgRVhQUkVTU0lPTl9FTkQgPSBbXTtcblxuICBmb3IgKF9pID0gMCwgX2xlbiA9IEJBTEFOQ0VEX1BBSVJTLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgX3JlZiA9IEJBTEFOQ0VEX1BBSVJTW19pXSwgbGVmdCA9IF9yZWZbMF0sIHJpdGUgPSBfcmVmWzFdO1xuICAgIEVYUFJFU1NJT05fU1RBUlQucHVzaChJTlZFUlNFU1tyaXRlXSA9IGxlZnQpO1xuICAgIEVYUFJFU1NJT05fRU5ELnB1c2goSU5WRVJTRVNbbGVmdF0gPSByaXRlKTtcbiAgfVxuXG4gIEVYUFJFU1NJT05fQ0xPU0UgPSBbJ0NBVENIJywgJ1RIRU4nLCAnRUxTRScsICdGSU5BTExZJ10uY29uY2F0KEVYUFJFU1NJT05fRU5EKTtcblxuICBJTVBMSUNJVF9GVU5DID0gWydJREVOVElGSUVSJywgJ1NVUEVSJywgJyknLCAnQ0FMTF9FTkQnLCAnXScsICdJTkRFWF9FTkQnLCAnQCcsICdUSElTJ107XG5cbiAgSU1QTElDSVRfQ0FMTCA9IFsnSURFTlRJRklFUicsICdOVU1CRVInLCAnU1RSSU5HJywgJ0pTJywgJ1JFR0VYJywgJ05FVycsICdQQVJBTV9TVEFSVCcsICdDTEFTUycsICdJRicsICdUUlknLCAnU1dJVENIJywgJ1RISVMnLCAnQk9PTCcsICdOVUxMJywgJ1VOREVGSU5FRCcsICdVTkFSWScsICdVTkFSWV9NQVRIJywgJ1NVUEVSJywgJ1RIUk9XJywgJ0AnLCAnLT4nLCAnPT4nLCAnWycsICcoJywgJ3snLCAnLS0nLCAnKysnXTtcblxuICBJTVBMSUNJVF9VTlNQQUNFRF9DQUxMID0gWycrJywgJy0nXTtcblxuICBJTVBMSUNJVF9FTkQgPSBbJ1BPU1RfSUYnLCAnRk9SJywgJ1dISUxFJywgJ1VOVElMJywgJ1dIRU4nLCAnQlknLCAnTE9PUCcsICdURVJNSU5BVE9SJ107XG5cbiAgU0lOR0xFX0xJTkVSUyA9IFsnRUxTRScsICctPicsICc9PicsICdUUlknLCAnRklOQUxMWScsICdUSEVOJ107XG5cbiAgU0lOR0xFX0NMT1NFUlMgPSBbJ1RFUk1JTkFUT1InLCAnQ0FUQ0gnLCAnRklOQUxMWScsICdFTFNFJywgJ09VVERFTlQnLCAnTEVBRElOR19XSEVOJ107XG5cbiAgTElORUJSRUFLUyA9IFsnVEVSTUlOQVRPUicsICdJTkRFTlQnLCAnT1VUREVOVCddO1xuXG4gIENBTExfQ0xPU0VSUyA9IFsnLicsICc/LicsICc6OicsICc/OjonXTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS44LjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIFNjb3BlLCBleHRlbmQsIGxhc3QsIF9yZWY7XG5cbiAgX3JlZiA9IHJlcXVpcmUoJy4vaGVscGVycycpLCBleHRlbmQgPSBfcmVmLmV4dGVuZCwgbGFzdCA9IF9yZWYubGFzdDtcblxuICBleHBvcnRzLlNjb3BlID0gU2NvcGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgU2NvcGUucm9vdCA9IG51bGw7XG5cbiAgICBmdW5jdGlvbiBTY29wZShwYXJlbnQsIGV4cHJlc3Npb25zLCBtZXRob2QpIHtcbiAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgdGhpcy5leHByZXNzaW9ucyA9IGV4cHJlc3Npb25zO1xuICAgICAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICB0aGlzLnZhcmlhYmxlcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdhcmd1bWVudHMnLFxuICAgICAgICAgIHR5cGU6ICdhcmd1bWVudHMnXG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgICB0aGlzLnBvc2l0aW9ucyA9IHt9O1xuICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICBTY29wZS5yb290ID0gdGhpcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBTY29wZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24obmFtZSwgdHlwZSwgaW1tZWRpYXRlKSB7XG4gICAgICBpZiAodGhpcy5zaGFyZWQgJiYgIWltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuYWRkKG5hbWUsIHR5cGUsIGltbWVkaWF0ZSk7XG4gICAgICB9XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMucG9zaXRpb25zLCBuYW1lKSkge1xuICAgICAgICByZXR1cm4gdGhpcy52YXJpYWJsZXNbdGhpcy5wb3NpdGlvbnNbbmFtZV1dLnR5cGUgPSB0eXBlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb25zW25hbWVdID0gdGhpcy52YXJpYWJsZXMucHVzaCh7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICB0eXBlOiB0eXBlXG4gICAgICAgIH0pIC0gMTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgU2NvcGUucHJvdG90eXBlLm5hbWVkTWV0aG9kID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgX3JlZjE7XG4gICAgICBpZiAoKChfcmVmMSA9IHRoaXMubWV0aG9kKSAhPSBudWxsID8gX3JlZjEubmFtZSA6IHZvaWQgMCkgfHwgIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnBhcmVudC5uYW1lZE1ldGhvZCgpO1xuICAgIH07XG5cbiAgICBTY29wZS5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIGlmICh0aGlzLmNoZWNrKG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5hZGQobmFtZSwgJ3ZhcicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBTY29wZS5wcm90b3R5cGUucGFyYW1ldGVyID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgaWYgKHRoaXMuc2hhcmVkICYmIHRoaXMucGFyZW50LmNoZWNrKG5hbWUsIHRydWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmFkZChuYW1lLCAncGFyYW0nKTtcbiAgICB9O1xuXG4gICAgU2NvcGUucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgdmFyIF9yZWYxO1xuICAgICAgcmV0dXJuICEhKHRoaXMudHlwZShuYW1lKSB8fCAoKF9yZWYxID0gdGhpcy5wYXJlbnQpICE9IG51bGwgPyBfcmVmMS5jaGVjayhuYW1lKSA6IHZvaWQgMCkpO1xuICAgIH07XG5cbiAgICBTY29wZS5wcm90b3R5cGUudGVtcG9yYXJ5ID0gZnVuY3Rpb24obmFtZSwgaW5kZXgpIHtcbiAgICAgIGlmIChuYW1lLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcmV0dXJuICdfJyArIG5hbWUgKyAoaW5kZXggPiAxID8gaW5kZXggLSAxIDogJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICdfJyArIChpbmRleCArIHBhcnNlSW50KG5hbWUsIDM2KSkudG9TdHJpbmcoMzYpLnJlcGxhY2UoL1xcZC9nLCAnYScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBTY29wZS5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHZhciB2LCBfaSwgX2xlbiwgX3JlZjE7XG4gICAgICBfcmVmMSA9IHRoaXMudmFyaWFibGVzO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmMS5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICB2ID0gX3JlZjFbX2ldO1xuICAgICAgICBpZiAodi5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIHYudHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIFNjb3BlLnByb3RvdHlwZS5mcmVlVmFyaWFibGUgPSBmdW5jdGlvbihuYW1lLCByZXNlcnZlKSB7XG4gICAgICB2YXIgaW5kZXgsIHRlbXA7XG4gICAgICBpZiAocmVzZXJ2ZSA9PSBudWxsKSB7XG4gICAgICAgIHJlc2VydmUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaW5kZXggPSAwO1xuICAgICAgd2hpbGUgKHRoaXMuY2hlY2soKHRlbXAgPSB0aGlzLnRlbXBvcmFyeShuYW1lLCBpbmRleCkpKSkge1xuICAgICAgICBpbmRleCsrO1xuICAgICAgfVxuICAgICAgaWYgKHJlc2VydmUpIHtcbiAgICAgICAgdGhpcy5hZGQodGVtcCwgJ3ZhcicsIHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRlbXA7XG4gICAgfTtcblxuICAgIFNjb3BlLnByb3RvdHlwZS5hc3NpZ24gPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdGhpcy5hZGQobmFtZSwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGFzc2lnbmVkOiB0cnVlXG4gICAgICB9LCB0cnVlKTtcbiAgICAgIHJldHVybiB0aGlzLmhhc0Fzc2lnbm1lbnRzID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgU2NvcGUucHJvdG90eXBlLmhhc0RlY2xhcmF0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICEhdGhpcy5kZWNsYXJlZFZhcmlhYmxlcygpLmxlbmd0aDtcbiAgICB9O1xuXG4gICAgU2NvcGUucHJvdG90eXBlLmRlY2xhcmVkVmFyaWFibGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVhbFZhcnMsIHRlbXBWYXJzLCB2LCBfaSwgX2xlbiwgX3JlZjE7XG4gICAgICByZWFsVmFycyA9IFtdO1xuICAgICAgdGVtcFZhcnMgPSBbXTtcbiAgICAgIF9yZWYxID0gdGhpcy52YXJpYWJsZXM7XG4gICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYxLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgIHYgPSBfcmVmMVtfaV07XG4gICAgICAgIGlmICh2LnR5cGUgPT09ICd2YXInKSB7XG4gICAgICAgICAgKHYubmFtZS5jaGFyQXQoMCkgPT09ICdfJyA/IHRlbXBWYXJzIDogcmVhbFZhcnMpLnB1c2godi5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlYWxWYXJzLnNvcnQoKS5jb25jYXQodGVtcFZhcnMuc29ydCgpKTtcbiAgICB9O1xuXG4gICAgU2NvcGUucHJvdG90eXBlLmFzc2lnbmVkVmFyaWFibGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdiwgX2ksIF9sZW4sIF9yZWYxLCBfcmVzdWx0cztcbiAgICAgIF9yZWYxID0gdGhpcy52YXJpYWJsZXM7XG4gICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmMS5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICB2ID0gX3JlZjFbX2ldO1xuICAgICAgICBpZiAodi50eXBlLmFzc2lnbmVkKSB7XG4gICAgICAgICAgX3Jlc3VsdHMucHVzaChcIlwiICsgdi5uYW1lICsgXCIgPSBcIiArIHYudHlwZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNjb3BlO1xuXG4gIH0pKCk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuOC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBMaW5lTWFwLCBTb3VyY2VNYXA7XG5cbiAgTGluZU1hcCA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBMaW5lTWFwKGxpbmUpIHtcbiAgICAgIHRoaXMubGluZSA9IGxpbmU7XG4gICAgICB0aGlzLmNvbHVtbnMgPSBbXTtcbiAgICB9XG5cbiAgICBMaW5lTWFwLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihjb2x1bW4sIF9hcmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBzb3VyY2VDb2x1bW4sIHNvdXJjZUxpbmU7XG4gICAgICBzb3VyY2VMaW5lID0gX2FyZ1swXSwgc291cmNlQ29sdW1uID0gX2FyZ1sxXTtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY29sdW1uc1tjb2x1bW5dICYmIG9wdGlvbnMubm9SZXBsYWNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmNvbHVtbnNbY29sdW1uXSA9IHtcbiAgICAgICAgbGluZTogdGhpcy5saW5lLFxuICAgICAgICBjb2x1bW46IGNvbHVtbixcbiAgICAgICAgc291cmNlTGluZTogc291cmNlTGluZSxcbiAgICAgICAgc291cmNlQ29sdW1uOiBzb3VyY2VDb2x1bW5cbiAgICAgIH07XG4gICAgfTtcblxuICAgIExpbmVNYXAucHJvdG90eXBlLnNvdXJjZUxvY2F0aW9uID0gZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICB2YXIgbWFwcGluZztcbiAgICAgIHdoaWxlICghKChtYXBwaW5nID0gdGhpcy5jb2x1bW5zW2NvbHVtbl0pIHx8IChjb2x1bW4gPD0gMCkpKSB7XG4gICAgICAgIGNvbHVtbi0tO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hcHBpbmcgJiYgW21hcHBpbmcuc291cmNlTGluZSwgbWFwcGluZy5zb3VyY2VDb2x1bW5dO1xuICAgIH07XG5cbiAgICByZXR1cm4gTGluZU1hcDtcblxuICB9KSgpO1xuXG4gIFNvdXJjZU1hcCA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgQkFTRTY0X0NIQVJTLCBWTFFfQ09OVElOVUFUSU9OX0JJVCwgVkxRX1NISUZULCBWTFFfVkFMVUVfTUFTSztcblxuICAgIGZ1bmN0aW9uIFNvdXJjZU1hcCgpIHtcbiAgICAgIHRoaXMubGluZXMgPSBbXTtcbiAgICB9XG5cbiAgICBTb3VyY2VNYXAucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKHNvdXJjZUxvY2F0aW9uLCBnZW5lcmF0ZWRMb2NhdGlvbiwgb3B0aW9ucykge1xuICAgICAgdmFyIGNvbHVtbiwgbGluZSwgbGluZU1hcCwgX2Jhc2U7XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGxpbmUgPSBnZW5lcmF0ZWRMb2NhdGlvblswXSwgY29sdW1uID0gZ2VuZXJhdGVkTG9jYXRpb25bMV07XG4gICAgICBsaW5lTWFwID0gKChfYmFzZSA9IHRoaXMubGluZXMpW2xpbmVdIHx8IChfYmFzZVtsaW5lXSA9IG5ldyBMaW5lTWFwKGxpbmUpKSk7XG4gICAgICByZXR1cm4gbGluZU1hcC5hZGQoY29sdW1uLCBzb3VyY2VMb2NhdGlvbiwgb3B0aW9ucyk7XG4gICAgfTtcblxuICAgIFNvdXJjZU1hcC5wcm90b3R5cGUuc291cmNlTG9jYXRpb24gPSBmdW5jdGlvbihfYXJnKSB7XG4gICAgICB2YXIgY29sdW1uLCBsaW5lLCBsaW5lTWFwO1xuICAgICAgbGluZSA9IF9hcmdbMF0sIGNvbHVtbiA9IF9hcmdbMV07XG4gICAgICB3aGlsZSAoISgobGluZU1hcCA9IHRoaXMubGluZXNbbGluZV0pIHx8IChsaW5lIDw9IDApKSkge1xuICAgICAgICBsaW5lLS07XG4gICAgICB9XG4gICAgICByZXR1cm4gbGluZU1hcCAmJiBsaW5lTWFwLnNvdXJjZUxvY2F0aW9uKGNvbHVtbik7XG4gICAgfTtcblxuICAgIFNvdXJjZU1hcC5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbihvcHRpb25zLCBjb2RlKSB7XG4gICAgICB2YXIgYnVmZmVyLCBsYXN0Q29sdW1uLCBsYXN0U291cmNlQ29sdW1uLCBsYXN0U291cmNlTGluZSwgbGluZU1hcCwgbGluZU51bWJlciwgbWFwcGluZywgbmVlZENvbW1hLCB2Mywgd3JpdGluZ2xpbmUsIF9pLCBfaiwgX2xlbiwgX2xlbjEsIF9yZWYsIF9yZWYxO1xuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG4gICAgICBpZiAoY29kZSA9PSBudWxsKSB7XG4gICAgICAgIGNvZGUgPSBudWxsO1xuICAgICAgfVxuICAgICAgd3JpdGluZ2xpbmUgPSAwO1xuICAgICAgbGFzdENvbHVtbiA9IDA7XG4gICAgICBsYXN0U291cmNlTGluZSA9IDA7XG4gICAgICBsYXN0U291cmNlQ29sdW1uID0gMDtcbiAgICAgIG5lZWRDb21tYSA9IGZhbHNlO1xuICAgICAgYnVmZmVyID0gXCJcIjtcbiAgICAgIF9yZWYgPSB0aGlzLmxpbmVzO1xuICAgICAgZm9yIChsaW5lTnVtYmVyID0gX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgbGluZU51bWJlciA9ICsrX2kpIHtcbiAgICAgICAgbGluZU1hcCA9IF9yZWZbbGluZU51bWJlcl07XG4gICAgICAgIGlmIChsaW5lTWFwKSB7XG4gICAgICAgICAgX3JlZjEgPSBsaW5lTWFwLmNvbHVtbnM7XG4gICAgICAgICAgZm9yIChfaiA9IDAsIF9sZW4xID0gX3JlZjEubGVuZ3RoOyBfaiA8IF9sZW4xOyBfaisrKSB7XG4gICAgICAgICAgICBtYXBwaW5nID0gX3JlZjFbX2pdO1xuICAgICAgICAgICAgaWYgKCEobWFwcGluZykpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAod3JpdGluZ2xpbmUgPCBtYXBwaW5nLmxpbmUpIHtcbiAgICAgICAgICAgICAgbGFzdENvbHVtbiA9IDA7XG4gICAgICAgICAgICAgIG5lZWRDb21tYSA9IGZhbHNlO1xuICAgICAgICAgICAgICBidWZmZXIgKz0gXCI7XCI7XG4gICAgICAgICAgICAgIHdyaXRpbmdsaW5lKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmVlZENvbW1hKSB7XG4gICAgICAgICAgICAgIGJ1ZmZlciArPSBcIixcIjtcbiAgICAgICAgICAgICAgbmVlZENvbW1hID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmZXIgKz0gdGhpcy5lbmNvZGVWbHEobWFwcGluZy5jb2x1bW4gLSBsYXN0Q29sdW1uKTtcbiAgICAgICAgICAgIGxhc3RDb2x1bW4gPSBtYXBwaW5nLmNvbHVtbjtcbiAgICAgICAgICAgIGJ1ZmZlciArPSB0aGlzLmVuY29kZVZscSgwKTtcbiAgICAgICAgICAgIGJ1ZmZlciArPSB0aGlzLmVuY29kZVZscShtYXBwaW5nLnNvdXJjZUxpbmUgLSBsYXN0U291cmNlTGluZSk7XG4gICAgICAgICAgICBsYXN0U291cmNlTGluZSA9IG1hcHBpbmcuc291cmNlTGluZTtcbiAgICAgICAgICAgIGJ1ZmZlciArPSB0aGlzLmVuY29kZVZscShtYXBwaW5nLnNvdXJjZUNvbHVtbiAtIGxhc3RTb3VyY2VDb2x1bW4pO1xuICAgICAgICAgICAgbGFzdFNvdXJjZUNvbHVtbiA9IG1hcHBpbmcuc291cmNlQ29sdW1uO1xuICAgICAgICAgICAgbmVlZENvbW1hID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHYzID0ge1xuICAgICAgICB2ZXJzaW9uOiAzLFxuICAgICAgICBmaWxlOiBvcHRpb25zLmdlbmVyYXRlZEZpbGUgfHwgJycsXG4gICAgICAgIHNvdXJjZVJvb3Q6IG9wdGlvbnMuc291cmNlUm9vdCB8fCAnJyxcbiAgICAgICAgc291cmNlczogb3B0aW9ucy5zb3VyY2VGaWxlcyB8fCBbJyddLFxuICAgICAgICBuYW1lczogW10sXG4gICAgICAgIG1hcHBpbmdzOiBidWZmZXJcbiAgICAgIH07XG4gICAgICBpZiAob3B0aW9ucy5pbmxpbmUpIHtcbiAgICAgICAgdjMuc291cmNlc0NvbnRlbnQgPSBbY29kZV07XG4gICAgICB9XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodjMsIG51bGwsIDIpO1xuICAgIH07XG5cbiAgICBWTFFfU0hJRlQgPSA1O1xuXG4gICAgVkxRX0NPTlRJTlVBVElPTl9CSVQgPSAxIDw8IFZMUV9TSElGVDtcblxuICAgIFZMUV9WQUxVRV9NQVNLID0gVkxRX0NPTlRJTlVBVElPTl9CSVQgLSAxO1xuXG4gICAgU291cmNlTWFwLnByb3RvdHlwZS5lbmNvZGVWbHEgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGFuc3dlciwgbmV4dENodW5rLCBzaWduQml0LCB2YWx1ZVRvRW5jb2RlO1xuICAgICAgYW5zd2VyID0gJyc7XG4gICAgICBzaWduQml0ID0gdmFsdWUgPCAwID8gMSA6IDA7XG4gICAgICB2YWx1ZVRvRW5jb2RlID0gKE1hdGguYWJzKHZhbHVlKSA8PCAxKSArIHNpZ25CaXQ7XG4gICAgICB3aGlsZSAodmFsdWVUb0VuY29kZSB8fCAhYW5zd2VyKSB7XG4gICAgICAgIG5leHRDaHVuayA9IHZhbHVlVG9FbmNvZGUgJiBWTFFfVkFMVUVfTUFTSztcbiAgICAgICAgdmFsdWVUb0VuY29kZSA9IHZhbHVlVG9FbmNvZGUgPj4gVkxRX1NISUZUO1xuICAgICAgICBpZiAodmFsdWVUb0VuY29kZSkge1xuICAgICAgICAgIG5leHRDaHVuayB8PSBWTFFfQ09OVElOVUFUSU9OX0JJVDtcbiAgICAgICAgfVxuICAgICAgICBhbnN3ZXIgKz0gdGhpcy5lbmNvZGVCYXNlNjQobmV4dENodW5rKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhbnN3ZXI7XG4gICAgfTtcblxuICAgIEJBU0U2NF9DSEFSUyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcblxuICAgIFNvdXJjZU1hcC5wcm90b3R5cGUuZW5jb2RlQmFzZTY0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBCQVNFNjRfQ0hBUlNbdmFsdWVdIHx8IChmdW5jdGlvbigpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IEJhc2U2NCBlbmNvZGUgdmFsdWU6IFwiICsgdmFsdWUpO1xuICAgICAgfSkoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNvdXJjZU1hcDtcblxuICB9KSgpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gU291cmNlTWFwO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IExpdmVTY3JpcHQgMS4zLjFcbnZhciByZWYkLCBsb2csIHN3YWxsb3csIGRlbGF5LCBLZXksIGtleXMsIGxpbmVzLCBzcGxpdCwgQ29kZU1pcnJvciwgbW9kZUpzLCBtb2RlQ3MsIG1vZGVMcywgZmxhc2hUaW1lLCBjaHVua0V4dGVudHNBdFBvcywgRWRpdG9yLCBFZGl0b3JDTSwgb3V0JCA9IHR5cGVvZiBleHBvcnRzICE9ICd1bmRlZmluZWQnICYmIGV4cG9ydHMgfHwgdGhpcztcbnJlZiQgPSByZXF1aXJlKCcuL2hlbHBlcnMnKSwgbG9nID0gcmVmJC5sb2csIHN3YWxsb3cgPSByZWYkLnN3YWxsb3csIGRlbGF5ID0gcmVmJC5kZWxheSwgS2V5ID0gcmVmJC5LZXk7XG5yZWYkID0gcmVxdWlyZSgncHJlbHVkZS1scycpLCBrZXlzID0gcmVmJC5rZXlzLCBsaW5lcyA9IHJlZiQubGluZXMsIHNwbGl0ID0gcmVmJC5zcGxpdDtcbkNvZGVNaXJyb3IgPSByZXF1aXJlKCdjb2RlbWlycm9yJyk7XG5tb2RlSnMgPSByZXF1aXJlKCdjb2RlbWlycm9yL21vZGUvamF2YXNjcmlwdC9qYXZhc2NyaXB0LmpzJyk7XG5tb2RlQ3MgPSByZXF1aXJlKCdjb2RlbWlycm9yL21vZGUvY29mZmVlc2NyaXB0L2NvZmZlZXNjcmlwdC5qcycpO1xubW9kZUxzID0gcmVxdWlyZSgnY29kZW1pcnJvci9tb2RlL2xpdmVzY3JpcHQvbGl2ZXNjcmlwdC5qcycpO1xuZmxhc2hUaW1lID0gMTAwO1xuY2h1bmtFeHRlbnRzQXRQb3MgPSBmdW5jdGlvbih0ZXh0LCBpeCwgY2hhcnNUcmF2ZXJzZWQpe1xuICB2YXIgaSQsIHJlZiQsIGxlbiQsIGNodW5rO1xuICBjaGFyc1RyYXZlcnNlZCA9PSBudWxsICYmIChjaGFyc1RyYXZlcnNlZCA9IDApO1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gdGV4dC5zcGxpdCgnXFxuXFxuJykpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgY2h1bmsgPSByZWYkW2kkXTtcbiAgICBpZiAoY2hhcnNUcmF2ZXJzZWQgKyBjaHVuay5sZW5ndGggKyAxID49IGl4KSB7XG4gICAgICByZXR1cm4gW2NoYXJzVHJhdmVyc2VkLCBjaGFyc1RyYXZlcnNlZCArIGNodW5rLmxlbmd0aF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoYXJzVHJhdmVyc2VkICs9IGNodW5rLmxlbmd0aCArIDI7XG4gICAgfVxuICB9XG4gIHJldHVybiBbMCwgdGV4dC5sZW5ndGhdO1xufTtcbm91dCQuRWRpdG9yID0gRWRpdG9yID0gKGZ1bmN0aW9uKCl7XG4gIEVkaXRvci5kaXNwbGF5TmFtZSA9ICdFZGl0b3InO1xuICB2YXIgcHJvdG90eXBlID0gRWRpdG9yLnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBFZGl0b3I7XG4gIGZ1bmN0aW9uIEVkaXRvcigpe1xuICAgIHZhciB0aGlzJCA9IHRoaXM7XG4gICAgbG9nKFwibmV3IEVkaXRvclwiKTtcbiAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgdGhpcy5kb20uY2xhc3NOYW1lID0gJ2VkaXRvcic7XG4gICAgdGhpcy5jYWxsYmFja3MgPSB7XG4gICAgICBleGVjdXRlOiBbXVxuICAgIH07XG4gICAgdGhpcy5kb20uYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBmdW5jdGlvbihhcmckKXtcbiAgICAgIHZhciB3aGljaCwgY3RybEtleSwgc2hpZnRLZXk7XG4gICAgICB3aGljaCA9IGFyZyQud2hpY2gsIGN0cmxLZXkgPSBhcmckLmN0cmxLZXksIHNoaWZ0S2V5ID0gYXJnJC5zaGlmdEtleTtcbiAgICAgIHN3aXRjaCAod2hpY2gpIHtcbiAgICAgIGNhc2UgS2V5LkVOVEVSOlxuICAgICAgICBpZiAoY3RybEtleSkge1xuICAgICAgICAgIHN3YWxsb3coZXZlbnQpO1xuICAgICAgICAgIGlmIChzaGlmdEtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMkLmV4ZWN1dGVBbGwoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMkLmV4ZWN1dGVDaHVuaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29kZSl7XG4gICAgdmFyIGkkLCByZWYkLCBsZW4kLCDOuywgcmVzdWx0cyQgPSBbXTtcbiAgICB0cnkge1xuICAgICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHRoaXMuY2FsbGJhY2tzLmV4ZWN1dGUpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICAgIM67ID0gcmVmJFtpJF07XG4gICAgICAgIHJlc3VsdHMkLnB1c2gozrsoY29kZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdHMkO1xuICAgIH0gY2F0Y2ggKGUkKSB7fVxuICB9O1xuICBwcm90b3R5cGUuZXhlY3V0ZUFsbCA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5leGVjdXRlKHRoaXMuZ2V0Q29udGVudHMoKSk7XG4gICAgcmV0dXJuIHRoaXMuZmxhc2hBbGwoKTtcbiAgfTtcbiAgcHJvdG90eXBlLmV4ZWN1dGVDaHVuayA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGN1cnNvclBvcywgZXh0ZW50cztcbiAgICBjdXJzb3JQb3MgPSB0aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgZXh0ZW50cyA9IHRoaXMuZ2V0Q2h1bmtFeHRlbnRzKHRoaXMuZ2V0Q29udGVudHMoKSwgY3Vyc29yUG9zKTtcbiAgICB0aGlzLmV4ZWN1dGUodGhpcy5nZXRUZXh0SW5zaWRlKGV4dGVudHMpKTtcbiAgICByZXR1cm4gdGhpcy5mbGFzaENodW5rKGV4dGVudHMsIGN1cnNvclBvcyk7XG4gIH07XG4gIHByb3RvdHlwZS5vbkV4ZWN1dGUgPSBmdW5jdGlvbijOuyl7XG4gICAgcmV0dXJuIHRoaXMuY2FsbGJhY2tzLmV4ZWN1dGUucHVzaCjOuyk7XG4gIH07XG4gIHByb3RvdHlwZS5pbnN0YWxsID0gZnVuY3Rpb24oaG9zdCl7XG4gICAgaG9zdC5hcHBlbmRDaGlsZCh0aGlzLmRvbSk7XG4gICAgcmV0dXJuIHRoaXMuZG9tLmZvY3VzKCk7XG4gIH07XG4gIHByb3RvdHlwZS5nZXRDdXJzb3JQb3NpdGlvbiA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMuZG9tLnNlbGVjdGlvblN0YXJ0O1xuICB9O1xuICBwcm90b3R5cGUuZ2V0Q2h1bmtFeHRlbnRzID0gZnVuY3Rpb24odGV4dCwgcG9zKXtcbiAgICByZXR1cm4gY2h1bmtFeHRlbnRzQXRQb3ModGV4dCwgcG9zKTtcbiAgfTtcbiAgcHJvdG90eXBlLmdldENvbnRlbnRzID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5kb20udmFsdWU7XG4gIH07XG4gIHByb3RvdHlwZS5nZXRUZXh0SW5zaWRlID0gZnVuY3Rpb24oYXJnJCl7XG4gICAgdmFyIHN0YXJ0LCBlbmQ7XG4gICAgc3RhcnQgPSBhcmckWzBdLCBlbmQgPSBhcmckWzFdO1xuICAgIHJldHVybiB0aGlzLmRvbS52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XG4gIH07XG4gIHByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24odGV4dCl7XG4gICAgcmV0dXJuIHRoaXMuZG9tLnZhbHVlID0gdGV4dDtcbiAgfTtcbiAgcHJvdG90eXBlLmZsYXNoQ2h1bmsgPSBmdW5jdGlvbihhcmckLCBwb3Mpe1xuICAgIHZhciBzdGFydCwgZW5kLCB0aGlzJCA9IHRoaXM7XG4gICAgc3RhcnQgPSBhcmckWzBdLCBlbmQgPSBhcmckWzFdO1xuICAgIHRoaXMuZG9tLnNlbGVjdGlvblN0YXJ0ID0gc3RhcnQ7XG4gICAgdGhpcy5kb20uc2VsZWN0aW9uRW5kID0gZW5kO1xuICAgIHJldHVybiBkZWxheShmbGFzaFRpbWUsIGZ1bmN0aW9uKCl7XG4gICAgICB0aGlzJC5kb20uc2VsZWN0aW9uU3RhcnQgPSBwb3M7XG4gICAgICByZXR1cm4gdGhpcyQuZG9tLnNlbGVjdGlvbkVuZCA9IHBvcztcbiAgICB9KTtcbiAgfTtcbiAgcHJvdG90eXBlLmZsYXNoQWxsID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgdGhpcyQgPSB0aGlzO1xuICAgIHRoaXMuZG9tLmNsYXNzTmFtZSA9IFwiZWRpdG9yIGZsYXNoaW5nXCI7XG4gICAgcmV0dXJuIGRlbGF5KGZsYXNoVGltZSwgZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiB0aGlzJC5kb20uY2xhc3NOYW1lID0gXCJlZGl0b3JcIjtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIEVkaXRvcjtcbn0oKSk7XG5vdXQkLkVkaXRvckNNID0gRWRpdG9yQ00gPSAoZnVuY3Rpb24oc3VwZXJjbGFzcyl7XG4gIHZhciBwcm90b3R5cGUgPSBleHRlbmQkKChpbXBvcnQkKEVkaXRvckNNLCBzdXBlcmNsYXNzKS5kaXNwbGF5TmFtZSA9ICdFZGl0b3JDTScsIEVkaXRvckNNKSwgc3VwZXJjbGFzcykucHJvdG90eXBlLCBjb25zdHJ1Y3RvciA9IEVkaXRvckNNO1xuICBmdW5jdGlvbiBFZGl0b3JDTShjb25maWcpe1xuICAgIHZhciByZWYkLCBtb2RlLCByZWYxJCwgYSwgdGhpcyQgPSB0aGlzO1xuICAgIHJlZiQgPSBjb25maWcgIT0gbnVsbFxuICAgICAgPyBjb25maWdcbiAgICAgIDoge30sIG1vZGUgPSAocmVmMSQgPSByZWYkLm1vZGUpICE9IG51bGwgPyByZWYxJCA6ICdqYXZhc2NyaXB0JywgYSA9IChyZWYxJCA9IHJlZiQuYSkgIT0gbnVsbCA/IHJlZjEkIDogJ2InO1xuICAgIGxvZyhcIm5ldyBFZGl0b3IgKFwiICsgbW9kZSArIFwiKVwiKTtcbiAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tLmNsYXNzTmFtZSA9ICdlZGl0b3InO1xuICAgIHRoaXMuY20gPSBDb2RlTWlycm9yKHRoaXMuZG9tLCB7XG4gICAgICBtb2RlOiBtb2RlLFxuICAgICAgdGhlbWU6ICduZW8nXG4gICAgfSk7XG4gICAgdGhpcy5jYWxsYmFja3MgPSB7XG4gICAgICBleGVjdXRlOiBbXVxuICAgIH07XG4gICAgdGhpcy5kb20uYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBmdW5jdGlvbihhcmckKXtcbiAgICAgIHZhciB3aGljaCwgY3RybEtleSwgc2hpZnRLZXk7XG4gICAgICB3aGljaCA9IGFyZyQud2hpY2gsIGN0cmxLZXkgPSBhcmckLmN0cmxLZXksIHNoaWZ0S2V5ID0gYXJnJC5zaGlmdEtleTtcbiAgICAgIHN3aXRjaCAod2hpY2gpIHtcbiAgICAgIGNhc2UgS2V5LkVOVEVSOlxuICAgICAgICBpZiAoY3RybEtleSkge1xuICAgICAgICAgIHN3YWxsb3coZXZlbnQpO1xuICAgICAgICAgIGlmIChzaGlmdEtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMkLmV4ZWN1dGVBbGwoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMkLmV4ZWN1dGVDaHVuaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHByb3RvdHlwZS5pbnN0YWxsID0gZnVuY3Rpb24oaG9zdCl7XG4gICAgaG9zdC5hcHBlbmRDaGlsZCh0aGlzLmRvbSk7XG4gICAgcmV0dXJuIHRoaXMuY20uZm9jdXMoKTtcbiAgfTtcbiAgcHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbihpdCl7XG4gICAgdGhpcy5jbS5zZXRWYWx1ZShpdCk7XG4gICAgcmV0dXJuIHRoaXMuY20uZXhlY0NvbW1hbmQoJ2dvRG9jRW5kJyk7XG4gIH07XG4gIHByb3RvdHlwZS5nZXRDdXJzb3JQb3NpdGlvbiA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMuY20uZ2V0Q3Vyc29yKCk7XG4gIH07XG4gIHByb3RvdHlwZS5nZXRDaHVua0V4dGVudHMgPSBmdW5jdGlvbih0ZXh0LCBwb3Mpe1xuICAgIHZhciByZWYkLCBzdGFydCwgZW5kO1xuICAgIHJlZiQgPSBjaHVua0V4dGVudHNBdFBvcyh0ZXh0LCB0aGlzLmNtLmluZGV4RnJvbVBvcyhwb3MpKSwgc3RhcnQgPSByZWYkWzBdLCBlbmQgPSByZWYkWzFdO1xuICAgIHJldHVybiBbdGhpcy5jbS5wb3NGcm9tSW5kZXgoc3RhcnQpLCB0aGlzLmNtLnBvc0Zyb21JbmRleChlbmQpXTtcbiAgfTtcbiAgcHJvdG90eXBlLmdldENvbnRlbnRzID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5jbS5nZXRWYWx1ZSgpO1xuICB9O1xuICBwcm90b3R5cGUuZ2V0VGV4dEluc2lkZSA9IGZ1bmN0aW9uKGFyZyQpe1xuICAgIHZhciBzdGFydCwgZW5kO1xuICAgIHN0YXJ0ID0gYXJnJFswXSwgZW5kID0gYXJnJFsxXTtcbiAgICByZXR1cm4gdGhpcy5jbS5nZXRSYW5nZShzdGFydCwgZW5kKTtcbiAgfTtcbiAgcHJvdG90eXBlLmZsYXNoQ2h1bmsgPSBmdW5jdGlvbihhcmckLCBwb3Mpe1xuICAgIHZhciBzdGFydCwgZW5kLCBtYXJrZXI7XG4gICAgc3RhcnQgPSBhcmckWzBdLCBlbmQgPSBhcmckWzFdO1xuICAgIG1hcmtlciA9IHRoaXMuY20ubWFya1RleHQoc3RhcnQsIGVuZCwge1xuICAgICAgY2xhc3NOYW1lOiAnZmxhc2hpbmcnXG4gICAgfSk7XG4gICAgcmV0dXJuIGRlbGF5KGZsYXNoVGltZSwgYmluZCQobWFya2VyLCAnY2xlYXInKSk7XG4gIH07XG4gIHByb3RvdHlwZS5mbGFzaEFsbCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHRoaXMkID0gdGhpcztcbiAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSBcImVkaXRvciBmbGFzaGluZ1wiO1xuICAgIHJldHVybiBkZWxheShmbGFzaFRpbWUsIGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gdGhpcyQuZG9tLmNsYXNzTmFtZSA9IFwiZWRpdG9yXCI7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBFZGl0b3JDTTtcbn0oRWRpdG9yKSk7XG5mdW5jdGlvbiBleHRlbmQkKHN1Yiwgc3VwKXtcbiAgZnVuY3Rpb24gZnVuKCl7fSBmdW4ucHJvdG90eXBlID0gKHN1Yi5zdXBlcmNsYXNzID0gc3VwKS5wcm90b3R5cGU7XG4gIChzdWIucHJvdG90eXBlID0gbmV3IGZ1bikuY29uc3RydWN0b3IgPSBzdWI7XG4gIGlmICh0eXBlb2Ygc3VwLmV4dGVuZGVkID09ICdmdW5jdGlvbicpIHN1cC5leHRlbmRlZChzdWIpO1xuICByZXR1cm4gc3ViO1xufVxuZnVuY3Rpb24gaW1wb3J0JChvYmosIHNyYyl7XG4gIHZhciBvd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbiAgZm9yICh2YXIga2V5IGluIHNyYykgaWYgKG93bi5jYWxsKHNyYywga2V5KSkgb2JqW2tleV0gPSBzcmNba2V5XTtcbiAgcmV0dXJuIG9iajtcbn1cbmZ1bmN0aW9uIGJpbmQkKG9iaiwga2V5LCB0YXJnZXQpe1xuICByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuICh0YXJnZXQgfHwgb2JqKVtrZXldLmFwcGx5KG9iaiwgYXJndW1lbnRzKSB9O1xufSIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG52YXIgbG9nLCByZWYkLCBpZCwga2V5cywgdmFsdWVzLCBMUywgQ1MsIEV2YWx1YXRvciwgb3V0JCA9IHR5cGVvZiBleHBvcnRzICE9ICd1bmRlZmluZWQnICYmIGV4cG9ydHMgfHwgdGhpcztcbmxvZyA9IHJlcXVpcmUoJy4vaGVscGVycycpLmxvZztcbnJlZiQgPSByZXF1aXJlKCdwcmVsdWRlLWxzJyksIGlkID0gcmVmJC5pZCwga2V5cyA9IHJlZiQua2V5cywgdmFsdWVzID0gcmVmJC52YWx1ZXM7XG5MUyA9IHJlcXVpcmUoJ0xpdmVTY3JpcHQnKTtcbkNTID0gcmVxdWlyZSgnY29mZmVlLXNjcmlwdCcpO1xub3V0JC5FdmFsdWF0b3IgPSBFdmFsdWF0b3IgPSAoZnVuY3Rpb24oKXtcbiAgRXZhbHVhdG9yLmRpc3BsYXlOYW1lID0gJ0V2YWx1YXRvcic7XG4gIHZhciBzZWNBcmdzLCBwcm90b3R5cGUgPSBFdmFsdWF0b3IucHJvdG90eXBlLCBjb25zdHJ1Y3RvciA9IEV2YWx1YXRvcjtcbiAgc2VjQXJncyA9IFsnd2luZG93JywgJ3RvcCcsICdkb2N1bWVudCddO1xuICBmdW5jdGlvbiBFdmFsdWF0b3IobGFuZyl7XG4gICAgbGFuZyA9PSBudWxsICYmIChsYW5nID0gJ2phdmFzY3JpcHQnKTtcbiAgICBsb2coXCJuZXcgRXZhbHVhdG9yIChcIiArIGxhbmcgKyBcIilcIik7XG4gICAgdGhpcy5zY29wZSA9IHt9O1xuICAgIHRoaXMuZ2xvYmFscyA9IHt9O1xuICAgIHRoaXMuY29tcGlsZSA9IChmdW5jdGlvbigpe1xuICAgICAgc3dpdGNoIChsYW5nKSB7XG4gICAgICBjYXNlICdsaXZlc2NyaXB0JzpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGl0KXtcbiAgICAgICAgICByZXR1cm4gTFMuY29tcGlsZShpdCwge1xuICAgICAgICAgICAgYmFyZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgY2FzZSAnY29mZmVlc2NyaXB0JzpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGl0KXtcbiAgICAgICAgICByZXR1cm4gQ1MuY29tcGlsZShpdCwge1xuICAgICAgICAgICAgYmFyZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgY2FzZSAnamF2YXNjcmlwdCc6XG4gICAgICAgIHJldHVybiBpZDtcbiAgICAgIH1cbiAgICB9KCkpO1xuICB9XG4gIHByb3RvdHlwZS5ldmFsID0gZnVuY3Rpb24oc291cmNlKXtcbiAgICB2YXIgYm9keSwgYXJncywgdmFscztcbiAgICBib2R5ID0gdGhpcy5jb21waWxlKHNvdXJjZSk7XG4gICAgYXJncyA9IGtleXModGhpcy5nbG9iYWxzKS5jb25jYXQoc2VjQXJncywgYm9keSk7XG4gICAgdmFscyA9IHZhbHVlcyh0aGlzLmdsb2JhbHMpO1xuICAgIHJldHVybiBGdW5jdGlvbi5hcHBseShudWxsLCBhcmdzKS5hcHBseSh0aGlzLnNjb3BlLCB2YWxzKTtcbiAgfTtcbiAgcmV0dXJuIEV2YWx1YXRvcjtcbn0oKSk7IiwiLy8gR2VuZXJhdGVkIGJ5IExpdmVTY3JpcHQgMS4zLjFcbnZhciBwcmVsdWRlLCBsb2csIGRlbGF5LCBzd2FsbG93LCBLZXksIG91dCQgPSB0eXBlb2YgZXhwb3J0cyAhPSAndW5kZWZpbmVkJyAmJiBleHBvcnRzIHx8IHRoaXM7XG5wcmVsdWRlID0gcmVxdWlyZSgncHJlbHVkZS1scycpO1xub3V0JC5sb2cgPSBsb2cgPSBmdW5jdGlvbigpe1xuICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuICByZXR1cm4gYXJndW1lbnRzWzBdO1xufTtcbm91dCQuZGVsYXkgPSBkZWxheSA9IHByZWx1ZGUuZmxpcChzZXRUaW1lb3V0KTtcbm91dCQuc3dhbGxvdyA9IHN3YWxsb3cgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0eXBlb2YgaXQucHJldmVudERlZmF1bHQgPT0gJ2Z1bmN0aW9uJyA/IGl0LnByZXZlbnREZWZhdWx0KCkgOiB2b2lkIDg7XG59O1xub3V0JC5LZXkgPSBLZXkgPSB7XG4gIEVOVEVSOiAxM1xufTsiLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxudmFyIGxvZywgV29ybGQyRCwgb3V0JCA9IHR5cGVvZiBleHBvcnRzICE9ICd1bmRlZmluZWQnICYmIGV4cG9ydHMgfHwgdGhpcztcbmxvZyA9IHJlcXVpcmUoJy4vaGVscGVycycpLmxvZztcbm91dCQuV29ybGQyRCA9IFdvcmxkMkQgPSAoZnVuY3Rpb24oKXtcbiAgV29ybGQyRC5kaXNwbGF5TmFtZSA9ICdXb3JsZDJEJztcbiAgdmFyIHByb3RvdHlwZSA9IFdvcmxkMkQucHJvdG90eXBlLCBjb25zdHJ1Y3RvciA9IFdvcmxkMkQ7XG4gIGZ1bmN0aW9uIFdvcmxkMkQoKXtcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB0aGlzLnRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuzpR0ID0gMDtcbiAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgfVxuICBwcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHRoaXMkID0gdGhpcztcbiAgICB0aGlzLmNhbnZhcy5jbGFzc05hbWUgPSAnY2FudmFzJztcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICByZXR1cm4gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGFyZyQpe1xuICAgICAgdmFyIHdoaWNoLCBzaGlmdEtleTtcbiAgICAgIHdoaWNoID0gYXJnJC53aGljaCwgc2hpZnRLZXkgPSBhcmckLnNoaWZ0S2V5O1xuICAgICAgaWYgKHdoaWNoID09PSAyNykge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJIYWx0aW5nIGZyYW1lIGxvb3BcIik7XG4gICAgICAgIHJldHVybiB0aGlzJC5ydW5uaW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIHByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMud2lkdGg7XG4gIH07XG4gIHByb3RvdHlwZS5pbnN0YWxsID0gZnVuY3Rpb24oaG9zdCl7XG4gICAgcmV0dXJuIGhvc3QuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpO1xuICB9O1xuICBwcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbijOuyl7XG4gICAgdGhpcy5pbml0KCk7XG4gICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcy5mcmFtZSjOuyk7XG4gIH07XG4gIHByb3RvdHlwZS5mcmFtZSA9IGZ1bmN0aW9uKM67KXtcbiAgICB2YXIgbm93LCB0aGlzJCA9IHRoaXM7XG4gICAgaWYgKHRoaXMucnVubmluZykge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzJC5mcmFtZSjOuyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgbm93ID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLs6UdCA9IG5vdyAtIHRoaXMudGltZTtcbiAgICB0aGlzLnRpbWUgPSBub3c7XG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHJldHVybiB0eXBlb2YgzrsgPT0gJ2Z1bmN0aW9uJyA/IM67KHRoaXMudGltZSwgdGhpcy7OlHQpIDogdm9pZCA4O1xuICB9O1xuICByZXR1cm4gV29ybGQyRDtcbn0oKSk7IiwiLy8gR2VuZXJhdGVkIGJ5IExpdmVTY3JpcHQgMS4zLjFcbnZhciBsb2csIFdvcmxkM0QsIG91dCQgPSB0eXBlb2YgZXhwb3J0cyAhPSAndW5kZWZpbmVkJyAmJiBleHBvcnRzIHx8IHRoaXM7XG5sb2cgPSByZXF1aXJlKCcuL2hlbHBlcnMnKS5sb2c7XG5vdXQkLldvcmxkM0QgPSBXb3JsZDNEID0gKGZ1bmN0aW9uKCl7XG4gIFdvcmxkM0QuZGlzcGxheU5hbWUgPSAnV29ybGQzRCc7XG4gIHZhciBwcm90b3R5cGUgPSBXb3JsZDNELnByb3RvdHlwZSwgY29uc3RydWN0b3IgPSBXb3JsZDNEO1xuICBmdW5jdGlvbiBXb3JsZDNEKCl7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDc1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMC4xLCAxMDAwKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuzpR0ID0gMDtcbiAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgfVxuICBwcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHRoaXMkID0gdGhpcztcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50LmNsYXNzTmFtZSA9ICdjYW52YXMnO1xuICAgIHJldHVybiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oYXJnJCl7XG4gICAgICB2YXIgd2hpY2gsIHNoaWZ0S2V5O1xuICAgICAgd2hpY2ggPSBhcmckLndoaWNoLCBzaGlmdEtleSA9IGFyZyQuc2hpZnRLZXk7XG4gICAgICBpZiAod2hpY2ggPT09IDI3KSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkhhbHRpbmcgZnJhbWUgbG9vcFwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMkLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgcHJvdG90eXBlLmluc3RhbGwgPSBmdW5jdGlvbihob3N0KXtcbiAgICByZXR1cm4gaG9zdC5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICB9O1xuICBwcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbijOuyl7XG4gICAgdGhpcy5pbml0KCk7XG4gICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcy5mcmFtZSjOuyk7XG4gIH07XG4gIHByb3RvdHlwZS5mcmFtZSA9IGZ1bmN0aW9uKM67LCBjdHgpe1xuICAgIHZhciBub3csIHRoaXMkID0gdGhpcztcbiAgICBpZiAodGhpcy5ydW5uaW5nKSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMkLmZyYW1lKM67LCBjdHgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIG5vdyA9IERhdGUubm93KCk7XG4gICAgdGhpcy7OlHQgPSBub3cgLSB0aGlzLnRpbWU7XG4gICAgdGhpcy50aW1lID0gbm93O1xuICAgIGlmICjOuyAhPSBudWxsKSB7XG4gICAgICDOuy5jYWxsKGN0eCwgdGhpcy50aW1lLCB0aGlzLs6UdCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gIH07XG4gIHJldHVybiBXb3JsZDNEO1xufSgpKTsiXX0=
